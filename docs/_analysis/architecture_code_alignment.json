{
  "report_id": "architecture_code_alignment",
  "report_date": "2025-12-10",
  "phase": 16,
  "document_base": "Phase 14 Updated Architecture Docs",

  "view_system": {
    "alignment_score": 35,
    "status": "SKELETON_WITH_LOGIC_NOT_INTEGRATED",
    "documented_components": [
      "ViewRegistry",
      "NavigationRegistry",
      "DynamicRouter",
      "viewTemplates in manifest"
    ],
    "implemented_components": {
      "ViewRegistry": {
        "file": "packages/cms-core/src/view/ViewRegistry.ts",
        "status": "EXISTS_NOT_WIRED",
        "notes": "Full implementation but only used by forum-app"
      },
      "NavigationRegistry": {
        "file": "packages/cms-core/src/navigation/NavigationRegistry.ts",
        "status": "EXISTS_NOT_WIRED",
        "notes": "Implemented but not connected to manifest loading"
      },
      "DynamicRouter": {
        "file": "packages/cms-core/src/router/DynamicRouter.ts",
        "status": "EXISTS_NOT_WIRED",
        "notes": "Route generation logic present but not integrated"
      }
    },
    "adoption_rate": {
      "apps_with_viewTemplates": 1,
      "total_apps": 20,
      "percentage": 5
    },
    "gaps": [
      {
        "id": "VS-001",
        "severity": "HIGH",
        "description": "ViewRegistry not integrated with AppManager activation flow"
      },
      {
        "id": "VS-002",
        "severity": "HIGH",
        "description": "Only forum-app declares viewTemplates in manifest"
      },
      {
        "id": "VS-003",
        "severity": "MEDIUM",
        "description": "DynamicRouter not connected to actual routing system"
      }
    ]
  },

  "module_loader_appmanager": {
    "alignment_score": 95,
    "status": "FULLY_IMPLEMENTED",
    "documented_separation": {
      "ModuleLoader": "코드·모듈 로딩 (manifest.ts 파싱, exposes 추출)",
      "AppManager": "상태·활성화·Lifecycle 관리"
    },
    "implemented_separation": {
      "ModuleLoader": {
        "file": "apps/api-server/src/modules/module-loader.ts",
        "responsibilities": [
          "Dynamic module loading",
          "Manifest parsing",
          "Entity/Service/Controller extraction"
        ]
      },
      "AppManager": {
        "file": "apps/api-server/src/services/AppManager.ts",
        "lines": 950,
        "responsibilities": [
          "App state management",
          "Lifecycle hook execution",
          "Registry updates",
          "Dependency resolution"
        ]
      }
    },
    "gaps": [
      {
        "id": "ML-001",
        "severity": "LOW",
        "description": "Some lifecycle methods could be better documented"
      }
    ]
  }
}
