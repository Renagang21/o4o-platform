{
  "title": "Specs Design Alignment Check",
  "audit_date": "2025-12-10",
  "criteria": "각 앱 스펙이 전체 설계(architecture)와 일치하는지 검사",
  "apps_analyzed": 17,
  "results": {
    "cpt_structure_alignment": {
      "status": "PARTIAL",
      "score": 78,
      "checks": [
        {
          "app": "forum-app",
          "cpt_defined": ["forum_post", "forum_category", "forum_comment"],
          "spec_documented": true,
          "implementation_match": true
        },
        {
          "app": "dropshipping-core",
          "cpt_defined": ["product_master", "product_offer", "listing", "order_relay"],
          "spec_documented": true,
          "implementation_match": true
        },
        {
          "app": "organization-core",
          "cpt_defined": ["organization", "membership"],
          "spec_documented": true,
          "implementation_match": true
        },
        {
          "app": "cms-core",
          "cpt_defined": ["page", "post", "media"],
          "spec_documented": false,
          "implementation_match": "UNKNOWN"
        }
      ],
      "gaps": [
        "cms-core CPT 스펙 문서 누락",
        "일부 앱 CPT 스펙 상세 부족"
      ]
    },
    "api_structure_alignment": {
      "status": "PASS",
      "score": 85,
      "checks": [
        {
          "app": "dropshipping-core",
          "routes_defined": 25,
          "spec_documented": true,
          "implementation_match": true
        },
        {
          "app": "partnerops",
          "routes_defined": 18,
          "spec_documented": true,
          "spec_path": "docs/specs/partnerops/partnerops-api.md"
        },
        {
          "app": "sellerops",
          "routes_defined": 8,
          "spec_documented": true,
          "spec_path": "docs/specs/sellerops/"
        }
      ],
      "pattern_check": {
        "RESTful_compliance": "PASS - 대부분 REST 규칙 준수",
        "route_prefix_convention": "PASS - /api/v1/{app}/ 패턴 일관",
        "response_format": "PARTIAL - 일부 앱 응답 포맷 비표준"
      }
    },
    "event_flow_alignment": {
      "status": "PASS",
      "score": 88,
      "checks": [
        {
          "app": "dropshipping-core",
          "events_published": ["order.created", "order.relay.dispatched", "settlement.closed"],
          "events_subscribed": [],
          "documented": true
        },
        {
          "app": "sellerops",
          "events_published": ["sellerops.listing.created", "sellerops.notification.sent"],
          "events_subscribed": ["product.master.updated", "order.created"],
          "documented": true
        },
        {
          "app": "partnerops",
          "events_published": ["partner.registered", "partner.link.clicked"],
          "events_subscribed": ["order.created", "commission.applied"],
          "documented": true
        }
      ],
      "event_chain_validation": {
        "status": "PASS",
        "description": "이벤트 발행/구독 체인 논리적 일관성 확인됨"
      }
    },
    "view_mapping_alignment": {
      "status": "NOT_APPLICABLE",
      "score": 0,
      "reason": "View System 미구현으로 검증 불가",
      "documented_views": [
        "forum-app: ListView, DetailView, EditView",
        "dropshipping-core: ProductListView, OfferView"
      ],
      "implementation_status": "PENDING"
    },
    "manifest_spec_alignment": {
      "status": "PASS",
      "score": 95,
      "checks": [
        {
          "item": "appId 표준",
          "compliance": "17/17 앱 준수"
        },
        {
          "item": "displayName 표준",
          "compliance": "17/17 앱 준수"
        },
        {
          "item": "appType 표준",
          "compliance": "17/17 앱 준수"
        },
        {
          "item": "dependencies.core 표준",
          "compliance": "17/17 앱 준수"
        },
        {
          "item": "lifecycle 표준",
          "compliance": "17/17 앱 준수"
        },
        {
          "item": "backend.routesExport 표준",
          "compliance": "17/17 앱 준수"
        }
      ]
    }
  },
  "app_by_app_summary": [
    {"app": "cms-core", "type": "core", "alignment_score": 85, "issues": ["CPT 스펙 문서 부족"]},
    {"app": "organization-core", "type": "core", "alignment_score": 90, "issues": []},
    {"app": "forum-app", "type": "core", "alignment_score": 92, "issues": []},
    {"app": "dropshipping-core", "type": "core", "alignment_score": 90, "issues": []},
    {"app": "lms-core", "type": "core", "alignment_score": 88, "issues": ["스펙 상세 부족"]},
    {"app": "forum-yaksa", "type": "extension", "alignment_score": 85, "issues": []},
    {"app": "membership-yaksa", "type": "extension", "alignment_score": 85, "issues": []},
    {"app": "dropshipping-cosmetics", "type": "extension", "alignment_score": 88, "issues": []},
    {"app": "organization-forum", "type": "extension", "alignment_score": 82, "issues": ["서비스 구현 미완"]},
    {"app": "organization-lms", "type": "extension", "alignment_score": 82, "issues": ["서비스 구현 미완"]},
    {"app": "sellerops", "type": "extension", "alignment_score": 75, "issues": ["빌드 에러", "타입 불일치"]},
    {"app": "supplierops", "type": "extension", "alignment_score": 88, "issues": []},
    {"app": "partnerops", "type": "extension", "alignment_score": 70, "issues": ["서비스 파일 누락", "빌드 에러"]},
    {"app": "lms-yaksa", "type": "extension", "alignment_score": 85, "issues": []},
    {"app": "reporting-yaksa", "type": "extension", "alignment_score": 88, "issues": []},
    {"app": "cosmetics-seller-extension", "type": "extension", "alignment_score": 80, "issues": ["일부 모듈 누락"]},
    {"app": "signage", "type": "unknown", "alignment_score": 60, "issues": ["미분석"]}
  ],
  "overall_score": 83.5,
  "grade": "B",
  "summary": {
    "well_aligned": [
      "Manifest 표준 완전 준수 (17/17)",
      "Event Flow 문서화 양호",
      "API Route 패턴 일관성",
      "의존성 구조 명확"
    ],
    "needs_improvement": [
      "View System 구현 및 연동",
      "일부 Core 앱 CPT 스펙 보완",
      "빌드 에러 앱 수정 필요"
    ],
    "critical_gaps": [
      "partnerops: 서비스 파일 전체 누락",
      "sellerops: dropshipping-core Entity 필드 불일치"
    ]
  }
}
