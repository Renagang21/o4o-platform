{
  "title": "Architecture Structure Consistency Check",
  "audit_date": "2025-12-10",
  "documents_analyzed": [
    "docs/design/architecture/cms-overview.md",
    "docs/design/architecture/appstore-overview.md",
    "docs/design/architecture/module-loader-spec.md",
    "docs/design/architecture/extension-lifecycle.md",
    "docs/design/architecture/view-system.md"
  ],
  "consistency_matrix": {
    "concept_alignment": {
      "status": "PASS",
      "score": 95,
      "checks": [
        {
          "item": "앱 정의 개념",
          "docs": ["cms-overview", "appstore-overview", "module-loader-spec"],
          "result": "CONSISTENT",
          "description": "manifest.ts 기반 앱 정의가 모든 문서에서 일관됨"
        },
        {
          "item": "Lifecycle 개념",
          "docs": ["appstore-overview", "module-loader-spec", "extension-lifecycle"],
          "result": "CONSISTENT",
          "description": "install/activate/deactivate/uninstall 4단계 일관"
        },
        {
          "item": "Registry 개념",
          "docs": ["cms-overview", "appstore-overview"],
          "result": "CONSISTENT",
          "description": "Central Registry 패턴 일관"
        }
      ]
    },
    "data_flow_alignment": {
      "status": "PASS",
      "score": 90,
      "checks": [
        {
          "item": "앱 설치 플로우",
          "docs": ["appstore-overview", "module-loader-spec"],
          "result": "CONSISTENT",
          "flow": "manifest.ts → Module Loader → App Registry → Entities/Routes/Services"
        },
        {
          "item": "CMS 등록 플로우",
          "docs": ["cms-overview", "appstore-overview"],
          "result": "CONSISTENT",
          "flow": "앱 설치 → manifest 분석 → CPT/ACF/View 등록 → Dynamic Routing"
        },
        {
          "item": "View 렌더링 플로우",
          "docs": ["cms-overview", "view-system"],
          "result": "PARTIAL",
          "issue": "실제 구현과 문서 간 갭 존재 (View Registry 미구현)"
        }
      ]
    },
    "module_loader_manifest_lifecycle_connection": {
      "status": "PASS",
      "score": 92,
      "checks": [
        {
          "item": "Manifest → ModuleLoader 연결",
          "result": "CONSISTENT",
          "description": "manifest.ts 파싱 → backend/lifecycle 로딩 일관"
        },
        {
          "item": "ModuleLoader → Lifecycle 연결",
          "result": "CONSISTENT",
          "description": "install/activate hook 실행 순서 일관"
        },
        {
          "item": "Lifecycle → Registry 연결",
          "result": "CONSISTENT",
          "description": "앱 상태 변경 → AppRegistry 업데이트 일관"
        }
      ]
    },
    "cpt_acf_view_linkage": {
      "status": "PARTIAL",
      "score": 75,
      "checks": [
        {
          "item": "CPT Registry 연결",
          "result": "IMPLEMENTED",
          "description": "cpt-registry 패키지 + AppManager 연동 완료"
        },
        {
          "item": "ACF Registry 연결",
          "result": "IMPLEMENTED",
          "description": "ACFRegistry 클래스 + AppManager 연동 완료"
        },
        {
          "item": "View Registry 연결",
          "result": "NOT_IMPLEMENTED",
          "description": "View Registry 미구현, 문서만 존재"
        },
        {
          "item": "Navigation 연동",
          "result": "PARTIAL",
          "description": "manifest.menus 정의 있으나 동적 메뉴 생성 미완"
        }
      ],
      "gaps": [
        "View Registry 구현 필요",
        "Dynamic Router 구현 필요",
        "Navigation Registry 구현 필요"
      ]
    }
  },
  "cross_document_conflicts": [
    {
      "severity": "LOW",
      "documents": ["module-loader-spec", "appstore-overview"],
      "issue": "Module Loader vs AppManager 역할 구분 불명확",
      "resolution": "Module Loader는 로딩, AppManager는 상태관리로 역할 분리 필요"
    },
    {
      "severity": "MEDIUM",
      "documents": ["cms-overview", "view-system"],
      "issue": "View System 구현 현실과 문서 간 갭",
      "resolution": "View Registry/Dynamic Router 구현 또는 문서 현실화 필요"
    }
  ],
  "terminology_consistency": {
    "status": "PASS",
    "score": 95,
    "verified_terms": [
      {"term": "manifest", "usage": "일관됨 - 앱 메타데이터 정의 파일"},
      {"term": "lifecycle", "usage": "일관됨 - install/activate/deactivate/uninstall"},
      {"term": "CPT", "usage": "일관됨 - Custom Post Type"},
      {"term": "ACF", "usage": "일관됨 - Advanced Custom Fields"},
      {"term": "View", "usage": "일관됨 - 화면 구성 컴포넌트"}
    ]
  },
  "overall_score": 88.5,
  "grade": "B+",
  "summary": {
    "consistent_areas": [
      "앱 정의 및 Manifest 구조",
      "Lifecycle Hook 개념 및 순서",
      "Registry 패턴 (CPT, ACF, App)",
      "의존성 관리 흐름",
      "용어 일관성"
    ],
    "inconsistent_areas": [
      "View System (문서 vs 구현 갭)",
      "Module Loader vs AppManager 역할 중복",
      "Dynamic Routing 미구현"
    ],
    "recommendations": [
      "View Registry 구현 계획 수립",
      "Module Loader / AppManager 역할 명확화 문서 추가",
      "Navigation Registry 구현"
    ]
  }
}
