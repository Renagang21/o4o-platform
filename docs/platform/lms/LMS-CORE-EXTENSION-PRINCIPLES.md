# LMS Core-Extension 분리 원칙

> **문서 상태**: 기준 문서 (확정)
> **적용 범위**: LMS 관련 모든 개발
> **관련 문서**: `LMS-CORE-DATA-OWNERSHIP.md`, `LMS-CORE-CONTRACT.md`, `LMS-EVENT-STANDARD.md`

---

## 1. 왜 Core와 Extension을 분리하는가

### 문제 인식

LMS 기능을 단일 모듈로 개발할 경우:
- 특정 도메인(예: 약사회)에 종속된 코드가 Core에 침투
- 재사용이 어려워짐
- 유지보수 복잡도 증가

### 해결 방향

- **LMS Core**: 모든 학습 시스템에 공통으로 필요한 기능
- **LMS Extension (예: Yaksa)**: 특정 도메인에 특화된 기능

---

## 2. LMS Core가 담당하는 것

| 기능 | 설명 |
|------|------|
| 강좌 구조 | 강좌, 섹션, 레슨의 기본 구조 |
| 학습 진도 | 진도율, 완료 상태 기본 추적 |
| 수강 등록 | 수강 등록/해제 기본 메커니즘 |
| 콘텐츠 연결 | Content Core와의 연동 |
| 기본 이벤트 | 학습 시작, 완료 등 공통 이벤트 |

---

## 3. Extension이 담당하는 것 (예: Yaksa Extension)

| 기능 | 설명 |
|------|------|
| 인증 포인트 | 약사회 평점 연동 |
| 도메인 규칙 | 약사회 특화 수료 조건 |
| 외부 연동 | 약사회 시스템 API 연동 |
| 특화 UI | 약사회 대시보드 커스터마이징 |
| 특화 리포트 | 약사회 형식 이수증 발급 |

---

## 4. 분리 경계 원칙

### 허용되는 의존성

```
Extension → Core (의존 허용)
```

- Extension은 Core의 API, 이벤트, 데이터 타입을 사용할 수 있다

### 금지되는 의존성

```
Core → Extension (의존 금지)
```

- Core는 어떤 Extension도 알지 못해야 한다
- Core 코드에 Extension 이름이 등장하면 위반이다

---

## 5. 판단 기준

새로운 기능을 어디에 넣을지 판단할 때:

| 질문 | Core | Extension |
|------|------|-----------|
| 모든 LMS에 필요한가? | ✅ | |
| 특정 도메인에만 필요한가? | | ✅ |
| 외부 시스템 연동이 필요한가? | | ✅ |
| 도메인 특화 규칙인가? | | ✅ |

---

## 6. 확장 시나리오

새로운 도메인(예: 의사회, 간호협회)이 추가될 때:

1. LMS Core는 **수정하지 않는다**
2. 새로운 Extension을 생성한다 (예: `lms-medical-extension`)
3. 해당 Extension이 Core API를 활용하여 도메인 규칙을 구현한다

---

## 7. 기준 적용 시점

이 기준은 다음 작업에 선행하여 적용된다:

- LMS 관련 신규 기능 개발
- 기존 LMS 코드 리팩토링
- 새로운 도메인 LMS 확장

---

## 8. 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-19 | 1.0 | 최초 작성 |

---

*이 문서는 o4o 플랫폼 개발의 기준 문서입니다. 변경 시 CLAUDE.md 규칙에 따라 승인이 필요합니다.*
