# Forum 연결 기준 체크리스트 v1.0

> **상태**: LOCKED (v1.0)
> **시행일**: 2025-12-28
> **변경 정책**: 본 문서는 수정 불가. 변경 시 v2.0 신규 문서로 대체

---

## 1. 서론

### 1.1 문서의 목적

본 문서는 **서비스가 Forum을 연결해야 하는지** 판단하는 기준을 명확히 정의한다.

- Forum이 **반드시 필요한 조건** (MUST)
- Forum이 **선택적인 조건** (OPTIONAL)
- Forum을 **배제해야 하는 조건** (EXCLUDED)

이를 통해 서비스 기획 단계에서 Forum 연결 여부를 감정/사후논쟁 없이 즉시 판정할 수 있다.

### 1.2 왜 Forum 연결 기준이 필요한가

| 문제 | 해결책 |
|------|--------|
| "우리 서비스도 게시판 있으면 좋겠는데" | 명확한 판정 기준으로 결정 |
| Forum 남용 (불필요한 확장) | EXCLUDED 조건으로 차단 |
| Forum 누락 (필요한데 없음) | MUST 조건으로 강제 |
| 기획자/개발자 간 해석 충돌 | 체크리스트로 객관화 |

### 1.3 문서의 지위

- 본 문서는 **CLAUDE.md**에 종속되며, 충돌 시 CLAUDE.md가 우선한다.
- **서비스별 기본 인프라 선언 문서 v1.0**과 연계하여 사용한다.
- Forum 관련 모든 개발은 본 문서의 기준을 따른다.

---

## 2. Forum Core 최소 책임 재확인

### 2.1 Forum Core가 하는 것 (MUST)

| 책임 | 설명 |
|------|------|
| 게시물 CRUD | 작성/조회/수정/삭제 |
| 댓글/대댓글 | 계층형 댓글 구조 |
| 카테고리/태그 | 게시물 분류 체계 |
| 첨부파일 | 이미지/문서 업로드 |
| 신고/중재 | 부적절 컨텐츠 관리 |
| 권한 제어 | 읽기/쓰기/관리 권한 |
| 알림 | 댓글/답글 알림 |

### 2.2 Forum Core가 하지 않는 것 (MUST NOT)

| 금지 | 이유 |
|------|------|
| 자동 교육 연계 | LMS Core 책임 |
| 자동 전파/배포 | Signage Core 책임 |
| 컨텐츠 승격 결정 | 비즈니스 로직 |
| 추천/큐레이션 | Extension 책임 |
| AI 요약/분석 | v1 범위 외 |

> Forum은 **"의견을 모으고 분류"**할 뿐,
> **"그 의견을 어떻게 활용할지"**는 결정하지 않는다.

---

## 3. Forum 연결 판정 체크리스트

### 3.1 MUST (필수 연결) 조건

다음 중 **2개 이상** 해당되면 Forum 연결이 **필수**다.

| # | 체크 항목 | 예시 |
|---|-----------|------|
| □ | 조직/집단의 **상호 피드백**이 서비스 핵심 가치 | 약사회 지부 의견 수렴 |
| □ | **전문가 간 지식 공유**가 서비스 품질에 직접 영향 | 약국 경영 노하우 |
| □ | 사용자 **커뮤니티 형성**이 리텐션에 필수 | 당뇨 환자 커뮤니티 |
| □ | **공지/소통** 채널이 운영에 필수 | 협회 공지사항 |
| □ | 사용자 생성 컨텐츠(UGC)가 **서비스 자산** | 제품 리뷰 DB |

### 3.2 OPTIONAL (선택 연결) 조건

다음 중 **1개 이상** 해당되면 Forum 연결은 **선택**이다.

| # | 체크 항목 | 예시 |
|---|-----------|------|
| □ | 리뷰/후기가 **보조 가치** 제공 | 제품 후기 게시판 |
| □ | Q&A가 CS 부담을 **경감** | 자주 묻는 질문 |
| □ | 사용자 의견 수집이 **개선에 참고** | 피드백 수집 |
| □ | 이벤트/캠페인 **참여 공간** | 이벤트 게시판 |

### 3.3 EXCLUDED (배제) 조건

다음 중 **1개라도** 해당되면 Forum을 **연결하지 않는다**.

| # | 체크 항목 | 이유 |
|---|-----------|------|
| □ | **개인 의료/건강 데이터** 논의 | 개인정보보호 |
| □ | **금융/결제** 민감 정보 | 보안 위험 |
| □ | **1:1 상담**만 필요 (다자 토론 불필요) | Forum 과잉 |
| □ | 사용자 수 **극소수** (10명 미만) | ROI 부적합 |
| □ | 법적 제한 (의료광고법 등) | 규제 준수 |

---

## 4. 판정 플로우차트

```
[시작]
   │
   ▼
┌─────────────────────────┐
│ EXCLUDED 조건 해당?     │
└───────────┬─────────────┘
            │
     ┌──────┴──────┐
     ▼             ▼
   [YES]         [NO]
     │             │
     ▼             ▼
 ╔═══════╗   ┌─────────────────────┐
 ║ 배제  ║   │ MUST 조건 2개 이상? │
 ╚═══════╝   └───────────┬─────────┘
                         │
              ┌──────────┴──────────┐
              ▼                     ▼
            [YES]                 [NO]
              │                     │
              ▼                     ▼
          ╔═══════╗   ┌─────────────────────┐
          ║ 필수  ║   │ OPTIONAL 조건 1개+? │
          ╚═══════╝   └───────────┬─────────┘
                                  │
                       ┌──────────┴──────────┐
                       ▼                     ▼
                     [YES]                 [NO]
                       │                     │
                       ▼                     ▼
                   ╔═══════╗             ╔═══════╗
                   ║ 선택  ║             ║ 배제  ║
                   ╚═══════╝             ╚═══════╝
```

---

## 5. Extension 설계 원칙

Forum을 연결하는 서비스는 **Extension**을 통해 확장한다.

### 5.1 Contract 사용 필수

Extension은 **ForumContractClient**를 통해서만 Forum Core에 접근한다.

```typescript
import { ForumContractClient } from '@o4o/forum-core';

const client = new ForumContractClient(baseUrl, authToken);
await client.boards.create({ name: '지부 게시판', categoryId: '...' });
```

### 5.2 ownsTables 정책

| 권장 | 설명 |
|------|------|
| `ownsTables: []` | Forum Core 테이블만 사용 (권장) |
| `ownsTables: ['ext_*']` | Extension 전용 테이블이 필요한 경우 |

### 5.3 비즈니스 로직 캡슐화

Extension은 자체 Service로 비즈니스 로직을 캡슐화한다.

| Extension | 비즈니스 로직 예시 |
|-----------|-------------------|
| forum-yaksa | 지부별 게시판 자동 생성, 임원 공지 권한 |
| forum-cosmetics | 제품 리뷰 연동, 리뷰 보상 로직 |

---

## 6. Admin / Frontend 최소 계약

### 6.1 Core Admin

| 제공 | 범위 |
|------|------|
| 게시판 관리 | 개발/디버깅용 |
| 게시물 목록 | 기본 조회 |
| 신고 관리 | 컨텐츠 중재 |

### 6.2 Extension Admin

| 책임 | 예시 |
|------|------|
| 서비스별 게시판 설정 | 지부별 권한 설정 |
| 컨텐츠 워크플로우 | 공지 승인 프로세스 |
| 통계/분석 | 게시판 활성도 대시보드 |

### 6.3 Frontend

| 제공자 | 범위 |
|--------|------|
| Core | 기본 게시판 UI 컴포넌트 |
| Extension | 서비스 맞춤 레이아웃 |

---

## 7. 서비스별 적용 가이드

### 7.1 적용 매트릭스

| 서비스 | Forum 필요성 | 판정 근거 | Extension |
|--------|-------------|-----------|-----------|
| **Yaksa** | 필수 | 지부 의견 수렴 + 전문가 공유 | forum-yaksa ✅ |
| **GlycoPharmacy** | 선택 | 약국 운영 Q&A | forum-glyco |
| **GlucoseView** | 배제 | 개인 건강 데이터 | ❌ |
| **Cosmetics** | 선택 | 제품 리뷰/후기 | forum-cosmetics |
| **Dropshipping** | 선택 | 셀러 Q&A | forum-seller |
| **GroupBuy** | 선택 | 캠페인 후기 | (없음) |
| **Travel** | 선택 | 여행 후기/팁 | forum-travel |

### 7.2 상세 판정 예시

#### Yaksa (필수)

| 체크 항목 | 해당 |
|-----------|------|
| 조직 상호 피드백 | ✅ 지부 의견 수렴 |
| 전문가 지식 공유 | ✅ 약국 경영 노하우 |
| 공지/소통 채널 | ✅ 협회 공지 |

**결과**: MUST 조건 3개 → **필수**

#### GlucoseView (배제)

| 체크 항목 | 해당 |
|-----------|------|
| 개인 의료/건강 데이터 | ✅ 혈당 기록 |

**결과**: EXCLUDED 조건 해당 → **배제**

---

## 8. v1.0 고정 선언

### 8.1 변경 정책

| 항목 | 정책 |
|------|------|
| 본 문서 수정 | ❌ 금지 |
| 체크 항목 추가/삭제 | v2.0 신규 문서 필요 |
| 판정 기준 변경 | v2.0 신규 문서 필요 |

### 8.2 예외 허용

다음의 경우에만 v1.x 패치 허용:

- 오타/문법 수정
- 명확화를 위한 문구 보완 (의미 변경 없음)
- 예시 추가 (규칙 변경 없음)

### 8.3 시행일

- **Effective Date**: 2025-12-28
- **Document Version**: v1.0
- **Status**: LOCKED

---

## 부록 A: 관련 문서

| 문서 | 용도 |
|------|------|
| CLAUDE.md | 플랫폼 최상위 규칙 |
| 서비스별 기본 인프라 선언 문서 v1.0 | 서비스별 MUST/OPTIONAL 정의 |
| Digital Signage Core 최소 책임 정의서 v1.0 | Signage 연결 기준 |

---

## 부록 B: 체크리스트 요약 (Quick Reference)

### B.1 3초 판정

```
1. EXCLUDED 해당? → 배제
2. MUST 2개+?    → 필수
3. OPTIONAL 1개+? → 선택
4. 그 외          → 배제
```

### B.2 MUST 체크리스트 (2개 이상 = 필수)

- [ ] 조직/집단 상호 피드백이 핵심 가치
- [ ] 전문가 간 지식 공유가 품질에 직접 영향
- [ ] 커뮤니티 형성이 리텐션에 필수
- [ ] 공지/소통 채널이 운영에 필수
- [ ] UGC가 서비스 자산

### B.3 EXCLUDED 체크리스트 (1개라도 = 배제)

- [ ] 개인 의료/건강 데이터 논의
- [ ] 금융/결제 민감 정보
- [ ] 1:1 상담만 필요
- [ ] 사용자 수 극소수
- [ ] 법적 제한

---

*Document Version: 1.0*
*Created: 2025-12-28*
*Status: LOCKED*
