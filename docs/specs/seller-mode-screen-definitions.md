# Seller Mode 화면 정의서 (Frontend 팀 전달용)

> **작성일**: 2024-12-17
> **대상 App**: cosmetics-seller-extension
> **용도**: Frontend 팀에 전달하는 화면 구성 및 API 연동 명세
> **버전**: 1.0

---

## 개요

본 문서는 Seller Mode(판매원 모드)의 화면 구성을 정의합니다.
디자인 없이 **화면 흐름과 필요 컴포넌트**만 명시합니다.

### 화면 목록

| No | 화면명 | Route | 우선순위 |
|----|--------|-------|----------|
| 1 | 판매원 대시보드 | /cosmetics-seller/dashboard | P0 |
| 2 | 진열 관리 | /cosmetics-seller/displays | P0 |
| 3 | 샘플 관리 | /cosmetics-seller/samples | P0 |
| 4 | 재고 관리 | /cosmetics-seller/inventory | P1 |
| 5 | 상담 로그 | /cosmetics-seller/consultations | P0 |
| 6 | KPI 대시보드 | /cosmetics-seller/kpi | P1 |

---

## 1. 판매원 대시보드 (SellerDashboard)

### 1.1 화면 목적
판매원이 로그인 후 가장 먼저 보는 화면. 전체 현황을 한눈에 파악.

### 1.2 화면 구성

```
┌─────────────────────────────────────────────────────────────┐
│  판매원 대시보드                                              │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │
│  │ 진열 현황    │  │ 샘플 현황    │  │ 재고 현황    │         │
│  │             │  │             │  │             │         │
│  │ 총 진열: N  │  │ 총 샘플: N  │  │ 총 품목: N  │         │
│  │ 평균 페이싱 │  │ 부족: N     │  │ 부족: N     │         │
│  └─────────────┘  └─────────────┘  │ 품절: N     │         │
│                                    └─────────────┘         │
│  ┌─────────────────────────────────────────────────────────│
│  │ 상담 성과                                               │
│  │ 총 상담: N  |  전환율: N%                               │
│  └─────────────────────────────────────────────────────────│
│  ┌─────────────────────────────────────────────────────────│
│  │ 빠른 작업                                               │
│  │ [진열관리] [샘플관리] [재고관리] [상담기록] [KPI확인]     │
│  └─────────────────────────────────────────────────────────│
└─────────────────────────────────────────────────────────────┘
```

### 1.3 컴포넌트 목록

| 컴포넌트 | 설명 | 필수 |
|----------|------|------|
| StatCard | 통계 카드 (값 + 라벨) | ✅ |
| QuickActionButtons | 빠른 이동 버튼 그룹 | ✅ |

### 1.4 API 호출

| 순서 | API | 설명 | 병렬 |
|------|-----|------|------|
| 1 | GET /display/seller/:sellerId/stats | 진열 통계 | ✅ |
| 2 | GET /sample/seller/:sellerId/stats | 샘플 통계 | ✅ |
| 3 | GET /inventory/seller/:sellerId/stats | 재고 통계 | ✅ |
| 4 | GET /consultation/seller/:sellerId/stats | 상담 통계 | ✅ |

**초기 로딩**: 4개 API 병렬 호출 (Promise.all)

### 1.5 주요 인터랙션

| 액션 | 동작 |
|------|------|
| 빠른 작업 버튼 클릭 | 해당 관리 페이지로 이동 |
| 새로고침 | 통계 데이터 재조회 |

---

## 2. 진열 관리 (DisplayManagement)

### 2.1 화면 목적
매장 내 상품 진열 현황을 등록/조회/수정하는 화면.

### 2.2 화면 구성

```
┌─────────────────────────────────────────────────────────────┐
│  진열 관리                                    [+ 진열 추가]  │
├─────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 위치    │ 상품       │ 페이싱 │ 순서 │ 상태 │ 점검일  │ │
│  ├───────────────────────────────────────────────────────┤ │
│  │ 입구    │ 에센스 A   │ 3     │ 1   │ 노출 │ 12/15  │ │
│  │ 카운터  │ 크림 B     │ 2     │ 2   │ 숨김 │ 12/14  │ │
│  │ ...                                                    │ │
│  └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 2.3 컴포넌트 목록

| 컴포넌트 | 설명 | 필수 |
|----------|------|------|
| DataTable | 진열 목록 테이블 | ✅ |
| AddDisplayModal | 진열 추가 모달 | ✅ |
| EditDisplayModal | 진열 수정 모달 | ✅ |
| LocationSelect | 위치 선택 드롭다운 | ✅ |
| ProductSelector | 상품 검색/선택 | ✅ |

### 2.4 API 호출

| 액션 | API | Method |
|------|-----|--------|
| 목록 조회 | /display/seller/:sellerId | GET |
| 상세 조회 | /display/:id | GET |
| 신규 등록 | /display | POST |
| 수정 | /display/:id | PUT |
| 삭제 | /display/:id | DELETE |

### 2.5 주요 인터랙션

| 액션 | 동작 |
|------|------|
| [+ 진열 추가] 클릭 | AddDisplayModal 오픈 |
| 행 클릭 | EditDisplayModal 오픈 |
| 삭제 버튼 | 확인 후 삭제 |
| 위치 필터 | 선택한 위치의 진열만 표시 |

### 2.6 Form 필드

**진열 등록/수정 Form**

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| productId | ProductSelector | ✅ | 상품 선택 |
| location | Select | ✅ | 입구/카운터/진열대A/B/쇼윈도/프로모션존 |
| faceCount | Number | ✅ | 진열 페이스 수 (1-10) |
| displayOrder | Number | ⚪ | 진열 순서 |
| isVisible | Toggle | ⚪ | 노출 여부 |

---

## 3. 샘플 관리 (SampleManagement)

### 3.1 화면 목적
테스터/샘플 재고 현황 관리 및 보충/사용 기록.

### 3.2 화면 구성

```
┌─────────────────────────────────────────────────────────────┐
│  샘플 관리                                    [+ 샘플 추가]  │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │
│  │ 총 샘플     │  │ 부족 품목    │  │ 최근 사용량  │         │
│  │    42      │  │    5        │  │    15       │         │
│  └─────────────┘  └─────────────┘  └─────────────┘         │
├─────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 상품   │ 현재 │ 최소 │ 상태  │ 최근보충        │ 액션   │ │
│  ├───────────────────────────────────────────────────────┤ │
│  │ 에센스 │ 5    │ 3   │ 정상  │ 12/15 (+10)    │[보충] │ │
│  │ 크림   │ 2    │ 5   │ 부족  │ 12/10 (+5)     │[보충] │ │
│  └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 3.3 컴포넌트 목록

| 컴포넌트 | 설명 | 필수 |
|----------|------|------|
| StatsSummary | 상단 통계 요약 | ✅ |
| SampleTable | 샘플 목록 테이블 | ✅ |
| AddSampleModal | 샘플 추가 모달 | ✅ |
| RefillModal | 보충 입력 모달 | ✅ |
| UseSampleModal | 사용 기록 모달 | ✅ |
| StatusBadge | 상태 표시 (정상/부족) | ✅ |

### 3.4 API 호출

| 액션 | API | Method |
|------|-----|--------|
| 목록 조회 | /sample/seller/:sellerId | GET |
| 통계 조회 | /sample/seller/:sellerId/stats | GET |
| 부족 목록 | /sample/seller/:sellerId/low-stock | GET |
| 신규 등록 | /sample | POST |
| 보충 | /sample/:id/refill | POST |
| 사용 | /sample/:id/use | POST |
| 삭제 | /sample/:id | DELETE |

### 3.5 주요 인터랙션

| 액션 | 동작 |
|------|------|
| [보충] 클릭 | RefillModal 오픈, 수량 입력 후 refill API 호출 |
| [사용] 클릭 | UseSampleModal 오픈, 사용량 입력 후 use API 호출 |
| 부족 필터 | 부족 상태 샘플만 표시 |
| 행 하이라이트 | 부족 상태 행 강조 표시 |

### 3.6 Form 필드

**샘플 등록 Form**

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| productId | ProductSelector | ✅ | 상품 선택 |
| sampleType | Select | ⚪ | 데모용/증정용/테스터 |
| currentQuantity | Number | ✅ | 현재 수량 |
| minQuantity | Number | ✅ | 최소 수량 (알림 기준) |

**보충 Form**

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| quantity | Number | ✅ | 보충 수량 |

---

## 4. 재고 관리 (InventoryManagement)

### 4.1 화면 목적
매장 판매용 재고 현황 관리 및 입출고 조정.

### 4.2 화면 구성

```
┌─────────────────────────────────────────────────────────────┐
│  재고 관리                                    [+ 재고 추가]  │
├─────────────────────────────────────────────────────────────┤
│  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐   │
│  │ 총 품목   │ │ 총 수량   │ │ 재고부족   │ │ 품절      │   │
│  │   50     │ │   245    │ │   8       │ │   3      │   │
│  └───────────┘ └───────────┘ └───────────┘ └───────────┘   │
├─────────────────────────────────────────────────────────────┤
│  [일괄 재입고]                                               │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 상품   │ 현재 │ 재주문 │ 최대 │ 상태  │ 액션          │ │
│  ├───────────────────────────────────────────────────────┤ │
│  │ 에센스 │ 15   │ 10    │ 30  │ 정상  │ [입고] [조정] │ │
│  │ 크림   │ 3    │ 5     │ 20  │ 부족  │ [입고] [조정] │ │
│  │ 토너   │ 0    │ 5     │ 15  │ 품절  │ [입고] [조정] │ │
│  └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 4.3 컴포넌트 목록

| 컴포넌트 | 설명 | 필수 |
|----------|------|------|
| StatsSummary | 상단 통계 요약 (4칸) | ✅ |
| InventoryTable | 재고 목록 테이블 | ✅ |
| AddInventoryModal | 재고 추가 모달 | ✅ |
| AdjustModal | 재고 조정 모달 | ✅ |
| BulkRestockModal | 일괄 재입고 모달 | ⚪ |
| StatusBadge | 상태 표시 (정상/부족/품절) | ✅ |

### 4.4 API 호출

| 액션 | API | Method |
|------|-----|--------|
| 목록 조회 | /inventory/seller/:sellerId | GET |
| 통계 조회 | /inventory/seller/:sellerId/stats | GET |
| 부족 목록 | /inventory/seller/:sellerId/low-stock | GET |
| 신규 등록 | /inventory | POST |
| 재고 조정 | /inventory/:id/adjust | POST |
| 일괄 재입고 | /inventory/seller/:sellerId/bulk-restock | POST |
| 삭제 | /inventory/:id | DELETE |

### 4.5 주요 인터랙션

| 액션 | 동작 |
|------|------|
| [입고] 클릭 | AdjustModal 오픈 (+수량 입력) |
| [조정] 클릭 | AdjustModal 오픈 (+/- 수량 입력, 사유 입력) |
| [일괄 재입고] | BulkRestockModal 오픈, 다수 품목 한번에 입고 |
| 상태 필터 | 전체/부족/품절 필터링 |

### 4.6 Form 필드

**재고 조정 Form**

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| quantity | Number | ✅ | 조정 수량 (+입고/-출고) |
| reason | Select/Text | ✅ | 입고/출고/파손/분실/기타 |

---

## 5. 상담 로그 (ConsultationLog)

### 5.1 화면 목적
고객 상담 기록 관리 및 상담 결과 분석.

### 5.2 화면 구성

```
┌─────────────────────────────────────────────────────────────┐
│  상담 로그                                   [+ 상담 기록]   │
├─────────────────────────────────────────────────────────────┤
│  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐   │
│  │ 총 상담   │ │ 구매전환   │ │ 전환율    │ │ 평균시간   │   │
│  │   120    │ │   45     │ │   37.5%  │ │   12분   │   │
│  └───────────┘ └───────────┘ └───────────┘ └───────────┘   │
├─────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 일시          │ 상태     │ 추천 │ 구매 │ 시간 │ 비고  │ │
│  ├───────────────────────────────────────────────────────┤ │
│  │ 12/17 14:30  │ 구매완료  │ 3   │ 2   │ 15분 │ VIP   │ │
│  │ 12/17 11:20  │ 미구매    │ 2   │ 0   │ 8분  │ -     │ │
│  │ 12/17 10:00  │ 진행중    │ 1   │ -   │ -    │ -     │ │
│  └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 5.3 컴포넌트 목록

| 컴포넌트 | 설명 | 필수 |
|----------|------|------|
| StatsSummary | 상단 통계 요약 | ✅ |
| ConsultationTable | 상담 목록 테이블 | ✅ |
| NewConsultationModal | 새 상담 시작 모달 | ✅ |
| ConsultationDetailModal | 상담 상세/수정 모달 | ✅ |
| CompleteConsultationModal | 상담 완료 처리 모달 | ✅ |
| StatusBadge | 상태 표시 (진행중/구매완료/미구매/취소) | ✅ |
| ProductRecommendList | 추천 상품 목록 | ✅ |

### 5.4 API 호출

| 액션 | API | Method |
|------|-----|--------|
| 목록 조회 | /consultation/seller/:sellerId | GET |
| 통계 조회 | /consultation/seller/:sellerId/stats | GET |
| 최근 목록 | /consultation/seller/:sellerId/recent | GET |
| 상세 조회 | /consultation/:id | GET |
| 상담 시작 | /consultation | POST |
| 상담 수정 | /consultation/:id | PUT |
| 상담 완료 | /consultation/:id/complete | POST |
| 삭제 | /consultation/:id | DELETE |

### 5.5 주요 인터랙션

| 액션 | 동작 |
|------|------|
| [+ 상담 기록] 클릭 | NewConsultationModal 오픈 |
| 행 클릭 | ConsultationDetailModal 오픈 |
| [완료] 버튼 | CompleteConsultationModal 오픈, 결과 입력 |
| 상태 필터 | 전체/진행중/구매완료/미구매 필터링 |
| 날짜 필터 | 기간별 조회 |

### 5.6 Form 필드

**상담 시작 Form**

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| customerId | Text | ⚪ | 고객 ID (회원 연동 시) |
| skinType | Select | ⚪ | 피부타입 |
| concerns | MultiSelect | ⚪ | 피부고민 |

**상담 완료 Form**

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| resultStatus | Select | ✅ | completed/no_purchase/cancelled |
| recommendedProducts | ProductList | ⚪ | 추천 상품 목록 |
| purchasedProducts | ProductList | ⚪ | 실제 구매 상품 |
| notes | Textarea | ⚪ | 상담 메모 |

---

## 6. KPI 대시보드 (KPIDashboard)

### 6.1 화면 목적
판매원 성과 지표 조회 및 기간별 트렌드 분석.

### 6.2 화면 구성

```
┌─────────────────────────────────────────────────────────────┐
│  KPI 대시보드                                                │
├─────────────────────────────────────────────────────────────┤
│  ┌───────────────┐ ┌───────────────┐ ┌───────────────┐     │
│  │ 총 상담       │ │ 평균 전환율    │ │ 총 매출        │     │
│  │    350       │ │    42.3%      │ │ ₩1,250,000   │     │
│  └───────────────┘ └───────────────┘ └───────────────┘     │
├─────────────────────────────────────────────────────────────┤
│  [일별] [주별] [월별]                      [오늘 KPI 계산]   │
├─────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 기간        │ 상담 │ 전환율 │ 매출    │ 객단가 │ 신규 │ │
│  ├───────────────────────────────────────────────────────┤ │
│  │ 12/17       │ 12  │ 45%   │ ₩85,000│ ₩17,000│ 3   │ │
│  │ 12/16       │ 15  │ 40%   │ ₩72,000│ ₩12,000│ 5   │ │
│  └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 6.3 컴포넌트 목록

| 컴포넌트 | 설명 | 필수 |
|----------|------|------|
| KPISummaryCards | 상단 요약 카드 | ✅ |
| PeriodSelector | 일별/주별/월별 탭 | ✅ |
| KPITable | KPI 데이터 테이블 | ✅ |
| TrendChart | 트렌드 차트 (선택) | ⚪ |
| ComputeButton | KPI 계산 트리거 | ✅ |

### 6.4 API 호출

| 액션 | API | Method |
|------|-----|--------|
| 목록 조회 | /kpi/seller/:sellerId?periodType=xxx | GET |
| 요약 조회 | /kpi/seller/:sellerId/summary | GET |
| 일간 계산 | /kpi/seller/:sellerId/compute/daily | POST |
| 주간 계산 | /kpi/seller/:sellerId/compute/weekly | POST |
| 월간 계산 | /kpi/seller/:sellerId/compute/monthly | POST |

### 6.5 주요 인터랙션

| 액션 | 동작 |
|------|------|
| [일별/주별/월별] 탭 | periodType 변경 후 재조회 |
| [오늘 KPI 계산] | compute/daily API 호출 후 목록 갱신 |
| 행 클릭 | 상세 KPI 정보 표시 (선택) |

---

## 공통 컴포넌트

### 필수 공통 컴포넌트

| 컴포넌트 | 설명 | 사용 화면 |
|----------|------|----------|
| StatCard | 숫자 + 라벨 통계 카드 | 전체 |
| DataTable | 정렬/필터 지원 테이블 | 전체 |
| Modal | 모달 레이어 | 전체 |
| StatusBadge | 상태 표시 뱃지 | 전체 |
| ProductSelector | 상품 검색/선택 | 진열, 샘플, 재고 |
| Pagination | 페이지네이션 | 목록 화면 |
| Loading | 로딩 상태 | 전체 |
| ErrorMessage | 에러 표시 | 전체 |

### 디자인 코어 적용

- 모든 화면은 **Design Core v1.0** 적용
- 독자적 디자인 시스템 생성 금지
- packages/ui 컴포넌트 활용

---

## API Base Path

```
/api/v1/cosmetics-seller
```

### 공통 응답 형식

```typescript
// 성공
{
  success: true,
  data: { ... },
  message?: string
}

// 실패
{
  success: false,
  error: string,
  message: string
}
```

### 인증

- 모든 API는 인증 필요 (JWT)
- sellerId는 JWT에서 추출 (일부 API는 파라미터로 전달)

---

## 구현 우선순위

### Phase 1 (MVP)
1. SellerDashboard - 전체 현황 파악
2. ConsultationLog - 핵심 비즈니스 기능
3. DisplayManagement - 진열 관리

### Phase 2
4. SampleManagement - 샘플 관리
5. InventoryManagement - 재고 관리

### Phase 3
6. KPIDashboard - 성과 분석

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0 | 2024-12-17 | 초안 작성 |

