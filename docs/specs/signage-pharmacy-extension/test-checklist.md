# Digital Signage 전체 테스트 체크리스트 (개발용)

> **목적**: 기능이 아니라 "시스템이 깨지지 않는지"를 확인하는 체크리스트
>
> 이 문서는 **사람 없이도 반복 실행 가능한 테스트**를 전제로 합니다.

---

## A. Core 단독 테스트

### A-1. Action 실행 기본 흐름

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | execute (immediate) → RUNNING | [ ] | |
| 2 | execute (replace) → 기존 Action STOPPED → 신규 RUNNING | [ ] | |
| 3 | execute (reject) → 기존 Action 유지, REJECTED 반환 | [ ] | |
| 4 | duration 만료 → COMPLETED 전이 | [ ] | |
| 5 | stop 호출 → STOPPED 전이 | [ ] | |
| 6 | pause → PAUSED 전이 | [ ] | |
| 7 | resume → RUNNING 복귀 | [ ] | |

---

### A-2. Slot 점유 보호

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | Slot 당 동시 Action 1개 보장 | [ ] | |
| 2 | 다른 Slot에는 동시 실행 가능 | [ ] | |
| 3 | Slot 상태 조회 API 정확성 | [ ] | |
| 4 | STOP 후 Slot 즉시 해제 여부 | [ ] | |

---

### A-3. ActionExecution 무결성

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | ActionExecution이 단일 진실원인지 | [ ] | |
| 2 | Extension 화면과 Core 상태 불일치 없음 | [ ] | |
| 3 | 오래된 실행이 자동으로 RUNNING 유지되지 않는지 | [ ] | |

---

## B. Device Agent 테스트

### B-1. 정상 연결

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | Agent 기동 시 Core 연결 | [ ] | |
| 2 | Display/Slot 정상 등록 | [ ] | |
| 3 | Heartbeat 5초 주기 정상 수신 | [ ] | |

---

### B-2. 네트워크 장애

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | 실행 중 네트워크 끊김 → 즉시 STOP | [ ] | |
| 2 | 네트워크 복구 → Core 지시 대기 | [ ] | |
| 3 | 장애 중 로컬 재생 지속 ❌ (정책 확인) | [ ] | |

---

### B-3. 프로세스 장애

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | Agent 강제 종료 → 재기동 | [ ] | |
| 2 | 재기동 후 중복 Action 실행 없음 | [ ] | |
| 3 | 이전 Slot 상태 클린업 여부 | [ ] | |

---

## C. Extension(UI) 논리 테스트

### C-1. Quick Action

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | "즉시 실행" 클릭 → 실제 재생 시작 | [ ] | |
| 2 | 중복 클릭 시 replace 정상 동작 | [ ] | |
| 3 | stop 후 UI 상태 즉시 반영 | [ ] | |

---

### C-2. 프리셋 & 복제

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | 프리셋 선택 → MediaList 생성 | [ ] | |
| 2 | 복제된 Playlist 독립성 유지 | [ ] | |
| 3 | 원본 수정 시 복제본 영향 없음 | [ ] | |

---

### C-3. 긴급 공지

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | 긴급 공지 실행 → replace 실행 | [ ] | |
| 2 | 종료 후 원래 편성 복귀 | [ ] | |
| 3 | 연속 긴급 공지 실행 시 상태 꼬임 없음 | [ ] | |

---

## D. 경계 테스트 (Critical)

| # | 테스트 항목 | 상태 | 비고 |
|---|-----------|------|------|
| 1 | Extension이 Core 내부 데이터 직접 수정 ❌ | [ ] | |
| 2 | Core API 외 호출 ❌ | [ ] | |
| 3 | Agent가 콘텐츠 판단 ❌ | [ ] | |
| 4 | UI에서 "추측 상태" 표시 ❌ | [ ] | |

---

## 테스트 실행 기록

| 날짜 | 버전 | 실행자 | 결과 | 비고 |
|------|------|-------|------|------|
| | | | | |

---

*Created: 2024-12-22*
*Version: 1.0*
