# O4O Platform 배포 체크리스트

## 🚀 프로덕션 배포 전 필수 확인사항

### 1. 환경 설정
- [ ] 모든 `.env.example` 파일을 `.env`로 복사
- [ ] 프로덕션 환경변수 설정
- [ ] 데이터베이스 연결 정보 확인
- [ ] Redis 연결 정보 확인
- [ ] JWT 시크릿 키 변경 (보안)
- [ ] CORS 도
- [ ] 이메일 SMTP 설정

### 2. 보안 점검
- [ ] 모든 시크릿 키가 환경변수로 관리되는지 확인
- [ ] SQL Injection 방어 확인 (TypeORM 사용)
- [ ] XSS 방어 확인 (React 기본 제공)
- [ ] CSRF 토큰 구현 확인
- [ ] Rate Limiting 설정 확인
- [ ] Helmet.js 보안 헤더 확인

### 3. 성능 최적화
- [ ] 프로덕션 빌드 생성
  ```bash
  pnpm run build
  ```
- [ ] 번들 사이즈 분석
  ```bash
  pnpm run build:analyze
  ```
- [ ] 이미지 최적화
- [ ] Lazy Loading 구현 확인
- [ ] 캐싱 전략 확인

### 4. 데이터베이스
- [ ] 마이그레이션 실행
  ```bash
  pnpm run migration:run
  ```
- [ ] 인덱스 생성 확인
- [ ] 백업 스크립트 준비
- [ ] 연결 풀 설정 최적화

### 5. 모니터링
- [ ] PM2 설정
  ```bash
  pm2 start ecosystem.config.js --env production
  ```
- [ ] 로그 수집 설정 (Winston)
- [ ] 에러 추적 (Sentry 등)
- [ ] 성능 모니터링 (New Relic 등)
- [ ] 헬스체크 엔드포인트 확인

### 6. API 문서화
- [ ] API 엔드포인트 문서 완성
- [ ] 인증 방법 문서화
- [ ] 에러 코드 정리
- [ ] 사용 예제 제공

### 7. 테스트
- [ ] 단위 테스트 실행
  ```bash
  pnpm run test
  ```
- [ ] 통합 테스트 실행
  ```bash
  pnpm run test:e2e
  ```
- [ ] 부하 테스트 실행
- [ ] 보안 스캔 실행

### 8. 백업 및 복구
- [ ] 데이터베이스 백업 스크립트
- [ ] 파일 시스템 백업 설정
- [ ] 복구 절차 문서화
- [ ] 복구 테스트 실행

### 9. CI/CD
- [ ] GitHub Actions 워크플로우 확인
- [ ] 자동 배포 파이프라인 테스트
- [ ] 롤백 절차 준비
- [ ] 블루-그린 배포 설정 (선택)

### 10. 운영 준비
- [ ] 운영 매뉴얼 작성
- [ ] 장애 대응 절차 문서화
- [ ] 연락처 및 에스컬레이션 정의
- [ ] 모니터링 대시보드 구성

## 📊 성능 기준

### API 응답시간
- 평균: < 200ms
- 95 percentile: < 500ms
- 99 percentile: < 1000ms

### 프론트엔드 로딩
- First Contentful Paint: < 1.5s
- Time to Interactive: < 3.5s
- Largest Contentful Paint: < 2.5s

### 시스템 리소스
- CPU 사용률: < 70%
- 메모리 사용률: < 80%
- 디스크 I/O: 정상 범위

## 🚨 장애 대응

### 즉시 대응 사항
1. 서비스 상태 확인
2. 최근 배포 내역 확인
3. 로그 분석
4. 필요시 이전 버전 롤백

### 에스컬레이션
1. L1: 모니터링 알림 → 담당 개발자
2. L2: 15분 내 미해결 → 팀 리더
3. L3: 30분 내 미해결 → CTO

## 📝 체크리스트 완료 확인

- [ ] 모든 항목 검토 완료
- [ ] 프로덕션 배포 승인
- [ ] 배포 일정 확정
- [ ] 관련 팀 공지

---

배포 담당자: ________________
검토자: ________________
승인자: ________________
배포 예정일: ____년 __월 __일