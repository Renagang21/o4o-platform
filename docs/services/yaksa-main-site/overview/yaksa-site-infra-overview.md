
# ğŸ§¾ yaksa.site ë°±ì—”ë“œ ë° í”„ë¡ íŠ¸ì—”ë“œ í˜¸ìŠ¤íŒ… êµ¬ì¡° ìš”ì•½

## âœ… 1. ì„œë¹„ìŠ¤ ê°œìš”

- yaksa.siteëŠ” React ê¸°ë°˜ í”„ë¡ íŠ¸ì—”ë“œë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.
- ë°±ì—”ë“œëŠ” Medusa.js ê¸°ë°˜ ì»¤ë¨¸ìŠ¤ API ì„œë²„ (`o4o-api-server`)ì…ë‹ˆë‹¤.
- ëª¨ë“  ì„œë¹„ìŠ¤ëŠ” AWS Lightsailì—ì„œ ìš´ì˜ë˜ê³  ìˆìŠµë‹ˆë‹¤.

---

## âœ… 2. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰ êµ¬ì¡°

yaksa.site í”„ë¡ íŠ¸ëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì˜ ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

### [A] ê°œë°œ ëª¨ë“œ (React Dev Server)
- ëª…ë ¹ì–´: `npm run dev` ë˜ëŠ” `yarn dev`
- ê¸°ë³¸ í¬íŠ¸: `localhost:5173` ë˜ëŠ” `localhost:3000`
- ìš©ë„: ê°œë°œ ì¤‘ í•« ë¦¬ë¡œë”©ìš©

### [B] ì •ì  ë¹Œë“œ + Nginx ë°°í¬
- ëª…ë ¹ì–´: `yarn build` â†’ `dist/` ë˜ëŠ” `build/` ìƒì„±
- Nginxì—ì„œ í•´ë‹¹ ë””ë ‰í„°ë¦¬ë¥¼ ì •ì ìœ¼ë¡œ ì„œë¹™
- Nginx ì„¤ì • ìœ„ì¹˜: `/etc/nginx/sites-available/default`

### [C] PM2 í”„ë¡œì„¸ìŠ¤ ë§¤ë‹ˆì € ì‚¬ìš©
- ëª…ë ¹ì–´ ì˜ˆì‹œ: `pm2 start yarn --name yaksa-web -- start`
- ë˜ëŠ”: `serve -s build` â†’ ì •ì  íŒŒì¼ ì„œë¹„ìŠ¤
- ì¥ì : ë¶€íŒ… ì‹œ ìë™ ì‹œì‘, ê´€ë¦¬ í¸ë¦¬

---

## âœ… 3. SSH ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€

- SSH ì ‘ì†ì€ í˜„ì¬ ê°€ëŠ¥í•œ ìƒíƒœì…ë‹ˆë‹¤.
- ì ê²€ ê°€ëŠ¥ í•­ëª©:
  - `nginx.conf` ë˜ëŠ” `/etc/nginx/sites-available/default`
  - `pm2 list`, `pm2 logs yaksa-web`
  - `build/` ë˜ëŠ” `dist/` ë””ë ‰í„°ë¦¬ ì¡´ì¬ ì—¬ë¶€
  - `.env`, `medusa-config.js` ë“± ì„¤ì • í™•ì¸

---

## âœ… 4. React ì•± ì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ìš”ì²­í•  ìˆ˜ ìˆëŠ” í™•ì¸ ëª…ë ¹ì–´
- `pm2 list`
- `pm2 logs yaksa-web`
- `ls -alh build/`
- `cat /etc/nginx/sites-available/default`

---

## âœ… 5. ì¶”ê°€ ì œê³µ ê°€ëŠ¥ í•­ëª©

- PM2 ì‹¤í–‰ ë³µêµ¬ ëª…ë ¹ì–´
- `serve` ë˜ëŠ” `start` ë°©ì‹ë³„ ì‹¤í–‰ í…œí”Œë¦¿
- `.env` í…œí”Œë¦¿
- nginx ì„¤ì • ì˜ˆì‹œ (`proxy_pass`, `root`, `index`)
- ì ê²€ ìë™í™” bash ìŠ¤í¬ë¦½íŠ¸ (`check-react-deploy.sh`)

---

## ğŸ”„ ì°¸ê³ : 502 Bad Gateway ëŒ€ì²˜ ìš”ì•½

| ì›ì¸ | ì¡°ì¹˜ |
|------|------|
| React ì•± ë¯¸ì‹¤í–‰ | PM2 ë˜ëŠ” ìˆ˜ë™ ì‹¤í–‰ í™•ì¸ |
| í¬íŠ¸ mismatch | Nginx proxy_pass í¬íŠ¸ í™•ì¸ |
| build í´ë” ì—†ìŒ | `npm run build`ë¡œ ì¬ìƒì„± |
| Nginx root ë””ë ‰í† ë¦¬ ì„¤ì • ì˜¤ë¥˜ | `/var/www/html`, `/home/ubuntu/project/build` ë“± í™•ì¸ |

---

ì´ ë¬¸ì„œë¥¼ ê°œë°œì ë˜ëŠ” ì„œë²„ ìš´ì˜ìì—ê²Œ ì „ë‹¬í•˜ì‹œë©´ ì •í™•í•œ ì ê²€ì„ ë„ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
