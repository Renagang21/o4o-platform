# Market Trial 운영자/공급자 가이드

> 본 문서는 Market Trial 기능의 운영자 및 공급자를 위한 외부 설명 문서입니다.

---

## 1. Market Trial이란?

Market Trial은 **공급자가 신제품이나 서비스를 파트너/셀러에게 체험하게 하고, 보상을 제공하는 마케팅 채널**입니다.

### 1.1 참여자 역할

| 역할 | 설명 |
|------|------|
| **공급자 (Supplier)** | Trial을 생성하고 보상을 제공하는 주체 |
| **참여자 (Partner/Seller)** | Trial에 참여하여 제품을 체험하고 보상을 받는 주체 |
| **운영자 (Operator)** | 플랫폼 내 Trial 운영을 관리하는 주체 |

### 1.2 핵심 가치

- **공급자**: 시장 반응 테스트, 잠재 판매자 확보
- **참여자**: 신제품 조기 접근, 보상 획득
- **플랫폼**: 공급-수요 연결, 거래 활성화

---

## 2. Trial 생명주기

```
[생성] → [공개(open)] → [참여 접수] → [마감(closed)] → [보상 처리]
```

### 2.1 상태 설명

| 상태 | 설명 | 참여 가능 |
|------|------|----------|
| **open** | 참여 접수 중 | O |
| **closed** | 마감됨 | X |

### 2.2 마감 조건

- 수동 마감 (공급자/운영자)
- 최대 참여 인원 도달
- 마감일(deadline) 경과

---

## 3. 공급자 가이드

### 3.1 Trial 생성 시 필수 정보

| 항목 | 설명 | 필수 |
|------|------|------|
| 제목 (title) | Trial 이름 | O |
| 설명 (description) | 상세 내용 | O |
| 참여 가능 역할 (eligibleRoles) | partner, seller 중 선택 | O |
| 보상 옵션 (rewardOptions) | cash, product 중 선택 | O |
| 현금 보상액 (cashRewardAmount) | 현금 보상 선택 시 | 조건부 |
| 제품 보상 설명 (productRewardDescription) | 제품 보상 선택 시 | 조건부 |
| 최대 참여 인원 (maxParticipants) | 선착순 제한 | 선택 |
| 마감일 (deadline) | 참여 마감 일시 | 선택 |

### 3.2 보상 유형

| 유형 | 설명 | 처리 방식 |
|------|------|-----------|
| **cash** | 현금/포인트 지급 | 시스템 또는 수동 지급 |
| **product** | 제품 발송 | 배송 주소 수집 → 발송 |

### 3.3 Trial 관리

| 작업 | 설명 |
|------|------|
| 참여 현황 확인 | 현재 참여자 수, 보상 선택 현황 |
| 수동 마감 | open → closed 상태 변경 |
| 보상 처리 | pending → fulfilled 상태 업데이트 |

---

## 4. 운영자 가이드

### 4.1 Trial 모니터링

| 항목 | 확인 내용 |
|------|-----------|
| 전체 Trial 목록 | 상태별 필터링 |
| 참여 현황 | Trial별 참여자 수 |
| 보상 처리 현황 | pending 상태 보상 건수 |

### 4.2 현재 시스템 한계

> **중요**: 현재 시스템은 MVP 단계로 다음 기능이 제한됩니다.

| 기능 | 현재 상태 | 비고 |
|------|----------|------|
| Trial 데이터 영속 | **In-Memory** | 서버 재시작 시 초기화 |
| 보상 자동 처리 | **미구현** | 수동 처리 필요 |
| 배송 연동 | **미구현** | 별도 처리 필요 |
| 관리자 UI | **제한적** | API 직접 호출 필요 |

### 4.3 데이터 초기화 주의

현재 Trial 데이터는 서버 메모리에 저장됩니다.
- 서버 재시작 시 **모든 Trial 데이터가 초기화**됩니다
- 샘플 데이터 4개가 자동 생성됩니다
- 실제 운영 데이터는 별도 백업이 필요합니다

---

## 5. 참여자 흐름

### 5.1 기본 흐름

```
1. Trial 목록 확인 (/trials)
2. Trial 상세 확인
3. 참여 신청 + 보상 유형 선택
4. 참여 완료 (pending 상태)
5. 보상 수령 (fulfilled 상태)
```

### 5.2 참여 조건

| 조건 | 설명 |
|------|------|
| 역할 조건 | eligibleRoles에 본인 역할 포함 필요 |
| 상태 조건 | Trial status = 'open' |
| 정원 조건 | maxParticipants 미도달 |
| 중복 조건 | 동일 Trial 재참여 불가 |

### 5.3 보상 선택

참여 시점에 보상 유형을 선택합니다:
- **cash**: 현금/포인트 지급
- **product**: 제품 발송 (배송 주소 입력 필요)

---

## 6. API 엔드포인트

### 6.1 Trial 조회

| Method | Path | 설명 |
|--------|------|------|
| GET | `/api/market-trial` | Trial 목록 |
| GET | `/api/market-trial/:id` | Trial 상세 |

### 6.2 참여 관련

| Method | Path | 설명 |
|--------|------|------|
| POST | `/api/market-trial/:id/join` | Trial 참여 |
| GET | `/api/market-trial/:id/participation` | 내 참여 정보 |

### 6.3 응답 형식

```json
{
  "success": true,
  "data": { ... },
  "message": "optional message"
}
```

---

## 7. 향후 계획

### 7.1 Phase 2 예정 기능

| 기능 | 설명 |
|------|------|
| DB 영속화 | PostgreSQL 마이그레이션 |
| 관리자 UI | Trial 생성/관리 화면 |
| 보상 자동화 | Fulfillment 서비스 연동 |
| 배송 연동 | 주문/배송 시스템 연결 |

### 7.2 요청 사항

운영 중 발견된 문제나 기능 요청은 다음 채널로 전달해 주세요:
- 플랫폼 내부 이슈 트래커
- 운영 담당자 직접 연락

---

## 8. FAQ

### Q1. Trial 데이터가 사라졌습니다?

A: 현재 시스템은 In-Memory 저장소를 사용합니다. 서버 재시작 시 데이터가 초기화됩니다. 중요한 데이터는 별도 기록을 권장합니다.

### Q2. 보상 처리는 어떻게 하나요?

A: 현재는 수동 처리입니다. 참여자 목록을 확인하고 개별적으로 보상을 처리해 주세요. 자동화는 Phase 2에서 지원 예정입니다.

### Q3. 제품 보상 시 배송은 어떻게 하나요?

A: 배송 주소 수집 기능은 준비 중입니다. 현재는 참여자에게 직접 연락하여 주소를 확인해 주세요.

### Q4. Trial을 수정/삭제할 수 있나요?

A: 현재 API에서 수정/삭제 기능은 제공되지 않습니다. 필요 시 운영팀에 문의해 주세요.

---

## 변경 이력

| 버전 | 일자 | 변경 내용 |
|------|------|-----------|
| 1.0 | 2026-01-10 | 최초 작성 |

---

*Document Type: External Guide*
*Audience: Operators, Suppliers*
*Last Updated: 2026-01-10*
