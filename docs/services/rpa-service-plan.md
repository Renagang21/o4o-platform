# RPA 서비스 설계 개요 (`rpa-service`)

이 문서는 o4o-platform 생태계 외부에서 독립적으로 운영될 **RPA 자동화 서비스**의 기획 및 기술 설계를 설명합니다.  
해당 서비스는 반복적이고 규칙 기반의 업무를 자동화함으로써 판매자, 관리자, 운영자의 시간을 절약하는 데 목적이 있습니다.

---

## 🎯 서비스 목적

- 수동 업무 자동화: 승인 대기, 데이터 입력, 발송 등 반복적 UI/데이터 처리 자동화
- 백오피스 지원: 상품 등록, 승인, 재고 갱신, 보고서 생성 등을 예약 또는 트리거 기반 처리
- 운영 자동화: 매장별 반복 업무(문자 발송, 문서 정리, 후원금 집계 등) 자동 수행

---

## 🛠 주요 기능 범위

| 기능 | 설명 |
|------|------|
| 예약 작업 스케줄러 | 매일/매주/매월 반복 작업 설정 (예: 보고서 전송) |
| 승인/처리 자동화 | 일정 조건 충족 시 자동 승인 or 알림 발송 |
| API 크롤링 & 파이프라인 | 외부 API 또는 내부 시스템 연계 자동화 처리 |
| 자동 발송 | 이메일, 문자, 알림 등 다양한 채널 자동화 발송 |
| 외부 서비스 통합 | Google Sheets, Slack, 카카오 알림톡 등 연동 지원 |
| 모듈형 플로우 | 플로우 기반 업무 정의 (향후 GUI 기반 설정 고려)

---

## 🧩 기술 스택 (예정)

| 항목 | 도구 |
|------|------|
| 서버 프레임워크 | Node.js (Express or Fastify) 또는 Python (FastAPI) |
| 작업 스케줄링 | node-cron, Agenda.js, 혹은 Celery + Redis |
| 인증 연동 | `api-server`의 JWT 인증 공유 |
| 데이터베이스 | PostgreSQL 또는 SQLite (로직 단위 기록용) |
| 기타 연계 | S3, Google API, 내부 REST API 등

---

## 📦 API 예시

| 메서드 | 경로 | 설명 |
|--------|------|------|
| `POST` | `/tasks/register` | 반복 작업 등록 |
| `POST` | `/tasks/run-now` | 즉시 실행 |
| `GET`  | `/tasks/history` | 실행 이력 조회 |
| `GET`  | `/health` | 헬스체크 |
| `GET`  | `/logs` | 작업 로그 확인 |

---

## 🗃 폴더 구조 예시

```
rpa-service/
├── src/
│   ├── routes/
│   ├── schedulers/
│   ├── tasks/
│   ├── integrations/     # 외부 API 연동 모듈
│   └── utils/
├── prisma/ or models/
├── .env
├── main.ts or app.py
```

---

## 📌 향후 고려사항

- RPA GUI 대시보드 제공 (작업 시각화 및 설정용)
- 자동화 에이전트의 모듈화 및 배포 (n8n.io 또는 Custom Agent 방식)
- 역할별 자동화 권한 분리 (`operator`, `partner`, `seller` 등)
- 처리 실패에 대한 리트라이/알림/로깅 정책 정립
