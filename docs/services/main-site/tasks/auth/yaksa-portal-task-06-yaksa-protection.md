
# ğŸ§¾ Task 06: ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ ì²˜ë¦¬ ë° ì•½ì‚¬ìš© í˜ì´ì§€ ì ‘ê·¼ ì œí•œ

## ğŸ¯ ëª©ì 
yaksa.siteì—ì„œ ì•½ì‚¬ íšŒì›ì´ ê°€ì… í›„ ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœì¼ ë•ŒëŠ” ì¼ë°˜ ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ì§€ë§Œ, ì•½ì‚¬ìš© í˜ì´ì§€ì— ì ‘ê·¼ ì‹œ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì£¼ê³  ì´ë™ì„ ì œí•œí•œë‹¤.

---

## âœ… ì²˜ë¦¬ ê·œì¹™

### 1. ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ ì‚¬ìš©ì
- ìƒíƒœ: `role = 'b2c'`, `yaksaStatus = 'pending'` (authStore ê¸°ì¤€)
- ë¡œê·¸ì¸ì€ ê°€ëŠ¥
- ì•½ì‚¬ìš© í˜ì´ì§€ ì ‘ê·¼ì€ ì œí•œ (`yaksa` ê¶Œí•œ í•„ìš”)

---

## ğŸ“‹ êµ¬í˜„ í•­ëª©

### âœ… ì•½ì‚¬ìš© ë³´í˜¸ ë¼ìš°íŠ¸ êµ¬ì„±
- `YaksaProtectedRoute.tsx` ìƒì„±
- ì¡°ê±´:
  - `role !== 'yaksa'` â†’ ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ
  - "ì•½ì‚¬ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. í™ˆìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤."  
  - 3ì´ˆ í›„ ì´ì „ í˜ì´ì§€ or `/` ë¡œ ì´ë™

### âœ… ì‚¬ìš© ìœ„ì¹˜ ì˜ˆì‹œ

```tsx
<YaksaProtectedRoute>
  <YaksaShop />
</YaksaProtectedRoute>
```

---

## ğŸ’¡ UX ì„¤ê³„
- ê²½ê³  ë©”ì‹œì§€ ì¶œë ¥ìš© ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ (`<AccessDenied />`)
- ë¦¬ë””ë ‰ì…˜ íƒ€ì´ë¨¸: `setTimeout(() => navigate(-1), 3000);` or `navigate("/")`
- Tailwind ê¸°ë°˜ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ë§

---

## ğŸ“¦ ìƒíƒœ êµ¬ì¡° ì˜ˆì‹œ (authStore.ts)

```ts
{
  role: 'b2c' | 'yaksa' | 'admin',
  yaksaStatus: 'pending' | 'approved' | null
}
```

---

## ğŸ“ ì°¸ê³  ë¬¸ì„œ

- `yaksa-portal-task-03-protected-route.md`
- `yaksa-portal-task-05-register-flow.md`
- `docs/yaksa-site/wireframes/08-role-permissions.md`
