# O4O Platform 편집기 사용 매뉴얼

**버전**: v0.5.9 (O4O v1.0.0, Editor v1.0.0)
**최종 업데이트**: 2025-10-22
**대상**: 콘텐츠 에디터, 마케터, 운영자

---

## 📋 목차

1. [편집기 개요](#1-편집기-개요)
2. [편집기 진입 경로](#2-편집기-진입-경로)
3. [화면 구성 이해하기](#3-화면-구성-이해하기)
4. [콘텐츠 작성 워크플로우](#4-콘텐츠-작성-워크플로우)
5. [저장 · 미리보기 · 발행](#5-저장--미리보기--발행)
6. [키보드 단축키](#6-키보드-단축키)
7. [고급 기능](#7-고급-기능)
8. [문제 해결 가이드](#8-문제-해결-가이드)
9. [자주 묻는 질문](#9-자주-묻는-질문)

---

## 1. 편집기 개요

- O4O Platform 편집기는 WordPress Gutenberg 경험을 재현한 블록 기반 에디터입니다.  
- 하나의 화면에서 **게시글(post)**, **페이지(page)**, **템플릿(template)**, **패턴(pattern)**을 모두 관리할 수 있습니다.  
- 블록 단위 편집, 미디어 삽입, 문서 설정, 실시간 미리보기, 발행 워크플로우를 지원합니다.

### 지원 브라우저 및 권장 환경
- **Chrome 110+** (권장)
- Firefox 110+, Safari 15+, Edge 110+
- 최소 해상도 1440×900 이상, 16GB RAM을 권장합니다.

---

## 2. 편집기 진입 경로

| 작업 유형 | 경로 | 설명 |
| --- | --- | --- |
| 새 게시글 작성 | `콘텐츠 ➜ 게시글 ➜ 새 글` 또는 URL 직접 입력(`/editor/posts/new`) | 빈 블록 상태로 시작합니다. |
| 기존 게시글 수정 | `콘텐츠 ➜ 게시글 ➜ 편집` | `/editor/posts/{id}` 라우트로 이동하여 기존 블록을 로드합니다. |
| 새 페이지 작성 | `콘텐츠 ➜ 페이지 ➜ 새 페이지` 또는 `/editor/pages/new` | 페이지 전용 설정(메뉴, 홈 설정 등)에 접근 가능합니다. |
| 템플릿/패턴 편집 | `디자인 ➜ 템플릿/패턴` | `/editor/templates/{id}`, `/editor/patterns/{id}` 경로를 사용합니다. |
| 미리보기 전용 | `/preview/posts/{id}` 또는 `/preview/pages/{id}` | 뷰 모드는 별도 탭에서 열립니다. |

> **TIP**: 편집 화면은 라우트 변경 시 강제로 리마운트되도록 설계되어 있어, 뒤로가기를 눌러도 에디터 상태가 꼬이지 않습니다.

---

## 3. 화면 구성 이해하기

편집기 화면은 크게 **상단 액션 바**, **좌측 블록 인서터**, **중앙 캔버스**, **우측 설정 사이드바**로 구성됩니다.

### 3.1 상단 액션 바
- **제목 입력**: 중앙에 위치하며 즉시 저장되지 않습니다. 공백 제목은 제한됩니다.
- **상태 배지**: 현재 문서 상태(`draft`, `publish` 등)를 표시합니다.
- **저장 정보**: 마지막 저장 시각 또는 `Unsaved changes` 경고가 노출됩니다.
- **액션 버튼**
  - `Undo / Redo`: 최근 작업 되돌리기(데스크톱 전용 버튼, 단축키 지원).
  - `List view`: 블록 구조를 계층형으로 확인합니다.
  - `Preview`: 현재 콘텐츠를 새 탭에서 미리보기.
  - `Save draft`: 임시 저장(Dirty 상태일 때만 활성화).
  - `Publish / Update`: 발행 또는 업데이트. 발행 성공 시 상태가 `publish`로 변경됩니다.
  - `Settings`: 우측 사이드바 열기/닫기.
  - `More (...)`: 템플릿 삽입, 미디어 라이브러리 등 추가 액션.

### 3.2 좌측 블록 인서터
- `/` 키 또는 상단 플러스 버튼으로 토글합니다.
- **검색**: 블록 이름, 설명, 키워드로 필터링.
- **카테고리**: WordPress 블록 카테고리(텍스트, 미디어, 디자인 등)별로 정리.
- **Most Used**: 최근 사용한 블록을 자동 정렬.
- **AI 추천**: `Sparkles` 아이콘이 붙은 블록은 AI 기반 추천입니다.

### 3.3 중앙 캔버스 & 블록 툴바
- 각 블록은 `EnhancedBlockWrapper`로 감싸지며 다음 기능을 제공합니다.
  - 좌측 핸들(Grip)로 드래그 이동.
  - 상/하 이동 버튼, 복제, 삭제 버튼.
  - 정렬/타이포/볼드/이탤릭 등의 인라인 도구.
  - 커스텀 툴바 슬롯: 예) 컬럼 블록의 폭·정렬 컨트롤.
- `InnerBlocks`로 구성되어 중첩 블록을 지원합니다 (컬럼, 그룹, 커버 등).

### 3.4 우측 설정 사이드바
- **Document 탭**
  - 상태(Status), 가시성(Visibility), 공개 일정(Publish date)
  - 작성자, 발행 URL 슬러그, 발췌(Excerpt)
  - 카테고리/태그(게시글 모드), 템플릿, 고정글(Sticky), 댓글 허용
  - 대표 이미지 설정(미디어 라이브러리 연동)
- **Block 탭**
  - 현재 선택 블록의 속성(색상, 여백, 자동 재생 등)을 편집합니다.
- 사이드바는 기본적으로 열려 있으며, 상단 X 버튼 또는 Settings 아이콘으로 닫을 수 있습니다.

---

## 4. 콘텐츠 작성 워크플로우

1. **제목 입력**  
   - 제목 필드는 상단 중앙에 위치합니다. 단축키 `Cmd/Ctrl + Alt + T`로도 포커스할 수 있습니다(브라우저 기본 기능 기준).

2. **슬러그 설정**  
   - 사이드바 Document 탭의 **Permalink** 섹션에서 영문 소문자, 숫자, 하이픈만 사용 가능합니다.  
   - 슬러그가 비어 있으면 저장/발행이 차단되며 사이드바가 자동으로 열립니다.

3. **블록 추가 및 배치**  
   - `/` 입력, 플러스 버튼, 또는 블록 간 삽입 버튼으로 새 블록을 추가합니다.  
   - 블록 툴바의 복제(⌘/Ctrl + D)·복사(⌘/Ctrl + C)·붙여넣기(⌘/Ctrl + V)를 활용합니다.

4. **미디어 추가**  
   - 블록 인서터에서 이미지/갤러리/비디오 블록을 선택하거나, 상단 More 메뉴의 **Add media**를 사용합니다.

5. **문서 정보 보완**  
   - 발행일, 카테고리/태그, 대표 이미지, 발췌, 댓글 허용 여부 등 메타데이터를 채워 넣습니다.

6. **검수 및 미리보기**  
   - `Preview` 버튼으로 새 탭에서 렌더링 결과를 확인합니다. 미리보기 전 자동 저장이 수행됩니다.

7. **발행 또는 업데이트**  
   - 초안은 `Publish`, 공개된 문서는 `Update` 버튼으로 반영됩니다.  
   - 발행 후 상태 배지가 `publish`로 바뀌고, 수정 시 동일 버튼이 `Update`로 표기됩니다.

---

## 5. 저장 · 미리보기 · 발행

| 버튼 | 설명 | 참고 |
| --- | --- | --- |
| **Save draft** | Dirty 상태(변경 후 저장 전)일 때 활성화. 서버에 초안으로 저장합니다. | 슬러그 오류가 있으면 실패하며 사이드바가 열립니다. |
| **Publish / Update** | 공개 상태로 발행하거나 기존 문서를 갱신합니다. | 발행 시 시간이 없으면 시스템이 현재 시간을 `published_at`으로 기록합니다. |
| **Preview** | 현재 콘텐츠를 `/preview/posts/{id}` 또는 `/preview/pages/{id}`로 새 탭 오픈. | 신규 문서일 경우 자동 저장 후 미리보기 ID를 확보합니다. |

### 저장 실패 시 메시지
- `INVALID_SLUG`: 허용되지 않는 문자 포함. 소문자/숫자/하이픈만 사용.
- `SLUG_CONFLICT`: 동일한 슬러그가 이미 존재. 제안 슬러그를 참고하거나 수동 변경.
- 네트워크 오류: 연결 문제 또는 인증 만료. 다시 로그인 후 재시도.

---

## 6. 키보드 단축키

| 단축키 | 동작 |
| --- | --- |
| `Cmd/Ctrl + S` | 저장 (Save draft) |
| `Cmd/Ctrl + Z` | 실행 취소 (Undo) |
| `Cmd/Ctrl + Shift + Z` | 다시 실행 (Redo) |
| `/` | 블록 인서터 열기/닫기 |
| `Cmd/Ctrl + D` | 현재 블록 복제 |
| `Cmd/Ctrl + C` / `Cmd/Ctrl + V` | 블록 복사 / 붙여넣기 |
| `Delete` | 선택 블록 삭제 (입력 필드가 아닐 때) |
| `Tab / Shift + Tab` | 이전/다음 블록으로 포커스 이동 |
| `↑ / ↓` | 블록 간 빠른 이동 |
| `Shift + Enter` | 현재 블록 아래에 새 단락 추가 |

> **모바일 브라우저**에서는 키보드 단축키 대신 화면 버튼을 사용하세요.

---

## 7. 고급 기능

- **List View**: 복잡한 페이지 구조를 트리 형태로 확인하고 드래그로 재배치합니다.
- **템플릿 삽입**: `More (...) ➜ Add template`을 통해 사전 정의된 레이아웃을 불러옵니다.
- **AI Block 추천**: AI 태그가 표시된 블록은 최근 사용 패턴을 기반으로 추천됩니다.
- **미디어 라이브러리**: 대표 이미지뿐 아니라 블록 내에서 바로 연동됩니다.
- **권한 제어**: 향후 `canPublish`, `canEditCategories` 등의 퍼미션이 연동될 예정이며, 현재는 관리자 전용으로 동작합니다.

---

## 8. 문제 해결 가이드

| 증상 | 원인 | 해결 방법 |
| --- | --- | --- |
| 저장 버튼이 비활성화 | 변경 사항이 없거나 슬러그 오류 | 블록을 수정했는지 확인하고, 슬러그 경고를 해결합니다. |
| 발행 시 409 오류 | 슬러그 충돌 | 제안된 슬러그로 수정하거나 고유한 값을 입력합니다. |
| 미리보기 페이지가 빈 화면 | 콘텐츠 블록이 비어있거나 저장 실패 | `Save draft` 실행 후 다시 미리보기, 블록이 최소 1개인지 확인합니다. |
| 사이드바가 열리지 않음 | 초기 로딩 지연 | 상단 Settings 아이콘을 재클릭하거나 페이지를 새로고침합니다. |
| 블록 이탈 경고 없이 닫힘 | 브라우저 종료/새로고침 | 자동 저장이 없으므로 닫기 전 수동 저장을 권장합니다. |

---

## 9. 자주 묻는 질문

**Q1. 슬러그를 한글로 입력할 수 있나요?**  
A. 현재는 영문 소문자, 숫자, 하이픈만 허용합니다. 한글 슬러그를 사용하려면 별도 연동이 필요합니다.

**Q2. 자동 저장 기능이 있나요?**  
A. 자동 저장은 아직 실험 단계입니다. 중요한 수정 전에는 `Save draft` 버튼을 눌러 주세요.

**Q3. 모바일 기기에서도 사용할 수 있나요?**  
A. 가능하지만, 블록 이동/정렬 등의 세밀한 작업은 데스크톱 환경을 권장합니다.

**Q4. 템플릿을 팀원과 공유할 수 있나요?**  
A. 템플릿은 공용 리소스로 저장되므로, 템플릿을 수정하면 전체 팀이 동일한 버전을 사용합니다.

**Q5. 미디어 용량 제한이 있나요?**  
A. 기본적으로 서버 설정에 따르며, 업로드 실패 시 파일 용량과 확장자를 확인하세요.

---

### 참고 자료
- [`StandaloneEditor.tsx`](../../apps/admin-dashboard/src/pages/editor/StandaloneEditor.tsx)
- [`GutenbergBlockEditor.tsx`](../../apps/admin-dashboard/src/components/editor/GutenbergBlockEditor.tsx)
- [`GutenbergSidebar.tsx`](../../apps/admin-dashboard/src/components/editor/GutenbergSidebar.tsx)

콘텐츠 작성 정책이나 디자인 가이드는 `docs/manual/blocks-reference.md`, `docs/manual/appearance-template-parts.md`에서 확인할 수 있습니다.

