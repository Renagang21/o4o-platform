# 메뉴 Role 적용 사용자 매뉴얼

## 📋 개요

O4O Platform의 메뉴 시스템은 사용자의 역할(Role)에 따라 서로 다른 메뉴 항목을 표시할 수 있습니다. 이 기능을 사용하면:

- **고객(Customer)**에게는 쇼핑 관련 메뉴만 표시
- **판매자(Seller)**에게는 주문 관리 메뉴 표시
- **공급자(Supplier)**에게는 재고 관리 메뉴 표시
- **제휴자(Affiliate)**에게는 마케팅 관련 메뉴 표시

이 매뉴얼에서는 관리자가 **외모 → 메뉴**에서 각 메뉴 항목에 Role을 적용하는 방법을 안내합니다.

---

## 🎯 메뉴 Role 적용 방법

### 1단계: 메뉴 편집 화면 접근

1. 관리자 대시보드에 로그인합니다
2. 좌측 메뉴에서 **외모 → 메뉴**를 클릭합니다
3. 편집할 메뉴를 선택하거나 새 메뉴를 생성합니다

### 2단계: 메뉴 항목 선택

1. 메뉴 구조 영역에서 Role을 적용할 메뉴 항목을 클릭합니다
2. 우측에 **메뉴 항목 편집** 패널이 나타납니다

### 3단계: Target Audience (대상 사용자) 설정

메뉴 항목 편집 패널에서 아래로 스크롤하면 **"Target Audience (대상 사용자)"** 섹션이 있습니다.

#### 옵션 설명

**1. Everyone (모든 사용자)**
- 로그인 여부와 관계없이 모든 방문자에게 표시
- 홈, 소개, 연락처 등 공개 페이지에 사용

**2. Logged Out Only (로그아웃 사용자만)**
- 로그인하지 않은 방문자에게만 표시
- "로그인", "회원가입" 메뉴에 사용

**3. Specific Roles (특정 역할)**
- 선택한 역할의 사용자에게만 표시
- 여러 역할 선택 가능 (다중 선택)

#### 사용 가능한 역할

| 역할 ID | 역할 이름 | 설명 |
|---------|----------|------|
| `customer` | 고객 | 일반 쇼핑 사용자 |
| `seller` | 판매자 | 상품 판매 및 주문 관리자 |
| `supplier` | 공급자 | 재고 및 파트너 관리자 |
| `affiliate` | 제휴자 | 마케팅 캠페인 담당자 |
| `super_admin` | 슈퍼 관리자 | 최고 권한 관리자 |
| `admin` | 관리자 | 일반 관리자 |
| `editor` | 에디터 | 콘텐츠 편집자 |

### 4단계: Role 선택

#### 예시 1: 판매자 전용 메뉴
판매자에게만 "주문 관리" 메뉴를 표시하려면:

1. "주문 관리" 메뉴 항목을 선택
2. **Target Audience** 섹션에서 **"Specific Roles"** 선택
3. **Roles** 드롭다운에서 `seller (판매자)` 선택
4. 상단의 **저장** 버튼 클릭

#### 예시 2: 여러 역할에게 표시
"대시보드" 메뉴를 판매자, 공급자, 제휴자 모두에게 표시하려면:

1. "대시보드" 메뉴 항목을 선택
2. **Target Audience** 섹션에서 **"Specific Roles"** 선택
3. **Roles** 드롭다운에서:
   - `seller (판매자)` 선택
   - `supplier (공급자)` 선택
   - `affiliate (제휴자)` 선택
4. 상단의 **저장** 버튼 클릭

#### 예시 3: 로그아웃 사용자 전용
"로그인" 메뉴를 로그아웃 사용자에게만 표시하려면:

1. "로그인" 메뉴 항목을 선택
2. **Target Audience** 섹션에서 **"Logged Out Only"** 선택
3. 상단의 **저장** 버튼 클릭

### 5단계: 저장 및 확인

1. 모든 메뉴 항목 설정이 완료되면 우측 상단의 **저장** 버튼을 클릭합니다
2. "메뉴가 저장되었습니다!" 메시지가 표시되면 성공입니다

---

## 🌳 서브메뉴에 Role 적용

서브메뉴 항목에도 동일한 방법으로 Role을 적용할 수 있습니다.

### 예시: 판매자 전용 서브메뉴 생성

**상위 메뉴**: 관리 (모든 사용자에게 표시)
- **서브메뉴 1**: 주문 관리 (판매자만)
- **서브메뉴 2**: 재고 관리 (공급자만)
- **서브메뉴 3**: 마케팅 (제휴자만)

**설정 방법**:

1. "관리" 메뉴 항목 생성 → Target Audience: **Everyone**
2. "주문 관리" 서브메뉴 생성 (관리 아래로 들여쓰기)
   - Target Audience: **Specific Roles** → `seller`
3. "재고 관리" 서브메뉴 생성
   - Target Audience: **Specific Roles** → `supplier`
4. "마케팅" 서브메뉴 생성
   - Target Audience: **Specific Roles** → `affiliate`
5. 저장

**결과**:
- 판매자는 "관리 > 주문 관리"만 표시됨
- 공급자는 "관리 > 재고 관리"만 표시됨
- 제휴자는 "관리 > 마케팅"만 표시됨
- 일반 고객은 "관리" 메뉴가 비어있음 (숨김 처리)

---

## ⚙️ Display Mode (표시 모드)

메뉴 항목의 표시 여부를 제어하는 추가 옵션입니다.

### 옵션

- **Show (표시)**: 조건에 맞으면 메뉴 표시 (기본값)
- **Hide (숨김)**: 조건과 관계없이 항상 숨김

### 사용 예시

임시로 메뉴를 숨기고 싶지만 삭제하고 싶지 않을 때:
1. 메뉴 항목 선택
2. **Display Mode** → **Hide** 선택
3. 저장

나중에 다시 표시하려면 **Show**로 변경합니다.

---

## 📝 실전 예시: 역할별 메뉴 구성

### 예시 1: 쇼핑몰 메뉴 구조

```
홈 (Everyone)
쇼핑 (Everyone)
  ├─ 전체 상품 (Everyone)
  ├─ 베스트 상품 (Everyone)
  └─ 세일 상품 (Everyone)
내 계정 (Logged In Users)
  ├─ 주문 내역 (customer)
  ├─ 위시리스트 (customer)
  └─ 프로필 설정 (Everyone)
판매자 관리 (seller)
  ├─ 주문 관리 (seller)
  ├─ 상품 관리 (seller)
  └─ 매출 통계 (seller)
공급자 관리 (supplier)
  ├─ 재고 현황 (supplier)
  └─ 파트너 관리 (supplier)
로그인 (Logged Out Only)
회원가입 (Logged Out Only)
```

### 예시 2: B2B 플랫폼 메뉴

```
대시보드 (seller, supplier, affiliate)
주문 (seller)
  ├─ 신규 주문 (seller)
  ├─ 처리 중 (seller)
  └─ 완료된 주문 (seller)
재고 (supplier)
  ├─ 입고 관리 (supplier)
  ├─ 출고 관리 (supplier)
  └─ 재고 조정 (supplier)
마케팅 (affiliate)
  ├─ 캠페인 관리 (affiliate)
  ├─ 수익 통계 (affiliate)
  └─ 제휴 링크 (affiliate)
설정 (Everyone)
```

---

## ✅ 확인 방법

메뉴 Role이 제대로 적용되었는지 확인하는 방법:

### 1. 역할 전환으로 확인

1. 프론트엔드 사이트에 로그인합니다
2. 우측 상단의 **Role Switcher** (역할 전환 버튼)를 클릭합니다
3. 다른 역할로 전환합니다
4. 메뉴가 역할에 맞게 변경되는지 확인합니다

### 2. 테스트 계정으로 확인

서로 다른 역할을 가진 테스트 계정으로 로그인하여 메뉴 표시를 확인합니다:

- **판매자 계정**: 판매자 전용 메뉴만 표시
- **공급자 계정**: 공급자 전용 메뉴만 표시
- **일반 고객 계정**: 고객 메뉴만 표시
- **로그아웃 상태**: 공개 메뉴만 표시

### 3. 브라우저 개발자 도구로 확인

1. `F12`를 눌러 개발자 도구를 엽니다
2. **Console** 탭을 확인합니다
3. 메뉴 로드 시 다음과 같은 분석 이벤트가 기록됩니다:
   ```
   [Analytics] role_menu_loaded { role: 'seller', menu_item_count: 5 }
   ```

---

## 🔧 문제 해결

### 메뉴가 표시되지 않아요

**원인 1: Target Audience 설정 오류**
- 해결: 메뉴 항목의 Target Audience가 올바르게 설정되었는지 확인

**원인 2: 사용자의 역할이 없음**
- 해결: 사용자 계정에 역할이 할당되어 있는지 확인 (사용자 관리 페이지)

**원인 3: 메뉴가 활성화되지 않음**
- 해결: 메뉴 설정에서 **"활성화"** 체크박스가 선택되어 있는지 확인

### 서브메뉴가 저장되지 않아요

**원인: 부모 항목이 먼저 저장되지 않음**
- 해결: 부모 메뉴 항목을 먼저 저장한 후 서브메뉴를 추가하고 다시 저장

### 여러 역할에게 메뉴가 표시되지 않아요

**원인: "Specific Roles"에서 역할을 하나만 선택함**
- 해결: `Ctrl` (Windows) 또는 `Cmd` (Mac) 키를 누른 상태로 여러 역할을 클릭하여 다중 선택

---

## 💡 모범 사례

### 1. 명확한 메뉴 구조

- **공개 메뉴**: 홈, 소개, 연락처 등 (Everyone)
- **인증 메뉴**: 내 계정, 설정 등 (로그인한 사용자)
- **역할별 메뉴**: 각 역할 전용 관리 메뉴 (특정 역할)

### 2. 일관성 있는 메뉴 이름

- **판매자**: "판매자 대시보드", "주문 관리", "상품 관리"
- **공급자**: "공급자 대시보드", "재고 관리", "파트너 관리"
- **제휴자**: "제휴자 대시보드", "캠페인 관리", "수익 통계"

### 3. 서브메뉴 활용

복잡한 메뉴 구조는 서브메뉴로 정리:
```
관리 (Everyone)
  ├─ 주문 관리 (seller)
  ├─ 재고 관리 (supplier)
  └─ 마케팅 (affiliate)
```

### 4. 중복 방지

같은 메뉴를 여러 역할에게 표시해야 한다면:
- ❌ 나쁜 예: 동일한 메뉴를 역할별로 각각 생성
- ✅ 좋은 예: 하나의 메뉴 항목에 여러 역할을 선택

---

## 📚 관련 문서

- [역할 기반 네비게이션 기술 문서](../ROLE_BASED_NAVIGATION.md)
- [역할 개인화 시스템 문서](../ROLE_PERSONALIZATION.md)
- [메뉴 시스템 관리자 가이드](menu-management.md)

---

## 📞 지원

문제가 발생하거나 추가 도움이 필요하시면:
- **이메일**: support@neture.co.kr
- **GitHub Issues**: https://github.com/Renagang21/o4o-platform/issues
- **관리자 대시보드**: https://admin.neture.co.kr

---

*최종 업데이트: 2025-10-30*
*버전: 1.0.0*
