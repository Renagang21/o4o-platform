# =============================================================================
# Docker Ignore - O4O API Server
# =============================================================================
# tsup builds a single bundled main.js with all @o4o/* packages inlined.
# Only external npm dependencies are needed at runtime.
# =============================================================================

# Ignore everything by default
*

# Allow bundled output from tsup
# - main.js: API Server entry (Cloud Run Service)
# - migrate.js: Migration CLI entry (Cloud Run Job)
!dist/main.js
!dist/main.js.map
!dist/migrate.js
!dist/migrate.js.map

# Allow migrations for TypeORM auto-migration on startup
!dist/database
!dist/database/migrations
!dist/database/migrations/*.js
!dist/database/migrations/*.js.map

# Allow production dependencies manifest
!package.production.json

# Allow Dockerfile
!Dockerfile
