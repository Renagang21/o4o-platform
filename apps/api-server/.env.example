# ================================
# O4O Platform - API Server Environment Variables Example
# 이 파일을 .env로 복사하여 사용하세요
# cp .env.example .env
# chmod 600 .env
# ================================

# === 서버 기본 설정 ===
NODE_ENV=development
SERVER_TYPE=apiserver
PORT=3002

# === 데이터베이스 (PostgreSQL) ===
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=your_db_password_here
DB_NAME=o4o_platform

# === 보안 및 인증 ===
JWT_SECRET=your-jwt-secret-key-here
JWT_REFRESH_SECRET=your-refresh-secret-key-here
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=7d
SESSION_SECRET=your-session-secret-key-here

# === 개발 모드 설정 ===
BYPASS_AUTH=false

# === CORS 설정 ===
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,http://localhost:5173,http://localhost:5174,https://neture.co.kr,https://admin.neture.co.kr
CORS_CREDENTIALS=true

# === 이메일 서비스 (P1 Phase B - Enrollment Notifications) ===
# Email service enabled/disabled (set to false to disable all email sending)
EMAIL_SERVICE_ENABLED=false

# SMTP Configuration
# Option 1: AWS SES (Production - Recommended)
# Get credentials from: AWS SES Console → SMTP Settings → Create SMTP Credentials
# See: docs/dev/setup/aws-ses-setup-guide.md
SMTP_HOST=email-smtp.ap-northeast-2.amazonaws.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-aws-ses-smtp-username
SMTP_PASS=your-aws-ses-smtp-password

# Option 2: Gmail SMTP (Development/Testing only)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-specific-password

# Email Sender Configuration
EMAIL_FROM_NAME=Neture Platform
EMAIL_FROM_ADDRESS=noreply@neture.co.kr

# Frontend URLs (used in email templates for links)
FRONTEND_URL=https://neture.co.kr
ADMIN_URL=https://admin.neture.co.kr

# === Redis (개발환경 비활성화) ===
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# === 파일 업로드 ===
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_DIR=./uploads

# === 로깅 ===
LOG_LEVEL=debug
LOG_DIR=./logs

# === 모니터링 ===
MONITORING_ENABLED=true
HEALTH_CHECK_PATH=/api/health

# === API 문서 ===
SWAGGER_ENABLED=true
API_DOCS_PATH=/api-docs

# === Route Deprecation (Phase 2 - CPT Service Unification) ===
# Controls deprecation warnings for legacy API routes
# When enabled, legacy routes will return Deprecation headers
# Options: on | off
ROUTE_DEPRECATION_FLAGS=on

# === 소셜 로그인 (선택적) ===
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
KAKAO_CLIENT_ID=your-kakao-client-id
KAKAO_CLIENT_SECRET=your-kakao-client-secret
NAVER_CLIENT_ID=your-naver-client-id
NAVER_CLIENT_SECRET=your-naver-client-secret

# === 결제 (Phase PG-1: Toss Payments Integration) ===
# Toss Payments Secret Key (Server-side API calls)
# For testing: Get test keys from https://developers.tosspayments.com/
# Test key format: test_sk_*****
# Production key format: live_sk_*****
TOSS_SECRET_KEY=test_sk_zXLkKEypNArWmo50nX3lmeaxYG5R

# Toss Payments Client Key (Frontend SDK, optional)
# Test key format: test_ck_*****
# Production key format: live_ck_*****
TOSS_CLIENT_KEY=test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq

# Toss Payments API Base URL (optional, defaults to production URL)
# TOSS_API_BASE_URL=https://api.tosspayments.com/v1

# === 파트너 정산 설정 ===
# 파트너 정산 기능 활성화 여부 (true/false)
ENABLE_PARTNER_SETTLEMENT=false
# 정산 보류 기간 (일) - 주문 확정 후 정산까지 대기 시간
SETTLEMENT_HOLD_DAYS=7

# === 웹훅 보안 설정 ===
# 웹훅 타임스탬프 Clock Skew 허용 범위 (초) - 웹훅 요청의 최대 시간 차이
# 기본값: 300초 (5분)
WEBHOOK_CLOCK_SKEW_SECONDS=300

# === SiteGuide 서비스 설정 (WO-SITEGUIDE-ADMIN-AUTH-GUARD-V1) ===
# SiteGuide Admin API 인증 키
# Admin API 호출 시 X-SITEGUIDE-ADMIN-KEY 헤더에 이 값을 전달
# 운영 환경에서는 반드시 강력한 랜덤 문자열로 설정 (최소 32자 권장)
# 예: openssl rand -hex 32
SITEGUIDE_ADMIN_KEY=your-siteguide-admin-key-here