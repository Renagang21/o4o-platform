import{y as S,a as O,C as v,d as w,h,z as C,j as e,L as A,r as p,A as R,D as z,v as K,G as M,J as $,K as B}from"./vendor-react-Cb3rBkAv.js";import{a as E,u as V,b as W}from"./vendor-query-Cr2HpTb8.js";import{c as D,h as q,G as F,f as b,B as r,I as L,n as H,o as Q,p as _,q as G,C as x,H as J,J as u}from"./cart-components-BZREMwR_.js";import{u as P}from"./shop-pages-CXTtpwo2.js";import"./product-components-VaV2W_w2.js";const k={pending:{label:"주문 대기",color:"bg-yellow-100 text-yellow-800",icon:C},confirmed:{label:"주문 확인",color:"bg-blue-100 text-blue-800",icon:v},processing:{label:"처리 중",color:"bg-orange-100 text-orange-800",icon:h},shipped:{label:"배송 중",color:"bg-purple-100 text-purple-800",icon:w},delivered:{label:"배송 완료",color:"bg-green-100 text-green-800",icon:v},cancelled:{label:"주문 취소",color:"bg-red-100 text-red-800",icon:O},returned:{label:"반품",color:"bg-gray-100 text-gray-800",icon:S},refunded:{label:"환불 완료",color:"bg-gray-100 text-gray-800",icon:S}},U=({order:t,onCancel:a,onTrack:c,onReorder:n,onReview:m,className:j})=>{const i=k[t.status]||k.pending,g=i.icon,N=["pending","confirmed"].includes(t.status),d=["shipped","delivered"].includes(t.status),y=t.status==="delivered",f=["delivered","cancelled"].includes(t.status);return e.jsxs("div",{className:D("border rounded-lg p-6 space-y-4",j),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(A,{to:`/orders/${t.id}`,className:"font-medium hover:text-primary",children:["주문번호: ",t.orderNumber]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:q(t.createdAt,"long")})]}),e.jsxs(F,{className:D("flex items-center gap-1",i.color),children:[e.jsx(g,{className:"h-4 w-4"}),i.label]})]}),e.jsxs("div",{className:"space-y-2",children:[t.items.slice(0,2).map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[s.productImage?e.jsx("img",{src:s.productImage,alt:s.productName,className:"w-12 h-12 object-cover rounded"}):e.jsx("div",{className:"w-12 h-12 bg-muted rounded flex items-center justify-center",children:e.jsx(h,{className:"h-6 w-6 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium line-clamp-1",children:s.productName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[b(s.unitPrice)," x ",s.quantity,"개"]})]})]},s.id)),t.items.length>2&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["외 ",t.items.length-2,"개 상품"]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["총 ",t.items.length,"개 상품"]}),e.jsx("p",{className:"font-semibold",children:b(t.summary.total)})]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(A,{to:`/orders/${t.id}`,className:"flex-1",children:e.jsx(r,{variant:"outline",size:"sm",className:"w-full",children:"주문 상세"})}),d&&c&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>c(t.id),children:"배송 추적"}),N&&a&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>a(t.id),className:"text-destructive hover:text-destructive",children:"주문 취소"}),y&&m&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>m(t.id),children:"리뷰 작성"}),f&&n&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>n(t.id),children:"재주문"})]})]})},T=[{id:"1",orderNumber:"ORD-2025-0001",buyerId:"1",buyerType:"customer",buyerName:"홍길동",buyerEmail:"user@example.com",status:"delivered",paymentStatus:"completed",paymentMethod:"card",currency:"KRW",items:[{id:"1",productId:"1",productName:"프리미엄 무선 헤드폰",productSku:"WH-001",productImage:"https://via.placeholder.com/100x100",quantity:2,unitPrice:89e3,totalPrice:178e3,supplierId:"1",supplierName:"테크 서플라이"},{id:"2",productId:"2",productName:"스마트 워치 프로",productSku:"SW-PRO-001",productImage:"https://via.placeholder.com/100x100",quantity:1,unitPrice:259e3,totalPrice:259e3,supplierId:"1",supplierName:"테크 서플라이"}],summary:{subtotal:437e3,discount:0,shipping:0,tax:43700,total:480700},shippingAddress:{recipientName:"홍길동",phone:"010-1234-5678",zipCode:"12345",address:"서울시 강남구 테헤란로 123",detailAddress:"10층",city:"서울",country:"KR"},billingAddress:{recipientName:"홍길동",phone:"010-1234-5678",zipCode:"12345",address:"서울시 강남구 테헤란로 123",detailAddress:"10층",city:"서울",country:"KR"},orderDate:new Date(Date.now()-10080*60*1e3).toISOString(),createdAt:new Date(Date.now()-10080*60*1e3).toISOString(),updatedAt:new Date(Date.now()-2880*60*1e3).toISOString()},{id:"2",orderNumber:"ORD-2025-0002",buyerId:"1",buyerType:"customer",buyerName:"홍길동",buyerEmail:"user@example.com",status:"shipped",paymentStatus:"completed",paymentMethod:"kakao_pay",currency:"KRW",items:[{id:"3",productId:"3",productName:"블루투스 키보드",productSku:"KB-BT-001",productImage:"https://via.placeholder.com/100x100",quantity:1,unitPrice:59e3,totalPrice:59e3,supplierId:"1",supplierName:"테크 서플라이"}],summary:{subtotal:59e3,discount:0,shipping:0,tax:5900,total:64900},shippingAddress:{recipientName:"홍길동",phone:"010-1234-5678",zipCode:"12345",address:"서울시 강남구 테헤란로 123",detailAddress:"10층",city:"서울",country:"KR"},billingAddress:{recipientName:"홍길동",phone:"010-1234-5678",zipCode:"12345",address:"서울시 강남구 테헤란로 123",detailAddress:"10층",city:"서울",country:"KR"},orderDate:new Date(Date.now()-4320*60*1e3).toISOString(),createdAt:new Date(Date.now()-4320*60*1e3).toISOString(),updatedAt:new Date(Date.now()-1440*60*1e3).toISOString()}],I=[{value:"all",label:"전체"},{value:"pending",label:"주문 대기"},{value:"processing",label:"처리 중"},{value:"shipped",label:"배송 중"},{value:"delivered",label:"배송 완료"},{value:"cancelled",label:"취소/환불"}];function ne(){P();const t=E(),[a,c]=p.useState(""),[n,m]=p.useState("all"),[j]=p.useState({}),{data:i=T,isLoading:g}=V({queryKey:["orders",{status:n,search:a,dateRange:j}],queryFn:async()=>{let s=[...T];return n!=="all"&&(s=s.filter(l=>n==="cancelled"?["cancelled","refunded"].includes(l.status):l.status===n)),a&&(s=s.filter(l=>l.orderNumber.toLowerCase().includes(a.toLowerCase())||l.items.some(o=>o.productName.toLowerCase().includes(a.toLowerCase())))),s}}),N=W({mutationFn:async()=>{},onSuccess:()=>{t.invalidateQueries({queryKey:["orders"]})}}),d=()=>{alert("배송 추적")},y=()=>{alert("재주문")},f=()=>{alert("리뷰 작성")};return g?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"주문 내역을 불러오는 중..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"주문 내역"}),e.jsx("p",{className:"text-muted-foreground",children:"주문하신 상품의 배송 상태를 확인하실 수 있습니다."})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(R,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(L,{type:"search",placeholder:"주문번호 또는 상품명 검색...",value:a,onChange:s=>c(s.target.value),className:"pl-10"})]}),e.jsxs(r,{variant:"outline",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"기간 설정"]})]})}),e.jsxs(H,{defaultValue:n,children:[e.jsx(Q,{className:"w-full justify-start",children:I.map(s=>{const l=s.value==="all"?i.length:i.filter(o=>s.value==="cancelled"?["cancelled","refunded"].includes(o.status):o.status===s.value).length;return e.jsxs(_,{value:s.value,onClick:()=>m(s.value),children:[s.label," ",l>0&&`(${l})`]},s.value)})}),e.jsx(G,{value:n,className:"mt-6",children:i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(h,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"주문 내역이 없습니다"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:n==="all"?"아직 주문하신 상품이 없습니다.":`${I.find(s=>s.value===n)?.label} 상태의 주문이 없습니다.`}),e.jsx(r,{onClick:()=>window.location.href="/products",children:"쇼핑하러 가기"})]}):e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsx(U,{order:s,onCancel:()=>N.mutate(),onTrack:d,onReorder:y,onReview:f},s.id))})})]})]})}function re(){const{user:t}=P();return t?e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"내 프로필"}),e.jsxs(x,{children:[e.jsx(J,{children:e.jsx("h2",{className:"text-xl font-semibold",children:"회원 정보"})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"이름"}),e.jsx("p",{className:"font-medium",children:t.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"이메일"}),e.jsx("p",{className:"font-medium",children:t.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"회원 등급"}),e.jsx("p",{className:"font-medium capitalize",children:t.role})]})]})]})]}):e.jsx("div",{children:"로그인이 필요합니다."})}const X=[{id:"1",orderNumber:"ORD-2024-001",customer:{name:"김철수",email:"kim@example.com",phone:"010-1234-5678"},items:[{name:"무선 블루투스 이어폰 Pro",quantity:1,price:89e3},{name:"충전 케이스",quantity:1,price:15e3}],totalAmount:104e3,status:"processing",paymentStatus:"paid",paymentMethod:"신용카드",shippingAddress:"서울시 강남구 테헤란로 123, 아파트 101동 202호",createdAt:new Date("2024-01-20T10:30:00"),updatedAt:new Date("2024-01-20T11:00:00")},{id:"2",orderNumber:"ORD-2024-002",customer:{name:"이영희",email:"lee@example.com",phone:"010-2345-6789"},items:[{name:"스마트워치 Series 5",quantity:1,price:299e3}],totalAmount:299e3,status:"shipped",paymentStatus:"paid",paymentMethod:"계좌이체",shippingAddress:"부산시 해운대구 마린시티 456",createdAt:new Date("2024-01-19T14:20:00"),updatedAt:new Date("2024-01-20T09:15:00")},{id:"3",orderNumber:"ORD-2024-003",customer:{name:"박민수",email:"park@example.com",phone:"010-3456-7890"},items:[{name:"휴대용 블루투스 스피커",quantity:2,price:149e3}],totalAmount:298e3,status:"delivered",paymentStatus:"paid",paymentMethod:"카카오페이",shippingAddress:"대구시 중구 동성로 789",createdAt:new Date("2024-01-18T16:45:00"),updatedAt:new Date("2024-01-20T10:30:00")},{id:"4",orderNumber:"ORD-2024-004",customer:{name:"정수진",email:"jung@example.com",phone:"010-4567-8901"},items:[{name:"태블릿 보호 케이스",quantity:1,price:39e3},{name:"강화유리 필름",quantity:2,price:12e3}],totalAmount:63e3,status:"pending",paymentStatus:"pending",paymentMethod:"무통장입금",shippingAddress:"인천시 연수구 송도동 123-45",createdAt:new Date("2024-01-20T13:00:00"),updatedAt:new Date("2024-01-20T13:00:00")}],Y={pending:{label:"주문확인중",icon:C,color:"bg-yellow-100 text-yellow-800"},processing:{label:"처리중",icon:h,color:"bg-blue-100 text-blue-800"},shipped:{label:"배송중",icon:w,color:"bg-purple-100 text-purple-800"},delivered:{label:"배송완료",icon:v,color:"bg-green-100 text-green-800"},cancelled:{label:"취소됨",icon:O,color:"bg-red-100 text-red-800"}},Z={paid:{label:"결제완료",color:"bg-green-100 text-green-800"},pending:{label:"결제대기",color:"bg-yellow-100 text-yellow-800"},failed:{label:"결제실패",color:"bg-red-100 text-red-800"}};function ie(){const t=K(),[a]=p.useState(X),[c,n]=p.useState(""),[m,j]=p.useState("all"),[i,g]=p.useState("all"),N=a.filter(s=>{const l=s.orderNumber.toLowerCase().includes(c.toLowerCase())||s.customer.name.toLowerCase().includes(c.toLowerCase())||s.customer.email.toLowerCase().includes(c.toLowerCase()),o=m==="all"||s.status===m;return l&&o}),d={total:a.length,pending:a.filter(s=>s.status==="pending").length,processing:a.filter(s=>s.status==="processing").length,shipped:a.filter(s=>s.status==="shipped").length,delivered:a.filter(s=>s.status==="delivered").length},y=s=>{t(`/vendor/orders/${s}`)},f=(s,l)=>{};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"주문 관리"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"주문 현황을 확인하고 배송 상태를 관리하세요"})]}),e.jsxs(r,{variant:"outline",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"주문 내역 다운로드"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(x,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"전체 주문"}),e.jsx("p",{className:"text-2xl font-bold",children:d.total})]}),e.jsx(h,{className:"h-8 w-8 text-gray-400"})]})})}),e.jsx(x,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"주문확인중"}),e.jsx("p",{className:"text-2xl font-bold",children:d.pending})]}),e.jsx(C,{className:"h-8 w-8 text-yellow-500"})]})})}),e.jsx(x,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"처리중"}),e.jsx("p",{className:"text-2xl font-bold",children:d.processing})]}),e.jsx(h,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(x,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"배송중"}),e.jsx("p",{className:"text-2xl font-bold",children:d.shipped})]}),e.jsx(w,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(x,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"배송완료"}),e.jsx("p",{className:"text-2xl font-bold",children:d.delivered})]}),e.jsx(v,{className:"h-8 w-8 text-green-500"})]})})})]}),e.jsx(x,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(L,{type:"text",placeholder:"주문번호, 고객명, 이메일로 검색...",value:c,onChange:s=>n(s.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:m,onChange:s=>j(s.target.value),children:[e.jsx("option",{value:"all",children:"전체 상태"}),e.jsx("option",{value:"pending",children:"주문확인중"}),e.jsx("option",{value:"processing",children:"처리중"}),e.jsx("option",{value:"shipped",children:"배송중"}),e.jsx("option",{value:"delivered",children:"배송완료"}),e.jsx("option",{value:"cancelled",children:"취소됨"})]}),e.jsxs("select",{className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:s=>g(s.target.value),children:[e.jsx("option",{value:"all",children:"전체 기간"}),e.jsx("option",{value:"today",children:"오늘"}),e.jsx("option",{value:"week",children:"이번 주"}),e.jsx("option",{value:"month",children:"이번 달"})]}),e.jsxs(r,{variant:"outline",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"필터"]})]})]})})}),e.jsx(x,{children:e.jsx(u,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"주문정보"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"고객"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상품"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"결제"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"작업"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(s=>{const l=Y[s.status],o=Z[s.paymentStatus];return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.orderNumber}),e.jsx("div",{className:"text-sm text-gray-500",children:q(s.createdAt)})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.customer.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.customer.email})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.items[0].name}),s.items.length>1&&e.jsxs("div",{className:"text-gray-500",children:["외 ",s.items.length-1,"개"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b(s.totalAmount)}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${o.color}`,children:o.label})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(l.icon,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${l.color}`,children:l.label})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{size:"sm",variant:"outline",onClick:()=>y(s.id),children:e.jsx(B,{className:"h-4 w-4"})}),s.status==="processing"&&e.jsx(r,{size:"sm",onClick:()=>f(s.id),children:"배송시작"})]})})]},s.id)})})]})})})})]})}export{ne as O,re as P,ie as V};
