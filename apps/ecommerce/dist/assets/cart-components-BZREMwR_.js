import{j as s,r as b,C as h,a as N,b as w,L as v,M as k,P as C,T as $,c as M,d as D,S as I,e as S,f as j,B as T,g as z}from"./vendor-react-Cb3rBkAv.js";import{t as F,c as R}from"./vendor-ui-BkLtITBR.js";const p=({variant:e="primary",size:t="md",className:r="",children:n,...o})=>{const d="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",a={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",default:"bg-primary text-primary-foreground hover:bg-primary/90"},i={sm:"h-9 px-3 text-sm",md:"h-10 py-2 px-4",lg:"h-11 px-8",icon:"h-10 w-10 p-0"};return s.jsx("button",{className:`${d} ${a[e]} ${i[t]} ${r}`,...o,children:n})},K=({className:e="",error:t,...r})=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("input",{className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t?"border-red-500":""} ${e}`,...r}),t&&s.jsx("p",{className:"text-sm text-red-500",children:t})]}),V=({className:e="",children:t,...r})=>s.jsx("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm ${e}`,...r,children:t}),U=({className:e="",children:t,...r})=>s.jsx("div",{className:`flex flex-col space-y-1.5 p-6 ${e}`,...r,children:t}),q=({className:e="",children:t,...r})=>s.jsx("div",{className:`p-6 pt-0 ${e}`,...r,children:t}),G=({className:e="",children:t,...r})=>s.jsx("h3",{className:`text-2xl font-semibold leading-none tracking-tight ${e}`,...r,children:t}),W=({className:e="",children:t,...r})=>s.jsx("p",{className:`text-sm text-muted-foreground ${e}`,...r,children:t}),X=({className:e="",children:t,...r})=>s.jsx("div",{className:`flex items-center p-6 pt-0 ${e}`,...r,children:t}),J=({className:e="",children:t,...r})=>s.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e}`,...r,children:t}),Y=({variant:e="default",className:t="",children:r,...n})=>{const o={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground"};return s.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${o[e]} ${t}`,...n,children:r})},B=({className:e="",onCheckedChange:t,...r})=>s.jsx("input",{type:"checkbox",className:`h-4 w-4 rounded border border-primary text-primary focus:ring-2 focus:ring-primary focus:ring-offset-2 ${e}`,onChange:n=>t?.(n.target.checked),...r}),_=({className:e="",...t})=>s.jsx("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...t}),A=({className:e="",children:t,...r})=>s.jsx("select",{className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...r,children:t}),Z=({className:e="",value:t,onValueChange:r,name:n,children:o,...d})=>s.jsx("div",{className:`grid gap-2 ${e}`,"data-value":t,"data-name":n,...d,children:o}),ee=({className:e="",...t})=>s.jsx("input",{type:"radio",className:`h-4 w-4 rounded-full border border-primary text-primary focus:ring-2 focus:ring-primary focus:ring-offset-2 ${e}`,...t}),se=({className:e="",children:t,...r})=>s.jsx("div",{className:`${e}`,...r,children:t}),te=({className:e="",children:t,...r})=>s.jsx("div",{className:`inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground ${e}`,...r,children:t}),re=({className:e="",children:t,...r})=>s.jsx("button",{className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm ${e}`,...r,children:t}),ne=({className:e="",children:t,value:r,...n})=>s.jsx("div",{className:`mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${e}`,"data-value":r,...n,children:t}),ae=({className:e="",value:t=0,max:r=100,...n})=>{const o=Math.min(100,Math.max(0,t/r*100));return s.jsx("div",{className:`relative h-4 w-full overflow-hidden rounded-full bg-secondary ${e}`,...n,children:s.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-o}%)`}})})},oe=({className:e="",...t})=>s.jsx("div",{className:`animate-pulse rounded-md bg-muted ${e}`,...t}),ie=({className:e="",children:t,...r})=>s.jsx("div",{role:"alert",className:`relative w-full rounded-lg border p-4 ${e}`,...r,children:t}),le=({className:e="",children:t,...r})=>s.jsx("div",{className:`text-sm [&_p]:leading-relaxed ${e}`,...r,children:t}),ce=({children:e,...t})=>s.jsx("div",{className:"relative inline-block text-left",...t,children:e}),de=({children:e,asChild:t,...r})=>t&&b.isValidElement(e)?b.cloneElement(e,r):s.jsx("button",{...r,children:e}),ue=({className:e="",align:t="center",children:r,...n})=>s.jsx("div",{className:`z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md ${e}`,...n,children:r}),me=({className:e="",children:t,...r})=>s.jsx("div",{className:`relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground ${e}`,...r,children:t}),xe=({className:e="",children:t,...r})=>s.jsx("button",{className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...r,children:t}),fe=({placeholder:e})=>s.jsx("span",{children:e||"Select..."}),ge=({className:e="",children:t,...r})=>s.jsx("div",{className:`relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md ${e}`,...r,children:t}),pe=({className:e="",children:t,value:r,...n})=>s.jsx("div",{className:`relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground ${e}`,"data-value":r,...n,children:t}),be=({className:e="",type:t="single",children:r,...n})=>s.jsx("div",{className:`inline-flex rounded-md shadow-sm ${e}`,role:"group",...n,children:r}),he=({className:e="",value:t,children:r,...n})=>s.jsx("button",{type:"button",className:`inline-flex items-center justify-center px-3 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 ${e}`,"data-value":t,...n,children:r}),ve=({open:e=!1,children:t,...r})=>e?s.jsxs("div",{className:"fixed inset-0 z-50",...r,children:[s.jsx("div",{className:"fixed inset-0 bg-black/50"}),t]}):null,je=({className:e="",children:t,...r})=>s.jsx("div",{className:"fixed left-[50%] top-[50%] z-50 translate-x-[-50%] translate-y-[-50%]",children:s.jsx("div",{className:`max-h-[85vh] w-full max-w-lg overflow-auto rounded-lg bg-white p-6 shadow-lg ${e}`,...r,children:t})}),ye=({className:e="",children:t,...r})=>s.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${e}`,...r,children:t}),Ne=({className:e="",children:t,...r})=>s.jsx("h2",{className:`text-lg font-semibold leading-none tracking-tight ${e}`,...r,children:t});function m(e,t="KRW",r="ko-KR"){const n=typeof e=="string"?parseFloat(e):e;return isNaN(n)?"₩0":new Intl.NumberFormat(r,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(n)}function we(e){return m(e,"KRW","ko-KR")}function ke(e,t="medium",r="ko-KR"){const n=typeof e=="string"||typeof e=="number"?new Date(e):e;if(isNaN(n.getTime()))return"";const o={};switch(t){case"short":o.year="numeric",o.month="2-digit",o.day="2-digit";break;case"medium":o.year="numeric",o.month="long",o.day="numeric";break;case"long":o.year="numeric",o.month="long",o.day="numeric",o.weekday="long";break;case"full":o.year="numeric",o.month="long",o.day="numeric",o.weekday="long",o.hour="2-digit",o.minute="2-digit";break}return new Intl.DateTimeFormat(r,o).format(n)}function E(e,t=1,r=!1){const n=typeof e=="string"?parseFloat(e):e;return isNaN(n)?"0%":`${(r?n*100:n).toFixed(t)}%`}function L(e,t=new Date,r="ko-KR"){const n=typeof e=="string"||typeof e=="number"?new Date(e):e;if(isNaN(n.getTime()))return"";const o=n.getTime()-t.getTime(),d=Math.round(o/1e3),a=Math.round(d/60),i=Math.round(a/60),l=Math.round(i/24),u=Math.round(l/30),x=Math.round(l/365),c=new Intl.RelativeTimeFormat(r,{numeric:"auto"});return Math.abs(d)<60?c.format(d,"second"):Math.abs(a)<60?c.format(a,"minute"):Math.abs(i)<24?c.format(i,"hour"):Math.abs(l)<30?c.format(l,"day"):Math.abs(u)<12?c.format(u,"month"):c.format(x,"year")}function Ce(e,t="ko-KR"){return L(e,new Date,t)}function f(...e){return F(R(e))}const y=({price:e,compareAtPrice:t,priceByRole:r,userRole:n,showDiscount:o=!0,showSavings:d=!1,size:a="md",className:i})=>{const l=!r||!n?e:n==="customer"||n==="business"||n==="affiliate"?r[n]||e:n==="retailer"&&typeof r.retailer=="object"&&r.retailer.gold||e,u=t&&t>l?(t-l)/t*100:0,x=t&&t>l?t-l:0,c={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},g={sm:"text-base",md:"text-lg",lg:"text-xl",xl:"text-2xl"};return s.jsxs("div",{className:f("flex items-baseline space-x-2",i),children:[s.jsx("span",{className:f("font-semibold",g[a]),children:m(l)}),t&&t>l&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:f("text-muted-foreground line-through",c[a]),children:m(t)}),o&&u>0&&s.jsxs("span",{className:"text-destructive font-medium",children:["-",E(u/100)]}),d&&x>0&&s.jsxs("span",{className:"text-green-600 text-sm",children:["절약 ",m(x)]})]})]})},O=({stockQuantity:e,lowStockThreshold:t=5,manageStock:r=!0,showIcon:n=!0,showQuantity:o=!1,className:d})=>{if(!r)return s.jsxs("div",{className:f("flex items-center space-x-1 text-blue-600",d),children:[n&&s.jsx(h,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"재고 관리 안함"})]});const i=e===0?{label:"품절",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",icon:N}:e<=t?{label:"재고 부족",color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",icon:w}:{label:"재고 있음",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",icon:h},l=i.icon;return s.jsxs("div",{className:f("inline-flex items-center space-x-1 px-2 py-1 rounded-full text-sm",i.bgColor,i.borderColor,"border",d),children:[n&&s.jsx(l,{className:f("w-4 h-4",i.color)}),s.jsxs("span",{className:i.color,children:[i.label,o&&e>0&&` (${e}개)`]})]})},$e=({item:e,isSelected:t,onSelect:r,onQuantityChange:n,onRemove:o,className:d})=>{const{product:a,quantity:i}=e;if(!a)return null;const l=c=>{const g=a.stockQuantity||100;c>=1&&c<=g&&n(e.id,c)},u=a.pricing?.customer||a.price||0,x=u*i;return s.jsxs("div",{className:f("flex gap-4 p-4 border rounded-lg",d),children:[s.jsx("div",{className:"flex items-center",children:s.jsx(B,{checked:t,onCheckedChange:c=>r(e.id,c)})}),s.jsx(v,{to:`/products/${a.slug||a.id}`,children:s.jsx("div",{className:"w-24 h-24 bg-muted rounded-lg overflow-hidden",children:a.images&&a.images[0]?s.jsx("img",{src:a.images[0].url,alt:a.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No Image"})})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(v,{to:`/products/${a.slug||a.id}`,children:s.jsx("h3",{className:"font-medium hover:text-primary",children:a.name})}),e.attributes&&Object.keys(e.attributes).length>0&&s.jsx("div",{className:"text-sm text-muted-foreground",children:Object.entries(e.attributes).map(([c,g])=>s.jsxs("span",{children:[c,": ",g," "]},c))}),s.jsx(O,{stockQuantity:a.stockQuantity,manageStock:a.manageStock}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(p,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>l(i-1),disabled:i<=1,children:s.jsx(k,{className:"h-4 w-4"})}),s.jsx(K,{type:"number",value:i,onChange:c=>l(Number(c.target.value)),className:"w-16 h-8 text-center",min:1,max:a.stockQuantity||100}),s.jsx(p,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>l(i+1),disabled:i>=(a.stockQuantity||100),children:s.jsx(C,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["재고: ",a.stockQuantity||100,"개"]})]})]}),s.jsxs("div",{className:"text-right space-y-2",children:[s.jsx(y,{price:x,compareAtPrice:a.compareAtPrice?a.compareAtPrice*i:void 0,size:"lg"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["개당 ",s.jsx(y,{price:u,size:"sm"})]}),s.jsx(p,{variant:"ghost",size:"sm",onClick:()=>o(e.id),className:"text-destructive hover:text-destructive",children:s.jsx($,{className:"h-4 w-4"})})]})]})},Me=({summary:e,userRole:t,userGrade:r,onCheckout:n,loading:o=!1,className:d})=>{const a=t==="retailer",i=r==="vip",u=(()=>{if(!a)return 0;switch(r){case"gold":return 0;case"premium":return 3;case"vip":return 5;default:return 0}})(),x=u>0;return s.jsxs(V,{className:f("p-6 space-y-4",d),children:[s.jsx("h3",{className:"font-semibold text-lg",children:"주문 요약"}),a&&r&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg",children:[s.jsx(M,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-medium text-sm",children:[r.toUpperCase()," 회원 혜택"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[u>0?`${u}% 추가 할인`:"기본 가격 적용",i&&" + 무료배송"]})]})]}),s.jsxs("div",{className:"space-y-2 py-4 border-y",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"상품 금액"}),s.jsx("span",{children:m(e.subtotal)})]}),x&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsxs("span",{children:["등급 할인 (",u,"%)"]}),s.jsxs("span",{children:["-",m(e.discount||0)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(D,{className:"h-4 w-4"}),"배송비"]}),s.jsx("span",{children:e.shipping===0?s.jsx("span",{className:"text-green-600",children:"무료"}):m(e.shipping)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"부가세"}),s.jsx("span",{children:m(e.tax)})]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[s.jsx("span",{children:"총 결제금액"}),s.jsx("span",{className:"text-primary",children:m(e.total)})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:i?s.jsx("p",{children:"✓ VIP 회원 무료배송 적용"}):s.jsx("p",{children:"✓ 5만원 이상 구매시 무료배송"})}),s.jsxs(p,{onClick:n,disabled:o||e.total===0,className:"w-full",size:"lg",children:[s.jsx(I,{className:"h-5 w-5 mr-2"}),o?"처리 중...":"결제하기"]})]})},P=({attributes:e})=>{const[t,r]=b.useState(String(e.default||"card")),n=e.showIcons!==!1,o=e.showDescription!==!1,d=[{id:"card",name:"신용/체크카드",description:"Visa, Mastercard, 국내 모든 카드",icon:S,badge:"즉시결제"},{id:"kakao",name:"카카오페이",description:"카카오페이로 간편하게 결제",icon:j,badge:"간편결제"},{id:"naver",name:"네이버페이",description:"네이버페이 포인트 적립 가능",icon:j,badge:"간편결제"},{id:"transfer",name:"계좌이체",description:"실시간 계좌이체로 결제",icon:T,badge:null},{id:"virtual",name:"가상계좌",description:"입금 확인 후 주문 처리",icon:z,badge:null}];return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg",children:"결제 수단 선택"}),s.jsx("div",{className:"space-y-2",children:d.map(a=>{const i=a.icon,l=t===a.id;return s.jsxs("label",{className:`
                flex items-center p-4 rounded-lg border cursor-pointer
                transition-all
                ${l?"border-primary bg-primary/5 shadow-sm":"border-gray-200 hover:border-gray-300"}
              `,children:[s.jsx("input",{type:"radio",name:"payment-method",value:a.id,checked:l,onChange:u=>r(u.target.value),className:"text-primary"}),s.jsxs("div",{className:"flex-1 ml-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[n&&s.jsx(i,{className:`w-5 h-5 ${l?"text-primary":"text-gray-600"}`}),s.jsx("span",{className:"font-medium",children:a.name}),a.badge&&s.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:a.badge})]}),o&&a.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1 ml-8",children:a.description})]})]},a.id)})}),t==="virtual"&&s.jsx("div",{className:"bg-amber-50 text-amber-700 p-3 rounded text-sm",children:"가상계좌는 입금 확인 후 주문이 처리됩니다. (입금 기한: 3일)"}),(t==="kakao"||t==="naver")&&s.jsx("div",{className:"bg-blue-50 text-blue-700 p-3 rounded text-sm",children:"간편결제 선택 시 해당 앱으로 이동하여 결제를 진행합니다."})]})},De={name:"payment-methods",component:P,description:"결제 수단 선택 UI를 표시합니다",defaultAttributes:{showIcons:!0,showDescription:!0,default:"card"}};export{ie as A,p as B,V as C,ce as D,Me as E,ee as F,Y as G,U as H,K as I,q as J,X as K,J as L,G as M,W as N,we as O,ae as P,Ce as Q,Z as R,A as S,be as T,De as U,xe as a,fe as b,f as c,ge as d,pe as e,m as f,he as g,ke as h,de as i,ue as j,me as k,_ as l,oe as m,se as n,te as o,re as p,ne as q,ve as r,je as s,ye as t,Ne as u,le as v,y as w,O as x,B as y,$e as z};
