import{v as Z,j as e,L as E,k as ie,h as G,U as Se,V as ke,Y as Ce,Z as Ue,x as xe,d as Y,_ as ze,r as j,A as Pe,J as De,$ as Ve,a0 as He,t as Ie,a1 as Ke,a2 as We,G as Ge,a3 as he,e as Ae,u as pe,b as X,a4 as le,C as Oe,z as Fe,a5 as Ze,X as ee,a6 as re,a7 as ge,a8 as je,c as Je,a9 as Ye,aa as Te,ab as Xe,ac as es,ad as ss,ae as ts,af as as,ag as rs,ah as Le,P as me,T as Be,K as is,l as ls,ai as ns,aj as cs,ak as os,al as ds,am as ms,an as us}from"./vendor-react-Cb3rBkAv.js";import{u as z,a as J,b as V,Q as xs,c as hs}from"./vendor-query-Cr2HpTb8.js";import{u as fe,P as ps,t as F,a as gs,b as js,C as fs,c as ys,d as vs}from"./shop-pages-CXTtpwo2.js";import{P as Re,d as Ns,a as H,u as ne,p as bs,c as ue}from"./product-components-VaV2W_w2.js";import{B as v,I as y,C as w,S as ve,h as te,f as q,G as Ee,H as O,J as P,K as Qe,A as Me,v as qe,n as ws,o as Ss,p as ce,q as oe,m as Q,M as $,N as ae,L as B,c as ks,l as W,O as U,Q as Cs,U as Ps,r as Ds,s as Is,t as As,u as Os}from"./cart-components-BZREMwR_.js";import{O as Fs,P as Ts,V as Ls}from"./user-pages-Y4PU4peC.js";import{o as Bs,s as R,l as Rs,a as Es}from"./vendor-forms-CJipdo4q.js";import{a as Qs}from"./vendor-utils-COe-vthL.js";import"./vendor-socket-B_mMAB35.js";import"./vendor-ui-BkLtITBR.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();typeof window<"u"&&typeof globalThis>"u"&&(window.global=window);function Ms(){const{user:s,logout:a}=fe(),i=Z(),r=()=>{a(),i("/")};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("nav",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(E,{to:"/",className:"text-2xl font-bold",children:"O4O Shop"}),e.jsx(E,{to:"/products",className:"hover:text-primary",children:"상품"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(E,{to:"/cart",children:e.jsx(v,{variant:"ghost",size:"icon",children:e.jsx(ie,{className:"h-5 w-5"})})}),s?e.jsxs(e.Fragment,{children:[e.jsx(E,{to:"/orders",children:e.jsx(v,{variant:"ghost",size:"icon",children:e.jsx(G,{className:"h-5 w-5"})})}),e.jsx(E,{to:"/profile",children:e.jsx(v,{variant:"ghost",size:"icon",children:e.jsx(Se,{className:"h-5 w-5"})})}),e.jsx(v,{variant:"ghost",size:"icon",onClick:r,children:e.jsx(ke,{className:"h-5 w-5"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{to:"/login",children:e.jsx(v,{variant:"ghost",children:"로그인"})}),e.jsx(E,{to:"/register",children:e.jsx(v,{children:"회원가입"})})]})]})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx(Ce,{})}),e.jsx("footer",{className:"border-t mt-auto",children:e.jsx("div",{className:"container mx-auto px-4 py-8 text-center text-muted-foreground",children:e.jsx("p",{children:"© 2025 O4O Platform. All rights reserved."})})})]})}const qs=[{id:"1",name:"프리미엄 무선 헤드폰",slug:"premium-wireless-headphones",sku:"WH-001",description:"고품질 무선 헤드폰",shortDescription:"프리미엄 사운드",pricing:{customer:89e3,business:80100,affiliate:84550,retailer:{gold:84550,premium:82e3,vip:80100}},inventory:{stockQuantity:15,minOrderQuantity:1,lowStockThreshold:5,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"1",url:"https://via.placeholder.com/300x300",alt:"헤드폰",sortOrder:0,isFeatured:!0}],categories:[],tags:[],specifications:{},attributes:{},supplierId:"1",supplierName:"테크 서플라이",status:"active",approvalStatus:"approved",viewCount:0,salesCount:0,rating:4.5,reviewCount:128,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"1",isFeatured:!0,isVirtual:!1,isDownloadable:!1},{id:"2",name:"스마트 워치 프로",slug:"smart-watch-pro",sku:"SW-PRO-001",description:"첨단 기능의 스마트 워치",shortDescription:"프로급 스마트워치",pricing:{customer:259e3,business:233100,affiliate:246050,retailer:{gold:246050,premium:24e4,vip:233100}},inventory:{stockQuantity:8,minOrderQuantity:1,lowStockThreshold:3,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"2",url:"https://via.placeholder.com/300x300",alt:"스마트워치",sortOrder:0,isFeatured:!0}],categories:[],tags:[],specifications:{},attributes:{},supplierId:"1",supplierName:"테크 서플라이",status:"active",approvalStatus:"approved",viewCount:0,salesCount:0,rating:4.8,reviewCount:89,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"1",isFeatured:!0,isVirtual:!1,isDownloadable:!1},{id:"3",name:"블루투스 키보드",slug:"bluetooth-keyboard",sku:"KB-BT-001",description:"무선 블루투스 키보드",shortDescription:"휴대용 키보드",pricing:{customer:59e3,business:53100,affiliate:56050,retailer:{gold:56050,premium:54280,vip:53100}},inventory:{stockQuantity:25,minOrderQuantity:1,lowStockThreshold:5,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"3",url:"https://via.placeholder.com/300x300",alt:"키보드",sortOrder:0,isFeatured:!0}],categories:[],tags:[],specifications:{},attributes:{},supplierId:"1",supplierName:"테크 서플라이",status:"active",approvalStatus:"approved",viewCount:0,salesCount:0,rating:4.2,reviewCount:45,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"1",isFeatured:!1,isVirtual:!1,isDownloadable:!1},{id:"4",name:"휴대용 충전기",slug:"portable-charger",sku:"PC-001",description:"대용량 휴대용 충전기",shortDescription:"10000mAh 보조배터리",pricing:{customer:35e3,business:31500,affiliate:33250,retailer:{gold:33250,premium:32200,vip:31500}},inventory:{stockQuantity:0,minOrderQuantity:1,lowStockThreshold:5,manageStock:!0,allowBackorder:!1,stockStatus:"out_of_stock"},images:[{id:"4",url:"https://via.placeholder.com/300x300",alt:"충전기",sortOrder:0,isFeatured:!0}],categories:[],tags:[],specifications:{},attributes:{},supplierId:"1",supplierName:"테크 서플라이",status:"active",approvalStatus:"approved",viewCount:0,salesCount:0,rating:4.6,reviewCount:234,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"1",isFeatured:!1,isVirtual:!1,isDownloadable:!1}];function _s(){return e.jsxs("div",{className:"space-y-12",children:[e.jsxs("section",{className:"text-center py-16",children:[e.jsx("h1",{className:"text-5xl font-bold mb-4",children:"O4O 이커머스 플랫폼"}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"최고의 상품을 최적의 가격으로 만나보세요"}),e.jsx(E,{to:"/products",children:e.jsxs(v,{size:"lg",className:"gap-2",children:["쇼핑 시작하기 ",e.jsx(Ue,{className:"h-4 w-4"})]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"추천 상품"}),e.jsx(ps,{products:qs,autoplay:!0,interval:3e3})]}),e.jsxs("section",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(G,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"다양한 상품"}),e.jsx("p",{className:"text-muted-foreground",children:"수천 개의 엄선된 상품을 만나보세요"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(xe,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"안전한 거래"}),e.jsx("p",{className:"text-muted-foreground",children:"보안이 검증된 안전한 결제 시스템"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Y,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"빠른 배송"}),e.jsx("p",{className:"text-muted-foreground",children:"전국 어디서나 빠른 배송 서비스"})]})]}),e.jsxs("section",{className:"bg-muted rounded-lg p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"지금 회원가입하고 특별 혜택을 받으세요!"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"첫 구매 시 10% 할인 쿠폰 증정"}),e.jsx(E,{to:"/register",children:e.jsx(v,{size:"lg",children:"회원가입"})})]})]})}const Ne=[{id:"1",name:"프리미엄 무선 헤드폰",slug:"premium-wireless-headphones",sku:"WH-001",description:"최고급 사운드와 노이즈 캔슬링 기능을 갖춘 프리미엄 헤드폰",shortDescription:"프리미엄 무선 헤드폰",pricing:{customer:89e3,business:80100,affiliate:84550,retailer:{gold:84550,premium:82e3,vip:80100}},inventory:{stockQuantity:15,minOrderQuantity:1,lowStockThreshold:5,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},categories:["1"],tags:[],images:[{id:"1",url:"https://via.placeholder.com/400x400",alt:"헤드폰",sortOrder:0,isFeatured:!0}],featuredImageUrl:"https://via.placeholder.com/400x400",isFeatured:!0,status:"active",approvalStatus:"approved",supplierId:"1",supplierName:"테크 서플라이",specifications:{},attributes:{},viewCount:0,salesCount:0,rating:4.5,reviewCount:128,isVirtual:!1,isDownloadable:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"},{id:"2",name:"스마트 워치 프로",slug:"smart-watch-pro",sku:"SW-PRO-001",description:"건강 관리와 피트니스 추적을 위한 스마트 워치",shortDescription:"스마트 워치",pricing:{customer:259e3,business:233100,affiliate:246050,retailer:{gold:246050,premium:238780,vip:233100}},inventory:{stockQuantity:8,minOrderQuantity:1,lowStockThreshold:3,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},categories:["1"],tags:[],images:[{id:"2",url:"https://via.placeholder.com/400x400",alt:"스마트워치",sortOrder:0,isFeatured:!0}],featuredImageUrl:"https://via.placeholder.com/400x400",isFeatured:!0,status:"active",approvalStatus:"approved",supplierId:"1",supplierName:"테크 서플라이",specifications:{},attributes:{},viewCount:0,salesCount:0,rating:4.8,reviewCount:89,isVirtual:!1,isDownloadable:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"},{id:"3",name:"블루투스 키보드",slug:"bluetooth-keyboard",sku:"KB-BT-001",description:"편안한 타이핑을 위한 인체공학적 블루투스 키보드",shortDescription:"블루투스 키보드",pricing:{customer:59e3,business:53100,affiliate:56050,retailer:{gold:56050,premium:54280,vip:53100}},inventory:{stockQuantity:25,minOrderQuantity:1,lowStockThreshold:5,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},categories:["2"],tags:[],images:[{id:"3",url:"https://via.placeholder.com/400x400",alt:"키보드",sortOrder:0,isFeatured:!0}],featuredImageUrl:"https://via.placeholder.com/400x400",isFeatured:!1,status:"active",approvalStatus:"approved",supplierId:"1",supplierName:"테크 서플라이",specifications:{},attributes:{},viewCount:0,salesCount:0,rating:4.2,reviewCount:45,isVirtual:!1,isDownloadable:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"}],$s=[{value:"",label:"모든 카테고리"},{value:"electronics",label:"전자제품"},{value:"computer-accessories",label:"컴퓨터 액세서리"},{value:"home-appliances",label:"가전제품"},{value:"fashion",label:"패션"}],Us=[{value:"newest",label:"최신순"},{value:"price-asc",label:"가격 낮은순"},{value:"price-desc",label:"가격 높은순"},{value:"rating",label:"평점순"},{value:"popular",label:"인기순"}];function zs(){const[s,a]=ze(),[i,r]=j.useState(s.get("search")||""),[n,o]=j.useState(s.get("category")||""),[c,g]=j.useState(s.get("sort")||"newest"),[d,h]=j.useState("grid"),[t,p]=j.useState(!1),[N,A]=j.useState(s.get("minPrice")||""),[C,k]=j.useState(s.get("maxPrice")||"");j.useEffect(()=>{const f=new URLSearchParams;i&&f.set("search",i),n&&f.set("category",n),c&&f.set("sort",c),N&&f.set("minPrice",N),C&&f.set("maxPrice",C),a(f)},[i,n,c,N,C,a]);const{data:M=Ne,isLoading:u}=z({queryKey:["products",{search:i,category:n,sortBy:c,minPrice:N,maxPrice:C}],queryFn:async()=>{let f=[...Ne];if(i&&(f=f.filter(I=>I.name.toLowerCase().includes(i.toLowerCase())||I.description?.toLowerCase().includes(i.toLowerCase()))),n){const x={electronics:"1","computer-accessories":"2"}[n];x&&(f=f.filter(l=>l.categories.includes(x)))}return N&&(f=f.filter(I=>I.pricing.customer>=Number(N))),C&&(f=f.filter(I=>I.pricing.customer<=Number(C))),f.sort((I,x)=>{switch(c){case"price-asc":return I.pricing.customer-x.pricing.customer;case"price-desc":return x.pricing.customer-I.pricing.customer;case"rating":return(x.rating||0)-(I.rating||0);default:return 0}}),f}}),b=()=>{},S=f=>{f.preventDefault()},K=()=>{r(""),o(""),g("newest"),A(""),k("")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"상품 목록"}),e.jsxs("p",{className:"text-muted-foreground",children:[M.length,"개의 상품이 있습니다."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("form",{onSubmit:S,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(y,{type:"search",placeholder:"상품 검색...",value:i,onChange:f=>r(f.target.value),className:"pl-10"})]}),e.jsx(v,{type:"submit",children:"검색"}),e.jsxs(v,{type:"button",variant:"outline",onClick:()=>p(!t),children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"필터"]})]}),t&&e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"카테고리"}),e.jsx(ve,{value:n,onChange:f=>o(f.target.value),children:$s.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"최소 가격"}),e.jsx(y,{type:"number",placeholder:"0",value:N,onChange:f=>A(f.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"최대 가격"}),e.jsx(y,{type:"number",placeholder:"999999",value:C,onChange:f=>k(f.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(v,{variant:"outline",onClick:K,className:"w-full",children:"필터 초기화"})})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"정렬:"}),e.jsx(ve,{value:c,onChange:f=>g(f.target.value),className:"w-40",children:Us.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(v,{variant:d==="grid"?"default":"outline",size:"icon",onClick:()=>h("grid"),children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsx(v,{variant:d==="list"?"default":"outline",size:"icon",onClick:()=>h("list"),children:e.jsx(He,{className:"h-4 w-4"})})]})]})]}),u?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"상품을 불러오는 중..."})}):e.jsx(Re,{products:M,columns:d==="grid"?4:1,onAddToCart:b})]})}const be={id:"1",orderNumber:"ORD-2025-0001",buyerId:"1",buyerType:"customer",buyerName:"홍길동",buyerEmail:"user@example.com",items:[{id:"1",productId:"1",productName:"프리미엄 무선 헤드폰",productSku:"WH-001",productImage:"https://via.placeholder.com/100x100",quantity:2,unitPrice:89e3,totalPrice:178e3,supplierId:"1",supplierName:"테크 서플라이"},{id:"2",productId:"2",productName:"스마트 워치 프로",productSku:"SW-PRO-001",productImage:"https://via.placeholder.com/100x100",quantity:1,unitPrice:259e3,totalPrice:259e3,supplierId:"1",supplierName:"테크 서플라이"}],summary:{subtotal:437e3,discount:0,shipping:0,tax:43700,total:480700},shippingAddress:{recipientName:"홍길동",phone:"010-1234-5678",zipCode:"12345",address:"서울시 강남구 테헤란로 123",detailAddress:"10층",city:"서울",country:"KR",deliveryRequest:"부재시 문앞에 놓아주세요"},billingAddress:{recipientName:"홍길동",phone:"010-1234-5678",zipCode:"12345",address:"서울시 강남구 테헤란로 123",detailAddress:"10층",city:"서울",country:"KR"},status:"delivered",paymentStatus:"completed",paymentMethod:"card",currency:"KRW",trackingNumber:"1234567890",trackingUrl:"https://tracker.example.com/1234567890",shippingMethod:"standard",orderDate:new Date(Date.now()-10080*60*1e3).toISOString(),paymentDate:new Date(Date.now()-10080*60*1e3).toISOString(),shippingDate:new Date(Date.now()-7200*60*1e3).toISOString(),deliveryDate:new Date(Date.now()-2880*60*1e3).toISOString(),createdAt:new Date(Date.now()-10080*60*1e3).toISOString(),updatedAt:new Date(Date.now()-2880*60*1e3).toISOString()},de=[{key:"pending",label:"주문 접수"},{key:"confirmed",label:"주문 확인"},{key:"processing",label:"상품 준비"},{key:"shipped",label:"배송 시작"},{key:"delivered",label:"배송 완료"}],Vs={card:"신용/체크카드",kakao_pay:"카카오페이",naver_pay:"네이버페이",virtual_account:"가상계좌",bank_transfer:"무통장입금",transfer:"계좌이체",paypal:"페이팔",cash_on_delivery:"착불"};function Hs(){const{id:s}=Ie(),a=Z();fe();const i=J(),{data:r=be,isLoading:n}=z({queryKey:["order",s],queryFn:async()=>be,enabled:!!s}),o=V({mutationFn:async()=>{},onSuccess:()=>{i.invalidateQueries({queryKey:["order",s]})}}),c=()=>{window.print()},g=()=>{},h=(t=>de.findIndex(p=>p.key===t))(r.status);return n?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"주문 정보를 불러오는 중..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>a("/orders"),children:[e.jsx(Ke,{className:"h-4 w-4 mr-1"}),"주문 목록"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["주문번호: ",r.orderNumber]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["주문일시: ",te(r.createdAt,"long")]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{variant:"outline",size:"sm",onClick:c,children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"인쇄"]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:g,children:[e.jsx(Ge,{className:"h-4 w-4 mr-1"}),"명세서 다운로드"]})]})]}),e.jsxs(w,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"주문 상태"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-gray-200",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${h/(de.length-1)*100}%`}})}),e.jsx("div",{className:"relative flex justify-between",children:de.map((t,p)=>{const N=p<=h,A=p===h;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`
                      w-12 h-12 rounded-full flex items-center justify-center
                      ${N?"bg-primary text-primary-foreground":"bg-gray-200 text-gray-400"}
                      ${A?"ring-4 ring-primary/20":""}
                    `,children:p+1}),e.jsx("span",{className:`text-sm mt-2 ${N?"text-foreground":"text-muted-foreground"}`,children:t.label}),A&&e.jsx("span",{className:"text-xs text-primary mt-1",children:te(r.updatedAt,"short")})]},t.key)})})]}),r.trackingNumber&&e.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"배송사:"})," CJ대한통운"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"송장번호:"})," ",r.trackingNumber]}),r.status==="delivered"&&r.deliveryDate&&e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"배송완료일:"})," ",te(r.deliveryDate,"long")]})]})]}),e.jsxs(w,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"주문 상품"}),e.jsx("div",{className:"space-y-4",children:r.items.map(t=>e.jsxs("div",{className:"flex gap-4 pb-4 border-b last:border-0",children:[e.jsx("img",{src:t.productImage,alt:t.productName,className:"w-20 h-20 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:t.productName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["상품코드: ",t.productSku]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["판매자: ",t.supplierName]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium",children:[q(t.unitPrice)," x ",t.quantity,"개"]}),e.jsx("p",{className:"text-lg font-semibold",children:q(t.totalPrice)})]})]},t.id))}),e.jsxs("div",{className:"mt-6 pt-6 border-t space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"상품금액"}),e.jsx("span",{children:q(r.summary.subtotal)})]}),r.summary.discount>0&&e.jsxs("div",{className:"flex justify-between text-red-600",children:[e.jsx("span",{children:"할인금액"}),e.jsxs("span",{children:["-",q(r.summary.discount)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"배송비"}),e.jsx("span",{children:r.summary.shipping===0?"무료":q(r.summary.shipping)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"부가세"}),e.jsx("span",{children:q(r.summary.tax)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-semibold pt-2 border-t",children:[e.jsx("span",{children:"총 결제금액"}),e.jsx("span",{children:q(r.summary.total)})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(w,{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"배송지 정보"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"받는 분:"})," ",r.shippingAddress.recipientName]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"연락처:"})," ",r.shippingAddress.phone]}),e.jsx("p",{children:e.jsx("span",{className:"font-medium",children:"주소:"})}),e.jsxs("p",{className:"pl-4",children:["[",r.shippingAddress.zipCode,"] ",r.shippingAddress.address,r.shippingAddress.detailAddress&&`, ${r.shippingAddress.detailAddress}`]}),r.shippingAddress.deliveryRequest&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"배송 요청사항:"}),e.jsx("span",{className:"block pl-4 mt-1",children:r.shippingAddress.deliveryRequest})]})]})]}),e.jsxs(w,{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"결제 정보"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"결제수단:"})," ",r.paymentMethod?Vs[r.paymentMethod]:"-"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"결제상태:"}),e.jsx(Ee,{className:"ml-2",variant:r.paymentStatus==="completed"?"default":"secondary",children:r.paymentStatus==="completed"?"결제완료":"결제대기"})]}),r.paymentDate&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"결제일시:"})," ",te(r.paymentDate,"long")]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"결제금액:"})," ",q(r.summary.total)]})]})]})]}),r.status==="pending"||r.status==="confirmed"?e.jsx("div",{className:"flex justify-end",children:e.jsx(v,{variant:"destructive",onClick:()=>o.mutate(),disabled:o.isPending,children:"주문 취소"})}):null]})}function Ks(){const s=Z(),{login:a}=fe(),[i,r]=j.useState(""),{register:n,handleSubmit:o,formState:{errors:c,isSubmitting:g}}=pe(),d=async h=>{try{r(""),await a({email:h.email,password:h.password}),s("/")}catch{r("이메일 또는 비밀번호가 올바르지 않습니다.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs(w,{className:"w-full max-w-md",children:[e.jsx(O,{children:e.jsx("h1",{className:"text-2xl font-bold text-center",children:"로그인"})}),e.jsx(P,{children:e.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[i&&e.jsx("div",{className:"bg-destructive/10 text-destructive rounded-md p-3 text-sm",children:i}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"이메일"}),e.jsx(y,{id:"email",type:"email",...n("email",{required:"이메일을 입력해주세요.",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"올바른 이메일 형식이 아닙니다."}})}),c.email&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:c.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"비밀번호"}),e.jsx(y,{id:"password",type:"password",...n("password",{required:"비밀번호를 입력해주세요."})}),c.password&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:c.password.message})]}),e.jsx(v,{type:"submit",className:"w-full",disabled:g,children:g?"로그인 중...":"로그인"})]})}),e.jsx(Qe,{className:"text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["아직 계정이 없으신가요?"," ",e.jsx(E,{to:"/register",className:"text-primary hover:underline",children:"회원가입"})]})})]})})}function Ws(){const s=Z(),[a,i]=j.useState(""),{register:r,handleSubmit:n,watch:o,formState:{errors:c,isSubmitting:g}}=pe(),d=o("password"),h=async t=>{try{i(""),await Ns.api.post("/auth/register",{name:t.name,email:t.email,password:t.password,role:"customer"}),s("/login")}catch(p){const N=p instanceof Error?p.message:"회원가입에 실패했습니다.";i(N)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs(w,{className:"w-full max-w-md",children:[e.jsx(O,{children:e.jsx("h1",{className:"text-2xl font-bold text-center",children:"회원가입"})}),e.jsx(P,{children:e.jsxs("form",{onSubmit:n(h),className:"space-y-4",children:[a&&e.jsx("div",{className:"bg-destructive/10 text-destructive rounded-md p-3 text-sm",children:a}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"이름"}),e.jsx(y,{id:"name",...r("name",{required:"이름을 입력해주세요."})}),c.name&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:c.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"이메일"}),e.jsx(y,{id:"email",type:"email",...r("email",{required:"이메일을 입력해주세요.",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"올바른 이메일 형식이 아닙니다."}})}),c.email&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:c.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"비밀번호"}),e.jsx(y,{id:"password",type:"password",...r("password",{required:"비밀번호를 입력해주세요.",minLength:{value:8,message:"비밀번호는 최소 8자 이상이어야 합니다."}})}),c.password&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:c.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-1",children:"비밀번호 확인"}),e.jsx(y,{id:"confirmPassword",type:"password",...r("confirmPassword",{required:"비밀번호를 다시 입력해주세요.",validate:t=>t===d||"비밀번호가 일치하지 않습니다."})}),c.confirmPassword&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:c.confirmPassword.message})]}),e.jsx(v,{type:"submit",className:"w-full",disabled:g,children:g?"가입 중...":"회원가입"})]})}),e.jsx(Qe,{className:"text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["이미 계정이 있으신가요?"," ",e.jsx(E,{to:"/login",className:"text-primary hover:underline",children:"로그인"})]})})]})})}const Gs=s=>z({queryKey:["supplier","public",s],queryFn:()=>H.suppliers.getPublicProfile(s),enabled:!!s}),Zs=(s,a)=>z({queryKey:["supplier",s,"products",a],queryFn:()=>H.suppliers.getPublicProducts(s,a),enabled:!!s}),Js=()=>z({queryKey:["supplier","profile"],queryFn:H.suppliers.getMyProfile}),Ys=()=>{const s=J();return V({mutationFn:H.suppliers.updateProfile,onSuccess:a=>{s.setQueryData(["supplier","profile"],a),s.invalidateQueries({queryKey:["supplier","public",a.storeSlug]}),F.success("매장 정보가 업데이트되었습니다.")},onError:a=>{const i=a.response?.data?.message||"매장 정보 업데이트에 실패했습니다.";F.error(i)}})},Xs=()=>{const s=J();return V({mutationFn:H.suppliers.uploadLogo,onSuccess:a=>{s.setQueryData(["supplier","profile"],i=>i&&{...i,logo:a.url}),F.success("로고가 업로드되었습니다.")},onError:a=>{const i=a.response?.data?.message||"로고 업로드에 실패했습니다.";F.error(i)}})},et=()=>{const s=J();return V({mutationFn:H.suppliers.uploadBanner,onSuccess:a=>{s.setQueryData(["supplier","profile"],i=>i&&{...i,banner:a.url}),F.success("배너가 업로드되었습니다.")},onError:a=>{const i=a.response?.data?.message||"배너 업로드에 실패했습니다.";F.error(i)}})},st=s=>z({queryKey:["supplier","slug-check",s],queryFn:()=>H.suppliers.checkSlugAvailability(s),enabled:!!s&&s.length>2,staleTime:0}),tt=()=>V({mutationFn:H.suppliers.generateSlug,onError:s=>{const a=s.response?.data?.message||"URL 생성에 실패했습니다.";F.error(a)}});function at(){const{slug:s}=Ie(),a=Z(),[i,r]=j.useState({limit:12,page:1}),{data:n,isLoading:o,error:c}=Gs(s),{data:g,isLoading:d}=Zs(n?.id||"",i);return o?e.jsx(rt,{}):c||!n?e.jsxs("div",{className:"container py-8",children:[e.jsxs(Me,{className:"border-destructive",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx(qe,{children:"매장을 찾을 수 없습니다."})]}),e.jsx(v,{onClick:()=>a("/products"),className:"mt-4",children:"상품 목록으로"})]}):e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:"relative h-64 bg-gray-100",children:[n.banner?e.jsx("img",{src:n.banner,alt:`${n.storeName} 배너`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-500 to-purple-600"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"flex items-end gap-6",children:[e.jsx("div",{className:"relative -mb-12",children:n.logo?e.jsx("img",{src:n.logo,alt:n.storeName,className:"w-24 h-24 rounded-lg border-4 border-white bg-white object-cover"}):e.jsx("div",{className:"w-24 h-24 rounded-lg border-4 border-white bg-white flex items-center justify-center",children:e.jsx(le,{className:"w-12 h-12 text-gray-400"})})}),e.jsx("div",{className:"flex-1 pb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:n.storeName}),n.isVerified&&e.jsxs(Ee,{className:"bg-green-500",children:[e.jsx(Oe,{className:"w-3 h-3 mr-1"}),"인증 판매자"]})]})})]})})})]}),e.jsx("div",{className:"container py-8 mt-8",children:e.jsxs(ws,{defaultValue:"products",className:"w-full",children:[e.jsxs(Ss,{className:"grid w-full grid-cols-3",children:[e.jsxs(ce,{value:"products",children:["상품 (",n.totalProducts||0,")"]}),e.jsx(ce,{value:"info",children:"매장 정보"}),e.jsx(ce,{value:"policies",children:"정책"})]}),e.jsx(oe,{value:"products",className:"mt-6",children:d?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((h,t)=>e.jsx(Q,{className:"h-80"},t))}):g&&g.products.length>0?e.jsxs(e.Fragment,{children:[e.jsx(Re,{products:g.products,onAddToCart:()=>{}}),g.pagination.totalPages>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-8",children:[...Array(g.pagination.totalPages)].map((h,t)=>e.jsx(v,{variant:i.page===t+1?"default":"outline",size:"sm",onClick:()=>r({...i,page:t+1}),children:t+1},t))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(G,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"아직 등록된 상품이 없습니다."})]})}),e.jsx(oe,{value:"info",className:"mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.description&&e.jsxs(w,{children:[e.jsx(O,{children:e.jsx("h3",{className:"font-semibold",children:"매장 소개"})}),e.jsx(P,{children:e.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:n.description})})]}),e.jsxs(w,{children:[e.jsx(O,{children:e.jsx("h3",{className:"font-semibold",children:"연락처"})}),e.jsxs(P,{className:"space-y-3",children:[n.businessHours&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fe,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"영업 시간"}),e.jsx("p",{className:"text-gray-600 text-sm",children:n.businessHours})]})]}),(n.city||n.state)&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"위치"}),e.jsx("p",{className:"text-gray-600 text-sm",children:[n.city,n.state].filter(Boolean).join(", ")})]})]})]})]}),e.jsxs(w,{children:[e.jsx(O,{children:e.jsx("h3",{className:"font-semibold",children:"매장 정보"})}),e.jsx(P,{children:e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-gray-600",children:"등록 상품"}),e.jsxs("dd",{className:"font-medium",children:[n.totalProducts||0,"개"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-gray-600",children:"운영 기간"}),e.jsxs("dd",{className:"font-medium",children:[new Date(n.createdAt).getFullYear(),"년부터"]})]})]})})]})]})}),e.jsx(oe,{value:"policies",className:"mt-6",children:e.jsxs("div",{className:"space-y-6",children:[n.shippingPolicy&&e.jsxs(w,{children:[e.jsx(O,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5"}),"배송 정책"]})}),e.jsx(P,{children:e.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:n.shippingPolicy})})]}),n.returnPolicy&&e.jsxs(w,{children:[e.jsx(O,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"반품/교환 정책"]})}),e.jsx(P,{children:e.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:n.returnPolicy})})]}),n.warrantyPolicy&&e.jsxs(w,{children:[e.jsx(O,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5"}),"보증 정책"]})}),e.jsx(P,{children:e.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:n.warrantyPolicy})})]}),!n.shippingPolicy&&!n.returnPolicy&&!n.warrantyPolicy&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(X,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"정책 정보가 등록되지 않았습니다."})]})]})})]})})]})}function rt(){return e.jsxs("div",{className:"min-h-screen",children:[e.jsx(Q,{className:"h-64 w-full"}),e.jsxs("div",{className:"container py-8 mt-8",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsx(Q,{className:"h-10"}),e.jsx(Q,{className:"h-10"}),e.jsx(Q,{className:"h-10"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((s,a)=>e.jsx(Q,{className:"h-80"},a))})]})]})}const it=Bs({storeName:R().min(2,"매장 이름은 2자 이상이어야 합니다").max(50),storeSlug:R().min(3,"URL은 3자 이상이어야 합니다").max(30).regex(/^[a-z0-9-]+$/,"URL은 소문자, 숫자, 하이픈(-)만 사용 가능합니다"),description:R().optional(),shippingPolicy:R().optional(),returnPolicy:R().optional(),warrantyPolicy:R().optional(),contactEmail:R().email("올바른 이메일 형식이 아닙니다").optional().or(Rs("")),contactPhone:R().optional(),businessHours:R().optional(),address:R().optional(),city:R().optional(),state:R().optional(),zipCode:R().optional()});function lt(){const{data:s,isLoading:a}=Js(),i=Ys(),r=Xs(),n=et(),o=tt(),[c,g]=j.useState(null),[d,h]=j.useState(null),[t,p]=j.useState(""),[N,A]=j.useState(!1),C=st(t),{register:k,handleSubmit:M,setValue:u,watch:b,formState:{errors:S,isDirty:K}}=pe({resolver:Es(it),defaultValues:{storeName:"",storeSlug:"",description:"",shippingPolicy:"",returnPolicy:"",warrantyPolicy:"",contactEmail:"",contactPhone:"",businessHours:"",address:"",city:"",state:"",zipCode:""}}),f=b("storeSlug");j.useEffect(()=>{s&&(u("storeName",s.storeName||""),u("storeSlug",s.storeSlug||""),u("description",s.description||""),u("shippingPolicy",s.shippingPolicy||""),u("returnPolicy",s.returnPolicy||""),u("warrantyPolicy",s.warrantyPolicy||""),u("contactEmail",s.contactEmail||""),u("contactPhone",s.contactPhone||""),u("businessHours",s.businessHours||""),u("address",s.address||""),u("city",s.city||""),u("state",s.state||""),u("zipCode",s.zipCode||""),p(s.storeSlug||""))},[s,u]),j.useEffect(()=>{if(f&&f!==s?.storeSlug){p(f),A(!0);const D=setTimeout(()=>{A(!1)},500);return()=>clearTimeout(D)}},[f,s?.storeSlug]);const I=D=>{const T=D.target.files?.[0];if(T){if(T.size>5*1024*1024){F.error("로고 이미지는 5MB 이하여야 합니다.");return}g(T)}},x=D=>{const T=D.target.files?.[0];if(T){if(T.size>10*1024*1024){F.error("배너 이미지는 10MB 이하여야 합니다.");return}h(T)}},l=async()=>{const D=b("storeName");if(!D){F.error("먼저 매장 이름을 입력해주세요.");return}o.mutate(D,{onSuccess:T=>{u("storeSlug",T.slug),p(T.slug)}})},m=async D=>{if(D.storeSlug!==s?.storeSlug&&C.data&&!C.data.available){F.error("이미 사용 중인 URL입니다.");return}if(c)try{await r.mutateAsync(c)}catch{return}if(d)try{await n.mutateAsync(d)}catch{return}i.mutate(D)};if(a)return e.jsx(nt,{});if(!s)return e.jsx("div",{className:"container py-8",children:e.jsxs(Me,{className:"border-destructive",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx(qe,{children:"판매자 프로필을 불러올 수 없습니다."})]})});const L=s.storeSlug?`/shop/${s.storeSlug}`:null;return e.jsxs("div",{className:"container py-8 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"매장 설정"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"매장 정보를 설정하고 고객에게 보여질 정보를 관리합니다."})]}),e.jsxs("form",{onSubmit:M(m),className:"space-y-8",children:[e.jsxs(w,{children:[e.jsxs(O,{children:[e.jsx($,{children:"기본 정보"}),e.jsx(ae,{children:"매장의 기본 정보를 설정합니다."})]}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"storeName",children:"매장 이름 *"}),e.jsx(y,{id:"storeName",...k("storeName"),placeholder:"예: 행복한 쇼핑몰",className:"mt-1"}),S.storeName&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:S.storeName.message})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"storeSlug",children:"매장 URL *"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-1",children:"neture.co.kr/shop/"}),e.jsx(y,{id:"storeSlug",...k("storeSlug"),placeholder:"my-store",className:"flex-1"})]})}),e.jsx(v,{type:"button",variant:"outline",onClick:l,disabled:o.isPending,children:"자동 생성"})]}),S.storeSlug&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:S.storeSlug.message}),f&&f!==s.storeSlug&&e.jsx("div",{className:"mt-1",children:N?e.jsx("p",{className:"text-sm text-gray-500",children:"확인 중..."}):C.data?e.jsx("p",{className:ks("text-sm",C.data.available?"text-green-600":"text-red-600"),children:C.data.available?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-3 h-3 inline mr-1"}),"사용 가능한 URL입니다."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-3 h-3 inline mr-1"}),"이미 사용 중인 URL입니다."]})}):null}),L&&e.jsxs("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline mt-1 inline-flex items-center",children:["매장 페이지 보기",e.jsx(Ze,{className:"w-3 h-3 ml-1"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"description",children:"매장 소개"}),e.jsx(W,{id:"description",...k("description"),placeholder:"매장을 소개하는 문구를 작성해주세요.",rows:4,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"로고"}),e.jsxs("div",{className:"mt-2 flex items-start gap-4",children:[s.logo||c?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:c?URL.createObjectURL(c):s.logo,alt:"매장 로고",className:"w-24 h-24 rounded-lg object-cover border"}),e.jsx("button",{type:"button",onClick:()=>{g(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(ee,{className:"w-3 h-3"})})]}):e.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:e.jsx(le,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden",id:"logo-upload"}),e.jsx("label",{htmlFor:"logo-upload",children:e.jsx(v,{type:"button",variant:"outline",asChild:!0,children:e.jsxs("span",{children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"로고 업로드"]})})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"권장 크기: 200x200px, 최대 5MB"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"배너"}),e.jsxs("div",{className:"mt-2",children:[s.banner||d?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d?URL.createObjectURL(d):s.banner,alt:"매장 배너",className:"w-full h-48 rounded-lg object-cover border"}),e.jsx("button",{type:"button",onClick:()=>{h(null)},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(ee,{className:"w-3 h-3"})})]}):e.jsx("div",{className:"w-full h-48 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(re,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"배너 이미지"})]})}),e.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden",id:"banner-upload"}),e.jsx("label",{htmlFor:"banner-upload",children:e.jsx(v,{type:"button",variant:"outline",className:"mt-2",asChild:!0,children:e.jsxs("span",{children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"배너 업로드"]})})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"권장 크기: 1920x480px, 최대 10MB"})]})]})]})]}),e.jsxs(w,{children:[e.jsxs(O,{children:[e.jsx($,{children:"연락처 정보"}),e.jsx(ae,{children:"고객이 연락할 수 있는 정보를 입력합니다."})]}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"contactEmail",children:"이메일"}),e.jsx(y,{id:"contactEmail",type:"email",...k("contactEmail"),placeholder:"contact@example.com"}),S.contactEmail&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:S.contactEmail.message})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"contactPhone",children:"전화번호"}),e.jsx(y,{id:"contactPhone",...k("contactPhone"),placeholder:"02-1234-5678"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"businessHours",children:"영업 시간"}),e.jsx(y,{id:"businessHours",...k("businessHours"),placeholder:"평일 09:00-18:00, 주말 휴무"})]})]})]}),e.jsxs(w,{children:[e.jsxs(O,{children:[e.jsx($,{children:"위치 정보"}),e.jsx(ae,{children:"매장의 위치 정보를 입력합니다 (선택사항)."})]}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"address",children:"주소"}),e.jsx(y,{id:"address",...k("address"),placeholder:"서울시 강남구 테헤란로 123"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"city",children:"시/구"}),e.jsx(y,{id:"city",...k("city"),placeholder:"서울시"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"state",children:"도/광역시"}),e.jsx(y,{id:"state",...k("state"),placeholder:"서울"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"zipCode",children:"우편번호"}),e.jsx(y,{id:"zipCode",...k("zipCode"),placeholder:"12345"})]})]})]})]}),e.jsxs(w,{children:[e.jsxs(O,{children:[e.jsx($,{children:"정책"}),e.jsx(ae,{children:"배송, 반품, 보증 정책을 입력합니다."})]}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"shippingPolicy",children:"배송 정책"}),e.jsx(W,{id:"shippingPolicy",...k("shippingPolicy"),placeholder:"배송 방법, 배송료, 배송 기간 등을 입력하세요.",rows:3})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"returnPolicy",children:"반품/교환 정책"}),e.jsx(W,{id:"returnPolicy",...k("returnPolicy"),placeholder:"반품/교환 가능 기간, 조건, 비용 등을 입력하세요.",rows:3})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"warrantyPolicy",children:"보증 정책"}),e.jsx(W,{id:"warrantyPolicy",...k("warrantyPolicy"),placeholder:"제품 보증 기간, 보증 범위 등을 입력하세요.",rows:3})]})]})]}),e.jsx("div",{className:"flex justify-end gap-4",children:e.jsx(v,{type:"submit",disabled:!K||i.isPending,children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-4 h-4 mr-2 animate-spin"}),"저장 중..."]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"저장하기"]})})})]})]})}function nt(){return e.jsxs("div",{className:"container py-8 max-w-4xl",children:[e.jsx(Q,{className:"h-10 w-48 mb-2"}),e.jsx(Q,{className:"h-6 w-96 mb-8"}),e.jsx("div",{className:"space-y-8",children:[1,2,3].map(s=>e.jsxs(w,{children:[e.jsxs(O,{children:[e.jsx(Q,{className:"h-6 w-32 mb-2"}),e.jsx(Q,{className:"h-4 w-48"})]}),e.jsx(P,{children:e.jsx(Q,{className:"h-40 w-full"})})]},s))})]})}class ct{constructor(){this.shortcodeRegex=/\[(\w+)([^\]]*?)\](?:([\s\S]*?)\[\/\1\])?/g}parse(a){const i=[];let r;for(;(r=this.shortcodeRegex.exec(a))!==null;){const[n,o,c,g]=r;i.push({fullMatch:n,name:o,attributes:this.parseAttributes(c),content:g,isSelfClosing:!g})}return this.shortcodeRegex.lastIndex=0,i}parseOne(a){const i=this.parse(a);return i.length>0?i[0]:null}parseAttributes(a){const i={};if(!a||!a.trim())return i;const r=/(\w+)(?:=(?:"([^"]*)"|'([^']*)'|([^\s]+)))?/g;let n;for(;(n=r.exec(a))!==null;){const[,o,c,g,d]=n,h=c||g||d;h===void 0?i[o]=!0:isNaN(Number(h))?h==="true"||h==="false"?i[o]=h==="true":i[o]=h:i[o]=Number(h)}return i}}const ot=new ct;class dt{constructor(){this.shortcodes=new Map}register(a){const{name:i,validate:r}=a;if(!i||typeof i!="string")throw new Error("Shortcode name must be a non-empty string");if(!/^[a-zA-Z0-9_-]+$/.test(i))throw new Error(`Invalid shortcode name: ${i}. Only alphanumeric characters, underscores, and hyphens are allowed.`);if(this.shortcodes.has(i)&&console.warn(`Shortcode "${i}" is already registered. It will be overwritten.`),a.defaultAttributes&&r&&!r(a.defaultAttributes))throw new Error(`Default attributes for shortcode "${i}" are invalid`);this.shortcodes.set(i,a)}unregister(a){this.shortcodes.delete(a)}get(a){return this.shortcodes.get(a)}has(a){return this.shortcodes.has(a)}getAll(){return new Map(this.shortcodes)}clear(){this.shortcodes.clear()}}const _e=new dt,mt=s=>{_e.register(s)};class ut{constructor(a,i){this.parser=a,this.registry=i}render(a,i){if(!a)return null;const r=this.parser.parse(a);if(r.length===0)return j.createElement(j.Fragment,null,a);const n=[];let o=0;return r.forEach((c,g)=>{const d=a.indexOf(c.fullMatch,o);d>o&&n.push(a.substring(o,d));const h=this.renderShortcode(c,i);h?n.push(j.cloneElement(h,{key:`shortcode-${g}`})):n.push(c.fullMatch),o=d+c.fullMatch.length}),o<a.length&&n.push(a.substring(o)),j.createElement(j.Fragment,null,...n)}renderShortcode(a,i){const r=this.registry.get(a.name);if(!r)return console.warn(`Shortcode "${a.name}" is not registered`),null;const{component:n,defaultAttributes:o,validate:c}=r,g={...o,...a.attributes};if(c&&!c(g))return console.error(`Invalid attributes for shortcode "${a.name}":`,g),null;const d={attributes:g,content:a.content,context:i};try{return j.createElement(n,d)}catch(h){return console.error(`Error rendering shortcode "${a.name}":`,h),null}}}function xt(s,a){const i=j.useMemo(()=>new ut(s,a),[s,a]),r=j.useCallback((o,c)=>i.render(o,c),[i]),n=j.useCallback((o,c)=>i.renderShortcode(o,c),[i]);return{render:r,renderShortcode:n}}const $e=j.createContext(null),ht=({children:s,parser:a=ot,registry:i=_e})=>{const{render:r}=xt(a,i),n={parser:a,registry:i,render:r};return e.jsx($e.Provider,{value:n,children:s})},pt=()=>{const s=j.useContext($e);if(!s)throw new Error("useShortcodeContext must be used within a ShortcodeProvider");return s},gt=({content:s,context:a,className:i})=>{const{render:r}=pt();return e.jsx("div",{className:i,children:r(s,a)})},jt=({attributes:s})=>{const{cart:a}=ne(),i=s.showImage!==!1,r=s.showPrice!==!1,n=s.showQuantity!==!1,o=s.showTotal!==!1;return!a||!a.items||a.items.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"장바구니가 비어있습니다."}):e.jsxs("div",{className:"space-y-4",children:[a.items.map(c=>e.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b",children:[i&&c.product?.featuredImageUrl&&e.jsx("img",{src:c.product.featuredImageUrl,alt:c.product.name,className:"w-20 h-20 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:c.product?.name||c.productName||"상품명"}),c.product?.shortDescription&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.product.shortDescription}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[n&&e.jsxs("span",{className:"text-gray-600",children:["수량: ",c.quantity,"개"]}),r&&e.jsx("span",{className:"text-gray-900",children:U(c.unitPrice||c.product?.pricing.customer||0)})]})]}),o&&e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"font-medium text-gray-900",children:U((c.unitPrice||c.product?.pricing.customer||0)*c.quantity)})})]},c.id)),o&&e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-medium",children:"합계"}),e.jsx("span",{className:"text-xl font-bold text-primary",children:U(a.summary.subtotal)})]})})]})},ft={name:"product-summary",component:jt,description:"장바구니에 담긴 상품 요약을 표시합니다",defaultAttributes:{showImage:!0,showPrice:!0,showQuantity:!0,showTotal:!0}},yt=({attributes:s})=>{const{cart:a}=ne(),[i,r]=j.useState("standard"),n=Number(s.freeThreshold)||5e4,o=s.showEstimate!==!1,c=[{id:"standard",name:"일반 배송",price:3e3,days:"3-5일",icon:G},{id:"express",name:"특급 배송",price:5e3,days:"1-2일",icon:Y}],g=a?.summary.subtotal||0,d=g>=n,h=c.find(N=>N.id===i),t=d?0:h?.price||0,p=Math.max(0,n-g);return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[e.jsxs("h3",{className:"font-medium text-lg flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5"}),"배송비 계산"]}),!d&&p>0&&e.jsxs("div",{className:"bg-blue-50 text-blue-700 p-3 rounded text-sm",children:[U(p)," 더 구매하시면 무료배송!"]}),d&&e.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded text-sm",children:"🎉 무료배송 조건을 충족했습니다!"}),e.jsx("div",{className:"space-y-2",children:c.map(N=>{const A=N.icon,C=d?0:N.price;return e.jsxs("label",{className:`
                flex items-center justify-between p-3 rounded-lg border cursor-pointer
                transition-colors
                ${i===N.id?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}
              `,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",name:"shipping-method",value:N.id,checked:i===N.id,onChange:k=>r(k.target.value),className:"text-primary"}),e.jsx(A,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:N.name}),o&&e.jsxs("div",{className:"text-sm text-gray-500",children:["예상 도착: ",N.days]})]})]}),e.jsx("div",{className:"font-medium",children:C===0?e.jsx("span",{className:"text-green-600",children:"무료"}):U(C)})]},N.id)})}),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"배송비"}),e.jsx("span",{className:"text-lg font-bold",children:t===0?e.jsx("span",{className:"text-green-600",children:"무료"}):U(t)})]})})]})},vt={name:"shipping-calculator",component:yt,description:"배송비 계산기를 표시합니다",defaultAttributes:{freeThreshold:5e4,showEstimate:!0}},Nt=({attributes:s})=>{const{cart:a}=ne(),i=s.showDetails!==!1,r=s.showIcons!==!1,n=s.showItemCount!==!1;if(!a)return null;const{summary:o}=a,c=a.items.reduce((d,h)=>d+h.quantity,0),g=[{label:"상품 금액",value:o.subtotal,icon:ie,description:n?`총 ${c}개 상품`:null},{label:"할인 금액",value:-o.discount,icon:Je,highlight:"discount",show:o.discount>0},{label:"배송비",value:o.shipping,icon:Y,highlight:o.shipping===0?"free":null,show:!0},{label:"세금",value:o.tax,icon:Ye,show:o.tax>0}];return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"주문 요약"}),e.jsx("div",{className:"space-y-3",children:g.map((d,h)=>{if(d.show===!1)return null;const t=d.icon;return e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[r&&t&&e.jsx(t,{className:"w-4 h-4 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:d.label}),i&&d.description&&e.jsx("p",{className:"text-xs text-gray-500",children:d.description})]})]}),e.jsx("span",{className:`
                font-medium
                ${d.highlight==="discount"?"text-red-600":""}
                ${d.highlight==="free"?"text-green-600":""}
                ${d.highlight?"":"text-gray-900"}
              `,children:d.highlight==="free"?"무료":U(d.value)})]},h)})}),e.jsx("div",{className:"my-4 border-t border-gray-200"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-semibold",children:"총 결제금액"}),e.jsx("span",{className:"text-2xl font-bold text-primary",children:U(o.total)})]}),i&&e.jsxs("div",{className:"mt-4 space-y-2",children:[o.discount>0&&e.jsxs("p",{className:"text-sm text-gray-600",children:["💰 할인으로 ",U(o.discount),"를 절약했습니다!"]}),o.shipping===0&&e.jsx("p",{className:"text-sm text-gray-600",children:"🚚 무료배송이 적용되었습니다"})]})]})},bt={name:"order-summary",component:Nt,description:"주문 요약 정보를 표시합니다",defaultAttributes:{showDetails:!0,showIcons:!0,showItemCount:!0}},wt=({endTime:s,title:a="Flash Sale Ends In:",productId:i,discountPercent:r=50,showSeconds:n=!0})=>{const[o,c]=j.useState({days:0,hours:0,minutes:0,seconds:0}),[g,d]=j.useState(!1);return j.useEffect(()=>{const h=()=>{const p=new Date(s).getTime()-new Date().getTime();p>0?c({days:Math.floor(p/864e5),hours:Math.floor(p/36e5%24),minutes:Math.floor(p/1e3/60%60),seconds:Math.floor(p/1e3%60)}):d(!0)};h();const t=setInterval(h,1e3);return()=>clearInterval(t)},[s]),g?e.jsx("div",{className:"bg-gray-100 p-4 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-600",children:"This sale has ended"})}):e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white p-6 rounded-lg shadow-lg",children:e.jsxs("div",{className:"text-center",children:[r>0&&e.jsxs("div",{className:"text-3xl font-bold mb-2",children:[r,"% OFF"]}),e.jsx("h3",{className:"text-xl font-semibold mb-4",children:a}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[o.days>0&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white/20 rounded-lg p-3 min-w-[60px]",children:[e.jsx("div",{className:"text-2xl font-bold",children:String(o.days).padStart(2,"0")}),e.jsx("div",{className:"text-xs uppercase",children:"Days"})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white/20 rounded-lg p-3 min-w-[60px]",children:[e.jsx("div",{className:"text-2xl font-bold",children:String(o.hours).padStart(2,"0")}),e.jsx("div",{className:"text-xs uppercase",children:"Hours"})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white/20 rounded-lg p-3 min-w-[60px]",children:[e.jsx("div",{className:"text-2xl font-bold",children:String(o.minutes).padStart(2,"0")}),e.jsx("div",{className:"text-xs uppercase",children:"Mins"})]})}),n&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white/20 rounded-lg p-3 min-w-[60px]",children:[e.jsx("div",{className:"text-2xl font-bold",children:String(o.seconds).padStart(2,"0")}),e.jsx("div",{className:"text-xs uppercase",children:"Secs"})]})})]})]})})},St=({attributes:s})=>{if(!s.endTime)return e.jsx("div",{className:"text-red-500",children:"Error: endTime attribute is required for flash-sale-timer"});const a={endTime:s.endTime,title:s.title,productId:s.productId,discountPercent:s.discountPercent?Number(s.discountPercent):void 0,showSeconds:s.showSeconds!==!1};return e.jsx(wt,{...a})},kt={name:"flash-sale-timer",component:St,attributes:{endTime:{type:"string",required:!0},title:{type:"string"},productId:{type:"string"},discountPercent:{type:"number"},showSeconds:{type:"boolean"}}},Ct=({productId:s,limit:a=10,sort:i="newest",showImages:r=!0,showVerified:n=!0,minRating:o=0})=>{const[c,g]=j.useState(null),[d,h]=j.useState(new Set),t=[{id:"1",author:"John Doe",rating:5,date:new Date(Date.now()-864e5).toISOString(),comment:"Excellent product! Exactly what I was looking for. High quality and fast shipping.",verified:!0,helpful:15,images:["/api/placeholder/100/100"]},{id:"2",author:"Jane Smith",rating:4,date:new Date(Date.now()-1728e5).toISOString(),comment:"Good quality overall. The size runs a bit small, so order one size up.",verified:!0,helpful:8},{id:"3",author:"Mike Johnson",rating:5,date:new Date(Date.now()-2592e5).toISOString(),comment:"Amazing! Best purchase I've made this year. Highly recommend!",verified:!1,helpful:5},{id:"4",author:"Sarah Williams",rating:3,date:new Date(Date.now()-3456e5).toISOString(),comment:"It's okay. Not bad but not great either. Average quality for the price.",verified:!0,helpful:3},{id:"5",author:"Robert Brown",rating:5,date:new Date(Date.now()-432e6).toISOString(),comment:"Perfect! Love everything about it. Will definitely buy again.",verified:!0,helpful:12,images:["/api/placeholder/100/100","/api/placeholder/100/100"]}];let p=t.filter(u=>u.rating>=o).filter(u=>c===null||u.rating===c);p.sort((u,b)=>{switch(i){case"helpful":return b.helpful-u.helpful;case"rating-high":return b.rating-u.rating;case"rating-low":return u.rating-b.rating;case"newest":default:return new Date(b.date).getTime()-new Date(u.date).getTime()}});const N=p.slice(0,a),A=t.reduce((u,b)=>(u[b.rating]=(u[b.rating]||0)+1,u),{}),C=t.length,k=t.reduce((u,b)=>u+b.rating,0)/C,M=u=>{h(b=>{const S=new Set(b);return S.has(u)?S.delete(u):S.add(u),S})};return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-3xl font-bold",children:k.toFixed(1)}),e.jsx("div",{className:"ml-2 flex text-yellow-400",children:[...Array(5)].map((u,b)=>e.jsx("svg",{className:`w-6 h-6 ${b<Math.floor(k)?"fill-current":"stroke-current"}`,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},b))})]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Based on ",C," reviews"]})]}),e.jsx("div",{className:"space-y-1",children:[5,4,3,2,1].map(u=>e.jsxs("button",{onClick:()=>g(c===u?null:u),className:`flex items-center text-sm hover:bg-gray-100 px-2 py-1 rounded ${c===u?"bg-gray-200":""}`,children:[e.jsx("span",{className:"w-4",children:u}),e.jsx("div",{className:"flex text-yellow-400 mx-2",children:[...Array(5)].map((b,S)=>e.jsx("svg",{className:`w-3 h-3 ${S<u?"fill-current":"stroke-current"}`,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},S))}),e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 ml-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${(A[u]||0)/C*100}%`}})}),e.jsxs("span",{className:"ml-2 text-gray-600",children:["(",A[u]||0,")"]})]},u))})]})}),e.jsx("div",{className:"space-y-4",children:N.map(u=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold",children:u.author}),n&&u.verified&&e.jsxs("span",{className:"ml-2 text-green-600 text-sm flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Verified Purchase"]})]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((b,S)=>e.jsx("svg",{className:`w-4 h-4 ${S<u.rating?"fill-current":"stroke-current"}`,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},S))}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:Cs(u.date)})]})]})}),e.jsx("p",{className:"text-gray-700 mb-3",children:u.comment}),r&&u.images&&u.images.length>0&&e.jsx("div",{className:"flex space-x-2 mb-3",children:u.images.map((b,S)=>e.jsx("img",{src:b,alt:`Review image ${S+1}`,className:"w-20 h-20 object-cover rounded"},S))}),e.jsx("div",{className:"flex items-center text-sm text-gray-500",children:e.jsxs("button",{onClick:()=>M(u.id),className:`flex items-center hover:text-gray-700 ${d.has(u.id)?"text-blue-600":""}`,children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),"Helpful (",u.helpful+(d.has(u.id)?1:0),")"]})})]},u.id))}),p.length>a&&e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Show More Reviews"})})]})},Pt=({attributes:s})=>{const a={productId:s.productId,limit:s.limit?Number(s.limit):void 0,sort:s.sort,showImages:s.showImages!==!1,showVerified:s.showVerified!==!1,minRating:s.minRating?Number(s.minRating):void 0};return e.jsx(Ct,{...a})},Dt={name:"customer-reviews",component:Pt,attributes:{productId:{type:"string"},limit:{type:"number"},sort:{type:"string"},showImages:{type:"boolean"},showVerified:{type:"boolean"},minRating:{type:"number"}}},It=({productId:s,category:a,limit:i=4,title:r="You May Also Like",layout:n="grid",showPrice:o=!0,showRating:c=!0})=>{const d=[{id:"1",sku:"PWH-001",name:"Premium Wireless Headphones",slug:"premium-wireless-headphones",shortDescription:"Noise-cancelling wireless headphones",description:"High-quality wireless headphones with noise cancellation",pricing:{customer:299.99,business:269.99,affiliate:284.99,retailer:{gold:254.99,premium:239.99,vip:224.99}},inventory:{stockQuantity:50,minOrderQuantity:1,maxOrderQuantity:10,lowStockThreshold:10,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"1",url:"/api/placeholder/300/300",alt:"Premium Wireless Headphones",sortOrder:0,isFeatured:!0}],featuredImageUrl:"/api/placeholder/300/300",categories:["electronics"],tags:[],specifications:{},attributes:{},supplierId:"supplier-1",supplierName:"Tech Supplier",status:"active",approvalStatus:"approved",viewCount:1250,salesCount:128,rating:4.5,reviewCount:128,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",isFeatured:!0,isVirtual:!1,isDownloadable:!1},{id:"2",sku:"SWP-001",name:"Smart Watch Pro",slug:"smart-watch-pro",shortDescription:"Advanced fitness tracking smartwatch",description:"Advanced fitness tracking and smartphone integration",pricing:{customer:399.99,business:359.99,affiliate:379.99,retailer:{gold:339.99,premium:319.99,vip:299.99}},inventory:{stockQuantity:30,minOrderQuantity:1,maxOrderQuantity:5,lowStockThreshold:10,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"2",url:"/api/placeholder/300/300",alt:"Smart Watch Pro",sortOrder:0,isFeatured:!0}],featuredImageUrl:"/api/placeholder/300/300",categories:["electronics"],tags:[],specifications:{},attributes:{},supplierId:"supplier-1",supplierName:"Tech Supplier",status:"active",approvalStatus:"approved",viewCount:2340,salesCount:256,rating:4.8,reviewCount:256,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",isFeatured:!0,isVirtual:!1,isDownloadable:!1},{id:"3",sku:"PBS-001",name:"Portable Bluetooth Speaker",slug:"portable-bluetooth-speaker",shortDescription:"Waterproof Bluetooth speaker",description:"Waterproof speaker with 360-degree sound",pricing:{customer:79.99,business:71.99,affiliate:75.99,retailer:{gold:67.99,premium:63.99,vip:59.99}},inventory:{stockQuantity:100,minOrderQuantity:1,maxOrderQuantity:20,lowStockThreshold:20,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"3",url:"/api/placeholder/300/300",alt:"Portable Bluetooth Speaker",sortOrder:0,isFeatured:!0}],featuredImageUrl:"/api/placeholder/300/300",categories:["electronics"],tags:[],specifications:{},attributes:{},supplierId:"supplier-2",supplierName:"Audio Tech",status:"active",approvalStatus:"approved",viewCount:890,salesCount:89,rating:4.3,reviewCount:89,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",isFeatured:!1,isVirtual:!1,isDownloadable:!1},{id:"4",sku:"UCH-001",name:"USB-C Hub Adapter",slug:"usb-c-hub-adapter",shortDescription:"7-in-1 USB-C Hub",description:"7-in-1 USB-C hub with HDMI, USB 3.0, and SD card reader",pricing:{customer:49.99,business:44.99,affiliate:47.49,retailer:{gold:42.49,premium:39.99,vip:37.49}},inventory:{stockQuantity:200,minOrderQuantity:1,maxOrderQuantity:50,lowStockThreshold:30,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"4",url:"/api/placeholder/300/300",alt:"USB-C Hub Adapter",sortOrder:0,isFeatured:!0}],featuredImageUrl:"/api/placeholder/300/300",categories:["electronics"],tags:[],specifications:{},attributes:{},supplierId:"supplier-3",supplierName:"Accessory Pro",status:"active",approvalStatus:"approved",viewCount:450,salesCount:45,rating:4.6,reviewCount:45,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",isFeatured:!1,isVirtual:!1,isDownloadable:!1},{id:"5",sku:"WCP-001",name:"Wireless Charging Pad",slug:"wireless-charging-pad",shortDescription:"Fast wireless charger",description:"Fast charging pad compatible with all Qi-enabled devices",pricing:{customer:34.99,business:31.49,affiliate:33.24,retailer:{gold:29.74,premium:27.99,vip:26.24}},inventory:{stockQuantity:150,minOrderQuantity:1,maxOrderQuantity:30,lowStockThreshold:25,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"5",url:"/api/placeholder/300/300",alt:"Wireless Charging Pad",sortOrder:0,isFeatured:!0}],featuredImageUrl:"/api/placeholder/300/300",categories:["electronics"],tags:[],specifications:{},attributes:{},supplierId:"supplier-3",supplierName:"Accessory Pro",status:"active",approvalStatus:"approved",viewCount:670,salesCount:67,rating:4.2,reviewCount:67,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",isFeatured:!1,isVirtual:!1,isDownloadable:!1}].filter(t=>t.id!==s).slice(0,i);if(d.length===0)return null;const h=({product:t})=>e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs(E,{to:`/products/${t.slug}`,children:[t.images?.[0]&&e.jsx("img",{src:typeof t.images[0]=="string"?t.images[0]:t.images[0].url,alt:t.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-semibold text-lg mb-2 line-clamp-2",children:t.name}),o&&e.jsx("div",{className:"text-xl font-bold text-blue-600 mb-2",children:q(t.pricing.customer)}),c&&t.rating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((p,N)=>e.jsx("svg",{className:`w-4 h-4 ${N<Math.floor(t.rating)?"fill-current":"stroke-current"}`,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},N))}),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",t.reviewCount||0,")"]})]})]})]})});return n==="carousel"?e.jsxs("div",{className:"relative",children:[r&&e.jsx("h3",{className:"text-2xl font-bold mb-6",children:r}),e.jsx("div",{className:"relative overflow-hidden",children:e.jsx("div",{className:"flex space-x-4 overflow-x-auto scrollbar-hide pb-4",children:d.map(t=>e.jsx("div",{className:"flex-none w-64",children:e.jsx(h,{product:t})},t.id))})})]}):e.jsxs("div",{children:[r&&e.jsx("h3",{className:"text-2xl font-bold mb-6",children:r}),e.jsx("div",{className:`grid grid-cols-2 md:grid-cols-${Math.min(i,4)} gap-6`,children:d.map(t=>e.jsx(h,{product:t},t.id))})]})},At=({attributes:s})=>{const a={productId:s.productId,category:s.category,limit:s.limit?Number(s.limit):void 0,title:s.title,layout:s.layout,showPrice:s.showPrice!==!1,showRating:s.showRating!==!1};return e.jsx(It,{...a})},Ot={name:"related-products",component:At,attributes:{productId:{type:"string"},category:{type:"string"},limit:{type:"number"},title:{type:"string"},layout:{type:"string"},showPrice:{type:"boolean"},showRating:{type:"boolean"}}},Ft=[ft,vt,Ps,bt,bs,kt,Dt,Ot];function Tt(){Ft.forEach(s=>{mt(s)})}const Lt=[{title:"상품 요약 (Product Summary)",content:"[product-summary]",description:"장바구니에 담긴 상품들을 요약해서 보여줍니다."},{title:"상품 요약 - 이미지 없이",content:'[product-summary show-image="false"]',description:"이미지 없이 텍스트만 표시합니다."},{title:"배송비 계산기 (Shipping Calculator)",content:"[shipping-calculator]",description:"배송 방법 선택과 배송비를 계산합니다."},{title:"배송비 계산기 - 무료배송 기준 10만원",content:'[shipping-calculator free-threshold="100000"]',description:"10만원 이상 구매 시 무료배송"},{title:"결제 수단 (Payment Methods)",content:"[payment-methods]",description:"사용 가능한 결제 수단을 선택합니다."},{title:"결제 수단 - 아이콘 없이",content:'[payment-methods show-icons="false" show-description="false"]',description:"심플한 결제 수단 선택 UI"},{title:"주문 요약 (Order Summary)",content:"[order-summary]",description:"전체 주문 내역을 요약해서 보여줍니다."},{title:"상품 그리드 (Product Grid)",content:'[product-grid limit="8" columns="4"]',description:"상품 목록을 그리드 형태로 표시합니다."},{title:"상품 그리드 - 카테고리별",content:'[product-grid category="electronics" limit="6" sort="price-asc"]',description:"특정 카테고리의 상품을 가격 오름차순으로 표시"},{title:"플래시 세일 타이머 (Flash Sale Timer)",content:'[flash-sale-timer end-time="2025-12-31T23:59:59" discount-percent="70"]',description:"할인 세일 종료까지 남은 시간을 표시합니다."},{title:"플래시 세일 타이머 - 커스텀 제목",content:'[flash-sale-timer end-time="2025-12-31T23:59:59" title="연말 특가 세일!" show-seconds="false"]',description:"커스텀 제목과 초 단위 없이 표시"},{title:"고객 리뷰 (Customer Reviews)",content:'[customer-reviews limit="5" sort="helpful"]',description:"상품 리뷰를 표시합니다."},{title:"고객 리뷰 - 높은 평점만",content:'[customer-reviews min-rating="4" show-verified="true"]',description:"4점 이상 리뷰만, 인증된 구매자 표시"},{title:"관련 상품 (Related Products)",content:'[related-products limit="4" title="추천 상품"]',description:"관련 상품을 표시합니다."},{title:"관련 상품 - 캐러셀 레이아웃",content:'[related-products layout="carousel" limit="6" show-rating="true"]',description:"캐러셀 형태로 관련 상품 표시"},{title:"복합 사용 예제",content:`
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
  <div>
    <h3 class="text-lg font-semibold mb-4">장바구니 상품</h3>
    [product-summary show-total="false"]
  </div>
  <div>
    <h3 class="text-lg font-semibold mb-4">결제 정보</h3>
    [shipping-calculator]
    <div class="mt-6">
      [payment-methods default="kakao"]
    </div>
    <div class="mt-6">
      [order-summary]
    </div>
  </div>
</div>`,description:"여러 숏코드를 함께 사용하는 예제"},{title:"상품 상세 페이지 예제",content:`
<div class="space-y-8">
  [flash-sale-timer end-time="2025-12-31T23:59:59" discount-percent="50"]
  
  <div class="mt-8">
    <h2 class="text-2xl font-bold mb-4">고객 리뷰</h2>
    [customer-reviews limit="3" sort="newest"]
  </div>
  
  <div class="mt-8">
    [related-products title="함께 보면 좋은 상품" layout="carousel"]
  </div>
</div>`,description:"상품 상세 페이지에서 활용 가능한 숏코드 조합"}];function Bt(){const{cart:s,addToCart:a}=ne();j.useEffect(()=>{Tt()},[]);const i={id:"test-product-1",sku:"TEST-001",name:"테스트 상품 1",slug:"test-product-1",shortDescription:"이것은 테스트 상품입니다",description:"숏코드 시스템을 테스트하기 위한 상품입니다.",pricing:{customer:3e4,business:25e3,affiliate:27e3,retailer:{gold:24e3,premium:23e3,vip:22e3}},inventory:{stockQuantity:100,minOrderQuantity:1,maxOrderQuantity:10,lowStockThreshold:10,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[],featuredImageUrl:"https://via.placeholder.com/300",categories:[],tags:[],specifications:{},attributes:{},supplierId:"test-supplier",supplierName:"테스트 공급업체",status:"active",approvalStatus:"approved",viewCount:0,salesCount:0,rating:0,reviewCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",isFeatured:!1,isVirtual:!1,isDownloadable:!1},r={...i,id:"test-product-2",sku:"TEST-002",name:"테스트 상품 2",slug:"test-product-2",shortDescription:"두 번째 테스트 상품입니다",pricing:{customer:5e4,business:45e3,affiliate:48e3,retailer:{gold:43e3,premium:42e3,vip:41e3}},specifications:{},attributes:{}},n=async o=>{try{await a(o,1)}catch{}};return e.jsx(ht,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"숏코드 시스템 데모"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"O4O Platform의 숏코드 시스템을 테스트할 수 있는 데모 페이지입니다."}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"장바구니 테스트"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"숏코드를 테스트하려면 먼저 장바구니에 상품을 추가하세요."}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx(v,{onClick:()=>n(i),children:"테스트 상품 1 추가 (₩30,000)"}),e.jsx(v,{onClick:()=>n(r),children:"테스트 상품 2 추가 (₩50,000)"})]}),s&&s.items.length>0&&e.jsxs("p",{className:"text-sm text-green-600",children:["현재 장바구니에 ",s.items.length,"개의 상품이 있습니다."]})]}),e.jsx("div",{className:"space-y-12",children:Lt.map((o,c)=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 p-4 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold",children:o.title}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:o.description})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"숏코드:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-3 rounded text-sm overflow-x-auto",children:e.jsx("code",{children:o.content.trim()})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"결과:"}),e.jsx("div",{className:"border rounded p-4 bg-white",children:e.jsx(gt,{content:o.content})})]})]})]},c))}),e.jsxs("div",{className:"mt-12 p-6 bg-blue-50 rounded-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"사용 방법"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[e.jsx("li",{children:"원하는 위치에 숏코드를 입력합니다"}),e.jsx("li",{children:"속성을 통해 표시 옵션을 커스터마이징할 수 있습니다"}),e.jsx("li",{children:"ShortcodeContent 컴포넌트로 감싸거나 renderShortcodes 함수를 사용합니다"})]}),e.jsx("div",{className:"mt-4 p-4 bg-white rounded",children:e.jsx("pre",{className:"text-sm",children:`import { ShortcodeContent } from '@o4o/shortcodes';

<ShortcodeContent content="[product-summary]" />`})})]})]})})}const ye=()=>{const s=gs(),a=s.user?.role==="supplier"||s.user?.role==="business",i=s.user?.role==="customer",r=s.user?.role==="admin";return{...s,isVendor:a,isCustomer:i,isAdmin:r}};function Rt({children:s}){const{user:a,loading:i,isVendor:r}=ye(),n=Te();return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ge,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):a?r?e.jsx(e.Fragment,{children:s}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"접근 권한이 없습니다"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"이 페이지는 판매자만 접근할 수 있습니다."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"홈으로 돌아가기"})]})}):e.jsx(Xe,{to:"/login",state:{from:n},replace:!0})}const Et=[{name:"대시보드",href:"/vendor",icon:es},{name:"상품 관리",href:"/vendor/products",icon:G},{name:"주문 관리",href:"/vendor/orders",icon:ie,badge:5},{name:"매출 분석",href:"/vendor/analytics",icon:ss},{name:"스토어 설정",href:"/vendor/settings",icon:ts}];function Qt(){const[s,a]=j.useState(!1),{user:i,logout:r}=ye(),n=Z(),o=Te(),c=async()=>{await r(),n("/login")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 z-40 lg:hidden",onClick:()=>a(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${s?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between px-6 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"h-8 w-8 text-blue-600"}),e.jsx("span",{className:"ml-2 text-xl font-bold",children:"Vendor Portal"})]}),e.jsx("button",{className:"lg:hidden",onClick:()=>a(!1),children:e.jsx(ee,{className:"h-6 w-6"})})]}),e.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4",children:Et.map(g=>{const d=o.pathname===g.href;return e.jsxs("a",{href:g.href,onClick:h=>{h.preventDefault(),n(g.href),a(!1)},className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${d?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(g.icon,{className:`mr-3 h-5 w-5 ${d?"text-blue-700":"text-gray-400 group-hover:text-gray-500"}`}),e.jsx("span",{className:"flex-1",children:g.name}),g.badge&&e.jsx("span",{className:"ml-auto inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:g.badge})]},g.name)})}),e.jsx("div",{className:"border-t p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx(Se,{className:"h-6 w-6 text-gray-600"})})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:i?.name}),e.jsx("p",{className:"text-xs text-gray-500",children:i?.email})]}),e.jsx("button",{onClick:c,className:"ml-2 p-2 text-gray-400 hover:text-gray-600",children:e.jsx(ke,{className:"h-5 w-5"})})]})})]})}),e.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[e.jsx("header",{className:"sticky top-0 z-30 flex h-16 bg-white border-b",children:e.jsxs("div",{className:"flex flex-1 items-center justify-between px-4 sm:px-6",children:[e.jsx("button",{className:"lg:hidden",onClick:()=>a(!0),children:e.jsx(as,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-6 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(rs,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-gray-600",children:"오늘 매출:"}),e.jsx("span",{className:"font-semibold ml-1",children:"₩2,345,000"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"h-4 w-4 text-blue-500 mr-1"}),e.jsx("span",{className:"text-gray-600",children:"신규 주문:"}),e.jsx("span",{className:"font-semibold ml-1",children:"12"})]})]}),e.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600",children:[e.jsx(Le,{className:"h-6 w-6"}),e.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white"})]})]})]})}),e.jsx("main",{className:"flex-1",children:e.jsx(Ce,{})})]})]})}function Mt({product:s,isOpen:a,onClose:i,onSubmit:r}){const[n,o]=j.useState(!1),[c,g]=j.useState("basic"),[d,h]=j.useState({}),[t,p]=j.useState({name:"",description:"",sku:"",category:"",price:0,stockQuantity:0,stockStatus:"in_stock",images:[],variants:[],tags:[],dimensions:{length:0,width:0,height:0},seoTitle:"",seoDescription:"",compareAtPrice:0,cost:0,weight:0}),[N,A]=j.useState("");j.useEffect(()=>{s&&p({name:s.name||"",description:s.description||"",sku:s.sku||"",category:s.categories?.[0]||"",price:s.pricing?.customer||0,compareAtPrice:0,cost:s.cost||0,stockQuantity:s.inventory?.stockQuantity||0,stockStatus:s.inventory?.stockStatus||"in_stock",images:s.images?.map(l=>l.url)||[],variants:[],seoTitle:s.seo?.metaTitle||"",seoDescription:s.seo?.metaDescription||"",tags:s.tags||[],weight:s.shippingInfo?.weight||0,dimensions:s.shippingInfo?.dimensions||{length:0,width:0,height:0}})},[s]);const C=[{id:"basic",name:"기본 정보"},{id:"media",name:"이미지"},{id:"inventory",name:"재고"},{id:"shipping",name:"배송"},{id:"seo",name:"SEO"}],k=()=>{const l={};return t.name.trim()||(l.name="상품명을 입력해주세요"),t.sku.trim()||(l.sku="SKU를 입력해주세요"),t.price<=0&&(l.price="가격은 0보다 커야 합니다"),t.stockQuantity<0&&(l.stockQuantity="재고는 0 이상이어야 합니다"),h(l),Object.keys(l).length===0},M=async()=>{if(k()){o(!0);try{await r({name:t.name,description:t.description,sku:t.sku,pricing:{customer:t.price,business:t.price*.8,affiliate:t.price*.85,retailer:{gold:t.price*.75,premium:t.price*.7,vip:t.price*.65}},cost:t.cost,inventory:{stockQuantity:t.stockQuantity,stockStatus:t.stockStatus,minOrderQuantity:1,lowStockThreshold:10,manageStock:!0,allowBackorder:!1},images:t.images.map((l,m)=>({id:`img-${m}`,url:l,alt:t.name,sortOrder:m,isFeatured:m===0})),seo:{metaTitle:t.seoTitle||t.name,metaDescription:t.seoDescription||t.description},shippingInfo:t.weight?{weight:t.weight,dimensions:t.dimensions,shippingCost:0}:void 0,tags:t.tags}),i()}catch{}finally{o(!1)}}},u=l=>{const m=l.target.files;if(m){const L=Array.from(m).map(D=>URL.createObjectURL(D));p(D=>({...D,images:[...D.images,...L]}))}},b=l=>{p(m=>({...m,images:m.images.filter((L,D)=>D!==l)}))},S=()=>{N.trim()&&!t.tags.includes(N.trim())&&(p(l=>({...l,tags:[...l.tags,N.trim()]})),A(""))},K=l=>{p(m=>({...m,tags:m.tags.filter(L=>L!==l)}))},f=()=>{const l={id:`variant-${Date.now()}`,name:"",price:t.price,sku:"",stockQuantity:0};p(m=>({...m,variants:[...m.variants,l]}))},I=(l,m,L)=>{p(D=>({...D,variants:D.variants.map(T=>T.id===l?{...T,[m]:L}:T)}))},x=l=>{p(m=>({...m,variants:m.variants.filter(L=>L.id!==l)}))};return e.jsx(Ds,{open:a,onOpenChange:i,children:e.jsxs(Is,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(As,{children:e.jsx(Os,{className:"text-xl font-semibold",children:s?"상품 수정":"새 상품 등록"})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"flex space-x-1 border-b",children:C.map(l=>e.jsx("button",{onClick:()=>g(l.id),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${c===l.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:l.name},l.id))}),e.jsxs("div",{className:"mt-6",children:[c==="basic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["상품명 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(y,{value:t.name,onChange:l=>p(m=>({...m,name:l.target.value})),placeholder:"예: 무선 블루투스 이어폰",className:d.name?"border-red-500":""}),d.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"상품 설명"}),e.jsx(W,{rows:4,value:t.description,onChange:l=>p(m=>({...m,description:l.target.value})),placeholder:"상품의 특징과 장점을 설명해주세요"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(y,{value:t.sku,onChange:l=>p(m=>({...m,sku:l.target.value})),placeholder:"예: BT-EAR-001",className:d.sku?"border-red-500":""}),d.sku&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.sku})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.category,onChange:l=>p(m=>({...m,category:l.target.value})),children:[e.jsx("option",{value:"",children:"카테고리 선택"}),e.jsx("option",{value:"electronics",children:"전자제품"}),e.jsx("option",{value:"fashion",children:"패션"}),e.jsx("option",{value:"home",children:"홈/리빙"}),e.jsx("option",{value:"beauty",children:"뷰티"}),e.jsx("option",{value:"food",children:"식품"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["판매가 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(y,{type:"number",value:t.price,onChange:l=>p(m=>({...m,price:parseFloat(l.target.value)||0})),placeholder:"0",className:d.price?"border-red-500":""}),d.price&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"할인 전 가격"}),e.jsx(y,{type:"number",value:t.compareAtPrice||"",onChange:l=>p(m=>({...m,compareAtPrice:l.target.value?parseFloat(l.target.value):void 0})),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"원가"}),e.jsx(y,{type:"number",value:t.cost||"",onChange:l=>p(m=>({...m,cost:l.target.value?parseFloat(l.target.value):void 0})),placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"태그"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(y,{value:N,onChange:l=>A(l.target.value),placeholder:"태그 입력",onKeyPress:l=>l.key==="Enter"&&(l.preventDefault(),S())}),e.jsx(v,{onClick:S,variant:"outline",children:e.jsx(me,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(l=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-700",children:[l,e.jsx("button",{onClick:()=>K(l),className:"ml-2 text-gray-500 hover:text-gray-700",children:e.jsx(ee,{className:"h-3 w-3"})})]},l))})]})]}),c==="media"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"상품 이미지"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:u,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(re,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"클릭하여 이미지를 업로드하거나 드래그 앤 드롭하세요"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (최대 5MB)"})]})]}),t.images.length>0&&e.jsx("div",{className:"grid grid-cols-4 gap-4 mt-4",children:t.images.map((l,m)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:l,alt:`Product ${m+1}`,className:"w-full h-32 object-cover rounded-lg"}),e.jsx("button",{onClick:()=>b(m),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ee,{className:"h-4 w-4"})}),m===0&&e.jsx("span",{className:"absolute bottom-2 left-2 px-2 py-1 bg-blue-500 text-white text-xs rounded",children:"대표 이미지"})]},m))})]})}),c==="inventory"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["재고 수량 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(y,{type:"number",value:t.stockQuantity,onChange:l=>p(m=>({...m,stockQuantity:parseInt(l.target.value)||0})),placeholder:"0",className:d.stockQuantity?"border-red-500":""}),d.stockQuantity&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.stockQuantity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"재고 상태"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.stockStatus,onChange:l=>p(m=>({...m,stockStatus:l.target.value})),children:[e.jsx("option",{value:"in_stock",children:"재고 있음"}),e.jsx("option",{value:"out_of_stock",children:"품절"}),e.jsx("option",{value:"pre_order",children:"예약 판매"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"옵션 상품"}),e.jsxs(v,{onClick:f,variant:"outline",size:"sm",children:[e.jsx(me,{className:"h-4 w-4 mr-1"}),"옵션 추가"]})]}),t.variants.length>0&&e.jsx("div",{className:"space-y-3",children:t.variants.map(l=>e.jsx("div",{className:"p-4 border rounded-lg space-y-3",children:e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx(y,{placeholder:"옵션명",value:l.name,onChange:m=>I(l.id,"name",m.target.value)}),e.jsx(y,{placeholder:"SKU",value:l.sku,onChange:m=>I(l.id,"sku",m.target.value)}),e.jsx(y,{type:"number",placeholder:"가격",value:l.price,onChange:m=>I(l.id,"price",parseFloat(m.target.value)||0)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{type:"number",placeholder:"재고",value:l.stockQuantity,onChange:m=>I(l.id,"stockQuantity",parseInt(m.target.value)||0)}),e.jsx(v,{onClick:()=>x(l.id),variant:"outline",size:"sm",className:"px-2",children:e.jsx(Be,{className:"h-4 w-4"})})]})]})},l.id))})]})]}),c==="shipping"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"무게 (kg)"}),e.jsx(y,{type:"number",step:"0.1",value:t.weight||"",onChange:l=>p(m=>({...m,weight:l.target.value?parseFloat(l.target.value):void 0})),placeholder:"0.0"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"포장 크기"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"길이 (cm)"}),e.jsx(y,{type:"number",value:t.dimensions?.length||"",onChange:l=>p(m=>({...m,dimensions:{...m.dimensions,length:l.target.value?parseFloat(l.target.value):void 0}})),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"너비 (cm)"}),e.jsx(y,{type:"number",value:t.dimensions?.width||"",onChange:l=>p(m=>({...m,dimensions:{...m.dimensions,width:l.target.value?parseFloat(l.target.value):void 0}})),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"높이 (cm)"}),e.jsx(y,{type:"number",value:t.dimensions?.height||"",onChange:l=>p(m=>({...m,dimensions:{...m.dimensions,height:l.target.value?parseFloat(l.target.value):void 0}})),placeholder:"0"})]})]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(X,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-2"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{className:"font-medium mb-1",children:"배송비 안내"}),e.jsx("p",{children:"배송비는 스토어 설정에서 일괄 관리됩니다."}),e.jsx("p",{children:"특별 배송비가 필요한 경우 고객센터로 문의해주세요."})]})]})})]}),c==="seo"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO 제목"}),e.jsx(y,{value:t.seoTitle||"",onChange:l=>p(m=>({...m,seoTitle:l.target.value})),placeholder:t.name||"상품명이 기본값으로 사용됩니다"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(t.seoTitle||t.name||"").length,"/60자"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO 설명"}),e.jsx(W,{rows:3,value:t.seoDescription||"",onChange:l=>p(m=>({...m,seoDescription:l.target.value})),placeholder:"검색 결과에 표시될 설명을 입력하세요"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(t.seoDescription||"").length,"/160자"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"검색 결과 미리보기"}),e.jsxs("div",{className:"bg-white p-3 rounded border",children:[e.jsx("h3",{className:"text-blue-600 text-base font-medium hover:underline cursor-pointer",children:t.seoTitle||t.name||"상품 제목"}),e.jsx("p",{className:"text-sm text-green-700",children:"www.o4o-store.com/products/..."}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.seoDescription||t.description||"상품 설명이 여기에 표시됩니다..."})]})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-3 pt-6 border-t",children:[e.jsx(v,{variant:"outline",onClick:i,disabled:n,children:"취소"}),e.jsxs(v,{onClick:M,disabled:n,children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),n?"저장 중...":s?"수정 완료":"상품 등록"]})]})]})]})})}const qt="http://localhost:4000/api",_=Qs.create({baseURL:`${qt}/vendor`,withCredentials:!0,headers:{"Content-Type":"application/json"}});_.interceptors.request.use(async s=>{const a=ue.getAccessToken();return a&&(s.headers.Authorization=`Bearer ${a}`),s},s=>Promise.reject(s));_.interceptors.response.use(s=>s,async s=>{const a=s.config;if(s.response?.status===401&&!a._retry){a._retry=!0;try{await ue.refreshToken();const i=ue.getAccessToken();if(i)return a.headers.Authorization=`Bearer ${i}`,_.request(a)}catch(i){return window.location.href="/login",Promise.reject(i)}}return Promise.reject(s)});const se={getProducts:s=>_.get("/products",{params:s}),getProduct:s=>_.get(`/products/${s}`),createProduct:s=>_.post("/products",s),updateProduct:(s,a)=>_.put(`/products/${s}`,a),deleteProduct:s=>_.delete(`/products/${s}`),getCategories:()=>_.get("/products/categories")};function _t(s={}){return z({queryKey:["vendor","products",s],queryFn:async()=>(await se.getProducts(s)).data,staleTime:1e3*60*5})}function $t(){return z({queryKey:["vendor","product-categories"],queryFn:async()=>(await se.getCategories()).data,staleTime:1e3*60*30})}function Ut(){const s=J();return V({mutationFn:a=>se.createProduct(a),onSuccess:()=>{s.invalidateQueries({queryKey:["vendor","products"]}),F.success("상품이 성공적으로 등록되었습니다.")},onError:a=>{F.error(a.response?.data?.error||"상품 등록에 실패했습니다.")}})}function zt(){const s=J();return V({mutationFn:({id:a,data:i})=>se.updateProduct(a,i),onSuccess:(a,i)=>{s.invalidateQueries({queryKey:["vendor","products"]}),s.invalidateQueries({queryKey:["vendor","products",i.id]}),F.success("상품이 성공적으로 수정되었습니다.")},onError:a=>{F.error(a.response?.data?.error||"상품 수정에 실패했습니다.")}})}function Vt(){const s=J();return V({mutationFn:a=>se.deleteProduct(a),onSuccess:()=>{s.invalidateQueries({queryKey:["vendor","products"]}),F.success("상품이 삭제되었습니다.")},onError:a=>{F.error(a.response?.data?.error||"상품 삭제에 실패했습니다.")}})}const we={active:{label:"판매중",color:"bg-green-100 text-green-800"},inactive:{label:"판매중지",color:"bg-gray-100 text-gray-800"},out_of_stock:{label:"품절",color:"bg-red-100 text-red-800"},in_stock:{label:"재고있음",color:"bg-green-100 text-green-800"},published:{label:"판매중",color:"bg-green-100 text-green-800"},draft:{label:"임시저장",color:"bg-gray-100 text-gray-800"}};function Ht(){const s=Z(),[a,i]=j.useState(""),[r,n]=j.useState("all"),[o,c]=j.useState(1),[g,d]=j.useState(!1),[h,t]=j.useState(),{data:p,isLoading:N}=_t({page:o,limit:20,search:a,category:r==="all"?void 0:r}),{data:A=[]}=$t(),C=Ut(),k=zt(),M=Vt(),u=p?.products||[],b=p?.pagination,S=["all",...A.map(x=>x.name)];j.useEffect(()=>{c(1)},[a,r]);const K=async x=>{window.confirm("정말로 이 상품을 삭제하시겠습니까?")&&await M.mutateAsync(x)},f=async x=>{const l=u.find(m=>m.id===x);if(l){const m={id:l.id,name:l.name,description:"",sku:l.sku,pricing:{customer:l.price,business:l.price*.8,affiliate:l.price*.85,retailer:{gold:l.price*.75,premium:l.price*.7,vip:l.price*.65}},status:l.status==="active"?"active":"draft",slug:l.name.toLowerCase().replace(/\s+/g,"-"),images:l.image?[{id:"1",url:l.image,alt:l.name,sortOrder:0,isFeatured:!0}]:[],categories:A.filter(L=>L.name===l.category).map(L=>L.id),inventory:{stockQuantity:l.stock,stockStatus:l.status==="out_of_stock"?"out_of_stock":"in_stock",manageStock:!0,minOrderQuantity:1,lowStockThreshold:10,allowBackorder:!1},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t(m),d(!0)}},I=x=>{s(`/vendor/products/${x}`)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"상품 관리"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"등록된 상품을 관리하고 새 상품을 추가하세요"})]}),e.jsxs(v,{onClick:()=>{t(void 0),d(!0)},children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"새 상품 등록"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"전체 상품"}),e.jsx("p",{className:"text-2xl font-bold",children:b?.total||0})]}),e.jsx(G,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(w,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"판매중"}),e.jsx("p",{className:"text-2xl font-bold",children:u.filter(x=>x.status==="active"||x.status==="in_stock").length})]}),e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"})})]})})}),e.jsx(w,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"품절"}),e.jsx("p",{className:"text-2xl font-bold",children:u.filter(x=>x.status==="out_of_stock").length})]}),e.jsx(X,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(w,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"재고 부족"}),e.jsx("p",{className:"text-2xl font-bold",children:u.filter(x=>x.stock>0&&x.stock<10).length})]}),e.jsx("div",{className:"h-8 w-8 rounded-full bg-yellow-100 flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500"})})]})})})]}),e.jsx(w,{children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(y,{type:"text",placeholder:"상품명 또는 SKU로 검색...",value:a,onChange:x=>i(x.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:r,onChange:x=>n(x.target.value),children:S.map(x=>e.jsx("option",{value:x,children:x==="all"?"전체 카테고리":x},x))}),e.jsxs(v,{variant:"outline",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"필터"]})]})]})})}),e.jsx(w,{children:e.jsx(P,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상품"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"카테고리"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"가격"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"재고"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"판매량"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"작업"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:e.jsx(ge,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto"})})}):u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:a||r!=="all"?"검색 결과가 없습니다.":"등록된 상품이 없습니다."})}):u.map(x=>{const l=we[x.status]||we.active;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-10 w-10 rounded-lg object-cover",src:x.image,alt:x.name}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.sku}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.category}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q(x.price)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${x.stock===0?"text-red-600":x.stock<10?"text-yellow-600":"text-gray-900"}`,children:x.stock})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.sales}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${l.color}`,children:l.label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>I(x.id),className:"p-1 hover:bg-gray-100 rounded",title:"상세보기",children:e.jsx(is,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>f(x.id),className:"p-1 hover:bg-gray-100 rounded",title:"수정",children:e.jsx(ls,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>K(x.id),className:"p-1 hover:bg-gray-100 rounded text-red-600",title:"삭제",children:e.jsx(Be,{className:"h-4 w-4"})})]})})]},x.id)})})]})})})}),b&&b.totalPages>1&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("nav",{className:"flex space-x-2",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>c(x=>Math.max(x-1,1)),disabled:o===1,children:"이전"}),Array.from({length:b.totalPages},(x,l)=>l+1).filter(x=>x===1||x===b.totalPages||Math.abs(x-o)<=2).map((x,l,m)=>e.jsxs("div",{children:[l>0&&m[l-1]<x-1&&e.jsx("span",{className:"px-3 py-1",children:"..."}),e.jsx(v,{variant:o===x?"default":"outline",size:"sm",onClick:()=>c(x),children:x})]},x)),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>c(x=>Math.min(x+1,b.totalPages)),disabled:o===b.totalPages,children:"다음"})]})}),e.jsx(Mt,{product:h,isOpen:g,onClose:()=>{d(!1),t(void 0)},onSubmit:async x=>{h?await k.mutateAsync({id:h.id,data:x}):await C.mutateAsync(x),d(!1),t(void 0)}})]})}function Kt(){const{user:s}=ye(),[a,i]=j.useState("store"),[r,n]=j.useState({storeName:s?.name||"My Store",storeDescription:"고품질 전자제품 및 액세서리를 판매하는 온라인 스토어입니다.",logo:"/api/placeholder/200/200",email:s?.email||"store@example.com",phone:"02-1234-5678",address:"서울시 강남구 테헤란로 123",businessHours:"평일 09:00 - 18:00",bankAccount:"1234-567-89012",bankName:"국민은행",accountHolder:s?.name||"홍길동",notificationEmail:!0,notificationSms:!0,notificationPush:!1,autoConfirmOrder:!1,returnPeriod:7,shippingFee:3e3,freeShippingThreshold:5e4}),[o,c]=j.useState(!1),g=[{id:"store",name:"스토어 정보",icon:le},{id:"payment",name:"정산 정보",icon:Ae},{id:"shipping",name:"배송 설정",icon:Y},{id:"notifications",name:"알림 설정",icon:Le},{id:"security",name:"보안 설정",icon:xe}],d=async()=>{c(!0),setTimeout(()=>{c(!1),alert("설정이 저장되었습니다.")},1e3)},h=(t,p)=>{n(N=>({...N,[t]:p}))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"스토어 설정"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"스토어 정보와 운영 정책을 관리하세요"})]}),e.jsxs(v,{onClick:d,disabled:o,children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),o?"저장 중...":"설정 저장"]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"w-64",children:e.jsx("nav",{className:"space-y-1",children:g.map(t=>e.jsxs("button",{onClick:()=>i(t.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${a===t.id?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(t.icon,{className:"mr-3 h-5 w-5"}),t.name]},t.id))})}),e.jsxs("div",{className:"flex-1",children:[a==="store"&&e.jsxs(w,{children:[e.jsx(O,{children:e.jsx($,{children:"스토어 정보"})}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"스토어 로고"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:r.logo,alt:"Store logo",className:"h-20 w-20 rounded-lg object-cover"}),e.jsxs(v,{variant:"outline",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"로고 변경"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"스토어 이름"}),e.jsx(y,{value:r.storeName,onChange:t=>h("storeName",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"스토어 설명"}),e.jsx(W,{rows:3,value:r.storeDescription,onChange:t=>h("storeDescription",t.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(cs,{className:"inline h-4 w-4 mr-1"}),"이메일"]}),e.jsx(y,{type:"email",value:r.email,onChange:t=>h("email",t.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(os,{className:"inline h-4 w-4 mr-1"}),"전화번호"]}),e.jsx(y,{value:r.phone,onChange:t=>h("phone",t.target.value)})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(he,{className:"inline h-4 w-4 mr-1"}),"사업장 주소"]}),e.jsx(y,{value:r.address,onChange:t=>h("address",t.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Fe,{className:"inline h-4 w-4 mr-1"}),"영업시간"]}),e.jsx(y,{value:r.businessHours,onChange:t=>h("businessHours",t.target.value)})]})]})]}),a==="payment"&&e.jsxs(w,{children:[e.jsx(O,{children:e.jsx($,{children:"정산 정보"})}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"은행명"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:r.bankName,onChange:t=>h("bankName",t.target.value),children:[e.jsx("option",{children:"국민은행"}),e.jsx("option",{children:"신한은행"}),e.jsx("option",{children:"우리은행"}),e.jsx("option",{children:"하나은행"}),e.jsx("option",{children:"농협은행"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"계좌번호"}),e.jsx(y,{value:r.bankAccount,onChange:t=>h("bankAccount",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"예금주명"}),e.jsx(y,{value:r.accountHolder,onChange:t=>h("accountHolder",t.target.value)})]}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"주의:"})," 정산 정보 변경 시 본인 확인 절차가 필요할 수 있습니다."]})})]})]}),a==="shipping"&&e.jsxs(w,{children:[e.jsx(O,{children:e.jsx($,{children:"배송 설정"})}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"기본 배송비"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{type:"number",value:r.shippingFee,onChange:t=>h("shippingFee",parseInt(t.target.value)),className:"w-40"}),e.jsx("span",{className:"ml-2",children:"원"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"무료배송 기준금액"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{type:"number",value:r.freeShippingThreshold,onChange:t=>h("freeShippingThreshold",parseInt(t.target.value)),className:"w-40"}),e.jsx("span",{className:"ml-2",children:"원 이상"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"반품 가능 기간"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{type:"number",value:r.returnPeriod,onChange:t=>h("returnPeriod",parseInt(t.target.value)),className:"w-40"}),e.jsx("span",{className:"ml-2",children:"일"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.autoConfirmOrder,onChange:t=>h("autoConfirmOrder",t.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm",children:"주문 자동 확인 (결제 완료 시 자동으로 주문 확정)"})]})})]})]}),a==="notifications"&&e.jsxs(w,{children:[e.jsx(O,{children:e.jsx($,{children:"알림 설정"})}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"알림 수신 방법"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.notificationEmail,onChange:t=>h("notificationEmail",t.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"ml-2",children:"이메일 알림"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.notificationSms,onChange:t=>h("notificationSms",t.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"ml-2",children:"SMS 알림"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.notificationPush,onChange:t=>h("notificationPush",t.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"ml-2",children:"푸시 알림 (모바일 앱)"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"알림 항목"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"새 주문 알림"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"주문 취소 알림"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"상품 문의 알림"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"리뷰 등록 알림"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"재고 부족 알림"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"})]})]})]})]})]}),a==="security"&&e.jsxs(w,{children:[e.jsx(O,{children:e.jsx($,{children:"보안 설정"})}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"비밀번호 변경"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"현재 비밀번호"}),e.jsx(y,{type:"password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"새 비밀번호"}),e.jsx(y,{type:"password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"새 비밀번호 확인"}),e.jsx(y,{type:"password"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"2단계 인증"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"계정 보안을 강화하기 위해 2단계 인증을 활성화하세요."}),e.jsx(v,{variant:"outline",children:"2단계 인증 설정"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"로그인 기록"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-700",children:"최근 로그인: 2024-01-20 14:30 (서울, 대한민국)"}),e.jsx(v,{variant:"outline",size:"sm",className:"mt-2",children:"전체 기록 보기"})]})]})]})]})]})]})]})}const Wt=ds([{path:"/",element:e.jsx(Ms,{}),children:[{index:!0,element:e.jsx(_s,{})},{path:"products",element:e.jsx(zs,{})},{path:"products/:id",element:e.jsx(js,{})},{path:"cart",element:e.jsx(fs,{})},{path:"checkout",element:e.jsx(ys,{})},{path:"orders",element:e.jsx(Fs,{})},{path:"orders/:id",element:e.jsx(Hs,{})},{path:"profile",element:e.jsx(Ts,{})},{path:"shop/:slug",element:e.jsx(at,{})},{path:"supplier/store-settings",element:e.jsx(lt,{})},{path:"shortcode-demo",element:e.jsx(Bt,{})}]},{path:"/vendor",element:e.jsx(Rt,{children:e.jsx(Qt,{})}),children:[{index:!0,element:e.jsx("div",{children:"대시보드는 준비 중입니다."})},{path:"products",element:e.jsx(Ht,{})},{path:"orders",element:e.jsx(Ls,{})},{path:"analytics",element:e.jsx("div",{children:"분석 페이지는 준비 중입니다."})},{path:"settings",element:e.jsx(Kt,{})}]},{path:"/login",element:e.jsx(Ks,{})},{path:"/register",element:e.jsx(Ws,{})}]),Gt=new xs({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});ms.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(hs,{client:Gt,children:e.jsx(vs,{children:e.jsx(us,{router:Wt})})})}));
