import{r as p,j as e,o as pe,p as ge,L as Te,h as se,i as re,C as Fe,q as De,s as Pe,E as qe,l as fe,T as ve,F as ze,u as be,X as Ae,I as Oe,b as X,R as H,t as Me,v as ne,k as ye,H as Qe,w as Le,d as _e,x as He,e as Ue,f as ie,B as Ye,W as Be}from"./vendor-react-Cb3rBkAv.js";import{c as M,R as Ke,a as O,P as Ve}from"./product-components-VaV2W_w2.js";import{c as C,f as L,P as $e,h as We,B as N,D as Xe,i as Ge,j as Je,k as G,L as T,I as Q,l as je,m as z,n as we,o as Ne,p as Y,q as B,r as J,s as Z,t as ee,u as te,A as Ze,v as et,w as tt,x as st,C as K,y as ke,z as at,E as rt,R as le,F as ce}from"./cart-components-BZREMwR_.js";import{u as V,a as $,b as A}from"./vendor-query-Cr2HpTb8.js";import{o as nt,s as de,n as ot,a as it}from"./vendor-forms-CJipdo4q.js";import{l as lt}from"./vendor-socket-B_mMAB35.js";const ct=p.createContext(void 0),W=()=>{const a=p.useContext(ct);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a};if(typeof document<"u"&&!document.getElementById("auth-spinner-styles")){const a=document.createElement("style");a.id="auth-spinner-styles",a.textContent=`
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(a)}class dt{constructor(t,s=3e4){this.apiUrl=t,this.checkInterval=s,this.socket=null,this.sessionCheckInterval=null}connect(t,s){if(this.socket?.connected)return;s?.onSessionEvent&&(this.onSessionEvent=s.onSessionEvent),s?.onForceLogout&&(this.onForceLogout=s.onForceLogout);const n=this.apiUrl.replace("/api/v1","");this.socket=lt(n,{auth:{token:t},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.setupEventListeners(),this.startSessionCheck()}disconnect(){this.sessionCheckInterval&&(clearInterval(this.sessionCheckInterval),this.sessionCheckInterval=null),this.socket&&(this.socket.disconnect(),this.socket=null)}setupEventListeners(){this.socket&&(this.socket.on("connect",()=>{this.checkSession()}),this.socket.on("disconnect",t=>{}),this.socket.on("connect_error",t=>{console.error("[Session Sync] Connection error:",t.message)}),this.socket.on("session:status",t=>{}),this.socket.on("session:event",t=>{this.onSessionEvent&&this.onSessionEvent(t)}),this.socket.on("session:created",t=>{this.onSessionEvent&&this.onSessionEvent({event:"created",sessionId:t.sessionId,timestamp:Date.now()})}),this.socket.on("session:removed",t=>{this.onSessionEvent&&this.onSessionEvent({event:"removed",sessionId:t.sessionId,timestamp:Date.now()})}),this.socket.on("session:refreshed",t=>{this.onSessionEvent&&this.onSessionEvent({event:"refreshed",sessionId:t.sessionId,timestamp:Date.now()})}),this.socket.on("session:force_logout",t=>{this.onForceLogout&&this.onForceLogout(t.reason)}))}startSessionCheck(){this.sessionCheckInterval&&clearInterval(this.sessionCheckInterval),this.sessionCheckInterval=setInterval(()=>{this.checkSession()},this.checkInterval)}checkSession(){this.socket?.connected&&this.socket.emit("session:check")}logoutSession(t){this.socket?.connected&&this.socket.emit("session:logout",{sessionId:t})}logoutAllDevices(){this.socket?.connected&&this.socket.emit("session:logout",{allDevices:!0})}updateToken(t){this.socket&&(this.disconnect(),this.connect(t))}isConnected(){return this.socket?.connected||!1}}const Se=p.createContext(void 0),Ht=({children:a,onAuthChange:t,enableSessionSync:s=!0,sessionCheckInterval:n=3e4})=>{const[d,i]=p.useState(null),[g,u]=p.useState(!0),[r,l]=p.useState(null),h=p.useRef(null),c=p.useCallback(async()=>{try{u(!0),l(null);const f=await M.getCurrentUser();if(i(f),t?.(f),f&&s){const v=M.getAccessToken();v&&x(v)}}catch{i(null),t?.(null)}finally{u(!1)}},[t]),x=p.useCallback(f=>{!s||!f||(h.current||(h.current=new dt(M.getApiUrl(),n)),h.current.connect(f,{onSessionEvent:v=>{switch(v.event){case"logout_all":case"removed":c();break}},onForceLogout:v=>{i(null),l(v),t?.(null),h.current?.disconnect()}}))},[s,n,c,t]);p.useEffect(()=>()=>{h.current?.disconnect()},[]),p.useEffect(()=>{c()},[c]);const y=p.useCallback(async f=>{try{l(null),u(!0);const v=await M.loginWithSync(f);v.success&&v.user&&(i(v.user),t?.(v.user),v.token&&x(v.token))}catch(v){const j=v.response?.data?.error||"Login failed";throw l(j),new Error(j)}finally{u(!1)}},[t]),m=p.useCallback(async f=>{try{l(null),u(!0);const v=await M.register(f);if(!v.success)throw new Error(v.message||"Registration failed")}catch(v){const j=v.response?.data?.error||"Registration failed";throw l(j),new Error(j)}finally{u(!1)}},[]),w=p.useCallback(async()=>{try{u(!0),await M.logoutWithSync(),i(null),t?.(null),h.current?.disconnect()}catch(f){console.error("Logout error:",f)}finally{u(!1)}},[t]),o=p.useCallback(async()=>{try{u(!0),await M.logoutAll(),i(null),t?.(null),h.current?.disconnect()}catch(f){console.error("Logout all error:",f)}finally{u(!1)}},[t]),b=p.useCallback(f=>d?(Array.isArray(f)?f:[f]).includes(d.role):!1,[d]),k=p.useCallback(f=>d?d.role==="admin"?!0:d.permissions?.includes(f)||!1:!1,[d]),P={user:d,loading:g,error:r,login:y,register:m,logout:w,logoutAll:o,checkAuth:c,isAuthenticated:!!d,hasRole:b,hasPermission:k};return e.jsx(Se.Provider,{value:P,children:a})},Ut=()=>{const a=p.useContext(Se);if(a===void 0)throw new Error("useCookieAuth must be used within a CookieAuthProvider");return a},Yt=({products:a,autoplay:t=!1,interval:s=5e3,visibleItems:n={mobile:1,tablet:2,desktop:4},className:d})=>{const[i,g]=p.useState(0),[u,r]=p.useState(!1),l=p.useRef(null);p.useEffect(()=>(t&&!u&&a.length>1&&(l.current=setInterval(()=>{g(o=>(o+1)%a.length)},s)),()=>{l.current&&clearInterval(l.current)}),[t,u,a.length,s]);const h=()=>{g(o=>(o-1+a.length)%a.length)},c=()=>{g(o=>(o+1)%a.length)},x=o=>{g(o)};if(a.length===0)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"표시할 상품이 없습니다."})});const y=n.desktop||4,m=Math.ceil(a.length/y),w=Math.floor(i/y);return e.jsxs("div",{className:C("relative",d),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.jsx("div",{className:"overflow-hidden rounded-lg",children:e.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${i*(100/y)}%)`},children:a.map(o=>e.jsx("div",{className:C("flex-shrink-0 px-2","w-full",`md:w-1/${n.tablet||2}`,`lg:w-1/${n.desktop||4}`),children:e.jsx(ut,{product:o})},o.id))})}),a.length>y&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:h,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-r-lg shadow-lg transition-all z-10","aria-label":"이전 상품",children:e.jsx(pe,{className:"w-5 h-5"})}),e.jsx("button",{onClick:c,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-l-lg shadow-lg transition-all z-10","aria-label":"다음 상품",children:e.jsx(ge,{className:"w-5 h-5"})})]}),m>1&&e.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:Array.from({length:m}).map((o,b)=>e.jsx("button",{onClick:()=>x(b*y),className:C("h-2 rounded-full transition-all",w===b?"bg-primary w-8":"bg-muted hover:bg-muted-foreground/50 w-2"),"aria-label":`슬라이드 ${b+1}로 이동`},b))})]})},ut=({product:a})=>{const t=a.pricing?.customer||0,s=a.compareAtPrice||0,n=s>t?Math.round((s-t)/s*100):0;return e.jsx(Te,{to:`/products/${a.slug||a.id}`,className:"block group",children:e.jsxs("div",{className:"bg-card rounded-lg border hover:shadow-lg transition-all duration-200 h-full",children:[e.jsxs("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden bg-muted rounded-t-lg relative",children:[a.images&&a.images[0]?e.jsx("img",{src:a.images[0].url,alt:a.name,className:"object-cover object-center w-full h-48 group-hover:scale-105 transition-transform duration-200",loading:"lazy"}):e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx(se,{className:"w-10 h-10 text-muted-foreground"})}),e.jsxs("div",{className:"absolute top-2 right-2 space-y-1",children:[n>0&&e.jsxs("span",{className:"block px-2 py-1 text-xs font-medium bg-destructive text-destructive-foreground rounded",children:["-",n,"%"]}),a.isFeatured&&e.jsx("span",{className:"block px-2 py-1 text-xs font-medium bg-yellow-400 text-yellow-900 rounded",children:"추천"})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-sm font-medium line-clamp-2 mb-1",children:a.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-base font-semibold",children:L(t)}),s>t&&e.jsx("span",{className:"text-sm text-muted-foreground line-through",children:L(s)})]}),a.inventory?.stockQuantity===0&&e.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs font-medium bg-muted text-muted-foreground rounded",children:"품절"})]})]})})},mt={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};function oe({rating:a,onRatingChange:t,size:s="md",readonly:n=!0,showText:d=!1,className:i}){const[g,u]=p.useState(0),r=x=>{n||u(x)},l=()=>{n||u(0)},h=x=>{!n&&t&&t(x)},c=g||a;return e.jsxs("div",{className:C("flex items-center gap-1",i),children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(x=>e.jsx("button",{type:"button",onClick:()=>h(x),onMouseEnter:()=>r(x),onMouseLeave:l,disabled:n,className:C("transition-colors",n?"cursor-default":"cursor-pointer hover:scale-110"),children:e.jsx(re,{className:C(mt[s],"transition-colors",x<=c?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200")})},x))}),d&&e.jsx("span",{className:C("text-gray-600",s==="sm"&&"text-sm",s==="lg"&&"text-lg"),children:a.toFixed(1)})]})}function ht({stats:a,className:t}){return e.jsxs("div",{className:C("space-y-4",t),children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold",children:a.averageRating.toFixed(1)}),e.jsx(oe,{rating:a.averageRating,size:"lg"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a.totalReviews.toLocaleString(),"개의 리뷰"]})]}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(s=>{const n=a.ratingDistribution[s],d=a.totalReviews>0?n/a.totalReviews*100:0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm w-3",children:s}),e.jsx(re,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("div",{className:"flex-1",children:e.jsx($e,{value:d,className:"h-2"})}),e.jsx("span",{className:"text-sm text-gray-600 w-12 text-right",children:n})]},s)})}),a.verifiedPercentage>0&&e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsxs("span",{className:"font-medium",children:[a.verifiedPercentage.toFixed(0),"%"]}),"가 실제 구매자의 리뷰입니다"]})})]})}function xt({review:a,onHelpful:t,onReport:s,onEdit:n,onDelete:d,className:i}){const{user:g}=W(),[u,r]=p.useState(null),l=g?.id===a.userId,h=c=>{u===null&&(r(c),t?.(c))};return e.jsx("div",{className:C("border-b pb-6 last:border-0",i),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(oe,{rating:a.rating,size:"sm"}),e.jsx("h4",{className:"font-medium",children:a.title}),a.verified&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600",children:[e.jsx(Fe,{className:"w-3 h-3"}),"구매 인증"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[e.jsx("span",{children:a.user?.name||"익명"}),e.jsx("span",{children:"·"}),e.jsx("span",{children:We(a.createdAt)})]}),e.jsx("p",{className:"text-gray-700 whitespace-pre-line mb-3",children:a.content}),a.images&&a.images.length>0&&e.jsx("div",{className:"flex gap-2 mb-3",children:a.images.map((c,x)=>e.jsx("img",{src:c,alt:`리뷰 이미지 ${x+1}`,className:"w-20 h-20 object-cover rounded cursor-pointer hover:opacity-90",onClick:()=>{}},x))}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"도움이 되었나요?"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:"ghost",size:"sm",onClick:()=>h(!0),disabled:u!==null,className:C("gap-1",u===!0&&"text-blue-600"),children:[e.jsx(De,{className:"w-4 h-4"}),e.jsx("span",{children:a.helpful})]}),e.jsxs(N,{variant:"ghost",size:"sm",onClick:()=>h(!1),disabled:u!==null,className:C("gap-1",u===!1&&"text-red-600"),children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:a.unhelpful})]})]})]})]}),e.jsxs(Xe,{children:[e.jsx(Ge,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(qe,{className:"h-4 w-4"})})}),e.jsx(Je,{align:"end",children:l?e.jsxs(e.Fragment,{children:[e.jsxs(G,{onClick:n,children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),"수정"]}),e.jsxs(G,{onClick:d,className:"text-red-600",children:[e.jsx(ve,{className:"mr-2 h-4 w-4"}),"삭제"]})]}):e.jsxs(G,{onClick:s,children:[e.jsx(ze,{className:"mr-2 h-4 w-4"}),"신고"]})})]})]})})}const pt=nt({rating:ot().min(1,"평점을 선택해주세요").max(5),title:de().min(1,"제목을 입력해주세요").max(100,"제목은 100자 이내로 입력해주세요"),content:de().min(10,"리뷰는 최소 10자 이상 작성해주세요").max(1e3,"리뷰는 1000자 이내로 작성해주세요")});function ue({productId:a,orderId:t,review:s,onSubmit:n,onCancel:d,isSubmitting:i,className:g}){const[u,r]=p.useState([]),[l,h]=p.useState(s?.images||[]),c=p.useRef(null),{register:x,handleSubmit:y,watch:m,setValue:w,formState:{errors:o}}=be({resolver:it(pt),defaultValues:{rating:s?.rating||0,title:s?.title||"",content:s?.content||""}}),b=m("rating"),k=m("content")?.length||0,P=j=>{const R=Array.from(j.target.files||[]).filter(F=>{const q=F.type.startsWith("image/"),_=F.size<=5*1024*1024;return q&&_});if(R.length+u.length+l.length>5){alert("이미지는 최대 5개까지 업로드 가능합니다.");return}r([...u,...R]),R.forEach(F=>{const q=new FileReader;q.onloadend=()=>{h(_=>[..._,q.result])},q.readAsDataURL(F)})},f=j=>{const I=[...u],R=[...l];j<u.length&&I.splice(j,1),R.splice(j,1),r(I),h(R)},v=j=>{n({productId:a,orderId:t,...j,images:l})};return e.jsxs("form",{onSubmit:y(v),className:C("space-y-4",g),children:[e.jsxs("div",{children:[e.jsx(T,{children:"평점"}),e.jsx("div",{className:"mt-1",children:e.jsx(oe,{rating:b,onRatingChange:j=>w("rating",j),size:"lg",readonly:!1})}),o.rating&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.rating.message})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"title",children:"제목"}),e.jsx(Q,{id:"title",...x("title"),placeholder:"리뷰 제목을 입력해주세요",className:"mt-1"}),o.title&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.title.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx(T,{htmlFor:"content",children:"내용"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[k,"/1000"]})]}),e.jsx(je,{id:"content",...x("content"),placeholder:"상품에 대한 솔직한 리뷰를 작성해주세요",rows:5,className:"resize-none"}),o.content&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.content.message})]}),e.jsxs("div",{children:[e.jsx(T,{children:"이미지 (선택사항)"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.map((j,I)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:j,alt:`리뷰 이미지 ${I+1}`,className:"w-20 h-20 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>f(I),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(Ae,{className:"w-3 h-3"})})]},I)),l.length<5&&e.jsx("button",{type:"button",onClick:()=>c.current?.click(),className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded hover:border-gray-400 flex items-center justify-center",children:e.jsx(Oe,{className:"w-6 h-6 text-gray-400"})})]}),e.jsx("input",{ref:c,type:"file",accept:"image/*",multiple:!0,onChange:P,className:"hidden"}),e.jsx("p",{className:"text-xs text-gray-500",children:"최대 5개, 각 5MB 이하의 이미지를 업로드할 수 있습니다."})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(N,{type:"submit",disabled:i,className:"flex-1",children:i?"저장 중...":s?"리뷰 수정":"리뷰 작성"}),d&&e.jsx(N,{type:"button",variant:"outline",onClick:d,disabled:i,children:"취소"})]})]})}function gt({reviews:a,filters:t,onFiltersChange:s,onHelpful:n,onReport:d,onEdit:i,onDelete:g,onLoadMore:u,isLoading:r,hasMore:l,className:h}){return r&&!a?e.jsx(ft,{}):!a||a.reviews.length===0?e.jsxs("div",{className:C("text-center py-12",h),children:[e.jsx(X,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"아직 작성된 리뷰가 없습니다."}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"첫 번째 리뷰를 작성해보세요!"})]}):e.jsxs("div",{className:C("space-y-6",h),children:[s&&e.jsx(Ke,{filters:t||{},totalReviews:a.total,onFiltersChange:s}),e.jsx("div",{className:"space-y-6",children:a.reviews.map(c=>e.jsx(xt,{review:c,onHelpful:x=>n?.(c.id,x),onReport:()=>d?.(c.id),onEdit:()=>i?.(c.id),onDelete:()=>g?.(c.id)},c.id))}),l&&u&&e.jsx("div",{className:"text-center pt-4",children:e.jsx(N,{variant:"outline",onClick:u,disabled:r,children:r?"로딩 중...":"더 보기"})})]})}function ft(){return e.jsx("div",{className:"space-y-6",children:[1,2,3].map(a=>e.jsxs("div",{className:"border-b pb-6 last:border-0",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[e.jsx(z,{className:"h-5 w-24"}),e.jsx(z,{className:"h-5 w-48"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(z,{className:"h-4 w-20"}),e.jsx(z,{className:"h-4 w-24"})]}),e.jsx(z,{className:"h-20 w-full"}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(z,{className:"h-8 w-16"}),e.jsx(z,{className:"h-8 w-16"})]})]},a))})}function vt(a){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a))}Array(12).fill(0);let ae=1;class bt{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:n,...d}=t,i=typeof t?.id=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:ae++,g=this.toasts.find(r=>r.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),g?this.toasts=this.toasts.map(r=>r.id===i?(this.publish({...r,...t,id:i,title:n}),{...r,...t,id:i,dismissible:u,title:n}):r):this.addToast({title:n,...d,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const d=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,g;const u=d.then(async l=>{if(g=["resolve",l],H.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(jt(l)&&!l.ok){i=!1;const c=typeof s.error=="function"?await s.error(`HTTP error! status: ${l.status}`):s.error,x=typeof s.description=="function"?await s.description(`HTTP error! status: ${l.status}`):s.description,m=typeof c=="object"&&!H.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:x,...m})}else if(l instanceof Error){i=!1;const c=typeof s.error=="function"?await s.error(l):s.error,x=typeof s.description=="function"?await s.description(l):s.description,m=typeof c=="object"&&!H.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:x,...m})}else if(s.success!==void 0){i=!1;const c=typeof s.success=="function"?await s.success(l):s.success,x=typeof s.description=="function"?await s.description(l):s.description,m=typeof c=="object"&&!H.isValidElement(c)?c:{message:c};this.create({id:n,type:"success",description:x,...m})}}).catch(async l=>{if(g=["reject",l],s.error!==void 0){i=!1;const h=typeof s.error=="function"?await s.error(l):s.error,c=typeof s.description=="function"?await s.description(l):s.description,y=typeof h=="object"&&!H.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:c,...y})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),r=()=>new Promise((l,h)=>u.then(()=>g[0]==="reject"?h(g[1]):l(g[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:r}:Object.assign(n,{unwrap:r})},this.custom=(t,s)=>{const n=s?.id||ae++;return this.create({jsx:t(n),id:n,...s}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const E=new bt,yt=(a,t)=>{const s=t?.id||ae++;return E.addToast({title:a,...t,id:s}),s},jt=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",wt=yt,Nt=()=>E.toasts,kt=()=>E.getActiveToasts(),D=Object.assign(wt,{success:E.success,info:E.info,warning:E.warning,error:E.error,custom:E.custom,message:E.message,promise:E.promise,dismiss:E.dismiss,loading:E.loading},{getHistory:Nt,getToasts:kt});vt("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const St=(a,t)=>V({queryKey:["reviews","product",a,t],queryFn:()=>O.reviews.getProductReviews(a,t),enabled:!!a}),Ct=a=>V({queryKey:["reviews","stats",a],queryFn:()=>O.reviews.getProductReviewStats(a),enabled:!!a}),Rt=a=>V({queryKey:["reviews","can-review",a],queryFn:()=>O.reviews.canReviewProduct(a),enabled:!!a}),It=()=>{const a=$();return A({mutationFn:O.reviews.createReview,onSuccess:t=>{a.invalidateQueries({queryKey:["reviews","product",t.productId]}),a.invalidateQueries({queryKey:["reviews","stats",t.productId]}),a.invalidateQueries({queryKey:["reviews","can-review",t.productId]}),a.invalidateQueries({queryKey:["reviews","my-reviews"]}),a.invalidateQueries({queryKey:["product",t.productId]}),D.success("리뷰가 성공적으로 작성되었습니다.")},onError:t=>{const s=t.response?.data?.message||"리뷰 작성에 실패했습니다.";D.error(s)}})},Et=()=>{const a=$();return A({mutationFn:({id:t,data:s})=>O.reviews.updateReview(t,s),onSuccess:t=>{a.invalidateQueries({queryKey:["review",t.id]}),a.invalidateQueries({queryKey:["reviews","product",t.productId]}),a.invalidateQueries({queryKey:["reviews","my-reviews"]}),D.success("리뷰가 수정되었습니다.")},onError:t=>{const s=t.response?.data?.message||"리뷰 수정에 실패했습니다.";D.error(s)}})},Tt=()=>{const a=$();return A({mutationFn:O.reviews.deleteReview,onSuccess:()=>{a.invalidateQueries({queryKey:["reviews"]}),D.success("리뷰가 삭제되었습니다.")},onError:t=>{const s=t.response?.data?.message||"리뷰 삭제에 실패했습니다.";D.error(s)}})},Ft=()=>{const a=$();return A({mutationFn:({id:t,helpful:s})=>O.reviews.markHelpful(t,{helpful:s}),onSuccess:t=>{a.setQueryData(["review",t.id],t),a.invalidateQueries({queryKey:["reviews","product",t.productId]})},onError:t=>{const s=t.response?.data?.message||"오류가 발생했습니다.";D.error(s)}})},Dt=()=>A({mutationFn:({id:a,reason:t})=>O.reviews.reportReview(a,t),onSuccess:()=>{D.success("리뷰가 신고되었습니다. 검토 후 조치하겠습니다.")},onError:a=>{const t=a.response?.data?.message||"신고에 실패했습니다.";D.error(t)}});function Pt({product:a,className:t}){const{user:s}=W(),[n,d]=p.useState({sort:"recent",limit:10,page:1}),[i,g]=p.useState(!1),[u,r]=p.useState(null),[l,h]=p.useState(null),[c,x]=p.useState(""),{data:y,isLoading:m}=St(a.id,n),{data:w,isLoading:o}=Ct(a.id),{data:b}=Rt(a.id),k=It(),P=Et(),f=Tt(),v=Ft(),j=Dt(),I=n.page||1,R=y?.totalPages||1,F=I<R,q=()=>{d({...n,page:I+1})},_=S=>{k.mutate(S,{onSuccess:()=>{g(!1)}})},Ce=S=>{u&&P.mutate({id:u,data:S},{onSuccess:()=>{r(null)}})},Re=S=>{confirm("리뷰를 삭제하시겠습니까?")&&f.mutate(S)},Ie=()=>{if(!l||!c){D.error("신고 사유를 입력해주세요.");return}j.mutate({id:l,reason:c},{onSuccess:()=>{h(null),x("")}})};return e.jsxs("div",{className:C("space-y-6",t),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"리뷰"}),s&&b?.canReview&&e.jsxs(N,{onClick:()=>g(!0),children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"리뷰 작성"]})]}),e.jsxs(we,{defaultValue:"all",className:"w-full",children:[e.jsxs(Ne,{className:"grid w-full grid-cols-2",children:[e.jsx(Y,{value:"all",children:"전체 리뷰"}),e.jsx(Y,{value:"stats",children:"리뷰 통계"})]}),e.jsx(B,{value:"all",className:"mt-6",children:m?e.jsx(z,{className:"h-96 w-full"}):e.jsx(gt,{reviews:y,filters:n,onFiltersChange:d,onHelpful:(S,Ee)=>v.mutate({id:S,helpful:Ee}),onReport:S=>h(S),onEdit:S=>r(S),onDelete:Re,onLoadMore:q,isLoading:m,hasMore:F})}),e.jsx(B,{value:"stats",className:"mt-6",children:o?e.jsx(z,{className:"h-96 w-full"}):w?e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx(ht,{stats:w})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(X,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"통계를 표시할 리뷰가 없습니다."})]})})]}),e.jsx(J,{open:i,onOpenChange:g,children:e.jsxs(Z,{className:"max-w-2xl",children:[e.jsx(ee,{children:e.jsx(te,{children:"리뷰 작성"})}),b&&!b.canReview&&e.jsxs(Ze,{className:"mb-4",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx(et,{children:b.reason||"이 상품에 대한 리뷰를 작성할 수 없습니다."})]}),e.jsx(ue,{productId:a.id,onSubmit:_,onCancel:()=>g(!1),isSubmitting:k.isPending})]})}),u&&e.jsx(J,{open:!!u,onOpenChange:()=>r(null),children:e.jsxs(Z,{className:"max-w-2xl",children:[e.jsx(ee,{children:e.jsx(te,{children:"리뷰 수정"})}),e.jsx(ue,{productId:a.id,review:y?.reviews.find(S=>S.id===u),onSubmit:Ce,onCancel:()=>r(null),isSubmitting:P.isPending})]})}),e.jsx(J,{open:!!l,onOpenChange:()=>h(null),children:e.jsxs(Z,{children:[e.jsx(ee,{children:e.jsx(te,{children:"리뷰 신고"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"신고 사유"}),e.jsx("textarea",{className:"w-full mt-1 p-3 border rounded-md resize-none",rows:4,placeholder:"신고 사유를 입력해주세요",value:c,onChange:S=>x(S.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{onClick:Ie,disabled:!c||j.isPending,className:"flex-1",children:"신고하기"}),e.jsx(N,{variant:"outline",onClick:()=>{h(null),x("")},children:"취소"})]})]})]})})]})}const me={id:"1",name:"프리미엄 무선 헤드폰",slug:"premium-wireless-headphones",sku:"WH-001",description:"최고급 사운드와 노이즈 캔슬링 기능을 갖춘 프리미엄 헤드폰입니다. 장시간 착용해도 편안한 인체공학적 디자인과 함께 최대 30시간의 배터리 수명을 제공합니다.",shortDescription:"프리미엄 무선 헤드폰",pricing:{customer:89e3,business:80100,affiliate:84550,retailer:{gold:84550,premium:82e3,vip:80100}},inventory:{stockQuantity:15,minOrderQuantity:1,lowStockThreshold:5,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},categories:["1"],tags:["무선","노이즈캔슬링","블루투스"],images:[{id:"1",url:"https://via.placeholder.com/600x600",alt:"헤드폰 정면",sortOrder:0,isFeatured:!0},{id:"2",url:"https://via.placeholder.com/600x600",alt:"헤드폰 측면",sortOrder:1,isFeatured:!1},{id:"3",url:"https://via.placeholder.com/600x600",alt:"헤드폰 착용",sortOrder:2,isFeatured:!1}],featuredImageUrl:"https://via.placeholder.com/600x600",isFeatured:!0,status:"active",approvalStatus:"approved",supplierId:"1",supplierName:"테크 서플라이",specifications:{색상:"블랙",연결방식:"블루투스 5.0",배터리:"최대 30시간",충전시간:"2시간"},attributes:{},viewCount:0,salesCount:0,rating:4.5,reviewCount:128,isVirtual:!1,isDownloadable:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"},qt=[];function Bt(){const{id:a}=Me(),t=ne();W();const[s,n]=p.useState(1),[d,i]=p.useState(0),[g,u]=p.useState(!1),{data:r=me,isLoading:l}=V({queryKey:["product",a],queryFn:async()=>me}),h=m=>{m>=1&&m<=r.inventory.stockQuantity&&n(m)},c=()=>{},x=()=>{t("/checkout")},y=()=>{navigator.share&&navigator.share({title:r.name,text:r.description,url:window.location.href})};return l?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"상품 정보를 불러오는 중..."})}):r?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("nav",{className:"text-sm text-muted-foreground",children:[e.jsx("a",{href:"/",className:"hover:text-foreground",children:"홈"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("a",{href:"/products",className:"hover:text-foreground",children:"상품"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-foreground",children:r.name})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-lg bg-muted",children:[r.images&&r.images[d]?e.jsx("img",{src:r.images[d].url,alt:r.images[d].alt,className:"object-cover w-full h-full"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(se,{className:"w-20 h-20 text-muted-foreground"})}),r.images&&r.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i(m=>m>0?m-1:r.images.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/80 hover:bg-white shadow-md",children:e.jsx(pe,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>i(m=>m<r.images.length-1?m+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/80 hover:bg-white shadow-md",children:e.jsx(ge,{className:"w-5 h-5"})})]})]}),r.images&&r.images.length>1&&e.jsx("div",{className:"flex gap-2",children:r.images.map((m,w)=>e.jsx("button",{onClick:()=>i(w),className:`relative w-20 h-20 rounded-lg overflow-hidden border-2 ${d===w?"border-primary":"border-muted"}`,children:e.jsx("img",{src:m.url,alt:m.alt,className:"object-cover w-full h-full"})},m.id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.name}),r.rating&&e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((m,w)=>e.jsx(re,{className:`w-5 h-5 ${w<Math.floor(r.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},w))}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.rating," (",r.reviewCount||0,"개 리뷰)"]})]}),e.jsx(tt,{price:r.pricing.customer,size:"xl",showSavings:!0})]}),e.jsx(st,{stockQuantity:r.inventory.stockQuantity,manageStock:r.inventory.manageStock,showQuantity:!0}),r.attributes&&Object.keys(r.attributes).length>0&&e.jsx("div",{className:"space-y-4",children:Object.entries(r.attributes).map(([m,w])=>e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:m}),e.jsx("div",{className:"font-medium",children:w})]},m))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"수량"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{variant:"outline",size:"icon",onClick:()=>h(s-1),disabled:s<=1,children:"-"}),e.jsx(Q,{type:"number",value:s,onChange:m=>h(Number(m.target.value)),className:"w-20 text-center",min:1,max:r.inventory.stockQuantity}),e.jsx(N,{variant:"outline",size:"icon",onClick:()=>h(s+1),disabled:s>=r.inventory.stockQuantity,children:"+"}),e.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(재고: ",r.inventory.stockQuantity,"개)"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(N,{onClick:c,disabled:r.inventory.stockQuantity===0,className:"flex-1",size:"lg",children:[e.jsx(ye,{className:"w-5 h-5 mr-2"}),"장바구니 담기"]}),e.jsx(N,{onClick:x,disabled:r.inventory.stockQuantity===0,variant:"default",size:"lg",children:"바로 구매"}),e.jsx(N,{variant:"outline",size:"icon",onClick:()=>u(!g),children:e.jsx(Qe,{className:`w-5 h-5 ${g?"fill-current text-red-500":""}`})}),e.jsx(N,{variant:"outline",size:"icon",onClick:y,children:e.jsx(Le,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4 border-y",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(_e,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:"무료배송"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"5만원 이상"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:"품질보증"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1년 보증"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:"교환/반품"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"14일 이내"})]})]})]})]}),e.jsxs(we,{defaultValue:"description",className:"w-full",children:[e.jsxs(Ne,{className:"grid w-full grid-cols-3",children:[e.jsx(Y,{value:"description",children:"상품 설명"}),e.jsx(Y,{value:"specs",children:"상품 사양"}),e.jsx(Y,{value:"reviews",children:"상품 리뷰"})]}),e.jsx(B,{value:"description",className:"mt-6",children:e.jsxs(K,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"상품 설명"}),e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("p",{children:r.description}),r.description&&e.jsx("div",{dangerouslySetInnerHTML:{__html:r.description}})]})]})}),e.jsx(B,{value:"specs",className:"mt-6",children:e.jsxs(K,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"상품 사양"}),r.attributes&&Object.keys(r.attributes).length>0?e.jsx("table",{className:"w-full",children:e.jsx("tbody",{children:Object.entries(r.attributes).map(([m,w],o)=>e.jsxs("tr",{className:o%2===0?"bg-muted/50":"",children:[e.jsx("td",{className:"py-2 px-4 font-medium",children:m}),e.jsx("td",{className:"py-2 px-4",children:w})]},m))})}):e.jsx("p",{className:"text-muted-foreground",children:"상품 사양 정보가 없습니다."})]})}),e.jsx(B,{value:"reviews",className:"mt-6",children:e.jsx(Pt,{product:r})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"관련 상품"}),e.jsx(Ve,{products:qt,columns:4,onAddToCart:()=>{}})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-muted-foreground",children:"상품을 찾을 수 없습니다."}),e.jsx(N,{onClick:()=>t("/products"),className:"mt-4",children:"상품 목록으로"})]})}const he={id:"1",userId:"1",summary:{subtotal:0,discount:0,shipping:0,tax:0,total:0},items:[{id:"1",cartId:"1",productId:"1",quantity:2,product:{id:"1",name:"프리미엄 무선 헤드폰",slug:"premium-wireless-headphones",sku:"WH-1000",description:"고품질 무선 헤드폰",shortDescription:"프리미엄 사운드",pricing:{customer:89e3,business:80100,affiliate:84550,retailer:{gold:84550,premium:82e3,vip:80100}},inventory:{stockQuantity:15,minOrderQuantity:1,lowStockThreshold:5,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"1",url:"https://via.placeholder.com/300x300",alt:"헤드폰",sortOrder:0,isFeatured:!0}],categories:[],tags:[],specifications:{},attributes:{},supplierId:"1",supplierName:"테크 서플라이",status:"active",approvalStatus:"approved",viewCount:0,salesCount:0,rating:0,reviewCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"1",isFeatured:!1,isVirtual:!1,isDownloadable:!1},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",cartId:"1",productId:"2",quantity:1,product:{id:"2",name:"스마트 워치 프로",slug:"smart-watch-pro",sku:"SW-PRO-001",description:"첨단 기능의 스마트 워치",shortDescription:"프로급 스마트워치",pricing:{customer:259e3,business:233100,affiliate:246050,retailer:{gold:246050,premium:24e4,vip:233100}},inventory:{stockQuantity:8,minOrderQuantity:1,lowStockThreshold:3,manageStock:!0,allowBackorder:!1,stockStatus:"in_stock"},images:[{id:"2",url:"https://via.placeholder.com/300x300",alt:"스마트워치",sortOrder:0,isFeatured:!0}],categories:[],tags:[],specifications:{},attributes:{},supplierId:"1",supplierName:"테크 서플라이",status:"active",approvalStatus:"approved",viewCount:0,salesCount:0,rating:0,reviewCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"1",isFeatured:!1,isVirtual:!1,isDownloadable:!1},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};function Kt(){const a=ne(),{user:t}=W(),s=$(),[n,d]=p.useState(new Set),{data:i=he,isLoading:g}=V({queryKey:["cart"],queryFn:async()=>he}),u=A({mutationFn:async o=>{},onSuccess:()=>{s.invalidateQueries({queryKey:["cart"]})}}),r=A({mutationFn:async()=>{},onSuccess:()=>{s.invalidateQueries({queryKey:["cart"]})}}),l=A({mutationFn:async()=>{},onSuccess:()=>{s.invalidateQueries({queryKey:["cart"]}),d(new Set)}}),h=p.useMemo(()=>{if(!i||i.items.length===0)return{subtotal:0,discount:0,shipping:0,tax:0,total:0};const b=(n.size>0?i.items.filter(R=>n.has(R.id)):i.items).reduce((R,F)=>{if(!F.product)return R;const q=F.product.pricing?.customer||0;return R+q*F.quantity},0);let k=0;(t?.role==="business"||t?.role==="affiliate")&&(k=.02);const P=Math.floor(b*k),f=b-P,v=f>=5e4?0:3e3,j=Math.floor(f*.1),I=f+v+j;return{subtotal:b,discount:P,shipping:v,tax:j,total:I}},[i,n,t]),c=o=>{d(o?new Set(i.items.map(b=>b.id)):new Set)},x=(o,b)=>{const k=new Set(n);b?k.add(o):k.delete(o),d(k)},y=()=>{n.size===0&&i.items.length>0&&d(new Set(i.items.map(o=>o.id))),a("/checkout")},m=()=>{r.mutate(),d(new Set)};if(g)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"장바구니를 불러오는 중..."})});if(!i||i.items.length===0)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ye,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"장바구니가 비어있습니다"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"원하는 상품을 장바구니에 담아보세요"}),e.jsx(N,{onClick:()=>a("/products"),children:"쇼핑 계속하기"})]});const w=n.size===i.items.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"장바구니"}),e.jsxs("p",{className:"text-muted-foreground",children:[i.items.length,"개의 상품이 담겨있습니다"]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{checked:w,onCheckedChange:c}),e.jsxs("span",{className:"text-sm",children:["전체선택 ",n.size>0&&`(${n.size}개)`]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{variant:"outline",size:"sm",onClick:m,disabled:n.size===0,children:"선택삭제"}),e.jsxs(N,{variant:"outline",size:"sm",onClick:()=>l.mutate(),children:[e.jsx(ve,{className:"h-4 w-4 mr-1"}),"전체삭제"]})]})]}),e.jsx("div",{className:"space-y-4",children:i.items.map(o=>e.jsx(at,{item:o,isSelected:n.has(o.id),onSelect:x,onQuantityChange:(b,k)=>u.mutate({itemId:b,quantity:k}),onRemove:()=>r.mutate()},o.id))})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-4",children:e.jsx(rt,{summary:h,userRole:t?.role,onCheckout:y})})})]})]})}const zt=[{value:"card",label:"신용/체크카드",icon:Ue},{value:"kakao_pay",label:"카카오페이",icon:ie},{value:"naver_pay",label:"네이버페이",icon:ie},{value:"virtual_account",label:"가상계좌",icon:Ye},{value:"bank_transfer",label:"무통장입금",icon:Be}],xe=["부재시 문앞에 놓아주세요","부재시 경비실에 맡겨주세요","배송 전 연락주세요","파손 주의 제품입니다","직접 작성"],U={itemCount:3,subtotal:437e3,tax:43700,total:480700};function Vt(){const a=ne(),{user:t}=W(),[s,n]=p.useState(!1),{register:d,handleSubmit:i,watch:g,setValue:u,formState:{errors:r,isSubmitting:l}}=be({defaultValues:{recipientName:t?.name||"",recipientPhone:"",paymentMethod:"card",deliveryRequest:xe[0],agreeToTerms:!1}}),h=g("deliveryRequest"),c=g("agreeToTerms"),x=A({mutationFn:async o=>({id:"12345"}),onSuccess:o=>{a(`/orders/${o.id}`)}}),y=o=>{x.mutate(o)},m=o=>{o==="직접 작성"?(n(!0),u("deliveryRequest","")):(n(!1),u("deliveryRequest",o))},w=()=>{alert("주소 검색 기능은 추후 구현 예정입니다.")};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"주문/결제"}),e.jsxs("form",{onSubmit:i(y),className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs(K,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"배송 정보"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(T,{htmlFor:"recipientName",children:"수령인 *"}),e.jsx(Q,{id:"recipientName",...d("recipientName",{required:"수령인을 입력해주세요"}),error:r.recipientName?.message})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"recipientPhone",children:"연락처 *"}),e.jsx(Q,{id:"recipientPhone",type:"tel",placeholder:"010-0000-0000",...d("recipientPhone",{required:"연락처를 입력해주세요",pattern:{value:/^01[0-9]-?[0-9]{3,4}-?[0-9]{4}$/,message:"올바른 휴대폰 번호를 입력해주세요"}}),error:r.recipientPhone?.message})]})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"postalCode",children:"주소 *"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(Q,{id:"postalCode",placeholder:"우편번호",...d("postalCode",{required:"주소를 검색해주세요"}),readOnly:!0}),e.jsx(N,{type:"button",onClick:w,children:"주소 검색"})]}),e.jsx(Q,{placeholder:"기본 주소",...d("address",{required:"주소를 입력해주세요"}),className:"mb-2",readOnly:!0}),e.jsx(Q,{placeholder:"상세 주소",...d("addressDetail")}),r.postalCode&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r.postalCode.message})]}),e.jsxs("div",{children:[e.jsx(T,{children:"배송 요청사항"}),e.jsx(le,{value:s?"직접 작성":h,onValueChange:m,children:xe.map(o=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{value:o,id:o}),e.jsx(T,{htmlFor:o,className:"font-normal cursor-pointer",children:o})]},o))}),s&&e.jsx(je,{...d("deliveryRequest"),placeholder:"배송 요청사항을 입력해주세요",className:"mt-2",rows:3})]})]})]}),e.jsxs(K,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"결제 방법"}),e.jsx(le,{value:g("paymentMethod"),onValueChange:o=>u("paymentMethod",o),children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:zt.map(o=>{const b=o.icon;return e.jsxs("div",{children:[e.jsx(ce,{value:o.value,id:o.value,className:"peer sr-only"}),e.jsxs(T,{htmlFor:o.value,className:"flex items-center gap-3 p-4 border rounded-lg cursor-pointer hover:bg-muted peer-checked:border-primary peer-checked:bg-primary/5",children:[e.jsx(b,{className:"h-5 w-5"}),e.jsx("span",{children:o.label})]})]},o.value)})})})]})]}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs(K,{className:"p-6 sticky top-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"주문 요약"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:["상품 (",U.itemCount,"개)"]}),e.jsx("span",{children:L(U.subtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"배송비"}),e.jsx("span",{children:"무료"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"부가세"}),e.jsx("span",{children:L(U.tax)})]})]}),e.jsx("div",{className:"border-t pt-4 mb-6",children:e.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[e.jsx("span",{children:"총 결제금액"}),e.jsx("span",{className:"text-primary",children:L(U.total)})]})}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{id:"agreeToTerms",...d("agreeToTerms",{required:"결제 진행에 동의해주세요"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(T,{htmlFor:"agreeToTerms",className:"text-sm font-normal cursor-pointer",children:"결제 진행 동의"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"주문 내용을 확인하였으며, 정보 제공 등에 동의합니다."})]})]}),r.agreeToTerms&&e.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[e.jsx(X,{className:"h-4 w-4"}),r.agreeToTerms.message]})]}),e.jsx(N,{type:"submit",disabled:!c||l,className:"w-full",size:"lg",children:l?"처리 중...":`${L(U.total)} 결제하기`})]})})]})]})}export{Kt as C,Yt as P,Ut as a,Bt as b,Vt as c,Ht as d,D as t,W as u};
