const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProductGrid-CVsj5KH9.js","assets/vendor-react-CpD-wNHw.js","assets/vendor-query-CVT1RooR.js","assets/vendor-utils-B_3c5FpR.js","assets/vendor-ui-CSqCgoPn.js","assets/vendor-socket-DgcwqWsT.js","assets/ProductCarousel-DZWhdXps.js"])))=>i.map(i=>d[i]);
import{c as fs,r as f,j as e,V as Tt,u as ae,a as Rt,L as fe,b as re,d as rt,e as Oe,C as be,f as ue,g as bs,M as pt,R as Dt,A as js,T as ns,h as It,i as bt,k as Bs,l as is,E as ls,m as st,P as Ge,S as cr,n as Ot,o as ys,p as Me,q as Gr,s as qr,t as Vr,v as De,w as qe,x as dr,y as _t,I as Qr,z as mr,B as Zr,D as Yr,F as ft,G as ur,H as xr,J as Kr,K as hr,N as Xr,O as Jr,Q as ea,U as ta,W as sa,X as ra,Y as zs,Z as aa,_ as na,$ as Us,a0 as ia,a1 as gr,a2 as la,a3 as oa,a4 as ca,a5 as da,a6 as ma,a7 as ua,a8 as Hs,a9 as xa,aa as ha,ab as ga,ac as pa,ad as fa,ae as We,af as ba,ag as ja,ah as R,ai as ya}from"./vendor-react-CpD-wNHw.js";import{u as Re,a as Na,Q as va,b as wa}from"./vendor-query-CVT1RooR.js";import{a as Ee,b as os,f as ka,k as Sa}from"./vendor-utils-B_3c5FpR.js";import{t as Ca}from"./vendor-ui-CSqCgoPn.js";import"./vendor-socket-DgcwqWsT.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();typeof window<"u"&&typeof globalThis>"u"&&(window.global=window);function Ta(t,s){let r;try{r=t()}catch{return}return{getItem:n=>{var i;const l=o=>o===null?null:JSON.parse(o,void 0),u=(i=r.getItem(n))!=null?i:null;return u instanceof Promise?u.then(l):l(u)},setItem:(n,i)=>r.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>r.removeItem(n)}}const cs=t=>s=>{try{const r=t(s);return r instanceof Promise?r:{then(a){return cs(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return cs(a)(r)}}}},Aa=(t,s)=>(r,a,n)=>{let i={storage:Ta(()=>localStorage),partialize:d=>d,version:0,merge:(d,g)=>({...g,...d}),...s},l=!1;const u=new Set,o=new Set;let c=i.storage;if(!c)return t((...d)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...d)},a,n);const b=()=>{const d=i.partialize({...a()});return c.setItem(i.name,{state:d,version:i.version})},y=n.setState;n.setState=(d,g)=>{y(d,g),b()};const x=t((...d)=>{r(...d),b()},a,n);n.getInitialState=()=>x;let N;const S=()=>{var d,g;if(!c)return;l=!1,u.forEach(h=>{var k;return h((k=a())!=null?k:x)});const j=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(d=a())!=null?d:x))||void 0;return cs(c.getItem.bind(c))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate){const k=i.migrate(h.state,h.version);return k instanceof Promise?k.then(T=>[!0,T]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var k;const[T,I]=h;if(N=i.merge(I,(k=a())!=null?k:x),r(N,!0),T)return b()}).then(()=>{j?.(N,void 0),N=a(),l=!0,o.forEach(h=>h(N))}).catch(h=>{j?.(void 0,h)})};return n.persist={setOptions:d=>{i={...i,...d},d.storage&&(c=d.storage)},clearStorage:()=>{c?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:d=>(u.add(d),()=>{u.delete(d)}),onFinishHydration:d=>(o.add(d),()=>{o.delete(d)})},i.skipHydration||S(),N||x},pr=Aa,Yt="https://api.neture.co.kr/api",X=fs()(pr((t,s)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,login:async({email:r,password:a})=>{t({isLoading:!0,error:null});try{const n=await fetch(`${Yt}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:a})});if(!n.ok){const c=await n.json();throw new Error(c.message||"Login failed")}const i=await n.json(),{token:l,user:u}=i,o={id:u.id,email:u.email,name:u.name||"",userType:Ws(u.role),status:Gs(u.status),createdAt:new Date(u.createdAt||Date.now()),lastLoginAt:new Date};t({user:o,token:l,isAuthenticated:!0,isLoading:!1,error:null})}catch(n){t({error:n instanceof Error?n.message:"로그인 중 오류가 발생했습니다.",isLoading:!1,isAuthenticated:!1,user:null,token:null})}},logout:()=>{const{token:r}=s();r&&fetch(`${Yt}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}}).catch(console.error),t({user:null,token:null,isAuthenticated:!1,error:null}),localStorage.removeItem("auth-storage"),localStorage.removeItem("auth_token")},setUser:r=>{t({user:r,isAuthenticated:!0})},clearError:()=>{t({error:null})},checkAuth:async()=>{const{token:r}=s();if(!r){t({isAuthenticated:!1,user:null});return}try{const a=await fetch(`${Yt}/auth/verify`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(a.ok){const i=(await a.json()).user,l={id:i.id,email:i.email,name:i.name||"",userType:Ws(i.role),status:Gs(i.status),createdAt:new Date(i.createdAt||Date.now()),lastLoginAt:new Date(i.lastLoginAt||Date.now())};t({user:l,isAuthenticated:!0})}else s().logout()}catch{s().logout()}},initialize:async()=>{t({isLoading:!0}),await s().checkAuth(),t({isLoading:!1})}}),{name:"auth-storage",partialize:t=>({user:t.user,token:t.token,isAuthenticated:t.isAuthenticated})})),Ws=t=>{switch(t){case"admin":case"administrator":case"manager":return"admin";case"business":return"supplier";case"affiliate":return"retailer";default:return"customer"}},Gs=t=>{switch(t){case"approved":return"active";case"suspended":return"inactive";case"pending":return"pending";default:return"pending"}},Ea=({children:t})=>{const{setUser:s}=X();return f.useEffect(()=>{},[s]),e.jsx(e.Fragment,{children:t})},Pa="https://api.neture.co.kr/api/v1",he=Ee.create({baseURL:Pa,timeout:1e4,headers:{"Content-Type":"application/json"}});he.interceptors.request.use(t=>{const s=os.get("authToken");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));he.interceptors.response.use(t=>t,t=>{const{response:s}=t;return s?.status===401?(os.remove("authToken"),os.remove("user"),window.location.pathname!=="/login"&&(Tt.error("세션이 만료되었습니다. 다시 로그인해주세요."),window.location.href="/login")):s?.status===403?Tt.error("접근 권한이 없습니다."):s?.status===429?Tt.error("너무 많은 요청이 발생했습니다. 잠시 후 다시 시도해주세요."):s?.status>=500&&Tt.error("서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요."),Promise.reject(t)});let Kt=!1,ds=[];const qs=(t,s=null)=>{ds.forEach(r=>{t?r.reject(t):(r.config.headers&&s&&(r.config.headers.Authorization=`Bearer ${s}`),r.resolve(he(r.config)))}),ds=[]},La=()=>{he.interceptors.request.use(t=>t,t=>Promise.reject(t)),he.interceptors.response.use(t=>t,async t=>{const s=t.config;if(t.response?.status===401&&s&&!s._retry){if(Kt)return new Promise((r,a)=>{ds.push({resolve:r,reject:a,config:s})});s._retry=!0,Kt=!0;try{return await he.post("/v1/auth/v2/refresh"),qs(null),he(s)}catch(r){return qs(r),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(r)}finally{Kt=!1}}return t.response?.status===403||t.response?.status===429||t.response?.status>=500,Promise.reject(t)})},Ia=()=>{La()},At=[{_id:"1",id:"1",email:"admin@o4o.com",name:"시스템 관리자",phone:"010-1234-5678",role:"admin",userType:"admin",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z",avatar:"/avatars/admin.jpg",lastLoginAt:"2024-03-01T09:00:00Z"},{_id:"4",id:"4",email:"customer1@gmail.com",name:"김고객",phone:"010-4567-8901",role:"customer",userType:"customer",status:"active",createdAt:"2024-02-15T00:00:00Z",updatedAt:"2024-02-15T00:00:00Z"}],Et="password123",Xt={admin:{email:"admin@o4o.com",password:Et},supplier:{email:"supplier1@abc.com",password:Et},retailer:{email:"retailer1@xyz.com",password:Et},customer:{email:"customer1@gmail.com",password:Et}};function _a(){const t=ae(),{login:s,isLoading:r,error:a,clearError:n}=X(),[i,l]=f.useState("customer"),{register:u,handleSubmit:o,formState:{errors:c},setValue:b}=Rt({defaultValues:{userType:"customer"}}),y=[{value:"customer",label:"일반 고객",icon:"🛒"},{value:"retailer",label:"리테일러",icon:"🏪"},{value:"supplier",label:"공급자",icon:"📦"},{value:"admin",label:"관리자",icon:"⚙️"}],x=async S=>{try{switch(n(),await s({...S,userType:i}),i){case"admin":t("/admin/dashboard");break;case"supplier":t("/supplier/dashboard");break;case"retailer":t("/retailer/dashboard");break;case"customer":t("/shop");break;default:t("/")}re.success("로그인되었습니다.")}catch{re.error("로그인에 실패했습니다.")}},N=S=>{const d=Xt[S];d&&(b("email",d.email),b("password",d.password),l(S))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"O4O Platform"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"사용자 유형을 선택하고 로그인하세요"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.map(S=>e.jsxs("button",{type:"button",onClick:()=>l(S.value),className:`relative rounded-lg border p-4 flex flex-col items-center cursor-pointer transition-all ${i===S.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:S.icon}),e.jsx("div",{className:"text-sm font-medium",children:S.label}),i===S.value&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("svg",{className:"h-5 w-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},S.value))}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:o(x),children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"이메일"}),e.jsx("input",{...u("email",{required:"이메일을 입력하세요",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"올바른 이메일 형식이 아닙니다"}}),type:"email",autoComplete:"email",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"이메일"}),c.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"비밀번호"}),e.jsx("input",{...u("password",{required:"비밀번호를 입력하세요"}),type:"password",autoComplete:"current-password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"비밀번호"}),c.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.password.message})]})]}),a&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm font-medium text-red-800",children:a})})})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"로그인 중...":"로그인"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm",children:e.jsx(fe,{to:`/auth/register/${i}`,className:"font-medium text-blue-600 hover:text-blue-500",children:"회원가입"})}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"비밀번호 찾기"})})]})]}),e.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-6",children:[e.jsx("p",{className:"text-sm text-gray-600 text-center mb-3",children:"테스트 계정"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Xt).map(([S,d])=>e.jsxs("button",{type:"button",onClick:()=>N(S),className:"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-2 rounded-md transition-colors",children:[S,": ",d.email]},S))}),e.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:["비밀번호: ",Xt.customer.password]})]})]})})}const B=({variant:t="primary",size:s="md",className:r="",children:a,...n})=>{const i="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",l={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",default:"bg-primary text-primary-foreground hover:bg-primary/90"},u={sm:"h-9 px-3 text-sm",md:"h-10 py-2 px-4",lg:"h-11 px-8",icon:"h-10 w-10 p-0"};return e.jsx("button",{className:`${i} ${l[t]} ${u[s]} ${r}`,...n,children:a})},Ma=({className:t="",error:s,...r})=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("input",{className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${s?"border-red-500":""} ${t}`,...r}),s&&e.jsx("p",{className:"text-sm text-red-500",children:s})]}),G=({className:t="",children:s,...r})=>e.jsx("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm ${t}`,...r,children:s}),ie=({className:t="",children:s,...r})=>e.jsx("div",{className:`flex flex-col space-y-1.5 p-6 ${t}`,...r,children:s}),q=({className:t="",children:s,...r})=>e.jsx("div",{className:`p-6 pt-0 ${t}`,...r,children:s}),le=({className:t="",children:s,...r})=>e.jsx("h3",{className:`text-2xl font-semibold leading-none tracking-tight ${t}`,...r,children:s}),ke=({className:t="",children:s,...r})=>e.jsx("p",{className:`text-sm text-muted-foreground ${t}`,...r,children:s}),Da=({className:t="",children:s,...r})=>e.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${t}`,...r,children:s}),tt=({variant:t="default",className:s="",children:r,...a})=>{const n={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground"};return e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${n[t]} ${s}`,...a,children:r})},Pe=({className:t="",children:s,...r})=>e.jsx("div",{role:"alert",className:`relative w-full rounded-lg border p-4 ${t}`,...r,children:s}),Le=({className:t="",children:s,...r})=>e.jsx("div",{className:`text-sm [&_p]:leading-relaxed ${t}`,...r,children:s}),Oa=()=>{const t=ae(),[s]=rt(),{checkAuth:r}=X(),[a,n]=f.useState(!0),[i,l]=f.useState(null),[u,o]=f.useState(!1),[c,b]=f.useState(3);f.useEffect(()=>{y()},[]),f.useEffect(()=>{if(u&&c>0){const d=setTimeout(()=>b(c-1),1e3);return()=>clearTimeout(d)}else u&&c===0&&S()},[u,c]);const y=async()=>{try{const d=s.get("success"),g=s.get("error"),j=s.get("token");if(g){x(g);return}d==="true"?await r()?o(!0):l("인증 정보를 확인할 수 없습니다."):j?N(j):l("유효하지 않은 콜백 요청입니다.")}catch{l("인증 처리 중 오류가 발생했습니다.")}finally{n(!1)}},x=d=>{switch(d){case"social_auth_failed":l("소셜 로그인에 실패했습니다.");break;case"access_denied":l("로그인을 취소하셨습니다.");break;case"account_not_active":l("계정이 활성화되지 않았습니다. 관리자 승인을 기다려주세요.");break;case"email_not_verified":l("이메일 인증이 필요합니다.");break;default:l("로그인 중 오류가 발생했습니다.")}n(!1)},N=async d=>{try{localStorage.setItem("auth_token",d),await r()?o(!0):l("인증 토큰이 유효하지 않습니다.")}catch{l("토큰 인증 중 오류가 발생했습니다.")}},S=()=>{const d=X.getState().user;if(!d){t("/");return}switch(d.role){case"admin":t("/admin/dashboard");break;case"supplier":t("/supplier/dashboard");break;case"retailer":t("/retailer/dashboard");break;case"customer":default:t("/shop");break}};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"로그인 처리 중..."}),e.jsx("p",{className:"text-sm text-gray-600",children:"잠시만 기다려주세요"})]})})})}):i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:e.jsx(be,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"로그인 실패"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:i}),e.jsxs("div",{className:"w-full space-y-3 pt-4",children:[e.jsx(B,{className:"w-full",onClick:()=>t("/login"),children:"다시 로그인하기"}),e.jsx(B,{variant:"outline",className:"w-full",onClick:()=>t("/"),children:"홈으로 돌아가기"})]})]})})})}):u?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:e.jsx(ue,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"로그인 성공!"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[c,"초 후 자동으로 이동합니다..."]}),e.jsx(B,{className:"w-full",onClick:S,children:"지금 이동하기"})]})})})}):null},Ra=()=>{const t=ae(),{provider:s}=bs(),[r]=rt(),{setUser:a,checkAuth:n}=X(),[i,l]=f.useState("processing"),[u,o]=f.useState(null),[c,b]=f.useState(3);f.useEffect(()=>{y()},[]),f.useEffect(()=>{if(i==="success"&&c>0){const g=setTimeout(()=>b(c-1),1e3);return()=>clearTimeout(g)}else i==="success"&&c===0&&S()},[i,c]);const y=async()=>{try{const g=r.get("code"),j=r.get("error"),h=r.get("error_description"),k=r.get("state");if(j){const I=x(j,h);o(I),l("error");return}if(!g){o("인증 코드가 없습니다. 다시 시도해주세요."),l("error");return}if(!s||!["google","kakao","naver"].includes(s)){o("지원하지 않는 로그인 방식입니다."),l("error");return}const T=await he.post(`/v1/auth/oauth/${s}/callback`,{code:g,state:k,redirect_uri:`${window.location.origin}/auth/callback/${s}`});T.data.success&&T.data.user?(a(T.data.user),await n(),l("success")):(o(T.data.message||"로그인에 실패했습니다."),l("error"))}catch(g){let j="로그인 처리 중 오류가 발생했습니다.";g.response?.data?.message?j=g.response.data.message:g.response?.status===401?j="인증이 실패했습니다. 다시 시도해주세요.":g.response?.status===403&&(j="승인 대기 중인 계정입니다. 관리자 승인 후 이용해주세요."),o(j),l("error")}},x=(g,j)=>{switch(g){case"access_denied":return"로그인을 취소하셨습니다.";case"invalid_request":return"잘못된 요청입니다. 다시 시도해주세요.";case"unauthorized_client":return"인증되지 않은 클라이언트입니다.";case"unsupported_response_type":return"지원하지 않는 응답 형식입니다.";case"invalid_scope":return"잘못된 권한 요청입니다.";case"server_error":return"서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.";case"temporarily_unavailable":return"일시적으로 서비스를 이용할 수 없습니다.";default:return j||"로그인 중 오류가 발생했습니다."}},N=()=>{switch(s){case"google":return{name:"Google",icon:"🔵",color:"text-blue-600"};case"kakao":return{name:"카카오",icon:"💛",color:"text-yellow-600"};case"naver":return{name:"네이버",icon:"💚",color:"text-green-600"};default:return{name:"소셜",icon:"🔗",color:"text-gray-600"}}},S=()=>{const g=X.getState().user;if(!g){t("/");return}switch(g.role){case"admin":t("/admin/dashboard");break;case"supplier":t("/supplier/dashboard");break;case"retailer":t("/retailer/dashboard");break;case"customer":default:t("/shop");break}},d=N();return i==="processing"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:`text-6xl ${d.color}`,children:d.icon}),e.jsx(Oe,{className:"h-8 w-8 animate-spin text-gray-600"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"text-lg font-medium",children:[d.name," 로그인 처리 중..."]}),e.jsx("p",{className:"text-sm text-gray-500",children:"잠시만 기다려주세요"})]})]})})})}):i==="error"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:e.jsx(be,{className:"h-8 w-8 text-red-600"})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"로그인 실패"}),e.jsx("p",{className:"text-sm text-gray-600",children:u})]}),e.jsxs("div",{className:"w-full space-y-3 pt-4",children:[e.jsx(B,{className:"w-full",onClick:()=>t("/login"),children:"다시 로그인하기"}),e.jsx(B,{variant:"outline",className:"w-full",onClick:()=>t("/"),children:"홈으로 돌아가기"})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 pt-4 border-t w-full",children:["계속 문제가 발생하면"," ",e.jsx("a",{href:"mailto:support@o4o.com",className:"text-blue-600 hover:underline",children:"고객센터"}),"로 문의해주세요."]})]})})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:e.jsx(ue,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"로그인 성공!"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[d.name," 계정으로 로그인되었습니다."]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[c,"초 후 자동으로 이동합니다..."]})]}),e.jsx(B,{className:"w-full",onClick:S,children:"지금 이동하기"})]})})})})},$a=()=>{const t=ae(),[s]=rt(),r=s.get("email")||"",[a,n]=f.useState(!1),[i,l]=f.useState(!1),[u,o]=f.useState(null),[c,b]=f.useState(0);f.useEffect(()=>{if(c>0){const x=setTimeout(()=>b(c-1),1e3);return()=>clearTimeout(x)}},[c]);const y=async()=>{if(!(c>0||!r)){n(!0),o(null),l(!1);try{const x=await he.post("/v1/auth/v2/resend-verification",{email:r});x.data.success?(l(!0),b(60)):o(x.data.message||"이메일 전송에 실패했습니다.")}catch(x){o(x.response?.data?.message||"이메일 전송 중 오류가 발생했습니다.")}finally{n(!1)}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-blue-100 mb-4",children:e.jsx(pt,{className:"h-8 w-8 text-blue-600"})}),e.jsx(le,{className:"text-2xl font-bold",children:"이메일을 확인해 주세요"}),e.jsx(ke,{children:"인증 메일이 발송되었습니다"})]}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{className:"font-medium text-gray-900",children:r||"입력하신 이메일"}),"로",e.jsx("br",{}),"인증 링크가 포함된 이메일을 보내드렸습니다."]}),e.jsx("p",{className:"text-sm text-gray-500",children:"이메일의 인증 링크를 클릭하면 회원가입이 완료됩니다."})]}),i&&e.jsxs(Pe,{className:"bg-green-50 border-green-200",children:[e.jsx(ue,{className:"h-4 w-4 text-green-600"}),e.jsx(Le,{className:"text-green-800",children:"인증 이메일을 다시 발송했습니다."})]}),u&&e.jsxs(Pe,{className:"bg-red-50 border-red-200",children:[e.jsx(be,{className:"h-4 w-4 text-red-600"}),e.jsx(Le,{className:"text-red-800",children:u})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{variant:"outline",className:"w-full",onClick:y,disabled:a||c>0,children:a?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"이메일 재전송 중..."]}):c>0?`${c}초 후 재전송 가능`:e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"mr-2 h-4 w-4"}),"인증 이메일 재전송"]})}),e.jsx(B,{variant:"ghost",className:"w-full",onClick:()=>t("/login"),children:"로그인 페이지로 돌아가기"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"이메일을 받지 못하셨나요?"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• 스팸 메일함을 확인해 주세요"}),e.jsx("li",{children:"• 이메일 주소가 올바른지 확인해 주세요"}),e.jsx("li",{children:"• 몇 분 정도 기다려 주세요"})]})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500",children:["문제가 계속되면"," ",e.jsx("a",{href:"mailto:support@o4o.com",className:"text-blue-600 hover:underline",children:"고객센터"}),"로 문의해 주세요."]})]})]})})},Fa=()=>{const t=ae(),[s]=rt(),r=s.get("token"),[a,n]=f.useState(!0),[i,l]=f.useState(!1),[u,o]=f.useState(null),[c,b]=f.useState(5);f.useEffect(()=>{if(!r){o("인증 토큰이 없습니다."),n(!1);return}y()},[r]),f.useEffect(()=>{if(i&&c>0){const x=setTimeout(()=>b(c-1),1e3);return()=>clearTimeout(x)}else i&&c===0&&t("/login")},[i,c,t]);const y=async()=>{try{const x=await he.get(`/v1/auth/v2/verify-email?token=${r}`);x.data.success?l(!0):o(x.data.message||"이메일 인증에 실패했습니다.")}catch(x){x.response?.status===400?o(x.response.data.message||"유효하지 않은 인증 링크입니다."):x.response?.status===410?o("인증 링크가 만료되었습니다. 다시 시도해 주세요."):o("이메일 인증 중 오류가 발생했습니다.")}finally{n(!1)}};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(Oe,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("p",{className:"text-lg font-medium",children:"이메일 인증 중..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"잠시만 기다려 주세요."})]})})})}):u?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-red-100 mb-4",children:e.jsx(be,{className:"h-8 w-8 text-red-600"})}),e.jsx(le,{className:"text-2xl font-bold",children:"인증 실패"}),e.jsx(ke,{children:"이메일 인증을 완료할 수 없습니다"})]}),e.jsxs(q,{className:"space-y-6",children:[e.jsx(Pe,{className:"bg-red-50 border-red-200",children:e.jsx(Le,{className:"text-red-800",children:u})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"w-full",onClick:()=>t("/register"),children:"회원가입 다시 시도"}),e.jsx(B,{variant:"outline",className:"w-full",onClick:()=>t("/login"),children:"로그인 페이지로 이동"})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500",children:["계속 문제가 발생하면"," ",e.jsx("a",{href:"mailto:support@o4o.com",className:"text-blue-600 hover:underline",children:"고객센터"}),"로 문의해 주세요."]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100 mb-4",children:e.jsx(ue,{className:"h-8 w-8 text-green-600"})}),e.jsx(le,{className:"text-2xl font-bold",children:"이메일 인증 완료!"}),e.jsx(ke,{children:"회원가입이 성공적으로 완료되었습니다"})]}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"이제 로그인하여 서비스를 이용하실 수 있습니다."}),e.jsxs("p",{className:"text-sm text-gray-500",children:[c,"초 후 자동으로 로그인 페이지로 이동합니다."]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs(B,{className:"w-full",onClick:()=>t("/login"),children:["로그인하러 가기",e.jsx(js,{className:"ml-2 h-4 w-4"})]})}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"O4O 플랫폼에서 제공하는 서비스"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(ue,{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"온라인과 오프라인을 연결하는 통합 커머스 솔루션"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(ue,{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"실시간 재고 관리 및 주문 처리 시스템"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(ue,{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"디지털 사이니지 및 포럼 커뮤니티"})]})]})]})]})]})})},Ba=()=>{const t=ae(),[s]=rt(),r=s.get("type")||"unknown",[a,n]=f.useState(""),[i,l]=f.useState(!1),[u,o]=f.useState(!1),[c,b]=f.useState(null),x=(()=>{switch(r){case"expired":return{icon:bt,iconColor:"text-orange-600",bgColor:"bg-orange-100",title:"인증 링크가 만료되었습니다",description:"보안을 위해 인증 링크는 24시간 후 만료됩니다.",message:"새로운 인증 이메일을 받으시려면 아래에 이메일 주소를 입력해 주세요."};case"already-verified":return{icon:ue,iconColor:"text-blue-600",bgColor:"bg-blue-100",title:"이미 인증된 계정입니다",description:"이 이메일은 이미 인증이 완료되었습니다.",message:"로그인 페이지로 이동하여 서비스를 이용해 주세요."};case"invalid":return{icon:ns,iconColor:"text-yellow-600",bgColor:"bg-yellow-100",title:"유효하지 않은 인증 링크입니다",description:"인증 링크가 올바르지 않거나 손상되었습니다.",message:"올바른 링크를 사용했는지 확인하시고, 필요시 새로운 인증 이메일을 요청해 주세요."};default:return{icon:It,iconColor:"text-red-600",bgColor:"bg-red-100",title:"인증에 실패했습니다",description:"이메일 인증을 완료할 수 없습니다.",message:"잠시 후 다시 시도하시거나, 새로운 인증 이메일을 요청해 주세요."}}})(),N=x.icon,S=async d=>{if(d.preventDefault(),!(!a||i)){l(!0),b(null),o(!1);try{const g=await he.post("/v1/auth/v2/resend-verification",{email:a});g.data.success?(o(!0),n("")):b(g.data.message||"이메일 전송에 실패했습니다.")}catch(g){g.response?.status===404?b("등록되지 않은 이메일 주소입니다."):g.response?.status===429?b("너무 많은 요청을 하셨습니다. 잠시 후 다시 시도해 주세요."):b(g.response?.data?.message||"이메일 전송 중 오류가 발생했습니다.")}finally{l(!1)}}};return r==="already-verified"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx("div",{className:`mx-auto flex h-16 w-16 items-center justify-center rounded-full ${x.bgColor} mb-4`,children:e.jsx(N,{className:`h-8 w-8 ${x.iconColor}`})}),e.jsx(le,{className:"text-2xl font-bold",children:x.title}),e.jsx(ke,{children:x.description})]}),e.jsxs(q,{className:"space-y-6",children:[e.jsx("p",{className:"text-sm text-gray-600 text-center",children:x.message}),e.jsx(B,{className:"w-full",onClick:()=>t("/login"),children:"로그인하러 가기"})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx("div",{className:`mx-auto flex h-16 w-16 items-center justify-center rounded-full ${x.bgColor} mb-4`,children:e.jsx(N,{className:`h-8 w-8 ${x.iconColor}`})}),e.jsx(le,{className:"text-2xl font-bold",children:x.title}),e.jsx(ke,{children:x.description})]}),e.jsxs(q,{className:"space-y-6",children:[e.jsx("p",{className:"text-sm text-gray-600 text-center",children:x.message}),u?e.jsxs(Pe,{className:"bg-green-50 border-green-200",children:[e.jsx(ue,{className:"h-4 w-4 text-green-600"}),e.jsx(Le,{className:"text-green-800",children:"인증 이메일을 다시 발송했습니다. 이메일을 확인해 주세요."})]}):e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Da,{htmlFor:"email",children:"이메일 주소"}),e.jsx(Ma,{id:"email",type:"email",placeholder:"your@email.com",value:a,onChange:d=>n(d.target.value),required:!0,disabled:i})]}),c&&e.jsxs(Pe,{className:"bg-red-50 border-red-200",children:[e.jsx(ns,{className:"h-4 w-4 text-red-600"}),e.jsx(Le,{className:"text-red-800",children:c})]}),e.jsx(B,{type:"submit",className:"w-full",disabled:i||!a,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"인증 이메일 재전송 중..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"mr-2 h-4 w-4"}),"인증 이메일 재전송"]})})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx(B,{variant:"outline",className:"w-full",onClick:()=>t("/register"),children:"새로 회원가입하기"}),e.jsx(B,{variant:"ghost",className:"w-full",onClick:()=>t("/login"),children:"로그인 페이지로 돌아가기"})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 pt-4 border-t",children:["문제가 계속되면"," ",e.jsx("a",{href:"mailto:support@o4o.com",className:"text-blue-600 hover:underline",children:"고객센터"}),"로 문의해 주세요."]})]})]})})},za=()=>{const t=ae(),[s,r]=f.useState(!1),[a,n]=f.useState(!1),[i,l]=f.useState(null),{register:u,handleSubmit:o,formState:{errors:c},getValues:b}=Rt({defaultValues:{email:""}}),y=async x=>{r(!0),l(null);try{(await he.post("/v1/auth/v2/forgot-password",x)).data.success&&n(!0)}catch(N){N.response?.status===429?l("너무 많은 요청을 보내셨습니다. 잠시 후 다시 시도해주세요."):l("비밀번호 재설정 요청 중 오류가 발생했습니다.")}finally{r(!1)}};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100 mb-4",children:e.jsx(ue,{className:"h-8 w-8 text-green-600"})}),e.jsx(le,{className:"text-2xl font-bold",children:"이메일을 확인해주세요"}),e.jsx(ke,{children:"비밀번호 재설정 링크를 보내드렸습니다"})]}),e.jsxs(q,{className:"space-y-6",children:[e.jsx(Pe,{className:"bg-blue-50 border-blue-200",children:e.jsxs(Le,{className:"text-blue-800",children:[e.jsx("strong",{children:b("email")}),"로 비밀번호 재설정 안내 메일을 발송했습니다. 이메일을 확인하여 비밀번호를 재설정해주세요."]})}),e.jsx("div",{className:"space-y-3",children:e.jsxs(B,{variant:"outline",className:"w-full",onClick:()=>t("/login"),children:[e.jsx(Bs,{className:"mr-2 h-4 w-4"}),"로그인 페이지로 돌아가기"]})}),e.jsxs("div",{className:"text-center text-xs text-gray-500 pt-4 border-t",children:[e.jsx("p",{className:"mb-2",children:"이메일을 받지 못하셨나요?"}),e.jsxs("ul",{className:"text-left space-y-1 max-w-xs mx-auto",children:[e.jsx("li",{children:"• 스팸 메일함을 확인해주세요"}),e.jsx("li",{children:"• 이메일 주소가 올바른지 확인해주세요"}),e.jsx("li",{children:"• 몇 분 정도 기다려주세요"})]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx(le,{className:"text-2xl font-bold",children:"비밀번호 찾기"}),e.jsx(ke,{children:"가입하신 이메일 주소를 입력해주세요"})]}),e.jsxs(q,{children:[e.jsxs("form",{onSubmit:o(y),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일 주소"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",...u("email",{required:"이메일을 입력해주세요",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"올바른 이메일 형식이 아닙니다"}}),className:`w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.email?"border-red-500":"border-gray-300"}`,placeholder:"example@email.com",disabled:s}),e.jsx(pt,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),c.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.email.message})]}),i&&e.jsxs(Pe,{className:"bg-red-50 border-red-200",children:[e.jsx(be,{className:"h-4 w-4 text-red-600"}),e.jsx(Le,{className:"text-red-800",children:i})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{type:"submit",className:"w-full bg-primary hover:bg-primary-dark text-white",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"전송 중..."]}):"비밀번호 재설정 링크 전송"}),e.jsxs(B,{type:"button",variant:"outline",className:"w-full",onClick:()=>t("/login"),disabled:s,children:[e.jsx(Bs,{className:"mr-2 h-4 w-4"}),"로그인으로 돌아가기"]})]})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:e.jsxs("p",{children:["아직 계정이 없으신가요?"," ",e.jsx(fe,{to:"/auth/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"회원가입"})]})})]})]})})},Ua=()=>{const t=ae(),[s]=rt(),r=s.get("token"),[a,n]=f.useState(!1),[i,l]=f.useState(!1),[u,o]=f.useState(null),[c,b]=f.useState(null),[y,x]=f.useState(!1),[N,S]=f.useState(!1),[d,g]=f.useState(5),{register:j,handleSubmit:h,formState:{errors:k},watch:T}=Rt({defaultValues:{password:"",confirmPassword:""}}),I=T("password");f.useEffect(()=>{r||(o("비밀번호 재설정 링크가 올바르지 않습니다."),b("invalid"))},[r]),f.useEffect(()=>{if(i&&d>0){const v=setTimeout(()=>g(d-1),1e3);return()=>clearTimeout(v)}else i&&d===0&&t("/login")},[i,d,t]);const U=async v=>{if(r){n(!0),o(null),b(null);try{(await he.post("/v1/auth/v2/reset-password",{token:r,password:v.password})).data.success&&l(!0)}catch(A){const M=A.response?.data?.message||"";M.includes("expired")?(o("비밀번호 재설정 링크가 만료되었습니다. 다시 요청해주세요."),b("expired")):M.includes("invalid")?(o("유효하지 않은 비밀번호 재설정 링크입니다."),b("invalid")):M.includes("already used")?(o("이미 사용된 비밀번호 재설정 링크입니다."),b("used")):(o("비밀번호 재설정 중 오류가 발생했습니다."),b("server"))}finally{n(!1)}}};return r?i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100 mb-4",children:e.jsx(ue,{className:"h-8 w-8 text-green-600"})}),e.jsx(le,{className:"text-2xl font-bold",children:"비밀번호가 변경되었습니다!"}),e.jsx(ke,{children:"새로운 비밀번호로 로그인해주세요"})]}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("p",{className:"text-center text-sm text-gray-600",children:[d,"초 후 로그인 페이지로 이동합니다..."]}),e.jsx(B,{className:"w-full",onClick:()=>t("/login"),children:"지금 로그인하기"})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx(le,{className:"text-2xl font-bold",children:"새 비밀번호 설정"}),e.jsx(ke,{children:"안전한 새 비밀번호를 입력해주세요"})]}),e.jsx(q,{children:e.jsxs("form",{onSubmit:h(U),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"새 비밀번호"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:y?"text":"password",...j("password",{required:"비밀번호를 입력해주세요",minLength:{value:8,message:"비밀번호는 최소 8자 이상이어야 합니다"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,message:"대소문자, 숫자, 특수문자를 각각 하나 이상 포함해야 합니다"}}),className:`w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.password?"border-red-500":"border-gray-300"}`,placeholder:"********",disabled:a}),e.jsx(is,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>x(!y),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",disabled:a,children:y?e.jsx(ls,{className:"h-5 w-5"}):e.jsx(st,{className:"h-5 w-5"})})]}),k.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비밀번호 확인"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:N?"text":"password",...j("confirmPassword",{required:"비밀번호를 다시 입력해주세요",validate:v=>v===I||"비밀번호가 일치하지 않습니다"}),className:`w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"********",disabled:a}),e.jsx(is,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>S(!N),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",disabled:a,children:N?e.jsx(ls,{className:"h-5 w-5"}):e.jsx(st,{className:"h-5 w-5"})})]}),k.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.confirmPassword.message})]}),e.jsxs(Pe,{className:"bg-blue-50 border-blue-200",children:[e.jsx(ns,{className:"h-4 w-4 text-blue-600"}),e.jsxs(Le,{className:"text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"비밀번호 요구사항:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"최소 8자 이상"}),e.jsx("li",{children:"대문자 1개 이상"}),e.jsx("li",{children:"소문자 1개 이상"}),e.jsx("li",{children:"숫자 1개 이상"}),e.jsx("li",{children:"특수문자 1개 이상 (@$!%*?&)"})]})]})]}),u&&e.jsxs(Pe,{className:"bg-red-50 border-red-200",children:[e.jsx(be,{className:"h-4 w-4 text-red-600"}),e.jsx(Le,{className:"text-red-800",children:u})]}),e.jsx(B,{type:"submit",className:"w-full bg-primary hover:bg-primary-dark text-white",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"비밀번호 변경 중..."]}):"비밀번호 변경"}),c==="expired"&&e.jsx(B,{type:"button",variant:"outline",className:"w-full",onClick:()=>t("/auth/forgot-password"),children:"비밀번호 재설정 다시 요청하기"})]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-red-100 mb-4",children:e.jsx(be,{className:"h-8 w-8 text-red-600"})}),e.jsx(le,{className:"text-2xl font-bold",children:"잘못된 접근입니다"}),e.jsx(ke,{children:"비밀번호 재설정 링크가 올바르지 않습니다"})]}),e.jsx(q,{children:e.jsx(B,{className:"w-full",onClick:()=>t("/auth/forgot-password"),children:"비밀번호 재설정 다시 요청하기"})})]})})},Q=[{id:"1",name:"삼성 갤럭시 노트북 15인치",slug:"samsung-galaxy-laptop-15",description:`
      고성능 노트북으로 업무와 게임 모두 완벽하게 처리할 수 있습니다.
      
      주요 특징:
      - Intel 12세대 i7 프로세서
      - 16GB DDR4 메모리
      - 512GB NVMe SSD
      - 15.6인치 FHD 디스플레이
      - Windows 11 Pro 설치
      
      업무용, 게임용, 학습용 모든 용도에 최적화되어 있습니다.
    `,shortDescription:"15인치 고성능 노트북, Intel i7 프로세서",images:["/images/products/laptop-1-main.jpg","/images/products/laptop-1-side.jpg","/images/products/laptop-1-keyboard.jpg"],basePrice:12e5,stockQuantity:50,minOrderQuantity:1,maxOrderQuantity:10,categories:["6","1"],supplierId:"2",status:"active",approvalStatus:"approved",pricing:{gold:12e5,premium:115e4,vip:11e5},specifications:{CPU:"Intel i7-12700H",RAM:"16GB DDR4",저장장치:"512GB NVMe SSD",화면:"15.6인치 FHD (1920x1080)",OS:"Windows 11 Pro",그래픽:"Intel Iris Xe Graphics",배터리:"65Wh 리튬이온",무게:"1.8kg"},brand:"삼성",model:"Galaxy Book3 Pro",weight:1.8,dimensions:"355.4 x 229.8 x 15.4mm",createdAt:"2024-01-20T00:00:00Z",updatedAt:"2024-01-20T00:00:00Z",approvedAt:"2024-01-21T00:00:00Z",viewCount:1250,salesCount:85,rating:4.5,reviewCount:42},{id:"2",name:"iPhone 15 Pro 128GB",slug:"iphone-15-pro-128gb",description:`
      최신 A17 Pro 칩으로 더욱 강력해진 iPhone 15 Pro
      
      주요 특징:
      - A17 Pro 칩
      - 6.1인치 Super Retina XDR 디스플레이
      - Pro 카메라 시스템
      - 티타늄 디자인
      - USB-C 연결
      
      프로급 성능과 촬영 기능을 원하는 사용자에게 최적입니다.
    `,shortDescription:"A17 Pro 칩, 티타늄 디자인, Pro 카메라",images:["/images/products/iphone-15-pro-main.jpg","/images/products/iphone-15-pro-back.jpg","/images/products/iphone-15-pro-camera.jpg"],basePrice:135e4,stockQuantity:30,minOrderQuantity:1,maxOrderQuantity:5,categories:["5","2"],supplierId:"2",status:"active",approvalStatus:"approved",pricing:{gold:135e4,premium:13e5,vip:125e4},specifications:{화면:"6.1인치 Super Retina XDR",칩:"A17 Pro",저장용량:"128GB",카메라:"48MP 메인 + 12MP 울트라 와이드 + 12MP 망원",배터리:"비디오 재생 최대 23시간",색상:"내추럴 티타늄",방수:"IP68"},brand:"애플",model:"iPhone 15 Pro",weight:.187,dimensions:"146.6 x 70.6 x 8.25mm",createdAt:"2024-02-01T00:00:00Z",updatedAt:"2024-02-01T00:00:00Z",approvedAt:"2024-02-02T00:00:00Z",viewCount:2100,salesCount:120,rating:4.8,reviewCount:87},{id:"3",name:"블루투스 무선 이어폰",slug:"bluetooth-wireless-earbuds",description:`
      고품질 사운드와 뛰어난 노이즈 캔슬링 기능을 갖춘 무선 이어폰
      
      주요 특징:
      - 액티브 노이즈 캔슬링
      - 최대 30시간 재생
      - IPX7 방수
      - 터치 컨트롤
      - 고속 충전
      
      운동, 출퇴근, 업무 등 모든 상황에서 완벽한 사운드 경험을 제공합니다.
    `,shortDescription:"액티브 노이즈 캔슬링, 30시간 재생, IPX7 방수",images:["/images/products/earbuds-main.jpg","/images/products/earbuds-case.jpg","/images/products/earbuds-wearing.jpg"],basePrice:18e4,stockQuantity:100,minOrderQuantity:2,maxOrderQuantity:20,categories:["4","3"],supplierId:"5",status:"active",approvalStatus:"approved",pricing:{gold:18e4,premium:17e4,vip:16e4},specifications:{드라이버:"10mm 다이나믹 드라이버","노이즈 캔슬링":"액티브 ANC",재생시간:"이어폰 8시간 + 케이스 22시간",방수등급:"IPX7",연결:"Bluetooth 5.3",충전:"USB-C 고속충전",무게:"이어폰 5g (각), 케이스 45g"},brand:"소니",model:"WF-1000XM4",weight:.055,dimensions:"케이스: 60 x 40 x 25mm",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z",approvedAt:"2024-01-16T00:00:00Z",viewCount:800,salesCount:200,rating:4.3,reviewCount:150},{id:"4",name:"스테인리스 스틸 텀블러",slug:"stainless-steel-tumbler",description:`
      보온보냉 기능이 뛰어난 프리미엄 스테인리스 스틸 텀블러
      
      주요 특징:
      - 이중벽 진공 단열
      - 12시간 보온, 24시간 보냉
      - 18/8 스테인리스 스틸
      - 누출 방지 뚜껑
      - 식기세척기 사용 가능
      
      사무실, 운동, 여행 등 다양한 용도로 사용 가능합니다.
    `,shortDescription:"12시간 보온, 24시간 보냉, 진공 단열",images:["/images/products/tumbler-main.jpg","/images/products/tumbler-lid.jpg","/images/products/tumbler-sizes.jpg"],basePrice:45e3,stockQuantity:200,minOrderQuantity:5,maxOrderQuantity:50,categories:["9"],supplierId:"5",status:"active",approvalStatus:"approved",pricing:{gold:45e3,premium:42e3,vip:39e3},specifications:{재질:"18/8 스테인리스 스틸",용량:"500ml",보온시간:"12시간 (65°C 이상)",보냉시간:"24시간 (7°C 이하)",크기:"높이 220mm x 직경 80mm",무게:"350g",뚜껑:"누출방지 스크류 타입"},brand:"써모스",model:"King Tumbler 500",weight:.35,dimensions:"220 x 80 x 80mm",createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-10T00:00:00Z",approvedAt:"2024-01-11T00:00:00Z",viewCount:450,salesCount:300,rating:4.7,reviewCount:75},{id:"5",name:"프리미엄 면 티셔츠",slug:"premium-cotton-tshirt",description:`
      100% 유기농 면으로 제작된 프리미엄 티셔츠
      
      주요 특징:
      - 100% 유기농 면
      - 친환경 염료 사용
      - 편안한 레귤러 핏
      - 수축 방지 처리
      - 다양한 색상 선택
      
      일상복으로 완벽하며, 여러 벌 구매하시면 더욱 합리적입니다.
    `,shortDescription:"100% 유기농 면, 친환경, 레귤러 핏",images:["/images/products/tshirt-main.jpg","/images/products/tshirt-colors.jpg","/images/products/tshirt-detail.jpg"],basePrice:25e3,stockQuantity:500,minOrderQuantity:10,maxOrderQuantity:100,categories:["12"],supplierId:"5",status:"pending",approvalStatus:"pending",pricing:{gold:25e3,premium:23e3,vip:21e3},specifications:{소재:"100% 유기농 면",핏:"레귤러 핏",사이즈:"S, M, L, XL, XXL",색상:"화이트, 블랙, 네이비, 그레이",관리법:"찬물 세탁, 저온 건조",원산지:"대한민국"},brand:"베이직코튼",model:"Organic Basic Tee",weight:.2,dimensions:"M사이즈 기준: 길이 71cm, 가슴둘레 106cm",createdAt:"2024-03-01T00:00:00Z",updatedAt:"2024-03-01T00:00:00Z",viewCount:120,salesCount:0,rating:0,reviewCount:0}],Ha=t=>Q.filter(s=>s.supplierId===t),Vs=t=>{const s=t.toLowerCase();return Q.filter(r=>r.name.toLowerCase().includes(s)||r.description.toLowerCase().includes(s)||r.brand?.toLowerCase().includes(s))},Wa=[{id:"1",name:"마케팅 카테고리",description:"마케팅 목적의 상품 분류",isActive:!0,sortOrder:1,createdAt:"2024-01-01T00:00:00Z"},{id:"2",name:"용도별 카테고리",description:"사용 용도에 따른 상품 분류",isActive:!0,sortOrder:2,createdAt:"2024-01-01T00:00:00Z"}],fr=[{id:"1",groupId:"1",name:"신상품",slug:"new-products",level:1,sortOrder:1,isActive:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"2",groupId:"1",name:"인기상품",slug:"popular-products",level:1,sortOrder:2,isActive:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"3",groupId:"1",name:"베스트셀러",slug:"bestsellers",level:1,sortOrder:3,isActive:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"4",groupId:"2",name:"전자제품",slug:"electronics",level:1,sortOrder:1,isActive:!0,createdAt:"2024-01-01T00:00:00Z",children:[{id:"5",groupId:"2",parentId:"4",name:"스마트폰",slug:"smartphones",level:2,sortOrder:1,isActive:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"6",groupId:"2",parentId:"4",name:"노트북",slug:"laptops",level:2,sortOrder:2,isActive:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"7",groupId:"2",parentId:"4",name:"태블릿",slug:"tablets",level:2,sortOrder:3,isActive:!0,createdAt:"2024-01-01T00:00:00Z"}]},{id:"8",groupId:"2",name:"생활용품",slug:"home-living",level:1,sortOrder:2,isActive:!0,createdAt:"2024-01-01T00:00:00Z",children:[{id:"9",groupId:"2",parentId:"8",name:"주방용품",slug:"kitchen",level:2,sortOrder:1,isActive:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"10",groupId:"2",parentId:"8",name:"욕실용품",slug:"bathroom",level:2,sortOrder:2,isActive:!0,createdAt:"2024-01-01T00:00:00Z"}]},{id:"11",groupId:"2",name:"패션",slug:"fashion",level:1,sortOrder:3,isActive:!0,createdAt:"2024-01-01T00:00:00Z",children:[{id:"12",groupId:"2",parentId:"11",name:"남성의류",slug:"mens-clothing",level:2,sortOrder:1,isActive:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"13",groupId:"2",parentId:"11",name:"여성의류",slug:"womens-clothing",level:2,sortOrder:2,isActive:!0,createdAt:"2024-01-01T00:00:00Z"}]}],Ga=fr.reduce((t,s)=>(t.push(s),s.children&&t.push(...s.children),t),[]),$t=fs((t,s)=>({products:[],currentProduct:null,categories:fr,categoryGroups:Wa,flatCategories:Ga,filters:{search:"",categoryId:"",supplierId:"",status:"",approvalStatus:"",minPrice:0,maxPrice:0,sortBy:"created",sortOrder:"desc"},pagination:{current:1,pageSize:20,total:0,totalPages:0},isLoading:!1,error:null,fetchProducts:async r=>{t({isLoading:!0,error:null});try{const{filters:a,pagination:n}=s(),i={...a,...r};await new Promise(x=>setTimeout(x,800));let l=[...Q];i.search&&(l=Vs(i.search)),i.categoryId&&(l=l.filter(x=>x.categories.includes(i.categoryId))),i.supplierId&&(l=l.filter(x=>x.supplierId===i.supplierId)),i.status&&(l=l.filter(x=>x.status===i.status)),i.approvalStatus&&(l=l.filter(x=>x.approvalStatus===i.approvalStatus)),i.minPrice>0&&(l=l.filter(x=>x.basePrice>=i.minPrice)),i.maxPrice>0&&(l=l.filter(x=>x.basePrice<=i.maxPrice)),l.sort((x,N)=>{const{sortBy:S,sortOrder:d}=i;let g,j;switch(S){case"name":g=x.name,j=N.name;break;case"price":g=x.basePrice,j=N.basePrice;break;case"sales":g=x.salesCount,j=N.salesCount;break;case"rating":g=x.rating,j=N.rating;break;case"created":default:g=new Date(x.createdAt),j=new Date(N.createdAt);break}return typeof g=="string"&&typeof j=="string"?d==="asc"?g.localeCompare(j):j.localeCompare(g):g instanceof Date&&j instanceof Date?d==="asc"?g.getTime()-j.getTime():j.getTime()-g.getTime():typeof g=="number"&&typeof j=="number"?d==="asc"?g-j:j-g:0});const u=l.length,o=Math.ceil(u/n.pageSize),c=(n.current-1)*n.pageSize,b=c+n.pageSize,y=l.slice(c,b);t({products:y,filters:i,pagination:{...n,total:u,totalPages:o},isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"상품을 불러오는 중 오류가 발생했습니다.",isLoading:!1})}},fetchProductsBySupplier:async r=>{t({isLoading:!0,error:null});try{await new Promise(n=>setTimeout(n,500));const a=Ha(r);t({products:a,filters:{...s().filters,supplierId:r},pagination:{...s().pagination,total:a.length,totalPages:Math.ceil(a.length/s().pagination.pageSize)},isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"공급자 상품을 불러오는 중 오류가 발생했습니다.",isLoading:!1})}},fetchProduct:async r=>{t({isLoading:!0,error:null});try{await new Promise(n=>setTimeout(n,500));const a=Q.find(n=>n.id===r);if(!a)throw new Error("상품을 찾을 수 없습니다.");t({currentProduct:a,isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"상품을 불러오는 중 오류가 발생했습니다.",isLoading:!1})}},createProduct:async r=>{t({isLoading:!0,error:null});try{await new Promise(n=>setTimeout(n,1e3));const a={id:Date.now().toString(),...r,slug:r.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),supplierId:r.supplierId||"",status:"draft",approvalStatus:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),viewCount:0,salesCount:0,rating:0,reviewCount:0};Q.unshift(a),t({currentProduct:a,isLoading:!1}),s().fetchProducts()}catch(a){t({error:a instanceof Error?a.message:"상품 등록 중 오류가 발생했습니다.",isLoading:!1})}},updateProduct:async(r,a)=>{t({isLoading:!0,error:null});try{await new Promise(l=>setTimeout(l,800));const n=Q.findIndex(l=>l.id===r);if(n===-1)throw new Error("상품을 찾을 수 없습니다.");const i={...Q[n],...a,updatedAt:new Date().toISOString()};Q[n]=i,t({currentProduct:i,isLoading:!1}),s().fetchProducts()}catch(n){t({error:n instanceof Error?n.message:"상품 수정 중 오류가 발생했습니다.",isLoading:!1})}},deleteProduct:async r=>{t({isLoading:!0,error:null});try{await new Promise(n=>setTimeout(n,500));const a=Q.findIndex(n=>n.id===r);if(a===-1)throw new Error("상품을 찾을 수 없습니다.");Q.splice(a,1),t({currentProduct:null,isLoading:!1}),s().fetchProducts()}catch(a){t({error:a instanceof Error?a.message:"상품 삭제 중 오류가 발생했습니다.",isLoading:!1})}},updateProductStatus:async(r,a)=>{t({isLoading:!0,error:null});try{await new Promise(i=>setTimeout(i,500));const n=Q.findIndex(i=>i.id===r);if(n===-1)throw new Error("상품을 찾을 수 없습니다.");Q[n]={...Q[n],status:a,updatedAt:new Date().toISOString()},t({isLoading:!1}),s().fetchProducts()}catch(n){t({error:n instanceof Error?n.message:"상품 상태 변경 중 오류가 발생했습니다.",isLoading:!1})}},updateApprovalStatus:async(r,a)=>{t({isLoading:!0,error:null});try{await new Promise(l=>setTimeout(l,500));const n=Q.findIndex(l=>l.id===r);if(n===-1)throw new Error("상품을 찾을 수 없습니다.");const i={...Q[n],approvalStatus:a,updatedAt:new Date().toISOString()};a==="approved"&&(i.approvedAt=new Date().toISOString(),i.status="active"),Q[n]=i,t({isLoading:!1}),s().fetchProducts()}catch(n){t({error:n instanceof Error?n.message:"승인 상태 변경 중 오류가 발생했습니다.",isLoading:!1})}},setFilters:r=>{t(a=>({filters:{...a.filters,...r}}))},clearFilters:()=>{t({filters:{search:"",categoryId:"",supplierId:"",status:"",approvalStatus:"",minPrice:0,maxPrice:0,sortBy:"created",sortOrder:"desc"}})},searchProducts:async r=>{t({isLoading:!0,error:null});try{await new Promise(n=>setTimeout(n,300));const a=Vs(r);t({products:a,filters:{...s().filters,search:r},pagination:{...s().pagination,total:a.length,totalPages:Math.ceil(a.length/s().pagination.pageSize)},isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"검색 중 오류가 발생했습니다.",isLoading:!1})}},setCurrentProduct:r=>{t({currentProduct:r})},clearError:()=>{t({error:null})},getCategory:r=>{const{flatCategories:a}=s();return a.find(n=>n.id===r)},getCategoriesByGroup:r=>{const{categories:a}=s();return a.filter(n=>n.groupId===r)}})),K=[{id:"1",orderNumber:"O20240601001",buyerId:"3",buyerType:"retailer",buyerName:"이영희",buyerGrade:"vip",items:[{id:"1",productId:"1",productName:"삼성 갤럭시 노트북 15인치",productImage:"/images/products/laptop-1-main.jpg",productBrand:"삼성",quantity:2,unitPrice:11e5,totalPrice:22e5,supplierId:"2",supplierName:"ABC전자"},{id:"2",productId:"2",productName:"iPhone 15 Pro 128GB",productImage:"/images/products/iphone-15-pro-main.jpg",productBrand:"애플",quantity:1,unitPrice:125e4,totalPrice:125e4,supplierId:"2",supplierName:"ABC전자"}],subtotalAmount:345e4,discountAmount:15e4,shippingAmount:0,taxAmount:33e4,totalAmount:363e4,status:"shipped",paymentStatus:"completed",paymentMethod:"card",shippingAddress:{recipientName:"이영희",phone:"010-3456-7890",zipCode:"48058",address:"부산시 해운대구 센텀대로 456",detailAddress:"XYZ마트",deliveryRequest:"매장 입구에 배치해주세요"},trackingNumber:"123456789012",orderDate:"2024-06-01T10:30:00Z",paymentDate:"2024-06-01T10:35:00Z",shippingDate:"2024-06-02T14:00:00Z",notes:"대량 주문이므로 품질 검수 후 배송 부탁드립니다."},{id:"2",orderNumber:"O20240602001",buyerId:"7",buyerType:"retailer",buyerName:"정민수",buyerGrade:"gold",items:[{id:"3",productId:"3",productName:"블루투스 무선 이어폰",productImage:"/images/products/earbuds-main.jpg",productBrand:"소니",quantity:10,unitPrice:18e4,totalPrice:18e5,supplierId:"5",supplierName:"DEF생활용품"},{id:"4",productId:"4",productName:"스테인리스 스틸 텀블러",productImage:"/images/products/tumbler-main.jpg",productBrand:"써모스",quantity:20,unitPrice:45e3,totalPrice:9e5,supplierId:"5",supplierName:"DEF생활용품"}],subtotalAmount:27e5,discountAmount:0,shippingAmount:3e4,taxAmount:273e3,totalAmount:3003e3,status:"processing",paymentStatus:"completed",paymentMethod:"transfer",shippingAddress:{recipientName:"정민수",phone:"010-7890-1234",zipCode:"03925",address:"서울시 마포구 서교동 123-45",detailAddress:"동네편의점",deliveryRequest:"평일 오전 배송 희망"},orderDate:"2024-06-02T15:20:00Z",paymentDate:"2024-06-02T15:25:00Z"},{id:"3",orderNumber:"O20240603001",buyerId:"8",buyerType:"retailer",buyerName:"김프리미엄",buyerGrade:"premium",items:[{id:"5",productId:"1",productName:"삼성 갤럭시 노트북 15인치",productImage:"/images/products/laptop-1-main.jpg",productBrand:"삼성",quantity:1,unitPrice:115e4,totalPrice:115e4,supplierId:"2",supplierName:"ABC전자"}],subtotalAmount:115e4,discountAmount:5e4,shippingAmount:0,taxAmount:11e4,totalAmount:121e4,status:"pending",paymentStatus:"pending",paymentMethod:"virtual_account",shippingAddress:{recipientName:"김프리미엄",phone:"010-8901-2345",zipCode:"06296",address:"서울시 강남구 압구정로 678",detailAddress:"프리미엄스토어"},orderDate:"2024-06-03T09:15:00Z"},{id:"4",orderNumber:"O20240520001",buyerId:"3",buyerType:"retailer",buyerName:"이영희",buyerGrade:"vip",items:[{id:"6",productId:"4",productName:"스테인리스 스틸 텀블러",productImage:"/images/products/tumbler-main.jpg",productBrand:"써모스",quantity:50,unitPrice:39e3,totalPrice:195e4,supplierId:"5",supplierName:"DEF생활용품"}],subtotalAmount:195e4,discountAmount:1e5,shippingAmount:0,taxAmount:185e3,totalAmount:2035e3,status:"delivered",paymentStatus:"completed",paymentMethod:"card",shippingAddress:{recipientName:"이영희",phone:"010-3456-7890",zipCode:"48058",address:"부산시 해운대구 센텀대로 456",detailAddress:"XYZ마트"},trackingNumber:"987654321098",orderDate:"2024-05-20T14:00:00Z",paymentDate:"2024-05-20T14:05:00Z",shippingDate:"2024-05-21T10:00:00Z",deliveryDate:"2024-05-23T16:30:00Z"}],qa={3:[{id:"cart1",productId:"3",productName:"블루투스 무선 이어폰",productImage:"/images/products/earbuds-main.jpg",productBrand:"소니",unitPrice:16e4,quantity:5,supplierId:"5",supplierName:"DEF생활용품",maxOrderQuantity:20,stockQuantity:100,addedAt:"2024-06-04T10:00:00Z"}],7:[{id:"cart2",productId:"2",productName:"iPhone 15 Pro 128GB",productImage:"/images/products/iphone-15-pro-main.jpg",productBrand:"애플",unitPrice:135e4,quantity:1,supplierId:"2",supplierName:"ABC전자",maxOrderQuantity:5,stockQuantity:30,addedAt:"2024-06-04T11:30:00Z"},{id:"cart3",productId:"4",productName:"스테인리스 스틸 텀블러",productImage:"/images/products/tumbler-main.jpg",productBrand:"써모스",unitPrice:45e3,quantity:15,supplierId:"5",supplierName:"DEF생활용품",maxOrderQuantity:50,stockQuantity:200,addedAt:"2024-06-04T12:00:00Z"}]},Va=t=>K.filter(s=>s.buyerId===t),Qs=t=>K.filter(s=>s.items.some(r=>r.supplierId===t)),Qa=t=>K.filter(s=>s.status===t),Za=()=>{const t=new Date,s=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`O${s}${r}${a}${n}`},Ya=fs()(pr((t,s)=>({orders:[],cartItems:[],currentOrder:null,filters:{status:"",paymentStatus:"",dateFrom:"",dateTo:"",supplierId:"",minAmount:0,maxAmount:0},pagination:{current:1,pageSize:20,total:0,totalPages:0},isLoading:!1,error:null,fetchOrders:async r=>{t({isLoading:!0,error:null});try{const{filters:a}=s(),n={...a,...r};await new Promise(x=>setTimeout(x,500));let i=[...K];n.status&&(i=Qa(n.status)),n.paymentStatus&&(i=i.filter(x=>x.paymentStatus===n.paymentStatus)),n.supplierId&&(i=Qs(n.supplierId)),n.dateFrom&&(i=i.filter(x=>x.orderDate>=n.dateFrom)),n.dateTo&&(i=i.filter(x=>x.orderDate<=n.dateTo)),n.minAmount>0&&(i=i.filter(x=>x.totalAmount>=n.minAmount)),n.maxAmount>0&&(i=i.filter(x=>x.totalAmount<=n.maxAmount)),i.sort((x,N)=>new Date(N.orderDate).getTime()-new Date(x.orderDate).getTime());const{pagination:l}=s(),u=i.length,o=Math.ceil(u/l.pageSize),c=(l.current-1)*l.pageSize,b=c+l.pageSize,y=i.slice(c,b);t({orders:y,filters:n,pagination:{...l,total:u,totalPages:o},isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"주문을 불러오는 중 오류가 발생했습니다.",isLoading:!1})}},fetchOrdersByUser:async r=>{t({isLoading:!0,error:null});try{await new Promise(n=>setTimeout(n,300));const a=Va(r);t({orders:a,pagination:{...s().pagination,total:a.length,totalPages:Math.ceil(a.length/s().pagination.pageSize)},isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"사용자 주문을 불러오는 중 오류가 발생했습니다.",isLoading:!1})}},fetchOrdersBySupplier:async r=>{t({isLoading:!0,error:null});try{await new Promise(n=>setTimeout(n,300));const a=Qs(r);t({orders:a,pagination:{...s().pagination,total:a.length,totalPages:Math.ceil(a.length/s().pagination.pageSize)},isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"공급자 주문을 불러오는 중 오류가 발생했습니다.",isLoading:!1})}},fetchOrder:async r=>{t({isLoading:!0,error:null});try{await new Promise(n=>setTimeout(n,300));const a=K.find(n=>n.id===r);if(!a)throw new Error("주문을 찾을 수 없습니다.");t({currentOrder:a,isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"주문을 불러오는 중 오류가 발생했습니다.",isLoading:!1})}},fetchCartItems:async r=>{t({isLoading:!0,error:null});try{await new Promise(n=>setTimeout(n,200));const a=qa[r]||[];t({cartItems:a,isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"장바구니를 불러오는 중 오류가 발생했습니다.",isLoading:!1})}},addToCart:async(r,a)=>{t({isLoading:!0,error:null});try{const n=X.getState().user;if(!n)throw new Error("로그인이 필요합니다.");await new Promise(c=>setTimeout(c,300));const i=Q.find(c=>c.id===r);if(!i)throw new Error("상품을 찾을 수 없습니다.");const{cartItems:l}=s(),u=l.find(c=>c.productId===r);let o;if(u)o=l.map(c=>c.productId===r?{...c,quantity:c.quantity+a}:c);else{const c=n.userType==="retailer"&&"grade"in n&&n.grade||"gold",b=i.pricing[c],y={id:`cart_${Date.now()}`,productId:i.id,productName:i.name,productImage:i.images[0]||"/images/placeholder.jpg",productBrand:i.brand,unitPrice:b,quantity:a,supplierId:i.supplierId,supplierName:"Supplier",maxOrderQuantity:i.maxOrderQuantity,stockQuantity:i.stockQuantity,addedAt:new Date().toISOString()};o=[...l,y]}t({cartItems:o,isLoading:!1})}catch(n){t({error:n instanceof Error?n.message:"장바구니 추가 중 오류가 발생했습니다.",isLoading:!1})}},updateCartItem:async(r,a)=>{t({isLoading:!0,error:null});try{await new Promise(l=>setTimeout(l,200));const{cartItems:n}=s(),i=n.map(l=>l.id===r?{...l,quantity:a}:l);t({cartItems:i,isLoading:!1})}catch(n){t({error:n instanceof Error?n.message:"장바구니 수정 중 오류가 발생했습니다.",isLoading:!1})}},removeFromCart:async r=>{t({isLoading:!0,error:null});try{await new Promise(i=>setTimeout(i,200));const{cartItems:a}=s(),n=a.filter(i=>i.id!==r);t({cartItems:n,isLoading:!1})}catch(a){t({error:a instanceof Error?a.message:"장바구니 삭제 중 오류가 발생했습니다.",isLoading:!1})}},clearCart:async()=>{t({isLoading:!0,error:null});try{await new Promise(r=>setTimeout(r,200)),t({cartItems:[],isLoading:!1})}catch(r){t({error:r instanceof Error?r.message:"장바구니 비우기 중 오류가 발생했습니다.",isLoading:!1})}},createOrder:async r=>{t({isLoading:!0,error:null});try{const a=X.getState().user;if(!a)throw new Error("로그인이 필요합니다.");await new Promise(o=>setTimeout(o,1e3));const{cartItems:n}=s(),i=s().calculateOrderSummary(n),l=n.map(o=>({id:`item_${Date.now()}_${Math.random()}`,productId:o.productId,productName:o.productName,productImage:o.productImage,productBrand:o.productBrand,quantity:o.quantity,unitPrice:o.unitPrice,totalPrice:o.unitPrice*o.quantity,supplierId:o.supplierId,supplierName:o.supplierName})),u={id:Date.now().toString(),orderNumber:Za(),buyerId:a.id,buyerType:a.userType==="customer"?"customer":"retailer",buyerName:a.name,buyerGrade:a.userType==="retailer"&&"grade"in a?a.grade:void 0,items:l,subtotalAmount:i.subtotal,discountAmount:i.discount,shippingAmount:i.shipping,taxAmount:i.tax,totalAmount:i.total,status:"pending",paymentStatus:"pending",paymentMethod:r.paymentMethod,shippingAddress:r.shippingAddress,orderDate:new Date().toISOString(),notes:r.notes};return K.unshift(u),t({cartItems:[],currentOrder:u,isLoading:!1}),u}catch(a){throw t({error:a instanceof Error?a.message:"주문 생성 중 오류가 발생했습니다.",isLoading:!1}),a}},updateOrderStatus:async(r,a)=>{t({isLoading:!0,error:null});try{await new Promise(l=>setTimeout(l,500));const n=K.findIndex(l=>l.id===r);if(n===-1)throw new Error("주문을 찾을 수 없습니다.");const i={...K[n],status:a};a==="shipped"?(i.shippingDate=new Date().toISOString(),i.trackingNumber=`TRK${Date.now()}`):a==="delivered"&&(i.deliveryDate=new Date().toISOString()),K[n]=i,t({isLoading:!1})}catch(n){t({error:n instanceof Error?n.message:"주문 상태 변경 중 오류가 발생했습니다.",isLoading:!1})}},updatePaymentStatus:async(r,a)=>{t({isLoading:!0,error:null});try{await new Promise(l=>setTimeout(l,500));const n=K.findIndex(l=>l.id===r);if(n===-1)throw new Error("주문을 찾을 수 없습니다.");const i={...K[n],paymentStatus:a};a==="completed"&&(i.paymentDate=new Date().toISOString(),i.status="confirmed"),K[n]=i,t({isLoading:!1})}catch(n){t({error:n instanceof Error?n.message:"결제 상태 변경 중 오류가 발생했습니다.",isLoading:!1})}},cancelOrder:async(r,a)=>{t({isLoading:!0,error:null});try{await new Promise(i=>setTimeout(i,500));const n=K.findIndex(i=>i.id===r);if(n===-1)throw new Error("주문을 찾을 수 없습니다.");K[n]={...K[n],status:"cancelled",cancellationReason:a},t({isLoading:!1})}catch(n){t({error:n instanceof Error?n.message:"주문 취소 중 오류가 발생했습니다.",isLoading:!1})}},calculateCartSummary:()=>{const{cartItems:r}=s();return s().calculateOrderSummary(r)},calculateOrderSummary:r=>{const a=X.getState().user,n=r.reduce((y,x)=>y+x.unitPrice*x.quantity,0);let i=0;if(a?.userType==="retailer"&&"grade"in a)switch(a.grade){case"vip":i=.05;break;case"premium":i=.03;break;case"gold":default:i=0;break}const l=Math.floor(n*i),u=a?.userType==="retailer"&&"grade"in a&&a.grade==="vip",o=n>=5e4||u?0:3e3,c=Math.floor((n-l+o)*.1),b=n-l+o+c;return{subtotal:n,discount:l,shipping:o,tax:c,total:b}},setFilters:r=>{t(a=>({filters:{...a.filters,...r}}))},clearFilters:()=>{t({filters:{status:"",paymentStatus:"",dateFrom:"",dateTo:"",supplierId:"",minAmount:0,maxAmount:0}})},clearError:()=>{t({error:null})},setCurrentOrder:r=>{t({currentOrder:r})}}),{name:"order-storage",partialize:t=>({cartItems:t.cartItems})}));function Ka(){const t=ae(),{user:s}=X(),{products:r,fetchProducts:a}=$t(),{orders:n,fetchOrders:i}=Ya(),[l,u]=f.useState({totalProducts:0,pendingProducts:0,totalOrders:0,totalRevenue:0,totalUsers:0,totalSuppliers:0,totalRetailers:0,totalCustomers:0}),[o,c]=f.useState([]);f.useEffect(()=>{if(!s||s.userType!=="admin"){t("/login");return}a(),i(),b(),y()},[s]);const b=()=>{const d=Q.length,g=Q.filter(v=>v.approvalStatus==="pending").length,j=K.length,h=K.filter(v=>v.paymentStatus==="completed").reduce((v,A)=>v+A.totalAmount,0),k=At.length,T=At.filter(v=>v.userType==="supplier").length,I=At.filter(v=>v.userType==="retailer").length,U=At.filter(v=>v.userType==="customer").length;u({totalProducts:d,pendingProducts:g,totalOrders:j,totalRevenue:h,totalUsers:k,totalSuppliers:T,totalRetailers:I,totalCustomers:U})},y=()=>{const d=[...Q.filter(g=>g.approvalStatus==="pending").slice(0,5).map(g=>({type:"product_pending",title:"상품 승인 대기",description:`${g.name} - ${g.supplierId}`,timestamp:g.createdAt,id:g.id})),...K.slice(0,5).map(g=>({type:"new_order",title:"새 주문",description:`주문번호: ${g.orderNumber} - ₩${g.totalAmount.toLocaleString()}`,timestamp:g.orderDate,id:g.id}))].sort((g,j)=>new Date(j.timestamp).getTime()-new Date(g.timestamp).getTime()).slice(0,10);c(d)},x=d=>new Intl.NumberFormat("ko-KR").format(d),N=d=>new Date(d).toLocaleDateString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=d=>{switch(d){case"product_pending":return"📦";case"new_order":return"🛒";default:return"📋"}};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"관리자 대시보드"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"O4O 플랫폼 전체 현황을 관리하세요"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["관리자: ",s?.name]}),e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 font-semibold",children:"A"})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"📦"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"총 상품"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l.totalProducts})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-orange-600 font-medium",children:[l.pendingProducts,"개"]}),e.jsx("span",{className:"text-gray-500",children:" 승인 대기"})]})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"🛒"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"총 주문"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l.totalOrders})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-green-600 font-medium",children:["₩",x(l.totalRevenue)]}),e.jsx("span",{className:"text-gray-500",children:" 총 매출"})]})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"👥"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"총 사용자"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l.totalUsers})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsxs("div",{className:"text-sm text-gray-500",children:["공급자 ",l.totalSuppliers," | 리테일러 ",l.totalRetailers," | 고객 ",l.totalCustomers]})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"⏰"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"승인 대기"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l.pendingProducts})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("button",{onClick:()=>t("/admin/products/pending"),className:"text-sm text-orange-600 hover:text-orange-500 font-medium",children:"승인 관리 →"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"최근 활동"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-mb-8",children:o.map((d,g)=>e.jsx("li",{children:e.jsxs("div",{className:"relative pb-8",children:[g!==o.length-1&&e.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),e.jsxs("div",{className:"relative flex space-x-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-100",children:e.jsx("span",{className:"text-sm",children:S(d.type)})}),e.jsxs("div",{className:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.title}),e.jsx("p",{className:"text-sm text-gray-500",children:d.description})]}),e.jsx("div",{className:"whitespace-nowrap text-right text-sm text-gray-500",children:N(d.timestamp)})]})]})]})},`${d.type}-${d.id}`))})})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"관리 메뉴"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("button",{onClick:()=>t("/admin/products/pending"),className:"flex items-center p-4 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl",children:"📦"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-orange-900",children:"상품 승인 관리"}),e.jsxs("p",{className:"text-sm text-orange-700",children:[l.pendingProducts,"개 승인 대기 중"]})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),e.jsxs("button",{onClick:()=>t("/admin/orders"),className:"flex items-center p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl",children:"📋"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"주문 관리"}),e.jsx("p",{className:"text-sm text-blue-700",children:"전체 주문 현황 관리"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),e.jsxs("button",{onClick:()=>t("/admin/users"),className:"flex items-center p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl",children:"👥"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"사용자 관리"}),e.jsx("p",{className:"text-sm text-green-700",children:"회원 정보 및 권한 관리"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),e.jsxs("button",{onClick:()=>t("/admin/categories"),className:"flex items-center p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl",children:"🏷️"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"카테고리 관리"}),e.jsx("p",{className:"text-sm text-purple-700",children:"상품 카테고리 설정 관리"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),e.jsxs("button",{onClick:()=>t("/admin/reviews"),className:"flex items-center p-4 bg-pink-50 border border-pink-200 rounded-lg hover:bg-pink-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl",children:"⭐"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-pink-900",children:"리뷰 관리"}),e.jsx("p",{className:"text-sm text-pink-700",children:"고객 리뷰 승인 및 관리"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("svg",{className:"w-5 h-5 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]})})]})]}),e.jsxs("div",{className:"mt-8 bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"시스템 현황"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.9%"}),e.jsx("div",{className:"text-sm text-gray-500",children:"시스템 가동률"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"127ms"}),e.jsx("div",{className:"text-sm text-gray-500",children:"평균 응답시간"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"1.2GB"}),e.jsx("div",{className:"text-sm text-gray-500",children:"일일 데이터 처리량"})]})]})})]})]})]})}function Xa(){const{user:t,logout:s}=X(),r=ae(),a=t,n=()=>{s(),r("/auth/login")};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"공급자 대시보드"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a?.companyName})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[t?.name,"님"]}),e.jsx("button",{onClick:n,className:"text-sm text-red-600 hover:text-red-800",children:"로그아웃"})]})]})})}),a?.approvalStatus==="pending"&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"관리자 승인을 기다리고 있습니다. 승인 후 모든 기능을 사용할 수 있습니다."})})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-md bg-blue-500 p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})}),e.jsxs("div",{className:"ml-5",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"등록 상품"}),e.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:"0"})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-md bg-green-500 p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),e.jsxs("div",{className:"ml-5",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"주문 수"}),e.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:"0"})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-md bg-yellow-500 p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsxs("div",{className:"ml-5",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"이번 달 매출"}),e.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:"₩0"})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-md bg-purple-500 p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),e.jsxs("div",{className:"ml-5",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"거래 리테일러"}),e.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:"0"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"상품 관리"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>r("/supplier/products/new"),className:"w-full text-left px-4 py-2 bg-blue-50 hover:bg-blue-100 rounded-md text-blue-700",disabled:a?.approvalStatus!=="approved",children:"새 상품 등록"}),e.jsx("button",{onClick:()=>r("/supplier/products"),className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"상품 목록"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"재고 관리"})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"주문 관리"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"신규 주문 (0)"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"처리중 주문"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"배송 관리"})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"정산 및 통계"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"매출 현황"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"정산 내역"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"판매 통계"})]})]})]}),e.jsxs("div",{className:"mt-8 bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"회사 정보"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"회사명"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a?.companyName})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"사업자번호"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a?.businessNumber})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"주소"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a?.address})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"담당자"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a?.contactPerson})]})]})]})]})]})}function Ja(){const t=ae(),{user:s}=X(),{products:r,fetchProductsBySupplier:a,updateProductStatus:n,deleteProduct:i,flatCategories:l,isLoading:u,error:o,clearError:c}=$t(),[b,y]=f.useState([]),[x,N]=f.useState(""),[S,d]=f.useState("");f.useEffect(()=>{s?.id&&a(s.id)},[s?.id]);const g=r.filter(v=>{const A=!x||v.status===x,M=!S||v.name.toLowerCase().includes(S.toLowerCase())||v.brand?.toLowerCase().includes(S.toLowerCase());return A&&M}),j=async(v,A)=>{try{await n(v,A),re.success("상품 상태가 변경되었습니다.")}catch{re.error("상태 변경에 실패했습니다.")}},h=async v=>{if(confirm("정말로 이 상품을 삭제하시겠습니까?"))try{await i(v),re.success("상품이 삭제되었습니다.")}catch{re.error("삭제에 실패했습니다.")}},k=async v=>{if(b.length===0){re.error("변경할 상품을 선택하세요.");return}try{await Promise.all(b.map(A=>n(A,v))),y([]),re.success(`${b.length}개 상품의 상태가 변경되었습니다.`)}catch{re.error("일괄 상태 변경에 실패했습니다.")}},T=v=>{const A={draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",active:"bg-blue-100 text-blue-800",inactive:"bg-red-100 text-red-800",discontinued:"bg-gray-100 text-gray-800"},M={draft:"임시저장",pending:"승인대기",approved:"승인완료",active:"판매중",inactive:"판매중지",discontinued:"단종"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A[v]}`,children:M[v]})},I=v=>l.find(M=>M.id===v)?.name||"미분류",U=v=>new Intl.NumberFormat("ko-KR").format(v);return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"상품 관리"}),e.jsx("button",{onClick:()=>t("/supplier/products/new"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"+ 새 상품 등록"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"상품명 검색"}),e.jsx("input",{type:"text",value:S,onChange:v=>d(v.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"상품명, 브랜드로 검색"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"상태 필터"}),e.jsxs("select",{value:x,onChange:v=>N(v.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"전체 상태"}),e.jsx("option",{value:"draft",children:"임시저장"}),e.jsx("option",{value:"pending",children:"승인대기"}),e.jsx("option",{value:"approved",children:"승인완료"}),e.jsx("option",{value:"active",children:"판매중"}),e.jsx("option",{value:"inactive",children:"판매중지"}),e.jsx("option",{value:"discontinued",children:"단종"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{d(""),N("")},className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700",children:"필터 초기화"})})]})}),b.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-blue-800",children:[b.length,"개 상품 선택됨"]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{onClick:()=>k("active"),className:"bg-green-600 text-white px-3 py-1 text-sm rounded hover:bg-green-700",children:"판매 시작"}),e.jsx("button",{onClick:()=>k("inactive"),className:"bg-red-600 text-white px-3 py-1 text-sm rounded hover:bg-red-700",children:"판매 중지"}),e.jsx("button",{onClick:()=>y([]),className:"bg-gray-600 text-white px-3 py-1 text-sm rounded hover:bg-gray-700",children:"선택 해제"})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:u?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"상품을 불러오는 중..."})]}):g.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"상품이 없습니다"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"첫 번째 상품을 등록해보세요."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>t("/supplier/products/new"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"상품 등록하기"})})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:b.length===g.length,onChange:v=>{v.target.checked?y(g.map(A=>A.id)):y([])},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상품 정보"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"카테고리"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"가격"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"재고"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"작업"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:b.includes(v.id),onChange:A=>{A.target.checked?y([...b,v.id]):y(b.filter(M=>M!==v.id))},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-16 w-16",children:e.jsx("img",{className:"h-16 w-16 rounded object-cover",src:v.images[0]||"/images/placeholder.jpg",alt:v.name,onError:A=>{A.currentTarget.src="/images/placeholder.jpg"}})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[v.brand," ",v.model]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["등록: ",new Date(v.createdAt).toLocaleDateString()]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.categories.map(A=>I(A)).join(", ")}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsxs("div",{children:["₩",U(v.basePrice)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Gold: ₩",U(v.pricing.gold)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsxs("div",{className:v.stockQuantity>0?"text-green-600":"text-red-600",children:[v.stockQuantity,"개"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["최소: ",v.minOrderQuantity,"개"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T(v.status),v.approvalStatus==="pending"&&e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"승인대기"})})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>t(`/supplier/products/${v.id}`),className:"text-green-600 hover:text-green-900",children:"상세"}),e.jsx("button",{onClick:()=>t(`/supplier/products/${v.id}/edit`),className:"text-blue-600 hover:text-blue-900",children:"수정"}),e.jsxs("select",{value:v.status,onChange:A=>j(v.id,A.target.value),className:"text-sm border-gray-300 rounded",children:[e.jsx("option",{value:"draft",children:"임시저장"}),e.jsx("option",{value:"pending",children:"승인요청"}),e.jsx("option",{value:"active",children:"판매시작"}),e.jsx("option",{value:"inactive",children:"판매중지"})]}),e.jsx("button",{onClick:()=>h(v.id),className:"text-red-600 hover:text-red-900",children:"삭제"})]})]},v.id))})]})})}),o&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:o}),e.jsx("button",{onClick:c,className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"닫기"})]})})})]})]})}function en(){const t=ae(),{id:s}=bs(),r=!!s,{createProduct:a,updateProduct:n,fetchProduct:i,currentProduct:l,flatCategories:u,isLoading:o,error:c,clearError:b}=$t(),{user:y}=X(),{register:x,handleSubmit:N,control:S,formState:{errors:d},setValue:g,watch:j,reset:h}=Rt({defaultValues:{pricing:{gold:0,premium:0,vip:0},categories:[],images:[],specifications:{},minOrderQuantity:1}}),[k,T]=f.useState({}),[I,U]=f.useState([]),[v,A]=f.useState(""),[M,z]=f.useState(""),[H,Ie]=f.useState(""),ge=j("basePrice");f.useEffect(()=>{r&&s&&i(s)},[r,s]),f.useEffect(()=>{r&&l&&h({name:l.name,description:l.description,shortDescription:l.shortDescription,basePrice:l.basePrice,stockQuantity:l.stockQuantity,minOrderQuantity:l.minOrderQuantity,maxOrderQuantity:l.maxOrderQuantity,categories:l.categories,pricing:l.pricing,brand:l.brand,model:l.model,weight:l.weight,dimensions:l.dimensions,images:l.images,specifications:l.specifications})},[l,r,h]),f.useEffect(()=>{ge&&ge>0&&(g("pricing.gold",ge),g("pricing.premium",Math.round(ge*.95)),g("pricing.vip",Math.round(ge*.9)))},[ge,g]);const Be=async O=>{try{b(),r&&s?(await n(s,O),re.success("상품이 수정되었습니다.")):(await a({...O,supplierId:y?.id||""}),re.success("상품이 등록되었습니다.")),t("/supplier/products")}catch{re.error("상품 저장에 실패했습니다.")}},at=()=>{if(v&&M){const O=j("specifications")||{};g("specifications",{...O,[v]:M}),A(""),z("")}},nt=O=>{const ee={...j("specifications")||{}};delete ee[O],g("specifications",ee)},it=()=>{if(H){const O=j("images")||[];g("images",[...O,H]),Ie("")}};return j("specifications"),e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r?"상품 수정":"새 상품 등록"}),e.jsx("button",{onClick:()=>t("/supplier/products"),className:"text-gray-600 hover:text-gray-900",children:"← 목록으로"})]})})}),e.jsx("main",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:N(Be),className:"space-y-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"기본 정보"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"상품명 *"}),e.jsx("input",{...x("name",{required:"상품명을 입력하세요"}),type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"상품명을 입력하세요"}),d.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"브랜드"}),e.jsx("input",{...x("brand"),type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"브랜드명"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"모델명"}),e.jsx("input",{...x("model"),type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"모델명"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"카테고리 *"}),e.jsxs("select",{...x("categories.0",{required:"카테고리를 선택하세요"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"카테고리 선택"}),u.map(O=>e.jsx("option",{value:O.id,children:O.level===2?`${O.name}`:O.name},O.id))]}),d.categories?.[0]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.categories[0].message})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"간단 설명 *"}),e.jsx("input",{...x("shortDescription",{required:"간단 설명을 입력하세요"}),type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"상품의 핵심 특징을 간단히 설명하세요"}),d.shortDescription&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.shortDescription.message})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"상세 설명 *"}),e.jsx("textarea",{...x("description",{required:"상세 설명을 입력하세요"}),rows:6,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"상품에 대한 자세한 설명을 입력하세요"}),d.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.description.message})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"가격 및 재고"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"기본가 (원) *"}),e.jsx("input",{...x("basePrice",{required:"기본가를 입력하세요",min:{value:1,message:"가격은 1원 이상이어야 합니다"}}),type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0"}),d.basePrice&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.basePrice.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"재고수량 *"}),e.jsx("input",{...x("stockQuantity",{required:"재고수량을 입력하세요",min:{value:0,message:"재고는 0개 이상이어야 합니다"}}),type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0"}),d.stockQuantity&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.stockQuantity.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"최소주문수량 *"}),e.jsx("input",{...x("minOrderQuantity",{required:"최소주문수량을 입력하세요",min:{value:1,message:"최소주문수량은 1개 이상이어야 합니다"}}),type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"1"}),d.minOrderQuantity&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.minOrderQuantity.message})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"리테일러 등급별 가격"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gold 가격 (원)"}),e.jsx("input",{...x("pricing.gold",{required:"Gold 가격을 입력하세요",min:{value:1,message:"가격은 1원 이상이어야 합니다"}}),type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Premium 가격 (원)"}),e.jsx("input",{...x("pricing.premium",{required:"Premium 가격을 입력하세요",min:{value:1,message:"가격은 1원 이상이어야 합니다"}}),type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"VIP 가격 (원)"}),e.jsx("input",{...x("pricing.vip",{required:"VIP 가격을 입력하세요",min:{value:1,message:"가격은 1원 이상이어야 합니다"}}),type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0"})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"상품 이미지"}),e.jsxs("div",{className:"flex space-x-2 mb-4",children:[e.jsx("input",{value:H,onChange:O=>Ie(O.target.value),type:"url",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"이미지 URL을 입력하세요"}),e.jsx("button",{type:"button",onClick:it,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"추가"})]}),e.jsx("div",{className:"space-y-2",children:j("images")?.map((O,de)=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded",children:[e.jsx("img",{src:O,alt:"",className:"w-16 h-16 object-cover rounded",onError:ee=>{ee.currentTarget.src="/images/placeholder.jpg"}}),e.jsx("span",{className:"flex-1 text-sm text-gray-600 truncate",children:O}),e.jsx("button",{type:"button",onClick:()=>{const ee=j("images")||[];g("images",ee.filter(($,Qe)=>Qe!==de))},className:"text-red-600 hover:text-red-800",children:"삭제"})]},de))})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"상품 규격"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"무게 (kg)"}),e.jsx("input",{...x("weight"),type:"number",step:"0.01",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"크기 (가로x세로x높이)"}),e.jsx("input",{...x("dimensions"),type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"예: 100 x 50 x 30mm"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"상세 스펙"}),e.jsxs("div",{className:"flex space-x-2 mb-4",children:[e.jsx("input",{value:v,onChange:O=>A(O.target.value),type:"text",className:"w-1/3 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"스펙명 (예: CPU)"}),e.jsx("input",{value:M,onChange:O=>z(O.target.value),type:"text",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"스펙값 (예: Intel i7-12700H)"}),e.jsx("button",{type:"button",onClick:at,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"추가"})]}),e.jsx("div",{className:"space-y-2",children:Object.entries(k).map(([O,de])=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"w-1/3 font-medium text-gray-700",children:O}),e.jsx("span",{className:"flex-1 text-gray-600",children:de}),e.jsx("button",{type:"button",onClick:()=>nt(O),className:"text-red-600 hover:text-red-800",children:"삭제"})]},O))})]})]}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("p",{className:"text-red-800",children:c})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>t("/supplier/products"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"취소"}),e.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o?"저장 중...":r?"수정":"등록"})]})]})})]})}function tn(){const t=ae(),{id:s}=bs(),{user:r}=X(),{currentProduct:a,fetchProduct:n,updateProductStatus:i,deleteProduct:l,flatCategories:u,isLoading:o,error:c}=$t(),[b,y]=f.useState(0);if(f.useEffect(()=>{s&&n(s)},[s]),o)return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(c||!a)return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"상품을 찾을 수 없습니다"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c}),e.jsx("button",{onClick:()=>t("/supplier/products"),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"목록으로 돌아가기"})]})});const x=async j=>{try{await i(a.id,j),re.success("상품 상태가 변경되었습니다.")}catch{re.error("상태 변경에 실패했습니다.")}},N=async()=>{if(confirm("정말로 이 상품을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."))try{await l(a.id),re.success("상품이 삭제되었습니다."),t("/supplier/products")}catch{re.error("삭제에 실패했습니다.")}},S=j=>{const h={draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",active:"bg-blue-100 text-blue-800",inactive:"bg-red-100 text-red-800",discontinued:"bg-gray-100 text-gray-800"},k={draft:"임시저장",pending:"승인대기",approved:"승인완료",active:"판매중",inactive:"판매중지",discontinued:"단종"};return e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${h[j]}`,children:k[j]})},d=j=>u.find(k=>k.id===j)?.name||"미분류",g=j=>new Intl.NumberFormat("ko-KR").format(j);return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>t("/supplier/products"),className:"text-gray-600 hover:text-gray-900",children:"← 목록으로"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"상품 상세"}),S(a.status)]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t(`/supplier/products/${a.id}/edit`),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"수정"}),e.jsx("button",{onClick:N,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"삭제"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"aspect-w-1 aspect-h-1",children:e.jsx("img",{src:a.images[b]||"/images/placeholder.jpg",alt:a.name,className:"w-full h-96 object-cover",onError:j=>{j.currentTarget.src="/images/placeholder.jpg"}})}),a.images.length>1&&e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:a.images.map((j,h)=>e.jsx("button",{onClick:()=>y(h),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 ${b===h?"border-blue-500":"border-gray-200"}`,children:e.jsx("img",{src:j,alt:"",className:"w-full h-full object-cover",onError:k=>{k.currentTarget.src="/images/placeholder.jpg"}})},h))})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:a.name}),e.jsxs("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"브랜드"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.brand||"-"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"모델"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.model||"-"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"카테고리"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.categories.map(j=>d(j)).join(", ")})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"등록일"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(a.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"간단 설명"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.shortDescription})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"가격 정보"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"기본가"}),e.jsxs("dd",{className:"mt-1 text-lg font-semibold text-gray-900",children:["₩",g(a.basePrice)]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Gold 가격"}),e.jsxs("dd",{className:"mt-1 text-lg font-semibold text-yellow-600",children:["₩",g(a.pricing.gold)]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Premium 가격"}),e.jsxs("dd",{className:"mt-1 text-lg font-semibold text-purple-600",children:["₩",g(a.pricing.premium)]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"VIP 가격"}),e.jsxs("dd",{className:"mt-1 text-lg font-semibold text-red-600",children:["₩",g(a.pricing.vip)]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"재고 및 주문 정보"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"현재 재고"}),e.jsxs("dd",{className:`mt-1 text-lg font-semibold ${a.stockQuantity>0?"text-green-600":"text-red-600"}`,children:[a.stockQuantity,"개"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"최소 주문 수량"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[a.minOrderQuantity,"개"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"최대 주문 수량"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.maxOrderQuantity?`${a.maxOrderQuantity}개`:"제한 없음"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"판매량"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[a.salesCount,"개"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"상태 관리"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"판매 상태 변경"}),e.jsxs("select",{value:a.status,onChange:j=>x(j.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"draft",children:"임시저장"}),e.jsx("option",{value:"pending",children:"승인요청"}),e.jsx("option",{value:"active",children:"판매시작"}),e.jsx("option",{value:"inactive",children:"판매중지"}),e.jsx("option",{value:"discontinued",children:"단종"})]})]}),a.approvalStatus==="pending"&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"관리자 승인을 기다리고 있습니다."})})]})})]})]})]})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"상세 설명"}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"whitespace-pre-wrap",children:a.description})})]}),a.specifications&&Object.keys(a.specifications).length>0&&e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"상품 규격"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[Object.entries(a.specifications).map(([j,h])=>e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:j}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:h})]},j)),a.weight&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"무게"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[a.weight,"kg"]})]}),a.dimensions&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"크기"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.dimensions})]})]})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"통계 정보"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"조회수"}),e.jsx("dd",{className:"mt-1 text-lg font-semibold text-gray-900",children:a.viewCount})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"판매량"}),e.jsx("dd",{className:"mt-1 text-lg font-semibold text-gray-900",children:a.salesCount})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"평점"}),e.jsx("dd",{className:"mt-1 text-lg font-semibold text-gray-900",children:a.rating>0?`${a.rating}/5.0`:"-"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"리뷰 수"}),e.jsx("dd",{className:"mt-1 text-lg font-semibold text-gray-900",children:a.reviewCount})]})]})]})]})]})}function sn(){const{user:t,logout:s}=X(),r=ae(),a=t,n=()=>{s(),r("/auth/login")},i={gold:"bg-yellow-100 text-yellow-800",premium:"bg-purple-100 text-purple-800",vip:"bg-red-100 text-red-800"};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"리테일러 대시보드"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a?.storeName,a?.grade&&e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${i[a.grade]}`,children:a.grade.toUpperCase()})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[t?.name,"님"]}),e.jsx("button",{onClick:n,className:"text-sm text-red-600 hover:text-red-800",children:"로그아웃"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[a?.grade==="vip"&&"VIP 등급: 최대 할인 혜택을 받고 있습니다!",a?.grade==="premium"&&"Premium 등급: 추가 할인 혜택을 받고 있습니다.",a?.grade==="gold"&&"Gold 등급: 기본 할인 혜택을 받고 있습니다."]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-md bg-blue-500 p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})}),e.jsxs("div",{className:"ml-5",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"장바구니"}),e.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:"0"})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-md bg-green-500 p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),e.jsxs("div",{className:"ml-5",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"총 주문"}),e.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:"0"})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-md bg-yellow-500 p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsxs("div",{className:"ml-5",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"이번 달 구매"}),e.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:"₩0"})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-md bg-purple-500 p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),e.jsxs("div",{className:"ml-5",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"절약 금액"}),e.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:"₩0"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"상품 구매"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full text-left px-4 py-2 bg-blue-50 hover:bg-blue-100 rounded-md text-blue-700",children:"전체 상품 보기"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"카테고리별 검색"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"공급자별 상품"})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"주문 관리"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"주문 내역"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"배송 추적"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"반품/교환"})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"매장 관리"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"재고 현황"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"매출 분석"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-md",children:"정산 내역"})]})]})]}),e.jsxs("div",{className:"mt-8 bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"매장 정보"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"매장명"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a?.storeName})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"매장 유형"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a?.storeType})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"사업자번호"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a?.businessNumber})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"매니저"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a?.managerName})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"주소"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a?.storeAddress})]})]})]})]})]})}function rn(){const{user:t,logout:s}=X(),r=ae(),a=()=>{s(),r("/auth/login")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"O4O Shop"}),e.jsx("nav",{className:"ml-10",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsx("a",{href:"#",className:"text-gray-900 hover:text-gray-700",children:"전체상품"}),e.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-700",children:"카테고리"}),e.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-700",children:"베스트"}),e.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-700",children:"세일"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsxs("button",{className:"text-gray-400 hover:text-gray-500 relative",children:[e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"0"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[t?.name,"님"]}),e.jsx("button",{onClick:a,className:"text-sm text-red-600 hover:text-red-800",children:"로그아웃"})]})]})]})})}),e.jsx("section",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"B2B to B2C 통합 플랫폼"}),e.jsx("p",{className:"text-xl mb-8",children:"신뢰할 수 있는 공급자와 리테일러가 제공하는 최고의 상품들"}),e.jsx("button",{className:"bg-white text-blue-600 px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"쇼핑 시작하기"})]})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"인기 카테고리"}),e.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-3 lg:grid-cols-6",children:[{name:"전자제품",icon:"📱",count:"0"},{name:"생활용품",icon:"🏠",count:"0"},{name:"패션",icon:"👕",count:"0"},{name:"식품",icon:"🍎",count:"0"},{name:"화장품",icon:"💄",count:"0"},{name:"도서",icon:"📚",count:"0"}].map(n=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"text-3xl mb-2",children:n.icon}),e.jsx("h4",{className:"font-medium text-gray-900",children:n.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.count,"개 상품"]})]},n.name))})]})}),e.jsx("section",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"추천 상품"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"상품이 곧 등록됩니다"}),e.jsx("p",{className:"text-gray-500",children:"공급자들이 최고의 상품을 준비하고 있습니다."})]})]})}),e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"특별 혜택"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("div",{className:"text-blue-600 mb-3",children:e.jsx("svg",{className:"h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"직접 거래"}),e.jsx("p",{className:"text-gray-600",children:"중간 유통업체 없이 공급자와 직접 거래로 합리적인 가격"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsx("div",{className:"text-green-600 mb-3",children:e.jsx("svg",{className:"h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"검증된 공급자"}),e.jsx("p",{className:"text-gray-600",children:"엄격한 심사를 통과한 신뢰할 수 있는 공급자들만 입점"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsx("div",{className:"text-purple-600 mb-3",children:e.jsx("svg",{className:"h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"빠른 배송"}),e.jsx("p",{className:"text-gray-600",children:"전국 물류 네트워크를 통한 신속하고 안전한 배송"})]})]})]})}),e.jsx("footer",{className:"bg-gray-800 text-white py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg font-medium mb-2",children:"O4O Platform"}),e.jsx("p",{className:"text-gray-400",children:"One-for-One, Online-to-Offline"})]})})})]})}function an(){const[t,s]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(null),[l,u]=f.useState({}),[o,c]=f.useState({page:1,limit:20,total:0,totalPages:0});f.useEffect(()=>{b()},[l,o.page]);const b=async()=>{try{a(!0);const d=new URLSearchParams({page:o.page.toString(),limit:o.limit.toString(),...l.status&&{status:l.status},...l.type&&{type:l.type},...l.search&&{search:l.search},...l.isPublic!==void 0&&{isPublic:l.isPublic.toString()}}),g=await fetch(`/api/signage/contents?${d}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!g.ok)throw new Error("Failed to fetch contents");const j=await g.json();s(j.data.contents),c(h=>({...h,total:j.data.pagination.total,totalPages:j.data.pagination.totalPages}))}catch(d){i(d instanceof Error?d.message:"An error occurred")}finally{a(!1)}},y=d=>{const j={pending:{color:"bg-yellow-100 text-yellow-800",icon:bt,text:"Pending"},approved:{color:"bg-green-100 text-green-800",icon:ue,text:"Approved"},rejected:{color:"bg-red-100 text-red-800",icon:It,text:"Rejected"},inactive:{color:"bg-gray-100 text-gray-800",icon:It,text:"Inactive"}}[d],h=j.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.color}`,children:[e.jsx(h,{className:"w-3 h-3 mr-1"}),j.text]})},x=d=>{if(!d)return"Unknown";const g=Math.floor(d/60),j=d%60;return`${g}:${j.toString().padStart(2,"0")}`},N=async(d,g,j)=>{try{if(!(await fetch(`/api/signage/contents/${d}/approval`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:g,reason:j})})).ok)throw new Error("Failed to update content status");b()}catch(h){i(h instanceof Error?h.message:"An error occurred")}},S=async d=>{if(confirm("Are you sure you want to delete this content?"))try{if(!(await fetch(`/api/signage/contents/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete content");b()}catch(g){i(g instanceof Error?g.message:"An error occurred")}};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Digital Signage Content"}),e.jsx("p",{className:"text-gray-600",children:"Manage video content for digital signage displays"})]}),e.jsxs("button",{onClick:()=>{},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Add Content"]})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search content...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:l.search||"",onChange:d=>u(g=>({...g,search:d.target.value}))})]})}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:l.status||"",onChange:d=>u(g=>({...g,status:d.target.value||void 0})),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:l.type||"",onChange:d=>u(g=>({...g,type:d.target.value||void 0})),children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"youtube",children:"YouTube"}),e.jsx("option",{value:"vimeo",children:"Vimeo"})]}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:l.isPublic?.toString()||"",onChange:d=>u(g=>({...g,isPublic:d.target.value?d.target.value==="true":void 0})),children:[e.jsx("option",{value:"",children:"All Visibility"}),e.jsx("option",{value:"true",children:"Public"}),e.jsx("option",{value:"false",children:"Private"})]})]})}),n&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-600",children:n})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[e.jsxs("div",{className:"aspect-video bg-gray-100 relative",children:[d.thumbnailUrl?e.jsx("img",{src:d.thumbnailUrl,alt:d.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:e.jsx(st,{className:"w-8 h-8"})}),d.duration&&e.jsx("span",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:x(d.duration)}),e.jsx("span",{className:`absolute top-2 left-2 px-2 py-1 rounded text-xs font-medium ${d.type==="youtube"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:d.type.toUpperCase()})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-2",children:d.title}),y(d.status)]}),d.description&&e.jsx("p",{className:"text-gray-600 text-xs mb-3 line-clamp-2",children:d.description}),d.tags&&d.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[d.tags.slice(0,3).map((g,j)=>e.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:g},j)),d.tags.length>3&&e.jsxs("span",{className:"text-gray-500 text-xs",children:["+",d.tags.length-3," more"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:["By ",d.creator.name," • ",new Date(d.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2",children:d.isPublic&&e.jsx("span",{className:"text-green-600 text-xs",children:"Public"})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[d.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>N(d.id,"approve"),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Approve",children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(d.id,"reject","Rejected by admin"),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Reject",children:e.jsx(It,{className:"w-4 h-4"})})]}),e.jsx("button",{className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:e.jsx(st,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-gray-600 hover:bg-gray-50 rounded",title:"Edit",children:e.jsx(Ot,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>S(d.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:e.jsx(ys,{className:"w-4 h-4"})})]})]})]})]},d.id))}),t.length===0&&!r&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(st,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No content found"}),e.jsx("p",{className:"text-gray-600",children:"Get started by adding your first video content."})]}),o.totalPages>1&&e.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border rounded-lg",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(o.page-1)*o.limit+1," to ",Math.min(o.page*o.limit,o.total)," of ",o.total," results"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>c(d=>({...d,page:d.page-1})),disabled:o.page===1,className:"px-3 py-1 border rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",o.page," of ",o.totalPages]}),e.jsx("button",{onClick:()=>c(d=>({...d,page:d.page+1})),disabled:o.page===o.totalPages,className:"px-3 py-1 border rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function nn(){const[t,s]=f.useState([]),[r,a]=f.useState(null),[n,i]=f.useState(null),[l,u]=f.useState(!0),[o,c]=f.useState(null),b=["admin","manager"][0];f.useEffect(()=>{y()},[]),f.useEffect(()=>{if(r){x(r.id);const g=setInterval(()=>{x(r.id)},5e3);return()=>clearInterval(g)}},[r]);const y=async()=>{try{u(!0);const g=await fetch("/api/signage/stores",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!g.ok)throw new Error("Failed to fetch stores");const j=await g.json();s(j.data.stores),b==="manager"&&j.data.stores.length>0}catch(g){c(g instanceof Error?g.message:"An error occurred")}finally{u(!1)}},x=async g=>{try{const j=await fetch(`/api/signage/stores/${g}/playback/status`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(j.ok){const h=await j.json();i(h.data)}}catch{}},N=async(g,j)=>{if(r)try{(await fetch(`/api/signage/stores/${r.id}/playback/control`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:g,position:j})})).ok&&x(r.id)}catch(h){c(h instanceof Error?h.message:"Control action failed")}},S=g=>{const h={active:{color:"bg-green-100 text-green-800",text:"Active"},inactive:{color:"bg-gray-100 text-gray-800",text:"Inactive"},suspended:{color:"bg-red-100 text-red-800",text:"Suspended"}}[g];return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.color}`,children:h.text})},d=g=>{const j=Math.floor(g/60),h=g%60;return`${j}:${h.toString().padStart(2,"0")}`};return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Stores"}),e.jsxs("button",{onClick:()=>{},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center",children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"}),"Add"]})]})}),e.jsx("div",{className:"divide-y",children:t.map(g=>e.jsxs("div",{className:`p-4 cursor-pointer hover:bg-gray-50 ${r?.id===g.id?"bg-blue-50 border-r-2 border-blue-600":""}`,onClick:()=>a(g),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:g.name}),S(g.status)]}),g.address&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[g.address.city,", ",g.address.state]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Manager: ",g.manager.name]})]},g.id))}),t.length===0&&e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Me,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{children:"No stores found"})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.name}),e.jsx("p",{className:"text-gray-600",children:r.description})]}),e.jsxs("div",{className:"flex space-x-2",children:[S(r.status),e.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded",children:e.jsx(Gr,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.address&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"Address"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.address.street,e.jsx("br",{}),r.address.city,", ",r.address.state," ",r.address.zipcode]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"Manager"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.manager.name,e.jsx("br",{}),r.manager.email]})]}),r.displaySettings&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"Display Settings"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.displaySettings.resolution," • ",r.displaySettings.orientation]})]}),r.businessHours&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"Business Hours"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.businessHours})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Playback"}),n?.isPlaying?e.jsxs("div",{className:"space-y-4",children:[n.currentItem&&e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:n.currentItem.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[d(n.currentItem.position)," / ",d(n.currentItem.duration)]})]}),e.jsx("div",{className:"text-sm text-gray-500",children:n.currentItem.type.toUpperCase()})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:()=>N("pause"),className:"p-3 bg-blue-600 text-white rounded-full hover:bg-blue-700",children:e.jsx(qr,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>N("next"),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full",children:e.jsx(Vr,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.playlist&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Playlist: "}),e.jsx("span",{className:"text-gray-600",children:n.playlist.name})]}),n.schedule&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Schedule: "}),e.jsx("span",{className:"text-gray-600",children:n.schedule.name})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Me,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Playback"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No content is currently playing on this display"}),e.jsxs("button",{onClick:()=>N("play"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center mx-auto",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Start Playback"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{className:"bg-white border rounded-lg p-4 hover:bg-gray-50 flex items-center space-x-3",children:[e.jsx(qe,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Manage Schedules"})]}),e.jsxs("button",{className:"bg-white border rounded-lg p-4 hover:bg-gray-50 flex items-center space-x-3",children:[e.jsx(Me,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Manage Playlists"})]}),e.jsxs("button",{className:"bg-white border rounded-lg p-4 hover:bg-gray-50 flex items-center space-x-3",children:[e.jsx(dr,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"View Analytics"})]})]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border h-96 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Store"}),e.jsx("p",{className:"text-gray-600",children:"Choose a store from the list to view details and controls"})]})})}),o&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg",children:[e.jsx("p",{className:"text-red-600",children:o}),e.jsx("button",{onClick:()=>c(null),className:"mt-2 text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss"})]})]})}function ln({storeId:t}){const[s,r]=f.useState([]),[a,n]=f.useState(null),[i,l]=f.useState([]),[u,o]=f.useState(!0),[c,b]=f.useState(null);f.useEffect(()=>{y()},[t]),f.useEffect(()=>{a&&x(a.id)},[a]);const y=async()=>{try{o(!0);const h=await fetch(`/api/signage/stores/${t}/playlists`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!h.ok)throw new Error("Failed to fetch playlists");const k=await h.json();r(k.data.playlists),k.data.playlists.length>0&&!a&&n(k.data.playlists[0])}catch(h){b(h instanceof Error?h.message:"An error occurred")}finally{o(!1)}},x=async h=>{try{const k=await fetch(`/api/signage/playlists/${h}/items`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!k.ok)throw new Error("Failed to fetch playlist items");const T=await k.json();l(T.data.items.sort((I,U)=>I.order-U.order))}catch(k){b(k instanceof Error?k.message:"Failed to fetch playlist items")}},N=async(h,k)=>{if(k===0||!a)return;const T=Array.from(i),[I]=T.splice(k,1);T.splice(k-1,0,I);const U=T.map((v,A)=>({...v,order:A+1}));l(U);try{const v=U.map((M,z)=>({id:M.id,order:z+1}));if(!(await fetch(`/api/signage/playlists/${a.id}/items/reorder`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({items:v})})).ok)throw new Error("Failed to reorder items")}catch(v){b(v instanceof Error?v.message:"Failed to reorder items"),x(a.id)}},S=async(h,k)=>{if(k===i.length-1||!a)return;const T=Array.from(i),[I]=T.splice(k,1);T.splice(k+1,0,I);const U=T.map((v,A)=>({...v,order:A+1}));l(U);try{const v=U.map((M,z)=>({id:M.id,order:z+1}));if(!(await fetch(`/api/signage/playlists/${a.id}/items/reorder`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({items:v})})).ok)throw new Error("Failed to reorder items")}catch(v){b(v instanceof Error?v.message:"Failed to reorder items"),x(a.id)}},d=async h=>{if(confirm("Are you sure you want to remove this item from the playlist?"))try{if(!(await fetch(`/api/signage/playlist-items/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete playlist item");a&&x(a.id)}catch(k){b(k instanceof Error?k.message:"Failed to delete item")}},g=h=>{if(!h)return"Unknown";const k=Math.floor(h/60),T=h%60;return`${k}:${T.toString().padStart(2,"0")}`},j=h=>{const T={active:{color:"bg-green-100 text-green-800",text:"Active"},inactive:{color:"bg-gray-100 text-gray-800",text:"Inactive"},scheduled:{color:"bg-blue-100 text-blue-800",text:"Scheduled"}}[h];return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.color}`,children:T.text})};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Playlists"}),e.jsxs("button",{onClick:()=>{},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center",children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"}),"Create"]})]})}),e.jsx("div",{className:"divide-y",children:s.map(h=>e.jsxs("div",{className:`p-4 cursor-pointer hover:bg-gray-50 ${a?.id===h.id?"bg-blue-50 border-r-2 border-blue-600":""}`,onClick:()=>n(h),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:h.name}),j(h.status)]}),h.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:h.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[h.itemCount," items"]}),e.jsx("span",{children:g(h.totalDuration)})]}),h.isDefault&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded text-xs",children:"Default"})})]},h.id))}),s.length===0&&e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(De,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{children:"No playlists found"})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:a?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a.name}),j(a.status),a.isDefault&&e.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded text-xs",children:"Default"})]}),a.description&&e.jsx("p",{className:"text-gray-600 mt-1",children:a.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:[i.length," items"]}),e.jsx("span",{children:g(a.totalDuration)}),a.loop&&e.jsx("span",{children:"Loop enabled"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{},className:"bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 flex items-center",children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"}),"Add Item"]}),e.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded",children:e.jsx(Ot,{className:"w-4 h-4"})})]})]})}),e.jsx("div",{className:"p-4",children:i.length>0?e.jsx("div",{className:"space-y-2",children:i.map((h,k)=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("button",{onClick:()=>N(h.id,k),disabled:k===0,className:`p-1 rounded ${k===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-200"}`,children:"↑"}),e.jsx("button",{onClick:()=>S(h.id,k),disabled:k===i.length-1,className:`p-1 rounded ${k===i.length-1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-200"}`,children:"↓"})]}),e.jsx("div",{className:"w-8 h-8 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium",children:h.order}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[h.type==="video"?e.jsx(_t,{className:"w-4 h-4 text-blue-600"}):e.jsx(Qr,{className:"w-4 h-4 text-green-600"}),e.jsx("h4",{className:"font-medium text-gray-900 truncate",children:h.title||h.content?.title||"Untitled"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),g(h.duration||0)]}),h.type==="video"&&h.content&&e.jsx("span",{className:"capitalize",children:h.content.type}),h.customSettings?.volume&&e.jsxs("span",{children:["Volume: ",h.customSettings.volume,"%"]})]})]}),(h.content?.thumbnailUrl||h.imageUrl)&&e.jsx("div",{className:"w-16 h-12 bg-gray-200 rounded overflow-hidden",children:e.jsx("img",{src:h.content?.thumbnailUrl||h.imageUrl,alt:"",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{className:"p-1 text-gray-600 hover:bg-gray-200 rounded",children:e.jsx(Ot,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>d(h.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:e.jsx(ys,{className:"w-3 h-3"})})]})]})},h.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(De,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Empty Playlist"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add content to get started"}),e.jsxs("button",{onClick:()=>{},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center mx-auto",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Add First Item"]})]})})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border h-96 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(De,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Playlist"}),e.jsx("p",{className:"text-gray-600",children:"Choose a playlist from the list to view and edit its content"})]})})}),c&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg",children:[e.jsx("p",{className:"text-red-600",children:c}),e.jsx("button",{onClick:()=>b(null),className:"mt-2 text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss"})]})]})}function on({storeId:t}){const[s,r]=f.useState([]),[a,n]=f.useState(null),[i,l]=f.useState(!0),[u,o]=f.useState(null),c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];f.useEffect(()=>{b(),y()},[t]);const b=async()=>{try{l(!0);const h=await fetch(`/api/signage/stores/${t}/schedules`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!h.ok)throw new Error("Failed to fetch schedules");const k=await h.json();r(k.data.schedules)}catch(h){o(h instanceof Error?h.message:"An error occurred")}finally{l(!1)}},y=async()=>{try{const h=await fetch(`/api/signage/stores/${t}/schedules/active`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(h.ok){const k=await h.json();n(k.data.activeSchedule)}}catch{}},x=async h=>{if(confirm("Are you sure you want to delete this schedule?"))try{if(!(await fetch(`/api/signage/schedules/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete schedule");b(),y()}catch(k){o(k instanceof Error?k.message:"Failed to delete schedule")}},N=h=>{const T={active:{color:"bg-green-100 text-green-800",text:"Active"},inactive:{color:"bg-gray-100 text-gray-800",text:"Inactive"},expired:{color:"bg-red-100 text-red-800",text:"Expired"}}[h];return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.color}`,children:T.text})},S=h=>{const T={daily:{color:"bg-blue-100 text-blue-800",text:"Daily"},weekly:{color:"bg-purple-100 text-purple-800",text:"Weekly"},one_time:{color:"bg-orange-100 text-orange-800",text:"One Time"}}[h];return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.color}`,children:T.text})},d=h=>new Date(`1970-01-01T${h}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),g=h=>!h||h.length===0?"No days selected":h.length===7?"Every day":h.map(k=>c[k]).join(", "),j=h=>a?.id===h.id;return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Schedule Manager"}),e.jsx("p",{className:"text-gray-600",children:"Manage content schedules for this store"})]}),e.jsxs("button",{onClick:()=>{},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Create Schedule"]})]}),a&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(De,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Currently Active"}),e.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[e.jsx("strong",{children:a.name})," is currently playing"," ",e.jsx("strong",{children:a.playlist.name})]}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[d(a.startTime)," - ",d(a.endTime)]})]})]})}),u&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(be,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3"}),e.jsx("p",{className:"text-red-600",children:u})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"All Schedules"})}),s.length>0?e.jsx("div",{className:"divide-y",children:s.map(h=>e.jsx("div",{className:`p-6 ${j(h)?"bg-green-50 border-l-4 border-green-500":""}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h.name}),N(h.status),S(h.type),j(h)&&e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs font-medium",children:"NOW PLAYING"})]}),h.description&&e.jsx("p",{className:"text-gray-600 mb-3",children:h.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Time:"}),e.jsxs("p",{className:"text-gray-600",children:[d(h.startTime)," - ",d(h.endTime)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Playlist:"}),e.jsx("p",{className:"text-gray-600",children:h.playlist.name})]}),h.type==="weekly"&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Days:"}),e.jsx("p",{className:"text-gray-600",children:g(h.daysOfWeek)})]}),h.type==="one_time"&&h.specificDate&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Date:"}),e.jsx("p",{className:"text-gray-600",children:new Date(h.specificDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Priority:"}),e.jsx("p",{className:"text-gray-600",children:h.priority})]})]}),(h.validFrom||h.validUntil)&&e.jsxs("div",{className:"mt-3 text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Valid period:"}),e.jsxs("p",{className:"text-gray-600",children:[h.validFrom&&new Date(h.validFrom).toLocaleDateString(),h.validFrom&&h.validUntil&&" - ",h.validUntil&&new Date(h.validUntil).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Edit Schedule",children:e.jsx(Ot,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>x(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete Schedule",children:e.jsx(ys,{className:"w-4 h-4"})})]})]})},h.id))}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Schedules"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first schedule to automate content playback"}),e.jsxs("button",{onClick:()=>{},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center mx-auto",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Create Schedule"]})]})]}),s.length>1&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(be,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Schedule Conflicts"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Make sure to check for time conflicts between schedules. Higher priority schedules will take precedence."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Total Schedules"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(h=>h.status==="active").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bt,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Weekly"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(h=>h.type==="weekly").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-5 h-5 text-orange-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"One Time"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(h=>h.type==="one_time").length})]})]})})]})]})}function Zs(){const[t,s]=f.useState("overview"),[r,a]=f.useState(null),[n,i]=f.useState(""),[l,u]=f.useState(!0),o=["admin","manager"][0];f.useEffect(()=>{c()},[]);const c=async()=>{try{u(!0);const[x,N,S]=await Promise.all([fetch("/api/signage/stores",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("/api/signage/contents?limit=1",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("/api/signage/analytics/store-performance",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]),d=await x.json(),g=await N.json(),j=await S.json(),h=d.data?.stores||[],k=j.data||[];a({totalStores:h.length,activeStores:h.filter(T=>T.status==="active").length,totalContent:g.data?.pagination?.total||0,approvedContent:0,totalPlaylists:0,activeSchedules:0,totalPlaytime:k.reduce((T,I)=>T+I.totalDuration,0),recentActivity:[]})}catch{}finally{u(!1)}},b=x=>{const N=Math.floor(x/3600),S=Math.floor(x%3600/60);return`${N}h ${S}m`},y=[{id:"overview",label:"Overview",icon:dr},{id:"content",label:"Content",icon:_t},{id:"stores",label:"Stores",icon:Me},{id:"playlists",label:"Playlists",icon:De},{id:"schedules",label:"Schedules",icon:qe}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Digital Signage"}),e.jsx("p",{className:"text-gray-600",children:"Manage your digital signage content and displays"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Admin"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("nav",{className:"flex space-x-8",children:y.map(x=>{const N=x.icon;return e.jsxs("button",{onClick:()=>s(x.id),className:`flex items-center px-1 py-2 border-b-2 font-medium text-sm ${t===x.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),x.label]},x.id)})})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Me,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Stores"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"-":`${r?.activeStores||0}/${r?.totalStores||0}`})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(_t,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Content"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"-":r?.totalContent||0})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(De,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Schedules"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"-":r?.activeSchedules||0})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(bt,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Playtime"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l?"-":b(r?.totalPlaytime||0)})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("button",{onClick:()=>s("content"),className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow text-left",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_t,{className:"w-8 h-8 text-blue-600 mr-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Content"}),e.jsx("p",{className:"text-gray-600",children:"Upload and organize video content"})]})]})}),e.jsx("button",{onClick:()=>s("stores"),className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow text-left",disabled:o==="manager",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"w-8 h-8 text-green-600 mr-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Store Controls"}),e.jsx("p",{className:"text-gray-600",children:"Monitor and control displays"})]})]})}),e.jsx("button",{onClick:()=>s("schedules"),className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow text-left",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:"w-8 h-8 text-purple-600 mr-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Schedule Content"}),e.jsx("p",{className:"text-gray-600",children:"Automate content playback"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"px-6 py-4 border-b",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),e.jsx("div",{className:"p-6",children:r?.recentActivity&&r.recentActivity.length>0?e.jsx("div",{className:"space-y-4",children:r.recentActivity.map(x=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900",children:x.message}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(x.timestamp).toLocaleString()})]})]},x.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(mr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No recent activity"})]})})]})]}),t==="content"&&e.jsx(an,{}),t==="stores"&&o==="admin"&&e.jsx(nn,{}),t==="playlists"&&e.jsx("div",{children:n?e.jsx(ln,{storeId:n}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[e.jsx(Me,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Store"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Choose a store to manage its playlists"}),e.jsx("button",{onClick:()=>s("stores"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Go to Stores"})]})}),t==="schedules"&&e.jsx("div",{children:n?e.jsx(on,{storeId:n}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[e.jsx(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Store"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Choose a store to manage its schedules"}),e.jsx("button",{onClick:()=>s("stores"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Go to Stores"})]})})]})]})}const cn="https://api.neture.co.kr/api/v1",jt=Ee.create({baseURL:cn,timeout:1e4,headers:{"Content-Type":"application/json"}});jt.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));jt.interceptors.response.use(t=>t,async t=>(t.response?.status===401&&(t.config?.url?.includes("/public/")||t.config?.url?.includes("/settings/")||t.config?.url?.includes("/pages/")||(localStorage.removeItem("token"),window.location.href="/login")),Promise.reject(t)));const dn={getHomepageTemplate:async()=>(await jt.get("/api/public/templates/homepage")).data},mn=()=>Re({queryKey:["homepage-template"],queryFn:dn.getHomepageTemplate,staleTime:5*60*1e3});/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:br,setPrototypeOf:Ys,isFrozen:un,getPrototypeOf:xn,getOwnPropertyDescriptor:hn}=Object;let{freeze:oe,seal:je,create:jr}=Object,{apply:ms,construct:us}=typeof Reflect<"u"&&Reflect;oe||(oe=function(s){return s});je||(je=function(s){return s});ms||(ms=function(s,r,a){return s.apply(r,a)});us||(us=function(s,r){return new s(...r)});const Pt=ce(Array.prototype.forEach),gn=ce(Array.prototype.lastIndexOf),Ks=ce(Array.prototype.pop),dt=ce(Array.prototype.push),pn=ce(Array.prototype.splice),Mt=ce(String.prototype.toLowerCase),Jt=ce(String.prototype.toString),Xs=ce(String.prototype.match),mt=ce(String.prototype.replace),fn=ce(String.prototype.indexOf),bn=ce(String.prototype.trim),Ne=ce(Object.prototype.hasOwnProperty),ne=ce(RegExp.prototype.test),ut=jn(TypeError);function ce(t){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return ms(t,s,a)}}function jn(t){return function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return us(t,r)}}function D(t,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mt;Ys&&Ys(t,null);let a=s.length;for(;a--;){let n=s[a];if(typeof n=="string"){const i=r(n);i!==n&&(un(s)||(s[a]=i),n=i)}t[n]=!0}return t}function yn(t){for(let s=0;s<t.length;s++)Ne(t,s)||(t[s]=null);return t}function Ae(t){const s=jr(null);for(const[r,a]of br(t))Ne(t,r)&&(Array.isArray(a)?s[r]=yn(a):a&&typeof a=="object"&&a.constructor===Object?s[r]=Ae(a):s[r]=a);return s}function xt(t,s){for(;t!==null;){const a=hn(t,s);if(a){if(a.get)return ce(a.get);if(typeof a.value=="function")return ce(a.value)}t=xn(t)}function r(){return null}return r}const Js=oe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),es=oe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ts=oe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Nn=oe(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ss=oe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vn=oe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),er=oe(["#text"]),tr=oe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),rs=oe(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sr=oe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lt=oe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wn=je(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kn=je(/<%[\w\W]*|[\w\W]*%>/gm),Sn=je(/\$\{[\w\W]*/gm),Cn=je(/^data-[\-\w.\u00B7-\uFFFF]+$/),Tn=je(/^aria-[\-\w]+$/),yr=je(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),An=je(/^(?:\w+script|data):/i),En=je(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nr=je(/^html$/i),Pn=je(/^[a-z][.\w]*(-[.\w]+)+$/i);var rr=Object.freeze({__proto__:null,ARIA_ATTR:Tn,ATTR_WHITESPACE:En,CUSTOM_ELEMENT:Pn,DATA_ATTR:Cn,DOCTYPE_NAME:Nr,ERB_EXPR:kn,IS_ALLOWED_URI:yr,IS_SCRIPT_OR_DATA:An,MUSTACHE_EXPR:wn,TMPLIT_EXPR:Sn});const ht={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ln=function(){return typeof window>"u"?null:window},In=function(s,r){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let a=null;const n="data-tt-policy-suffix";r&&r.hasAttribute(n)&&(a=r.getAttribute(n));const i="dompurify"+(a?"#"+a:"");try{return s.createPolicy(i,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},ar=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function vr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ln();const s=_=>vr(_);if(s.version="3.2.6",s.removed=[],!t||!t.document||t.document.nodeType!==ht.document||!t.Element)return s.isSupported=!1,s;let{document:r}=t;const a=r,n=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:l,Node:u,Element:o,NodeFilter:c,NamedNodeMap:b=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:y,DOMParser:x,trustedTypes:N}=t,S=o.prototype,d=xt(S,"cloneNode"),g=xt(S,"remove"),j=xt(S,"nextSibling"),h=xt(S,"childNodes"),k=xt(S,"parentNode");if(typeof l=="function"){const _=r.createElement("template");_.content&&_.content.ownerDocument&&(r=_.content.ownerDocument)}let T,I="";const{implementation:U,createNodeIterator:v,createDocumentFragment:A,getElementsByTagName:M}=r,{importNode:z}=a;let H=ar();s.isSupported=typeof br=="function"&&typeof k=="function"&&U&&U.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ie,ERB_EXPR:ge,TMPLIT_EXPR:Be,DATA_ATTR:at,ARIA_ATTR:nt,IS_SCRIPT_OR_DATA:it,ATTR_WHITESPACE:O,CUSTOM_ELEMENT:de}=rr;let{IS_ALLOWED_URI:ee}=rr,$=null;const Qe=D({},[...Js,...es,...ts,...ss,...er]);let p=null;const C=D({},[...tr,...rs,...sr,...Lt]);let L=Object.seal(jr(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),F=null,P=null,J=!0,V=!0,xe=!1,ye=!0,pe=!1,yt=!0,ze=!1,zt=!1,Ut=!1,Ze=!1,Nt=!1,vt=!1,vs=!0,ws=!1;const Rr="user-content-";let Ht=!0,lt=!1,Ye={},Ke=null;const ks=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ss=null;const Cs=D({},["audio","video","img","source","image","track"]);let Wt=null;const Ts=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),wt="http://www.w3.org/1998/Math/MathML",kt="http://www.w3.org/2000/svg",Se="http://www.w3.org/1999/xhtml";let Xe=Se,Gt=!1,qt=null;const $r=D({},[wt,kt,Se],Jt);let St=D({},["mi","mo","mn","ms","mtext"]),Ct=D({},["annotation-xml"]);const Fr=D({},["title","style","font","a","script"]);let ot=null;const Br=["application/xhtml+xml","text/html"],zr="text/html";let Y=null,Je=null;const Ur=r.createElement("form"),As=function(m){return m instanceof RegExp||m instanceof Function},Vt=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Je&&Je===m)){if((!m||typeof m!="object")&&(m={}),m=Ae(m),ot=Br.indexOf(m.PARSER_MEDIA_TYPE)===-1?zr:m.PARSER_MEDIA_TYPE,Y=ot==="application/xhtml+xml"?Jt:Mt,$=Ne(m,"ALLOWED_TAGS")?D({},m.ALLOWED_TAGS,Y):Qe,p=Ne(m,"ALLOWED_ATTR")?D({},m.ALLOWED_ATTR,Y):C,qt=Ne(m,"ALLOWED_NAMESPACES")?D({},m.ALLOWED_NAMESPACES,Jt):$r,Wt=Ne(m,"ADD_URI_SAFE_ATTR")?D(Ae(Ts),m.ADD_URI_SAFE_ATTR,Y):Ts,Ss=Ne(m,"ADD_DATA_URI_TAGS")?D(Ae(Cs),m.ADD_DATA_URI_TAGS,Y):Cs,Ke=Ne(m,"FORBID_CONTENTS")?D({},m.FORBID_CONTENTS,Y):ks,F=Ne(m,"FORBID_TAGS")?D({},m.FORBID_TAGS,Y):Ae({}),P=Ne(m,"FORBID_ATTR")?D({},m.FORBID_ATTR,Y):Ae({}),Ye=Ne(m,"USE_PROFILES")?m.USE_PROFILES:!1,J=m.ALLOW_ARIA_ATTR!==!1,V=m.ALLOW_DATA_ATTR!==!1,xe=m.ALLOW_UNKNOWN_PROTOCOLS||!1,ye=m.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pe=m.SAFE_FOR_TEMPLATES||!1,yt=m.SAFE_FOR_XML!==!1,ze=m.WHOLE_DOCUMENT||!1,Ze=m.RETURN_DOM||!1,Nt=m.RETURN_DOM_FRAGMENT||!1,vt=m.RETURN_TRUSTED_TYPE||!1,Ut=m.FORCE_BODY||!1,vs=m.SANITIZE_DOM!==!1,ws=m.SANITIZE_NAMED_PROPS||!1,Ht=m.KEEP_CONTENT!==!1,lt=m.IN_PLACE||!1,ee=m.ALLOWED_URI_REGEXP||yr,Xe=m.NAMESPACE||Se,St=m.MATHML_TEXT_INTEGRATION_POINTS||St,Ct=m.HTML_INTEGRATION_POINTS||Ct,L=m.CUSTOM_ELEMENT_HANDLING||{},m.CUSTOM_ELEMENT_HANDLING&&As(m.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(L.tagNameCheck=m.CUSTOM_ELEMENT_HANDLING.tagNameCheck),m.CUSTOM_ELEMENT_HANDLING&&As(m.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(L.attributeNameCheck=m.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),m.CUSTOM_ELEMENT_HANDLING&&typeof m.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(L.allowCustomizedBuiltInElements=m.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pe&&(V=!1),Nt&&(Ze=!0),Ye&&($=D({},er),p=[],Ye.html===!0&&(D($,Js),D(p,tr)),Ye.svg===!0&&(D($,es),D(p,rs),D(p,Lt)),Ye.svgFilters===!0&&(D($,ts),D(p,rs),D(p,Lt)),Ye.mathMl===!0&&(D($,ss),D(p,sr),D(p,Lt))),m.ADD_TAGS&&($===Qe&&($=Ae($)),D($,m.ADD_TAGS,Y)),m.ADD_ATTR&&(p===C&&(p=Ae(p)),D(p,m.ADD_ATTR,Y)),m.ADD_URI_SAFE_ATTR&&D(Wt,m.ADD_URI_SAFE_ATTR,Y),m.FORBID_CONTENTS&&(Ke===ks&&(Ke=Ae(Ke)),D(Ke,m.FORBID_CONTENTS,Y)),Ht&&($["#text"]=!0),ze&&D($,["html","head","body"]),$.table&&(D($,["tbody"]),delete F.tbody),m.TRUSTED_TYPES_POLICY){if(typeof m.TRUSTED_TYPES_POLICY.createHTML!="function")throw ut('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof m.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ut('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=m.TRUSTED_TYPES_POLICY,I=T.createHTML("")}else T===void 0&&(T=In(N,n)),T!==null&&typeof I=="string"&&(I=T.createHTML(""));oe&&oe(m),Je=m}},Es=D({},[...es,...ts,...Nn]),Ps=D({},[...ss,...vn]),Hr=function(m){let w=k(m);(!w||!w.tagName)&&(w={namespaceURI:Xe,tagName:"template"});const E=Mt(m.tagName),W=Mt(w.tagName);return qt[m.namespaceURI]?m.namespaceURI===kt?w.namespaceURI===Se?E==="svg":w.namespaceURI===wt?E==="svg"&&(W==="annotation-xml"||St[W]):!!Es[E]:m.namespaceURI===wt?w.namespaceURI===Se?E==="math":w.namespaceURI===kt?E==="math"&&Ct[W]:!!Ps[E]:m.namespaceURI===Se?w.namespaceURI===kt&&!Ct[W]||w.namespaceURI===wt&&!St[W]?!1:!Ps[E]&&(Fr[E]||!Es[E]):!!(ot==="application/xhtml+xml"&&qt[m.namespaceURI]):!1},ve=function(m){dt(s.removed,{element:m});try{k(m).removeChild(m)}catch{g(m)}},et=function(m,w){try{dt(s.removed,{attribute:w.getAttributeNode(m),from:w})}catch{dt(s.removed,{attribute:null,from:w})}if(w.removeAttribute(m),m==="is")if(Ze||Nt)try{ve(w)}catch{}else try{w.setAttribute(m,"")}catch{}},Ls=function(m){let w=null,E=null;if(Ut)m="<remove></remove>"+m;else{const Z=Xs(m,/^[\r\n\t ]+/);E=Z&&Z[0]}ot==="application/xhtml+xml"&&Xe===Se&&(m='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+m+"</body></html>");const W=T?T.createHTML(m):m;if(Xe===Se)try{w=new x().parseFromString(W,ot)}catch{}if(!w||!w.documentElement){w=U.createDocument(Xe,"template",null);try{w.documentElement.innerHTML=Gt?I:W}catch{}}const te=w.body||w.documentElement;return m&&E&&te.insertBefore(r.createTextNode(E),te.childNodes[0]||null),Xe===Se?M.call(w,ze?"html":"body")[0]:ze?w.documentElement:te},Is=function(m){return v.call(m.ownerDocument||m,m,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Qt=function(m){return m instanceof y&&(typeof m.nodeName!="string"||typeof m.textContent!="string"||typeof m.removeChild!="function"||!(m.attributes instanceof b)||typeof m.removeAttribute!="function"||typeof m.setAttribute!="function"||typeof m.namespaceURI!="string"||typeof m.insertBefore!="function"||typeof m.hasChildNodes!="function")},_s=function(m){return typeof u=="function"&&m instanceof u};function Ce(_,m,w){Pt(_,E=>{E.call(s,m,w,Je)})}const Ms=function(m){let w=null;if(Ce(H.beforeSanitizeElements,m,null),Qt(m))return ve(m),!0;const E=Y(m.nodeName);if(Ce(H.uponSanitizeElement,m,{tagName:E,allowedTags:$}),yt&&m.hasChildNodes()&&!_s(m.firstElementChild)&&ne(/<[/\w!]/g,m.innerHTML)&&ne(/<[/\w!]/g,m.textContent)||m.nodeType===ht.progressingInstruction||yt&&m.nodeType===ht.comment&&ne(/<[/\w]/g,m.data))return ve(m),!0;if(!$[E]||F[E]){if(!F[E]&&Os(E)&&(L.tagNameCheck instanceof RegExp&&ne(L.tagNameCheck,E)||L.tagNameCheck instanceof Function&&L.tagNameCheck(E)))return!1;if(Ht&&!Ke[E]){const W=k(m)||m.parentNode,te=h(m)||m.childNodes;if(te&&W){const Z=te.length;for(let me=Z-1;me>=0;--me){const Te=d(te[me],!0);Te.__removalCount=(m.__removalCount||0)+1,W.insertBefore(Te,j(m))}}}return ve(m),!0}return m instanceof o&&!Hr(m)||(E==="noscript"||E==="noembed"||E==="noframes")&&ne(/<\/no(script|embed|frames)/i,m.innerHTML)?(ve(m),!0):(pe&&m.nodeType===ht.text&&(w=m.textContent,Pt([Ie,ge,Be],W=>{w=mt(w,W," ")}),m.textContent!==w&&(dt(s.removed,{element:m.cloneNode()}),m.textContent=w)),Ce(H.afterSanitizeElements,m,null),!1)},Ds=function(m,w,E){if(vs&&(w==="id"||w==="name")&&(E in r||E in Ur))return!1;if(!(V&&!P[w]&&ne(at,w))){if(!(J&&ne(nt,w))){if(!p[w]||P[w]){if(!(Os(m)&&(L.tagNameCheck instanceof RegExp&&ne(L.tagNameCheck,m)||L.tagNameCheck instanceof Function&&L.tagNameCheck(m))&&(L.attributeNameCheck instanceof RegExp&&ne(L.attributeNameCheck,w)||L.attributeNameCheck instanceof Function&&L.attributeNameCheck(w))||w==="is"&&L.allowCustomizedBuiltInElements&&(L.tagNameCheck instanceof RegExp&&ne(L.tagNameCheck,E)||L.tagNameCheck instanceof Function&&L.tagNameCheck(E))))return!1}else if(!Wt[w]){if(!ne(ee,mt(E,O,""))){if(!((w==="src"||w==="xlink:href"||w==="href")&&m!=="script"&&fn(E,"data:")===0&&Ss[m])){if(!(xe&&!ne(it,mt(E,O,"")))){if(E)return!1}}}}}}return!0},Os=function(m){return m!=="annotation-xml"&&Xs(m,de)},Rs=function(m){Ce(H.beforeSanitizeAttributes,m,null);const{attributes:w}=m;if(!w||Qt(m))return;const E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:p,forceKeepAttr:void 0};let W=w.length;for(;W--;){const te=w[W],{name:Z,namespaceURI:me,value:Te}=te,ct=Y(Z),Zt=Te;let se=Z==="value"?Zt:bn(Zt);if(E.attrName=ct,E.attrValue=se,E.keepAttr=!0,E.forceKeepAttr=void 0,Ce(H.uponSanitizeAttribute,m,E),se=E.attrValue,ws&&(ct==="id"||ct==="name")&&(et(Z,m),se=Rr+se),yt&&ne(/((--!?|])>)|<\/(style|title)/i,se)){et(Z,m);continue}if(E.forceKeepAttr)continue;if(!E.keepAttr){et(Z,m);continue}if(!ye&&ne(/\/>/i,se)){et(Z,m);continue}pe&&Pt([Ie,ge,Be],Fs=>{se=mt(se,Fs," ")});const $s=Y(m.nodeName);if(!Ds($s,ct,se)){et(Z,m);continue}if(T&&typeof N=="object"&&typeof N.getAttributeType=="function"&&!me)switch(N.getAttributeType($s,ct)){case"TrustedHTML":{se=T.createHTML(se);break}case"TrustedScriptURL":{se=T.createScriptURL(se);break}}if(se!==Zt)try{me?m.setAttributeNS(me,Z,se):m.setAttribute(Z,se),Qt(m)?ve(m):Ks(s.removed)}catch{et(Z,m)}}Ce(H.afterSanitizeAttributes,m,null)},Wr=function _(m){let w=null;const E=Is(m);for(Ce(H.beforeSanitizeShadowDOM,m,null);w=E.nextNode();)Ce(H.uponSanitizeShadowNode,w,null),Ms(w),Rs(w),w.content instanceof i&&_(w.content);Ce(H.afterSanitizeShadowDOM,m,null)};return s.sanitize=function(_){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=null,E=null,W=null,te=null;if(Gt=!_,Gt&&(_="<!-->"),typeof _!="string"&&!_s(_))if(typeof _.toString=="function"){if(_=_.toString(),typeof _!="string")throw ut("dirty is not a string, aborting")}else throw ut("toString is not a function");if(!s.isSupported)return _;if(zt||Vt(m),s.removed=[],typeof _=="string"&&(lt=!1),lt){if(_.nodeName){const Te=Y(_.nodeName);if(!$[Te]||F[Te])throw ut("root node is forbidden and cannot be sanitized in-place")}}else if(_ instanceof u)w=Ls("<!---->"),E=w.ownerDocument.importNode(_,!0),E.nodeType===ht.element&&E.nodeName==="BODY"||E.nodeName==="HTML"?w=E:w.appendChild(E);else{if(!Ze&&!pe&&!ze&&_.indexOf("<")===-1)return T&&vt?T.createHTML(_):_;if(w=Ls(_),!w)return Ze?null:vt?I:""}w&&Ut&&ve(w.firstChild);const Z=Is(lt?_:w);for(;W=Z.nextNode();)Ms(W),Rs(W),W.content instanceof i&&Wr(W.content);if(lt)return _;if(Ze){if(Nt)for(te=A.call(w.ownerDocument);w.firstChild;)te.appendChild(w.firstChild);else te=w;return(p.shadowroot||p.shadowrootmode)&&(te=z.call(a,te,!0)),te}let me=ze?w.outerHTML:w.innerHTML;return ze&&$["!doctype"]&&w.ownerDocument&&w.ownerDocument.doctype&&w.ownerDocument.doctype.name&&ne(Nr,w.ownerDocument.doctype.name)&&(me="<!DOCTYPE "+w.ownerDocument.doctype.name+`>
`+me),pe&&Pt([Ie,ge,Be],Te=>{me=mt(me,Te," ")}),T&&vt?T.createHTML(me):me},s.setConfig=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vt(_),zt=!0},s.clearConfig=function(){Je=null,zt=!1},s.isValidAttribute=function(_,m,w){Je||Vt({});const E=Y(_),W=Y(m);return Ds(E,W,w)},s.addHook=function(_,m){typeof m=="function"&&dt(H[_],m)},s.removeHook=function(_,m){if(m!==void 0){const w=gn(H[_],m);return w===-1?void 0:pn(H[_],w,1)[0]}return Ks(H[_])},s.removeHooks=function(_){H[_]=[]},s.removeAllHooks=function(){H=ar()},s}var xs=vr();function _n(t){const s={},r=/(\w+)=(?:"([^"]*)"|'([^']*)'|([^\s]+))/g;let a;for(;(a=r.exec(t))!==null;){const n=a[1],i=a[2]||a[3]||a[4];i==="true"?s[n]=!0:i==="false"?s[n]=!1:isNaN(Number(i))?s[n]=i:s[n]=Number(i)}return s}class Mn{handlers=new Map;register(s){this.handlers.set(s.name,s)}registerMany(s){s.forEach(r=>this.register(r))}parse(s){const r=[],a=/\[(\w+)([^\]]*)\](?:([^[]*)\[\/\1\])?/g;let n=0,i,l=0;for(;(i=a.exec(s))!==null;){const[u,o,c,b]=i,y=i.index;if(y>n){const N=s.slice(n,y);N.trim()&&r.push(e.jsx("span",{dangerouslySetInnerHTML:{__html:xs.sanitize(N)}},`text-${l++}`))}const x=this.handlers.get(o);if(x){const N=_n(c||""),S=x.render(N,b);S&&r.push(f.cloneElement(S,{key:`shortcode-${l++}`}))}else r.push(e.jsx("span",{className:"text-gray-500",children:u},`unknown-${l++}`));n=y+u.length}if(n<s.length){const u=s.slice(n);u.trim()&&r.push(e.jsx("span",{dangerouslySetInnerHTML:{__html:xs.sanitize(u)}},`text-${l++}`))}return r}parseAsElement(s){const r=this.parse(s);return e.jsx(e.Fragment,{children:r})}getRegisteredShortcodes(){return Array.from(this.handlers.keys())}hasShortcode(s){return this.handlers.has(s)}}const Ft=new Mn,Dn=({content:t})=>{const s=Ft.parseAsElement(t);return e.jsx("div",{className:"shortcode-content",children:s})},On=({text:t,alignment:s="left",settings:r={}})=>{const a={textAlign:s,fontSize:r.fontSize||"1rem",color:r.color||"inherit",marginBottom:r.marginBottom||"1rem"};if(r.processShortcodes!==!1){const n=Ft.parseAsElement(t);return e.jsx("div",{className:"paragraph-block",style:a,children:n})}return e.jsx("p",{className:"paragraph-block",style:a,dangerouslySetInnerHTML:{__html:xs.sanitize(t)}})},Rn=({text:t,level:s=2,alignment:r="left",settings:a={}})=>{const n=`h${s}`,i={textAlign:r,color:a.color||"inherit",marginTop:a.marginTop||"0",marginBottom:a.marginBottom||"1rem"};return e.jsx(n,{className:`heading-block heading-h${s}`,style:i,children:t})},$n=({src:t,alt:s,caption:r,alignment:a="center",settings:n={}})=>{const i=`image-block image-align-${a}`,l={width:n.width||"100%",height:n.height||"auto",borderRadius:n.borderRadius||"0",objectFit:n.objectFit||"cover"};return e.jsxs("figure",{className:i,children:[e.jsx("img",{src:t,alt:s,style:l,loading:"lazy"}),r&&e.jsx("figcaption",{className:"text-sm text-gray-600 text-center mt-2",children:r})]})},wr=({text:t,url:s,style:r="primary",alignment:a="left",settings:n={}})=>{const i=s.startsWith("http://")||s.startsWith("https://"),l=`
    button-block-btn 
    button-${r}
    inline-block
    px-6 py-3
    font-medium
    transition-all
    hover:opacity-90
  `,u={textAlign:a,marginBottom:"1rem"},o={backgroundColor:n.backgroundColor||(r==="primary"?"#3B82F6":"transparent"),color:n.textColor||(r==="primary"?"white":"#3B82F6"),borderRadius:n.borderRadius||"0.375rem",padding:n.padding||"0.75rem 1.5rem",fontSize:n.fontSize||"1rem",width:n.width||"auto",border:r==="outline"?"2px solid currentColor":"none"},c=e.jsx("span",{className:l,style:o,children:t});return e.jsx("div",{className:"button-block",style:u,children:i?e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:c}):e.jsx(fe,{to:s,children:c})})},Fn=({title:t,subtitle:s,backgroundImage:r,backgroundColor:a="#1a1a1a",buttons:n=[],settings:i={}})=>{const{height:l="500px",overlay:u=!0,overlayOpacity:o=.5,textColor:c="white",alignment:b="center"}=i,y={minHeight:l,backgroundColor:a,backgroundImage:r?`url(${r})`:void 0,backgroundSize:"cover",backgroundPosition:"center",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",color:c},x={position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, "+o+")"};return e.jsxs("section",{className:"hero-block",style:y,children:[r&&u&&e.jsx("div",{style:x}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",style:{textAlign:b},children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4",children:t}),s&&e.jsx("p",{className:"text-xl md:text-2xl mb-8 opacity-90",children:s}),n.length>0&&e.jsx("div",{className:"flex flex-wrap gap-4",style:{justifyContent:b},children:n.map((N,S)=>e.jsx(wr,{text:N.text,url:N.url,style:N.style,settings:{textColor:N.style==="primary"?"white":c}},S))})]})]})},Bn=({columns:t=[],settings:s={}})=>{const{gap:r="2rem",stackOnMobile:a=!0}=s,n={display:"grid",gridTemplateColumns:a?"repeat(auto-fit, minmax(300px, 1fr))":t.map(i=>i.width||"1fr").join(" "),gap:r,marginBottom:"2rem"};return e.jsx("div",{className:"columns-block",style:n,children:t.map((i,l)=>e.jsx("div",{className:"column",children:e.jsx(Bt,{blocks:i.blocks})},l))})},zn=({height:t="2rem",settings:s={}})=>{const{mobileHeight:r=t}=s;return e.jsx("div",{className:"spacer-block",style:{height:t},"data-mobile-height":r})},Un=({content:t,settings:s})=>t?e.jsx("div",{className:`shortcode-block ${s?.className||""}`,children:e.jsx(Dn,{content:t})}):null,Hn=({blockType:t,blockData:s,availableTypes:r})=>e.jsx("div",{className:"my-4 p-6 bg-red-50 border-2 border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(be,{className:"h-6 w-6 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-800 mb-2",children:["Unsupported Block Type: ",t]}),!1,s?.text&&e.jsx("p",{className:"text-gray-700",children:s.text})]})]})}),Wn=({title:t="Ready to Get Started?",description:s="Join thousands of satisfied customers and transform your business today.",buttonText:r="Get Started Now",buttonUrl:a="#",backgroundColor:n="#3b82f6",textColor:i="white",buttonColor:l="white",alignment:u="center"})=>e.jsxs("div",{className:`p-12 rounded-lg relative overflow-hidden ${u==="center"?"text-center":u==="left"?"text-left":"text-right"}`,style:{backgroundColor:n,color:i},children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 rounded-full bg-white/20"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 rounded-full bg-white/20"})]}),e.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:t}),e.jsx("p",{className:"text-lg mb-8",children:s}),e.jsxs("a",{href:a,className:"inline-flex items-center px-8 py-3 text-lg font-medium rounded-md transition-all hover:scale-105",style:{backgroundColor:l,color:n},children:[r,e.jsx(js,{className:"ml-2 h-5 w-5"})]})]})]}),Gn=({plans:t})=>{const r=t||[{name:"Basic",price:"$9",period:"month",features:["10 GB Storage","100 GB Bandwidth","Email Support","Basic Analytics"],highlighted:!1},{name:"Pro",price:"$29",period:"month",features:["100 GB Storage","1 TB Bandwidth","Priority Support","Advanced Analytics","Custom Domain"],highlighted:!0},{name:"Enterprise",price:"$99",period:"month",features:["Unlimited Storage","Unlimited Bandwidth","24/7 Phone Support","Advanced Analytics","Custom Domain","API Access"],highlighted:!1}];return e.jsx("div",{className:"grid md:grid-cols-3 gap-8 py-8",children:r.map((a,n)=>e.jsxs("div",{className:`relative p-8 rounded-lg border-2 transition-all hover:shadow-xl ${a.highlighted?"border-blue-500 shadow-lg scale-105":"border-gray-200"}`,children:[a.highlighted&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:a.name}),e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[e.jsx("span",{className:"text-4xl font-bold",children:a.price}),e.jsxs("span",{className:"text-gray-600",children:["/",a.period]})]})]}),e.jsx("ul",{className:"space-y-3 mb-8",children:a.features.map((i,l)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(Kr,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:i})]},l))}),e.jsx("button",{className:`w-full py-3 px-4 rounded-md font-medium transition-all ${a.highlighted?"bg-blue-500 text-white hover:bg-blue-600":"border-2 border-gray-300 hover:border-gray-400"}`,children:"Get Started"})]},n))})},qn=({quote:t="This product has completely transformed how we do business. The results speak for themselves.",author:s="Jane Doe",position:r="CEO",company:a="Tech Company",image:n="",rating:i=5})=>e.jsxs("div",{className:"max-w-3xl mx-auto p-8 text-center",children:[e.jsx("div",{className:"flex justify-center gap-1 mb-6",children:[...Array(5)].map((l,u)=>e.jsx(ft,{className:`h-6 w-6 ${u<i?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},u))}),e.jsx("blockquote",{className:"mb-8",children:e.jsxs("p",{className:"text-2xl leading-relaxed text-gray-700 italic",children:['"',t,'"']})}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n?e.jsx("img",{src:n,alt:s,className:"w-16 h-16 rounded-full object-cover"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-gray-500",children:s.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-lg",children:s}),e.jsxs("div",{className:"text-gray-600",children:[r," at ",a]})]})]})]}),Vn=({icon:t="mail",title:s="Contact Us",description:r="Get in touch with our team for any questions or support.",iconColor:a="#3b82f6",iconBackground:n="#dbeafe",alignment:i="center"})=>{const l={mail:pt,phone:xr,mapPin:ur,star:ft,dollarSign:Yr,messageSquare:Zr}[t]||pt;return e.jsxs("div",{className:`p-6 ${i==="center"?"text-center":i==="left"?"text-left":"text-right"}`,children:[e.jsx("div",{className:`w-16 h-16 rounded-lg flex items-center justify-center mb-4 ${i==="center"?"mx-auto":i==="right"?"ml-auto":""}`,style:{backgroundColor:n},children:e.jsx(l,{className:"h-8 w-8",style:{color:a}})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:s}),e.jsx("p",{className:"text-gray-600",children:r})]})},kr=({formId:t,formName:s,showTitle:r=!0,showDescription:a=!0,customClasses:n="",submitButtonText:i,submitButtonColor:l="#3b82f6",layout:u="single",theme:o="default"})=>{const[c,b]=f.useState({}),[y,x]=f.useState({}),[N,S]=f.useState(!1),[d,g]=f.useState("idle"),[j,h]=f.useState(0),[k,T]=f.useState({}),{data:I,isLoading:U}=Re({queryKey:["form",t||s],queryFn:async()=>{const p=t?`/${t}`:`?name=${s}`;return(await Ee.get(`/api/forms${p}`)).data},enabled:!!(t||s)});f.useEffect(()=>{if(I){const p={};I.fields.forEach(C=>{C.defaultValue!==void 0?p[C.name]=C.defaultValue:C.type==="checkbox"?p[C.name]=!1:C.type==="repeater"&&(p[C.name]=[])}),b(p)}},[I]);const v=Na({mutationFn:async p=>(await Ee.post(`/api/forms/${I.id}/submit`,p)).data,onSuccess:p=>{g("success"),b({}),p.confirmation&&p.confirmation.type==="redirect"&&p.confirmation.redirectUrl&&(window.location.href=p.confirmation.redirectUrl)},onError:p=>{g("error"),p.response?.data?.field&&x({[p.response.data.field]:p.response.data.error})}}),A=(p,C)=>{if(p.required&&(!C||C===""))return`${p.label} is required`;switch(p.type){case"email":if(C&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C))return"Invalid email address";break;case"url":if(C&&!/^https?:\/\/.+/.test(C))return"Invalid URL";break;case"tel":if(C&&!/^[\d\s\-+()]+$/.test(C))return"Invalid phone number";break;case"number":if(C!==""&&C!==null){const L=Number(C);if(isNaN(L))return"Must be a number";if(p.min!==void 0&&L<p.min)return`Must be at least ${p.min}`;if(p.max!==void 0&&L>p.max)return`Must be at most ${p.max}`}break}return p.validation?.pattern&&!new RegExp(p.validation.pattern).test(C)?p.validation.errorMessage||"Invalid format":null},M=(p,C)=>{b(L=>({...L,[p.name]:C})),y[p.name]&&x(L=>{const F={...L};return delete F[p.name],F}),I&&I.fields.forEach(L=>{if(L.type==="calculation"&&L.calculation){const F=Ie(L.calculation,{...c,[p.name]:C});b(P=>({...P,[L.name]:F}))}})},z=p=>{if(!p.conditional)return!0;const{action:C,rules:L,logicType:F}=p.conditional,P=L.map(V=>{const xe=c[V.field];return H(V,xe)}),J=F==="all"?P.every(V=>V):P.some(V=>V);return C==="show"||C==="enable"?J:!J},H=(p,C)=>{switch(p.operator){case"equals":return C==p.value;case"not_equals":return C!=p.value;case"contains":return String(C).includes(String(p.value));case"greater_than":return Number(C)>Number(p.value);case"less_than":return Number(C)<Number(p.value);case"is_empty":return!C||C==="";case"is_not_empty":return!!C&&C!=="";default:return!1}},Ie=(p,C)=>{try{let L=p;return Object.entries(C).forEach(([P,J])=>{const V=new RegExp(`{${P}}`,"g");L=L.replace(V,String(Number(J)||0))}),(P=>{P=P.replace(/\s/g,"");const J=P.split(/[+\-*/]/).map(ye=>parseFloat(ye)),V=P.match(/[+\-*/]/g)||[];if(J.length===0)return 0;let xe=J[0];for(let ye=0;ye<V.length;ye++){const pe=J[ye+1];switch(V[ye]){case"+":xe+=pe;break;case"-":xe-=pe;break;case"*":xe*=pe;break;case"/":xe=pe!==0?xe/pe:0;break}}return xe})(L)}catch{return 0}},ge=async p=>{if(p.preventDefault(),!I)return;const C={},L=I.fields.filter(F=>z(F));for(const F of L){const P=A(F,c[F.name]);P&&(C[F.name]=P)}if(Object.keys(C).length>0){x(C);return}S(!0),v.mutate(c),S(!1)},Be=p=>({text:Us,email:pt,tel:xr,url:na,date:qe,number:aa,file:zs,image:zs,address:ur,rating:ft,calculation:ra,name:sa,payment:ta,password:is})[p]||Us,at=p=>{if(!z(p))return null;const C=Be(p.type),L=c[p.name],F=y[p.name],P=p.readonly||p.conditional?.action==="disable",J=`
      ${p.width==="half"?"md:col-span-1":"md:col-span-2"}
      ${p.cssClass||""}
    `;return e.jsx("div",{className:J,children:p.type==="heading"?e.jsx("h3",{className:"text-lg font-semibold mb-4",children:p.label}):p.type==="paragraph"?e.jsx("p",{className:"text-gray-600 mb-4",children:p.label}):p.type==="divider"?e.jsx("hr",{className:"my-6"}):p.type==="html"?e.jsx("div",{dangerouslySetInnerHTML:{__html:p.label},className:"mb-4"}):e.jsxs("div",{className:"mb-4",children:[p.label&&p.type!=="hidden"&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[p.label,p.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.description&&e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:p.description}),e.jsxs("div",{className:"relative",children:[C&&!["heading","paragraph","divider","html","hidden"].includes(p.type)&&e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(C,{className:"w-4 h-4"})}),nt(p,L,P),p.type==="password"&&e.jsx("button",{type:"button",onClick:()=>T(V=>({...V,[p.name]:!V[p.name]})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:k[p.name]?e.jsx(ls,{className:"w-4 h-4"}):e.jsx(st,{className:"w-4 h-4"})})]}),F&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(be,{className:"w-3 h-3"}),F]})]})},p.id)},nt=(p,C,L)=>{const F=`
      w-full px-10 py-2 border rounded-md
      ${y[p.name]?"border-red-300":"border-gray-300"}
      ${L?"bg-gray-100 cursor-not-allowed":"bg-white"}
      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
    `;switch(p.type){case"textarea":return e.jsx("textarea",{value:C||"",onChange:P=>M(p,P.target.value),placeholder:p.placeholder,disabled:L,rows:p.rows||4,className:`${F} px-3`});case"select":return e.jsxs("select",{value:C||"",onChange:P=>M(p,P.target.value),disabled:L,className:F,children:[e.jsx("option",{value:"",children:"Select..."}),p.options?.map(P=>e.jsx("option",{value:P.value,disabled:P.disabled,children:P.label},P.value))]});case"radio":return e.jsx("div",{className:"space-y-2",children:p.options?.map(P=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:p.name,value:P.value,checked:C===P.value,onChange:J=>M(p,J.target.value),disabled:L||P.disabled,className:"text-blue-600"}),e.jsx("span",{children:P.label})]},P.value))});case"checkbox":return p.options&&p.options.length>0?e.jsx("div",{className:"space-y-2",children:p.options.map(P=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",value:P.value,checked:Array.isArray(C)&&C.includes(P.value),onChange:J=>{const V=Array.isArray(C)?C:[],xe=J.target.checked?[...V,P.value]:V.filter(ye=>ye!==P.value);M(p,xe)},disabled:L||P.disabled,className:"text-blue-600"}),e.jsx("span",{children:P.label})]},P.value))}):e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!C,onChange:P=>M(p,P.target.checked),disabled:L,className:"text-blue-600"}),e.jsx("span",{children:p.placeholder||"Check this box"})]});case"rating":return e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(P=>e.jsx("button",{type:"button",onClick:()=>M(p,P),disabled:L,className:"p-1",children:e.jsx(ft,{className:`w-6 h-6 ${C>=P?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},P))});case"range":return e.jsxs("div",{children:[e.jsx("input",{type:"range",value:C||p.min||0,onChange:P=>M(p,Number(P.target.value)),min:p.min||0,max:p.max||100,step:p.step||1,disabled:L,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[e.jsx("span",{children:p.min||0}),e.jsx("span",{className:"font-medium",children:C||p.min||0}),e.jsx("span",{children:p.max||100})]})]});case"file":case"image":return e.jsx("input",{type:"file",onChange:P=>M(p,P.target.files?.[0]),accept:p.accept||(p.type==="image"?"image/*":"*"),disabled:L,multiple:p.multiple,className:"w-full px-3 py-2 text-sm"});case"color":return e.jsx("input",{type:"color",value:C||"#000000",onChange:P=>M(p,P.target.value),disabled:L,className:"h-10 w-full"});case"hidden":return e.jsx("input",{type:"hidden",value:C||""});case"calculation":return e.jsx("div",{className:"px-10 py-2 bg-gray-100 border border-gray-300 rounded-md",children:C||0});case"password":return e.jsx("input",{type:k[p.name]?"text":"password",value:C||"",onChange:P=>M(p,P.target.value),placeholder:p.placeholder,disabled:L,className:F});default:return e.jsx("input",{type:p.type,value:C||"",onChange:P=>M(p,P.target.value),placeholder:p.placeholder,disabled:L,min:p.min,max:p.max,step:p.step,className:F})}};if(U)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Oe,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!I)return e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(hr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Form not found"})]});if(d==="success"&&I.confirmations?.[0]){const p=I.confirmations[0];return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ue,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("div",{className:"text-lg",dangerouslySetInnerHTML:{__html:p.message||"Thank you for your submission!"}})]})}const it={default:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",minimal:"bg-transparent p-4",modern:"bg-gradient-to-br from-gray-50 to-white p-8 rounded-xl shadow-lg"},O=I.settings.multiPage?I.settings.pageBreaks||[]:[],de=[];let ee=[];I.fields.forEach((p,C)=>{O.includes(C)&&ee.length>0&&(de.push(ee),ee=[]),ee.push(p)}),ee.length>0&&de.push(ee);const $=de.length||1,Qe=I.settings.multiPage&&de[j]||I.fields;return e.jsxs("div",{className:`${it[o]} ${n}`,children:[r&&I.title&&e.jsx("h2",{className:"text-2xl font-bold mb-2",children:I.title}),a&&I.description&&e.jsx("p",{className:"text-gray-600 mb-6",children:I.description}),I.settings.multiPage&&I.settings.progressBar&&$>1&&e.jsx("div",{className:"mb-6",children:I.settings.progressBarStyle==="steps"?e.jsx("div",{className:"flex items-center justify-between",children:de.map((p,C)=>e.jsxs("div",{className:`flex items-center ${C<$-1?"flex-1":""}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${C<j?"bg-green-500 text-white":C===j?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:C<j?"✓":C+1}),C<$-1&&e.jsx("div",{className:`flex-1 h-1 mx-2 ${C<j?"bg-green-500":"bg-gray-200"}`})]},C))}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${(j+1)/$*100}%`}})}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600 text-center",children:["Step ",j+1," of ",$]})]})}),e.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[e.jsx("div",{className:`
          ${u==="two-column"?"grid md:grid-cols-2 gap-4":""}
          ${u==="inline"?"flex flex-wrap gap-4":""}
        `,children:Qe.map(p=>at(p))}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[I.settings.multiPage&&$>1&&e.jsx("div",{className:"flex gap-2",children:j>0&&e.jsxs("button",{type:"button",onClick:()=>h(j-1),className:"flex items-center gap-2 px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:[e.jsx(Xr,{className:"w-4 h-4"}),"Previous"]})}),e.jsx("div",{className:"flex gap-2 ml-auto",children:I.settings.multiPage&&$>1&&j<$-1?e.jsxs("button",{type:"button",onClick:()=>h(j+1),className:"flex items-center gap-2 px-6 py-2 text-white rounded-md hover:opacity-90",style:{backgroundColor:l},children:["Next",e.jsx(Jr,{className:"w-4 h-4"})]}):e.jsx("button",{type:"submit",disabled:N,className:"flex items-center gap-2 px-6 py-2 text-white rounded-md hover:opacity-90 disabled:opacity-50",style:{backgroundColor:l},children:N?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-4 h-4 animate-spin"}),I.settings.submitButtonProcessingText||"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ea,{className:"w-4 h-4"}),i||I.settings.submitButtonText||"Submit"]})})})]})]})]})},Sr=({viewId:t,viewName:s,showTitle:r=!0,customClasses:a="",itemsPerPage:n=25,enableSearch:i=!0,enableFilters:l=!0,enableExport:u=!0})=>{const[o,c]=f.useState(""),[b,y]=f.useState({}),[x,N]=f.useState(1),[S,d]=f.useState(null),[g,j]=f.useState("asc"),{data:h,isLoading:k}=Re({queryKey:["view",t||s,{search:o,filters:b,page:x,sortField:S,sortDirection:g}],queryFn:async()=>{const A=new URLSearchParams;return t&&A.append("viewId",t),s&&A.append("viewName",s),o&&A.append("search",o),S&&(A.append("sort",S),A.append("direction",g)),A.append("page",String(x)),A.append("limit",String(n)),Object.entries(b).forEach(([z,H])=>{H&&A.append(`filter[${z}]`,H)}),(await Ee.get(`/api/views/render?${A}`)).data},enabled:!!(t||s)});if(k)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Oe,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!h)return e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(hr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"View not found"})]});const{view:T,data:I,total:U,totalPages:v}=h;return e.jsxs("div",{className:`${a}`,children:[r&&T.title&&e.jsx("h2",{className:"text-2xl font-bold mb-6",children:T.title}),e.jsxs("div",{className:"mb-6 space-y-4",children:[i&&T.interaction?.enableSearch&&e.jsx("div",{className:"flex gap-4",children:e.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:A=>c(A.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),l&&T.interaction?.enableFilters&&T.interaction.filterFields&&e.jsx("div",{className:"flex gap-4",children:T.interaction.filterFields.map(A=>e.jsx("select",{value:b[A]||"",onChange:M=>y(z=>({...z,[A]:M.target.value})),className:"px-4 py-2 border border-gray-300 rounded-md",children:e.jsxs("option",{value:"",children:["All ",A]})},A))})]}),T.visualization.type==="table"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:T.template.fields.map(A=>e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{S===A?j(g==="asc"?"desc":"asc"):(d(A),j("asc"))},children:[A,S===A&&e.jsx("span",{className:"ml-1",children:g==="asc"?"↑":"↓"})]},A))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map((A,M)=>e.jsx("tr",{className:"hover:bg-gray-50",children:T.template.fields.map(z=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A[z]},z))},M))})]})}):T.visualization.type==="grid"?e.jsx("div",{className:T.template.wrapperClass||"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map((A,M)=>e.jsx("div",{className:T.template.itemClass||"bg-white rounded-lg shadow p-6",children:T.template.fields.map(z=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("span",{className:"font-medium",children:[z,":"]}),e.jsx("span",{className:"ml-2",children:A[z]})]},z))},M))}):T.visualization.type==="list"?e.jsx("div",{className:T.template.wrapperClass||"space-y-4",children:I.map((A,M)=>e.jsx("div",{className:T.template.itemClass||"bg-white rounded-lg shadow p-4",children:T.template.fields.map(z=>e.jsx("div",{className:"mb-1",children:A[z]},z))},M))}):null,v>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(x-1)*n+1," to ",Math.min(x*n,U)," of ",U," results"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(x-1),disabled:x===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>N(x+1),disabled:x===v,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})},Qn="modulepreload",Zn=function(t){return"/"+t},nr={},Cr=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");n=Promise.allSettled(r.map(o=>{if(o=Zn(o),o in nr)return;nr[o]=!0;const c=o.endsWith(".css"),b=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${b}`))return;const y=document.createElement("link");if(y.rel=c?"stylesheet":Qn,c||(y.as="script"),y.crossOrigin="",y.href=o,u&&y.setAttribute("nonce",u),document.head.appendChild(y),c)return new Promise((x,N)=>{y.addEventListener("load",x),y.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return n.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return s().catch(i)})},Tr=(t=1,s=20,r={})=>Re({queryKey:["products",t,s,r],queryFn:async()=>{const a=new URLSearchParams({page:t.toString(),limit:s.toString(),...Object.fromEntries(Object.entries(r).filter(([i,l])=>l!==void 0&&l!==""))});return(await jt.get(`/api/v1/public/products?${a}`)).data},staleTime:5*60*1e3}),Ar=(t,s=!0)=>Re({queryKey:["product",t],queryFn:async()=>(await jt.get(`/api/v1/public/products/${t}`)).data,enabled:!!t&&s,staleTime:5*60*1e3});function hs(t,s="KRW",r="ko-KR"){try{return new Intl.NumberFormat(r,{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}catch{const n=Yn(s),i=new Intl.NumberFormat(r).format(t);return`${n}${i}`}}function Yn(t){return{KRW:"₩",USD:"$",EUR:"€",JPY:"¥",GBP:"£",CNY:"¥"}[t]||t}const Kn=f.lazy(()=>Cr(()=>import("./ProductGrid-CVsj5KH9.js"),__vite__mapDeps([0,1,2,3,4,5]))),Xn=f.lazy(()=>Cr(()=>import("./ProductCarousel-DZWhdXps.js"),__vite__mapDeps([6,1,2,3,4,5]))),Er=()=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 rounded-lg h-64 w-full"}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]}),Jn={name:"product",render:t=>{const s=String(t.id||""),r=t.show_price!==!1,a=t.show_cart!==!1,n=String(t.class||"");return s?e.jsx(ei,{productId:s,showPrice:r,showCart:a,className:n}):e.jsx("div",{className:"text-red-500",children:"Product shortcode requires an ID"})}},ei=({productId:t,showPrice:s=!0,showCart:r=!0,className:a=""})=>{const{data:n,isLoading:i,error:l}=Ar(t);if(i)return e.jsx(Er,{});if(l||!n?.data)return e.jsx("div",{className:"text-gray-500",children:"Product not found"});const u=n.data;return e.jsx("div",{className:`product-shortcode ${a}`,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden bg-gray-200",children:u.images&&u.images[0]?e.jsx("img",{src:u.images[0].url,alt:u.name,className:"object-cover object-center w-full h-full"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(ia,{className:"w-12 h-12 text-gray-400"})})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u.name}),u.shortDescription&&e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.shortDescription}),e.jsxs("div",{className:"flex items-center justify-between",children:[s&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-semibold text-gray-900",children:hs(u.price)}),u.compareAtPrice&&u.compareAtPrice>u.price&&e.jsx("span",{className:"text-sm text-gray-500 line-through ml-2",children:hs(u.compareAtPrice)})]}),r&&u.stockQuantity>0&&e.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),"장바구니"]})]}),u.stockQuantity===0&&e.jsx("div",{className:"mt-2 text-red-600 text-sm font-medium",children:"품절"})]})]})})},ti={name:"product_grid",render:t=>{const s=String(t.category||""),r=Number(t.limit||12),a=Number(t.columns||4),n=t.featured===!0,i=String(t.orderby||"created_at"),l=String(t.order||"desc");return e.jsx(f.Suspense,{fallback:e.jsx(Ns,{columns:a}),children:e.jsx(Pr,{category:s,limit:r,columns:a,featured:n,orderBy:i,order:l})})}},Ns=({columns:t})=>e.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${t} gap-6`,children:[...Array(t*2)].map((s,r)=>e.jsx(Er,{},r))}),Pr=({category:t,limit:s,columns:r,featured:a,orderBy:n,order:i})=>{const l={category:t,featured:a,status:"active"},{data:u,isLoading:o,error:c}=Tr(1,s,l);if(o)return e.jsx(Ns,{columns:r});if(c||!u?.data)return e.jsx("div",{className:"text-gray-500",children:"Products not found"});let b=[...u.data];return b.sort((y,x)=>{let N,S;switch(n){case"price":N=y.price,S=x.price;break;case"name":N=y.name,S=x.name;break;case"created_at":default:N=new Date(y.createdAt).getTime(),S=new Date(x.createdAt).getTime();break}return i==="asc"?N>S?1:-1:N<S?1:-1}),e.jsx(Kn,{products:b,columns:r})},si={name:"add_to_cart",render:t=>{const s=String(t.id||""),r=String(t.text||"장바구니에 담기"),a=String(t.class||""),n=t.show_price!==!1;return s?e.jsx(ri,{productId:s,text:r,className:a,showPrice:n}):e.jsx("div",{className:"text-red-500",children:"Add to cart shortcode requires a product ID"})}},ri=({productId:t,text:s,className:r="",showPrice:a=!0})=>{const{data:n,isLoading:i}=Ar(t);if(i)return e.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded-lg animate-pulse",disabled:!0,children:"Loading..."});if(!n?.data)return null;const l=n.data,u=l.stockQuantity===0;return e.jsx("div",{className:`add-to-cart-shortcode inline-block ${r}`,children:e.jsxs("button",{className:`flex items-center px-6 py-3 rounded-lg font-medium transition-colors ${u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:u,children:[e.jsx(gr,{className:"w-5 h-5 mr-2"}),u?"품절":s,a&&!u&&e.jsx("span",{className:"ml-2 font-semibold",children:hs(l.price)})]})})},ai={name:"product_carousel",render:t=>{const s=String(t.category||""),r=Number(t.limit||10),a=t.autoplay!==!1,n=String(t.title||"");return e.jsx(f.Suspense,{fallback:e.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded-lg"}),children:e.jsx(ni,{category:s,limit:r,autoplay:a,title:n})})}},ni=({category:t,limit:s,autoplay:r,title:a})=>{const n={category:t,status:"active"},{data:i,isLoading:l,error:u}=Tr(1,s,n);return l?e.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded-lg"}):u||!i?.data||i.data.length===0?e.jsx("div",{className:"text-gray-500",children:"No products found for carousel"}):e.jsxs("div",{className:"product-carousel-shortcode",children:[a&&e.jsx("h2",{className:"text-2xl font-bold mb-6",children:a}),e.jsx(Xn,{products:i.data,autoplay:r})]})},ii={name:"featured_products",render:t=>{const s=Number(t.limit||4),r=Number(t.columns||4),a=String(t.title||"추천 상품");return e.jsxs("div",{className:"featured-products-shortcode",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:a}),e.jsx(f.Suspense,{fallback:e.jsx(Ns,{columns:r}),children:e.jsx(Pr,{featured:!0,limit:s,columns:r,orderBy:"created_at",order:"desc"})})]})}},li={name:"product_categories",render:t=>(t.show_count,t.hide_empty,Number(t.columns||3),e.jsx("div",{className:"product-categories-shortcode",children:e.jsx("div",{className:"text-gray-500 p-4 border rounded",children:"Product categories will be displayed here"})}))},oi=[Jn,ti,si,ai,ii,li],ci={name:"form",handler:t=>{const{id:s,name:r,theme:a,layout:n,"show-title":i,"show-description":l}=t;return e.jsx(kr,{formId:s,formName:r,showTitle:i!=="false",showDescription:l!=="false",theme:a,layout:n})}},di={name:"view",handler:t=>{const{id:s,name:r,"show-title":a,"items-per-page":n,"enable-search":i,"enable-filters":l,"enable-export":u}=t;return e.jsx(Sr,{viewId:s,viewName:r,showTitle:a!=="false",itemsPerPage:n?parseInt(n):25,enableSearch:i!=="false",enableFilters:l!=="false",enableExport:u!=="false"})}},mi=[ci,di],ir={paragraph:On,heading:Rn,image:$n,button:wr,hero:Fn,columns:Bn,spacer:zn,shortcode:Un,"uagb/call-to-action":Wn,"uagb/pricing-table":Gn,"uagb/testimonial":qn,"uagb/info-box":Vn,"uagb/form":kr,"uagb/view":Sr};Ft.registerMany(oi);Ft.registerMany(mi);const Bt=({blocks:t,className:s=""})=>(f.useEffect(()=>{},[]),!t||t.length===0?null:e.jsx("div",{className:`template-renderer ${s}`,children:t.map((r,a)=>{const n=ir[r.type];if(!n)return e.jsx(Hn,{blockType:r.type,blockData:r.content||r.data,availableTypes:Object.keys(ir)},r.id||`block-${a}`);const i=r.content||r.data||{};return e.jsx(n,{...i,settings:r.settings},r.id||`block-${a}`)})})),ui=()=>e.jsx("section",{className:"relative min-h-[80vh] flex items-center justify-center bg-gradient-to-br from-blue-50 to-pink-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:["건강한 브랜드,",e.jsx("br",{}),e.jsx("span",{className:"text-blue-600",children:"지금 시작하세요"})]}),e.jsxs("p",{className:"text-xl text-gray-600 mb-8",children:["당신만의 브랜드를 만들고, 건강한 제품을 판매하세요.",e.jsx("br",{}),"전문가와 함께하는 성공적인 비즈니스의 시작."]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:[e.jsx("a",{href:"/register",className:"bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition",children:"브랜드 만들기"}),e.jsx("a",{href:"/products",className:"bg-gray-200 text-gray-800 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-gray-300 transition",children:"제품 살펴보기"})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full filter blur-3xl opacity-20"}),e.jsx("img",{src:"/images/hero-product.png",alt:"Product Preview",className:"relative rounded-2xl shadow-2xl"})]})})]})})}),xi=()=>{const t=[{icon:la,title:"회원가입",description:"간단한 회원가입으로 시작하세요. 전문가의 도움을 받을 수 있습니다."},{icon:oa,title:"상품 선택",description:"다양한 건강 제품 중에서 당신의 브랜드에 맞는 제품을 선택하세요."},{icon:mr,title:"판매 시작",description:"브랜드 스토어를 오픈하고 제품 판매를 시작하세요."}];return e.jsx("section",{className:"py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4 text-gray-900",children:"시작하기 쉬운 3단계"}),e.jsx("p",{className:"text-xl text-gray-600",children:"누구나 쉽게 시작할 수 있는 브랜드 만들기"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((s,r)=>e.jsxs("div",{className:"relative p-8 bg-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("span",{className:"absolute -top-4 left-8 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:r+1}),e.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-xl flex items-center justify-center mb-6",children:e.jsx(s.icon,{className:"w-7 h-7 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900",children:s.title}),e.jsx("p",{className:"text-gray-600",children:s.description})]},r))})]})})},gs=({children:t,variant:s="default",className:r,onClick:a,hoverable:n=!1})=>{const i="rounded-lg p-4 transition-all duration-200",l={default:"bg-white border border-gray-200",elevated:"bg-white shadow-md",outlined:"border-2 border-primary",filled:"bg-primary-light"},u=n?"hover:shadow-lg hover:scale-[1.02] cursor-pointer":"",o=Ca(i,l[s],u,r);return e.jsx("div",{className:o,onClick:a,children:t})},hi=()=>{const t=[{name:"김지원",role:"헬스케어 브랜드 대표",content:"전문적인 제품 개발과 브랜딩 지원으로 성공적인 런칭을 할 수 있었습니다.",rating:5},{name:"이민수",role:"뷰티 브랜드 운영자",content:"품질 관리와 배송 시스템이 완벽해서 고객 만족도가 높습니다.",rating:5},{name:"박서연",role:"웰니스 스타트업 대표",content:"맞춤형 솔루션과 전문가 컨설팅이 큰 도움이 되었습니다.",rating:5}],s=[{name:"GMP",image:"/images/cert-gmp.png"},{name:"ISO",image:"/images/cert-iso.png"},{name:"FDA",image:"/images/cert-fda.png"}];return e.jsx("section",{className:"py-24 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4 text-gray-900",children:"신뢰할 수 있는 파트너"}),e.jsx("p",{className:"text-xl text-gray-600",children:"많은 브랜드가 선택한 이유"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:t.map((r,a)=>e.jsxs(gs,{variant:"elevated",className:"p-8",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(r.rating)].map((n,i)=>e.jsx(ft,{className:"w-5 h-5 text-yellow-400 fill-current"},i))}),e.jsx("p",{className:"text-gray-600 mb-6",children:r.content}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:r.name}),e.jsx("p",{className:"text-gray-500",children:r.role})]})]},a))}),e.jsx("div",{className:"flex justify-center items-center gap-12",children:s.map((r,a)=>e.jsxs(gs,{variant:"filled",className:"text-center p-4",children:[e.jsx("img",{src:r.image,alt:r.name,className:"h-16 w-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:r.name})]},a))})]})})},gi=()=>{const t=[{image:"/images/product-1.png",name:"비타민 C",brand:"HealthPlus"},{image:"/images/product-2.png",name:"오메가3",brand:"WellnessPro"},{image:"/images/product-3.png",name:"프로바이오틱스",brand:"NatureLife"}];return e.jsx("section",{className:"py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4 text-gray-900",children:"브랜드 미리보기"}),e.jsx("p",{className:"text-xl text-gray-600",children:"당신만의 브랜드로 제품을 커스터마이징하세요"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:t.map((s,r)=>e.jsxs(gs,{variant:"elevated",className:"group overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"aspect-w-1 aspect-h-1",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.brand})]})]},r))}),e.jsx("div",{className:"text-center",children:e.jsxs("a",{href:"/customizer",className:"inline-flex items-center bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition",children:["커스터마이저 체험하기",e.jsx("span",{className:"ml-2",children:e.jsx(js,{className:"w-5 h-5"})})]})})]})})},as={company:[{name:"회사 소개",href:"/about"},{name:"채용",href:"/careers"},{name:"뉴스",href:"/news"},{name:"문의하기",href:"/contact"}],support:[{name:"고객센터",href:"/support"},{name:"자주 묻는 질문",href:"/faq"},{name:"배송 안내",href:"/shipping"},{name:"반품/교환",href:"/returns"}],legal:[{name:"이용약관",href:"/terms"},{name:"개인정보처리방침",href:"/privacy"},{name:"쿠키 정책",href:"/cookies"}]},pi=[{icon:e.jsx(ca,{}),href:"https://facebook.com"},{icon:e.jsx(da,{}),href:"https://twitter.com"},{icon:e.jsx(ma,{}),href:"https://instagram.com"},{icon:e.jsx(ua,{}),href:"https://linkedin.com"}],Lr=()=>e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"O4O"}),e.jsx("p",{className:"text-gray-400",children:"당신만의 특별한 제품을 만드는 곳"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4",children:"회사"}),e.jsx("ul",{className:"space-y-2",children:as.company.map(t=>e.jsx("li",{children:e.jsx("a",{href:t.href,className:"text-gray-400 hover:text-white",children:t.name})},t.name))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4",children:"고객지원"}),e.jsx("ul",{className:"space-y-2",children:as.support.map(t=>e.jsx("li",{children:e.jsx("a",{href:t.href,className:"text-gray-400 hover:text-white",children:t.name})},t.name))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4",children:"법적 고지"}),e.jsx("ul",{className:"space-y-2",children:as.legal.map(t=>e.jsx("li",{children:e.jsx("a",{href:t.href,className:"text-gray-400 hover:text-white",children:t.name})},t.name))})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800",children:e.jsx("div",{className:"flex justify-center space-x-6",children:pi.map((t,s)=>e.jsx("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white",children:t.icon},s))})}),e.jsxs("div",{className:"mt-8 text-center text-gray-400 text-sm",children:["© ",new Date().getFullYear()," O4O. All rights reserved."]})]})}),fi=()=>e.jsxs("div",{className:"min-h-screen animate-pulse",children:[e.jsx("div",{className:"h-[600px] bg-gray-200"}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})})]}),lr=()=>e.jsxs(e.Fragment,{children:[e.jsx(ui,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 space-y-24",children:[e.jsx(xi,{}),e.jsx(hi,{}),e.jsx(gi,{})]}),e.jsx(Lr,{})]}),or=()=>{const{data:t,isLoading:s,isError:r,error:a}=mn();return s?e.jsx(fi,{}):r?e.jsx(lr,{}):t?.success&&t.data.blocks&&t.data.blocks.length>0?e.jsxs("div",{className:"homepage-dynamic",children:[e.jsx(Bt,{blocks:t.data.blocks}),e.jsx(Lr,{})]}):e.jsx(lr,{})};class bi{constructor(s){this.baseURL=s,this.api=Ee.create({baseURL:this.baseURL,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(r=>{let a=localStorage.getItem("accessToken")||localStorage.getItem("authToken");if(!a){const n=localStorage.getItem("auth-storage");if(n)try{const i=JSON.parse(n);i.state?.token&&(a=i.state.token)}catch{}}return a&&(r.headers.Authorization=`Bearer ${a}`),r})}async login(s){return(await this.api.post("/auth/login",s)).data}async logout(){await this.api.post("/auth/logout")}async checkSession(){try{return(await this.api.get("/accounts/sso/check")).data}catch{return{isAuthenticated:!1}}}}const ji=()=>{const t="https://api.neture.co.kr/api/v1";if(typeof window>"u")return t;try{if(globalThis.import?.meta?.env?.VITE_API_URL)return globalThis.import.meta.env.VITE_API_URL}catch{}return window.__API_URL__?window.__API_URL__:t},Ir=new bi(ji());class yi{constructor(s){this.refreshPromise=null,this.currentToken=null,this.baseURL=s,this.api=Ee.create({baseURL:this.baseURL,headers:{"Content-Type":"application/json"},withCredentials:!0}),this.api.interceptors.response.use(r=>r,async r=>{const a=r.config;if(r.response?.status===401&&!a._retry){if(a._retry=!0,this.refreshPromise){if(await this.refreshPromise)return this.api.request(a);throw r}this.refreshPromise=this.refreshToken();const n=await this.refreshPromise;if(this.refreshPromise=null,n)return this.api.request(a)}return Promise.reject(r)})}async login(s){const r=await this.api.post("/auth/v2/login",s);return r.data.token&&(this.currentToken=r.data.token),r.data}async register(s){return(await this.api.post("/auth/v2/register",s)).data}async logout(){try{await this.api.post("/auth/v2/logout")}catch(s){console.error("Logout error:",s)}finally{this.currentToken=null}}async logoutAll(){await this.api.post("/auth/v2/logout-all"),this.currentToken=null}async refreshToken(){try{return(await this.api.post("/auth/v2/refresh")).data.success}catch{return!1}}async getCurrentUser(){try{return(await this.api.get("/auth/v2/me")).data.user}catch{return null}}getApiUrl(){return this.baseURL}getAccessToken(){return this.currentToken}setupSessionSync(){typeof window>"u"||window.addEventListener("storage",s=>{s.key==="auth-logout"?window.location.reload():s.key==="auth-login"&&this.refreshToken()})}broadcastAuthChange(s){if(typeof window>"u")return;const r=`auth-${s}`;localStorage.setItem(r,Date.now().toString()),setTimeout(()=>localStorage.removeItem(r),100)}async loginWithSync(s){const r=await this.login(s);return this.broadcastAuthChange("login"),r}async logoutWithSync(){await this.logout(),this.broadcastAuthChange("logout")}}const Ni=new yi(typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:4000/api/v1":"/api/v1");typeof window<"u"&&Ni.setupSessionSync();class vi{constructor(s){this.checkInterval=null,this.handleStorageEvent=r=>{r.key==="sso:logout"?this.handleLogout():r.key==="sso:login"&&this.checkSession()},this.config={checkInterval:3e4,...s}}initialize(s){this.onSessionChange=s,typeof window<"u"&&window.addEventListener("storage",this.handleStorageEvent),this.startSessionMonitoring(),this.checkSession()}destroy(){typeof window<"u"&&window.removeEventListener("storage",this.handleStorageEvent),this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)}startSessionMonitoring(){this.checkInterval&&clearInterval(this.checkInterval),this.checkInterval=setInterval(()=>{this.checkSession()},this.config.checkInterval)}async checkSession(){try{const s=await fetch(`${this.config.apiUrl}/auth/v2/me`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(s.ok){const a=(await s.json()).user;return this.onSessionChange?.(a),a}else return this.onSessionChange?.(null),null}catch(s){return console.error("Session check error:",s),this.onSessionChange?.(null),null}}broadcastLogin(){typeof window<"u"&&(localStorage.setItem("sso:login",Date.now().toString()),localStorage.removeItem("sso:login"))}broadcastLogout(){typeof window<"u"&&(localStorage.setItem("sso:logout",Date.now().toString()),localStorage.removeItem("sso:logout"))}handleLogout(){this.onSessionChange?.(null),this.config.domain&&(window.location.href="/login")}getSessionId(){if(typeof document>"u")return null;const s=document.cookie.match(/sessionId=([^;]+)/);return s?s[1]:null}hasSession(){return!!this.getSessionId()}}new vi({apiUrl:typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:4000/api/v1":"/api/v1"});function wi({area:t,context:s}){const[r,a]=f.useState([]),[n,i]=f.useState(!0),[l,u]=f.useState(null);return f.useEffect(()=>{(async()=>{try{i(!0),u(null);const c=new URLSearchParams;s&&c.append("context",JSON.stringify(s));const b=await Ir.api.get(`/template-parts/area/${t}/active?${c.toString()}`);if(b.status===200)a(b.data);else throw new Error("Failed to fetch template parts")}catch(c){u(c instanceof Error?c.message:"Unknown error"),a([])}finally{i(!1)}})()},[t,s?.pageId,s?.postType,s]),{templateParts:r,loading:n,error:l}}const ki=()=>e.jsx("header",{className:"site-header bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(fe,{to:"/",className:"text-xl font-bold text-primary-600",children:"O4O Platform"}),e.jsxs("nav",{className:"hidden md:flex space-x-8",children:[e.jsx(fe,{to:"/",className:"text-gray-700 hover:text-gray-900",children:"홈"}),e.jsx(fe,{to:"/about",className:"text-gray-700 hover:text-gray-900",children:"소개"}),e.jsx(fe,{to:"/services",className:"text-gray-700 hover:text-gray-900",children:"서비스"}),e.jsx(fe,{to:"/contact",className:"text-gray-700 hover:text-gray-900",children:"문의"})]})]})})}),Si=()=>e.jsx("footer",{className:"site-footer bg-gray-900 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center text-sm",children:["© ",new Date().getFullYear()," O4O Platform. All rights reserved."]})})}),Ci=({ref:t="primary-menu",orientation:s="horizontal",showSubmenuIcon:r=!0,className:a=""})=>{const[n,i]=f.useState([]),[l,u]=f.useState(!0);f.useEffect(()=>{(async()=>{try{const y=await Ir.api.get(`/menus/${t}`);y.status===200&&y.data&&i(y.data.items||[])}catch{i([{id:"1",title:"홈",url:"/"},{id:"2",title:"소개",url:"/about"},{id:"3",title:"서비스",url:"/services"},{id:"4",title:"문의",url:"/contact"}])}finally{u(!1)}})()},[t]);const o=(b,y=0)=>{const x=b.children&&b.children.length>0;return e.jsxs("li",{className:`menu-item menu-item-depth-${y} ${x?"has-children":""}`,children:[b.target==="_blank"?e.jsxs("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"menu-link",children:[b.title,x&&r&&e.jsx(Hs,{className:"submenu-icon ml-1 h-4 w-4"})]}):e.jsxs(fe,{to:b.url,className:"menu-link",children:[b.title,x&&r&&e.jsx(Hs,{className:"submenu-icon ml-1 h-4 w-4"})]}),x&&e.jsx("ul",{className:"submenu",children:b.children.map(N=>o(N,y+1))})]},b.id)};if(l)return e.jsx("div",{className:"navigation-skeleton animate-pulse h-10 w-64 bg-gray-200 rounded"});const c=["navigation",`navigation-${s}`,a].filter(Boolean).join(" ");return e.jsxs("nav",{className:c,children:[e.jsx("ul",{className:`menu menu-${s}`,children:n.map(b=>o(b))}),e.jsx("style",{children:`
        .navigation-horizontal .menu {
          display: flex;
          gap: 1rem;
          align-items: center;
        }
        
        .navigation-vertical .menu {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }
        
        .menu-item {
          position: relative;
        }
        
        .menu-link {
          display: flex;
          align-items: center;
          padding: 0.5rem 1rem;
          color: inherit;
          text-decoration: none;
          transition: color 0.2s;
        }
        
        .menu-link:hover {
          color: #3b82f6;
        }
        
        .has-children:hover .submenu {
          display: block;
        }
        
        .submenu {
          display: none;
          position: absolute;
          top: 100%;
          left: 0;
          min-width: 200px;
          background: white;
          border: 1px solid #e5e7eb;
          border-radius: 0.375rem;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
          z-index: 50;
        }
        
        .navigation-vertical .submenu {
          position: static;
          margin-left: 1rem;
          box-shadow: none;
          border: none;
        }
        
        .submenu .menu-link {
          padding: 0.5rem 1rem;
        }
        
        .submenu .menu-link:hover {
          background-color: #f3f4f6;
        }
      `})]})},Ti=({width:t=120,height:s,isLink:r=!0,linkTarget:a="_self",className:n=""})=>{const u=e.jsx("img",{src:"/logo.png",alt:"O4O Platform",width:t,height:s||"auto",className:`site-logo ${n}`});return r?a==="_blank"?e.jsx("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"site-logo-link",children:u}):e.jsx(fe,{to:"/",className:"site-logo-link",children:u}):u},Ai=({level:t=1,isLink:s=!0,textColor:r,className:a=""})=>{const n="O4O Platform",i=`h${t}`,l=e.jsx(i,{className:`site-title ${a}`,style:{color:r},children:n});return s?e.jsx(fe,{to:"/",className:"site-title-link",children:l}):l},Ei=({textColor:t,className:s=""})=>e.jsx("p",{className:`site-tagline ${s}`,style:{color:t},children:"당신만의 특별한 제품을 만드는 곳"}),Pi=[{platform:"facebook",url:"https://facebook.com",icon:xa},{platform:"twitter",url:"https://twitter.com",icon:ha},{platform:"instagram",url:"https://instagram.com",icon:ga},{platform:"linkedin",url:"https://linkedin.com",icon:pa}],Li=({iconColor:t,iconColorValue:s,size:r="has-normal-icon-size",className:a=""})=>{const i={"has-small-icon-size":"h-4 w-4","has-normal-icon-size":"h-5 w-5","has-large-icon-size":"h-6 w-6","has-huge-icon-size":"h-8 w-8"}[r];return e.jsxs("div",{className:`social-links ${r} ${a}`,children:[e.jsx("ul",{className:"social-links-list",children:Pi.map(({platform:l,url:u,icon:o})=>e.jsx("li",{className:"social-links-item",children:e.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":l,style:{color:s||t},children:e.jsx(o,{className:i})})},l))}),e.jsx("style",{children:`
        .social-links-list {
          display: flex;
          gap: 1rem;
          list-style: none;
          padding: 0;
          margin: 0;
        }
        
        .social-link {
          display: flex;
          align-items: center;
          justify-content: center;
          transition: transform 0.2s, opacity 0.2s;
        }
        
        .social-link:hover {
          transform: translateY(-2px);
          opacity: 0.8;
        }
      `})]})},Ii=({label:t="Search",showLabel:s=!0,placeholder:r="Search...",buttonPosition:a="button-inside",className:n=""})=>{const[i,l]=f.useState(""),u=ae(),o=c=>{c.preventDefault(),i.trim()&&u(`/search?q=${encodeURIComponent(i.trim())}`)};return e.jsxs("form",{onSubmit:o,className:`search-block ${n}`,role:"search",children:[s&&e.jsx("label",{htmlFor:"search-input",className:"search-label",children:t}),e.jsxs("div",{className:`search-wrapper search-${a}`,children:[e.jsx("input",{id:"search-input",type:"search",value:i,onChange:c=>l(c.target.value),placeholder:r,className:"search-input","aria-label":s?void 0:t}),a!=="no-button"&&e.jsx("button",{type:"submit",className:"search-button","aria-label":"Search",children:e.jsx(cr,{className:"h-4 w-4"})})]}),e.jsx("style",{children:`
        .search-block {
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }
        
        .search-label {
          font-size: 0.875rem;
          font-weight: 500;
        }
        
        .search-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }
        
        .search-input {
          padding: 0.5rem 1rem;
          border: 1px solid #e5e7eb;
          border-radius: 0.375rem;
          font-size: 0.875rem;
          width: 100%;
          transition: border-color 0.2s;
        }
        
        .search-input:focus {
          outline: none;
          border-color: #3b82f6;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .search-button-inside .search-input {
          padding-right: 2.5rem;
        }
        
        .search-button-inside .search-button {
          position: absolute;
          right: 0.25rem;
          padding: 0.5rem;
          background: transparent;
          border: none;
          color: #6b7280;
          cursor: pointer;
          transition: color 0.2s;
        }
        
        .search-button-inside .search-button:hover {
          color: #3b82f6;
        }
        
        .search-button-outside {
          gap: 0.5rem;
        }
        
        .search-button-outside .search-button {
          padding: 0.5rem 1rem;
          background: #3b82f6;
          color: white;
          border: none;
          border-radius: 0.375rem;
          cursor: pointer;
          transition: background-color 0.2s;
          display: flex;
          align-items: center;
          gap: 0.25rem;
        }
        
        .search-button-outside .search-button:hover {
          background: #2563eb;
        }
      `})]})},_i=({children:t,layout:s="default",flexDirection:r="row",justifyContent:a,alignItems:n,gap:i,padding:l,margin:u,marginTop:o,paddingTop:c,borderTop:b,backgroundColor:y,textColor:x,className:N=""})=>{const S={default:"",flex:"flex",grid:"grid"},d={flexDirection:s==="flex"?r:void 0,justifyContent:a,alignItems:n,gap:i,paddingTop:l?.top||c,paddingBottom:l?.bottom,paddingLeft:l?.left,paddingRight:l?.right,margin:u,marginTop:o,borderTop:b,backgroundColor:y,color:x};return e.jsx("div",{className:`${S[s]} ${N}`,style:d,children:t})},Mi=({children:t,columns:s=2,gap:r="2rem",className:a=""})=>e.jsx("div",{className:`columns-block ${a}`,style:{display:"grid",gridTemplateColumns:`repeat(${s}, 1fr)`,gap:r},children:t}),Di=({children:t,width:s,className:r=""})=>e.jsx("div",{className:`column-block ${r}`,style:{width:s,flex:s?void 0:1},children:t}),Oi={"core/site-logo":Ti,"core/site-title":Ai,"core/site-tagline":Ei,"core/navigation":Ci,"core/search":Ii,"core/social-links":Li,"core/paragraph":({data:t})=>e.jsx("p",{className:t.className,style:{color:t.textColor,textAlign:t.align},dangerouslySetInnerHTML:{__html:t.content||""}}),"core/heading":({data:t})=>{const s=`h${t.level||2}`;return e.jsx(s,{className:t.className,style:{color:t.textColor},dangerouslySetInnerHTML:{__html:t.content||""}})},"o4o/group":_i,"o4o/columns":Mi,"o4o/column":Di},we=({area:t,context:s,fallback:r})=>{const{templateParts:a,loading:n,error:i}=wi({area:t,context:s}),l=o=>{const c=Oi[o.type];if(!c)return null;const b={...o.data,...o.attributes,key:o.id,id:o.id};return o.innerBlocks&&o.innerBlocks.length>0?e.jsx(c,{...b,children:o.innerBlocks.map(y=>l(y))}):e.jsx(c,{...b,data:o.data})},u=o=>{const{settings:c={},content:b}=o,y={backgroundColor:c.backgroundColor,color:c.textColor,paddingTop:c.padding?.top,paddingBottom:c.padding?.bottom,paddingLeft:c.padding?.left,paddingRight:c.padding?.right},N={full:"w-full",wide:"max-w-7xl mx-auto",narrow:"max-w-4xl mx-auto"}[c.containerWidth||"wide"];return e.jsxs("div",{className:`template-part template-part-${t}`,style:y,children:[c.customCss&&e.jsx("style",{dangerouslySetInnerHTML:{__html:c.customCss}}),e.jsx("div",{className:N,children:b.map(S=>l(S))})]},o.id)};return n?t==="header"?e.jsx("div",{className:"h-16 bg-gray-100 animate-pulse"}):t==="footer"?e.jsx("div",{className:"h-64 bg-gray-100 animate-pulse"}):e.jsx("div",{className:"h-32 bg-gray-100 animate-pulse"}):i||a.length===0?r?e.jsx(e.Fragment,{children:r}):t==="header"?e.jsx(ki,{}):t==="footer"?e.jsx(Si,{}):null:e.jsx(e.Fragment,{children:a.map(o=>u(o))})};function _r(t){const s=t.name.replace("core/",""),r={id:t.clientId,type:s,data:{}};switch(t.name){case"core/paragraph":return{...r,type:"paragraph",data:{text:Ue(t),alignment:t.attributes.align||"left",dropCap:t.attributes.dropCap||!1,fontSize:t.attributes.fontSize,textColor:t.attributes.textColor,backgroundColor:t.attributes.backgroundColor,customTextColor:t.attributes.style?.color?.text,customBackgroundColor:t.attributes.style?.color?.background}};case"core/heading":return{...r,type:"heading",data:{text:Ue(t),level:t.attributes.level||2,alignment:t.attributes.align||"left",textColor:t.attributes.textColor,customTextColor:t.attributes.style?.color?.text}};case"core/list":return{...r,type:"list",data:{items:Ri(t),ordered:t.attributes.ordered||!1,reversed:t.attributes.reversed||!1,start:t.attributes.start}};case"core/quote":return{...r,type:"quote",data:{text:Ue(t),citation:t.attributes.citation,align:t.attributes.align||"left"}};case"core/image":return{...r,type:"image",data:{url:t.attributes.url,alt:t.attributes.alt||"",caption:t.attributes.caption,width:t.attributes.width,height:t.attributes.height,align:t.attributes.align,linkDestination:t.attributes.linkDestination,href:t.attributes.href,sizeSlug:t.attributes.sizeSlug||"large"}};case"core/gallery":return{...r,type:"gallery",data:{images:t.attributes.images||[],columns:t.attributes.columns||3,imageCrop:t.attributes.imageCrop!==!1,linkTo:t.attributes.linkTo||"none",sizeSlug:t.attributes.sizeSlug||"large",align:t.attributes.align}};case"core/video":return{...r,type:"video",data:{src:t.attributes.src,poster:t.attributes.poster,autoplay:t.attributes.autoplay||!1,controls:t.attributes.controls!==!1,loop:t.attributes.loop||!1,muted:t.attributes.muted||!1,playsInline:t.attributes.playsInline||!1}};case"core/audio":return{...r,type:"audio",data:{src:t.attributes.src,autoplay:t.attributes.autoplay||!1,loop:t.attributes.loop||!1,preload:t.attributes.preload||"metadata"}};case"core/group":return{...r,type:"group",data:{tagName:t.attributes.tagName||"div",backgroundColor:t.attributes.backgroundColor,textColor:t.attributes.textColor,gradient:t.attributes.gradient,customBackgroundColor:t.attributes.style?.color?.background,customTextColor:t.attributes.style?.color?.text,align:t.attributes.align,layout:t.attributes.layout},innerBlocks:gt(t.innerBlocks)};case"core/columns":return{...r,type:"columns",data:{verticalAlignment:t.attributes.verticalAlignment,isStackedOnMobile:t.attributes.isStackedOnMobile!==!1},innerBlocks:gt(t.innerBlocks)};case"core/column":return{...r,type:"column",data:{width:t.attributes.width,verticalAlignment:t.attributes.verticalAlignment},innerBlocks:gt(t.innerBlocks)};case"core/cover":return{...r,type:"cover",data:{url:t.attributes.url,dimRatio:t.attributes.dimRatio||50,overlayColor:t.attributes.overlayColor,customOverlayColor:t.attributes.customOverlayColor,backgroundType:t.attributes.backgroundType||"image",focalPoint:t.attributes.focalPoint,minHeight:t.attributes.minHeight,minHeightUnit:t.attributes.minHeightUnit,contentPosition:t.attributes.contentPosition,isDark:t.attributes.isDark!==!1},innerBlocks:gt(t.innerBlocks)};case"core/separator":return{...r,type:"separator",data:{className:t.attributes.className,opacity:t.attributes.opacity||"alpha-channel"}};case"core/block":return{...r,type:"reusable-block",data:{ref:t.attributes.ref}};case"core/embed":return{...r,type:"embed",data:{url:t.attributes.url,type:t.attributes.type,providerNameSlug:t.attributes.providerNameSlug,responsive:t.attributes.responsive!==!1,caption:t.attributes.caption}};case"core/button":return{...r,type:"button",data:{text:Ue(t),url:t.attributes.url,linkTarget:t.attributes.linkTarget,rel:t.attributes.rel,backgroundColor:t.attributes.backgroundColor,textColor:t.attributes.textColor,gradient:t.attributes.gradient,borderRadius:t.attributes.borderRadius,width:t.attributes.width}};case"core/buttons":return{...r,type:"buttons",data:{layout:t.attributes.layout},innerBlocks:gt(t.innerBlocks)};case"core/table":return{...r,type:"table",data:{hasFixedLayout:t.attributes.hasFixedLayout||!1,caption:t.attributes.caption,head:t.attributes.head||[],body:t.attributes.body||[],foot:t.attributes.foot||[]}};case"core/code":return{...r,type:"code",data:{content:t.attributes.content||Ue(t)}};case"core/html":return{...r,type:"html",data:{content:t.attributes.content||Ue(t)}};case"core/spacer":return{...r,type:"spacer",data:{height:t.attributes.height||100}};case"core/more":return{...r,type:"more",data:{customText:t.attributes.customText,noTeaser:t.attributes.noTeaser||!1}};default:return{...r,type:"unknown",data:{originalType:t.name,attributes:t.attributes,content:Ue(t)}}}}function gt(t){return!t||t.length===0?[]:t.map(s=>_r(s)).filter(s=>s!==null)}function Ue(t){if(t.attributes.content)return t.attributes.content;if(t.innerHTML){const s=document.createElement("div");return s.innerHTML=t.innerHTML,s.textContent||""}return t.innerContent&&t.innerContent.length>0?t.innerContent.filter(s=>typeof s=="string").join(""):""}function Ri(t){if(t.attributes.values)return t.attributes.values;if(t.innerHTML){const s=document.createElement("div");s.innerHTML=t.innerHTML;const r=s.querySelectorAll("li");return Array.from(r).map(a=>a.textContent||"")}return[]}function ps(t){return t.map(s=>_r(s)).filter(s=>s!==null)}const $i={"pale-pink":"#f78da7","vivid-red":"#cf2e2e","luminous-vivid-orange":"#ff6900","luminous-vivid-amber":"#fcb900","light-green-cyan":"#7bdcb5","vivid-green-cyan":"#00d084","pale-cyan-blue":"#8ed1fc","vivid-cyan-blue":"#0693e3","cyan-bluish-gray":"#abb8c3","very-light-gray":"#f0f0f1","very-dark-gray":"#313131"};function $e(t,s){return s?`has-${s}-${t}`:""}function Fe(t,s){if(!s)return{};const r=$i[s];return r?{[t]:r}:{[t]:s}}function Mr(t){return t?`has-${t}-gradient-background`:""}const Fi={small:"has-small-font-size",normal:"has-normal-font-size",medium:"has-medium-font-size",large:"has-large-font-size","x-large":"has-x-large-font-size",huge:"has-huge-font-size"};function Bi(t){return t&&Fi[t]||""}const zi=({block:t})=>{const{data:s}=t;if(!s?.text)return null;const r=["wp-block-paragraph",s.alignment&&`has-text-align-${s.alignment}`,s.dropCap&&"has-drop-cap",s.fontSize&&Bi(s.fontSize),s.textColor&&$e("color",s.textColor),s.backgroundColor&&$e("background-color",s.backgroundColor)].filter(Boolean).join(" "),a={...Fe("color",s.customTextColor),...Fe("backgroundColor",s.customBackgroundColor)};return e.jsx("p",{className:r,style:a,dangerouslySetInnerHTML:{__html:s.text}})},Ui=({block:t})=>{const{data:s}=t;if(!s?.text)return null;const r=`h${s.level||2}`,a=["wp-block-heading",s.alignment&&`has-text-align-${s.alignment}`,s.textColor&&$e("color",s.textColor)].filter(Boolean).join(" "),n={...Fe("color",s.customTextColor)};return e.jsx(r,{className:a,style:n,dangerouslySetInnerHTML:{__html:s.text}})},Hi=({block:t})=>{const{data:s}=t;if(!s?.items||s.items.length===0)return null;const r=s.ordered?"ol":"ul",a={className:"wp-block-list"};return s.ordered&&s.reversed&&(a.reversed=!0),s.ordered&&s.start&&s.start!==1&&(a.start=s.start),e.jsx(r,{...a,children:s.items.map((n,i)=>e.jsx("li",{dangerouslySetInnerHTML:{__html:n}},i))})},Wi=({block:t})=>{const{data:s}=t;if(!s?.text)return null;const r=["wp-block-quote",s.align&&`has-text-align-${s.align}`].filter(Boolean).join(" ");return e.jsxs("blockquote",{className:r,children:[e.jsx("p",{dangerouslySetInnerHTML:{__html:s.text}}),s.citation&&e.jsx("cite",{dangerouslySetInnerHTML:{__html:s.citation}})]})},Gi=({block:t})=>{const{data:s}=t;if(!s?.url)return null;const r=["wp-block-image",s.align&&`align${s.align}`,s.sizeSlug&&`size-${s.sizeSlug}`].filter(Boolean).join(" "),a=e.jsx("img",{src:s.url,alt:s.alt||"",width:s.width,height:s.height,className:s.align?"":"w-full h-auto",loading:"lazy"}),n=e.jsxs(e.Fragment,{children:[s.href?e.jsx("a",{href:s.href,target:s.linkDestination==="custom"?"_blank":void 0,rel:s.linkDestination==="custom"?"noopener noreferrer":void 0,children:a}):a,s.caption&&e.jsx("figcaption",{className:"wp-element-caption",dangerouslySetInnerHTML:{__html:s.caption}})]});return e.jsx("figure",{className:r,children:n})},qi=({block:t})=>{const{data:s}=t;if(!s?.images||s.images.length===0)return null;const r=s.columns||3,a=s.imageCrop!==!1,n=["wp-block-gallery",`columns-${r}`,a&&"is-cropped",s.align&&`align${s.align}`].filter(Boolean).join(" "),i=(l,u)=>{const o=e.jsx("img",{src:l.url,alt:l.alt||"",className:`w-full ${a?"h-full object-cover":"h-auto"}`,loading:"lazy"});let c=o;return s.linkTo==="media"&&l.fullUrl?c=e.jsx("a",{href:l.fullUrl,target:"_blank",rel:"noopener noreferrer",children:o}):s.linkTo==="attachment"&&l.link&&(c=e.jsx("a",{href:l.link,children:o})),e.jsx("li",{className:"blocks-gallery-item",children:e.jsxs("figure",{className:a?"aspect-square":"",children:[c,l.caption&&e.jsx("figcaption",{className:"blocks-gallery-item__caption",dangerouslySetInnerHTML:{__html:l.caption}})]})},l.id||u)};return e.jsx("figure",{className:n,children:e.jsx("ul",{className:"blocks-gallery-grid grid gap-4",style:{gridTemplateColumns:`repeat(${r}, 1fr)`},children:s.images.map((l,u)=>i(l,u))})})},Vi=({block:t})=>{const{data:s}=t;if(!s?.src)return null;const r=["wp-block-video",s.align&&`align${s.align}`].filter(Boolean).join(" ");return e.jsxs("figure",{className:r,children:[e.jsx("video",{src:s.src,poster:s.poster,autoPlay:s.autoplay,controls:s.controls,loop:s.loop,muted:s.muted||s.autoplay,playsInline:s.playsInline,className:"w-full h-auto",children:"Your browser does not support the video tag."}),s.caption&&e.jsx("figcaption",{className:"wp-element-caption",dangerouslySetInnerHTML:{__html:s.caption}})]})},Qi=({block:t})=>{const{data:s}=t;if(!s?.src)return null;const r=["wp-block-audio",s.align&&`align${s.align}`].filter(Boolean).join(" ");return e.jsxs("figure",{className:r,children:[e.jsx("audio",{src:s.src,autoPlay:s.autoplay,controls:!0,loop:s.loop,preload:s.preload,className:"w-full",children:"Your browser does not support the audio tag."}),s.caption&&e.jsx("figcaption",{className:"wp-element-caption",dangerouslySetInnerHTML:{__html:s.caption}})]})},Zi=({block:t})=>{const{data:s,innerBlocks:r=[]}=t,a=s?.tagName||"div",n=["wp-block-group",s?.align&&`align${s.align}`,s?.backgroundColor&&$e("background-color",s.backgroundColor),s?.textColor&&$e("color",s.textColor),s?.gradient&&Mr(s.gradient),s?.layout?.type==="flex"&&"is-layout-flex",s?.layout?.type==="constrained"&&"is-layout-constrained"].filter(Boolean).join(" "),i={...Fe("backgroundColor",s?.customBackgroundColor),...Fe("color",s?.customTextColor)};return s?.layout?.type==="flex"&&(i.display="flex",i.flexDirection=s.layout.orientation==="vertical"?"column":"row",i.flexWrap=s.layout.flexWrap||"wrap",i.alignItems=s.layout.verticalAlignment||"center",i.justifyContent=s.layout.justifyContent||"flex-start"),e.jsx(a,{className:n,style:i,children:e.jsx("div",{className:"wp-block-group__inner-container",children:r.map((l,u)=>e.jsx(Ve,{block:l},l.id||u))})})},Yi=({block:t})=>{const{data:s,innerBlocks:r=[]}=t,a=["wp-block-columns",s?.verticalAlignment&&`are-vertically-aligned-${s.verticalAlignment}`,s?.isStackedOnMobile===!1&&"is-not-stacked-on-mobile"].filter(Boolean).join(" ");return e.jsx("div",{className:a,children:e.jsx("div",{className:"wp-block-columns-is-layout-flex",children:r.map((n,i)=>e.jsx(Ve,{block:n},n.id||i))})})},Ki=({block:t})=>{const{data:s,innerBlocks:r=[]}=t,a=["wp-block-column",s?.verticalAlignment&&`is-vertically-aligned-${s.verticalAlignment}`].filter(Boolean).join(" "),n={};return s?.width&&(n.flexBasis=s.width),e.jsx("div",{className:a,style:n,children:r.map((i,l)=>e.jsx(Ve,{block:i},i.id||l))})},Xi=({block:t})=>{const{data:s,innerBlocks:r=[]}=t,a=["wp-block-cover",s?.isDark&&"is-dark",s?.align&&`align${s.align}`,s?.overlayColor&&$e("background-color",s.overlayColor),s?.contentPosition&&`has-custom-content-position is-position-${s.contentPosition.replace(" ","-")}`].filter(Boolean).join(" "),n={minHeight:s?.minHeight?`${s.minHeight}${s.minHeightUnit||"px"}`:void 0},i={opacity:s?.dimRatio!==void 0?s.dimRatio/100:.5,...Fe("backgroundColor",s?.customOverlayColor||s?.overlayColor)};return s?.url&&s?.backgroundType==="image"&&(n.backgroundImage=`url(${s.url})`,n.backgroundPosition=s?.focalPoint?`${s.focalPoint.x*100}% ${s.focalPoint.y*100}%`:"center center",n.backgroundSize="cover"),e.jsxs("div",{className:a,style:n,children:[e.jsx("span",{"aria-hidden":"true",className:"wp-block-cover__background",style:i}),s?.url&&s?.backgroundType==="video"&&e.jsx("video",{className:"wp-block-cover__video-background",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,src:s.url,style:{objectPosition:s?.focalPoint?`${s.focalPoint.x*100}% ${s.focalPoint.y*100}%`:"center center"}}),e.jsx("div",{className:"wp-block-cover__inner-container",children:r.map((l,u)=>e.jsx(Ve,{block:l},l.id||u))})]})},Ji=({block:t})=>{const{data:s}=t,r=["wp-block-separator",s?.className,s?.opacity==="css"&&"has-css-opacity",s?.opacity==="alpha-channel"&&"has-alpha-channel-opacity"].filter(Boolean).join(" ");return e.jsx("hr",{className:r})},el=({block:t})=>{const{data:s}=t;if(!s?.text)return null;const r=["wp-block-button__link","wp-element-button",s.backgroundColor&&$e("background-color",s.backgroundColor),s.textColor&&$e("color",s.textColor),s.gradient&&Mr(s.gradient),s.width&&`has-custom-width wp-block-button__width-${s.width}`].filter(Boolean).join(" "),a={...Fe("backgroundColor",s.customBackgroundColor),...Fe("color",s.customTextColor),borderRadius:s.borderRadius!==void 0?`${s.borderRadius}px`:void 0},n=["wp-block-button",s.width&&"has-custom-width"].filter(Boolean).join(" ");return e.jsx("div",{className:n,children:e.jsx("a",{className:r,href:s.url||"#",target:s.linkTarget,rel:s.rel,style:a,children:s.text})})},tl=({block:t})=>{const{data:s,innerBlocks:r=[]}=t,a=["wp-block-buttons",s?.layout?.type==="flex"&&"is-layout-flex"].filter(Boolean).join(" "),n={};return s?.layout?.type==="flex"&&(n.justifyContent=s.layout.justifyContent||"flex-start",n.flexWrap=s.layout.orientation==="vertical"?"nowrap":"wrap",n.flexDirection=s.layout.orientation==="vertical"?"column":"row"),e.jsx("div",{className:a,style:n,children:r.map((i,l)=>e.jsx(Ve,{block:i},i.id||l))})},sl=({block:t})=>{const{data:s}=t,r=["wp-block-table",s?.hasFixedLayout&&"has-fixed-layout"].filter(Boolean).join(" "),a=(i,l=!1)=>{const u=i.tag||(l?"th":"td"),o={textAlign:i.align};return e.jsx(u,{style:o,dangerouslySetInnerHTML:{__html:i.content||""}},Math.random())},n=(i,l=!1)=>e.jsx("tr",{children:i.map(u=>a(u,l))},Math.random());return e.jsxs("figure",{className:r,children:[e.jsxs("table",{className:"wp-block-table__table",children:[s?.head&&s.head.length>0&&e.jsx("thead",{children:s.head.map(i=>n(i.cells,!0))}),s?.body&&s.body.length>0&&e.jsx("tbody",{children:s.body.map(i=>n(i.cells))}),s?.foot&&s.foot.length>0&&e.jsx("tfoot",{children:s.foot.map(i=>n(i.cells))})]}),s?.caption&&e.jsx("figcaption",{className:"wp-element-caption",dangerouslySetInnerHTML:{__html:s.caption}})]})},rl=({block:t})=>{const{data:s}=t;return s?.content?e.jsx("pre",{className:"wp-block-code",children:e.jsx("code",{children:s.content})}):null},al=({block:t})=>{const{data:s}=t;return s?.content?e.jsx("div",{className:"wp-block-html",dangerouslySetInnerHTML:{__html:s.content}}):null},nl=({block:t})=>{const{data:s}=t,r=s?.height||100;return e.jsx("div",{className:"wp-block-spacer",style:{height:`${r}px`},"aria-hidden":"true"})},il=({block:t})=>{const{data:s}=t,r=s?.customText||"Read more";return e.jsx("div",{className:"wp-block-more",children:e.jsx("span",{className:"wp-block-more__text",children:r})})},ll=({block:t})=>{const{data:s}=t,r=f.useRef(null);if(f.useEffect(()=>{s?.providerNameSlug==="twitter"&&window.twttr&&window.twttr.widgets.load(r.current)},[s?.providerNameSlug]),!s?.url)return null;const a=["wp-block-embed",s.type&&`is-type-${s.type}`,s.providerNameSlug&&`is-provider-${s.providerNameSlug}`,s.responsive&&"wp-block-embed-is-responsive",s.align&&`align${s.align}`].filter(Boolean).join(" "),n=()=>s.providerNameSlug==="youtube"||s.providerNameSlug==="vimeo"?e.jsx("div",{className:"wp-block-embed__wrapper",children:e.jsx("iframe",{src:ol(s.url,s.providerNameSlug),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full aspect-video"})}):s.providerNameSlug==="twitter"?e.jsx("div",{className:"wp-block-embed__wrapper",ref:r,children:e.jsx("blockquote",{className:"twitter-tweet",children:e.jsx("a",{href:s.url,children:"Loading tweet..."})})}):e.jsx("div",{className:"wp-block-embed__wrapper",children:e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:s.url})});return e.jsxs("figure",{className:a,children:[n(),s?.caption&&e.jsx("figcaption",{className:"wp-element-caption",dangerouslySetInnerHTML:{__html:s.caption}})]})};function ol(t,s){return s==="youtube"?`https://www.youtube.com/embed/${cl(t)}`:s==="vimeo"?`https://player.vimeo.com/video/${dl(t)}`:t}function cl(t){const s=t.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return s?s[1]:""}function dl(t){const s=t.match(/vimeo\.com\/(\d+)/);return s?s[1]:""}function ml(t){const[s,r]=f.useState(null),[a,n]=f.useState(!0),[i,l]=f.useState(null);return f.useEffect(()=>{if(!t){n(!1);return}(async()=>{try{n(!0),l(null);const o=await fetch(`/api/wp/v2/blocks/${t}`);if(!o.ok)throw new Error("Failed to fetch reusable block");const c=await o.json(),b=ps(typeof c.content=="string"?JSON.parse(c.content):c.content);r({id:c.id,title:c.title?.rendered||"",content:b})}catch(o){l(o instanceof Error?o.message:"Unknown error")}finally{n(!1)}})()},[t]),{reusableBlock:s,loading:a,error:i}}const ul=({block:t})=>{const{data:s}=t,{reusableBlock:r,loading:a,error:n}=ml(s?.ref);return s?.ref?a?e.jsx("div",{className:"wp-block-reusable loading",children:e.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded"})}):n||!r?e.jsx("div",{className:"wp-block-reusable error",children:"Failed to load reusable block"}):e.jsx("div",{className:"wp-block-reusable",children:r.content.map((i,l)=>e.jsx(Ve,{block:i},i.id||l))}):e.jsx("div",{className:"wp-block-reusable error",children:"Invalid reusable block reference"})},Ve=({block:t})=>{switch(t.type){case"paragraph":return e.jsx(zi,{block:t});case"heading":return e.jsx(Ui,{block:t});case"list":return e.jsx(Hi,{block:t});case"quote":return e.jsx(Wi,{block:t});case"image":return e.jsx(Gi,{block:t});case"gallery":return e.jsx(qi,{block:t});case"video":return e.jsx(Vi,{block:t});case"audio":return e.jsx(Qi,{block:t});case"group":return e.jsx(Zi,{block:t});case"columns":return e.jsx(Yi,{block:t});case"column":return e.jsx(Ki,{block:t});case"cover":return e.jsx(Xi,{block:t});case"separator":return e.jsx(Ji,{block:t});case"button":return e.jsx(el,{block:t});case"buttons":return e.jsx(tl,{block:t});case"table":return e.jsx(sl,{block:t});case"code":return e.jsx(rl,{block:t});case"html":return e.jsx(al,{block:t});case"spacer":return e.jsx(nl,{block:t});case"more":return e.jsx(il,{block:t});case"embed":return e.jsx(ll,{block:t});case"reusable-block":return e.jsx(ul,{block:t});case"unknown":default:return e.jsxs("div",{className:"wp-block-unknown p-4 bg-gray-100 rounded",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Unknown block type: ",t.data?.originalType||t.type]}),t.data?.content&&e.jsx("div",{className:"mt-2",children:t.data.content})]})}},xl=({blocks:t,className:s=""})=>{let r=[];if(typeof t=="string")try{const a=JSON.parse(t);r=ps(Array.isArray(a)?a:[a])}catch{return e.jsx("div",{className:"error",children:"Failed to render content"})}else Array.isArray(t)&&(r=ps(t));return r.length===0?null:e.jsx("div",{className:`wp-block-content ${s}`,children:r.map((a,n)=>e.jsx(Ve,{block:a},a.id||n))})},hl=({page:t})=>{const s={pageId:t.id,postType:"page"};return(a=>{if(Array.isArray(a))return a.length>0&&a[0].name!==void 0;if(typeof a=="string")try{const n=JSON.parse(a);return Array.isArray(n)&&n.length>0&&n[0].name!==void 0}catch{return!1}return!1})(t.content)?e.jsxs("div",{className:"page-wrapper",children:[e.jsx(we,{area:"header",context:s}),e.jsx("main",{className:"page-content",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:e.jsx(xl,{blocks:t.content})})}),e.jsx(we,{area:"footer",context:s})]}):typeof t.content=="object"&&t.content.blocks&&Array.isArray(t.content.blocks)?e.jsxs("div",{className:"page-wrapper",children:[e.jsx(we,{area:"header",context:s}),e.jsx("main",{className:"page-content",children:e.jsx(Bt,{blocks:t.content.blocks})}),e.jsx(we,{area:"footer",context:s})]}):t.content&&typeof t.content=="string"?e.jsxs("div",{className:"page-wrapper",children:[e.jsx(we,{area:"header",context:s}),e.jsx("main",{className:"page-content",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:e.jsxs("article",{className:"prose prose-lg max-w-none",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:t.title}),t.featuredImage&&e.jsx("img",{src:t.featuredImage,alt:t.title,className:"w-full h-auto rounded-lg mb-8"}),e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}})]})})}),e.jsx(we,{area:"footer",context:s})]}):t.content&&typeof t.content=="object"&&t.content.type==="doc"?e.jsxs("div",{className:"page-wrapper",children:[e.jsx(we,{area:"header",context:s}),e.jsx("main",{className:"page-content",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:e.jsxs("article",{className:"prose prose-lg max-w-none",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:t.title}),e.jsx("div",{className:"tiptap-content",children:e.jsx("p",{className:"text-gray-500",children:"Content rendering not yet implemented for this format."})})]})})}),e.jsx(we,{area:"footer",context:s})]}):e.jsxs("div",{className:"page-wrapper",children:[e.jsx(we,{area:"header",context:s}),e.jsx("main",{className:"page-content",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:e.jsxs("article",{className:"prose prose-lg max-w-none",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:t.title}),e.jsx("p",{className:"text-gray-500",children:"No content available."})]})})}),e.jsx(we,{area:"footer",context:s})]})},gl=Ee.create({baseURL:"https://api.neture.co.kr/api/v1"}),pl=async(t,s)=>{const{data:r}=await gl.get("/posts",{params:{page:t,limit:s,status:"published",orderBy:"createdAt",order:"DESC"}});return{posts:r.data||[],total:r.total||0}},fl=({postsPerPage:t=10})=>{const[s,r]=f.useState(1),{data:a,isLoading:n,error:i}=Re({queryKey:["posts",s,t],queryFn:()=>pl(s,t)});if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:e.jsx("div",{className:"animate-pulse space-y-8",children:[...Array(3)].map((c,b)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]},b))})})});if(i)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"글을 불러올 수 없습니다"}),e.jsx("p",{className:"text-gray-600",children:"잠시 후 다시 시도해주세요."})]})});const{posts:l=[],total:u=0}=a||{},o=Math.ceil(u/t);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[e.jsxs("header",{className:"mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"블로그"}),e.jsx("p",{className:"text-xl text-gray-600",children:"최신 소식과 유용한 정보를 확인하세요"})]}),l.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"아직 작성된 글이 없습니다."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-8",children:l.map(c=>e.jsx("article",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:e.jsx(fe,{to:`/blog/${c.slug}`,className:"block p-6",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[c.featuredImage&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:c.featuredImage,alt:c.title,className:"w-48 h-32 object-cover rounded-lg"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-2",children:[c.category&&e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:c.category.name}),e.jsx("time",{children:ka(new Date(c.createdAt),{addSuffix:!0,locale:Sa})}),c.author&&e.jsxs("span",{children:["by ",c.author.name]})]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2 hover:text-blue-600 transition-colors",children:c.title}),c.excerpt&&e.jsx("p",{className:"text-gray-600 line-clamp-2",children:c.excerpt})]})]})})},c.id))}),o>1&&e.jsx("nav",{className:"mt-12 flex justify-center",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>r(c=>Math.max(1,c-1)),disabled:s===1,className:"px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"이전"}),[...Array(o)].map((c,b)=>{const y=b+1;return y===1||y===o||y>=s-2&&y<=s+2?e.jsx("button",{onClick:()=>r(y),className:`px-4 py-2 border rounded-md ${s===y?"bg-blue-600 text-white border-blue-600":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}`,children:y},y):y===s-3||y===s+3?e.jsx("span",{className:"px-2",children:"..."},y):null}),e.jsx("button",{onClick:()=>r(c=>Math.min(o,c+1)),disabled:s===o,className:"px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"다음"})]})})]})]})})},Dr=Ee.create({baseURL:"https://api.neture.co.kr/api/v1"}),bl=async()=>{const{data:t}=await Dr.get("/settings/homepage");return t.data},jl=async t=>{const{data:s}=await Dr.get(`/pages/${t}`);return s.data},yl=()=>{const[t,s]=f.useState(null),{data:r,isLoading:a,error:n}=Re({queryKey:["homepage-settings"],queryFn:bl,staleTime:5*60*1e3}),{data:i,isLoading:l}=Re({queryKey:["homepage-page",r?.pageId],queryFn:()=>jl(r.pageId),enabled:!!r?.pageId&&r.type==="static_page"});if(f.useEffect(()=>{i&&s(i)},[i]),a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(n)return e.jsx(or,{});if(r?.type==="latest_posts")return e.jsx(fl,{postsPerPage:r.postsPerPage});if(r?.type==="static_page"&&r.pageId){if(l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(t)return e.jsx(hl,{page:t})}return e.jsx(or,{})},Or=({status:t,size:s="md"})=>{const r=l=>{switch(l){case"online":case"active":case"passing":return{color:"bg-green-100 text-green-800 border-green-200",dot:"bg-green-500",text:l==="online"?"온라인":l==="active"?"활성":"통과"};case"offline":case"failing":return{color:"bg-red-100 text-red-800 border-red-200",dot:"bg-red-500",text:l==="offline"?"오프라인":"실패"};case"warning":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",dot:"bg-yellow-500",text:"경고"};case"development":return{color:"bg-blue-100 text-blue-800 border-blue-200",dot:"bg-blue-500",text:"개발중"};case"maintenance":return{color:"bg-orange-100 text-orange-800 border-orange-200",dot:"bg-orange-500",text:"점검중"};case"not-tested":return{color:"bg-gray-100 text-gray-800 border-gray-200",dot:"bg-gray-500",text:"미테스트"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",dot:"bg-gray-500",text:"알수없음"}}},a=l=>{switch(l){case"sm":return{badge:"px-2 py-1 text-xs",dot:"w-1.5 h-1.5"};case"lg":return{badge:"px-3 py-2 text-sm",dot:"w-3 h-3"};default:return{badge:"px-2.5 py-1.5 text-xs",dot:"w-2 h-2"}}},n=r(t),i=a(s);return e.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full border font-medium ${n.color} ${i.badge}`,children:[e.jsx("span",{className:`rounded-full ${n.dot} ${i.dot}`}),n.text]})},Nl=({service:t,onRefresh:s})=>{const r=()=>{t.url&&window.open(t.url,"_blank")},a=n=>{n.stopPropagation(),s&&s(t.name)};return e.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:t.displayName}),e.jsx("p",{className:"text-gray-400 text-sm font-mono",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Or,{status:t.status,size:"sm"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white p-1 rounded",title:"새로고침",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"응답 시간:"}),e.jsx("span",{className:"text-white font-mono",children:t.responseTime?`${t.responseTime}ms`:"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"마지막 확인:"}),e.jsx("span",{className:"text-white",children:t.lastChecked})]}),t.description&&e.jsx("div",{className:"pt-2 border-t border-gray-700",children:e.jsx("p",{className:"text-gray-300 text-xs",children:t.description})})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{onClick:r,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm font-medium transition-colors",disabled:!t.url,children:"방문하기"}),t.url&&t.url.includes("localhost")&&e.jsxs("span",{className:"flex items-center text-xs text-yellow-400 px-2",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"로컬"]})]})]})},vl=({service:t,onClick:s})=>{const r=()=>{s?s(t):t.newTab?window.open(t.url,"_blank"):window.location.href=t.url},a=n=>{switch(n){case"home":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});case"heart":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})});case"settings":return e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]});case"package":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})});case"shopping-cart":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17M17 13v4a2 2 0 01-2 2H9a2 2 0 01-2-2v-4m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})});case"trending-up":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});case"monitor":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})});case"message-circle":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})});default:return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}};return e.jsxs("div",{onClick:r,className:"bg-gray-800 border border-gray-700 rounded-lg p-6 hover:border-gray-600 hover:bg-gray-750 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${t.color}20`,color:t.color},children:a(t.icon)}),e.jsx(Or,{status:t.status,size:"sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-white font-semibold text-lg group-hover:text-blue-400 transition-colors",children:t.displayName}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:t.description}),e.jsx("p",{className:"text-gray-500 text-xs font-mono",children:t.url})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-700",children:[e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:t.id}),e.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[t.newTab&&e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),e.jsx("span",{children:"바로가기"})]})]})]})},wl=({tool:t,onClick:s})=>{const r=()=>{s?s(t):window.location.href=t.url},a=l=>{switch(l){case"api":return"bg-blue-600";case"database":return"bg-green-600";case"auth":return"bg-yellow-600";case"performance":return"bg-red-600";default:return"bg-gray-600"}},n=l=>{switch(l){case"api":return"API";case"database":return"DB";case"auth":return"인증";case"performance":return"성능";default:return"기타"}},i=l=>{switch(l){case"code":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})});case"database":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})});case"shield":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})});case"activity":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})});case"file-text":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"play-circle":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M9 10V9a2 2 0 012-2h2a2 2 0 012 2v1M9 10v5a2 2 0 002 2h2a2 2 0 002-2v-5"})});default:return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}};return e.jsxs("div",{onClick:r,className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-gray-600 hover:bg-gray-750 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-blue-400",children:i(t.icon)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium group-hover:text-blue-400 transition-colors",children:t.name}),t.shortcut&&e.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:t.shortcut})]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium text-white ${a(t.category)}`,children:n(t.category)})]}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:t.url}),e.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),e.jsx("span",{children:"실행"})]})]})]})},kl=[{name:"main-site",displayName:"메인 사이트",status:"online",url:"https://neture.co.kr",lastChecked:"2025-07-01 15:30",responseTime:245,description:"정상 운영 중"},{name:"admin-dashboard",displayName:"관리자 대시보드",status:"online",url:"https://neture.co.kr/admin",lastChecked:"2025-07-01 15:29",responseTime:312},{name:"api-server",displayName:"API 서버",status:"warning",url:"https://api.neture.co.kr",lastChecked:"2025-07-01 15:28",responseTime:1205,description:"응답 속도 느림"},{name:"auth-service",displayName:"인증 서비스",status:"offline",url:"https://auth.neture.co.kr",lastChecked:"2025-07-01 15:25",description:"서비스 점검 중"},{name:"common-core",displayName:"공통 코어",status:"online",url:"https://neture.co.kr/common",lastChecked:"2025-07-01 15:30",responseTime:180,description:"정상 운영 중"}],Sl=[{id:"main-site",name:"main-site",displayName:"메인 사이트",description:"헬스케어 플랫폼 메인 페이지 및 사용자 인터페이스",url:"/",icon:"home",color:"#2563eb",status:"active",newTab:!1},{id:"healthcare",name:"healthcare",displayName:"헬스케어 플랫폼",description:"건강 관련 서비스 및 콘텐츠 제공",url:"/healthcare",icon:"heart",color:"#10b981",status:"active",newTab:!1},{id:"admin-dashboard",name:"admin-dashboard",displayName:"관리자 대시보드",description:"사용자 관리, 콘텐츠 관리, 시스템 설정",url:"/admin",icon:"settings",color:"#dc2626",status:"active",newTab:!0},{id:"dropshipping",name:"dropshipping",displayName:"드랍쉬핑",description:"상품 관리, 주문 처리, 파트너 관리",url:"/dropshipping",icon:"package",color:"#f59e0b",status:"active",newTab:!1},{id:"ecommerce",name:"ecommerce",displayName:"이커머스",description:"제품 관리, 주문 처리, 결제 시스템",url:"/ecommerce",icon:"shopping-cart",color:"#16a34a",status:"development",newTab:!1},{id:"crowdfunding",name:"crowdfunding",displayName:"크라우드펀딩",description:"프로젝트 등록, 펀딩 관리, 후원자 관리",url:"/crowdfunding",icon:"trending-up",color:"#ca8a04",status:"development",newTab:!1},{id:"signage",name:"signage",displayName:"디지털 사이니지",description:"광고 콘텐츠 관리, 디스플레이 제어",url:"/signage",icon:"monitor",color:"#7c3aed",status:"development",newTab:!1},{id:"forum",name:"forum",displayName:"포럼",description:"커뮤니티 게시판, 사용자 소통 공간",url:"/forum",icon:"message-circle",color:"#0891b2",status:"development",newTab:!1}],Cl=[{id:"api-tester",name:"API 테스터",description:"REST API 엔드포인트 테스트 및 디버깅",url:"/dev/api-tester",icon:"code",category:"api",shortcut:"Ctrl+Shift+A"},{id:"db-viewer",name:"데이터베이스 뷰어",description:"데이터베이스 스키마 및 데이터 조회",url:"/dev/database",icon:"database",category:"database"},{id:"auth-test",name:"인증 테스트",description:"로그인, 권한, 토큰 관리 테스트",url:"/dev/auth-test",icon:"shield",category:"auth"},{id:"performance",name:"성능 모니터",description:"응답 시간, 메모리 사용량, 트래픽 모니터링",url:"/dev/performance",icon:"activity",category:"performance"},{id:"logs",name:"로그 뷰어",description:"시스템 로그, 에러 로그 실시간 조회",url:"/dev/logs",icon:"file-text",category:"other"},{id:"build-status",name:"빌드 상태",description:"CI/CD 파이프라인 및 빌드 현황",url:"/dev/build-status",icon:"play-circle",category:"other"}],Tl=[{id:"auth",name:"인증 시스템",description:"로그인, 회원가입, 권한 관리 테스트",tests:[{id:"login-flow",name:"로그인 플로우 테스트",description:"일반/소셜/관리자 로그인 시나리오",url:"/test/auth/login",status:"passing",lastRun:"30분 전",duration:12},{id:"signup-flow",name:"회원가입 플로우 테스트",description:"이메일 인증, 프로필 설정 포함",url:"/test/auth/signup",status:"failing",lastRun:"1시간 전",duration:25},{id:"permission-test",name:"권한 관리 테스트",description:"역할별 접근 권한 확인",url:"/test/auth/permissions",status:"warning",lastRun:"45분 전",duration:8}]},{id:"healthcare",name:"헬스케어 플랫폼",description:"헬스케어 관련 기능 테스트",tests:[{id:"main-page",name:"메인 페이지 테스트",description:"헬스케어 메인 페이지 로딩 및 표시",url:"/test/healthcare/main",status:"passing",lastRun:"15분 전",duration:5},{id:"content-blocks",name:"콘텐츠 블록 테스트",description:"각종 콘텐츠 블록 렌더링",url:"/test/healthcare/blocks",status:"not-tested"}]},{id:"ecommerce",name:"이커머스",description:"제품, 주문, 결제 기능 테스트",tests:[{id:"product-crud",name:"제품 CRUD 테스트",description:"제품 등록, 수정, 삭제, 조회",url:"/test/ecommerce/products",status:"warning",lastRun:"2시간 전",duration:18},{id:"order-process",name:"주문 프로세스 테스트",description:"장바구니부터 결제 완료까지",url:"/test/ecommerce/orders",status:"not-tested"}]}],Al=[{id:"1",type:"feature",title:"테스트 대시보드 추가",description:"개발자용 테스트 접근 페이지 구현 완료",author:"Claude",timestamp:"방금 전",service:"main-site",url:"/test-dashboard"},{id:"2",type:"commit",title:"종합 플랫폼 가이드 문서 추가",description:"패키지 버전, 서비스 구조, 코딩 실수 패턴 정리",author:"Claude",timestamp:"30분 전",service:"docs",url:"https://github.com/Renagang21/o4o-platform/commit/130bec16"},{id:"3",type:"deployment",title:"헬스케어 플랫폼 배포",description:"메인 페이지 및 콘텐츠 블록 시스템 배포",author:"System",timestamp:"2시간 전",service:"healthcare"},{id:"4",type:"issue",title:"Import 경로 오류 해결",description:"@shared/components 경로 문제 수정",author:"Claude",timestamp:"3시간 전",service:"shared"},{id:"5",type:"commit",title:"공유 컴포넌트 인프라 구축",description:"UI 컴포넌트 및 훅 시스템 개선",author:"Claude",timestamp:"4시간 전",service:"shared",url:"https://github.com/Renagang21/o4o-platform/commit/9c6b305d"}],El=[{id:"github-main",name:"GitHub 메인 저장소",url:"https://github.com/Renagang21/o4o-platform",icon:"github",category:"development",description:"o4o-platform 메인 저장소"},{id:"github-docs",name:"문서",url:"https://github.com/Renagang21/o4o-platform/tree/main/docs",icon:"book",category:"documentation",description:"프로젝트 문서"},{id:"github-common-core",name:"Common Core",url:"https://github.com/Renagang21/common-core",icon:"layers",category:"development",description:"공통 코어 모듈"},{id:"neture-prod",name:"운영 사이트",url:"https://neture.co.kr",icon:"external-link",category:"external",description:"실제 운영 중인 사이트"},{id:"claude-guide",name:"개발 가이드",url:"/docs/technical/o4o-platform-comprehensive-guide.md",icon:"file-text",category:"documentation",description:"Claude Code 개발 가이드"}],Pl=()=>{const[t,s]=f.useState(new Date),[r,a]=f.useState(kl);f.useEffect(()=>{const o=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(o)},[]);const n=o=>{a(c=>c.map(b=>b.name===o?{...b,lastChecked:new Date().toLocaleString("ko-KR"),responseTime:Math.floor(Math.random()*1e3)+100}:b))},i=()=>{const o=new Date().toLocaleString("ko-KR");a(c=>c.map(b=>({...b,lastChecked:o,responseTime:Math.floor(Math.random()*1e3)+100})))},l=o=>{o.newTab?window.open(o.url,"_blank"):window.location.href=o.url},u=o=>{o.url.startsWith("/")&&(window.location.href=o.url)};return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("header",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"o4o-platform 테스트 대시보드"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"개발자/관리자용 서비스 테스트 및 모니터링"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"현재 시간"}),e.jsx("p",{className:"text-lg font-mono text-white",children:t.toLocaleString("ko-KR")})]})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"시스템 상태"}),e.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg font-medium transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"전체 새로고침"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(o=>e.jsx(Nl,{service:o,onRefresh:n},o.name))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"주요 서비스"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Sl.map(o=>e.jsx(vl,{service:o,onClick:l},o.id))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"개발/테스트 도구"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Cl.map(o=>e.jsx(wl,{tool:o,onClick:u},o.id))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"기능별 테스트"}),e.jsx("div",{className:"space-y-6",children:Tl.map(o=>e.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:o.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:o.description})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.tests.map(c=>e.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"text-white font-medium",children:c.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.status==="passing"?"bg-green-600 text-white":c.status==="failing"?"bg-red-600 text-white":c.status==="warning"?"bg-yellow-600 text-white":"bg-gray-600 text-white"}`,children:c.status==="passing"?"통과":c.status==="failing"?"실패":c.status==="warning"?"경고":"미테스트"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:c.description}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsx("span",{children:c.lastRun||"실행 안됨"}),c.duration&&e.jsxs("span",{children:[c.duration,"초"]})]}),e.jsx("button",{onClick:()=>window.location.href=c.url,className:"w-full mt-3 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm font-medium transition-colors",children:"테스트 실행"})]},c.id))})]},o.id))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"최근 업데이트"}),e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:e.jsx("div",{className:"space-y-4",children:Al.map(o=>e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-700 rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${o.type==="feature"?"bg-green-500":o.type==="deployment"?"bg-blue-500":o.type==="commit"?"bg-purple-500":"bg-yellow-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:"text-white font-medium",children:o.title}),e.jsx("span",{className:"text-xs text-gray-400",children:o.timestamp})]}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:o.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["작성자: ",o.author]}),e.jsxs("span",{children:["서비스: ",o.service]}),o.url&&e.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"링크 →"})]})]})]},o.id))})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"빠른 링크"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:El.map(o=>e.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-gray-600 hover:bg-gray-750 transition-all group",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-blue-400 mb-2",children:o.icon==="github"?e.jsx("svg",{className:"w-8 h-8 mx-auto",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}):e.jsx("svg",{className:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),e.jsx("h3",{className:"text-white font-medium text-sm group-hover:text-blue-400 transition-colors",children:o.name}),o.description&&e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:o.description})]})},o.id))})]})]})]})};f.createContext(void 0);if(typeof document<"u"&&!document.getElementById("auth-spinner-styles")){const t=document.createElement("style");t.id="auth-spinner-styles",t.textContent=`
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)}const Ll=f.createContext(void 0),Il=()=>{const t=f.useContext(Ll);if(t===void 0)throw new Error("useCookieAuth must be used within a CookieAuthProvider");return t};function _l(){const{user:t,isAuthenticated:s,logout:r,logoutAll:a}=Il(),[n,i]=f.useState([]),[l,u]=f.useState({local:!1,google:!1,kakao:!1,naver:!1}),[o,c]=f.useState(!1),[b,y]=f.useState(""),x=async()=>{if(s)try{const g=await(await fetch("/api/v1/auth/sessions",{credentials:"include"})).json();g.success&&i(g.sessions)}catch(d){console.error("Failed to fetch sessions:",d)}},N=async()=>{if(s)try{const g=await(await fetch("/api/v1/auth/linked-accounts",{credentials:"include"})).json();g.success&&u(g.accounts)}catch(d){console.error("Failed to fetch linked accounts:",d)}},S=async d=>{try{c(!0),(await(await fetch(`/api/v1/auth/sessions/${d}`,{method:"DELETE",credentials:"include"})).json()).success&&(y(`Session ${d.substring(0,8)}... removed`),await x())}catch(g){console.error("Failed to remove session:",g)}finally{c(!1)}};return f.useEffect(()=>{const d=g=>{if(g.key==="auth-sync"){const j=JSON.parse(g.newValue||"{}");y(`Cross-tab event: ${j.event}`),j.event&&x()}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[]),f.useEffect(()=>{s&&(x(),N())},[s]),f.useEffect(()=>{if(!s)return;const d=setInterval(()=>{x()},3e4);return()=>clearInterval(d)},[s]),s?e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsxs(G,{children:[e.jsx(ie,{children:e.jsx(le,{children:"Current User"})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",t?.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",e.jsx(tt,{children:t?.role})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",e.jsx(tt,{variant:t?.status==="ACTIVE"?"default":"secondary",children:t?.status})]}),b&&e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Last Event:"})," ",b]})]})})]}),e.jsxs(G,{children:[e.jsx(ie,{children:e.jsx(le,{children:"Linked Accounts"})}),e.jsx(q,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:`p-4 rounded ${l.local?"bg-green-100":"bg-gray-100"}`,children:[e.jsx("span",{className:"text-2xl",children:"📧"}),e.jsx("p",{className:"mt-2 font-medium",children:"Email"}),e.jsx(tt,{variant:l.local?"default":"outline",children:l.local?"Connected":"Not Connected"})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:`p-4 rounded ${l.google?"bg-green-100":"bg-gray-100"}`,children:[e.jsx("span",{className:"text-2xl",children:"🔍"}),e.jsx("p",{className:"mt-2 font-medium",children:"Google"}),e.jsx(tt,{variant:l.google?"default":"outline",children:l.google?"Connected":"Not Connected"})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:`p-4 rounded ${l.kakao?"bg-green-100":"bg-gray-100"}`,children:[e.jsx("span",{className:"text-2xl",children:"💬"}),e.jsx("p",{className:"mt-2 font-medium",children:"Kakao"}),e.jsx(tt,{variant:l.kakao?"default":"outline",children:l.kakao?"Connected":"Not Connected"})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:`p-4 rounded ${l.naver?"bg-green-100":"bg-gray-100"}`,children:[e.jsx("span",{className:"text-2xl",children:"🟢"}),e.jsx("p",{className:"mt-2 font-medium",children:"Naver"}),e.jsx(tt,{variant:l.naver?"default":"outline",children:l.naver?"Connected":"Not Connected"})]})})]})})]}),e.jsxs(G,{children:[e.jsxs(ie,{children:[e.jsxs(le,{children:["Active Sessions (",n.length,")"]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(B,{onClick:x,size:"sm",disabled:o,children:"Refresh"}),e.jsx(B,{onClick:a,variant:"destructive",size:"sm",disabled:o,children:"Logout All Devices"})]})]}),e.jsx(q,{children:n.length===0?e.jsx("p",{className:"text-gray-600",children:"No active sessions found."}):e.jsx("div",{className:"space-y-4",children:n.map((d,g)=>e.jsx("div",{className:"border rounded p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-medium",children:["Session ",g+1]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Login: ",new Date(d.loginAt).toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Expires: ",new Date(d.expiresAt).toLocaleString()]})]}),d.sessionId&&e.jsx(B,{onClick:()=>S(d.sessionId),variant:"outline",size:"sm",disabled:o,children:"Remove"})]})},g))})})]}),e.jsxs(G,{children:[e.jsx(ie,{children:e.jsx(le,{children:"Test Session Sync"})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Open this page in multiple tabs or browsers to test session synchronization. Actions in one tab should be reflected in others within 30 seconds."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{onClick:r,variant:"outline",children:"Logout (This Device)"}),e.jsx(B,{onClick:()=>{window.open("/test/session-sync","_blank")},variant:"outline",children:"Open New Tab"})]})]})})]})]}):e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs(G,{children:[e.jsx(ie,{children:e.jsx(le,{children:"Session Sync Test"})}),e.jsx(q,{children:e.jsx("p",{className:"text-gray-600",children:"Please log in to test session synchronization."})})]})})}const Ml=()=>{const t=[{id:"block-1",type:"heading",content:{text:"Spectra Blocks Integration Demo",level:1}},{id:"block-2",type:"paragraph",content:{text:"This page demonstrates the integration of Spectra blocks from the admin dashboard to the frontend. All blocks below are rendered using the same components that would display content created in the Gutenberg editor."}},{id:"block-3",type:"spacer",content:{height:40}},{id:"block-4",type:"uagb/call-to-action",content:{title:"Transform Your Business Today",description:"Experience the power of our platform with a 30-day free trial. No credit card required.",buttonText:"Start Free Trial",buttonUrl:"/signup",backgroundColor:"#3b82f6",textColor:"white",buttonColor:"white",alignment:"center"}},{id:"block-5",type:"spacer",content:{height:60}},{id:"block-6",type:"heading",content:{text:"Choose Your Perfect Plan",level:2}},{id:"block-7",type:"uagb/pricing-table",content:{plans:[{name:"Starter",price:"₩9,900",period:"월",features:["기본 기능 모두 포함","5GB 저장공간","이메일 지원","기본 분석 도구"],highlighted:!1},{name:"Professional",price:"₩29,900",period:"월",features:["모든 Starter 기능 포함","50GB 저장공간","우선 지원","고급 분석 도구","커스텀 도메인"],highlighted:!0},{name:"Enterprise",price:"₩99,900",period:"월",features:["모든 Professional 기능 포함","무제한 저장공간","24/7 전담 지원","API 액세스","맞춤형 솔루션"],highlighted:!1}]}},{id:"block-8",type:"spacer",content:{height:60}},{id:"block-9",type:"heading",content:{text:"What Our Customers Say",level:2}},{id:"block-10",type:"uagb/testimonial",content:{quote:"O4O Platform has revolutionized how we manage our online and offline business. The integration is seamless and the results have exceeded our expectations.",author:"김미영",position:"CEO",company:"네이처 코리아",rating:5}},{id:"block-11",type:"spacer",content:{height:40}},{id:"block-12",type:"columns",content:{columns:[{blocks:[{id:"info-1",type:"uagb/info-box",content:{icon:"mail",title:"Email Support",description:"Get help via email within 24 hours",iconColor:"#3b82f6",iconBackground:"#dbeafe",alignment:"center"}}]},{blocks:[{id:"info-2",type:"uagb/info-box",content:{icon:"phone",title:"Phone Support",description:"Call us Monday to Friday, 9 AM - 6 PM",iconColor:"#10b981",iconBackground:"#d1fae5",alignment:"center"}}]},{blocks:[{id:"info-3",type:"uagb/info-box",content:{icon:"messageSquare",title:"Live Chat",description:"Chat with our team in real-time",iconColor:"#8b5cf6",iconBackground:"#ede9fe",alignment:"center"}}]}]}},{id:"block-13",type:"spacer",content:{height:40}},{id:"block-14",type:"paragraph",content:{text:"This demo shows how Spectra blocks created in the admin dashboard are rendered on the frontend. The integration supports all block settings including colors, alignment, and content."}}];return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(Bt,{blocks:t,className:"max-w-6xl mx-auto"})})})};function _e({children:t,allowedUserTypes:s}){const{isAuthenticated:r,user:a}=X(),n=fa();if(!r||!a)return e.jsx(We,{to:"/auth/login",state:{from:n},replace:!0});if(s&&!s.includes(a.userType))switch(a.userType){case"admin":return e.jsx(We,{to:"/admin/dashboard",replace:!0});case"supplier":return e.jsx(We,{to:"/supplier/dashboard",replace:!0});case"retailer":return e.jsx(We,{to:"/retailer/dashboard",replace:!0});case"customer":return e.jsx(We,{to:"/shop",replace:!0});default:return e.jsx(We,{to:"/",replace:!0})}return e.jsx(e.Fragment,{children:t})}class Dl extends f.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"max-w-md mx-auto text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"페이지 로딩 오류"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"이 페이지를 불러오는 중 오류가 발생했습니다."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"페이지 새로고침"})]})})}):this.props.children}}const He=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Feature Temporarily Disabled"}),e.jsx("p",{className:"text-gray-600",children:"This feature is temporarily disabled during production build conversion."})]})}),Ol=()=>{const{checkAuth:t}=X();return f.useEffect(()=>{Ia(),t()},[]),e.jsx(Dl,{children:e.jsx(Ea,{children:e.jsx(ba,{children:e.jsxs(ja,{children:[e.jsx(R,{path:"/",element:e.jsx(yl,{})}),e.jsx(R,{path:"/login",element:e.jsx(_a,{})}),e.jsx(R,{path:"/auth/callback",element:e.jsx(Oa,{})}),e.jsx(R,{path:"/auth/callback/:provider",element:e.jsx(Ra,{})}),e.jsx(R,{path:"/auth/verify-email/pending",element:e.jsx($a,{})}),e.jsx(R,{path:"/auth/verify-email/success",element:e.jsx(Fa,{})}),e.jsx(R,{path:"/auth/verify-email/error",element:e.jsx(Ba,{})}),e.jsx(R,{path:"/auth/forgot-password",element:e.jsx(za,{})}),e.jsx(R,{path:"/auth/reset-password",element:e.jsx(Ua,{})}),e.jsx(R,{path:"/admin",element:e.jsx(_e,{allowedRoles:["admin"],children:e.jsx(Ka,{})})}),e.jsx(R,{path:"/supplier",element:e.jsx(_e,{allowedRoles:["supplier"],children:e.jsx(Xa,{})})}),e.jsx(R,{path:"/supplier/products",element:e.jsx(_e,{allowedRoles:["supplier"],children:e.jsx(Ja,{})})}),e.jsx(R,{path:"/supplier/products/new",element:e.jsx(_e,{allowedRoles:["supplier"],children:e.jsx(en,{})})}),e.jsx(R,{path:"/supplier/products/:id",element:e.jsx(_e,{allowedRoles:["supplier"],children:e.jsx(tn,{})})}),e.jsx(R,{path:"/retailer",element:e.jsx(_e,{allowedRoles:["retailer"],children:e.jsx(sn,{})})}),e.jsx(R,{path:"/shop",element:e.jsx(rn,{})}),e.jsx(R,{path:"/signage",element:e.jsx(_e,{allowedUserTypes:["admin","manager"],children:e.jsx(Zs,{})})}),e.jsx(R,{path:"/signage/*",element:e.jsx(_e,{allowedUserTypes:["admin","manager"],children:e.jsx(Zs,{})})}),e.jsx(R,{path:"/test-dashboard",element:e.jsx(Pl,{})}),e.jsx(R,{path:"/test/session-sync",element:e.jsx(_l,{})}),e.jsx(R,{path:"/spectra-blocks-demo",element:e.jsx(Ml,{})}),e.jsx(R,{path:"/editor",element:e.jsx(He,{})}),e.jsx(R,{path:"/editor-demo",element:e.jsx(He,{})}),e.jsx(R,{path:"/thedang-editor",element:e.jsx(He,{})}),e.jsx(R,{path:"/fullscreen-editor",element:e.jsx(He,{})}),e.jsx(R,{path:"/admin-test",element:e.jsx(He,{})}),e.jsx(R,{path:"/dropshipping",element:e.jsx(He,{})}),e.jsx(R,{path:"/healthcare",element:e.jsx(He,{})}),e.jsx(R,{path:"*",element:e.jsx(We,{to:"/",replace:!0})})]})})})})},Rl=new va({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});ya.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(wa,{client:Rl,children:e.jsx(Ol,{})})}));export{hs as f};
