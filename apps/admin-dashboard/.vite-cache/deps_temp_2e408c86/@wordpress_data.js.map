{
  "version": 3,
  "sources": ["../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/validateNamespace.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/validateHookName.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createAddHook.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createRemoveHook.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createHasHook.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createRunHook.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createCurrentHook.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createDoingHook.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createDidHook.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createHooks.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/index.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/deprecated/build-module/@wordpress/deprecated/src/index.js", "../../../../node_modules/@wordpress/data/node_modules/@babel/runtime/helpers/esm/typeof.js", "../../../../node_modules/@wordpress/data/node_modules/@babel/runtime/helpers/esm/toPrimitive.js", "../../../../node_modules/@wordpress/data/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js", "../../../../node_modules/@wordpress/data/node_modules/@babel/runtime/helpers/esm/defineProperty.js", "../../../../node_modules/@wordpress/data/node_modules/@babel/runtime/helpers/esm/objectSpread2.js", "../../../../node_modules/@wordpress/data/node_modules/redux/es/redux.js", "../../../../node_modules/@wordpress/data/build-module/redux-store/@wordpress/data/src/redux-store/index.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/redux-routine/build-module/@wordpress/redux-routine/src/is-generator.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/redux-routine/build-module/@wordpress/redux-routine/src/runtime.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/redux-routine/build-module/@wordpress/redux-routine/src/is-action.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/redux-routine/build-module/@wordpress/redux-routine/src/index.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/@wordpress/compose/src/utils/create-higher-order-component/index.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/higher-order/@wordpress/compose/src/higher-order/pipe.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/higher-order/@wordpress/compose/src/higher-order/compose.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/is-shallow-equal/build-module/@wordpress/is-shallow-equal/src/objects.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/is-shallow-equal/build-module/@wordpress/is-shallow-equal/src/arrays.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/is-shallow-equal/build-module/@wordpress/is-shallow-equal/src/index.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/element/build-module/@wordpress/element/src/react.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/element/build-module/@wordpress/element/src/react-platform.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/element/build-module/@wordpress/element/src/serialize.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/higher-order/pure/@wordpress/compose/src/higher-order/pure/index.tsx", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/higher-order/with-global-events/@wordpress/compose/src/higher-order/with-global-events/listener.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/higher-order/with-global-events/@wordpress/compose/src/higher-order/with-global-events/index.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/hooks/use-instance-id/@wordpress/compose/src/hooks/use-instance-id/index.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/higher-order/with-instance-id/@wordpress/compose/src/higher-order/with-instance-id/index.tsx", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/higher-order/with-safe-timeout/@wordpress/compose/src/higher-order/with-safe-timeout/index.tsx", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/dom/build-module/@wordpress/dom/src/phrasing-content.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/hooks/use-copy-on-click/@wordpress/compose/src/hooks/use-copy-on-click/index.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/hooks/use-copy-to-clipboard/@wordpress/compose/src/hooks/use-copy-to-clipboard/index.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/i18n/build-module/@wordpress/i18n/src/sprintf.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/i18n/build-module/@wordpress/i18n/src/create-i18n.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/validateNamespace.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/validateHookName.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createAddHook.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createRemoveHook.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createHasHook.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createRunHook.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createCurrentHook.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createDoingHook.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createDidHook.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/createHooks.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/hooks/build-module/@wordpress/hooks/src/index.js", "../../../../node_modules/@wordpress/keycodes/node_modules/@wordpress/i18n/build-module/@wordpress/i18n/src/default-i18n.js", "../../../../node_modules/@wordpress/keycodes/build-module/@wordpress/keycodes/src/platform.ts", "../../../../node_modules/@wordpress/keycodes/build-module/@wordpress/keycodes/src/index.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/hooks/use-isomorphic-layout-effect/@wordpress/compose/src/hooks/use-isomorphic-layout-effect/index.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/hooks/use-keyboard-shortcut/@wordpress/compose/src/hooks/use-keyboard-shortcut/index.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/hooks/use-media-query/@wordpress/compose/src/hooks/use-media-query/index.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/compose/build-module/hooks/use-viewport-match/@wordpress/compose/src/hooks/use-viewport-match/index.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/priority-queue/build-module/@wordpress/priority-queue/src/request-idle-callback.ts", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/priority-queue/build-module/@wordpress/priority-queue/src/index.ts", "../../../../node_modules/@wordpress/data/build-module/redux-store/@wordpress/data/src/redux-store/combine-reducers.js", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/factory.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/controls.js", "../../../../node_modules/@wordpress/data/node_modules/@wordpress/private-apis/build-module/@wordpress/private-apis/src/implementation.js", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/lock-unlock.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/promise-middleware.js", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/resolvers-cache-middleware.js", "../../../../node_modules/@wordpress/data/build-module/redux-store/@wordpress/data/src/redux-store/thunk-middleware.js", "../../../../node_modules/@wordpress/data/build-module/redux-store/metadata/@wordpress/data/src/redux-store/metadata/reducer.ts", "../../../../node_modules/@wordpress/data/build-module/redux-store/metadata/@wordpress/data/src/redux-store/metadata/utils.ts", "../../../../node_modules/@wordpress/data/build-module/redux-store/metadata/@wordpress/data/src/redux-store/metadata/selectors.js", "../../../../node_modules/@wordpress/data/build-module/redux-store/metadata/@wordpress/data/src/redux-store/metadata/actions.js", "../../../../node_modules/@wordpress/data/build-module/store/@wordpress/data/src/store/index.js", "../../../../node_modules/@wordpress/data/build-module/utils/@wordpress/data/src/utils/emitter.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/registry.js", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/default-registry.js", "../../../../node_modules/@wordpress/data/build-module/plugins/@wordpress/data/src/plugins/index.js", "../../../../node_modules/@wordpress/data/build-module/plugins/persistence/@wordpress/data/src/plugins/persistence/index.js", "../../../../node_modules/@wordpress/data/build-module/plugins/persistence/storage/@wordpress/data/src/plugins/persistence/storage/object.js", "../../../../node_modules/@wordpress/data/build-module/plugins/persistence/storage/@wordpress/data/src/plugins/persistence/storage/default.js", "../../../../node_modules/@wordpress/data/build-module/components/registry-provider/@wordpress/data/src/components/registry-provider/context.js", "../../../../node_modules/@wordpress/data/build-module/components/registry-provider/@wordpress/data/src/components/registry-provider/use-registry.js", "../../../../node_modules/@wordpress/data/build-module/components/async-mode-provider/@wordpress/data/src/components/async-mode-provider/context.js", "../../../../node_modules/@wordpress/data/build-module/components/async-mode-provider/@wordpress/data/src/components/async-mode-provider/use-async-mode.js", "../../../../node_modules/@wordpress/data/build-module/components/use-select/@wordpress/data/src/components/use-select/index.js", "../../../../node_modules/@wordpress/data/build-module/components/with-select/@wordpress/data/src/components/with-select/index.js", "../../../../node_modules/@wordpress/data/build-module/components/use-dispatch/@wordpress/data/src/components/use-dispatch/use-dispatch.js", "../../../../node_modules/@wordpress/data/build-module/components/use-dispatch/@wordpress/data/src/components/use-dispatch/use-dispatch-with-map.js", "../../../../node_modules/@wordpress/data/build-module/components/with-dispatch/@wordpress/data/src/components/with-dispatch/index.js", "../../../../node_modules/@wordpress/data/build-module/components/with-registry/@wordpress/data/src/components/with-registry/index.js", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/dispatch.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/select.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/index.js"],
  "sourcesContent": ["/**\n * Validate a namespace string.\n *\n * @param {string} namespace The namespace to validate - should take the form\n *                           `vendor/plugin/function`.\n *\n * @return {boolean} Whether the namespace is valid.\n */\nfunction validateNamespace( namespace ) {\n\tif ( 'string' !== typeof namespace || '' === namespace ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'The namespace must be a non-empty string.' );\n\t\treturn false;\n\t}\n\n\tif ( ! /^[a-zA-Z][a-zA-Z0-9_.\\-\\/]*$/.test( namespace ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\n\t\t\t'The namespace can only contain numbers, letters, dashes, periods, underscores and slashes.'\n\t\t);\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport default validateNamespace;\n", "/**\n * Validate a hookName string.\n *\n * @param {string} hookName The hook name to validate. Should be a non empty string containing\n *                          only numbers, letters, dashes, periods and underscores. Also,\n *                          the hook name cannot begin with `__`.\n *\n * @return {boolean} Whether the hook name is valid.\n */\nfunction validateHookName( hookName ) {\n\tif ( 'string' !== typeof hookName || '' === hookName ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'The hook name must be a non-empty string.' );\n\t\treturn false;\n\t}\n\n\tif ( /^__/.test( hookName ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'The hook name cannot begin with `__`.' );\n\t\treturn false;\n\t}\n\n\tif ( ! /^[a-zA-Z][a-zA-Z0-9_.-]*$/.test( hookName ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\n\t\t\t'The hook name can only contain numbers, letters, dashes, periods and underscores.'\n\t\t);\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport default validateHookName;\n", "/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\n\n/**\n * @callback AddHook\n *\n * Adds the hook to the appropriate hooks container.\n *\n * @param {string}               hookName      Name of hook to add\n * @param {string}               namespace     The unique namespace identifying the callback in the form `vendor/plugin/function`.\n * @param {import('.').Callback} callback      Function to call when the hook is run\n * @param {number}               [priority=10] Priority of this hook\n */\n\n/**\n * Returns a function which, when invoked, will add a hook.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {AddHook} Function that adds a new hook.\n */\nfunction createAddHook( hooks, storeKey ) {\n\treturn function addHook( hookName, namespace, callback, priority = 10 ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\tif ( ! validateHookName( hookName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! validateNamespace( namespace ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( 'function' !== typeof callback ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error( 'The hook callback must be a function.' );\n\t\t\treturn;\n\t\t}\n\n\t\t// Validate numeric priority\n\t\tif ( 'number' !== typeof priority ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\n\t\t\t\t'If specified, the hook priority must be a number.'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst handler = { callback, priority, namespace };\n\n\t\tif ( hooksStore[ hookName ] ) {\n\t\t\t// Find the correct insert index of the new hook.\n\t\t\tconst handlers = hooksStore[ hookName ].handlers;\n\n\t\t\t/** @type {number} */\n\t\t\tlet i;\n\t\t\tfor ( i = handlers.length; i > 0; i-- ) {\n\t\t\t\tif ( priority >= handlers[ i - 1 ].priority ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( i === handlers.length ) {\n\t\t\t\t// If append, operate via direct assignment.\n\t\t\t\thandlers[ i ] = handler;\n\t\t\t} else {\n\t\t\t\t// Otherwise, insert before index via splice.\n\t\t\t\thandlers.splice( i, 0, handler );\n\t\t\t}\n\n\t\t\t// We may also be currently executing this hook.  If the callback\n\t\t\t// we're adding would come after the current callback, there's no\n\t\t\t// problem; otherwise we need to increase the execution index of\n\t\t\t// any other runs by 1 to account for the added element.\n\t\t\thooksStore.__current.forEach( ( hookInfo ) => {\n\t\t\t\tif (\n\t\t\t\t\thookInfo.name === hookName &&\n\t\t\t\t\thookInfo.currentIndex >= i\n\t\t\t\t) {\n\t\t\t\t\thookInfo.currentIndex++;\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\t// This is the first hook of its type.\n\t\t\thooksStore[ hookName ] = {\n\t\t\t\thandlers: [ handler ],\n\t\t\t\truns: 0,\n\t\t\t};\n\t\t}\n\n\t\tif ( hookName !== 'hookAdded' ) {\n\t\t\thooks.doAction(\n\t\t\t\t'hookAdded',\n\t\t\t\thookName,\n\t\t\t\tnamespace,\n\t\t\t\tcallback,\n\t\t\t\tpriority\n\t\t\t);\n\t\t}\n\t};\n}\n\nexport default createAddHook;\n", "/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\n\n/**\n * @callback RemoveHook\n * Removes the specified callback (or all callbacks) from the hook with a given hookName\n * and namespace.\n *\n * @param {string} hookName  The name of the hook to modify.\n * @param {string} namespace The unique namespace identifying the callback in the\n *                           form `vendor/plugin/function`.\n *\n * @return {number | undefined} The number of callbacks removed.\n */\n\n/**\n * Returns a function which, when invoked, will remove a specified hook or all\n * hooks by the given name.\n *\n * @param {import('.').Hooks}    hooks             Hooks instance.\n * @param {import('.').StoreKey} storeKey\n * @param {boolean}              [removeAll=false] Whether to remove all callbacks for a hookName,\n *                                                 without regard to namespace. Used to create\n *                                                 `removeAll*` functions.\n *\n * @return {RemoveHook} Function that removes hooks.\n */\nfunction createRemoveHook( hooks, storeKey, removeAll = false ) {\n\treturn function removeHook( hookName, namespace ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\tif ( ! validateHookName( hookName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! removeAll && ! validateNamespace( namespace ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Bail if no hooks exist by this name.\n\t\tif ( ! hooksStore[ hookName ] ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlet handlersRemoved = 0;\n\n\t\tif ( removeAll ) {\n\t\t\thandlersRemoved = hooksStore[ hookName ].handlers.length;\n\t\t\thooksStore[ hookName ] = {\n\t\t\t\truns: hooksStore[ hookName ].runs,\n\t\t\t\thandlers: [],\n\t\t\t};\n\t\t} else {\n\t\t\t// Try to find the specified callback to remove.\n\t\t\tconst handlers = hooksStore[ hookName ].handlers;\n\t\t\tfor ( let i = handlers.length - 1; i >= 0; i-- ) {\n\t\t\t\tif ( handlers[ i ].namespace === namespace ) {\n\t\t\t\t\thandlers.splice( i, 1 );\n\t\t\t\t\thandlersRemoved++;\n\t\t\t\t\t// This callback may also be part of a hook that is\n\t\t\t\t\t// currently executing.  If the callback we're removing\n\t\t\t\t\t// comes after the current callback, there's no problem;\n\t\t\t\t\t// otherwise we need to decrease the execution index of any\n\t\t\t\t\t// other runs by 1 to account for the removed element.\n\t\t\t\t\thooksStore.__current.forEach( ( hookInfo ) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thookInfo.name === hookName &&\n\t\t\t\t\t\t\thookInfo.currentIndex >= i\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\thookInfo.currentIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( hookName !== 'hookRemoved' ) {\n\t\t\thooks.doAction( 'hookRemoved', hookName, namespace );\n\t\t}\n\n\t\treturn handlersRemoved;\n\t};\n}\n\nexport default createRemoveHook;\n", "/**\n * @callback HasHook\n *\n * Returns whether any handlers are attached for the given hookName and optional namespace.\n *\n * @param {string} hookName    The name of the hook to check for.\n * @param {string} [namespace] Optional. The unique namespace identifying the callback\n *                             in the form `vendor/plugin/function`.\n *\n * @return {boolean} Whether there are handlers that are attached to the given hook.\n */\n/**\n * Returns a function which, when invoked, will return whether any handlers are\n * attached to a particular hook.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {HasHook} Function that returns whether any handlers are\n *                   attached to a particular hook and optional namespace.\n */\nfunction createHasHook( hooks, storeKey ) {\n\treturn function hasHook( hookName, namespace ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\t// Use the namespace if provided.\n\t\tif ( 'undefined' !== typeof namespace ) {\n\t\t\treturn (\n\t\t\t\thookName in hooksStore &&\n\t\t\t\thooksStore[ hookName ].handlers.some(\n\t\t\t\t\t( hook ) => hook.namespace === namespace\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn hookName in hooksStore;\n\t};\n}\n\nexport default createHasHook;\n", "/**\n * Returns a function which, when invoked, will execute all callbacks\n * registered to a hook of the specified type, optionally returning the final\n * value of the call chain.\n *\n * @param {import('.').Hooks}    hooks                  Hooks instance.\n * @param {import('.').StoreKey} storeKey\n * @param {boolean}              [returnFirstArg=false] Whether each hook callback is expected to\n *                                                      return its first argument.\n *\n * @return {(hookName:string, ...args: unknown[]) => undefined|unknown} Function that runs hook callbacks.\n */\nfunction createRunHook( hooks, storeKey, returnFirstArg = false ) {\n\treturn function runHooks( hookName, ...args ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\tif ( ! hooksStore[ hookName ] ) {\n\t\t\thooksStore[ hookName ] = {\n\t\t\t\thandlers: [],\n\t\t\t\truns: 0,\n\t\t\t};\n\t\t}\n\n\t\thooksStore[ hookName ].runs++;\n\n\t\tconst handlers = hooksStore[ hookName ].handlers;\n\n\t\t// The following code is stripped from production builds.\n\t\tif ( 'production' !== process.env.NODE_ENV ) {\n\t\t\t// Handle any 'all' hooks registered.\n\t\t\tif ( 'hookAdded' !== hookName && hooksStore.all ) {\n\t\t\t\thandlers.push( ...hooksStore.all.handlers );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! handlers || ! handlers.length ) {\n\t\t\treturn returnFirstArg ? args[ 0 ] : undefined;\n\t\t}\n\n\t\tconst hookInfo = {\n\t\t\tname: hookName,\n\t\t\tcurrentIndex: 0,\n\t\t};\n\n\t\thooksStore.__current.push( hookInfo );\n\n\t\twhile ( hookInfo.currentIndex < handlers.length ) {\n\t\t\tconst handler = handlers[ hookInfo.currentIndex ];\n\n\t\t\tconst result = handler.callback.apply( null, args );\n\t\t\tif ( returnFirstArg ) {\n\t\t\t\targs[ 0 ] = result;\n\t\t\t}\n\n\t\t\thookInfo.currentIndex++;\n\t\t}\n\n\t\thooksStore.__current.pop();\n\n\t\tif ( returnFirstArg ) {\n\t\t\treturn args[ 0 ];\n\t\t}\n\n\t\treturn undefined;\n\t};\n}\n\nexport default createRunHook;\n", "/**\n * Returns a function which, when invoked, will return the name of the\n * currently running hook, or `null` if no hook of the given type is currently\n * running.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {() => string | null} Function that returns the current hook name or null.\n */\nfunction createCurrentHook( hooks, storeKey ) {\n\treturn function currentHook() {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\treturn (\n\t\t\thooksStore.__current[ hooksStore.__current.length - 1 ]?.name ??\n\t\t\tnull\n\t\t);\n\t};\n}\n\nexport default createCurrentHook;\n", "/**\n * @callback DoingHook\n * Returns whether a hook is currently being executed.\n *\n * @param {string} [hookName] The name of the hook to check for.  If\n *                            omitted, will check for any hook being executed.\n *\n * @return {boolean} Whether the hook is being executed.\n */\n\n/**\n * Returns a function which, when invoked, will return whether a hook is\n * currently being executed.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {DoingHook} Function that returns whether a hook is currently\n *                     being executed.\n */\nfunction createDoingHook( hooks, storeKey ) {\n\treturn function doingHook( hookName ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\t// If the hookName was not passed, check for any current hook.\n\t\tif ( 'undefined' === typeof hookName ) {\n\t\t\treturn 'undefined' !== typeof hooksStore.__current[ 0 ];\n\t\t}\n\n\t\t// Return the __current hook.\n\t\treturn hooksStore.__current[ 0 ]\n\t\t\t? hookName === hooksStore.__current[ 0 ].name\n\t\t\t: false;\n\t};\n}\n\nexport default createDoingHook;\n", "/**\n * Internal dependencies\n */\nimport validateHookName from './validateHookName.js';\n\n/**\n * @callback DidHook\n *\n * Returns the number of times an action has been fired.\n *\n * @param {string} hookName The hook name to check.\n *\n * @return {number | undefined} The number of times the hook has run.\n */\n\n/**\n * Returns a function which, when invoked, will return the number of times a\n * hook has been called.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {DidHook} Function that returns a hook's call count.\n */\nfunction createDidHook( hooks, storeKey ) {\n\treturn function didHook( hookName ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\tif ( ! validateHookName( hookName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn hooksStore[ hookName ] && hooksStore[ hookName ].runs\n\t\t\t? hooksStore[ hookName ].runs\n\t\t\t: 0;\n\t};\n}\n\nexport default createDidHook;\n", "/**\n * Internal dependencies\n */\nimport createAddHook from './createAddHook';\nimport createRemoveHook from './createRemoveHook';\nimport createHasHook from './createHasHook';\nimport createRunHook from './createRunHook';\nimport createCurrentHook from './createCurrentHook';\nimport createDoingHook from './createDoingHook';\nimport createDidHook from './createDidHook';\n\n/**\n * Internal class for constructing hooks. Use `createHooks()` function\n *\n * Note, it is necessary to expose this class to make its type public.\n *\n * @private\n */\nexport class _Hooks {\n\tconstructor() {\n\t\t/** @type {import('.').Store} actions */\n\t\tthis.actions = Object.create( null );\n\t\tthis.actions.__current = [];\n\n\t\t/** @type {import('.').Store} filters */\n\t\tthis.filters = Object.create( null );\n\t\tthis.filters.__current = [];\n\n\t\tthis.addAction = createAddHook( this, 'actions' );\n\t\tthis.addFilter = createAddHook( this, 'filters' );\n\t\tthis.removeAction = createRemoveHook( this, 'actions' );\n\t\tthis.removeFilter = createRemoveHook( this, 'filters' );\n\t\tthis.hasAction = createHasHook( this, 'actions' );\n\t\tthis.hasFilter = createHasHook( this, 'filters' );\n\t\tthis.removeAllActions = createRemoveHook( this, 'actions', true );\n\t\tthis.removeAllFilters = createRemoveHook( this, 'filters', true );\n\t\tthis.doAction = createRunHook( this, 'actions' );\n\t\tthis.applyFilters = createRunHook( this, 'filters', true );\n\t\tthis.currentAction = createCurrentHook( this, 'actions' );\n\t\tthis.currentFilter = createCurrentHook( this, 'filters' );\n\t\tthis.doingAction = createDoingHook( this, 'actions' );\n\t\tthis.doingFilter = createDoingHook( this, 'filters' );\n\t\tthis.didAction = createDidHook( this, 'actions' );\n\t\tthis.didFilter = createDidHook( this, 'filters' );\n\t}\n}\n\n/** @typedef {_Hooks} Hooks */\n\n/**\n * Returns an instance of the hooks object.\n *\n * @return {Hooks} A Hooks instance.\n */\nfunction createHooks() {\n\treturn new _Hooks();\n}\n\nexport default createHooks;\n", "/**\n * Internal dependencies\n */\nimport createHooks from './createHooks';\n\n/** @typedef {(...args: any[])=>any} Callback */\n\n/**\n * @typedef Handler\n * @property {Callback} callback  The callback\n * @property {string}   namespace The namespace\n * @property {number}   priority  The namespace\n */\n\n/**\n * @typedef Hook\n * @property {Handler[]} handlers Array of handlers\n * @property {number}    runs     Run counter\n */\n\n/**\n * @typedef Current\n * @property {string} name         Hook name\n * @property {number} currentIndex The index\n */\n\n/**\n * @typedef {Record<string, Hook> & {__current: Current[]}} Store\n */\n\n/**\n * @typedef {'actions' | 'filters'} StoreKey\n */\n\n/**\n * @typedef {import('./createHooks').Hooks} Hooks\n */\n\nexport const defaultHooks = createHooks();\n\nconst {\n\taddAction,\n\taddFilter,\n\tremoveAction,\n\tremoveFilter,\n\thasAction,\n\thasFilter,\n\tremoveAllActions,\n\tremoveAllFilters,\n\tdoAction,\n\tapplyFilters,\n\tcurrentAction,\n\tcurrentFilter,\n\tdoingAction,\n\tdoingFilter,\n\tdidAction,\n\tdidFilter,\n\tactions,\n\tfilters,\n} = defaultHooks;\n\nexport {\n\tcreateHooks,\n\taddAction,\n\taddFilter,\n\tremoveAction,\n\tremoveFilter,\n\thasAction,\n\thasFilter,\n\tremoveAllActions,\n\tremoveAllFilters,\n\tdoAction,\n\tapplyFilters,\n\tcurrentAction,\n\tcurrentFilter,\n\tdoingAction,\n\tdoingFilter,\n\tdidAction,\n\tdidFilter,\n\tactions,\n\tfilters,\n};\n", "/**\n * WordPress dependencies\n */\nimport { doAction } from '@wordpress/hooks';\n\n/**\n * Object map tracking messages which have been logged, for use in ensuring a\n * message is only logged once.\n *\n * @type {Record<string, true | undefined>}\n */\nexport const logged = Object.create( null );\n\n/**\n * Logs a message to notify developers about a deprecated feature.\n *\n * @param {string} feature               Name of the deprecated feature.\n * @param {Object} [options]             Personalisation options\n * @param {string} [options.since]       Version in which the feature was deprecated.\n * @param {string} [options.version]     Version in which the feature will be removed.\n * @param {string} [options.alternative] Feature to use instead\n * @param {string} [options.plugin]      Plugin name if it's a plugin feature\n * @param {string} [options.link]        Link to documentation\n * @param {string} [options.hint]        Additional message to help transition away from the deprecated feature.\n *\n * @example\n * ```js\n * import deprecated from '@wordpress/deprecated';\n *\n * deprecated( 'Eating meat', {\n * \tsince: '2019.01.01'\n * \tversion: '2020.01.01',\n * \talternative: 'vegetables',\n * \tplugin: 'the earth',\n * \thint: 'You may find it beneficial to transition gradually.',\n * } );\n *\n * // Logs: 'Eating meat is deprecated since version 2019.01.01 and will be removed from the earth in version 2020.01.01. Please use vegetables instead. Note: You may find it beneficial to transition gradually.'\n * ```\n */\nexport default function deprecated( feature, options = {} ) {\n\tconst { since, version, alternative, plugin, link, hint } = options;\n\n\tconst pluginMessage = plugin ? ` from ${ plugin }` : '';\n\tconst sinceMessage = since ? ` since version ${ since }` : '';\n\tconst versionMessage = version\n\t\t? ` and will be removed${ pluginMessage } in version ${ version }`\n\t\t: '';\n\tconst useInsteadMessage = alternative\n\t\t? ` Please use ${ alternative } instead.`\n\t\t: '';\n\tconst linkMessage = link ? ` See: ${ link }` : '';\n\tconst hintMessage = hint ? ` Note: ${ hint }` : '';\n\tconst message = `${ feature } is deprecated${ sinceMessage }${ versionMessage }.${ useInsteadMessage }${ linkMessage }${ hintMessage }`;\n\n\t// Skip if already logged.\n\tif ( message in logged ) {\n\t\treturn;\n\t}\n\n\t/**\n\t * Fires whenever a deprecated feature is encountered\n\t *\n\t * @param {string}  feature             Name of the deprecated feature.\n\t * @param {?Object} options             Personalisation options\n\t * @param {string}  options.since       Version in which the feature was deprecated.\n\t * @param {?string} options.version     Version in which the feature will be removed.\n\t * @param {?string} options.alternative Feature to use instead\n\t * @param {?string} options.plugin      Plugin name if it's a plugin feature\n\t * @param {?string} options.link        Link to documentation\n\t * @param {?string} options.hint        Additional message to help transition away from the deprecated feature.\n\t * @param {?string} message             Message sent to console.warn\n\t */\n\tdoAction( 'deprecated', feature, options, message );\n\n\t// eslint-disable-next-line no-console\n\tconsole.warn( message );\n\n\tlogged[ message ] = true;\n}\n\n/** @typedef {import('utility-types').NonUndefined<Parameters<typeof deprecated>[1]>} DeprecatedOptions */\n", "function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };", "import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };", "import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };", "import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };", "import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };", "import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n", "/**\n * External dependencies\n */\nimport { createStore, applyMiddleware } from 'redux';\nimport EquivalentKeyMap from 'equivalent-key-map';\n\n/**\n * WordPress dependencies\n */\nimport createReduxRoutineMiddleware from '@wordpress/redux-routine';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { combineReducers } from './combine-reducers';\nimport { builtinControls } from '../controls';\nimport { lock } from '../lock-unlock';\nimport promise from '../promise-middleware';\nimport createResolversCacheMiddleware from '../resolvers-cache-middleware';\nimport createThunkMiddleware from './thunk-middleware';\nimport metadataReducer from './metadata/reducer';\nimport * as metadataSelectors from './metadata/selectors';\nimport * as metadataActions from './metadata/actions';\n\nexport { combineReducers };\n\n/** @typedef {import('../types').DataRegistry} DataRegistry */\n/** @typedef {import('../types').ListenerFunction} ListenerFunction */\n/**\n * @typedef {import('../types').StoreDescriptor<C>} StoreDescriptor\n * @template {import('../types').AnyConfig} C\n */\n/**\n * @typedef {import('../types').ReduxStoreConfig<State,Actions,Selectors>} ReduxStoreConfig\n * @template State\n * @template {Record<string,import('../types').ActionCreator>} Actions\n * @template Selectors\n */\n\nconst trimUndefinedValues = ( array ) => {\n\tconst result = [ ...array ];\n\tfor ( let i = result.length - 1; i >= 0; i-- ) {\n\t\tif ( result[ i ] === undefined ) {\n\t\t\tresult.splice( i, 1 );\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Creates a new object with the same keys, but with `callback()` called as\n * a transformer function on each of the values.\n *\n * @param {Object}   obj      The object to transform.\n * @param {Function} callback The function to transform each object value.\n * @return {Array} Transformed object.\n */\nconst mapValues = ( obj, callback ) =>\n\tObject.fromEntries(\n\t\tObject.entries( obj ?? {} ).map( ( [ key, value ] ) => [\n\t\t\tkey,\n\t\t\tcallback( value, key ),\n\t\t] )\n\t);\n\n// Convert  non serializable types to plain objects\nconst devToolsReplacer = ( key, state ) => {\n\tif ( state instanceof Map ) {\n\t\treturn Object.fromEntries( state );\n\t}\n\n\tif ( state instanceof window.HTMLElement ) {\n\t\treturn null;\n\t}\n\n\treturn state;\n};\n\n/**\n * Create a cache to track whether resolvers started running or not.\n *\n * @return {Object} Resolvers Cache.\n */\nfunction createResolversCache() {\n\tconst cache = {};\n\treturn {\n\t\tisRunning( selectorName, args ) {\n\t\t\treturn (\n\t\t\t\tcache[ selectorName ] &&\n\t\t\t\tcache[ selectorName ].get( trimUndefinedValues( args ) )\n\t\t\t);\n\t\t},\n\n\t\tclear( selectorName, args ) {\n\t\t\tif ( cache[ selectorName ] ) {\n\t\t\t\tcache[ selectorName ].delete( trimUndefinedValues( args ) );\n\t\t\t}\n\t\t},\n\n\t\tmarkAsRunning( selectorName, args ) {\n\t\t\tif ( ! cache[ selectorName ] ) {\n\t\t\t\tcache[ selectorName ] = new EquivalentKeyMap();\n\t\t\t}\n\n\t\t\tcache[ selectorName ].set( trimUndefinedValues( args ), true );\n\t\t},\n\t};\n}\n\nfunction createBindingCache( getItem, bindItem ) {\n\tconst cache = new WeakMap();\n\n\treturn {\n\t\tget( itemName ) {\n\t\t\tconst item = getItem( itemName );\n\t\t\tif ( ! item ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet boundItem = cache.get( item );\n\t\t\tif ( ! boundItem ) {\n\t\t\t\tboundItem = bindItem( item, itemName );\n\t\t\t\tcache.set( item, boundItem );\n\t\t\t}\n\t\t\treturn boundItem;\n\t\t},\n\t};\n}\n\nfunction createPrivateProxy( publicItems, privateItems ) {\n\treturn new Proxy( publicItems, {\n\t\tget: ( target, itemName ) =>\n\t\t\tprivateItems.get( itemName ) || Reflect.get( target, itemName ),\n\t} );\n}\n\n/**\n * Creates a data store descriptor for the provided Redux store configuration containing\n * properties describing reducer, actions, selectors, controls and resolvers.\n *\n * @example\n * ```js\n * import { createReduxStore } from '@wordpress/data';\n *\n * const store = createReduxStore( 'demo', {\n *     reducer: ( state = 'OK' ) => state,\n *     selectors: {\n *         getValue: ( state ) => state,\n *     },\n * } );\n * ```\n *\n * @template State\n * @template {Record<string,import('../types').ActionCreator>} Actions\n * @template Selectors\n * @param {string}                                    key     Unique namespace identifier.\n * @param {ReduxStoreConfig<State,Actions,Selectors>} options Registered store options, with properties\n *                                                            describing reducer, actions, selectors,\n *                                                            and resolvers.\n *\n * @return   {StoreDescriptor<ReduxStoreConfig<State,Actions,Selectors>>} Store Object.\n */\nexport default function createReduxStore( key, options ) {\n\tconst privateActions = {};\n\tconst privateSelectors = {};\n\tconst privateRegistrationFunctions = {\n\t\tprivateActions,\n\t\tregisterPrivateActions: ( actions ) => {\n\t\t\tObject.assign( privateActions, actions );\n\t\t},\n\t\tprivateSelectors,\n\t\tregisterPrivateSelectors: ( selectors ) => {\n\t\t\tObject.assign( privateSelectors, selectors );\n\t\t},\n\t};\n\tconst storeDescriptor = {\n\t\tname: key,\n\t\tinstantiate: ( registry ) => {\n\t\t\t/**\n\t\t\t * Stores listener functions registered with `subscribe()`.\n\t\t\t *\n\t\t\t * When functions register to listen to store changes with\n\t\t\t * `subscribe()` they get added here. Although Redux offers\n\t\t\t * its own `subscribe()` function directly, by wrapping the\n\t\t\t * subscription in this store instance it's possible to\n\t\t\t * optimize checking if the state has changed before calling\n\t\t\t * each listener.\n\t\t\t *\n\t\t\t * @type {Set<ListenerFunction>}\n\t\t\t */\n\t\t\tconst listeners = new Set();\n\t\t\tconst reducer = options.reducer;\n\n\t\t\t// Object that every thunk function receives as the first argument. It contains the\n\t\t\t// `registry`, `dispatch`, `select` and `resolveSelect` fields. Some of them are\n\t\t\t// constructed as getters to avoid circular dependencies.\n\t\t\tconst thunkArgs = {\n\t\t\t\tregistry,\n\t\t\t\tget dispatch() {\n\t\t\t\t\treturn thunkDispatch;\n\t\t\t\t},\n\t\t\t\tget select() {\n\t\t\t\t\treturn thunkSelect;\n\t\t\t\t},\n\t\t\t\tget resolveSelect() {\n\t\t\t\t\treturn resolveSelectors;\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst store = instantiateReduxStore(\n\t\t\t\tkey,\n\t\t\t\toptions,\n\t\t\t\tregistry,\n\t\t\t\tthunkArgs\n\t\t\t);\n\n\t\t\t// Expose the private registration functions on the store\n\t\t\t// so they can be copied to a sub registry in registry.js.\n\t\t\tlock( store, privateRegistrationFunctions );\n\t\t\tconst resolversCache = createResolversCache();\n\n\t\t\t// Binds an action creator (`action`) to the `store`, making it a callable function.\n\t\t\t// These are the functions that are returned by `useDispatch`, for example.\n\t\t\t// It always returns a `Promise`, although actions are not always async. That's an\n\t\t\t// unfortunate backward compatibility measure.\n\t\t\tfunction bindAction( action ) {\n\t\t\t\treturn ( ...args ) =>\n\t\t\t\t\tPromise.resolve( store.dispatch( action( ...args ) ) );\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Object with all public actions, both metadata and store actions.\n\t\t\t */\n\t\t\tconst actions = {\n\t\t\t\t...mapValues( metadataActions, bindAction ),\n\t\t\t\t...mapValues( options.actions, bindAction ),\n\t\t\t};\n\n\t\t\t// Object with both public and private actions. Private actions are accessed through a proxy,\n\t\t\t// which looks them up in real time on the `privateActions` object. That's because private\n\t\t\t// actions can be registered at any time with `registerPrivateActions`. Also once a private\n\t\t\t// action creator is bound to the store, it is cached to give it a stable identity.\n\t\t\tconst allActions = createPrivateProxy(\n\t\t\t\tactions,\n\t\t\t\tcreateBindingCache(\n\t\t\t\t\t( name ) => privateActions[ name ],\n\t\t\t\t\tbindAction\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// An object that implements the `dispatch` object that is passed to thunk functions.\n\t\t\t// It is callable (`dispatch( action )`) and also has methods (`dispatch.foo()`) that\n\t\t\t// correspond to bound registered actions, both public and private. Implemented with the proxy\n\t\t\t// `get` method, delegating to `allActions`.\n\t\t\tconst thunkDispatch = new Proxy(\n\t\t\t\t( action ) => store.dispatch( action ),\n\t\t\t\t{ get: ( target, name ) => allActions[ name ] }\n\t\t\t);\n\n\t\t\t// To the public `actions` object, add the \"locked\" `allActions` object. When used,\n\t\t\t// `unlock( actions )` will return `allActions`, implementing a way how to get at the private actions.\n\t\t\tlock( actions, allActions );\n\n\t\t\t// If we have selector resolvers, convert them to a normalized form.\n\t\t\tconst resolvers = options.resolvers\n\t\t\t\t? mapValues( options.resolvers, mapResolver )\n\t\t\t\t: {};\n\n\t\t\t// Bind a selector to the store. Call the selector with the current state, correct registry,\n\t\t\t// and if there is a resolver, attach the resolver logic to the selector.\n\t\t\tfunction bindSelector( selector, selectorName ) {\n\t\t\t\tif ( selector.isRegistrySelector ) {\n\t\t\t\t\tselector.registry = registry;\n\t\t\t\t}\n\t\t\t\tconst boundSelector = ( ...args ) => {\n\t\t\t\t\targs = normalize( selector, args );\n\t\t\t\t\tconst state = store.__unstableOriginalGetState();\n\t\t\t\t\t// Before calling the selector, switch to the correct registry.\n\t\t\t\t\tif ( selector.isRegistrySelector ) {\n\t\t\t\t\t\tselector.registry = registry;\n\t\t\t\t\t}\n\t\t\t\t\treturn selector( state.root, ...args );\n\t\t\t\t};\n\n\t\t\t\t// Expose normalization method on the bound selector\n\t\t\t\t// in order that it can be called when fulfilling\n\t\t\t\t// the resolver.\n\t\t\t\tboundSelector.__unstableNormalizeArgs =\n\t\t\t\t\tselector.__unstableNormalizeArgs;\n\n\t\t\t\tconst resolver = resolvers[ selectorName ];\n\n\t\t\t\tif ( ! resolver ) {\n\t\t\t\t\tboundSelector.hasResolver = false;\n\t\t\t\t\treturn boundSelector;\n\t\t\t\t}\n\n\t\t\t\treturn mapSelectorWithResolver(\n\t\t\t\t\tboundSelector,\n\t\t\t\t\tselectorName,\n\t\t\t\t\tresolver,\n\t\t\t\t\tstore,\n\t\t\t\t\tresolversCache,\n\t\t\t\t\tboundMetadataSelectors\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Metadata selectors are bound differently: different state (`state.metadata`), no resolvers,\n\t\t\t// normalization depending on the target selector.\n\t\t\tfunction bindMetadataSelector( metaDataSelector ) {\n\t\t\t\tconst boundSelector = (\n\t\t\t\t\tselectorName,\n\t\t\t\t\tselectorArgs,\n\t\t\t\t\t...args\n\t\t\t\t) => {\n\t\t\t\t\t// Normalize the arguments passed to the target selector.\n\t\t\t\t\tif ( selectorName ) {\n\t\t\t\t\t\tconst targetSelector =\n\t\t\t\t\t\t\toptions.selectors?.[ selectorName ];\n\t\t\t\t\t\tif ( targetSelector ) {\n\t\t\t\t\t\t\tselectorArgs = normalize(\n\t\t\t\t\t\t\t\ttargetSelector,\n\t\t\t\t\t\t\t\tselectorArgs\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst state = store.__unstableOriginalGetState();\n\n\t\t\t\t\treturn metaDataSelector(\n\t\t\t\t\t\tstate.metadata,\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\tselectorArgs,\n\t\t\t\t\t\t...args\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tboundSelector.hasResolver = false;\n\t\t\t\treturn boundSelector;\n\t\t\t}\n\n\t\t\t// Perform binding of both metadata and store selectors and combine them in one\n\t\t\t// `selectors` object. These are all public selectors of the store.\n\t\t\tconst boundMetadataSelectors = mapValues(\n\t\t\t\tmetadataSelectors,\n\t\t\t\tbindMetadataSelector\n\t\t\t);\n\n\t\t\tconst boundSelectors = mapValues( options.selectors, bindSelector );\n\n\t\t\tconst selectors = {\n\t\t\t\t...boundMetadataSelectors,\n\t\t\t\t...boundSelectors,\n\t\t\t};\n\n\t\t\t// Cache of bould private selectors. They are bound only when first accessed, because\n\t\t\t// new private selectors can be registered at any time (with `registerPrivateSelectors`).\n\t\t\t// Once bound, they are cached to give them a stable identity.\n\t\t\tconst boundPrivateSelectors = createBindingCache(\n\t\t\t\t( name ) => privateSelectors[ name ],\n\t\t\t\tbindSelector\n\t\t\t);\n\n\t\t\tconst allSelectors = createPrivateProxy(\n\t\t\t\tselectors,\n\t\t\t\tboundPrivateSelectors\n\t\t\t);\n\n\t\t\t// Pre-bind the private selectors that have been registered by the time of\n\t\t\t// instantiation, so that registry selectors are bound to the registry.\n\t\t\tfor ( const selectorName of Object.keys( privateSelectors ) ) {\n\t\t\t\tboundPrivateSelectors.get( selectorName );\n\t\t\t}\n\n\t\t\t// An object that implements the `select` object that is passed to thunk functions.\n\t\t\t// It is callable (`select( selector )`) and also has methods (`select.foo()`) that\n\t\t\t// correspond to bound registered selectors, both public and private. Implemented with the proxy\n\t\t\t// `get` method, delegating to `allSelectors`.\n\t\t\tconst thunkSelect = new Proxy(\n\t\t\t\t( selector ) => selector( store.__unstableOriginalGetState() ),\n\t\t\t\t{ get: ( target, name ) => allSelectors[ name ] }\n\t\t\t);\n\n\t\t\t// To the public `selectors` object, add the \"locked\" `allSelectors` object. When used,\n\t\t\t// `unlock( selectors )` will return `allSelectors`, implementing a way how to get at the private selectors.\n\t\t\tlock( selectors, allSelectors );\n\n\t\t\t// For each selector, create a function that calls the selector, waits for resolution and returns\n\t\t\t// a promise that resolves when the resolution is finished.\n\t\t\tconst bindResolveSelector = mapResolveSelector(\n\t\t\t\tstore,\n\t\t\t\tboundMetadataSelectors\n\t\t\t);\n\n\t\t\t// Now apply this function to all bound selectors, public and private. We are excluding\n\t\t\t// metadata selectors because they don't have resolvers.\n\t\t\tconst resolveSelectors = mapValues(\n\t\t\t\tboundSelectors,\n\t\t\t\tbindResolveSelector\n\t\t\t);\n\n\t\t\tconst allResolveSelectors = createPrivateProxy(\n\t\t\t\tresolveSelectors,\n\t\t\t\tcreateBindingCache(\n\t\t\t\t\t( name ) => boundPrivateSelectors.get( name ),\n\t\t\t\t\tbindResolveSelector\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// Lock the selectors so that `unlock( resolveSelectors )` returns `allResolveSelectors`.\n\t\t\tlock( resolveSelectors, allResolveSelectors );\n\n\t\t\t// Now, in a way very similar to `bindResolveSelector`, we create a function that maps\n\t\t\t// selectors to functions that throw a suspense promise if not yet resolved.\n\t\t\tconst bindSuspendSelector = mapSuspendSelector(\n\t\t\t\tstore,\n\t\t\t\tboundMetadataSelectors\n\t\t\t);\n\n\t\t\tconst suspendSelectors = {\n\t\t\t\t...boundMetadataSelectors, // no special suspense behavior\n\t\t\t\t...mapValues( boundSelectors, bindSuspendSelector ),\n\t\t\t};\n\n\t\t\tconst allSuspendSelectors = createPrivateProxy(\n\t\t\t\tsuspendSelectors,\n\t\t\t\tcreateBindingCache(\n\t\t\t\t\t( name ) => boundPrivateSelectors.get( name ),\n\t\t\t\t\tbindSuspendSelector\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// Lock the selectors so that `unlock( suspendSelectors )` returns 'allSuspendSelectors`.\n\t\t\tlock( suspendSelectors, allSuspendSelectors );\n\n\t\t\tconst getSelectors = () => selectors;\n\t\t\tconst getActions = () => actions;\n\t\t\tconst getResolveSelectors = () => resolveSelectors;\n\t\t\tconst getSuspendSelectors = () => suspendSelectors;\n\n\t\t\t// We have some modules monkey-patching the store object\n\t\t\t// It's wrong to do so but until we refactor all of our effects to controls\n\t\t\t// We need to keep the same \"store\" instance here.\n\t\t\tstore.__unstableOriginalGetState = store.getState;\n\t\t\tstore.getState = () => store.__unstableOriginalGetState().root;\n\n\t\t\t// Customize subscribe behavior to call listeners only on effective change,\n\t\t\t// not on every dispatch.\n\t\t\tconst subscribe =\n\t\t\t\tstore &&\n\t\t\t\t( ( listener ) => {\n\t\t\t\t\tlisteners.add( listener );\n\n\t\t\t\t\treturn () => listeners.delete( listener );\n\t\t\t\t} );\n\n\t\t\tlet lastState = store.__unstableOriginalGetState();\n\t\t\tstore.subscribe( () => {\n\t\t\t\tconst state = store.__unstableOriginalGetState();\n\t\t\t\tconst hasChanged = state !== lastState;\n\t\t\t\tlastState = state;\n\n\t\t\t\tif ( hasChanged ) {\n\t\t\t\t\tfor ( const listener of listeners ) {\n\t\t\t\t\t\tlistener();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// This can be simplified to just { subscribe, getSelectors, getActions }\n\t\t\t// Once we remove the use function.\n\t\t\treturn {\n\t\t\t\treducer,\n\t\t\t\tstore,\n\t\t\t\tactions,\n\t\t\t\tselectors,\n\t\t\t\tresolvers,\n\t\t\t\tgetSelectors,\n\t\t\t\tgetResolveSelectors,\n\t\t\t\tgetSuspendSelectors,\n\t\t\t\tgetActions,\n\t\t\t\tsubscribe,\n\t\t\t};\n\t\t},\n\t};\n\n\t// Expose the private registration functions on the store\n\t// descriptor. That's a natural choice since that's where the\n\t// public actions and selectors are stored.\n\tlock( storeDescriptor, privateRegistrationFunctions );\n\n\treturn storeDescriptor;\n}\n\n/**\n * Creates a redux store for a namespace.\n *\n * @param {string}       key       Unique namespace identifier.\n * @param {Object}       options   Registered store options, with properties\n *                                 describing reducer, actions, selectors,\n *                                 and resolvers.\n * @param {DataRegistry} registry  Registry reference.\n * @param {Object}       thunkArgs Argument object for the thunk middleware.\n * @return {Object} Newly created redux store.\n */\nfunction instantiateReduxStore( key, options, registry, thunkArgs ) {\n\tconst controls = {\n\t\t...options.controls,\n\t\t...builtinControls,\n\t};\n\n\tconst normalizedControls = mapValues( controls, ( control ) =>\n\t\tcontrol.isRegistryControl ? control( registry ) : control\n\t);\n\n\tconst middlewares = [\n\t\tcreateResolversCacheMiddleware( registry, key ),\n\t\tpromise,\n\t\tcreateReduxRoutineMiddleware( normalizedControls ),\n\t\tcreateThunkMiddleware( thunkArgs ),\n\t];\n\n\tconst enhancers = [ applyMiddleware( ...middlewares ) ];\n\tif (\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__\n\t) {\n\t\tenhancers.push(\n\t\t\twindow.__REDUX_DEVTOOLS_EXTENSION__( {\n\t\t\t\tname: key,\n\t\t\t\tinstanceId: key,\n\t\t\t\tserialize: {\n\t\t\t\t\treplacer: devToolsReplacer,\n\t\t\t\t},\n\t\t\t} )\n\t\t);\n\t}\n\n\tconst { reducer, initialState } = options;\n\tconst enhancedReducer = combineReducers( {\n\t\tmetadata: metadataReducer,\n\t\troot: reducer,\n\t} );\n\n\treturn createStore(\n\t\tenhancedReducer,\n\t\t{ root: initialState },\n\t\tcompose( enhancers )\n\t);\n}\n\n/**\n * Maps selectors to functions that return a resolution promise for them.\n *\n * @param {Object} store                  The redux store the selectors are bound to.\n * @param {Object} boundMetadataSelectors The bound metadata selectors.\n *\n * @return {Function} Function that maps selectors to resolvers.\n */\nfunction mapResolveSelector( store, boundMetadataSelectors ) {\n\treturn ( selector, selectorName ) => {\n\t\t// If the selector doesn't have a resolver, just convert the return value\n\t\t// (including exceptions) to a Promise, no additional extra behavior is needed.\n\t\tif ( ! selector.hasResolver ) {\n\t\t\treturn async ( ...args ) => selector.apply( null, args );\n\t\t}\n\n\t\treturn ( ...args ) =>\n\t\t\tnew Promise( ( resolve, reject ) => {\n\t\t\t\tconst hasFinished = () => {\n\t\t\t\t\treturn boundMetadataSelectors.hasFinishedResolution(\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\targs\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tconst finalize = ( result ) => {\n\t\t\t\t\tconst hasFailed =\n\t\t\t\t\t\tboundMetadataSelectors.hasResolutionFailed(\n\t\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\t\targs\n\t\t\t\t\t\t);\n\t\t\t\t\tif ( hasFailed ) {\n\t\t\t\t\t\tconst error = boundMetadataSelectors.getResolutionError(\n\t\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\t\targs\n\t\t\t\t\t\t);\n\t\t\t\t\t\treject( error );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve( result );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst getResult = () => selector.apply( null, args );\n\n\t\t\t\t// Trigger the selector (to trigger the resolver)\n\t\t\t\tconst result = getResult();\n\t\t\t\tif ( hasFinished() ) {\n\t\t\t\t\treturn finalize( result );\n\t\t\t\t}\n\n\t\t\t\tconst unsubscribe = store.subscribe( () => {\n\t\t\t\t\tif ( hasFinished() ) {\n\t\t\t\t\t\tunsubscribe();\n\t\t\t\t\t\tfinalize( getResult() );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t};\n}\n\n/**\n * Maps selectors to functions that throw a suspense promise if not yet resolved.\n *\n * @param {Object} store                  The redux store the selectors select from.\n * @param {Object} boundMetadataSelectors The bound metadata selectors.\n *\n * @return {Function} Function that maps selectors to their suspending versions.\n */\nfunction mapSuspendSelector( store, boundMetadataSelectors ) {\n\treturn ( selector, selectorName ) => {\n\t\t// Selector without a resolver doesn't have any extra suspense behavior.\n\t\tif ( ! selector.hasResolver ) {\n\t\t\treturn selector;\n\t\t}\n\n\t\treturn ( ...args ) => {\n\t\t\tconst result = selector.apply( null, args );\n\n\t\t\tif (\n\t\t\t\tboundMetadataSelectors.hasFinishedResolution(\n\t\t\t\t\tselectorName,\n\t\t\t\t\targs\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tif (\n\t\t\t\t\tboundMetadataSelectors.hasResolutionFailed(\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\targs\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tthrow boundMetadataSelectors.getResolutionError(\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\targs\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tthrow new Promise( ( resolve ) => {\n\t\t\t\tconst unsubscribe = store.subscribe( () => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tboundMetadataSelectors.hasFinishedResolution(\n\t\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\t\targs\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t\tunsubscribe();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t};\n\t};\n}\n\n/**\n * Convert a resolver to a normalized form, an object with `fulfill` method and\n * optional methods like `isFulfilled`.\n *\n * @param {Function} resolver Resolver to convert\n */\nfunction mapResolver( resolver ) {\n\tif ( resolver.fulfill ) {\n\t\treturn resolver;\n\t}\n\n\treturn {\n\t\t...resolver, // Copy the enumerable properties of the resolver function.\n\t\tfulfill: resolver, // Add the fulfill method.\n\t};\n}\n\n/**\n * Returns a selector with a matched resolver.\n * Resolvers are side effects invoked once per argument set of a given selector call,\n * used in ensuring that the data needs for the selector are satisfied.\n *\n * @param {Object} selector               The selector function to be bound.\n * @param {string} selectorName           The selector name.\n * @param {Object} resolver               Resolver to call.\n * @param {Object} store                  The redux store to which the resolvers should be mapped.\n * @param {Object} resolversCache         Resolvers Cache.\n * @param {Object} boundMetadataSelectors The bound metadata selectors.\n */\nfunction mapSelectorWithResolver(\n\tselector,\n\tselectorName,\n\tresolver,\n\tstore,\n\tresolversCache,\n\tboundMetadataSelectors\n) {\n\tfunction fulfillSelector( args ) {\n\t\tconst state = store.getState();\n\n\t\tif (\n\t\t\tresolversCache.isRunning( selectorName, args ) ||\n\t\t\t( typeof resolver.isFulfilled === 'function' &&\n\t\t\t\tresolver.isFulfilled( state, ...args ) )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tboundMetadataSelectors.hasStartedResolution( selectorName, args )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tresolversCache.markAsRunning( selectorName, args );\n\n\t\tsetTimeout( async () => {\n\t\t\tresolversCache.clear( selectorName, args );\n\t\t\tstore.dispatch(\n\t\t\t\tmetadataActions.startResolution( selectorName, args )\n\t\t\t);\n\t\t\ttry {\n\t\t\t\tconst action = resolver.fulfill( ...args );\n\t\t\t\tif ( action ) {\n\t\t\t\t\tawait store.dispatch( action );\n\t\t\t\t}\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tmetadataActions.finishResolution( selectorName, args )\n\t\t\t\t);\n\t\t\t} catch ( error ) {\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tmetadataActions.failResolution( selectorName, args, error )\n\t\t\t\t);\n\t\t\t}\n\t\t}, 0 );\n\t}\n\n\tconst selectorResolver = ( ...args ) => {\n\t\targs = normalize( selector, args );\n\t\tfulfillSelector( args );\n\t\treturn selector( ...args );\n\t};\n\tselectorResolver.hasResolver = true;\n\treturn selectorResolver;\n}\n\n/**\n * Applies selector's normalization function to the given arguments\n * if it exists.\n *\n * @param {Object} selector The selector potentially with a normalization method property.\n * @param {Array}  args     selector arguments to normalize.\n * @return {Array} Potentially normalized arguments.\n */\nfunction normalize( selector, args ) {\n\tif (\n\t\tselector.__unstableNormalizeArgs &&\n\t\ttypeof selector.__unstableNormalizeArgs === 'function' &&\n\t\targs?.length\n\t) {\n\t\treturn selector.__unstableNormalizeArgs( args );\n\t}\n\treturn args;\n}\n", "/**\n * Returns true if the given object is a generator, or false otherwise.\n *\n * @see https://www.ecma-international.org/ecma-262/6.0/#sec-generator-objects\n *\n * @param object Object to test.\n *\n * @return Whether object is a generator.\n */\nexport default function isGenerator( object: any ): object is Generator {\n\t// Check that iterator (next) and iterable (Symbol.iterator) interfaces are satisfied.\n\t// These checks seem to be compatible with several generator helpers as well as the native implementation.\n\treturn (\n\t\t!! object &&\n\t\ttypeof object[ Symbol.iterator ] === 'function' &&\n\t\ttypeof object.next === 'function'\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { Control } from 'rungen';\nimport { create } from 'rungen';\nimport isPromise from 'is-promise';\nimport type { Dispatch, AnyAction } from 'redux';\n\n/**\n * Internal dependencies\n */\nimport { isActionOfType, isAction } from './is-action';\n\n/**\n * Create a co-routine runtime.\n *\n * @param controls Object of control handlers.\n * @param dispatch Unhandled action dispatch.\n */\nexport default function createRuntime(\n\tcontrols: Record<\n\t\tstring,\n\t\t( value: any ) => Promise< boolean > | boolean\n\t> = {},\n\tdispatch: Dispatch\n) {\n\tconst rungenControls = Object.entries( controls ).map(\n\t\t( [ actionType, control ] ): Control =>\n\t\t\t( value, next, iterate, yieldNext, yieldError ) => {\n\t\t\t\tif ( ! isActionOfType( value, actionType ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst routine = control( value );\n\t\t\t\tif ( isPromise( routine ) ) {\n\t\t\t\t\t// Async control routine awaits resolution.\n\t\t\t\t\troutine.then( yieldNext, yieldError );\n\t\t\t\t} else {\n\t\t\t\t\tyieldNext( routine );\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t);\n\n\tconst unhandledActionControl = (\n\t\tvalue: AnyAction | unknown,\n\t\tnext: () => void\n\t) => {\n\t\tif ( ! isAction( value ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tdispatch( value );\n\t\tnext();\n\t\treturn true;\n\t};\n\trungenControls.push( unhandledActionControl );\n\n\tconst rungenRuntime = create( rungenControls );\n\n\treturn ( action: AnyAction | Generator ) =>\n\t\tnew Promise( ( resolve, reject ) =>\n\t\t\trungenRuntime(\n\t\t\t\taction,\n\t\t\t\t( result ) => {\n\t\t\t\t\tif ( isAction( result ) ) {\n\t\t\t\t\t\tdispatch( result );\n\t\t\t\t\t}\n\t\t\t\t\tresolve( result );\n\t\t\t\t},\n\t\t\t\treject\n\t\t\t)\n\t\t);\n}\n", "/**\n * External dependencies\n */\nimport { isPlainObject } from 'is-plain-object';\nimport type { Action } from 'redux';\n\n/**\n * Returns true if the given object quacks like an action.\n *\n * @param object Object to test\n *\n * @return Whether object is an action.\n */\nexport function isAction( object: unknown ): object is Action {\n\treturn isPlainObject( object ) && typeof object.type === 'string';\n}\n\n/**\n * Returns true if the given object quacks like an action and has a specific\n * action type\n *\n * @param object       Object to test\n * @param expectedType The expected type for the action.\n *\n * @return Whether object is an action and is of specific type.\n */\nexport function isActionOfType(\n\tobject: unknown,\n\texpectedType: string\n): object is Action {\n\treturn isAction( object ) && object.type === expectedType;\n}\n", "/**\n * External dependencies\n */\nimport type { Middleware, AnyAction } from 'redux';\n\n/**\n * Internal dependencies\n */\nimport isGenerator from './is-generator';\nimport createRuntime from './runtime';\n\n/**\n * Creates a Redux middleware, given an object of controls where each key is an\n * action type for which to act upon, the value a function which returns either\n * a promise which is to resolve when evaluation of the action should continue,\n * or a value. The value or resolved promise value is assigned on the return\n * value of the yield assignment. If the control handler returns undefined, the\n * execution is not continued.\n *\n * @param controls Object of control handlers.\n *\n * @return Co-routine runtime\n */\nexport default function createMiddleware(\n\tcontrols: Record<\n\t\tstring,\n\t\t( value: AnyAction ) => Promise< boolean > | boolean\n\t> = {}\n): Middleware {\n\treturn ( store ) => {\n\t\tconst runtime = createRuntime( controls, store.dispatch );\n\t\treturn ( next ) => ( action ) => {\n\t\t\tif ( ! isGenerator( action ) ) {\n\t\t\t\treturn next( action );\n\t\t\t}\n\n\t\t\treturn runtime( action );\n\t\t};\n\t};\n}\n", "/**\n * External dependencies\n */\nimport { pascalCase } from 'change-case';\nimport type { ComponentType } from 'react';\n\ntype GetProps< C > = C extends ComponentType< infer P > ? P : never;\n\nexport type WithoutInjectedProps< C, I > = Omit< GetProps< C >, keyof I >;\n\nexport type WithInjectedProps< C, I > = ComponentType<\n\tWithoutInjectedProps< C, I > & I\n>;\n\n/**\n * Given a function mapping a component to an enhanced component and modifier\n * name, returns the enhanced component augmented with a generated displayName.\n *\n * @param mapComponent Function mapping component to enhanced component.\n * @param modifierName Seed name from which to generated display name.\n *\n * @return Component class with generated display name assigned.\n */\nexport function createHigherOrderComponent<\n\tTInner extends ComponentType< any >,\n\tTOuter extends ComponentType< any >,\n>( mapComponent: ( Inner: TInner ) => TOuter, modifierName: string ) {\n\treturn ( Inner: TInner ) => {\n\t\tconst Outer = mapComponent( Inner );\n\t\tOuter.displayName = hocName( modifierName, Inner );\n\t\treturn Outer;\n\t};\n}\n\n/**\n * Returns a displayName for a higher-order component, given a wrapper name.\n *\n * @example\n *     hocName( 'MyMemo', Widget ) === 'MyMemo(Widget)';\n *     hocName( 'MyMemo', <div /> ) === 'MyMemo(Component)';\n *\n * @param name  Name assigned to higher-order component's wrapper component.\n * @param Inner Wrapped component inside higher-order component.\n * @return       Wrapped name of higher-order component.\n */\nconst hocName = ( name: string, Inner: ComponentType< any > ) => {\n\tconst inner = Inner.displayName || Inner.name || 'Component';\n\tconst outer = pascalCase( name ?? '' );\n\n\treturn `${ outer }(${ inner })`;\n};\n", "/**\n * Parts of this source were derived and modified from lodash,\n * released under the MIT license.\n *\n * https://github.com/lodash/lodash\n *\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n *\n * Based on Underscore.js, copyright Jeremy Ashkenas,\n * DocumentCloud and Investigative Reporters & Editors <http://underscorejs.org/>\n *\n * This software consists of voluntary contributions made by many\n * individuals. For exact contribution history, see the revision history\n * available at https://github.com/lodash/lodash\n *\n * The following license applies to all parts of this software except as\n * documented below:\n *\n * ====\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Creates a pipe function.\n *\n * Allows to choose whether to perform left-to-right or right-to-left composition.\n *\n * @see https://docs-lodash.com/v4/flow/\n *\n * @param {boolean} reverse True if right-to-left, false for left-to-right composition.\n */\nconst basePipe =\n\t( reverse: boolean = false ) =>\n\t( ...funcs: Function[] ) =>\n\t( ...args: unknown[] ) => {\n\t\tconst functions = funcs.flat();\n\t\tif ( reverse ) {\n\t\t\tfunctions.reverse();\n\t\t}\n\t\treturn functions.reduce(\n\t\t\t( prev, func ) => [ func( ...prev ) ],\n\t\t\targs\n\t\t)[ 0 ];\n\t};\n\n/**\n * Composes multiple higher-order components into a single higher-order component. Performs left-to-right function\n * composition, where each successive invocation is supplied the return value of the previous.\n *\n * This is inspired by `lodash`'s `flow` function.\n *\n * @see https://docs-lodash.com/v4/flow/\n */\nconst pipe = basePipe();\n\nexport { basePipe };\n\nexport default pipe;\n", "/**\n * Internal dependencies\n */\nimport { basePipe } from './pipe';\n\n/**\n * Composes multiple higher-order components into a single higher-order component. Performs right-to-left function\n * composition, where each successive invocation is supplied the return value of the previous.\n *\n * This is inspired by `lodash`'s `flowRight` function.\n *\n * @see https://docs-lodash.com/v4/flow-right/\n */\nconst compose = basePipe( true );\n\nexport default compose;\n", "/**\n * Returns true if the two objects are shallow equal, or false otherwise.\n *\n * @param {import('.').ComparableObject} a First object to compare.\n * @param {import('.').ComparableObject} b Second object to compare.\n *\n * @return {boolean} Whether the two objects are shallow equal.\n */\nexport default function isShallowEqualObjects( a, b ) {\n\tif ( a === b ) {\n\t\treturn true;\n\t}\n\n\tconst aKeys = Object.keys( a );\n\tconst bKeys = Object.keys( b );\n\n\tif ( aKeys.length !== bKeys.length ) {\n\t\treturn false;\n\t}\n\n\tlet i = 0;\n\n\twhile ( i < aKeys.length ) {\n\t\tconst key = aKeys[ i ];\n\t\tconst aValue = a[ key ];\n\n\t\tif (\n\t\t\t// In iterating only the keys of the first object after verifying\n\t\t\t// equal lengths, account for the case that an explicit `undefined`\n\t\t\t// value in the first is implicitly undefined in the second.\n\t\t\t//\n\t\t\t// Example: isShallowEqualObjects( { a: undefined }, { b: 5 } )\n\t\t\t( aValue === undefined && ! b.hasOwnProperty( key ) ) ||\n\t\t\taValue !== b[ key ]\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\ti++;\n\t}\n\n\treturn true;\n}\n", "/**\n * Returns true if the two arrays are shallow equal, or false otherwise.\n *\n * @param {any[]} a First array to compare.\n * @param {any[]} b Second array to compare.\n *\n * @return {boolean} Whether the two arrays are shallow equal.\n */\nexport default function isShallowEqualArrays( a, b ) {\n\tif ( a === b ) {\n\t\treturn true;\n\t}\n\n\tif ( a.length !== b.length ) {\n\t\treturn false;\n\t}\n\n\tfor ( let i = 0, len = a.length; i < len; i++ ) {\n\t\tif ( a[ i ] !== b[ i ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n", "/**\n * Internal dependencies\n */\nimport isShallowEqualObjects from './objects';\nimport isShallowEqualArrays from './arrays';\n\nexport { default as isShallowEqualObjects } from './objects';\nexport { default as isShallowEqualArrays } from './arrays';\n\n/**\n * @typedef {Record<string, any>} ComparableObject\n */\n\n/**\n * Returns true if the two arrays or objects are shallow equal, or false\n * otherwise. Also handles primitive values, just in case.\n *\n * @param {unknown} a First object or array to compare.\n * @param {unknown} b Second object or array to compare.\n *\n * @return {boolean} Whether the two values are shallow equal.\n */\nexport default function isShallowEqual( a, b ) {\n\tif ( a && b ) {\n\t\tif ( a.constructor === Object && b.constructor === Object ) {\n\t\t\treturn isShallowEqualObjects( a, b );\n\t\t} else if ( Array.isArray( a ) && Array.isArray( b ) ) {\n\t\t\treturn isShallowEqualArrays( a, b );\n\t\t}\n\t}\n\n\treturn a === b;\n}\n", "/**\n * External dependencies\n */\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport {\n\tChildren,\n\tcloneElement,\n\tComponent,\n\tcreateContext,\n\tcreateElement,\n\tcreateRef,\n\tforwardRef,\n\tFragment,\n\tisValidElement,\n\tmemo,\n\tPureComponent,\n\tStrictMode,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tuseDeferredValue,\n\tuseEffect,\n\tuseId,\n\tuseMemo,\n\tuseImperativeHandle,\n\tuseInsertionEffect,\n\tuseLayoutEffect,\n\tuseReducer,\n\tuseRef,\n\tuseState,\n\tuseSyncExternalStore,\n\tuseTransition,\n\tstartTransition,\n\tlazy,\n\tSuspense,\n} from 'react';\n\n/**\n * Object containing a React element.\n *\n * @typedef {import('react').ReactElement} Element\n */\n\n/**\n * Object containing a React component.\n *\n * @typedef {import('react').ComponentType} ComponentType\n */\n\n/**\n * Object containing a React synthetic event.\n *\n * @typedef {import('react').SyntheticEvent} SyntheticEvent\n */\n\n/**\n * Object containing a React synthetic event.\n *\n * @template T\n * @typedef {import('react').RefObject<T>} RefObject<T>\n */\n\n/**\n * Object that provides utilities for dealing with React children.\n */\nexport { Children };\n\n/**\n * Creates a copy of an element with extended props.\n *\n * @param {Element} element Element\n * @param {?Object} props   Props to apply to cloned element\n *\n * @return {Element} Cloned element.\n */\nexport { cloneElement };\n\n/**\n * A base class to create WordPress Components (Refs, state and lifecycle hooks)\n */\nexport { Component };\n\n/**\n * Creates a context object containing two components: a provider and consumer.\n *\n * @param {Object} defaultValue A default data stored in the context.\n *\n * @return {Object} Context object.\n */\nexport { createContext };\n\n/**\n * Returns a new element of given type. Type can be either a string tag name or\n * another function which itself returns an element.\n *\n * @param {?(string|Function)} type     Tag name or element creator\n * @param {Object}             props    Element properties, either attribute\n *                                      set to apply to DOM node or values to\n *                                      pass through to element creator\n * @param {...Element}         children Descendant elements\n *\n * @return {Element} Element.\n */\nexport { createElement };\n\n/**\n * Returns an object tracking a reference to a rendered element via its\n * `current` property as either a DOMElement or Element, dependent upon the\n * type of element rendered with the ref attribute.\n *\n * @return {Object} Ref object.\n */\nexport { createRef };\n\n/**\n * Component enhancer used to enable passing a ref to its wrapped component.\n * Pass a function argument which receives `props` and `ref` as its arguments,\n * returning an element using the forwarded ref. The return value is a new\n * component which forwards its ref.\n *\n * @param {Function} forwarder Function passed `props` and `ref`, expected to\n *                             return an element.\n *\n * @return {Component} Enhanced component.\n */\nexport { forwardRef };\n\n/**\n * A component which renders its children without any wrapping element.\n */\nexport { Fragment };\n\n/**\n * Checks if an object is a valid React Element.\n *\n * @param {Object} objectToCheck The object to be checked.\n *\n * @return {boolean} true if objectToTest is a valid React Element and false otherwise.\n */\nexport { isValidElement };\n\n/**\n * @see https://reactjs.org/docs/react-api.html#reactmemo\n */\nexport { memo };\n\n/**\n * Component that activates additional checks and warnings for its descendants.\n */\nexport { StrictMode };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usecallback\n */\nexport { useCallback };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usecontext\n */\nexport { useContext };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usedebugvalue\n */\nexport { useDebugValue };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usedeferredvalue\n */\nexport { useDeferredValue };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#useeffect\n */\nexport { useEffect };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#useid\n */\nexport { useId };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#useimperativehandle\n */\nexport { useImperativeHandle };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#useinsertioneffect\n */\nexport { useInsertionEffect };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */\nexport { useLayoutEffect };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usememo\n */\nexport { useMemo };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usereducer\n */\nexport { useReducer };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n */\nexport { useRef };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usestate\n */\nexport { useState };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usesyncexternalstore\n */\nexport { useSyncExternalStore };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usetransition\n */\nexport { useTransition };\n\n/**\n * @see https://reactjs.org/docs/react-api.html#starttransition\n */\nexport { startTransition };\n\n/**\n * @see https://reactjs.org/docs/react-api.html#reactlazy\n */\nexport { lazy };\n\n/**\n * @see https://reactjs.org/docs/react-api.html#reactsuspense\n */\nexport { Suspense };\n\n/**\n * @see https://reactjs.org/docs/react-api.html#reactpurecomponent\n */\nexport { PureComponent };\n\n/**\n * Concatenate two or more React children objects.\n *\n * @param {...?Object} childrenArguments Array of children arguments (array of arrays/strings/objects) to concatenate.\n *\n * @return {Array} The concatenated value.\n */\nexport function concatChildren( ...childrenArguments ) {\n\treturn childrenArguments.reduce( ( accumulator, children, i ) => {\n\t\tChildren.forEach( children, ( child, j ) => {\n\t\t\tif ( child && 'string' !== typeof child ) {\n\t\t\t\tchild = cloneElement( child, {\n\t\t\t\t\tkey: [ i, j ].join(),\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\taccumulator.push( child );\n\t\t} );\n\n\t\treturn accumulator;\n\t}, [] );\n}\n\n/**\n * Switches the nodeName of all the elements in the children object.\n *\n * @param {?Object} children Children object.\n * @param {string}  nodeName Node name.\n *\n * @return {?Object} The updated children object.\n */\nexport function switchChildrenNodeName( children, nodeName ) {\n\treturn (\n\t\tchildren &&\n\t\tChildren.map( children, ( elt, index ) => {\n\t\t\tif ( typeof elt?.valueOf() === 'string' ) {\n\t\t\t\treturn createElement( nodeName, { key: index }, elt );\n\t\t\t}\n\t\t\tconst { children: childrenProp, ...props } = elt.props;\n\t\t\treturn createElement(\n\t\t\t\tnodeName,\n\t\t\t\t{ key: index, ...props },\n\t\t\t\tchildrenProp\n\t\t\t);\n\t\t} )\n\t);\n}\n", "/**\n * External dependencies\n */\nimport {\n\tcreatePortal,\n\tfindDOMNode,\n\tflushSync,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n} from 'react-dom';\nimport { createRoot, hydrateRoot } from 'react-dom/client';\n\n/**\n * Creates a portal into which a component can be rendered.\n *\n * @see https://github.com/facebook/react/issues/10309#issuecomment-318433235\n *\n * @param {import('react').ReactElement} child     Any renderable child, such as an element,\n *                                                 string, or fragment.\n * @param {HTMLElement}                  container DOM node into which element should be rendered.\n */\nexport { createPortal };\n\n/**\n * Finds the dom node of a React component.\n *\n * @param {import('react').ComponentType} component Component's instance.\n */\nexport { findDOMNode };\n\n/**\n * Forces React to flush any updates inside the provided callback synchronously.\n *\n * @param {Function} callback Callback to run synchronously.\n */\nexport { flushSync };\n\n/**\n * Renders a given element into the target DOM node.\n *\n * @deprecated since WordPress 6.2.0. Use `createRoot` instead.\n * @see https://react.dev/reference/react-dom/render\n */\nexport { render };\n\n/**\n * Hydrates a given element into the target DOM node.\n *\n * @deprecated since WordPress 6.2.0. Use `hydrateRoot` instead.\n * @see https://react.dev/reference/react-dom/hydrate\n */\nexport { hydrate };\n\n/**\n * Creates a new React root for the target DOM node.\n *\n * @since 6.2.0 Introduced in WordPress core.\n * @see https://react.dev/reference/react-dom/client/createRoot\n */\nexport { createRoot };\n\n/**\n * Creates a new React root for the target DOM node and hydrates it with a pre-generated markup.\n *\n * @since 6.2.0 Introduced in WordPress core.\n * @see https://react.dev/reference/react-dom/client/hydrateRoot\n */\nexport { hydrateRoot };\n\n/**\n * Removes any mounted element from the target DOM node.\n *\n * @deprecated since WordPress 6.2.0. Use `root.unmount()` instead.\n * @see https://react.dev/reference/react-dom/unmountComponentAtNode\n */\nexport { unmountComponentAtNode };\n", "/**\n * Parts of this source were derived and modified from fast-react-render,\n * released under the MIT license.\n *\n * https://github.com/alt-j/fast-react-render\n *\n * Copyright (c) 2016 Andrey Morozov\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport { isPlainObject } from 'is-plain-object';\nimport { paramCase as kebabCase } from 'change-case';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tescapeHTML,\n\tescapeAttribute,\n\tisValidAttributeName,\n} from '@wordpress/escape-html';\n\n/**\n * Internal dependencies\n */\nimport { createContext, Fragment, StrictMode, forwardRef } from './react';\nimport RawHTML from './raw-html';\n\n/** @typedef {import('react').ReactElement} ReactElement */\n\nconst { Provider, Consumer } = createContext( undefined );\nconst ForwardRef = forwardRef( () => {\n\treturn null;\n} );\n\n/**\n * Valid attribute types.\n *\n * @type {Set<string>}\n */\nconst ATTRIBUTES_TYPES = new Set( [ 'string', 'boolean', 'number' ] );\n\n/**\n * Element tags which can be self-closing.\n *\n * @type {Set<string>}\n */\nconst SELF_CLOSING_TAGS = new Set( [\n\t'area',\n\t'base',\n\t'br',\n\t'col',\n\t'command',\n\t'embed',\n\t'hr',\n\t'img',\n\t'input',\n\t'keygen',\n\t'link',\n\t'meta',\n\t'param',\n\t'source',\n\t'track',\n\t'wbr',\n] );\n\n/**\n * Boolean attributes are attributes whose presence as being assigned is\n * meaningful, even if only empty.\n *\n * See: https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes\n * Extracted from: https://html.spec.whatwg.org/multipage/indices.html#attributes-3\n *\n * Object.keys( [ ...document.querySelectorAll( '#attributes-1 > tbody > tr' ) ]\n *     .filter( ( tr ) => tr.lastChild.textContent.indexOf( 'Boolean attribute' ) !== -1 )\n *     .reduce( ( result, tr ) => Object.assign( result, {\n *         [ tr.firstChild.textContent.trim() ]: true\n *     } ), {} ) ).sort();\n *\n * @type {Set<string>}\n */\nconst BOOLEAN_ATTRIBUTES = new Set( [\n\t'allowfullscreen',\n\t'allowpaymentrequest',\n\t'allowusermedia',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'download',\n\t'formnovalidate',\n\t'hidden',\n\t'ismap',\n\t'itemscope',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected',\n\t'typemustmatch',\n] );\n\n/**\n * Enumerated attributes are attributes which must be of a specific value form.\n * Like boolean attributes, these are meaningful if specified, even if not of a\n * valid enumerated value.\n *\n * See: https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#enumerated-attribute\n * Extracted from: https://html.spec.whatwg.org/multipage/indices.html#attributes-3\n *\n * Object.keys( [ ...document.querySelectorAll( '#attributes-1 > tbody > tr' ) ]\n *     .filter( ( tr ) => /^(\"(.+?)\";?\\s*)+/.test( tr.lastChild.textContent.trim() ) )\n *     .reduce( ( result, tr ) => Object.assign( result, {\n *         [ tr.firstChild.textContent.trim() ]: true\n *     } ), {} ) ).sort();\n *\n * Some notable omissions:\n *\n *  - `alt`: https://blog.whatwg.org/omit-alt\n *\n * @type {Set<string>}\n */\nconst ENUMERATED_ATTRIBUTES = new Set( [\n\t'autocapitalize',\n\t'autocomplete',\n\t'charset',\n\t'contenteditable',\n\t'crossorigin',\n\t'decoding',\n\t'dir',\n\t'draggable',\n\t'enctype',\n\t'formenctype',\n\t'formmethod',\n\t'http-equiv',\n\t'inputmode',\n\t'kind',\n\t'method',\n\t'preload',\n\t'scope',\n\t'shape',\n\t'spellcheck',\n\t'translate',\n\t'type',\n\t'wrap',\n] );\n\n/**\n * Set of CSS style properties which support assignment of unitless numbers.\n * Used in rendering of style properties, where `px` unit is assumed unless\n * property is included in this set or value is zero.\n *\n * Generated via:\n *\n * Object.entries( document.createElement( 'div' ).style )\n *     .filter( ( [ key ] ) => (\n *         ! /^(webkit|ms|moz)/.test( key ) &&\n *         ( e.style[ key ] = 10 ) &&\n *         e.style[ key ] === '10'\n *     ) )\n *     .map( ( [ key ] ) => key )\n *     .sort();\n *\n * @type {Set<string>}\n */\nconst CSS_PROPERTIES_SUPPORTS_UNITLESS = new Set( [\n\t'animation',\n\t'animationIterationCount',\n\t'baselineShift',\n\t'borderImageOutset',\n\t'borderImageSlice',\n\t'borderImageWidth',\n\t'columnCount',\n\t'cx',\n\t'cy',\n\t'fillOpacity',\n\t'flexGrow',\n\t'flexShrink',\n\t'floodOpacity',\n\t'fontWeight',\n\t'gridColumnEnd',\n\t'gridColumnStart',\n\t'gridRowEnd',\n\t'gridRowStart',\n\t'lineHeight',\n\t'opacity',\n\t'order',\n\t'orphans',\n\t'r',\n\t'rx',\n\t'ry',\n\t'shapeImageThreshold',\n\t'stopOpacity',\n\t'strokeDasharray',\n\t'strokeDashoffset',\n\t'strokeMiterlimit',\n\t'strokeOpacity',\n\t'strokeWidth',\n\t'tabSize',\n\t'widows',\n\t'x',\n\t'y',\n\t'zIndex',\n\t'zoom',\n] );\n\n/**\n * Returns true if the specified string is prefixed by one of an array of\n * possible prefixes.\n *\n * @param {string}   string   String to check.\n * @param {string[]} prefixes Possible prefixes.\n *\n * @return {boolean} Whether string has prefix.\n */\nexport function hasPrefix( string, prefixes ) {\n\treturn prefixes.some( ( prefix ) => string.indexOf( prefix ) === 0 );\n}\n\n/**\n * Returns true if the given prop name should be ignored in attributes\n * serialization, or false otherwise.\n *\n * @param {string} attribute Attribute to check.\n *\n * @return {boolean} Whether attribute should be ignored.\n */\nfunction isInternalAttribute( attribute ) {\n\treturn 'key' === attribute || 'children' === attribute;\n}\n\n/**\n * Returns the normal form of the element's attribute value for HTML.\n *\n * @param {string} attribute Attribute name.\n * @param {*}      value     Non-normalized attribute value.\n *\n * @return {*} Normalized attribute value.\n */\nfunction getNormalAttributeValue( attribute, value ) {\n\tswitch ( attribute ) {\n\t\tcase 'style':\n\t\t\treturn renderStyle( value );\n\t}\n\n\treturn value;\n}\n/**\n * This is a map of all SVG attributes that have dashes. Map(lower case prop => dashed lower case attribute).\n * We need this to render e.g strokeWidth as stroke-width.\n *\n * List from: https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute.\n */\nconst SVG_ATTRIBUTE_WITH_DASHES_LIST = [\n\t'accentHeight',\n\t'alignmentBaseline',\n\t'arabicForm',\n\t'baselineShift',\n\t'capHeight',\n\t'clipPath',\n\t'clipRule',\n\t'colorInterpolation',\n\t'colorInterpolationFilters',\n\t'colorProfile',\n\t'colorRendering',\n\t'dominantBaseline',\n\t'enableBackground',\n\t'fillOpacity',\n\t'fillRule',\n\t'floodColor',\n\t'floodOpacity',\n\t'fontFamily',\n\t'fontSize',\n\t'fontSizeAdjust',\n\t'fontStretch',\n\t'fontStyle',\n\t'fontVariant',\n\t'fontWeight',\n\t'glyphName',\n\t'glyphOrientationHorizontal',\n\t'glyphOrientationVertical',\n\t'horizAdvX',\n\t'horizOriginX',\n\t'imageRendering',\n\t'letterSpacing',\n\t'lightingColor',\n\t'markerEnd',\n\t'markerMid',\n\t'markerStart',\n\t'overlinePosition',\n\t'overlineThickness',\n\t'paintOrder',\n\t'panose1',\n\t'pointerEvents',\n\t'renderingIntent',\n\t'shapeRendering',\n\t'stopColor',\n\t'stopOpacity',\n\t'strikethroughPosition',\n\t'strikethroughThickness',\n\t'strokeDasharray',\n\t'strokeDashoffset',\n\t'strokeLinecap',\n\t'strokeLinejoin',\n\t'strokeMiterlimit',\n\t'strokeOpacity',\n\t'strokeWidth',\n\t'textAnchor',\n\t'textDecoration',\n\t'textRendering',\n\t'underlinePosition',\n\t'underlineThickness',\n\t'unicodeBidi',\n\t'unicodeRange',\n\t'unitsPerEm',\n\t'vAlphabetic',\n\t'vHanging',\n\t'vIdeographic',\n\t'vMathematical',\n\t'vectorEffect',\n\t'vertAdvY',\n\t'vertOriginX',\n\t'vertOriginY',\n\t'wordSpacing',\n\t'writingMode',\n\t'xmlnsXlink',\n\t'xHeight',\n].reduce( ( map, attribute ) => {\n\t// The keys are lower-cased for more robust lookup.\n\tmap[ attribute.toLowerCase() ] = attribute;\n\treturn map;\n}, {} );\n\n/**\n * This is a map of all case-sensitive SVG attributes. Map(lowercase key => proper case attribute).\n * The keys are lower-cased for more robust lookup.\n * Note that this list only contains attributes that contain at least one capital letter.\n * Lowercase attributes don't need mapping, since we lowercase all attributes by default.\n */\nconst CASE_SENSITIVE_SVG_ATTRIBUTES = [\n\t'allowReorder',\n\t'attributeName',\n\t'attributeType',\n\t'autoReverse',\n\t'baseFrequency',\n\t'baseProfile',\n\t'calcMode',\n\t'clipPathUnits',\n\t'contentScriptType',\n\t'contentStyleType',\n\t'diffuseConstant',\n\t'edgeMode',\n\t'externalResourcesRequired',\n\t'filterRes',\n\t'filterUnits',\n\t'glyphRef',\n\t'gradientTransform',\n\t'gradientUnits',\n\t'kernelMatrix',\n\t'kernelUnitLength',\n\t'keyPoints',\n\t'keySplines',\n\t'keyTimes',\n\t'lengthAdjust',\n\t'limitingConeAngle',\n\t'markerHeight',\n\t'markerUnits',\n\t'markerWidth',\n\t'maskContentUnits',\n\t'maskUnits',\n\t'numOctaves',\n\t'pathLength',\n\t'patternContentUnits',\n\t'patternTransform',\n\t'patternUnits',\n\t'pointsAtX',\n\t'pointsAtY',\n\t'pointsAtZ',\n\t'preserveAlpha',\n\t'preserveAspectRatio',\n\t'primitiveUnits',\n\t'refX',\n\t'refY',\n\t'repeatCount',\n\t'repeatDur',\n\t'requiredExtensions',\n\t'requiredFeatures',\n\t'specularConstant',\n\t'specularExponent',\n\t'spreadMethod',\n\t'startOffset',\n\t'stdDeviation',\n\t'stitchTiles',\n\t'suppressContentEditableWarning',\n\t'suppressHydrationWarning',\n\t'surfaceScale',\n\t'systemLanguage',\n\t'tableValues',\n\t'targetX',\n\t'targetY',\n\t'textLength',\n\t'viewBox',\n\t'viewTarget',\n\t'xChannelSelector',\n\t'yChannelSelector',\n].reduce( ( map, attribute ) => {\n\t// The keys are lower-cased for more robust lookup.\n\tmap[ attribute.toLowerCase() ] = attribute;\n\treturn map;\n}, {} );\n\n/**\n * This is a map of all SVG attributes that have colons.\n * Keys are lower-cased and stripped of their colons for more robust lookup.\n */\nconst SVG_ATTRIBUTES_WITH_COLONS = [\n\t'xlink:actuate',\n\t'xlink:arcrole',\n\t'xlink:href',\n\t'xlink:role',\n\t'xlink:show',\n\t'xlink:title',\n\t'xlink:type',\n\t'xml:base',\n\t'xml:lang',\n\t'xml:space',\n\t'xmlns:xlink',\n].reduce( ( map, attribute ) => {\n\tmap[ attribute.replace( ':', '' ).toLowerCase() ] = attribute;\n\treturn map;\n}, {} );\n\n/**\n * Returns the normal form of the element's attribute name for HTML.\n *\n * @param {string} attribute Non-normalized attribute name.\n *\n * @return {string} Normalized attribute name.\n */\nfunction getNormalAttributeName( attribute ) {\n\tswitch ( attribute ) {\n\t\tcase 'htmlFor':\n\t\t\treturn 'for';\n\n\t\tcase 'className':\n\t\t\treturn 'class';\n\t}\n\tconst attributeLowerCase = attribute.toLowerCase();\n\n\tif ( CASE_SENSITIVE_SVG_ATTRIBUTES[ attributeLowerCase ] ) {\n\t\treturn CASE_SENSITIVE_SVG_ATTRIBUTES[ attributeLowerCase ];\n\t} else if ( SVG_ATTRIBUTE_WITH_DASHES_LIST[ attributeLowerCase ] ) {\n\t\treturn kebabCase(\n\t\t\tSVG_ATTRIBUTE_WITH_DASHES_LIST[ attributeLowerCase ]\n\t\t);\n\t} else if ( SVG_ATTRIBUTES_WITH_COLONS[ attributeLowerCase ] ) {\n\t\treturn SVG_ATTRIBUTES_WITH_COLONS[ attributeLowerCase ];\n\t}\n\n\treturn attributeLowerCase;\n}\n\n/**\n * Returns the normal form of the style property name for HTML.\n *\n * - Converts property names to kebab-case, e.g. 'backgroundColor' → 'background-color'\n * - Leaves custom attributes alone, e.g. '--myBackgroundColor' → '--myBackgroundColor'\n * - Converts vendor-prefixed property names to -kebab-case, e.g. 'MozTransform' → '-moz-transform'\n *\n * @param {string} property Property name.\n *\n * @return {string} Normalized property name.\n */\nfunction getNormalStylePropertyName( property ) {\n\tif ( property.startsWith( '--' ) ) {\n\t\treturn property;\n\t}\n\n\tif ( hasPrefix( property, [ 'ms', 'O', 'Moz', 'Webkit' ] ) ) {\n\t\treturn '-' + kebabCase( property );\n\t}\n\n\treturn kebabCase( property );\n}\n\n/**\n * Returns the normal form of the style property value for HTML. Appends a\n * default pixel unit if numeric, not a unitless property, and not zero.\n *\n * @param {string} property Property name.\n * @param {*}      value    Non-normalized property value.\n *\n * @return {*} Normalized property value.\n */\nfunction getNormalStylePropertyValue( property, value ) {\n\tif (\n\t\ttypeof value === 'number' &&\n\t\t0 !== value &&\n\t\t! CSS_PROPERTIES_SUPPORTS_UNITLESS.has( property )\n\t) {\n\t\treturn value + 'px';\n\t}\n\n\treturn value;\n}\n\n/**\n * Serializes a React element to string.\n *\n * @param {import('react').ReactNode} element         Element to serialize.\n * @param {Object}                    [context]       Context object.\n * @param {Object}                    [legacyContext] Legacy context object.\n *\n * @return {string} Serialized element.\n */\nexport function renderElement( element, context, legacyContext = {} ) {\n\tif ( null === element || undefined === element || false === element ) {\n\t\treturn '';\n\t}\n\n\tif ( Array.isArray( element ) ) {\n\t\treturn renderChildren( element, context, legacyContext );\n\t}\n\n\tswitch ( typeof element ) {\n\t\tcase 'string':\n\t\t\treturn escapeHTML( element );\n\n\t\tcase 'number':\n\t\t\treturn element.toString();\n\t}\n\n\tconst { type, props } = /** @type {{type?: any, props?: any}} */ (\n\t\telement\n\t);\n\n\tswitch ( type ) {\n\t\tcase StrictMode:\n\t\tcase Fragment:\n\t\t\treturn renderChildren( props.children, context, legacyContext );\n\n\t\tcase RawHTML:\n\t\t\tconst { children, ...wrapperProps } = props;\n\n\t\t\treturn renderNativeComponent(\n\t\t\t\t! Object.keys( wrapperProps ).length ? null : 'div',\n\t\t\t\t{\n\t\t\t\t\t...wrapperProps,\n\t\t\t\t\tdangerouslySetInnerHTML: { __html: children },\n\t\t\t\t},\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\t}\n\n\tswitch ( typeof type ) {\n\t\tcase 'string':\n\t\t\treturn renderNativeComponent( type, props, context, legacyContext );\n\n\t\tcase 'function':\n\t\t\tif (\n\t\t\t\ttype.prototype &&\n\t\t\t\ttypeof type.prototype.render === 'function'\n\t\t\t) {\n\t\t\t\treturn renderComponent( type, props, context, legacyContext );\n\t\t\t}\n\n\t\t\treturn renderElement(\n\t\t\t\ttype( props, legacyContext ),\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\t}\n\n\tswitch ( type && type.$$typeof ) {\n\t\tcase Provider.$$typeof:\n\t\t\treturn renderChildren( props.children, props.value, legacyContext );\n\n\t\tcase Consumer.$$typeof:\n\t\t\treturn renderElement(\n\t\t\t\tprops.children( context || type._currentValue ),\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\n\t\tcase ForwardRef.$$typeof:\n\t\t\treturn renderElement(\n\t\t\t\ttype.render( props ),\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\t}\n\n\treturn '';\n}\n\n/**\n * Serializes a native component type to string.\n *\n * @param {?string} type            Native component type to serialize, or null if\n *                                  rendering as fragment of children content.\n * @param {Object}  props           Props object.\n * @param {Object}  [context]       Context object.\n * @param {Object}  [legacyContext] Legacy context object.\n *\n * @return {string} Serialized element.\n */\nexport function renderNativeComponent(\n\ttype,\n\tprops,\n\tcontext,\n\tlegacyContext = {}\n) {\n\tlet content = '';\n\tif ( type === 'textarea' && props.hasOwnProperty( 'value' ) ) {\n\t\t// Textarea children can be assigned as value prop. If it is, render in\n\t\t// place of children. Ensure to omit so it is not assigned as attribute\n\t\t// as well.\n\t\tcontent = renderChildren( props.value, context, legacyContext );\n\t\tconst { value, ...restProps } = props;\n\t\tprops = restProps;\n\t} else if (\n\t\tprops.dangerouslySetInnerHTML &&\n\t\ttypeof props.dangerouslySetInnerHTML.__html === 'string'\n\t) {\n\t\t// Dangerous content is left unescaped.\n\t\tcontent = props.dangerouslySetInnerHTML.__html;\n\t} else if ( typeof props.children !== 'undefined' ) {\n\t\tcontent = renderChildren( props.children, context, legacyContext );\n\t}\n\n\tif ( ! type ) {\n\t\treturn content;\n\t}\n\n\tconst attributes = renderAttributes( props );\n\n\tif ( SELF_CLOSING_TAGS.has( type ) ) {\n\t\treturn '<' + type + attributes + '/>';\n\t}\n\n\treturn '<' + type + attributes + '>' + content + '</' + type + '>';\n}\n\n/** @typedef {import('react').ComponentType} ComponentType */\n\n/**\n * Serializes a non-native component type to string.\n *\n * @param {ComponentType} Component       Component type to serialize.\n * @param {Object}        props           Props object.\n * @param {Object}        [context]       Context object.\n * @param {Object}        [legacyContext] Legacy context object.\n *\n * @return {string} Serialized element\n */\nexport function renderComponent(\n\tComponent,\n\tprops,\n\tcontext,\n\tlegacyContext = {}\n) {\n\tconst instance = new /** @type {import('react').ComponentClass} */ (\n\t\tComponent\n\t)( props, legacyContext );\n\n\tif (\n\t\ttypeof (\n\t\t\t// Ignore reason: Current prettier reformats parens and mangles type assertion\n\t\t\t// prettier-ignore\n\t\t\t/** @type {{getChildContext?: () => unknown}} */ ( instance ).getChildContext\n\t\t) === 'function'\n\t) {\n\t\tObject.assign(\n\t\t\tlegacyContext,\n\t\t\t/** @type {{getChildContext?: () => unknown}} */ (\n\t\t\t\tinstance\n\t\t\t).getChildContext()\n\t\t);\n\t}\n\n\tconst html = renderElement( instance.render(), context, legacyContext );\n\n\treturn html;\n}\n\n/**\n * Serializes an array of children to string.\n *\n * @param {import('react').ReactNodeArray} children        Children to serialize.\n * @param {Object}                         [context]       Context object.\n * @param {Object}                         [legacyContext] Legacy context object.\n *\n * @return {string} Serialized children.\n */\nfunction renderChildren( children, context, legacyContext = {} ) {\n\tlet result = '';\n\n\tchildren = Array.isArray( children ) ? children : [ children ];\n\n\tfor ( let i = 0; i < children.length; i++ ) {\n\t\tconst child = children[ i ];\n\n\t\tresult += renderElement( child, context, legacyContext );\n\t}\n\n\treturn result;\n}\n\n/**\n * Renders a props object as a string of HTML attributes.\n *\n * @param {Object} props Props object.\n *\n * @return {string} Attributes string.\n */\nexport function renderAttributes( props ) {\n\tlet result = '';\n\n\tfor ( const key in props ) {\n\t\tconst attribute = getNormalAttributeName( key );\n\t\tif ( ! isValidAttributeName( attribute ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet value = getNormalAttributeValue( key, props[ key ] );\n\n\t\t// If value is not of serializable type, skip.\n\t\tif ( ! ATTRIBUTES_TYPES.has( typeof value ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Don't render internal attribute names.\n\t\tif ( isInternalAttribute( key ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst isBooleanAttribute = BOOLEAN_ATTRIBUTES.has( attribute );\n\n\t\t// Boolean attribute should be omitted outright if its value is false.\n\t\tif ( isBooleanAttribute && value === false ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst isMeaningfulAttribute =\n\t\t\tisBooleanAttribute ||\n\t\t\thasPrefix( key, [ 'data-', 'aria-' ] ) ||\n\t\t\tENUMERATED_ATTRIBUTES.has( attribute );\n\n\t\t// Only write boolean value as attribute if meaningful.\n\t\tif ( typeof value === 'boolean' && ! isMeaningfulAttribute ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tresult += ' ' + attribute;\n\n\t\t// Boolean attributes should write attribute name, but without value.\n\t\t// Mere presence of attribute name is effective truthiness.\n\t\tif ( isBooleanAttribute ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( typeof value === 'string' ) {\n\t\t\tvalue = escapeAttribute( value );\n\t\t}\n\n\t\tresult += '=\"' + value + '\"';\n\t}\n\n\treturn result;\n}\n\n/**\n * Renders a style object as a string attribute value.\n *\n * @param {Object} style Style object.\n *\n * @return {string} Style attribute value.\n */\nexport function renderStyle( style ) {\n\t// Only generate from object, e.g. tolerate string value.\n\tif ( ! isPlainObject( style ) ) {\n\t\treturn style;\n\t}\n\n\tlet result;\n\n\tfor ( const property in style ) {\n\t\tconst value = style[ property ];\n\t\tif ( null === value || undefined === value ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( result ) {\n\t\t\tresult += ';';\n\t\t} else {\n\t\t\tresult = '';\n\t\t}\n\n\t\tconst normalName = getNormalStylePropertyName( property );\n\t\tconst normalValue = getNormalStylePropertyValue( property, value );\n\t\tresult += normalName + ':' + normalValue;\n\t}\n\n\treturn result;\n}\n\nexport default renderElement;\n", "/**\n * External dependencies\n */\nimport type { ComponentType, ComponentClass } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\n\n/**\n * Given a component returns the enhanced component augmented with a component\n * only re-rendering when its props/state change\n *\n * @deprecated Use `memo` or `PureComponent` instead.\n */\nconst pure = createHigherOrderComponent( function < Props extends {} >(\n\tWrappedComponent: ComponentType< Props >\n): ComponentType< Props > {\n\tif ( WrappedComponent.prototype instanceof Component ) {\n\t\treturn class extends ( WrappedComponent as ComponentClass< Props > ) {\n\t\t\tshouldComponentUpdate( nextProps: Props, nextState: any ) {\n\t\t\t\treturn (\n\t\t\t\t\t! isShallowEqual( nextProps, this.props ) ||\n\t\t\t\t\t! isShallowEqual( nextState, this.state )\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}\n\n\treturn class extends Component< Props > {\n\t\tshouldComponentUpdate( nextProps: Props ) {\n\t\t\treturn ! isShallowEqual( nextProps, this.props );\n\t\t}\n\n\t\trender() {\n\t\t\treturn <WrappedComponent { ...this.props } />;\n\t\t}\n\t};\n}, 'pure' );\n\nexport default pure;\n", "/**\n * Class responsible for orchestrating event handling on the global window,\n * binding a single event to be shared across all handling instances, and\n * removing the handler when no instances are listening for the event.\n */\nclass Listener {\n\tconstructor() {\n\t\t/** @type {any} */\n\t\tthis.listeners = {};\n\n\t\tthis.handleEvent = this.handleEvent.bind( this );\n\t}\n\n\tadd( /** @type {any} */ eventType, /** @type {any} */ instance ) {\n\t\tif ( ! this.listeners[ eventType ] ) {\n\t\t\t// Adding first listener for this type, so bind event.\n\t\t\twindow.addEventListener( eventType, this.handleEvent );\n\t\t\tthis.listeners[ eventType ] = [];\n\t\t}\n\n\t\tthis.listeners[ eventType ].push( instance );\n\t}\n\n\tremove( /** @type {any} */ eventType, /** @type {any} */ instance ) {\n\t\tif ( ! this.listeners[ eventType ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.listeners[ eventType ] = this.listeners[ eventType ].filter(\n\t\t\t( /** @type {any} */ listener ) => listener !== instance\n\t\t);\n\n\t\tif ( ! this.listeners[ eventType ].length ) {\n\t\t\t// Removing last listener for this type, so unbind event.\n\t\t\twindow.removeEventListener( eventType, this.handleEvent );\n\t\t\tdelete this.listeners[ eventType ];\n\t\t}\n\t}\n\n\thandleEvent( /** @type {any} */ event ) {\n\t\tthis.listeners[ event.type ]?.forEach(\n\t\t\t( /** @type {any} */ instance ) => {\n\t\t\t\tinstance.handleEvent( event );\n\t\t\t}\n\t\t);\n\t}\n}\n\nexport default Listener;\n", "/**\n * WordPress dependencies\n */\nimport { Component, forwardRef } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\nimport Listener from './listener';\n\n/**\n * Listener instance responsible for managing document event handling.\n */\nconst listener = new Listener();\n\n/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Higher-order component creator which, given an object of DOM event types and\n * values corresponding to a callback function name on the component, will\n * create or update a window event handler to invoke the callback when an event\n * occurs. On behalf of the consuming developer, the higher-order component\n * manages unbinding when the component unmounts, and binding at most a single\n * event handler for the entire application.\n *\n * @deprecated\n *\n * @param {Record<keyof GlobalEventHandlersEventMap, string>} eventTypesToHandlers Object with keys of DOM\n *                                                                                 event type, the value a\n *                                                                                 name of the function on\n *                                                                                 the original component's\n *                                                                                 instance which handles\n *                                                                                 the event.\n *\n * @return {any} Higher-order component.\n */\nexport default function withGlobalEvents( eventTypesToHandlers ) {\n\tdeprecated( 'wp.compose.withGlobalEvents', {\n\t\tsince: '5.7',\n\t\talternative: 'useEffect',\n\t} );\n\n\t// @ts-ignore We don't need to fix the type-related issues because this is deprecated.\n\treturn createHigherOrderComponent( ( WrappedComponent ) => {\n\t\tclass Wrapper extends Component {\n\t\t\tconstructor( /** @type {any} */ props ) {\n\t\t\t\tsuper( props );\n\n\t\t\t\tthis.handleEvent = this.handleEvent.bind( this );\n\t\t\t\tthis.handleRef = this.handleRef.bind( this );\n\t\t\t}\n\n\t\t\tcomponentDidMount() {\n\t\t\t\tObject.keys( eventTypesToHandlers ).forEach( ( eventType ) => {\n\t\t\t\t\tlistener.add( eventType, this );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tcomponentWillUnmount() {\n\t\t\t\tObject.keys( eventTypesToHandlers ).forEach( ( eventType ) => {\n\t\t\t\t\tlistener.remove( eventType, this );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thandleEvent( /** @type {any} */ event ) {\n\t\t\t\tconst handler =\n\t\t\t\t\teventTypesToHandlers[\n\t\t\t\t\t\t/** @type {keyof GlobalEventHandlersEventMap} */ (\n\t\t\t\t\t\t\tevent.type\n\t\t\t\t\t\t)\n\t\t\t\t\t\t/* eslint-enable jsdoc/no-undefined-types */\n\t\t\t\t\t];\n\t\t\t\tif ( typeof this.wrappedRef[ handler ] === 'function' ) {\n\t\t\t\t\tthis.wrappedRef[ handler ]( event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thandleRef( /** @type {any} */ el ) {\n\t\t\t\tthis.wrappedRef = el;\n\t\t\t\t// Any component using `withGlobalEvents` that is not setting a `ref`\n\t\t\t\t// will cause `this.props.forwardedRef` to be `null`, so we need this\n\t\t\t\t// check.\n\t\t\t\tif ( this.props.forwardedRef ) {\n\t\t\t\t\tthis.props.forwardedRef( el );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\treturn (\n\t\t\t\t\t<WrappedComponent\n\t\t\t\t\t\t{ ...this.props.ownProps }\n\t\t\t\t\t\tref={ this.handleRef }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn forwardRef( ( props, ref ) => {\n\t\t\treturn <Wrapper ownProps={ props } forwardedRef={ ref } />;\n\t\t} );\n\t}, 'withGlobalEvents' );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\nconst instanceMap = new WeakMap< object, number >();\n\n/**\n * Creates a new id for a given object.\n *\n * @param object Object reference to create an id for.\n * @return The instance id (index).\n */\nfunction createId( object: object ): number {\n\tconst instances = instanceMap.get( object ) || 0;\n\tinstanceMap.set( object, instances + 1 );\n\treturn instances;\n}\n\n/**\n * Specify the useInstanceId *function* signatures.\n *\n * More accurately, useInstanceId distinguishes between three different\n * signatures:\n *\n * 1. When only object is given, the returned value is a number\n * 2. When object and prefix is given, the returned value is a string\n * 3. When preferredId is given, the returned value is the type of preferredId\n *\n * @param object Object reference to create an id for.\n */\nfunction useInstanceId( object: object ): number;\nfunction useInstanceId( object: object, prefix: string ): string;\nfunction useInstanceId< T extends string | number >(\n\tobject: object,\n\tprefix: string,\n\tpreferredId?: T\n): T;\n\n/**\n * Provides a unique instance ID.\n *\n * @param object        Object reference to create an id for.\n * @param [prefix]      Prefix for the unique id.\n * @param [preferredId] Default ID to use.\n * @return The unique instance id.\n */\nfunction useInstanceId(\n\tobject: object,\n\tprefix?: string,\n\tpreferredId?: string | number\n): string | number {\n\treturn useMemo( () => {\n\t\tif ( preferredId ) {\n\t\t\treturn preferredId;\n\t\t}\n\t\tconst id = createId( object );\n\n\t\treturn prefix ? `${ prefix }-${ id }` : id;\n\t}, [ object, preferredId, prefix ] );\n}\n\nexport default useInstanceId;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tWithInjectedProps,\n\tWithoutInjectedProps,\n} from '../../utils/create-higher-order-component';\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\nimport useInstanceId from '../../hooks/use-instance-id';\n\ntype InstanceIdProps = { instanceId: string | number };\n\n/**\n * A Higher Order Component used to be provide a unique instance ID by\n * component.\n */\nconst withInstanceId = createHigherOrderComponent(\n\t< C extends WithInjectedProps< C, InstanceIdProps > >(\n\t\tWrappedComponent: C\n\t) => {\n\t\treturn ( props: WithoutInjectedProps< C, InstanceIdProps > ) => {\n\t\t\tconst instanceId = useInstanceId( WrappedComponent );\n\t\t\t// @ts-ignore\n\t\t\treturn <WrappedComponent { ...props } instanceId={ instanceId } />;\n\t\t};\n\t},\n\t'instanceId'\n);\n\nexport default withInstanceId;\n", "/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tWithInjectedProps,\n\tWithoutInjectedProps,\n} from '../../utils/create-higher-order-component';\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\n\n/**\n * We cannot use the `Window['setTimeout']` and `Window['clearTimeout']`\n * types here because those functions include functionality that is not handled\n * by this component, like the ability to pass extra arguments.\n *\n * In the case of this component, we only handle the simplest case where\n * `setTimeout` only accepts a function (not a string) and an optional delay.\n */\ninterface TimeoutProps {\n\tsetTimeout: ( fn: () => void, delay: number ) => number;\n\tclearTimeout: ( id: number ) => void;\n}\n\n/**\n * A higher-order component used to provide and manage delayed function calls\n * that ought to be bound to a component's lifecycle.\n */\nconst withSafeTimeout = createHigherOrderComponent(\n\t< C extends WithInjectedProps< C, TimeoutProps > >(\n\t\tOriginalComponent: C\n\t) => {\n\t\ttype WrappedProps = WithoutInjectedProps< C, TimeoutProps >;\n\t\treturn class WrappedComponent extends Component< WrappedProps > {\n\t\t\ttimeouts: number[];\n\n\t\t\tconstructor( props: WrappedProps ) {\n\t\t\t\tsuper( props );\n\t\t\t\tthis.timeouts = [];\n\t\t\t\tthis.setTimeout = this.setTimeout.bind( this );\n\t\t\t\tthis.clearTimeout = this.clearTimeout.bind( this );\n\t\t\t}\n\n\t\t\tcomponentWillUnmount() {\n\t\t\t\tthis.timeouts.forEach( clearTimeout );\n\t\t\t}\n\n\t\t\tsetTimeout( fn: () => void, delay: number ) {\n\t\t\t\tconst id = setTimeout( () => {\n\t\t\t\t\tfn();\n\t\t\t\t\tthis.clearTimeout( id );\n\t\t\t\t}, delay );\n\t\t\t\tthis.timeouts.push( id );\n\t\t\t\treturn id;\n\t\t\t}\n\n\t\t\tclearTimeout( id: number ) {\n\t\t\t\tclearTimeout( id );\n\t\t\t\tthis.timeouts = this.timeouts.filter(\n\t\t\t\t\t( timeoutId ) => timeoutId !== id\n\t\t\t\t);\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\treturn (\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t<OriginalComponent\n\t\t\t\t\t\t{ ...this.props }\n\t\t\t\t\t\tsetTimeout={ this.setTimeout }\n\t\t\t\t\t\tclearTimeout={ this.clearTimeout }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t},\n\t'withSafeTimeout'\n);\n\nexport default withSafeTimeout;\n", "/**\n * All phrasing content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content-0\n */\n\n/**\n * @typedef {Record<string,SemanticElementDefinition>} ContentSchema\n */\n\n/**\n * @typedef SemanticElementDefinition\n * @property {string[]}      [attributes] Content attributes\n * @property {ContentSchema} [children]   Content attributes\n */\n\n/**\n * All text-level semantic elements.\n *\n * @see https://html.spec.whatwg.org/multipage/text-level-semantics.html\n *\n * @type {ContentSchema}\n */\nconst textContentSchema = {\n\tstrong: {},\n\tem: {},\n\ts: {},\n\tdel: {},\n\tins: {},\n\ta: { attributes: [ 'href', 'target', 'rel', 'id' ] },\n\tcode: {},\n\tabbr: { attributes: [ 'title' ] },\n\tsub: {},\n\tsup: {},\n\tbr: {},\n\tsmall: {},\n\t// To do: fix blockquote.\n\t// cite: {},\n\tq: { attributes: [ 'cite' ] },\n\tdfn: { attributes: [ 'title' ] },\n\tdata: { attributes: [ 'value' ] },\n\ttime: { attributes: [ 'datetime' ] },\n\tvar: {},\n\tsamp: {},\n\tkbd: {},\n\ti: {},\n\tb: {},\n\tu: {},\n\tmark: {},\n\truby: {},\n\trt: {},\n\trp: {},\n\tbdi: { attributes: [ 'dir' ] },\n\tbdo: { attributes: [ 'dir' ] },\n\twbr: {},\n\t'#text': {},\n};\n\n// Recursion is needed.\n// Possible: strong > em > strong.\n// Impossible: strong > strong.\nconst excludedElements = [ '#text', 'br' ];\nObject.keys( textContentSchema )\n\t.filter( ( element ) => ! excludedElements.includes( element ) )\n\t.forEach( ( tag ) => {\n\t\tconst { [ tag ]: removedTag, ...restSchema } = textContentSchema;\n\t\ttextContentSchema[ tag ].children = restSchema;\n\t} );\n\n/**\n * Embedded content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#embedded-content-0\n *\n * @type {ContentSchema}\n */\nconst embeddedContentSchema = {\n\taudio: {\n\t\tattributes: [\n\t\t\t'src',\n\t\t\t'preload',\n\t\t\t'autoplay',\n\t\t\t'mediagroup',\n\t\t\t'loop',\n\t\t\t'muted',\n\t\t],\n\t},\n\tcanvas: { attributes: [ 'width', 'height' ] },\n\tembed: { attributes: [ 'src', 'type', 'width', 'height' ] },\n\timg: {\n\t\tattributes: [\n\t\t\t'alt',\n\t\t\t'src',\n\t\t\t'srcset',\n\t\t\t'usemap',\n\t\t\t'ismap',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n\tobject: {\n\t\tattributes: [\n\t\t\t'data',\n\t\t\t'type',\n\t\t\t'name',\n\t\t\t'usemap',\n\t\t\t'form',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n\tvideo: {\n\t\tattributes: [\n\t\t\t'src',\n\t\t\t'poster',\n\t\t\t'preload',\n\t\t\t'playsinline',\n\t\t\t'autoplay',\n\t\t\t'mediagroup',\n\t\t\t'loop',\n\t\t\t'muted',\n\t\t\t'controls',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n};\n\n/**\n * Phrasing content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content-0\n */\nconst phrasingContentSchema = {\n\t...textContentSchema,\n\t...embeddedContentSchema,\n};\n\n/**\n * Get schema of possible paths for phrasing content.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n *\n * @param {string} [context] Set to \"paste\" to exclude invisible elements and\n *                           sensitive data.\n *\n * @return {Partial<ContentSchema>} Schema.\n */\nexport function getPhrasingContentSchema( context ) {\n\tif ( context !== 'paste' ) {\n\t\treturn phrasingContentSchema;\n\t}\n\n\t/**\n\t * @type {Partial<ContentSchema>}\n\t */\n\tconst {\n\t\tu, // Used to mark misspelling. Shouldn't be pasted.\n\t\tabbr, // Invisible.\n\t\tdata, // Invisible.\n\t\ttime, // Invisible.\n\t\twbr, // Invisible.\n\t\tbdi, // Invisible.\n\t\tbdo, // Invisible.\n\t\t...remainingContentSchema\n\t} = {\n\t\t...phrasingContentSchema,\n\t\t// We shouldn't paste potentially sensitive information which is not\n\t\t// visible to the user when pasted, so strip the attributes.\n\t\tins: { children: phrasingContentSchema.ins.children },\n\t\tdel: { children: phrasingContentSchema.del.children },\n\t};\n\n\treturn remainingContentSchema;\n}\n\n/**\n * Find out whether or not the given node is phrasing content.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n *\n * @param {Node} node The node to test.\n *\n * @return {boolean} True if phrasing content, false if not.\n */\nexport function isPhrasingContent( node ) {\n\tconst tag = node.nodeName.toLowerCase();\n\treturn getPhrasingContentSchema().hasOwnProperty( tag ) || tag === 'span';\n}\n\n/**\n * @param {Node} node\n * @return {boolean} Node is text content\n */\nexport function isTextContent( node ) {\n\tconst tag = node.nodeName.toLowerCase();\n\treturn textContentSchema.hasOwnProperty( tag ) || tag === 'span';\n}\n", "/**\n * External dependencies\n */\nimport Clipboard from 'clipboard';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useEffect, useState } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\n\n/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Copies the text to the clipboard when the element is clicked.\n *\n * @deprecated\n *\n * @param {import('react').RefObject<string | Element | NodeListOf<Element>>} ref       Reference with the element.\n * @param {string|Function}                                                   text      The text to copy.\n * @param {number}                                                            [timeout] Optional timeout to reset the returned\n *                                                                                      state. 4 seconds by default.\n *\n * @return {boolean} Whether or not the text has been copied. Resets after the\n *                   timeout.\n */\nexport default function useCopyOnClick( ref, text, timeout = 4000 ) {\n\t/* eslint-enable jsdoc/no-undefined-types */\n\tdeprecated( 'wp.compose.useCopyOnClick', {\n\t\tsince: '5.8',\n\t\talternative: 'wp.compose.useCopyToClipboard',\n\t} );\n\n\t/** @type {import('react').MutableRefObject<Clipboard | undefined>} */\n\tconst clipboard = useRef();\n\tconst [ hasCopied, setHasCopied ] = useState( false );\n\n\tuseEffect( () => {\n\t\t/** @type {number | undefined} */\n\t\tlet timeoutId;\n\n\t\tif ( ! ref.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Clipboard listens to click events.\n\t\tclipboard.current = new Clipboard( ref.current, {\n\t\t\ttext: () => ( typeof text === 'function' ? text() : text ),\n\t\t} );\n\n\t\tclipboard.current.on( 'success', ( { clearSelection, trigger } ) => {\n\t\t\t// Clearing selection will move focus back to the triggering button,\n\t\t\t// ensuring that it is not reset to the body, and further that it is\n\t\t\t// kept within the rendered node.\n\t\t\tclearSelection();\n\n\t\t\t// Handle ClipboardJS focus bug, see https://github.com/zenorocha/clipboard.js/issues/680\n\t\t\tif ( trigger ) {\n\t\t\t\t/** @type {HTMLElement} */ ( trigger ).focus();\n\t\t\t}\n\n\t\t\tif ( timeout ) {\n\t\t\t\tsetHasCopied( true );\n\t\t\t\tclearTimeout( timeoutId );\n\t\t\t\ttimeoutId = setTimeout( () => setHasCopied( false ), timeout );\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tif ( clipboard.current ) {\n\t\t\t\tclipboard.current.destroy();\n\t\t\t}\n\t\t\tclearTimeout( timeoutId );\n\t\t};\n\t}, [ text, timeout, setHasCopied ] );\n\n\treturn hasCopied;\n}\n", "/**\n * External dependencies\n */\nimport Clipboard from 'clipboard';\n\n/**\n * WordPress dependencies\n */\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useRefEffect from '../use-ref-effect';\n\n/**\n * @template T\n * @param {T} value\n * @return {import('react').RefObject<T>} The updated ref\n */\nfunction useUpdatedRef( value ) {\n\tconst ref = useRef( value );\n\tref.current = value;\n\treturn ref;\n}\n\n/**\n * Copies the given text to the clipboard when the element is clicked.\n *\n * @template {HTMLElement} TElementType\n * @param {string | (() => string)} text      The text to copy. Use a function if not\n *                                            already available and expensive to compute.\n * @param {Function}                onSuccess Called when to text is copied.\n *\n * @return {import('react').Ref<TElementType>} A ref to assign to the target element.\n */\nexport default function useCopyToClipboard( text, onSuccess ) {\n\t// Store the dependencies as refs and continuously update them so they're\n\t// fresh when the callback is called.\n\tconst textRef = useUpdatedRef( text );\n\tconst onSuccessRef = useUpdatedRef( onSuccess );\n\treturn useRefEffect( ( node ) => {\n\t\t// Clipboard listens to click events.\n\t\tconst clipboard = new Clipboard( node, {\n\t\t\ttext() {\n\t\t\t\treturn typeof textRef.current === 'function'\n\t\t\t\t\t? textRef.current()\n\t\t\t\t\t: textRef.current || '';\n\t\t\t},\n\t\t} );\n\n\t\tclipboard.on( 'success', ( { clearSelection } ) => {\n\t\t\t// Clearing selection will move focus back to the triggering\n\t\t\t// button, ensuring that it is not reset to the body, and\n\t\t\t// further that it is kept within the rendered node.\n\t\t\tclearSelection();\n\n\t\t\tif ( onSuccessRef.current ) {\n\t\t\t\tonSuccessRef.current();\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tclipboard.destroy();\n\t\t};\n\t}, [] );\n}\n", "/**\n * External dependencies\n */\nimport memoize from 'memize';\nimport sprintfjs from 'sprintf-js';\n\n/**\n * Log to console, once per message; or more precisely, per referentially equal\n * argument set. Because Jed throws errors, we log these to the console instead\n * to avoid crashing the application.\n *\n * @param {...*} args Arguments to pass to `console.error`\n */\nconst logErrorOnce = memoize( console.error ); // eslint-disable-line no-console\n\n/**\n * Returns a formatted string. If an error occurs in applying the format, the\n * original format string is returned.\n *\n * @param {string} format The format of the string to generate.\n * @param {...*}   args   Arguments to apply to the format.\n *\n * @see https://www.npmjs.com/package/sprintf-js\n *\n * @return {string} The formatted string.\n */\nexport function sprintf( format, ...args ) {\n\ttry {\n\t\treturn sprintfjs.sprintf( format, ...args );\n\t} catch ( error ) {\n\t\tif ( error instanceof Error ) {\n\t\t\tlogErrorOnce( 'sprintf error: \\n\\n' + error.toString() );\n\t\t}\n\t\treturn format;\n\t}\n}\n", "/**\n * External dependencies\n */\nimport Tannin from 'tannin';\n\n/**\n * @typedef {Record<string,any>} LocaleData\n */\n\n/**\n * Default locale data to use for Tannin domain when not otherwise provided.\n * Assumes an English plural forms expression.\n *\n * @type {LocaleData}\n */\nconst DEFAULT_LOCALE_DATA = {\n\t'': {\n\t\t/** @param {number} n */\n\t\tplural_forms( n ) {\n\t\t\treturn n === 1 ? 0 : 1;\n\t\t},\n\t},\n};\n\n/*\n * Regular expression that matches i18n hooks like `i18n.gettext`, `i18n.ngettext`,\n * `i18n.gettext_domain` or `i18n.ngettext_with_context` or `i18n.has_translation`.\n */\nconst I18N_HOOK_REGEXP = /^i18n\\.(n?gettext|has_translation)(_|$)/;\n\n/**\n * @typedef {(domain?: string) => LocaleData} GetLocaleData\n *\n * Returns locale data by domain in a\n * Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n */\n/**\n * @typedef {(data?: LocaleData, domain?: string) => void} SetLocaleData\n *\n * Merges locale data into the Tannin instance by domain. Note that this\n * function will overwrite the domain configuration. Accepts data in a\n * Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n */\n/**\n * @typedef {(data?: LocaleData, domain?: string) => void} AddLocaleData\n *\n * Merges locale data into the Tannin instance by domain. Note that this\n * function will also merge the domain configuration. Accepts data in a\n * Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n */\n/**\n * @typedef {(data?: LocaleData, domain?: string) => void} ResetLocaleData\n *\n * Resets all current Tannin instance locale data and sets the specified\n * locale data for the domain. Accepts data in a Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n */\n/** @typedef {() => void} SubscribeCallback */\n/** @typedef {() => void} UnsubscribeCallback */\n/**\n * @typedef {(callback: SubscribeCallback) => UnsubscribeCallback} Subscribe\n *\n * Subscribes to changes of locale data\n */\n/**\n * @typedef {(domain?: string) => string} GetFilterDomain\n * Retrieve the domain to use when calling domain-specific filters.\n */\n/**\n * @typedef {(text: string, domain?: string) => string} __\n *\n * Retrieve the translation of text.\n *\n * @see https://developer.wordpress.org/reference/functions/__/\n */\n/**\n * @typedef {(text: string, context: string, domain?: string) => string} _x\n *\n * Retrieve translated string with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_x/\n */\n/**\n * @typedef {(single: string, plural: string, number: number, domain?: string) => string} _n\n *\n * Translates and retrieves the singular or plural form based on the supplied\n * number.\n *\n * @see https://developer.wordpress.org/reference/functions/_n/\n */\n/**\n * @typedef {(single: string, plural: string, number: number, context: string, domain?: string) => string} _nx\n *\n * Translates and retrieves the singular or plural form based on the supplied\n * number, with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_nx/\n */\n/**\n * @typedef {() => boolean} IsRtl\n *\n * Check if current locale is RTL.\n *\n * **RTL (Right To Left)** is a locale property indicating that text is written from right to left.\n * For example, the `he` locale (for Hebrew) specifies right-to-left. Arabic (ar) is another common\n * language written RTL. The opposite of RTL, LTR (Left To Right) is used in other languages,\n * including English (`en`, `en-US`, `en-GB`, etc.), Spanish (`es`), and French (`fr`).\n */\n/**\n * @typedef {(single: string, context?: string, domain?: string) => boolean} HasTranslation\n *\n * Check if there is a translation for a given string in singular form.\n */\n/** @typedef {import('@wordpress/hooks').Hooks} Hooks */\n\n/**\n * An i18n instance\n *\n * @typedef I18n\n * @property {GetLocaleData}   getLocaleData   Returns locale data by domain in a Jed-formatted JSON object shape.\n * @property {SetLocaleData}   setLocaleData   Merges locale data into the Tannin instance by domain. Note that this\n *                                             function will overwrite the domain configuration. Accepts data in a\n *                                             Jed-formatted JSON object shape.\n * @property {AddLocaleData}   addLocaleData   Merges locale data into the Tannin instance by domain. Note that this\n *                                             function will also merge the domain configuration. Accepts data in a\n *                                             Jed-formatted JSON object shape.\n * @property {ResetLocaleData} resetLocaleData Resets all current Tannin instance locale data and sets the specified\n *                                             locale data for the domain. Accepts data in a Jed-formatted JSON object shape.\n * @property {Subscribe}       subscribe       Subscribes to changes of Tannin locale data.\n * @property {__}              __              Retrieve the translation of text.\n * @property {_x}              _x              Retrieve translated string with gettext context.\n * @property {_n}              _n              Translates and retrieves the singular or plural form based on the supplied\n *                                             number.\n * @property {_nx}             _nx             Translates and retrieves the singular or plural form based on the supplied\n *                                             number, with gettext context.\n * @property {IsRtl}           isRTL           Check if current locale is RTL.\n * @property {HasTranslation}  hasTranslation  Check if there is a translation for a given string.\n */\n\n/**\n * Create an i18n instance\n *\n * @param {LocaleData} [initialData]   Locale data configuration.\n * @param {string}     [initialDomain] Domain for which configuration applies.\n * @param {Hooks}      [hooks]         Hooks implementation.\n *\n * @return {I18n} I18n instance.\n */\nexport const createI18n = ( initialData, initialDomain, hooks ) => {\n\t/**\n\t * The underlying instance of Tannin to which exported functions interface.\n\t *\n\t * @type {Tannin}\n\t */\n\tconst tannin = new Tannin( {} );\n\n\tconst listeners = new Set();\n\n\tconst notifyListeners = () => {\n\t\tlisteners.forEach( ( listener ) => listener() );\n\t};\n\n\t/**\n\t * Subscribe to changes of locale data.\n\t *\n\t * @param {SubscribeCallback} callback Subscription callback.\n\t * @return {UnsubscribeCallback} Unsubscribe callback.\n\t */\n\tconst subscribe = ( callback ) => {\n\t\tlisteners.add( callback );\n\t\treturn () => listeners.delete( callback );\n\t};\n\n\t/** @type {GetLocaleData} */\n\tconst getLocaleData = ( domain = 'default' ) => tannin.data[ domain ];\n\n\t/**\n\t * @param {LocaleData} [data]\n\t * @param {string}     [domain]\n\t */\n\tconst doSetLocaleData = ( data, domain = 'default' ) => {\n\t\ttannin.data[ domain ] = {\n\t\t\t...tannin.data[ domain ],\n\t\t\t...data,\n\t\t};\n\n\t\t// Populate default domain configuration (supported locale date which omits\n\t\t// a plural forms expression).\n\t\ttannin.data[ domain ][ '' ] = {\n\t\t\t...DEFAULT_LOCALE_DATA[ '' ],\n\t\t\t...tannin.data[ domain ]?.[ '' ],\n\t\t};\n\n\t\t// Clean up cached plural forms functions cache as it might be updated.\n\t\tdelete tannin.pluralForms[ domain ];\n\t};\n\n\t/** @type {SetLocaleData} */\n\tconst setLocaleData = ( data, domain ) => {\n\t\tdoSetLocaleData( data, domain );\n\t\tnotifyListeners();\n\t};\n\n\t/** @type {AddLocaleData} */\n\tconst addLocaleData = ( data, domain = 'default' ) => {\n\t\ttannin.data[ domain ] = {\n\t\t\t...tannin.data[ domain ],\n\t\t\t...data,\n\t\t\t// Populate default domain configuration (supported locale date which omits\n\t\t\t// a plural forms expression).\n\t\t\t'': {\n\t\t\t\t...DEFAULT_LOCALE_DATA[ '' ],\n\t\t\t\t...tannin.data[ domain ]?.[ '' ],\n\t\t\t\t...data?.[ '' ],\n\t\t\t},\n\t\t};\n\n\t\t// Clean up cached plural forms functions cache as it might be updated.\n\t\tdelete tannin.pluralForms[ domain ];\n\n\t\tnotifyListeners();\n\t};\n\n\t/** @type {ResetLocaleData} */\n\tconst resetLocaleData = ( data, domain ) => {\n\t\t// Reset all current Tannin locale data.\n\t\ttannin.data = {};\n\n\t\t// Reset cached plural forms functions cache.\n\t\ttannin.pluralForms = {};\n\n\t\tsetLocaleData( data, domain );\n\t};\n\n\t/**\n\t * Wrapper for Tannin's `dcnpgettext`. Populates default locale data if not\n\t * otherwise previously assigned.\n\t *\n\t * @param {string|undefined} domain   Domain to retrieve the translated text.\n\t * @param {string|undefined} context  Context information for the translators.\n\t * @param {string}           single   Text to translate if non-plural. Used as\n\t *                                    fallback return value on a caught error.\n\t * @param {string}           [plural] The text to be used if the number is\n\t *                                    plural.\n\t * @param {number}           [number] The number to compare against to use\n\t *                                    either the singular or plural form.\n\t *\n\t * @return {string} The translated string.\n\t */\n\tconst dcnpgettext = (\n\t\tdomain = 'default',\n\t\tcontext,\n\t\tsingle,\n\t\tplural,\n\t\tnumber\n\t) => {\n\t\tif ( ! tannin.data[ domain ] ) {\n\t\t\t// Use `doSetLocaleData` to set silently, without notifying listeners.\n\t\t\tdoSetLocaleData( undefined, domain );\n\t\t}\n\n\t\treturn tannin.dcnpgettext( domain, context, single, plural, number );\n\t};\n\n\t/** @type {GetFilterDomain} */\n\tconst getFilterDomain = ( domain = 'default' ) => domain;\n\n\t/** @type {__} */\n\tconst __ = ( text, domain ) => {\n\t\tlet translation = dcnpgettext( domain, undefined, text );\n\t\tif ( ! hooks ) {\n\t\t\treturn translation;\n\t\t}\n\n\t\t/**\n\t\t * Filters text with its translation.\n\t\t *\n\t\t * @param {string} translation Translated text.\n\t\t * @param {string} text        Text to translate.\n\t\t * @param {string} domain      Text domain. Unique identifier for retrieving translated strings.\n\t\t */\n\t\ttranslation = /** @type {string} */ (\n\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t'i18n.gettext',\n\t\t\t\ttranslation,\n\t\t\t\ttext,\n\t\t\t\tdomain\n\t\t\t)\n\t\t);\n\t\treturn /** @type {string} */ (\n\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t'i18n.gettext_' + getFilterDomain( domain ),\n\t\t\t\ttranslation,\n\t\t\t\ttext,\n\t\t\t\tdomain\n\t\t\t)\n\t\t);\n\t};\n\n\t/** @type {_x} */\n\tconst _x = ( text, context, domain ) => {\n\t\tlet translation = dcnpgettext( domain, context, text );\n\t\tif ( ! hooks ) {\n\t\t\treturn translation;\n\t\t}\n\n\t\t/**\n\t\t * Filters text with its translation based on context information.\n\t\t *\n\t\t * @param {string} translation Translated text.\n\t\t * @param {string} text        Text to translate.\n\t\t * @param {string} context     Context information for the translators.\n\t\t * @param {string} domain      Text domain. Unique identifier for retrieving translated strings.\n\t\t */\n\t\ttranslation = /** @type {string} */ (\n\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t'i18n.gettext_with_context',\n\t\t\t\ttranslation,\n\t\t\t\ttext,\n\t\t\t\tcontext,\n\t\t\t\tdomain\n\t\t\t)\n\t\t);\n\t\treturn /** @type {string} */ (\n\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t'i18n.gettext_with_context_' + getFilterDomain( domain ),\n\t\t\t\ttranslation,\n\t\t\t\ttext,\n\t\t\t\tcontext,\n\t\t\t\tdomain\n\t\t\t)\n\t\t);\n\t};\n\n\t/** @type {_n} */\n\tconst _n = ( single, plural, number, domain ) => {\n\t\tlet translation = dcnpgettext(\n\t\t\tdomain,\n\t\t\tundefined,\n\t\t\tsingle,\n\t\t\tplural,\n\t\t\tnumber\n\t\t);\n\t\tif ( ! hooks ) {\n\t\t\treturn translation;\n\t\t}\n\n\t\t/**\n\t\t * Filters the singular or plural form of a string.\n\t\t *\n\t\t * @param {string} translation Translated text.\n\t\t * @param {string} single      The text to be used if the number is singular.\n\t\t * @param {string} plural      The text to be used if the number is plural.\n\t\t * @param {string} number      The number to compare against to use either the singular or plural form.\n\t\t * @param {string} domain      Text domain. Unique identifier for retrieving translated strings.\n\t\t */\n\t\ttranslation = /** @type {string} */ (\n\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t'i18n.ngettext',\n\t\t\t\ttranslation,\n\t\t\t\tsingle,\n\t\t\t\tplural,\n\t\t\t\tnumber,\n\t\t\t\tdomain\n\t\t\t)\n\t\t);\n\t\treturn /** @type {string} */ (\n\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t'i18n.ngettext_' + getFilterDomain( domain ),\n\t\t\t\ttranslation,\n\t\t\t\tsingle,\n\t\t\t\tplural,\n\t\t\t\tnumber,\n\t\t\t\tdomain\n\t\t\t)\n\t\t);\n\t};\n\n\t/** @type {_nx} */\n\tconst _nx = ( single, plural, number, context, domain ) => {\n\t\tlet translation = dcnpgettext(\n\t\t\tdomain,\n\t\t\tcontext,\n\t\t\tsingle,\n\t\t\tplural,\n\t\t\tnumber\n\t\t);\n\t\tif ( ! hooks ) {\n\t\t\treturn translation;\n\t\t}\n\n\t\t/**\n\t\t * Filters the singular or plural form of a string with gettext context.\n\t\t *\n\t\t * @param {string} translation Translated text.\n\t\t * @param {string} single      The text to be used if the number is singular.\n\t\t * @param {string} plural      The text to be used if the number is plural.\n\t\t * @param {string} number      The number to compare against to use either the singular or plural form.\n\t\t * @param {string} context     Context information for the translators.\n\t\t * @param {string} domain      Text domain. Unique identifier for retrieving translated strings.\n\t\t */\n\t\ttranslation = /** @type {string} */ (\n\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t'i18n.ngettext_with_context',\n\t\t\t\ttranslation,\n\t\t\t\tsingle,\n\t\t\t\tplural,\n\t\t\t\tnumber,\n\t\t\t\tcontext,\n\t\t\t\tdomain\n\t\t\t)\n\t\t);\n\n\t\treturn /** @type {string} */ (\n\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t'i18n.ngettext_with_context_' + getFilterDomain( domain ),\n\t\t\t\ttranslation,\n\t\t\t\tsingle,\n\t\t\t\tplural,\n\t\t\t\tnumber,\n\t\t\t\tcontext,\n\t\t\t\tdomain\n\t\t\t)\n\t\t);\n\t};\n\n\t/** @type {IsRtl} */\n\tconst isRTL = () => {\n\t\treturn 'rtl' === _x( 'ltr', 'text direction' );\n\t};\n\n\t/** @type {HasTranslation} */\n\tconst hasTranslation = ( single, context, domain ) => {\n\t\tconst key = context ? context + '\\u0004' + single : single;\n\t\tlet result = !! tannin.data?.[ domain ?? 'default' ]?.[ key ];\n\t\tif ( hooks ) {\n\t\t\t/**\n\t\t\t * Filters the presence of a translation in the locale data.\n\t\t\t *\n\t\t\t * @param {boolean} hasTranslation Whether the translation is present or not..\n\t\t\t * @param {string}  single         The singular form of the translated text (used as key in locale data)\n\t\t\t * @param {string}  context        Context information for the translators.\n\t\t\t * @param {string}  domain         Text domain. Unique identifier for retrieving translated strings.\n\t\t\t */\n\t\t\tresult = /** @type { boolean } */ (\n\t\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t\t'i18n.has_translation',\n\t\t\t\t\tresult,\n\t\t\t\t\tsingle,\n\t\t\t\t\tcontext,\n\t\t\t\t\tdomain\n\t\t\t\t)\n\t\t\t);\n\n\t\t\tresult = /** @type { boolean } */ (\n\t\t\t\t/** @type {*} */ hooks.applyFilters(\n\t\t\t\t\t'i18n.has_translation_' + getFilterDomain( domain ),\n\t\t\t\t\tresult,\n\t\t\t\t\tsingle,\n\t\t\t\t\tcontext,\n\t\t\t\t\tdomain\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\treturn result;\n\t};\n\n\tif ( initialData ) {\n\t\tsetLocaleData( initialData, initialDomain );\n\t}\n\n\tif ( hooks ) {\n\t\t/**\n\t\t * @param {string} hookName\n\t\t */\n\t\tconst onHookAddedOrRemoved = ( hookName ) => {\n\t\t\tif ( I18N_HOOK_REGEXP.test( hookName ) ) {\n\t\t\t\tnotifyListeners();\n\t\t\t}\n\t\t};\n\n\t\thooks.addAction( 'hookAdded', 'core/i18n', onHookAddedOrRemoved );\n\t\thooks.addAction( 'hookRemoved', 'core/i18n', onHookAddedOrRemoved );\n\t}\n\n\treturn {\n\t\tgetLocaleData,\n\t\tsetLocaleData,\n\t\taddLocaleData,\n\t\tresetLocaleData,\n\t\tsubscribe,\n\t\t__,\n\t\t_x,\n\t\t_n,\n\t\t_nx,\n\t\tisRTL,\n\t\thasTranslation,\n\t};\n};\n", "/**\n * Validate a namespace string.\n *\n * @param {string} namespace The namespace to validate - should take the form\n *                           `vendor/plugin/function`.\n *\n * @return {boolean} Whether the namespace is valid.\n */\nfunction validateNamespace( namespace ) {\n\tif ( 'string' !== typeof namespace || '' === namespace ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'The namespace must be a non-empty string.' );\n\t\treturn false;\n\t}\n\n\tif ( ! /^[a-zA-Z][a-zA-Z0-9_.\\-\\/]*$/.test( namespace ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\n\t\t\t'The namespace can only contain numbers, letters, dashes, periods, underscores and slashes.'\n\t\t);\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport default validateNamespace;\n", "/**\n * Validate a hookName string.\n *\n * @param {string} hookName The hook name to validate. Should be a non empty string containing\n *                          only numbers, letters, dashes, periods and underscores. Also,\n *                          the hook name cannot begin with `__`.\n *\n * @return {boolean} Whether the hook name is valid.\n */\nfunction validateHookName( hookName ) {\n\tif ( 'string' !== typeof hookName || '' === hookName ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'The hook name must be a non-empty string.' );\n\t\treturn false;\n\t}\n\n\tif ( /^__/.test( hookName ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'The hook name cannot begin with `__`.' );\n\t\treturn false;\n\t}\n\n\tif ( ! /^[a-zA-Z][a-zA-Z0-9_.-]*$/.test( hookName ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\n\t\t\t'The hook name can only contain numbers, letters, dashes, periods and underscores.'\n\t\t);\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport default validateHookName;\n", "/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\n\n/**\n * @callback AddHook\n *\n * Adds the hook to the appropriate hooks container.\n *\n * @param {string}               hookName      Name of hook to add\n * @param {string}               namespace     The unique namespace identifying the callback in the form `vendor/plugin/function`.\n * @param {import('.').Callback} callback      Function to call when the hook is run\n * @param {number}               [priority=10] Priority of this hook\n */\n\n/**\n * Returns a function which, when invoked, will add a hook.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {AddHook} Function that adds a new hook.\n */\nfunction createAddHook( hooks, storeKey ) {\n\treturn function addHook( hookName, namespace, callback, priority = 10 ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\tif ( ! validateHookName( hookName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! validateNamespace( namespace ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( 'function' !== typeof callback ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error( 'The hook callback must be a function.' );\n\t\t\treturn;\n\t\t}\n\n\t\t// Validate numeric priority\n\t\tif ( 'number' !== typeof priority ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\n\t\t\t\t'If specified, the hook priority must be a number.'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst handler = { callback, priority, namespace };\n\n\t\tif ( hooksStore[ hookName ] ) {\n\t\t\t// Find the correct insert index of the new hook.\n\t\t\tconst handlers = hooksStore[ hookName ].handlers;\n\n\t\t\t/** @type {number} */\n\t\t\tlet i;\n\t\t\tfor ( i = handlers.length; i > 0; i-- ) {\n\t\t\t\tif ( priority >= handlers[ i - 1 ].priority ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( i === handlers.length ) {\n\t\t\t\t// If append, operate via direct assignment.\n\t\t\t\thandlers[ i ] = handler;\n\t\t\t} else {\n\t\t\t\t// Otherwise, insert before index via splice.\n\t\t\t\thandlers.splice( i, 0, handler );\n\t\t\t}\n\n\t\t\t// We may also be currently executing this hook.  If the callback\n\t\t\t// we're adding would come after the current callback, there's no\n\t\t\t// problem; otherwise we need to increase the execution index of\n\t\t\t// any other runs by 1 to account for the added element.\n\t\t\thooksStore.__current.forEach( ( hookInfo ) => {\n\t\t\t\tif (\n\t\t\t\t\thookInfo.name === hookName &&\n\t\t\t\t\thookInfo.currentIndex >= i\n\t\t\t\t) {\n\t\t\t\t\thookInfo.currentIndex++;\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\t// This is the first hook of its type.\n\t\t\thooksStore[ hookName ] = {\n\t\t\t\thandlers: [ handler ],\n\t\t\t\truns: 0,\n\t\t\t};\n\t\t}\n\n\t\tif ( hookName !== 'hookAdded' ) {\n\t\t\thooks.doAction(\n\t\t\t\t'hookAdded',\n\t\t\t\thookName,\n\t\t\t\tnamespace,\n\t\t\t\tcallback,\n\t\t\t\tpriority\n\t\t\t);\n\t\t}\n\t};\n}\n\nexport default createAddHook;\n", "/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\n\n/**\n * @callback RemoveHook\n * Removes the specified callback (or all callbacks) from the hook with a given hookName\n * and namespace.\n *\n * @param {string} hookName  The name of the hook to modify.\n * @param {string} namespace The unique namespace identifying the callback in the\n *                           form `vendor/plugin/function`.\n *\n * @return {number | undefined} The number of callbacks removed.\n */\n\n/**\n * Returns a function which, when invoked, will remove a specified hook or all\n * hooks by the given name.\n *\n * @param {import('.').Hooks}    hooks             Hooks instance.\n * @param {import('.').StoreKey} storeKey\n * @param {boolean}              [removeAll=false] Whether to remove all callbacks for a hookName,\n *                                                 without regard to namespace. Used to create\n *                                                 `removeAll*` functions.\n *\n * @return {RemoveHook} Function that removes hooks.\n */\nfunction createRemoveHook( hooks, storeKey, removeAll = false ) {\n\treturn function removeHook( hookName, namespace ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\tif ( ! validateHookName( hookName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! removeAll && ! validateNamespace( namespace ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Bail if no hooks exist by this name.\n\t\tif ( ! hooksStore[ hookName ] ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlet handlersRemoved = 0;\n\n\t\tif ( removeAll ) {\n\t\t\thandlersRemoved = hooksStore[ hookName ].handlers.length;\n\t\t\thooksStore[ hookName ] = {\n\t\t\t\truns: hooksStore[ hookName ].runs,\n\t\t\t\thandlers: [],\n\t\t\t};\n\t\t} else {\n\t\t\t// Try to find the specified callback to remove.\n\t\t\tconst handlers = hooksStore[ hookName ].handlers;\n\t\t\tfor ( let i = handlers.length - 1; i >= 0; i-- ) {\n\t\t\t\tif ( handlers[ i ].namespace === namespace ) {\n\t\t\t\t\thandlers.splice( i, 1 );\n\t\t\t\t\thandlersRemoved++;\n\t\t\t\t\t// This callback may also be part of a hook that is\n\t\t\t\t\t// currently executing.  If the callback we're removing\n\t\t\t\t\t// comes after the current callback, there's no problem;\n\t\t\t\t\t// otherwise we need to decrease the execution index of any\n\t\t\t\t\t// other runs by 1 to account for the removed element.\n\t\t\t\t\thooksStore.__current.forEach( ( hookInfo ) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thookInfo.name === hookName &&\n\t\t\t\t\t\t\thookInfo.currentIndex >= i\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\thookInfo.currentIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( hookName !== 'hookRemoved' ) {\n\t\t\thooks.doAction( 'hookRemoved', hookName, namespace );\n\t\t}\n\n\t\treturn handlersRemoved;\n\t};\n}\n\nexport default createRemoveHook;\n", "/**\n * @callback HasHook\n *\n * Returns whether any handlers are attached for the given hookName and optional namespace.\n *\n * @param {string} hookName    The name of the hook to check for.\n * @param {string} [namespace] Optional. The unique namespace identifying the callback\n *                             in the form `vendor/plugin/function`.\n *\n * @return {boolean} Whether there are handlers that are attached to the given hook.\n */\n/**\n * Returns a function which, when invoked, will return whether any handlers are\n * attached to a particular hook.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {HasHook} Function that returns whether any handlers are\n *                   attached to a particular hook and optional namespace.\n */\nfunction createHasHook( hooks, storeKey ) {\n\treturn function hasHook( hookName, namespace ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\t// Use the namespace if provided.\n\t\tif ( 'undefined' !== typeof namespace ) {\n\t\t\treturn (\n\t\t\t\thookName in hooksStore &&\n\t\t\t\thooksStore[ hookName ].handlers.some(\n\t\t\t\t\t( hook ) => hook.namespace === namespace\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn hookName in hooksStore;\n\t};\n}\n\nexport default createHasHook;\n", "/**\n * Returns a function which, when invoked, will execute all callbacks\n * registered to a hook of the specified type, optionally returning the final\n * value of the call chain.\n *\n * @param {import('.').Hooks}    hooks                  Hooks instance.\n * @param {import('.').StoreKey} storeKey\n * @param {boolean}              [returnFirstArg=false] Whether each hook callback is expected to\n *                                                      return its first argument.\n *\n * @return {(hookName:string, ...args: unknown[]) => undefined|unknown} Function that runs hook callbacks.\n */\nfunction createRunHook( hooks, storeKey, returnFirstArg = false ) {\n\treturn function runHooks( hookName, ...args ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\tif ( ! hooksStore[ hookName ] ) {\n\t\t\thooksStore[ hookName ] = {\n\t\t\t\thandlers: [],\n\t\t\t\truns: 0,\n\t\t\t};\n\t\t}\n\n\t\thooksStore[ hookName ].runs++;\n\n\t\tconst handlers = hooksStore[ hookName ].handlers;\n\n\t\t// The following code is stripped from production builds.\n\t\tif ( 'production' !== process.env.NODE_ENV ) {\n\t\t\t// Handle any 'all' hooks registered.\n\t\t\tif ( 'hookAdded' !== hookName && hooksStore.all ) {\n\t\t\t\thandlers.push( ...hooksStore.all.handlers );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! handlers || ! handlers.length ) {\n\t\t\treturn returnFirstArg ? args[ 0 ] : undefined;\n\t\t}\n\n\t\tconst hookInfo = {\n\t\t\tname: hookName,\n\t\t\tcurrentIndex: 0,\n\t\t};\n\n\t\thooksStore.__current.push( hookInfo );\n\n\t\twhile ( hookInfo.currentIndex < handlers.length ) {\n\t\t\tconst handler = handlers[ hookInfo.currentIndex ];\n\n\t\t\tconst result = handler.callback.apply( null, args );\n\t\t\tif ( returnFirstArg ) {\n\t\t\t\targs[ 0 ] = result;\n\t\t\t}\n\n\t\t\thookInfo.currentIndex++;\n\t\t}\n\n\t\thooksStore.__current.pop();\n\n\t\tif ( returnFirstArg ) {\n\t\t\treturn args[ 0 ];\n\t\t}\n\n\t\treturn undefined;\n\t};\n}\n\nexport default createRunHook;\n", "/**\n * Returns a function which, when invoked, will return the name of the\n * currently running hook, or `null` if no hook of the given type is currently\n * running.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {() => string | null} Function that returns the current hook name or null.\n */\nfunction createCurrentHook( hooks, storeKey ) {\n\treturn function currentHook() {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\treturn (\n\t\t\thooksStore.__current[ hooksStore.__current.length - 1 ]?.name ??\n\t\t\tnull\n\t\t);\n\t};\n}\n\nexport default createCurrentHook;\n", "/**\n * @callback DoingHook\n * Returns whether a hook is currently being executed.\n *\n * @param {string} [hookName] The name of the hook to check for.  If\n *                            omitted, will check for any hook being executed.\n *\n * @return {boolean} Whether the hook is being executed.\n */\n\n/**\n * Returns a function which, when invoked, will return whether a hook is\n * currently being executed.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {DoingHook} Function that returns whether a hook is currently\n *                     being executed.\n */\nfunction createDoingHook( hooks, storeKey ) {\n\treturn function doingHook( hookName ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\t// If the hookName was not passed, check for any current hook.\n\t\tif ( 'undefined' === typeof hookName ) {\n\t\t\treturn 'undefined' !== typeof hooksStore.__current[ 0 ];\n\t\t}\n\n\t\t// Return the __current hook.\n\t\treturn hooksStore.__current[ 0 ]\n\t\t\t? hookName === hooksStore.__current[ 0 ].name\n\t\t\t: false;\n\t};\n}\n\nexport default createDoingHook;\n", "/**\n * Internal dependencies\n */\nimport validateHookName from './validateHookName.js';\n\n/**\n * @callback DidHook\n *\n * Returns the number of times an action has been fired.\n *\n * @param {string} hookName The hook name to check.\n *\n * @return {number | undefined} The number of times the hook has run.\n */\n\n/**\n * Returns a function which, when invoked, will return the number of times a\n * hook has been called.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {DidHook} Function that returns a hook's call count.\n */\nfunction createDidHook( hooks, storeKey ) {\n\treturn function didHook( hookName ) {\n\t\tconst hooksStore = hooks[ storeKey ];\n\n\t\tif ( ! validateHookName( hookName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn hooksStore[ hookName ] && hooksStore[ hookName ].runs\n\t\t\t? hooksStore[ hookName ].runs\n\t\t\t: 0;\n\t};\n}\n\nexport default createDidHook;\n", "/**\n * Internal dependencies\n */\nimport createAddHook from './createAddHook';\nimport createRemoveHook from './createRemoveHook';\nimport createHasHook from './createHasHook';\nimport createRunHook from './createRunHook';\nimport createCurrentHook from './createCurrentHook';\nimport createDoingHook from './createDoingHook';\nimport createDidHook from './createDidHook';\n\n/**\n * Internal class for constructing hooks. Use `createHooks()` function\n *\n * Note, it is necessary to expose this class to make its type public.\n *\n * @private\n */\nexport class _Hooks {\n\tconstructor() {\n\t\t/** @type {import('.').Store} actions */\n\t\tthis.actions = Object.create( null );\n\t\tthis.actions.__current = [];\n\n\t\t/** @type {import('.').Store} filters */\n\t\tthis.filters = Object.create( null );\n\t\tthis.filters.__current = [];\n\n\t\tthis.addAction = createAddHook( this, 'actions' );\n\t\tthis.addFilter = createAddHook( this, 'filters' );\n\t\tthis.removeAction = createRemoveHook( this, 'actions' );\n\t\tthis.removeFilter = createRemoveHook( this, 'filters' );\n\t\tthis.hasAction = createHasHook( this, 'actions' );\n\t\tthis.hasFilter = createHasHook( this, 'filters' );\n\t\tthis.removeAllActions = createRemoveHook( this, 'actions', true );\n\t\tthis.removeAllFilters = createRemoveHook( this, 'filters', true );\n\t\tthis.doAction = createRunHook( this, 'actions' );\n\t\tthis.applyFilters = createRunHook( this, 'filters', true );\n\t\tthis.currentAction = createCurrentHook( this, 'actions' );\n\t\tthis.currentFilter = createCurrentHook( this, 'filters' );\n\t\tthis.doingAction = createDoingHook( this, 'actions' );\n\t\tthis.doingFilter = createDoingHook( this, 'filters' );\n\t\tthis.didAction = createDidHook( this, 'actions' );\n\t\tthis.didFilter = createDidHook( this, 'filters' );\n\t}\n}\n\n/** @typedef {_Hooks} Hooks */\n\n/**\n * Returns an instance of the hooks object.\n *\n * @return {Hooks} A Hooks instance.\n */\nfunction createHooks() {\n\treturn new _Hooks();\n}\n\nexport default createHooks;\n", "/**\n * Internal dependencies\n */\nimport createHooks from './createHooks';\n\n/** @typedef {(...args: any[])=>any} Callback */\n\n/**\n * @typedef Handler\n * @property {Callback} callback  The callback\n * @property {string}   namespace The namespace\n * @property {number}   priority  The namespace\n */\n\n/**\n * @typedef Hook\n * @property {Handler[]} handlers Array of handlers\n * @property {number}    runs     Run counter\n */\n\n/**\n * @typedef Current\n * @property {string} name         Hook name\n * @property {number} currentIndex The index\n */\n\n/**\n * @typedef {Record<string, Hook> & {__current: Current[]}} Store\n */\n\n/**\n * @typedef {'actions' | 'filters'} StoreKey\n */\n\n/**\n * @typedef {import('./createHooks').Hooks} Hooks\n */\n\nexport const defaultHooks = createHooks();\n\nconst {\n\taddAction,\n\taddFilter,\n\tremoveAction,\n\tremoveFilter,\n\thasAction,\n\thasFilter,\n\tremoveAllActions,\n\tremoveAllFilters,\n\tdoAction,\n\tapplyFilters,\n\tcurrentAction,\n\tcurrentFilter,\n\tdoingAction,\n\tdoingFilter,\n\tdidAction,\n\tdidFilter,\n\tactions,\n\tfilters,\n} = defaultHooks;\n\nexport {\n\tcreateHooks,\n\taddAction,\n\taddFilter,\n\tremoveAction,\n\tremoveFilter,\n\thasAction,\n\thasFilter,\n\tremoveAllActions,\n\tremoveAllFilters,\n\tdoAction,\n\tapplyFilters,\n\tcurrentAction,\n\tcurrentFilter,\n\tdoingAction,\n\tdoingFilter,\n\tdidAction,\n\tdidFilter,\n\tactions,\n\tfilters,\n};\n", "/**\n * Internal dependencies\n */\nimport { createI18n } from './create-i18n';\n\n/**\n * WordPress dependencies\n */\nimport { defaultHooks } from '@wordpress/hooks';\n\nconst i18n = createI18n( undefined, undefined, defaultHooks );\n\n/**\n * Default, singleton instance of `I18n`.\n */\nexport default i18n;\n\n/*\n * Comments in this file are duplicated from ./i18n due to\n * https://github.com/WordPress/gutenberg/pull/20318#issuecomment-590837722\n */\n\n/**\n * @typedef {import('./create-i18n').LocaleData} LocaleData\n * @typedef {import('./create-i18n').SubscribeCallback} SubscribeCallback\n * @typedef {import('./create-i18n').UnsubscribeCallback} UnsubscribeCallback\n */\n\n/**\n * Returns locale data by domain in a Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @param {string} [domain] Domain for which to get the data.\n * @return {LocaleData} Locale data.\n */\nexport const getLocaleData = i18n.getLocaleData.bind( i18n );\n\n/**\n * Merges locale data into the Tannin instance by domain. Accepts data in a\n * Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @param {LocaleData} [data]   Locale data configuration.\n * @param {string}     [domain] Domain for which configuration applies.\n */\nexport const setLocaleData = i18n.setLocaleData.bind( i18n );\n\n/**\n * Resets all current Tannin instance locale data and sets the specified\n * locale data for the domain. Accepts data in a Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @param {LocaleData} [data]   Locale data configuration.\n * @param {string}     [domain] Domain for which configuration applies.\n */\nexport const resetLocaleData = i18n.resetLocaleData.bind( i18n );\n\n/**\n * Subscribes to changes of locale data\n *\n * @param {SubscribeCallback} callback Subscription callback\n * @return {UnsubscribeCallback} Unsubscribe callback\n */\nexport const subscribe = i18n.subscribe.bind( i18n );\n\n/**\n * Retrieve the translation of text.\n *\n * @see https://developer.wordpress.org/reference/functions/__/\n *\n * @param {string} text     Text to translate.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} Translated text.\n */\nexport const __ = i18n.__.bind( i18n );\n\n/**\n * Retrieve translated string with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_x/\n *\n * @param {string} text     Text to translate.\n * @param {string} context  Context information for the translators.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} Translated context string without pipe.\n */\nexport const _x = i18n._x.bind( i18n );\n\n/**\n * Translates and retrieves the singular or plural form based on the supplied\n * number.\n *\n * @see https://developer.wordpress.org/reference/functions/_n/\n *\n * @param {string} single   The text to be used if the number is singular.\n * @param {string} plural   The text to be used if the number is plural.\n * @param {number} number   The number to compare against to use either the\n *                          singular or plural form.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} The translated singular or plural form.\n */\nexport const _n = i18n._n.bind( i18n );\n\n/**\n * Translates and retrieves the singular or plural form based on the supplied\n * number, with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_nx/\n *\n * @param {string} single   The text to be used if the number is singular.\n * @param {string} plural   The text to be used if the number is plural.\n * @param {number} number   The number to compare against to use either the\n *                          singular or plural form.\n * @param {string} context  Context information for the translators.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} The translated singular or plural form.\n */\nexport const _nx = i18n._nx.bind( i18n );\n\n/**\n * Check if current locale is RTL.\n *\n * **RTL (Right To Left)** is a locale property indicating that text is written from right to left.\n * For example, the `he` locale (for Hebrew) specifies right-to-left. Arabic (ar) is another common\n * language written RTL. The opposite of RTL, LTR (Left To Right) is used in other languages,\n * including English (`en`, `en-US`, `en-GB`, etc.), Spanish (`es`), and French (`fr`).\n *\n * @return {boolean} Whether locale is RTL.\n */\nexport const isRTL = i18n.isRTL.bind( i18n );\n\n/**\n * Check if there is a translation for a given string (in singular form).\n *\n * @param {string} single    Singular form of the string to look up.\n * @param {string} [context] Context information for the translators.\n * @param {string} [domain]  Domain to retrieve the translated text.\n * @return {boolean} Whether the translation exists or not.\n */\nexport const hasTranslation = i18n.hasTranslation.bind( i18n );\n", "/**\n * Return true if platform is MacOS.\n *\n * @param _window window object by default; used for DI testing.\n *\n * @return True if MacOS; false otherwise.\n */\nexport function isAppleOS( _window?: Window ): boolean {\n\tif ( ! _window ) {\n\t\tif ( typeof window === 'undefined' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t_window = window;\n\t}\n\n\tconst { platform } = _window.navigator;\n\n\treturn (\n\t\tplatform.indexOf( 'Mac' ) !== -1 ||\n\t\t[ 'iPad', 'iPhone' ].includes( platform )\n\t);\n}\n", "/**\n * Note: The order of the modifier keys in many of the [foo]Shortcut()\n * functions in this file are intentional and should not be changed. They're\n * designed to fit with the standard menu keyboard shortcuts shown in the\n * user's platform.\n *\n * For example, on MacOS menu shortcuts will place Shift before Command, but\n * on Windows Control will usually come first. So don't provide your own\n * shortcut combos directly to keyboardShortcut().\n */\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { isAppleOS } from './platform';\n\n/**\n * External dependencies\n */\nimport type { KeyboardEvent as ReactKeyboardEvent } from 'react';\n\nexport type WPModifierPart =\n\t| typeof ALT\n\t| typeof CTRL\n\t| typeof COMMAND\n\t| typeof SHIFT;\n\nexport type WPKeycodeModifier =\n\t| 'primary'\n\t| 'primaryShift'\n\t| 'primaryAlt'\n\t| 'secondary'\n\t| 'access'\n\t| 'ctrl'\n\t| 'alt'\n\t| 'ctrlShift'\n\t| 'shift'\n\t| 'shiftAlt'\n\t| 'undefined';\n\n/**\n * An object of handler functions for each of the possible modifier\n * combinations. A handler will return a value for a given key.\n */\nexport type WPModifierHandler< T > = Record< WPKeycodeModifier, T >;\n\nexport type WPKeyHandler< T > = (\n\tcharacter: string,\n\tisApple?: () => boolean\n) => T;\n\nexport type WPEventKeyHandler = (\n\tevent: ReactKeyboardEvent< HTMLElement > | KeyboardEvent,\n\tcharacter: string,\n\tisApple?: () => boolean\n) => boolean;\n\nexport type WPModifier = ( isApple: () => boolean ) => WPModifierPart[];\n\n/**\n * Keycode for BACKSPACE key.\n */\nexport const BACKSPACE = 8;\n\n/**\n * Keycode for TAB key.\n */\nexport const TAB = 9;\n\n/**\n * Keycode for ENTER key.\n */\nexport const ENTER = 13;\n\n/**\n * Keycode for ESCAPE key.\n */\nexport const ESCAPE = 27;\n\n/**\n * Keycode for SPACE key.\n */\nexport const SPACE = 32;\n\n/**\n * Keycode for PAGEUP key.\n */\nexport const PAGEUP = 33;\n\n/**\n * Keycode for PAGEDOWN key.\n */\nexport const PAGEDOWN = 34;\n\n/**\n * Keycode for END key.\n */\nexport const END = 35;\n\n/**\n * Keycode for HOME key.\n */\nexport const HOME = 36;\n\n/**\n * Keycode for LEFT key.\n */\nexport const LEFT = 37;\n\n/**\n * Keycode for UP key.\n */\nexport const UP = 38;\n\n/**\n * Keycode for RIGHT key.\n */\nexport const RIGHT = 39;\n\n/**\n * Keycode for DOWN key.\n */\nexport const DOWN = 40;\n\n/**\n * Keycode for DELETE key.\n */\nexport const DELETE = 46;\n\n/**\n * Keycode for F10 key.\n */\nexport const F10 = 121;\n\n/**\n * Keycode for ALT key.\n */\nexport const ALT = 'alt';\n\n/**\n * Keycode for CTRL key.\n */\nexport const CTRL = 'ctrl';\n\n/**\n * Keycode for COMMAND/META key.\n */\nexport const COMMAND = 'meta';\n\n/**\n * Keycode for SHIFT key.\n */\nexport const SHIFT = 'shift';\n\n/**\n * Keycode for ZERO key.\n */\nexport const ZERO = 48;\n\nexport { isAppleOS };\n\n/**\n * Capitalise the first character of a string.\n * @param string String to capitalise.\n * @return Capitalised string.\n */\nfunction capitaliseFirstCharacter( string: string ): string {\n\treturn string.length < 2\n\t\t? string.toUpperCase()\n\t\t: string.charAt( 0 ).toUpperCase() + string.slice( 1 );\n}\n\n/**\n * Map the values of an object with a specified callback and return the result object.\n *\n * @template T The object type\n * @template R The return type of the mapping function\n *\n * @param    object Object to map values of.\n * @param    mapFn  Mapping function to apply to each value.\n * @return Object with the same keys and transformed values.\n */\nfunction mapValues< T extends Record< string, any >, R >(\n\tobject: T,\n\tmapFn: ( value: T[ keyof T ] ) => R\n): Record< keyof T, R > {\n\treturn Object.fromEntries(\n\t\tObject.entries( object ).map( ( [ key, value ] ) => [\n\t\t\tkey,\n\t\t\tmapFn( value ),\n\t\t] )\n\t) as Record< keyof T, R >;\n}\n\n/**\n * Object that contains functions that return the available modifier\n * depending on platform.\n */\nexport const modifiers: WPModifierHandler< WPModifier > = {\n\tprimary: ( _isApple ) => ( _isApple() ? [ COMMAND ] : [ CTRL ] ),\n\tprimaryShift: ( _isApple ) =>\n\t\t_isApple() ? [ SHIFT, COMMAND ] : [ CTRL, SHIFT ],\n\tprimaryAlt: ( _isApple ) =>\n\t\t_isApple() ? [ ALT, COMMAND ] : [ CTRL, ALT ],\n\tsecondary: ( _isApple ) =>\n\t\t_isApple() ? [ SHIFT, ALT, COMMAND ] : [ CTRL, SHIFT, ALT ],\n\taccess: ( _isApple ) => ( _isApple() ? [ CTRL, ALT ] : [ SHIFT, ALT ] ),\n\tctrl: () => [ CTRL ],\n\talt: () => [ ALT ],\n\tctrlShift: () => [ CTRL, SHIFT ],\n\tshift: () => [ SHIFT ],\n\tshiftAlt: () => [ SHIFT, ALT ],\n\tundefined: () => [],\n};\n\n/**\n * An object that contains functions to get raw shortcuts.\n *\n * These are intended for user with the KeyboardShortcuts.\n *\n * @example\n * ```js\n * // Assuming macOS:\n * rawShortcut.primary( 'm' )\n * // \"meta+m\"\"\n * ```\n */\nexport const rawShortcut: WPModifierHandler< WPKeyHandler< string > > =\n\t/* @__PURE__ */\n\tmapValues( modifiers, ( modifier: WPModifier ) => {\n\t\treturn ( character: string, _isApple = isAppleOS ) => {\n\t\t\treturn [ ...modifier( _isApple ), character.toLowerCase() ].join(\n\t\t\t\t'+'\n\t\t\t);\n\t\t};\n\t} );\n\n/**\n * Return an array of the parts of a keyboard shortcut chord for display.\n *\n * @example\n * ```js\n * // Assuming macOS:\n * displayShortcutList.primary( 'm' );\n * // [ \"⌘\", \"M\" ]\n * ```\n *\n * Keyed map of functions to shortcut sequences.\n */\nexport const displayShortcutList: WPModifierHandler<\n\tWPKeyHandler< string[] >\n> =\n\t/* @__PURE__ */\n\tmapValues(\n\t\tmodifiers,\n\t\t( modifier: WPModifier ): WPKeyHandler< string[] > => {\n\t\t\treturn ( character: string, _isApple = isAppleOS ) => {\n\t\t\t\tconst isApple = _isApple();\n\t\t\t\tconst replacementKeyMap = {\n\t\t\t\t\t[ ALT ]: isApple ? '⌥' : 'Alt',\n\t\t\t\t\t[ CTRL ]: isApple ? '⌃' : 'Ctrl', // Make sure ⌃ is the U+2303 UP ARROWHEAD unicode character and not the caret character.\n\t\t\t\t\t[ COMMAND ]: '⌘',\n\t\t\t\t\t[ SHIFT ]: isApple ? '⇧' : 'Shift',\n\t\t\t\t};\n\n\t\t\t\tconst modifierKeys = modifier( _isApple ).reduce< string[] >(\n\t\t\t\t\t( accumulator, key ) => {\n\t\t\t\t\t\tconst replacementKey = replacementKeyMap[ key ] ?? key;\n\t\t\t\t\t\t// If on the Mac, adhere to platform convention and don't show plus between keys.\n\t\t\t\t\t\tif ( isApple ) {\n\t\t\t\t\t\t\treturn [ ...accumulator, replacementKey ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [ ...accumulator, replacementKey, '+' ];\n\t\t\t\t\t},\n\t\t\t\t\t[]\n\t\t\t\t);\n\n\t\t\t\treturn [\n\t\t\t\t\t...modifierKeys,\n\t\t\t\t\tcapitaliseFirstCharacter( character ),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\t);\n\n/**\n * An object that contains functions to display shortcuts.\n *\n * @example\n * ```js\n * // Assuming macOS:\n * displayShortcut.primary( 'm' );\n * // \"⌘M\"\n * ```\n *\n * Keyed map of functions to display shortcuts.\n */\nexport const displayShortcut: WPModifierHandler< WPKeyHandler< string > > =\n\t/* @__PURE__ */\n\tmapValues(\n\t\tdisplayShortcutList,\n\t\t( shortcutList: WPKeyHandler< string[] > ): WPKeyHandler< string > => {\n\t\t\treturn ( character: string, _isApple = isAppleOS ) =>\n\t\t\t\tshortcutList( character, _isApple ).join( '' );\n\t\t}\n\t);\n\n/**\n * An object that contains functions to return an aria label for a keyboard\n * shortcut.\n *\n * @example\n * ```js\n * // Assuming macOS:\n * shortcutAriaLabel.primary( '.' );\n * // \"Command + Period\"\n * ```\n *\n * Keyed map of functions to shortcut ARIA labels.\n */\nexport const shortcutAriaLabel: WPModifierHandler< WPKeyHandler< string > > =\n\t/* @__PURE__ */\n\tmapValues( modifiers, ( modifier: WPModifier ): WPKeyHandler< string > => {\n\t\treturn ( character: string, _isApple = isAppleOS ) => {\n\t\t\tconst isApple = _isApple();\n\t\t\tconst replacementKeyMap: Record< string, string > = {\n\t\t\t\t[ SHIFT ]: 'Shift',\n\t\t\t\t[ COMMAND ]: isApple ? 'Command' : 'Control',\n\t\t\t\t[ CTRL ]: 'Control',\n\t\t\t\t[ ALT ]: isApple ? 'Option' : 'Alt',\n\t\t\t\t/* translators: comma as in the character ',' */\n\t\t\t\t',': __( 'Comma' ),\n\t\t\t\t/* translators: period as in the character '.' */\n\t\t\t\t'.': __( 'Period' ),\n\t\t\t\t/* translators: backtick as in the character '`' */\n\t\t\t\t'`': __( 'Backtick' ),\n\t\t\t\t/* translators: tilde as in the character '~' */\n\t\t\t\t'~': __( 'Tilde' ),\n\t\t\t};\n\n\t\t\treturn [ ...modifier( _isApple ), character ]\n\t\t\t\t.map( ( key ) =>\n\t\t\t\t\tcapitaliseFirstCharacter( replacementKeyMap[ key ] ?? key )\n\t\t\t\t)\n\t\t\t\t.join( isApple ? ' ' : ' + ' );\n\t\t};\n\t} );\n\n/**\n * From a given KeyboardEvent, returns an array of active modifier constants for\n * the event.\n *\n * @param event Keyboard event.\n *\n * @return Active modifier constants.\n */\nfunction getEventModifiers(\n\tevent: ReactKeyboardEvent< HTMLElement > | KeyboardEvent\n): WPModifierPart[] {\n\treturn ( [ ALT, CTRL, COMMAND, SHIFT ] as const ).filter(\n\t\t( key ) =>\n\t\t\t( event as KeyboardEvent )[\n\t\t\t\t`${ key }Key` as 'altKey' | 'ctrlKey' | 'metaKey' | 'shiftKey'\n\t\t\t]\n\t);\n}\n\n/**\n * An object that contains functions to check if a keyboard event matches a\n * predefined shortcut combination.\n *\n * @example\n * ```js\n * // Assuming an event for ⌘M key press:\n * isKeyboardEvent.primary( event, 'm' );\n * // true\n * ```\n *\n * Keyed map of functions to match events.\n */\nexport const isKeyboardEvent: WPModifierHandler< WPEventKeyHandler > =\n\t/* @__PURE__ */\n\tmapValues( modifiers, ( getModifiers: WPModifier ): WPEventKeyHandler => {\n\t\treturn ( event, character, _isApple = isAppleOS ) => {\n\t\t\tconst mods = getModifiers( _isApple );\n\t\t\tconst eventMods = getEventModifiers( event );\n\n\t\t\tconst replacementWithShiftKeyMap: Record< string, string > = {\n\t\t\t\tComma: ',',\n\t\t\t\tBackslash: '\\\\',\n\t\t\t\t// Windows returns `\\` for both IntlRo and IntlYen.\n\t\t\t\tIntlRo: '\\\\',\n\t\t\t\tIntlYen: '\\\\',\n\t\t\t};\n\n\t\t\tconst modsDiff = mods.filter(\n\t\t\t\t( mod ) => ! eventMods.includes( mod )\n\t\t\t);\n\t\t\tconst eventModsDiff = eventMods.filter(\n\t\t\t\t( mod ) => ! mods.includes( mod )\n\t\t\t);\n\n\t\t\tif ( modsDiff.length > 0 || eventModsDiff.length > 0 ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet key = event.key.toLowerCase();\n\n\t\t\tif ( ! character ) {\n\t\t\t\treturn mods.includes( key as WPModifierPart );\n\t\t\t}\n\n\t\t\tif ( event.altKey && character.length === 1 ) {\n\t\t\t\tkey = String.fromCharCode( event.keyCode ).toLowerCase();\n\t\t\t}\n\n\t\t\t// `event.key` returns the value of the key pressed, taking into the state of\n\t\t\t// modifier keys such as `Shift`. If the shift key is pressed, a different\n\t\t\t// value may be returned depending on the keyboard layout. It is necessary to\n\t\t\t// convert to the physical key value that don't take into account keyboard\n\t\t\t// layout or modifier key state.\n\t\t\tif (\n\t\t\t\tevent.shiftKey &&\n\t\t\t\tcharacter.length === 1 &&\n\t\t\t\treplacementWithShiftKeyMap[ event.code ]\n\t\t\t) {\n\t\t\t\tkey = replacementWithShiftKeyMap[ event.code ];\n\t\t\t}\n\n\t\t\t// For backwards compatibility.\n\t\t\tif ( character === 'del' ) {\n\t\t\t\tcharacter = 'delete';\n\t\t\t}\n\n\t\t\treturn key === character.toLowerCase();\n\t\t};\n\t} );\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useLayoutEffect } from '@wordpress/element';\n\n/**\n * Preferred over direct usage of `useLayoutEffect` when supporting\n * server rendered components (SSR) because currently React\n * throws a warning when using useLayoutEffect in that environment.\n */\nconst useIsomorphicLayoutEffect =\n\ttypeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport default useIsomorphicLayoutEffect;\n", "/**\n * External dependencies\n */\nimport Mousetrap from 'mousetrap';\nimport 'mousetrap/plugins/global-bind/mousetrap-global-bind';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport { isAppleOS } from '@wordpress/keycodes';\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPKeyboardShortcutConfig\n *\n * @property {boolean}                                [bindGlobal] Handle keyboard events anywhere including inside textarea/input fields.\n * @property {string}                                 [eventName]  Event name used to trigger the handler, defaults to keydown.\n * @property {boolean}                                [isDisabled] Disables the keyboard handler if the value is true.\n * @property {import('react').RefObject<HTMLElement>} [target]     React reference to the DOM element used to catch the keyboard event.\n */\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * Attach a keyboard shortcut handler.\n *\n * @see https://craig.is/killing/mice#api.bind for information about the `callback` parameter.\n *\n * @param {string[]|string}                                                       shortcuts Keyboard Shortcuts.\n * @param {(e: import('mousetrap').ExtendedKeyboardEvent, combo: string) => void} callback  Shortcut callback.\n * @param {WPKeyboardShortcutConfig}                                              options   Shortcut options.\n */\nfunction useKeyboardShortcut(\n\t/* eslint-enable jsdoc/valid-types */\n\tshortcuts,\n\tcallback,\n\t{\n\t\tbindGlobal = false,\n\t\teventName = 'keydown',\n\t\tisDisabled = false, // This is important for performance considerations.\n\t\ttarget,\n\t} = {}\n) {\n\tconst currentCallback = useRef( callback );\n\tuseEffect( () => {\n\t\tcurrentCallback.current = callback;\n\t}, [ callback ] );\n\n\tuseEffect( () => {\n\t\tif ( isDisabled ) {\n\t\t\treturn;\n\t\t}\n\t\tconst mousetrap = new Mousetrap(\n\t\t\ttarget && target.current\n\t\t\t\t? target.current\n\t\t\t\t: // We were passing `document` here previously, so to successfully cast it to Element we must cast it first to `unknown`.\n\t\t\t\t  // Not sure if this is a mistake but it was the behavior previous to the addition of types so we're just doing what's\n\t\t\t\t  // necessary to maintain the existing behavior.\n\t\t\t\t  /** @type {Element} */ ( /** @type {unknown} */ ( document ) )\n\t\t);\n\t\tconst shortcutsArray = Array.isArray( shortcuts )\n\t\t\t? shortcuts\n\t\t\t: [ shortcuts ];\n\t\tshortcutsArray.forEach( ( shortcut ) => {\n\t\t\tconst keys = shortcut.split( '+' );\n\t\t\t// Determines whether a key is a modifier by the length of the string.\n\t\t\t// E.g. if I add a pass a shortcut Shift+Cmd+M, it'll determine that\n\t\t\t// the modifiers are Shift and Cmd because they're not a single character.\n\t\t\tconst modifiers = new Set(\n\t\t\t\tkeys.filter( ( value ) => value.length > 1 )\n\t\t\t);\n\t\t\tconst hasAlt = modifiers.has( 'alt' );\n\t\t\tconst hasShift = modifiers.has( 'shift' );\n\n\t\t\t// This should be better moved to the shortcut registration instead.\n\t\t\tif (\n\t\t\t\tisAppleOS() &&\n\t\t\t\t( ( modifiers.size === 1 && hasAlt ) ||\n\t\t\t\t\t( modifiers.size === 2 && hasAlt && hasShift ) )\n\t\t\t) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Cannot bind ${ shortcut }. Alt and Shift+Alt modifiers are reserved for character input.`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst bindFn = bindGlobal ? 'bindGlobal' : 'bind';\n\t\t\t// @ts-ignore `bindGlobal` is an undocumented property\n\t\t\tmousetrap[ bindFn ](\n\t\t\t\tshortcut,\n\t\t\t\t(\n\t\t\t\t\t/* eslint-disable jsdoc/valid-types */\n\t\t\t\t\t/** @type {[e: import('mousetrap').ExtendedKeyboardEvent, combo: string]} */ ...args\n\t\t\t\t) =>\n\t\t\t\t\t/* eslint-enable jsdoc/valid-types */\n\t\t\t\t\tcurrentCallback.current( ...args ),\n\t\t\t\teventName\n\t\t\t);\n\t\t} );\n\n\t\treturn () => {\n\t\t\tmousetrap.reset();\n\t\t};\n\t}, [ shortcuts, bindGlobal, eventName, target, isDisabled ] );\n}\n\nexport default useKeyboardShortcut;\n", "/**\n * WordPress dependencies\n */\nimport { useMemo, useSyncExternalStore } from '@wordpress/element';\n\nconst matchMediaCache = new Map();\n\n/**\n * A new MediaQueryList object for the media query\n *\n * @param {string} [query] Media Query.\n * @return {MediaQueryList|null} A new object for the media query\n */\nfunction getMediaQueryList( query ) {\n\tif ( ! query ) {\n\t\treturn null;\n\t}\n\n\tlet match = matchMediaCache.get( query );\n\n\tif ( match ) {\n\t\treturn match;\n\t}\n\n\tif (\n\t\ttypeof window !== 'undefined' &&\n\t\ttypeof window.matchMedia === 'function'\n\t) {\n\t\tmatch = window.matchMedia( query );\n\t\tmatchMediaCache.set( query, match );\n\t\treturn match;\n\t}\n\n\treturn null;\n}\n\n/**\n * Runs a media query and returns its value when it changes.\n *\n * @param {string} [query] Media Query.\n * @return {boolean} return value of the media query.\n */\nexport default function useMediaQuery( query ) {\n\tconst source = useMemo( () => {\n\t\tconst mediaQueryList = getMediaQueryList( query );\n\n\t\treturn {\n\t\t\t/** @type {(onStoreChange: () => void) => () => void} */\n\t\t\tsubscribe( onStoreChange ) {\n\t\t\t\tif ( ! mediaQueryList ) {\n\t\t\t\t\treturn () => {};\n\t\t\t\t}\n\n\t\t\t\t// Avoid a fatal error when browsers don't support `addEventListener` on MediaQueryList.\n\t\t\t\tmediaQueryList.addEventListener?.( 'change', onStoreChange );\n\t\t\t\treturn () => {\n\t\t\t\t\tmediaQueryList.removeEventListener?.(\n\t\t\t\t\t\t'change',\n\t\t\t\t\t\tonStoreChange\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t},\n\t\t\tgetValue() {\n\t\t\t\treturn mediaQueryList?.matches ?? false;\n\t\t\t},\n\t\t};\n\t}, [ query ] );\n\n\treturn useSyncExternalStore(\n\t\tsource.subscribe,\n\t\tsource.getValue,\n\t\t() => false\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext, useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useMediaQuery from '../use-media-query';\n\n/**\n * @typedef {\"huge\" | \"wide\" | \"large\" | \"medium\" | \"small\" | \"mobile\"} WPBreakpoint\n */\n\n/**\n * Hash of breakpoint names with pixel width at which it becomes effective.\n *\n * @see _breakpoints.scss\n *\n * @type {Record<WPBreakpoint, number>}\n */\nconst BREAKPOINTS = {\n\thuge: 1440,\n\twide: 1280,\n\tlarge: 960,\n\tmedium: 782,\n\tsmall: 600,\n\tmobile: 480,\n};\n\n/**\n * @typedef {\">=\" | \"<\"} WPViewportOperator\n */\n\n/**\n * Object mapping media query operators to the condition to be used.\n *\n * @type {Record<WPViewportOperator, string>}\n */\nconst CONDITIONS = {\n\t'>=': 'min-width',\n\t'<': 'max-width',\n};\n\n/**\n * Object mapping media query operators to a function that given a breakpointValue and a width evaluates if the operator matches the values.\n *\n * @type {Record<WPViewportOperator, (breakpointValue: number, width: number) => boolean>}\n */\nconst OPERATOR_EVALUATORS = {\n\t'>=': ( breakpointValue, width ) => width >= breakpointValue,\n\t'<': ( breakpointValue, width ) => width < breakpointValue,\n};\n\nconst ViewportMatchWidthContext = createContext(\n\t/** @type {null | number} */ ( null )\n);\n\n/**\n * Returns true if the viewport matches the given query, or false otherwise.\n *\n * @param {WPBreakpoint}       breakpoint      Breakpoint size name.\n * @param {WPViewportOperator} [operator=\">=\"] Viewport operator.\n *\n * @example\n *\n * ```js\n * useViewportMatch( 'huge', '<' );\n * useViewportMatch( 'medium' );\n * ```\n *\n * @return {boolean} Whether viewport matches query.\n */\nconst useViewportMatch = ( breakpoint, operator = '>=' ) => {\n\tconst simulatedWidth = useContext( ViewportMatchWidthContext );\n\tconst mediaQuery =\n\t\t! simulatedWidth &&\n\t\t`(${ CONDITIONS[ operator ] }: ${ BREAKPOINTS[ breakpoint ] }px)`;\n\tconst mediaQueryResult = useMediaQuery( mediaQuery || undefined );\n\tif ( simulatedWidth ) {\n\t\treturn OPERATOR_EVALUATORS[ operator ](\n\t\t\tBREAKPOINTS[ breakpoint ],\n\t\t\tsimulatedWidth\n\t\t);\n\t}\n\treturn mediaQueryResult;\n};\n\nuseViewportMatch.__experimentalWidthProvider =\n\tViewportMatchWidthContext.Provider;\n\nexport default useViewportMatch;\n", "/**\n * External dependencies\n */\nimport 'requestidlecallback';\n\n/**\n * Internal dependencies\n */\nimport type { RequestIdleCallbackCallback } from './types';\n\n/**\n * @return A function that schedules a callback when the browser is idle or via setTimeout on the server.\n */\nexport function createRequestIdleCallback() {\n\tif ( typeof window === 'undefined' ) {\n\t\treturn ( callback: RequestIdleCallbackCallback ) => {\n\t\t\tsetTimeout( () => callback( Date.now() ), 0 );\n\t\t};\n\t}\n\n\treturn window.requestIdleCallback;\n}\n\nexport default createRequestIdleCallback();\n", "/**\n * Internal dependencies\n */\nimport requestIdleCallback from './request-idle-callback';\n\n/**\n * Enqueued callback to invoke once idle time permits.\n */\nexport type WPPriorityQueueCallback = VoidFunction;\n\n/**\n * An object used to associate callbacks in a particular context grouping.\n */\nexport type WPPriorityQueueContext = object;\n\n/**\n * Interface for the priority queue instance.\n */\nexport interface WPPriorityQueue {\n\t/**\n\t * Add a callback to the queue for a given context.\n\t */\n\tadd: (\n\t\telement: WPPriorityQueueContext,\n\t\titem: WPPriorityQueueCallback\n\t) => void;\n\n\t/**\n\t * Flush and run the callback for a given context immediately.\n\t * @return true if a callback was run, false otherwise.\n\t */\n\tflush: ( element: WPPriorityQueueContext ) => boolean;\n\n\t/**\n\t * Cancel (remove) the callback for a given context without running it.\n\t * @return true if a callback was cancelled, false otherwise.\n\t */\n\tcancel: ( element: WPPriorityQueueContext ) => boolean;\n\n\t/**\n\t * Reset the entire queue, clearing pending callbacks.\n\t */\n\treset: VoidFunction;\n}\n\n/**\n * Creates a context-aware queue that only executes\n * the last task of a given context.\n *\n * @example\n *```js\n * import { createQueue } from '@wordpress/priority-queue';\n *\n * const queue = createQueue();\n *\n * // Context objects.\n * const ctx1 = {};\n * const ctx2 = {};\n *\n * // For a given context in the queue, only the last callback is executed.\n * queue.add( ctx1, () => console.log( 'This will be printed first' ) );\n * queue.add( ctx2, () => console.log( 'This won\\'t be printed' ) );\n * queue.add( ctx2, () => console.log( 'This will be printed second' ) );\n *```\n *\n * @return {WPPriorityQueue} Queue object with `add`, `flush` and `reset` methods.\n */\nexport const createQueue = (): WPPriorityQueue => {\n\tconst waitingList = new Map<\n\t\tWPPriorityQueueContext,\n\t\tWPPriorityQueueCallback\n\t>();\n\tlet isRunning = false;\n\n\t/**\n\t * Callback to process as much queue as time permits.\n\t *\n\t * Map Iteration follows the original insertion order. This means that here\n\t * we can iterate the queue and know that the first contexts which were\n\t * added will be run first. On the other hand, if anyone adds a new callback\n\t * for an existing context it will supplant the previously-set callback for\n\t * that context because we reassigned that map key's value.\n\t *\n\t * In the case that a callback adds a new callback to its own context then\n\t * the callback it adds will appear at the end of the iteration and will be\n\t * run only after all other existing contexts have finished executing.\n\t *\n\t * @param {IdleDeadline|number} deadline Idle callback deadline object, or\n\t *                                       animation frame timestamp.\n\t */\n\tconst runWaitingList = ( deadline: IdleDeadline | number ): void => {\n\t\tfor ( const [ nextElement, callback ] of waitingList ) {\n\t\t\twaitingList.delete( nextElement );\n\t\t\tcallback();\n\n\t\t\tif (\n\t\t\t\t'number' === typeof deadline ||\n\t\t\t\tdeadline.timeRemaining() <= 0\n\t\t\t) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif ( waitingList.size === 0 ) {\n\t\t\tisRunning = false;\n\t\t\treturn;\n\t\t}\n\n\t\trequestIdleCallback( runWaitingList );\n\t};\n\n\t/**\n\t * Add a callback to the queue for a given context.\n\t *\n\t * If errors with undefined callbacks are encountered double check that\n\t * all of your useSelect calls have the right dependencies set correctly\n\t * in their second parameter. Missing dependencies can cause unexpected\n\t * loops and race conditions in the queue.\n\t *\n\t * @param {WPPriorityQueueContext}  element Context object.\n\t * @param {WPPriorityQueueCallback} item    Callback function.\n\t */\n\tconst add: WPPriorityQueue[ 'add' ] = (\n\t\telement: WPPriorityQueueContext,\n\t\titem: WPPriorityQueueCallback\n\t) => {\n\t\twaitingList.set( element, item );\n\t\tif ( ! isRunning ) {\n\t\t\tisRunning = true;\n\t\t\trequestIdleCallback( runWaitingList );\n\t\t}\n\t};\n\n\t/**\n\t * Flushes queue for a given context, returning true if the flush was\n\t * performed, or false if there is no queue for the given context.\n\t *\n\t * @param {WPPriorityQueueContext} element Context object.\n\t *\n\t * @return {boolean} Whether flush was performed.\n\t */\n\tconst flush: WPPriorityQueue[ 'flush' ] = (\n\t\telement: WPPriorityQueueContext\n\t) => {\n\t\tconst callback = waitingList.get( element );\n\t\tif ( undefined === callback ) {\n\t\t\treturn false;\n\t\t}\n\n\t\twaitingList.delete( element );\n\t\tcallback();\n\n\t\treturn true;\n\t};\n\n\t/**\n\t * Clears the queue for a given context, cancelling the callbacks without\n\t * executing them. Returns `true` if there were scheduled callbacks to cancel,\n\t * or `false` if there was is no queue for the given context.\n\t *\n\t * @param {WPPriorityQueueContext} element Context object.\n\t *\n\t * @return {boolean} Whether any callbacks got cancelled.\n\t */\n\tconst cancel: WPPriorityQueue[ 'cancel' ] = (\n\t\telement: WPPriorityQueueContext\n\t) => {\n\t\treturn waitingList.delete( element );\n\t};\n\n\t/**\n\t * Reset the queue without running the pending callbacks.\n\t */\n\tconst reset: WPPriorityQueue[ 'reset' ] = () => {\n\t\twaitingList.clear();\n\t\tisRunning = false;\n\t};\n\n\treturn {\n\t\tadd,\n\t\tflush,\n\t\tcancel,\n\t\treset,\n\t};\n};\n", "export function combineReducers( reducers ) {\n\tconst keys = Object.keys( reducers );\n\n\treturn function combinedReducer( state = {}, action ) {\n\t\tconst nextState = {};\n\t\tlet hasChanged = false;\n\t\tfor ( const key of keys ) {\n\t\t\tconst reducer = reducers[ key ];\n\t\t\tconst prevStateForKey = state[ key ];\n\t\t\tconst nextStateForKey = reducer( prevStateForKey, action );\n\t\t\tnextState[ key ] = nextStateForKey;\n\t\t\thasChanged = hasChanged || nextStateForKey !== prevStateForKey;\n\t\t}\n\n\t\treturn hasChanged ? nextState : state;\n\t};\n}\n", "/**\n * Internal dependencies\n */\nimport type { select as globalSelect } from './select';\n\ntype RegistrySelector< Selector extends ( ...args: any[] ) => any > = {\n\t( ...args: Parameters< Selector > ): ReturnType< Selector >;\n\tisRegistrySelector?: boolean;\n\tregistry?: any;\n};\n\n/**\n * Creates a selector function that takes additional curried argument with the\n * registry `select` function. While a regular selector has signature\n * ```js\n * ( state, ...selectorArgs ) => ( result )\n * ```\n * that allows to select data from the store's `state`, a registry selector\n * has signature:\n * ```js\n * ( select ) => ( state, ...selectorArgs ) => ( result )\n * ```\n * that supports also selecting from other registered stores.\n *\n * @example\n * ```js\n * import { store as coreStore } from '@wordpress/core-data';\n * import { store as editorStore } from '@wordpress/editor';\n *\n * const getCurrentPostId = createRegistrySelector( ( select ) => ( state ) => {\n *   return select( editorStore ).getCurrentPostId();\n * } );\n *\n * const getPostEdits = createRegistrySelector( ( select ) => ( state ) => {\n *   // calling another registry selector just like any other function\n *   const postType = getCurrentPostType( state );\n *   const postId = getCurrentPostId( state );\n *\t return select( coreStore ).getEntityRecordEdits( 'postType', postType, postId );\n * } );\n * ```\n *\n * Note how the `getCurrentPostId` selector can be called just like any other function,\n * (it works even inside a regular non-registry selector) and we don't need to pass the\n * registry as argument. The registry binding happens automatically when registering the selector\n * with a store.\n *\n * @param registrySelector Function receiving a registry `select`\n *                         function and returning a state selector.\n *\n * @return Registry selector that can be registered with a store.\n */\nexport function createRegistrySelector<\n\tSelector extends ( ...args: any[] ) => any,\n>(\n\tregistrySelector: ( select: typeof globalSelect ) => Selector\n): RegistrySelector< Selector > {\n\tconst selectorsByRegistry = new WeakMap();\n\t// Create a selector function that is bound to the registry referenced by `selector.registry`\n\t// and that has the same API as a regular selector. Binding it in such a way makes it\n\t// possible to call the selector directly from another selector.\n\tconst wrappedSelector: RegistrySelector< Selector > = ( ...args ) => {\n\t\tlet selector = selectorsByRegistry.get( wrappedSelector.registry );\n\t\t// We want to make sure the cache persists even when new registry\n\t\t// instances are created. For example patterns create their own editors\n\t\t// with their own core/block-editor stores, so we should keep track of\n\t\t// the cache for each registry instance.\n\t\tif ( ! selector ) {\n\t\t\tselector = registrySelector( wrappedSelector.registry.select );\n\t\t\tselectorsByRegistry.set( wrappedSelector.registry, selector );\n\t\t}\n\t\treturn selector( ...args );\n\t};\n\n\t/**\n\t * Flag indicating that the selector is a registry selector that needs the correct registry\n\t * reference to be assigned to `selector.registry` to make it work correctly.\n\t * be mapped as a registry selector.\n\t */\n\twrappedSelector.isRegistrySelector = true;\n\n\treturn wrappedSelector;\n}\n\n/**\n * Creates a control function that takes additional curried argument with the `registry` object.\n * While a regular control has signature\n * ```js\n * ( action ) => ( iteratorOrPromise )\n * ```\n * where the control works with the `action` that it's bound to, a registry control has signature:\n * ```js\n * ( registry ) => ( action ) => ( iteratorOrPromise )\n * ```\n * A registry control is typically used to select data or dispatch an action to a registered\n * store.\n *\n * When registering a control created with `createRegistryControl` with a store, the store\n * knows which calling convention to use when executing the control.\n *\n * @param registryControl Function receiving a registry object and returning a control.\n *\n * @return Registry control that can be registered with a store.\n */\nexport function createRegistryControl< T extends ( ...args: any ) => any >(\n\tregistryControl: T & { isRegistryControl?: boolean }\n) {\n\tregistryControl.isRegistryControl = true;\n\n\treturn registryControl;\n}\n", "/**\n * Internal dependencies\n */\nimport { createRegistryControl } from './factory';\n\n/** @typedef {import('./types').StoreDescriptor} StoreDescriptor */\n\nconst SELECT = '@@data/SELECT';\nconst RESOLVE_SELECT = '@@data/RESOLVE_SELECT';\nconst DISPATCH = '@@data/DISPATCH';\n\nfunction isObject( object ) {\n\treturn object !== null && typeof object === 'object';\n}\n\n/**\n * Dispatches a control action for triggering a synchronous registry select.\n *\n * Note: This control synchronously returns the current selector value, triggering the\n * resolution, but not waiting for it.\n *\n * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n * @param {string}                 selectorName          The name of the selector.\n * @param {Array}                  args                  Arguments for the selector.\n *\n * @example\n * ```js\n * import { controls } from '@wordpress/data';\n *\n * // Action generator using `select`.\n * export function* myAction() {\n *   const isEditorSideBarOpened = yield controls.select( 'core/edit-post', 'isEditorSideBarOpened' );\n *   // Do stuff with the result from the `select`.\n * }\n * ```\n *\n * @return {Object} The control descriptor.\n */\nfunction select( storeNameOrDescriptor, selectorName, ...args ) {\n\treturn {\n\t\ttype: SELECT,\n\t\tstoreKey: isObject( storeNameOrDescriptor )\n\t\t\t? storeNameOrDescriptor.name\n\t\t\t: storeNameOrDescriptor,\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Dispatches a control action for triggering and resolving a registry select.\n *\n * Note: when this control action is handled, it automatically considers\n * selectors that may have a resolver. In such case, it will return a `Promise` that resolves\n * after the selector finishes resolving, with the final result value.\n *\n * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n * @param {string}                 selectorName          The name of the selector\n * @param {Array}                  args                  Arguments for the selector.\n *\n * @example\n * ```js\n * import { controls } from '@wordpress/data';\n *\n * // Action generator using resolveSelect\n * export function* myAction() {\n * \tconst isSidebarOpened = yield controls.resolveSelect( 'core/edit-post', 'isEditorSideBarOpened' );\n * \t// do stuff with the result from the select.\n * }\n * ```\n *\n * @return {Object} The control descriptor.\n */\nfunction resolveSelect( storeNameOrDescriptor, selectorName, ...args ) {\n\treturn {\n\t\ttype: RESOLVE_SELECT,\n\t\tstoreKey: isObject( storeNameOrDescriptor )\n\t\t\t? storeNameOrDescriptor.name\n\t\t\t: storeNameOrDescriptor,\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Dispatches a control action for triggering a registry dispatch.\n *\n * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n * @param {string}                 actionName            The name of the action to dispatch\n * @param {Array}                  args                  Arguments for the dispatch action.\n *\n * @example\n * ```js\n * import { controls } from '@wordpress/data-controls';\n *\n * // Action generator using dispatch\n * export function* myAction() {\n *   yield controls.dispatch( 'core/editor', 'togglePublishSidebar' );\n *   // do some other things.\n * }\n * ```\n *\n * @return {Object}  The control descriptor.\n */\nfunction dispatch( storeNameOrDescriptor, actionName, ...args ) {\n\treturn {\n\t\ttype: DISPATCH,\n\t\tstoreKey: isObject( storeNameOrDescriptor )\n\t\t\t? storeNameOrDescriptor.name\n\t\t\t: storeNameOrDescriptor,\n\t\tactionName,\n\t\targs,\n\t};\n}\n\nexport const controls = { select, resolveSelect, dispatch };\n\nexport const builtinControls = {\n\t[ SELECT ]: createRegistryControl(\n\t\t( registry ) =>\n\t\t\t( { storeKey, selectorName, args } ) =>\n\t\t\t\tregistry.select( storeKey )[ selectorName ]( ...args )\n\t),\n\t[ RESOLVE_SELECT ]: createRegistryControl(\n\t\t( registry ) =>\n\t\t\t( { storeKey, selectorName, args } ) => {\n\t\t\t\tconst method = registry.select( storeKey )[ selectorName ]\n\t\t\t\t\t.hasResolver\n\t\t\t\t\t? 'resolveSelect'\n\t\t\t\t\t: 'select';\n\t\t\t\treturn registry[ method ]( storeKey )[ selectorName ](\n\t\t\t\t\t...args\n\t\t\t\t);\n\t\t\t}\n\t),\n\t[ DISPATCH ]: createRegistryControl(\n\t\t( registry ) =>\n\t\t\t( { storeKey, actionName, args } ) =>\n\t\t\t\tregistry.dispatch( storeKey )[ actionName ]( ...args )\n\t),\n};\n", "/**\n * wordpress/private-apis – the utilities to enable private cross-package\n * exports of private APIs.\n *\n * This \"implementation.js\" file is needed for the sake of the unit tests. It\n * exports more than the public API of the package to aid in testing.\n */\n\n/**\n * The list of core modules allowed to opt-in to the private APIs.\n */\nconst CORE_MODULES_USING_PRIVATE_APIS = [\n\t'@wordpress/block-directory',\n\t'@wordpress/block-editor',\n\t'@wordpress/block-library',\n\t'@wordpress/blocks',\n\t'@wordpress/commands',\n\t'@wordpress/components',\n\t'@wordpress/core-commands',\n\t'@wordpress/core-data',\n\t'@wordpress/customize-widgets',\n\t'@wordpress/data',\n\t'@wordpress/edit-post',\n\t'@wordpress/edit-site',\n\t'@wordpress/edit-widgets',\n\t'@wordpress/editor',\n\t'@wordpress/format-library',\n\t'@wordpress/interface',\n\t'@wordpress/patterns',\n\t'@wordpress/preferences',\n\t'@wordpress/reusable-blocks',\n\t'@wordpress/router',\n\t'@wordpress/dataviews',\n];\n\n/**\n * A list of core modules that already opted-in to\n * the privateApis package.\n *\n * @type {string[]}\n */\nconst registeredPrivateApis = [];\n\n/*\n * Warning for theme and plugin developers.\n *\n * The use of private developer APIs is intended for use by WordPress Core\n * and the Gutenberg plugin exclusively.\n *\n * Dangerously opting in to using these APIs is NOT RECOMMENDED. Furthermore,\n * the WordPress Core philosophy to strive to maintain backward compatibility\n * for third-party developers DOES NOT APPLY to private APIs.\n *\n * THE CONSENT STRING FOR OPTING IN TO THESE APIS MAY CHANGE AT ANY TIME AND\n * WITHOUT NOTICE. THIS CHANGE WILL BREAK EXISTING THIRD-PARTY CODE. SUCH A\n * CHANGE MAY OCCUR IN EITHER A MAJOR OR MINOR RELEASE.\n */\nconst requiredConsent =\n\t'I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.';\n\n/** @type {boolean} */\nlet allowReRegistration;\n// The safety measure is meant for WordPress core where IS_WORDPRESS_CORE\n// is set to true.\n// For the general use-case, the re-registration should be allowed by default\n// Let's default to true, then. Try/catch will fall back to \"true\" even if the\n// environment variable is not explicitly defined.\ntry {\n\tallowReRegistration = process.env.IS_WORDPRESS_CORE ? false : true;\n} catch ( error ) {\n\tallowReRegistration = true;\n}\n\n/**\n * Called by a @wordpress package wishing to opt-in to accessing or exposing\n * private private APIs.\n *\n * @param {string} consent    The consent string.\n * @param {string} moduleName The name of the module that is opting in.\n * @return {{lock: typeof lock, unlock: typeof unlock}} An object containing the lock and unlock functions.\n */\nexport const __dangerousOptInToUnstableAPIsOnlyForCoreModules = (\n\tconsent,\n\tmoduleName\n) => {\n\tif ( ! CORE_MODULES_USING_PRIVATE_APIS.includes( moduleName ) ) {\n\t\tthrow new Error(\n\t\t\t`You tried to opt-in to unstable APIs as module \"${ moduleName }\". ` +\n\t\t\t\t'This feature is only for JavaScript modules shipped with WordPress core. ' +\n\t\t\t\t'Please do not use it in plugins and themes as the unstable APIs will be removed ' +\n\t\t\t\t'without a warning. If you ignore this error and depend on unstable features, ' +\n\t\t\t\t'your product will inevitably break on one of the next WordPress releases.'\n\t\t);\n\t}\n\tif (\n\t\t! allowReRegistration &&\n\t\tregisteredPrivateApis.includes( moduleName )\n\t) {\n\t\t// This check doesn't play well with Story Books / Hot Module Reloading\n\t\t// and isn't included in the Gutenberg plugin. It only matters in the\n\t\t// WordPress core release.\n\t\tthrow new Error(\n\t\t\t`You tried to opt-in to unstable APIs as module \"${ moduleName }\" which is already registered. ` +\n\t\t\t\t'This feature is only for JavaScript modules shipped with WordPress core. ' +\n\t\t\t\t'Please do not use it in plugins and themes as the unstable APIs will be removed ' +\n\t\t\t\t'without a warning. If you ignore this error and depend on unstable features, ' +\n\t\t\t\t'your product will inevitably break on one of the next WordPress releases.'\n\t\t);\n\t}\n\tif ( consent !== requiredConsent ) {\n\t\tthrow new Error(\n\t\t\t`You tried to opt-in to unstable APIs without confirming you know the consequences. ` +\n\t\t\t\t'This feature is only for JavaScript modules shipped with WordPress core. ' +\n\t\t\t\t'Please do not use it in plugins and themes as the unstable APIs will removed ' +\n\t\t\t\t'without a warning. If you ignore this error and depend on unstable features, ' +\n\t\t\t\t'your product will inevitably break on the next WordPress release.'\n\t\t);\n\t}\n\tregisteredPrivateApis.push( moduleName );\n\n\treturn {\n\t\tlock,\n\t\tunlock,\n\t};\n};\n\n/**\n * Binds private data to an object.\n * It does not alter the passed object in any way, only\n * registers it in an internal map of private data.\n *\n * The private data can't be accessed by any other means\n * than the `unlock` function.\n *\n * @example\n * ```js\n * const object = {};\n * const privateData = { a: 1 };\n * lock( object, privateData );\n *\n * object\n * // {}\n *\n * unlock( object );\n * // { a: 1 }\n * ```\n *\n * @param {any} object      The object to bind the private data to.\n * @param {any} privateData The private data to bind to the object.\n */\nfunction lock( object, privateData ) {\n\tif ( ! object ) {\n\t\tthrow new Error( 'Cannot lock an undefined object.' );\n\t}\n\tif ( ! ( __private in object ) ) {\n\t\tobject[ __private ] = {};\n\t}\n\tlockedData.set( object[ __private ], privateData );\n}\n\n/**\n * Unlocks the private data bound to an object.\n *\n * It does not alter the passed object in any way, only\n * returns the private data paired with it using the `lock()`\n * function.\n *\n * @example\n * ```js\n * const object = {};\n * const privateData = { a: 1 };\n * lock( object, privateData );\n *\n * object\n * // {}\n *\n * unlock( object );\n * // { a: 1 }\n * ```\n *\n * @param {any} object The object to unlock the private data from.\n * @return {any} The private data bound to the object.\n */\nfunction unlock( object ) {\n\tif ( ! object ) {\n\t\tthrow new Error( 'Cannot unlock an undefined object.' );\n\t}\n\tif ( ! ( __private in object ) ) {\n\t\tthrow new Error(\n\t\t\t'Cannot unlock an object that was not locked before. '\n\t\t);\n\t}\n\n\treturn lockedData.get( object[ __private ] );\n}\n\nconst lockedData = new WeakMap();\n\n/**\n * Used by lock() and unlock() to uniquely identify the private data\n * related to a containing object.\n */\nconst __private = Symbol( 'Private API ID' );\n\n// Unit tests utilities:\n\n/**\n * Private function to allow the unit tests to allow\n * a mock module to access the private APIs.\n *\n * @param {string} name The name of the module.\n */\nexport function allowCoreModule( name ) {\n\tCORE_MODULES_USING_PRIVATE_APIS.push( name );\n}\n\n/**\n * Private function to allow the unit tests to set\n * a custom list of allowed modules.\n */\nexport function resetAllowedCoreModules() {\n\twhile ( CORE_MODULES_USING_PRIVATE_APIS.length ) {\n\t\tCORE_MODULES_USING_PRIVATE_APIS.pop();\n\t}\n}\n/**\n * Private function to allow the unit tests to reset\n * the list of registered private apis.\n */\nexport function resetRegisteredPrivateApis() {\n\twhile ( registeredPrivateApis.length ) {\n\t\tregisteredPrivateApis.pop();\n\t}\n}\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/data'\n\t);\n", "/**\n * External dependencies\n */\nimport isPromise from 'is-promise';\n\n/**\n * Simplest possible promise redux middleware.\n *\n * @type {import('redux').Middleware}\n */\nconst promiseMiddleware = () => ( next ) => ( action ) => {\n\tif ( isPromise( action ) ) {\n\t\treturn action.then( ( resolvedAction ) => {\n\t\t\tif ( resolvedAction ) {\n\t\t\t\treturn next( resolvedAction );\n\t\t\t}\n\t\t} );\n\t}\n\n\treturn next( action );\n};\n\nexport default promiseMiddleware;\n", "/** @typedef {import('./registry').WPDataRegistry} WPDataRegistry */\n\n/**\n * Creates a middleware handling resolvers cache invalidation.\n *\n * @param {WPDataRegistry} registry  Registry for which to create the middleware.\n * @param {string}         storeName Name of the store for which to create the middleware.\n *\n * @return {Function} Middleware function.\n */\nconst createResolversCacheMiddleware =\n\t( registry, storeName ) => () => ( next ) => ( action ) => {\n\t\tconst resolvers = registry.select( storeName ).getCachedResolvers();\n\t\tconst resolverEntries = Object.entries( resolvers );\n\t\tresolverEntries.forEach( ( [ selectorName, resolversByArgs ] ) => {\n\t\t\tconst resolver =\n\t\t\t\tregistry.stores[ storeName ]?.resolvers?.[ selectorName ];\n\t\t\tif ( ! resolver || ! resolver.shouldInvalidate ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolversByArgs.forEach( ( value, args ) => {\n\t\t\t\t// Works around a bug in `EquivalentKeyMap` where `map.delete` merely sets an entry value\n\t\t\t\t// to `undefined` and `map.forEach` then iterates also over these orphaned entries.\n\t\t\t\tif ( value === undefined ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// resolversByArgs is the map Map([ args ] => boolean) storing the cache resolution status for a given selector.\n\t\t\t\t// If the value is \"finished\" or \"error\" it means this resolver has finished its resolution which means we need\n\t\t\t\t// to invalidate it, if it's true it means it's inflight and the invalidation is not necessary.\n\t\t\t\tif ( value.status !== 'finished' && value.status !== 'error' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( ! resolver.shouldInvalidate( action, ...args ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Trigger cache invalidation\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( storeName )\n\t\t\t\t\t.invalidateResolution( selectorName, args );\n\t\t\t} );\n\t\t} );\n\t\treturn next( action );\n\t};\n\nexport default createResolversCacheMiddleware;\n", "export default function createThunkMiddleware( args ) {\n\treturn () => ( next ) => ( action ) => {\n\t\tif ( typeof action === 'function' ) {\n\t\t\treturn action( args );\n\t\t}\n\n\t\treturn next( action );\n\t};\n}\n", "/**\n * External dependencies\n */\nimport EquivalentKeyMap from 'equivalent-key-map';\nimport type { Reducer } from 'redux';\n\n/**\n * Internal dependencies\n */\nimport { selectorArgsToStateKey, onSubKey } from './utils';\n\ntype Action =\n\t| ReturnType< typeof import('./actions').startResolution >\n\t| ReturnType< typeof import('./actions').finishResolution >\n\t| ReturnType< typeof import('./actions').failResolution >\n\t| ReturnType< typeof import('./actions').startResolutions >\n\t| ReturnType< typeof import('./actions').finishResolutions >\n\t| ReturnType< typeof import('./actions').failResolutions >\n\t| ReturnType< typeof import('./actions').invalidateResolution >\n\t| ReturnType< typeof import('./actions').invalidateResolutionForStore >\n\t| ReturnType<\n\t\t\ttypeof import('./actions').invalidateResolutionForStoreSelector\n\t  >;\n\ntype StateKey = unknown[] | unknown;\nexport type StateValue =\n\t| { status: 'resolving' | 'finished' }\n\t| { status: 'error'; error: Error | unknown };\n\nexport type Status = StateValue[ 'status' ];\nexport type State = EquivalentKeyMap< StateKey, StateValue >;\n\n/**\n * Reducer function returning next state for selector resolution of\n * subkeys, object form:\n *\n *  selectorName -> EquivalentKeyMap<Array,boolean>\n */\nconst subKeysIsResolved: Reducer< Record< string, State >, Action > = onSubKey<\n\tState,\n\tAction\n>( 'selectorName' )( ( state = new EquivalentKeyMap(), action: Action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'START_RESOLUTION': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tnextState.set( selectorArgsToStateKey( action.args ), {\n\t\t\t\tstatus: 'resolving',\n\t\t\t} );\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'FINISH_RESOLUTION': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tnextState.set( selectorArgsToStateKey( action.args ), {\n\t\t\t\tstatus: 'finished',\n\t\t\t} );\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'FAIL_RESOLUTION': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tnextState.set( selectorArgsToStateKey( action.args ), {\n\t\t\t\tstatus: 'error',\n\t\t\t\terror: action.error,\n\t\t\t} );\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'START_RESOLUTIONS': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tfor ( const resolutionArgs of action.args ) {\n\t\t\t\tnextState.set( selectorArgsToStateKey( resolutionArgs ), {\n\t\t\t\t\tstatus: 'resolving',\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'FINISH_RESOLUTIONS': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tfor ( const resolutionArgs of action.args ) {\n\t\t\t\tnextState.set( selectorArgsToStateKey( resolutionArgs ), {\n\t\t\t\t\tstatus: 'finished',\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'FAIL_RESOLUTIONS': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\taction.args.forEach( ( resolutionArgs, idx ) => {\n\t\t\t\tconst resolutionState: StateValue = {\n\t\t\t\t\tstatus: 'error',\n\t\t\t\t\terror: undefined,\n\t\t\t\t};\n\n\t\t\t\tconst error = action.errors[ idx ];\n\t\t\t\tif ( error ) {\n\t\t\t\t\tresolutionState.error = error;\n\t\t\t\t}\n\n\t\t\t\tnextState.set(\n\t\t\t\t\tselectorArgsToStateKey( resolutionArgs as unknown[] ),\n\t\t\t\t\tresolutionState\n\t\t\t\t);\n\t\t\t} );\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'INVALIDATE_RESOLUTION': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tnextState.delete( selectorArgsToStateKey( action.args ) );\n\t\t\treturn nextState;\n\t\t}\n\t}\n\treturn state;\n} );\n\n/**\n * Reducer function returning next state for selector resolution, object form:\n *\n *   selectorName -> EquivalentKeyMap<Array, boolean>\n *\n * @param state  Current state.\n * @param action Dispatched action.\n *\n * @return Next state.\n */\nconst isResolved = ( state: Record< string, State > = {}, action: Action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'INVALIDATE_RESOLUTION_FOR_STORE':\n\t\t\treturn {};\n\t\tcase 'INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR': {\n\t\t\tif ( action.selectorName in state ) {\n\t\t\t\tconst {\n\t\t\t\t\t[ action.selectorName ]: removedSelector,\n\t\t\t\t\t...restState\n\t\t\t\t} = state;\n\t\t\t\treturn restState;\n\t\t\t}\n\t\t\treturn state;\n\t\t}\n\t\tcase 'START_RESOLUTION':\n\t\tcase 'FINISH_RESOLUTION':\n\t\tcase 'FAIL_RESOLUTION':\n\t\tcase 'START_RESOLUTIONS':\n\t\tcase 'FINISH_RESOLUTIONS':\n\t\tcase 'FAIL_RESOLUTIONS':\n\t\tcase 'INVALIDATE_RESOLUTION':\n\t\t\treturn subKeysIsResolved( state, action );\n\t}\n\treturn state;\n};\n\nexport default isResolved;\n", "/**\n * External dependencies\n */\nimport type { AnyAction, Reducer } from 'redux';\n\n/**\n * Higher-order reducer creator which creates a combined reducer object, keyed\n * by a property on the action object.\n *\n * @param actionProperty Action property by which to key object.\n * @return Higher-order reducer.\n */\nexport const onSubKey =\n\t< TState extends unknown, TAction extends AnyAction >(\n\t\tactionProperty: string\n\t) =>\n\t(\n\t\treducer: Reducer< TState, TAction >\n\t): Reducer< Record< string, TState >, TAction > =>\n\t( state: Record< string, TState > = {}, action ) => {\n\t\t// Retrieve subkey from action. Do not track if undefined; useful for cases\n\t\t// where reducer is scoped by action shape.\n\t\tconst key = action[ actionProperty ];\n\t\tif ( key === undefined ) {\n\t\t\treturn state;\n\t\t}\n\n\t\t// Avoid updating state if unchanged. Note that this also accounts for a\n\t\t// reducer which returns undefined on a key which is not yet tracked.\n\t\tconst nextKeyState = reducer( state[ key ], action );\n\t\tif ( nextKeyState === state[ key ] ) {\n\t\t\treturn state;\n\t\t}\n\n\t\treturn {\n\t\t\t...state,\n\t\t\t[ key ]: nextKeyState,\n\t\t};\n\t};\n\n/**\n * Normalize selector argument array by defaulting `undefined` value to an empty array\n * and removing trailing `undefined` values.\n *\n * @param args Selector argument array\n * @return Normalized state key array\n */\nexport function selectorArgsToStateKey( args: unknown[] | null | undefined ) {\n\tif ( args === undefined || args === null ) {\n\t\treturn [];\n\t}\n\n\tconst len = args.length;\n\tlet idx = len;\n\twhile ( idx > 0 && args[ idx - 1 ] === undefined ) {\n\t\tidx--;\n\t}\n\treturn idx === len ? args : args.slice( 0, idx );\n}\n", "/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { createSelector } from '../../create-selector';\nimport { selectorArgsToStateKey } from './utils';\n\n/** @typedef {Record<string, import('./reducer').State>} State */\n/** @typedef {import('./reducer').StateValue} StateValue */\n/** @typedef {import('./reducer').Status} Status */\n\n/**\n * Returns the raw resolution state value for a given selector name,\n * and arguments set. May be undefined if the selector has never been resolved\n * or not resolved for the given set of arguments, otherwise true or false for\n * resolution started and completed respectively.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {StateValue|undefined} isResolving value.\n */\nexport function getResolutionState( state, selectorName, args ) {\n\tconst map = state[ selectorName ];\n\tif ( ! map ) {\n\t\treturn;\n\t}\n\n\treturn map.get( selectorArgsToStateKey( args ) );\n}\n\n/**\n * Returns an `isResolving`-like value for a given selector name and arguments set.\n * Its value is either `undefined` if the selector has never been resolved or has been\n * invalidated, or a `true`/`false` boolean value if the resolution is in progress or\n * has finished, respectively.\n *\n * This is a legacy selector that was implemented when the \"raw\" internal data had\n * this `undefined | boolean` format. Nowadays the internal value is an object that\n * can be retrieved with `getResolutionState`.\n *\n * @deprecated\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean | undefined} isResolving value.\n */\nexport function getIsResolving( state, selectorName, args ) {\n\tdeprecated( 'wp.data.select( store ).getIsResolving', {\n\t\tsince: '6.6',\n\t\tversion: '6.8',\n\t\talternative: 'wp.data.select( store ).getResolutionState',\n\t} );\n\n\tconst resolutionState = getResolutionState( state, selectorName, args );\n\treturn resolutionState && resolutionState.status === 'resolving';\n}\n\n/**\n * Returns true if resolution has already been triggered for a given\n * selector name, and arguments set.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean} Whether resolution has been triggered.\n */\nexport function hasStartedResolution( state, selectorName, args ) {\n\treturn getResolutionState( state, selectorName, args ) !== undefined;\n}\n\n/**\n * Returns true if resolution has completed for a given selector\n * name, and arguments set.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean} Whether resolution has completed.\n */\nexport function hasFinishedResolution( state, selectorName, args ) {\n\tconst status = getResolutionState( state, selectorName, args )?.status;\n\treturn status === 'finished' || status === 'error';\n}\n\n/**\n * Returns true if resolution has failed for a given selector\n * name, and arguments set.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean} Has resolution failed\n */\nexport function hasResolutionFailed( state, selectorName, args ) {\n\treturn getResolutionState( state, selectorName, args )?.status === 'error';\n}\n\n/**\n * Returns the resolution error for a given selector name, and arguments set.\n * Note it may be of an Error type, but may also be null, undefined, or anything else\n * that can be `throw`-n.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {Error|unknown} Last resolution error\n */\nexport function getResolutionError( state, selectorName, args ) {\n\tconst resolutionState = getResolutionState( state, selectorName, args );\n\treturn resolutionState?.status === 'error' ? resolutionState.error : null;\n}\n\n/**\n * Returns true if resolution has been triggered but has not yet completed for\n * a given selector name, and arguments set.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean} Whether resolution is in progress.\n */\nexport function isResolving( state, selectorName, args ) {\n\treturn (\n\t\tgetResolutionState( state, selectorName, args )?.status === 'resolving'\n\t);\n}\n\n/**\n * Returns the list of the cached resolvers.\n *\n * @param {State} state Data state.\n *\n * @return {State} Resolvers mapped by args and selectorName.\n */\nexport function getCachedResolvers( state ) {\n\treturn state;\n}\n\n/**\n * Whether the store has any currently resolving selectors.\n *\n * @param {State} state Data state.\n *\n * @return {boolean} True if one or more selectors are resolving, false otherwise.\n */\nexport function hasResolvingSelectors( state ) {\n\treturn Object.values( state ).some( ( selectorState ) =>\n\t\t/**\n\t\t * This uses the internal `_map` property of `EquivalentKeyMap` for\n\t\t * optimization purposes, since the `EquivalentKeyMap` implementation\n\t\t * does not support a `.values()` implementation.\n\t\t *\n\t\t * @see https://github.com/aduth/equivalent-key-map\n\t\t */\n\t\tArray.from( selectorState._map.values() ).some(\n\t\t\t( resolution ) => resolution[ 1 ]?.status === 'resolving'\n\t\t)\n\t);\n}\n\n/**\n * Retrieves the total number of selectors, grouped per status.\n *\n * @param {State} state Data state.\n *\n * @return {Object} Object, containing selector totals by status.\n */\nexport const countSelectorsByStatus = createSelector(\n\t( state ) => {\n\t\tconst selectorsByStatus = {};\n\n\t\tObject.values( state ).forEach( ( selectorState ) =>\n\t\t\t/**\n\t\t\t * This uses the internal `_map` property of `EquivalentKeyMap` for\n\t\t\t * optimization purposes, since the `EquivalentKeyMap` implementation\n\t\t\t * does not support a `.values()` implementation.\n\t\t\t *\n\t\t\t * @see https://github.com/aduth/equivalent-key-map\n\t\t\t */\n\t\t\tArray.from( selectorState._map.values() ).forEach(\n\t\t\t\t( resolution ) => {\n\t\t\t\t\tconst currentStatus = resolution[ 1 ]?.status ?? 'error';\n\t\t\t\t\tif ( ! selectorsByStatus[ currentStatus ] ) {\n\t\t\t\t\t\tselectorsByStatus[ currentStatus ] = 0;\n\t\t\t\t\t}\n\t\t\t\t\tselectorsByStatus[ currentStatus ]++;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\n\t\treturn selectorsByStatus;\n\t},\n\t( state ) => [ state ]\n);\n", "/**\n * Returns an action object used in signalling that selector resolution has\n * started.\n *\n * @param {string}    selectorName Name of selector for which resolver triggered.\n * @param {unknown[]} args         Arguments to associate for uniqueness.\n *\n * @return {{ type: 'START_RESOLUTION', selectorName: string, args: unknown[] }} Action object.\n */\nexport function startResolution( selectorName, args ) {\n\treturn {\n\t\ttype: 'START_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that selector resolution has\n * completed.\n *\n * @param {string}    selectorName Name of selector for which resolver triggered.\n * @param {unknown[]} args         Arguments to associate for uniqueness.\n *\n * @return {{ type: 'FINISH_RESOLUTION', selectorName: string, args: unknown[] }} Action object.\n */\nexport function finishResolution( selectorName, args ) {\n\treturn {\n\t\ttype: 'FINISH_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that selector resolution has\n * failed.\n *\n * @param {string}        selectorName Name of selector for which resolver triggered.\n * @param {unknown[]}     args         Arguments to associate for uniqueness.\n * @param {Error|unknown} error        The error that caused the failure.\n *\n * @return {{ type: 'FAIL_RESOLUTION', selectorName: string, args: unknown[], error: Error|unknown }} Action object.\n */\nexport function failResolution( selectorName, args, error ) {\n\treturn {\n\t\ttype: 'FAIL_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t\terror,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a batch of selector resolutions has\n * started.\n *\n * @param {string}      selectorName Name of selector for which resolver triggered.\n * @param {unknown[][]} args         Array of arguments to associate for uniqueness, each item\n *                                   is associated to a resolution.\n *\n * @return {{ type: 'START_RESOLUTIONS', selectorName: string, args: unknown[][] }} Action object.\n */\nexport function startResolutions( selectorName, args ) {\n\treturn {\n\t\ttype: 'START_RESOLUTIONS',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a batch of selector resolutions has\n * completed.\n *\n * @param {string}      selectorName Name of selector for which resolver triggered.\n * @param {unknown[][]} args         Array of arguments to associate for uniqueness, each item\n *                                   is associated to a resolution.\n *\n * @return {{ type: 'FINISH_RESOLUTIONS', selectorName: string, args: unknown[][] }} Action object.\n */\nexport function finishResolutions( selectorName, args ) {\n\treturn {\n\t\ttype: 'FINISH_RESOLUTIONS',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a batch of selector resolutions has\n * completed and at least one of them has failed.\n *\n * @param {string}            selectorName Name of selector for which resolver triggered.\n * @param {unknown[]}         args         Array of arguments to associate for uniqueness, each item\n *                                         is associated to a resolution.\n * @param {(Error|unknown)[]} errors       Array of errors to associate for uniqueness, each item\n *                                         is associated to a resolution.\n * @return {{ type: 'FAIL_RESOLUTIONS', selectorName: string, args: unknown[], errors: Array<Error|unknown> }} Action object.\n */\nexport function failResolutions( selectorName, args, errors ) {\n\treturn {\n\t\ttype: 'FAIL_RESOLUTIONS',\n\t\tselectorName,\n\t\targs,\n\t\terrors,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that we should invalidate the resolution cache.\n *\n * @param {string}    selectorName Name of selector for which resolver should be invalidated.\n * @param {unknown[]} args         Arguments to associate for uniqueness.\n *\n * @return {{ type: 'INVALIDATE_RESOLUTION', selectorName: string, args: any[] }} Action object.\n */\nexport function invalidateResolution( selectorName, args ) {\n\treturn {\n\t\ttype: 'INVALIDATE_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the resolution\n * should be invalidated.\n *\n * @return {{ type: 'INVALIDATE_RESOLUTION_FOR_STORE' }} Action object.\n */\nexport function invalidateResolutionForStore() {\n\treturn {\n\t\ttype: 'INVALIDATE_RESOLUTION_FOR_STORE',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the resolution cache for a\n * given selectorName should be invalidated.\n *\n * @param {string} selectorName Name of selector for which all resolvers should\n *                              be invalidated.\n *\n * @return  {{ type: 'INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR', selectorName: string }} Action object.\n */\nexport function invalidateResolutionForStoreSelector( selectorName ) {\n\treturn {\n\t\ttype: 'INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR',\n\t\tselectorName,\n\t};\n}\n", "const coreDataStore = {\n\tname: 'core/data',\n\tinstantiate( registry ) {\n\t\tconst getCoreDataSelector =\n\t\t\t( selectorName ) =>\n\t\t\t( key, ...args ) => {\n\t\t\t\treturn registry.select( key )[ selectorName ]( ...args );\n\t\t\t};\n\n\t\tconst getCoreDataAction =\n\t\t\t( actionName ) =>\n\t\t\t( key, ...args ) => {\n\t\t\t\treturn registry.dispatch( key )[ actionName ]( ...args );\n\t\t\t};\n\n\t\treturn {\n\t\t\tgetSelectors() {\n\t\t\t\treturn Object.fromEntries(\n\t\t\t\t\t[\n\t\t\t\t\t\t'getIsResolving',\n\t\t\t\t\t\t'hasStartedResolution',\n\t\t\t\t\t\t'hasFinishedResolution',\n\t\t\t\t\t\t'isResolving',\n\t\t\t\t\t\t'getCachedResolvers',\n\t\t\t\t\t].map( ( selectorName ) => [\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\tgetCoreDataSelector( selectorName ),\n\t\t\t\t\t] )\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tgetActions() {\n\t\t\t\treturn Object.fromEntries(\n\t\t\t\t\t[\n\t\t\t\t\t\t'startResolution',\n\t\t\t\t\t\t'finishResolution',\n\t\t\t\t\t\t'invalidateResolution',\n\t\t\t\t\t\t'invalidateResolutionForStore',\n\t\t\t\t\t\t'invalidateResolutionForStoreSelector',\n\t\t\t\t\t].map( ( actionName ) => [\n\t\t\t\t\t\tactionName,\n\t\t\t\t\t\tgetCoreDataAction( actionName ),\n\t\t\t\t\t] )\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tsubscribe() {\n\t\t\t\t// There's no reasons to trigger any listener when we subscribe to this store\n\t\t\t\t// because there's no state stored in this store that need to retrigger selectors\n\t\t\t\t// if a change happens, the corresponding store where the tracking stated live\n\t\t\t\t// would have already triggered a \"subscribe\" call.\n\t\t\t\treturn () => () => {};\n\t\t\t},\n\t\t};\n\t},\n};\n\nexport default coreDataStore;\n", "export interface DataEmitter {\n\temit: VoidFunction;\n\tsubscribe: ( listener: VoidFunction ) => VoidFunction;\n\tpause: VoidFunction;\n\tresume: VoidFunction;\n\tisPaused: boolean;\n}\n\n/**\n * Create an event emitter.\n *\n * @return The event emitter.\n */\nexport function createEmitter(): DataEmitter {\n\tlet isPaused = false;\n\tlet isPending = false;\n\tconst listeners = new Set< VoidFunction >();\n\tconst notifyListeners = () =>\n\t\t// We use Array.from to clone the listeners Set\n\t\t// This ensures that we don't run a listener\n\t\t// that was added as a response to another listener.\n\t\tArray.from( listeners ).forEach( ( listener ) => listener() );\n\n\treturn {\n\t\tget isPaused() {\n\t\t\treturn isPaused;\n\t\t},\n\n\t\tsubscribe( listener ) {\n\t\t\tlisteners.add( listener );\n\t\t\treturn () => listeners.delete( listener );\n\t\t},\n\n\t\tpause() {\n\t\t\tisPaused = true;\n\t\t},\n\n\t\tresume() {\n\t\t\tisPaused = false;\n\t\t\tif ( isPending ) {\n\t\t\t\tisPending = false;\n\t\t\t\tnotifyListeners();\n\t\t\t}\n\t\t},\n\n\t\temit() {\n\t\t\tif ( isPaused ) {\n\t\t\t\tisPending = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnotifyListeners();\n\t\t},\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport createReduxStore from './redux-store';\nimport coreDataStore from './store';\nimport { createEmitter } from './utils/emitter';\nimport { lock, unlock } from './lock-unlock';\n\n/** @typedef {import('./types').StoreDescriptor} StoreDescriptor */\n\n/**\n * @typedef {Object} WPDataRegistry An isolated orchestrator of store registrations.\n *\n * @property {Function} registerGenericStore Given a namespace key and settings\n *                                           object, registers a new generic\n *                                           store.\n * @property {Function} registerStore        Given a namespace key and settings\n *                                           object, registers a new namespace\n *                                           store.\n * @property {Function} subscribe            Given a function callback, invokes\n *                                           the callback on any change to state\n *                                           within any registered store.\n * @property {Function} select               Given a namespace key, returns an\n *                                           object of the  store's registered\n *                                           selectors.\n * @property {Function} dispatch             Given a namespace key, returns an\n *                                           object of the store's registered\n *                                           action dispatchers.\n */\n\n/**\n * @typedef {Object} WPDataPlugin An object of registry function overrides.\n *\n * @property {Function} registerStore registers store.\n */\n\nfunction getStoreName( storeNameOrDescriptor ) {\n\treturn typeof storeNameOrDescriptor === 'string'\n\t\t? storeNameOrDescriptor\n\t\t: storeNameOrDescriptor.name;\n}\n/**\n * Creates a new store registry, given an optional object of initial store\n * configurations.\n *\n * @param {Object}  storeConfigs Initial store configurations.\n * @param {?Object} parent       Parent registry.\n *\n * @return {WPDataRegistry} Data registry.\n */\nexport function createRegistry( storeConfigs = {}, parent = null ) {\n\tconst stores = {};\n\tconst emitter = createEmitter();\n\tlet listeningStores = null;\n\n\t/**\n\t * Global listener called for each store's update.\n\t */\n\tfunction globalListener() {\n\t\temitter.emit();\n\t}\n\n\t/**\n\t * Subscribe to changes to any data, either in all stores in registry, or\n\t * in one specific store.\n\t *\n\t * @param {Function}                listener              Listener function.\n\t * @param {string|StoreDescriptor?} storeNameOrDescriptor Optional store name.\n\t *\n\t * @return {Function} Unsubscribe function.\n\t */\n\tconst subscribe = ( listener, storeNameOrDescriptor ) => {\n\t\t// subscribe to all stores\n\t\tif ( ! storeNameOrDescriptor ) {\n\t\t\treturn emitter.subscribe( listener );\n\t\t}\n\n\t\t// subscribe to one store\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.subscribe( listener );\n\t\t}\n\n\t\t// Trying to access a store that hasn't been registered,\n\t\t// this is a pattern rarely used but seen in some places.\n\t\t// We fallback to global `subscribe` here for backward-compatibility for now.\n\t\t// See https://github.com/WordPress/gutenberg/pull/27466 for more info.\n\t\tif ( ! parent ) {\n\t\t\treturn emitter.subscribe( listener );\n\t\t}\n\n\t\treturn parent.subscribe( listener, storeNameOrDescriptor );\n\t};\n\n\t/**\n\t * Calls a selector given the current state and extra arguments.\n\t *\n\t * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n\t *                                                       or the store descriptor.\n\t *\n\t * @return {*} The selector's returned value.\n\t */\n\tfunction select( storeNameOrDescriptor ) {\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tlisteningStores?.add( storeName );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.getSelectors();\n\t\t}\n\n\t\treturn parent?.select( storeName );\n\t}\n\n\tfunction __unstableMarkListeningStores( callback, ref ) {\n\t\tlisteningStores = new Set();\n\t\ttry {\n\t\t\treturn callback.call( this );\n\t\t} finally {\n\t\t\tref.current = Array.from( listeningStores );\n\t\t\tlisteningStores = null;\n\t\t}\n\t}\n\n\t/**\n\t * Given a store descriptor, returns an object containing the store's selectors pre-bound to\n\t * state so that you only need to supply additional arguments, and modified so that they return\n\t * promises that resolve to their eventual values, after any resolvers have ran.\n\t *\n\t * @param {StoreDescriptor|string} storeNameOrDescriptor The store descriptor. The legacy calling\n\t *                                                       convention of passing the store name is\n\t *                                                       also supported.\n\t *\n\t * @return {Object} Each key of the object matches the name of a selector.\n\t */\n\tfunction resolveSelect( storeNameOrDescriptor ) {\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tlisteningStores?.add( storeName );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.getResolveSelectors();\n\t\t}\n\n\t\treturn parent && parent.resolveSelect( storeName );\n\t}\n\n\t/**\n\t * Given a store descriptor, returns an object containing the store's selectors pre-bound to\n\t * state so that you only need to supply additional arguments, and modified so that they throw\n\t * promises in case the selector is not resolved yet.\n\t *\n\t * @param {StoreDescriptor|string} storeNameOrDescriptor The store descriptor. The legacy calling\n\t *                                                       convention of passing the store name is\n\t *                                                       also supported.\n\t *\n\t * @return {Object} Object containing the store's suspense-wrapped selectors.\n\t */\n\tfunction suspendSelect( storeNameOrDescriptor ) {\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tlisteningStores?.add( storeName );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.getSuspendSelectors();\n\t\t}\n\n\t\treturn parent && parent.suspendSelect( storeName );\n\t}\n\n\t/**\n\t * Returns the available actions for a part of the state.\n\t *\n\t * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n\t *                                                       or the store descriptor.\n\t *\n\t * @return {*} The action's returned value.\n\t */\n\tfunction dispatch( storeNameOrDescriptor ) {\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.getActions();\n\t\t}\n\n\t\treturn parent && parent.dispatch( storeName );\n\t}\n\n\t//\n\t// Deprecated\n\t// TODO: Remove this after `use()` is removed.\n\tfunction withPlugins( attributes ) {\n\t\treturn Object.fromEntries(\n\t\t\tObject.entries( attributes ).map( ( [ key, attribute ] ) => {\n\t\t\t\tif ( typeof attribute !== 'function' ) {\n\t\t\t\t\treturn [ key, attribute ];\n\t\t\t\t}\n\t\t\t\treturn [\n\t\t\t\t\tkey,\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\treturn registry[ key ].apply( null, arguments );\n\t\t\t\t\t},\n\t\t\t\t];\n\t\t\t} )\n\t\t);\n\t}\n\n\t/**\n\t * Registers a store instance.\n\t *\n\t * @param {string}   name        Store registry name.\n\t * @param {Function} createStore Function that creates a store object (getSelectors, getActions, subscribe).\n\t */\n\tfunction registerStoreInstance( name, createStore ) {\n\t\tif ( stores[ name ] ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error( 'Store \"' + name + '\" is already registered.' );\n\t\t\treturn stores[ name ];\n\t\t}\n\n\t\tconst store = createStore();\n\n\t\tif ( typeof store.getSelectors !== 'function' ) {\n\t\t\tthrow new TypeError( 'store.getSelectors must be a function' );\n\t\t}\n\t\tif ( typeof store.getActions !== 'function' ) {\n\t\t\tthrow new TypeError( 'store.getActions must be a function' );\n\t\t}\n\t\tif ( typeof store.subscribe !== 'function' ) {\n\t\t\tthrow new TypeError( 'store.subscribe must be a function' );\n\t\t}\n\t\t// The emitter is used to keep track of active listeners when the registry\n\t\t// get paused, that way, when resumed we should be able to call all these\n\t\t// pending listeners.\n\t\tstore.emitter = createEmitter();\n\t\tconst currentSubscribe = store.subscribe;\n\t\tstore.subscribe = ( listener ) => {\n\t\t\tconst unsubscribeFromEmitter = store.emitter.subscribe( listener );\n\t\t\tconst unsubscribeFromStore = currentSubscribe( () => {\n\t\t\t\tif ( store.emitter.isPaused ) {\n\t\t\t\t\tstore.emitter.emit();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlistener();\n\t\t\t} );\n\n\t\t\treturn () => {\n\t\t\t\tunsubscribeFromStore?.();\n\t\t\t\tunsubscribeFromEmitter?.();\n\t\t\t};\n\t\t};\n\t\tstores[ name ] = store;\n\t\tstore.subscribe( globalListener );\n\n\t\t// Copy private actions and selectors from the parent store.\n\t\tif ( parent ) {\n\t\t\ttry {\n\t\t\t\tunlock( store.store ).registerPrivateActions(\n\t\t\t\t\tunlock( parent ).privateActionsOf( name )\n\t\t\t\t);\n\t\t\t\tunlock( store.store ).registerPrivateSelectors(\n\t\t\t\t\tunlock( parent ).privateSelectorsOf( name )\n\t\t\t\t);\n\t\t\t} catch ( e ) {\n\t\t\t\t// unlock() throws if store.store was not locked.\n\t\t\t\t// The error indicates there's nothing to do here so let's\n\t\t\t\t// ignore it.\n\t\t\t}\n\t\t}\n\n\t\treturn store;\n\t}\n\n\t/**\n\t * Registers a new store given a store descriptor.\n\t *\n\t * @param {StoreDescriptor} store Store descriptor.\n\t */\n\tfunction register( store ) {\n\t\tregisterStoreInstance( store.name, () =>\n\t\t\tstore.instantiate( registry )\n\t\t);\n\t}\n\n\tfunction registerGenericStore( name, store ) {\n\t\tdeprecated( 'wp.data.registerGenericStore', {\n\t\t\tsince: '5.9',\n\t\t\talternative: 'wp.data.register( storeDescriptor )',\n\t\t} );\n\t\tregisterStoreInstance( name, () => store );\n\t}\n\n\t/**\n\t * Registers a standard `@wordpress/data` store.\n\t *\n\t * @param {string} storeName Unique namespace identifier.\n\t * @param {Object} options   Store description (reducer, actions, selectors, resolvers).\n\t *\n\t * @return {Object} Registered store object.\n\t */\n\tfunction registerStore( storeName, options ) {\n\t\tif ( ! options.reducer ) {\n\t\t\tthrow new TypeError( 'Must specify store reducer' );\n\t\t}\n\n\t\tconst store = registerStoreInstance( storeName, () =>\n\t\t\tcreateReduxStore( storeName, options ).instantiate( registry )\n\t\t);\n\n\t\treturn store.store;\n\t}\n\n\tfunction batch( callback ) {\n\t\t// If we're already batching, just call the callback.\n\t\tif ( emitter.isPaused ) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\n\t\temitter.pause();\n\t\tObject.values( stores ).forEach( ( store ) => store.emitter.pause() );\n\t\ttry {\n\t\t\tcallback();\n\t\t} finally {\n\t\t\temitter.resume();\n\t\t\tObject.values( stores ).forEach( ( store ) =>\n\t\t\t\tstore.emitter.resume()\n\t\t\t);\n\t\t}\n\t}\n\n\tlet registry = {\n\t\tbatch,\n\t\tstores,\n\t\tnamespaces: stores, // TODO: Deprecate/remove this.\n\t\tsubscribe,\n\t\tselect,\n\t\tresolveSelect,\n\t\tsuspendSelect,\n\t\tdispatch,\n\t\tuse,\n\t\tregister,\n\t\tregisterGenericStore,\n\t\tregisterStore,\n\t\t__unstableMarkListeningStores,\n\t};\n\n\t//\n\t// TODO:\n\t// This function will be deprecated as soon as it is no longer internally referenced.\n\tfunction use( plugin, options ) {\n\t\tif ( ! plugin ) {\n\t\t\treturn;\n\t\t}\n\n\t\tregistry = {\n\t\t\t...registry,\n\t\t\t...plugin( registry, options ),\n\t\t};\n\n\t\treturn registry;\n\t}\n\n\tregistry.register( coreDataStore );\n\n\tfor ( const [ name, config ] of Object.entries( storeConfigs ) ) {\n\t\tregistry.register( createReduxStore( name, config ) );\n\t}\n\n\tif ( parent ) {\n\t\tparent.subscribe( globalListener );\n\t}\n\n\tconst registryWithPlugins = withPlugins( registry );\n\tlock( registryWithPlugins, {\n\t\tprivateActionsOf: ( name ) => {\n\t\t\ttry {\n\t\t\t\treturn unlock( stores[ name ].store ).privateActions;\n\t\t\t} catch ( e ) {\n\t\t\t\t// unlock() throws an error the store was not locked – this means\n\t\t\t\t// there no private actions are available\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\tprivateSelectorsOf: ( name ) => {\n\t\t\ttry {\n\t\t\t\treturn unlock( stores[ name ].store ).privateSelectors;\n\t\t\t} catch ( e ) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t} );\n\treturn registryWithPlugins;\n}\n", "/**\n * Internal dependencies\n */\nimport { createRegistry } from './registry';\n\nexport default createRegistry();\n", "export { default as persistence } from './persistence';\n", "/**\n * External dependencies\n */\nimport { isPlainObject } from 'is-plain-object';\nimport deepmerge from 'deepmerge';\n\n/**\n * Internal dependencies\n */\nimport defaultStorage from './storage/default';\nimport { combineReducers } from '../../';\n\n/** @typedef {import('../../registry').WPDataRegistry} WPDataRegistry */\n\n/** @typedef {import('../../registry').WPDataPlugin} WPDataPlugin */\n\n/**\n * @typedef {Object} WPDataPersistencePluginOptions Persistence plugin options.\n *\n * @property {Storage} storage    Persistent storage implementation. This must\n *                                at least implement `getItem` and `setItem` of\n *                                the Web Storage API.\n * @property {string}  storageKey Key on which to set in persistent storage.\n */\n\n/**\n * Default plugin storage.\n *\n * @type {Storage}\n */\nconst DEFAULT_STORAGE = defaultStorage;\n\n/**\n * Default plugin storage key.\n *\n * @type {string}\n */\nconst DEFAULT_STORAGE_KEY = 'WP_DATA';\n\n/**\n * Higher-order reducer which invokes the original reducer only if state is\n * inequal from that of the action's `nextState` property, otherwise returning\n * the original state reference.\n *\n * @param {Function} reducer Original reducer.\n *\n * @return {Function} Enhanced reducer.\n */\nexport const withLazySameState = ( reducer ) => ( state, action ) => {\n\tif ( action.nextState === state ) {\n\t\treturn state;\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Creates a persistence interface, exposing getter and setter methods (`get`\n * and `set` respectively).\n *\n * @param {WPDataPersistencePluginOptions} options Plugin options.\n *\n * @return {Object} Persistence interface.\n */\nexport function createPersistenceInterface( options ) {\n\tconst { storage = DEFAULT_STORAGE, storageKey = DEFAULT_STORAGE_KEY } =\n\t\toptions;\n\n\tlet data;\n\n\t/**\n\t * Returns the persisted data as an object, defaulting to an empty object.\n\t *\n\t * @return {Object} Persisted data.\n\t */\n\tfunction getData() {\n\t\tif ( data === undefined ) {\n\t\t\t// If unset, getItem is expected to return null. Fall back to\n\t\t\t// empty object.\n\t\t\tconst persisted = storage.getItem( storageKey );\n\t\t\tif ( persisted === null ) {\n\t\t\t\tdata = {};\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse( persisted );\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\t// Similarly, should any error be thrown during parse of\n\t\t\t\t\t// the string (malformed JSON), fall back to empty object.\n\t\t\t\t\tdata = {};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t/**\n\t * Merges an updated reducer state into the persisted data.\n\t *\n\t * @param {string} key   Key to update.\n\t * @param {*}      value Updated value.\n\t */\n\tfunction setData( key, value ) {\n\t\tdata = { ...data, [ key ]: value };\n\t\tstorage.setItem( storageKey, JSON.stringify( data ) );\n\t}\n\n\treturn {\n\t\tget: getData,\n\t\tset: setData,\n\t};\n}\n\n/**\n * Data plugin to persist store state into a single storage key.\n *\n * @param {WPDataRegistry}                  registry      Data registry.\n * @param {?WPDataPersistencePluginOptions} pluginOptions Plugin options.\n *\n * @return {WPDataPlugin} Data plugin.\n */\nfunction persistencePlugin( registry, pluginOptions ) {\n\tconst persistence = createPersistenceInterface( pluginOptions );\n\n\t/**\n\t * Creates an enhanced store dispatch function, triggering the state of the\n\t * given store name to be persisted when changed.\n\t *\n\t * @param {Function}       getState  Function which returns current state.\n\t * @param {string}         storeName Store name.\n\t * @param {?Array<string>} keys      Optional subset of keys to save.\n\t *\n\t * @return {Function} Enhanced dispatch function.\n\t */\n\tfunction createPersistOnChange( getState, storeName, keys ) {\n\t\tlet getPersistedState;\n\t\tif ( Array.isArray( keys ) ) {\n\t\t\t// Given keys, the persisted state should by produced as an object\n\t\t\t// of the subset of keys. This implementation uses combineReducers\n\t\t\t// to leverage its behavior of returning the same object when none\n\t\t\t// of the property values changes. This allows a strict reference\n\t\t\t// equality to bypass a persistence set on an unchanging state.\n\t\t\tconst reducers = keys.reduce(\n\t\t\t\t( accumulator, key ) =>\n\t\t\t\t\tObject.assign( accumulator, {\n\t\t\t\t\t\t[ key ]: ( state, action ) => action.nextState[ key ],\n\t\t\t\t\t} ),\n\t\t\t\t{}\n\t\t\t);\n\n\t\t\tgetPersistedState = withLazySameState(\n\t\t\t\tcombineReducers( reducers )\n\t\t\t);\n\t\t} else {\n\t\t\tgetPersistedState = ( state, action ) => action.nextState;\n\t\t}\n\n\t\tlet lastState = getPersistedState( undefined, {\n\t\t\tnextState: getState(),\n\t\t} );\n\n\t\treturn () => {\n\t\t\tconst state = getPersistedState( lastState, {\n\t\t\t\tnextState: getState(),\n\t\t\t} );\n\t\t\tif ( state !== lastState ) {\n\t\t\t\tpersistence.set( storeName, state );\n\t\t\t\tlastState = state;\n\t\t\t}\n\t\t};\n\t}\n\n\treturn {\n\t\tregisterStore( storeName, options ) {\n\t\t\tif ( ! options.persist ) {\n\t\t\t\treturn registry.registerStore( storeName, options );\n\t\t\t}\n\n\t\t\t// Load from persistence to use as initial state.\n\t\t\tconst persistedState = persistence.get()[ storeName ];\n\t\t\tif ( persistedState !== undefined ) {\n\t\t\t\tlet initialState = options.reducer( options.initialState, {\n\t\t\t\t\ttype: '@@WP/PERSISTENCE_RESTORE',\n\t\t\t\t} );\n\n\t\t\t\tif (\n\t\t\t\t\tisPlainObject( initialState ) &&\n\t\t\t\t\tisPlainObject( persistedState )\n\t\t\t\t) {\n\t\t\t\t\t// If state is an object, ensure that:\n\t\t\t\t\t// - Other keys are left intact when persisting only a\n\t\t\t\t\t//   subset of keys.\n\t\t\t\t\t// - New keys in what would otherwise be used as initial\n\t\t\t\t\t//   state are deeply merged as base for persisted value.\n\t\t\t\t\tinitialState = deepmerge( initialState, persistedState, {\n\t\t\t\t\t\tisMergeableObject: isPlainObject,\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t// If there is a mismatch in object-likeness of default\n\t\t\t\t\t// initial or persisted state, defer to persisted value.\n\t\t\t\t\tinitialState = persistedState;\n\t\t\t\t}\n\n\t\t\t\toptions = {\n\t\t\t\t\t...options,\n\t\t\t\t\tinitialState,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst store = registry.registerStore( storeName, options );\n\n\t\t\tstore.subscribe(\n\t\t\t\tcreatePersistOnChange(\n\t\t\t\t\tstore.getState,\n\t\t\t\t\tstoreName,\n\t\t\t\t\toptions.persist\n\t\t\t\t)\n\t\t\t);\n\n\t\t\treturn store;\n\t\t},\n\t};\n}\n\npersistencePlugin.__unstableMigrate = () => {};\n\nexport default persistencePlugin;\n", "let objectStorage;\n\nconst storage = {\n\tgetItem( key ) {\n\t\tif ( ! objectStorage || ! objectStorage[ key ] ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn objectStorage[ key ];\n\t},\n\tsetItem( key, value ) {\n\t\tif ( ! objectStorage ) {\n\t\t\tstorage.clear();\n\t\t}\n\n\t\tobjectStorage[ key ] = String( value );\n\t},\n\tclear() {\n\t\tobjectStorage = Object.create( null );\n\t},\n};\n\nexport default storage;\n", "/**\n * Internal dependencies\n */\nimport objectStorage from './object';\n\nlet storage;\n\ntry {\n\t// Private Browsing in Safari 10 and earlier will throw an error when\n\t// attempting to set into localStorage. The test here is intentional in\n\t// causing a thrown error as condition for using fallback object storage.\n\tstorage = window.localStorage;\n\tstorage.setItem( '__wpDataTestLocalStorage', '' );\n\tstorage.removeItem( '__wpDataTestLocalStorage' );\n} catch ( error ) {\n\tstorage = objectStorage;\n}\n\nexport default storage;\n", "/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport defaultRegistry from '../../default-registry';\n\nexport const Context = createContext( defaultRegistry );\nContext.displayName = 'RegistryProviderContext';\n\nconst { Consumer, Provider } = Context;\n\n/**\n * A custom react Context consumer exposing the provided `registry` to\n * children components. Used along with the RegistryProvider.\n *\n * You can read more about the react context api here:\n * https://react.dev/learn/passing-data-deeply-with-context#step-3-provide-the-context\n *\n * @example\n * ```js\n * import {\n *   RegistryProvider,\n *   RegistryConsumer,\n *   createRegistry\n * } from '@wordpress/data';\n *\n * const registry = createRegistry( {} );\n *\n * const App = ( { props } ) => {\n *   return <RegistryProvider value={ registry }>\n *     <div>Hello There</div>\n *     <RegistryConsumer>\n *       { ( registry ) => (\n *         <ComponentUsingRegistry\n *         \t\t{ ...props }\n *         \t  registry={ registry }\n *       ) }\n *     </RegistryConsumer>\n *   </RegistryProvider>\n * }\n * ```\n */\nexport const RegistryConsumer = Consumer;\n\n/**\n * A custom Context provider for exposing the provided `registry` to children\n * components via a consumer.\n *\n * See <a name=\"#RegistryConsumer\">RegistryConsumer</a> documentation for\n * example.\n */\nexport default Provider;\n", "/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Context } from './context';\n\n/**\n * A custom react hook exposing the registry context for use.\n *\n * This exposes the `registry` value provided via the\n * <a href=\"#RegistryProvider\">Registry Provider</a> to a component implementing\n * this hook.\n *\n * It acts similarly to the `useContext` react hook.\n *\n * Note: Generally speaking, `useRegistry` is a low level hook that in most cases\n * won't be needed for implementation. Most interactions with the `@wordpress/data`\n * API can be performed via the `useSelect` hook,  or the `withSelect` and\n * `withDispatch` higher order components.\n *\n * @example\n * ```js\n * import {\n *   RegistryProvider,\n *   createRegistry,\n *   useRegistry,\n * } from '@wordpress/data';\n *\n * const registry = createRegistry( {} );\n *\n * const SomeChildUsingRegistry = ( props ) => {\n *   const registry = useRegistry();\n *   // ...logic implementing the registry in other react hooks.\n * };\n *\n *\n * const ParentProvidingRegistry = ( props ) => {\n *   return <RegistryProvider value={ registry }>\n *     <SomeChildUsingRegistry { ...props } />\n *   </RegistryProvider>\n * };\n * ```\n *\n * @return {Function}  A custom react hook exposing the registry context value.\n */\nexport default function useRegistry() {\n\treturn useContext( Context );\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\nexport const Context = createContext( false );\nContext.displayName = 'AsyncModeContext';\n\nconst { Consumer, Provider } = Context;\n\nexport const AsyncModeConsumer = Consumer;\n\n/**\n * Context Provider Component used to switch the data module component rerendering\n * between Sync and Async modes.\n *\n * @example\n *\n * ```js\n * import { useSelect, AsyncModeProvider } from '@wordpress/data';\n * import { store as blockEditorStore } from '@wordpress/block-editor';\n *\n * function BlockCount() {\n *   const count = useSelect( ( select ) => {\n *     return select( blockEditorStore ).getBlockCount()\n *   }, [] );\n *\n *   return count;\n * }\n *\n * function App() {\n *   return (\n *     <AsyncModeProvider value={ true }>\n *       <BlockCount />\n *     </AsyncModeProvider>\n *   );\n * }\n * ```\n *\n * In this example, the BlockCount component is rerendered asynchronously.\n * It means if a more critical task is being performed (like typing in an input),\n * the rerendering is delayed until the browser becomes IDLE.\n * It is possible to nest multiple levels of AsyncModeProvider to fine-tune the rendering behavior.\n *\n * @param {boolean} props.value Enable Async Mode.\n * @return {Component} The component to be rendered.\n */\nexport default Provider;\n", "/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Context } from './context';\n\nexport default function useAsyncMode() {\n\treturn useContext( Context );\n}\n", "/**\n * WordPress dependencies\n */\nimport { createQueue } from '@wordpress/priority-queue';\nimport {\n\tuseRef,\n\tuseCallback,\n\tuseMemo,\n\tuseSyncExternalStore,\n\tuseDebugValue,\n} from '@wordpress/element';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\n\n/**\n * Internal dependencies\n */\nimport useRegistry from '../registry-provider/use-registry';\nimport useAsyncMode from '../async-mode-provider/use-async-mode';\n\nconst renderQueue = createQueue();\n\nfunction warnOnUnstableReference( a, b ) {\n\tif ( ! a || ! b ) {\n\t\treturn;\n\t}\n\n\tconst keys =\n\t\ttypeof a === 'object' && typeof b === 'object'\n\t\t\t? Object.keys( a ).filter( ( k ) => a[ k ] !== b[ k ] )\n\t\t\t: [];\n\n\t// eslint-disable-next-line no-console\n\tconsole.warn(\n\t\t'The `useSelect` hook returns different values when called with the same state and parameters.\\n' +\n\t\t\t'This can lead to unnecessary re-renders and performance issues if not fixed.\\n\\n' +\n\t\t\t'Non-equal value keys: %s\\n\\n',\n\t\tkeys.join( ', ' )\n\t);\n}\n\n/**\n * @typedef {import('../../types').StoreDescriptor<C>} StoreDescriptor\n * @template {import('../../types').AnyConfig} C\n */\n/**\n * @typedef {import('../../types').ReduxStoreConfig<State,Actions,Selectors>} ReduxStoreConfig\n * @template State\n * @template {Record<string,import('../../types').ActionCreator>} Actions\n * @template Selectors\n */\n/** @typedef {import('../../types').MapSelect} MapSelect */\n/**\n * @typedef {import('../../types').UseSelectReturn<T>} UseSelectReturn\n * @template {MapSelect|StoreDescriptor<any>} T\n */\n\nfunction Store( registry, suspense ) {\n\tconst select = suspense ? registry.suspendSelect : registry.select;\n\tconst queueContext = {};\n\tlet lastMapSelect;\n\tlet lastMapResult;\n\tlet lastMapResultValid = false;\n\tlet lastIsAsync;\n\tlet subscriber;\n\tlet didWarnUnstableReference;\n\tconst storeStatesOnMount = new Map();\n\n\tfunction getStoreState( name ) {\n\t\t// If there's no store property (custom generic store), return an empty\n\t\t// object. When comparing the state, the empty objects will cause the\n\t\t// equality check to fail, setting `lastMapResultValid` to false.\n\t\treturn registry.stores[ name ]?.store?.getState?.() ?? {};\n\t}\n\n\tconst createSubscriber = ( stores ) => {\n\t\t// The set of stores the `subscribe` function is supposed to subscribe to. Here it is\n\t\t// initialized, and then the `updateStores` function can add new stores to it.\n\t\tconst activeStores = [ ...stores ];\n\n\t\t// The `subscribe` function, which is passed to the `useSyncExternalStore` hook, could\n\t\t// be called multiple times to establish multiple subscriptions. That's why we need to\n\t\t// keep a set of active subscriptions;\n\t\tconst activeSubscriptions = new Set();\n\n\t\tfunction subscribe( listener ) {\n\t\t\t// Maybe invalidate the value right after subscription was created.\n\t\t\t// React will call `getValue` after subscribing, to detect store\n\t\t\t// updates that happened in the interval between the `getValue` call\n\t\t\t// during render and creating the subscription, which is slightly\n\t\t\t// delayed. We need to ensure that this second `getValue` call will\n\t\t\t// compute a fresh value only if any of the store states have\n\t\t\t// changed in the meantime.\n\t\t\tif ( lastMapResultValid ) {\n\t\t\t\tfor ( const name of activeStores ) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tstoreStatesOnMount.get( name ) !== getStoreState( name )\n\t\t\t\t\t) {\n\t\t\t\t\t\tlastMapResultValid = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstoreStatesOnMount.clear();\n\n\t\t\tconst onStoreChange = () => {\n\t\t\t\t// Invalidate the value on store update, so that a fresh value is computed.\n\t\t\t\tlastMapResultValid = false;\n\t\t\t\tlistener();\n\t\t\t};\n\n\t\t\tconst onChange = () => {\n\t\t\t\tif ( lastIsAsync ) {\n\t\t\t\t\trenderQueue.add( queueContext, onStoreChange );\n\t\t\t\t} else {\n\t\t\t\t\tonStoreChange();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst unsubs = [];\n\t\t\tfunction subscribeStore( storeName ) {\n\t\t\t\tunsubs.push( registry.subscribe( onChange, storeName ) );\n\t\t\t}\n\n\t\t\tfor ( const storeName of activeStores ) {\n\t\t\t\tsubscribeStore( storeName );\n\t\t\t}\n\n\t\t\tactiveSubscriptions.add( subscribeStore );\n\n\t\t\treturn () => {\n\t\t\t\tactiveSubscriptions.delete( subscribeStore );\n\n\t\t\t\tfor ( const unsub of unsubs.values() ) {\n\t\t\t\t\t// The return value of the subscribe function could be undefined if the store is a custom generic store.\n\t\t\t\t\tunsub?.();\n\t\t\t\t}\n\t\t\t\t// Cancel existing store updates that were already scheduled.\n\t\t\t\trenderQueue.cancel( queueContext );\n\t\t\t};\n\t\t}\n\n\t\t// Check if `newStores` contains some stores we're not subscribed to yet, and add them.\n\t\tfunction updateStores( newStores ) {\n\t\t\tfor ( const newStore of newStores ) {\n\t\t\t\tif ( activeStores.includes( newStore ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// New `subscribe` calls will subscribe to `newStore`, too.\n\t\t\t\tactiveStores.push( newStore );\n\n\t\t\t\t// Add `newStore` to existing subscriptions.\n\t\t\t\tfor ( const subscription of activeSubscriptions ) {\n\t\t\t\t\tsubscription( newStore );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn { subscribe, updateStores };\n\t};\n\n\treturn ( mapSelect, isAsync ) => {\n\t\tfunction updateValue() {\n\t\t\t// If the last value is valid, and the `mapSelect` callback hasn't changed,\n\t\t\t// then we can safely return the cached value. The value can change only on\n\t\t\t// store update, and in that case value will be invalidated by the listener.\n\t\t\tif ( lastMapResultValid && mapSelect === lastMapSelect ) {\n\t\t\t\treturn lastMapResult;\n\t\t\t}\n\n\t\t\tconst listeningStores = { current: null };\n\t\t\tconst mapResult = registry.__unstableMarkListeningStores(\n\t\t\t\t() => mapSelect( select, registry ),\n\t\t\t\tlisteningStores\n\t\t\t);\n\n\t\t\tif ( globalThis.SCRIPT_DEBUG ) {\n\t\t\t\tif ( ! didWarnUnstableReference ) {\n\t\t\t\t\tconst secondMapResult = mapSelect( select, registry );\n\t\t\t\t\tif ( ! isShallowEqual( mapResult, secondMapResult ) ) {\n\t\t\t\t\t\twarnOnUnstableReference( mapResult, secondMapResult );\n\t\t\t\t\t\tdidWarnUnstableReference = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( ! subscriber ) {\n\t\t\t\tfor ( const name of listeningStores.current ) {\n\t\t\t\t\tstoreStatesOnMount.set( name, getStoreState( name ) );\n\t\t\t\t}\n\t\t\t\tsubscriber = createSubscriber( listeningStores.current );\n\t\t\t} else {\n\t\t\t\tsubscriber.updateStores( listeningStores.current );\n\t\t\t}\n\n\t\t\t// If the new value is shallow-equal to the old one, keep the old one so\n\t\t\t// that we don't trigger unwanted updates that do a `===` check.\n\t\t\tif ( ! isShallowEqual( lastMapResult, mapResult ) ) {\n\t\t\t\tlastMapResult = mapResult;\n\t\t\t}\n\t\t\tlastMapSelect = mapSelect;\n\t\t\tlastMapResultValid = true;\n\t\t}\n\n\t\tfunction getValue() {\n\t\t\t// Update the value in case it's been invalidated or `mapSelect` has changed.\n\t\t\tupdateValue();\n\t\t\treturn lastMapResult;\n\t\t}\n\n\t\t// When transitioning from async to sync mode, cancel existing store updates\n\t\t// that have been scheduled, and invalidate the value so that it's freshly\n\t\t// computed. It might have been changed by the update we just cancelled.\n\t\tif ( lastIsAsync && ! isAsync ) {\n\t\t\tlastMapResultValid = false;\n\t\t\trenderQueue.cancel( queueContext );\n\t\t}\n\n\t\tupdateValue();\n\n\t\tlastIsAsync = isAsync;\n\n\t\t// Return a pair of functions that can be passed to `useSyncExternalStore`.\n\t\treturn { subscribe: subscriber.subscribe, getValue };\n\t};\n}\n\nfunction _useStaticSelect( storeName ) {\n\treturn useRegistry().select( storeName );\n}\n\nfunction _useMappingSelect( suspense, mapSelect, deps ) {\n\tconst registry = useRegistry();\n\tconst isAsync = useAsyncMode();\n\tconst store = useMemo(\n\t\t() => Store( registry, suspense ),\n\t\t[ registry, suspense ]\n\t);\n\n\t// These are \"pass-through\" dependencies from the parent hook,\n\t// and the parent should catch any hook rule violations.\n\tconst selector = useCallback( mapSelect, deps );\n\tconst { subscribe, getValue } = store( selector, isAsync );\n\tconst result = useSyncExternalStore( subscribe, getValue, getValue );\n\tuseDebugValue( result );\n\treturn result;\n}\n\n/**\n * Custom react hook for retrieving props from registered selectors.\n *\n * In general, this custom React hook follows the\n * [rules of hooks](https://react.dev/reference/rules/rules-of-hooks).\n *\n * @template {MapSelect | StoreDescriptor<any>} T\n * @param {T}         mapSelect Function called on every state change. The returned value is\n *                              exposed to the component implementing this hook. The function\n *                              receives the `registry.select` method on the first argument\n *                              and the `registry` on the second argument.\n *                              When a store key is passed, all selectors for the store will be\n *                              returned. This is only meant for usage of these selectors in event\n *                              callbacks, not for data needed to create the element tree.\n * @param {unknown[]} deps      If provided, this memoizes the mapSelect so the same `mapSelect` is\n *                              invoked on every state change unless the dependencies change.\n *\n * @example\n * ```js\n * import { useSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * function HammerPriceDisplay( { currency } ) {\n *   const price = useSelect( ( select ) => {\n *     return select( myCustomStore ).getPrice( 'hammer', currency );\n *   }, [ currency ] );\n *   return new Intl.NumberFormat( 'en-US', {\n *     style: 'currency',\n *     currency,\n *   } ).format( price );\n * }\n *\n * // Rendered in the application:\n * // <HammerPriceDisplay currency=\"USD\" />\n * ```\n *\n * In the above example, when `HammerPriceDisplay` is rendered into an\n * application, the price will be retrieved from the store state using the\n * `mapSelect` callback on `useSelect`. If the currency prop changes then\n * any price in the state for that currency is retrieved. If the currency prop\n * doesn't change and other props are passed in that do change, the price will\n * not change because the dependency is just the currency.\n *\n * When data is only used in an event callback, the data should not be retrieved\n * on render, so it may be useful to get the selectors function instead.\n *\n * **Don't use `useSelect` this way when calling the selectors in the render\n * function because your component won't re-render on a data change.**\n *\n * ```js\n * import { useSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * function Paste( { children } ) {\n *   const { getSettings } = useSelect( myCustomStore );\n *   function onPaste() {\n *     // Do something with the settings.\n *     const settings = getSettings();\n *   }\n *   return <div onPaste={ onPaste }>{ children }</div>;\n * }\n * ```\n * @return {UseSelectReturn<T>} A custom react hook.\n */\nexport default function useSelect( mapSelect, deps ) {\n\t// On initial call, on mount, determine the mode of this `useSelect` call\n\t// and then never allow it to change on subsequent updates.\n\tconst staticSelectMode = typeof mapSelect !== 'function';\n\tconst staticSelectModeRef = useRef( staticSelectMode );\n\n\tif ( staticSelectMode !== staticSelectModeRef.current ) {\n\t\tconst prevMode = staticSelectModeRef.current ? 'static' : 'mapping';\n\t\tconst nextMode = staticSelectMode ? 'static' : 'mapping';\n\t\tthrow new Error(\n\t\t\t`Switching useSelect from ${ prevMode } to ${ nextMode } is not allowed`\n\t\t);\n\t}\n\n\t// `staticSelectMode` is not allowed to change during the hook instance's,\n\t// lifetime, so the rules of hooks are not really violated.\n\treturn staticSelectMode\n\t\t? _useStaticSelect( mapSelect )\n\t\t: _useMappingSelect( false, mapSelect, deps );\n}\n\n/**\n * A variant of the `useSelect` hook that has the same API, but is a compatible\n * Suspense-enabled data source.\n *\n * @template {MapSelect} T\n * @param {T}     mapSelect Function called on every state change. The\n *                          returned value is exposed to the component\n *                          using this hook. The function receives the\n *                          `registry.suspendSelect` method as the first\n *                          argument and the `registry` as the second one.\n * @param {Array} deps      A dependency array used to memoize the `mapSelect`\n *                          so that the same `mapSelect` is invoked on every\n *                          state change unless the dependencies change.\n *\n * @throws {Promise} A suspense Promise that is thrown if any of the called\n * selectors is in an unresolved state.\n *\n * @return {ReturnType<T>} Data object returned by the `mapSelect` function.\n */\nexport function useSuspenseSelect( mapSelect, deps ) {\n\treturn _useMappingSelect( true, mapSelect, deps );\n}\n", "/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent, pure } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport useSelect from '../use-select';\n\n/** @typedef {import('react').ComponentType} ComponentType */\n\n/**\n * Higher-order component used to inject state-derived props using registered\n * selectors.\n *\n * @param {Function} mapSelectToProps Function called on every state change,\n *                                    expected to return object of props to\n *                                    merge with the component's own props.\n *\n * @example\n * ```js\n * import { withSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * function PriceDisplay( { price, currency } ) {\n * \treturn new Intl.NumberFormat( 'en-US', {\n * \t\tstyle: 'currency',\n * \t\tcurrency,\n * \t} ).format( price );\n * }\n *\n * const HammerPriceDisplay = withSelect( ( select, ownProps ) => {\n * \tconst { getPrice } = select( myCustomStore );\n * \tconst { currency } = ownProps;\n *\n * \treturn {\n * \t\tprice: getPrice( 'hammer', currency ),\n * \t};\n * } )( PriceDisplay );\n *\n * // Rendered in the application:\n * //\n * //  <HammerPriceDisplay currency=\"USD\" />\n * ```\n * In the above example, when `HammerPriceDisplay` is rendered into an\n * application, it will pass the price into the underlying `PriceDisplay`\n * component and update automatically if the price of a hammer ever changes in\n * the store.\n *\n * @return {ComponentType} Enhanced component with merged state data props.\n */\nconst withSelect = ( mapSelectToProps ) =>\n\tcreateHigherOrderComponent(\n\t\t( WrappedComponent ) =>\n\t\t\tpure( ( ownProps ) => {\n\t\t\t\tconst mapSelect = ( select, registry ) =>\n\t\t\t\t\tmapSelectToProps( select, ownProps, registry );\n\t\t\t\tconst mergeProps = useSelect( mapSelect );\n\t\t\t\treturn <WrappedComponent { ...ownProps } { ...mergeProps } />;\n\t\t\t} ),\n\t\t'withSelect'\n\t);\n\nexport default withSelect;\n", "/**\n * Internal dependencies\n */\nimport useRegistry from '../registry-provider/use-registry';\n\n/**\n * @typedef {import('../../types').StoreDescriptor<StoreConfig>} StoreDescriptor\n * @template {import('../../types').AnyConfig} StoreConfig\n */\n/**\n * @typedef {import('../../types').UseDispatchReturn<StoreNameOrDescriptor>} UseDispatchReturn\n * @template StoreNameOrDescriptor\n */\n\n/**\n * A custom react hook returning the current registry dispatch actions creators.\n *\n * Note: The component using this hook must be within the context of a\n * RegistryProvider.\n *\n * @template {undefined | string | StoreDescriptor<any>} StoreNameOrDescriptor\n * @param {StoreNameOrDescriptor} [storeNameOrDescriptor] Optionally provide the name of the\n *                                                        store or its descriptor from which to\n *                                                        retrieve action creators. If not\n *                                                        provided, the registry.dispatch\n *                                                        function is returned instead.\n *\n * @example\n * This illustrates a pattern where you may need to retrieve dynamic data from\n * the server via the `useSelect` hook to use in combination with the dispatch\n * action.\n *\n * ```jsx\n * import { useCallback } from 'react';\n * import { useDispatch, useSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * function Button( { onClick, children } ) {\n *   return <button type=\"button\" onClick={ onClick }>{ children }</button>\n * }\n *\n * const SaleButton = ( { children } ) => {\n *   const { stockNumber } = useSelect(\n *     ( select ) => select( myCustomStore ).getStockNumber(),\n *     []\n *   );\n *   const { startSale } = useDispatch( myCustomStore );\n *   const onClick = useCallback( () => {\n *     const discountPercent = stockNumber > 50 ? 10: 20;\n *     startSale( discountPercent );\n *   }, [ stockNumber ] );\n *   return <Button onClick={ onClick }>{ children }</Button>\n * }\n *\n * // Rendered somewhere in the application:\n * //\n * // <SaleButton>Start Sale!</SaleButton>\n * ```\n * @return {UseDispatchReturn<StoreNameOrDescriptor>} A custom react hook.\n */\nconst useDispatch = ( storeNameOrDescriptor ) => {\n\tconst { dispatch } = useRegistry();\n\treturn storeNameOrDescriptor === void 0\n\t\t? dispatch\n\t\t: dispatch( storeNameOrDescriptor );\n};\n\nexport default useDispatch;\n", "/**\n * WordPress dependencies\n */\nimport { useMemo, useRef } from '@wordpress/element';\nimport { useIsomorphicLayoutEffect } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport useRegistry from '../registry-provider/use-registry';\n\n/**\n * Custom react hook for returning aggregate dispatch actions using the provided\n * dispatchMap.\n *\n * Currently this is an internal api only and is implemented by `withDispatch`\n *\n * @param {Function} dispatchMap Receives the `registry.dispatch` function as\n *                               the first argument and the `registry` object\n *                               as the second argument.  Should return an\n *                               object mapping props to functions.\n * @param {Array}    deps        An array of dependencies for the hook.\n * @return {Object}  An object mapping props to functions created by the passed\n *                   in dispatchMap.\n */\nconst useDispatchWithMap = ( dispatchMap, deps ) => {\n\tconst registry = useRegistry();\n\tconst currentDispatchMapRef = useRef( dispatchMap );\n\n\tuseIsomorphicLayoutEffect( () => {\n\t\tcurrentDispatchMapRef.current = dispatchMap;\n\t} );\n\n\treturn useMemo( () => {\n\t\tconst currentDispatchProps = currentDispatchMapRef.current(\n\t\t\tregistry.dispatch,\n\t\t\tregistry\n\t\t);\n\t\treturn Object.fromEntries(\n\t\t\tObject.entries( currentDispatchProps ).map(\n\t\t\t\t( [ propName, dispatcher ] ) => {\n\t\t\t\t\tif ( typeof dispatcher !== 'function' ) {\n\t\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t\t`Property ${ propName } returned from dispatchMap in useDispatchWithMap must be a function.`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn [\n\t\t\t\t\t\tpropName,\n\t\t\t\t\t\t( ...args ) =>\n\t\t\t\t\t\t\tcurrentDispatchMapRef\n\t\t\t\t\t\t\t\t.current( registry.dispatch, registry )\n\t\t\t\t\t\t\t\t[ propName ]( ...args ),\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t}, [ registry, ...deps ] );\n};\n\nexport default useDispatchWithMap;\n", "/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { useDispatchWithMap } from '../use-dispatch';\n\n/** @typedef {import('react').ComponentType} ComponentType */\n\n/**\n * Higher-order component used to add dispatch props using registered action\n * creators.\n *\n * @param {Function} mapDispatchToProps A function of returning an object of\n *                                      prop names where value is a\n *                                      dispatch-bound action creator, or a\n *                                      function to be called with the\n *                                      component's props and returning an\n *                                      action creator.\n *\n * @example\n * ```jsx\n * function Button( { onClick, children } ) {\n *     return <button type=\"button\" onClick={ onClick }>{ children }</button>;\n * }\n *\n * import { withDispatch } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * const SaleButton = withDispatch( ( dispatch, ownProps ) => {\n *     const { startSale } = dispatch( myCustomStore );\n *     const { discountPercent } = ownProps;\n *\n *     return {\n *         onClick() {\n *             startSale( discountPercent );\n *         },\n *     };\n * } )( Button );\n *\n * // Rendered in the application:\n * //\n * // <SaleButton discountPercent=\"20\">Start Sale!</SaleButton>\n * ```\n *\n * @example\n * In the majority of cases, it will be sufficient to use only two first params\n * passed to `mapDispatchToProps` as illustrated in the previous example.\n * However, there might be some very advanced use cases where using the\n * `registry` object might be used as a tool to optimize the performance of\n * your component. Using `select` function from the registry might be useful\n * when you need to fetch some dynamic data from the store at the time when the\n * event is fired, but at the same time, you never use it to render your\n * component. In such scenario, you can avoid using the `withSelect` higher\n * order component to compute such prop, which might lead to unnecessary\n * re-renders of your component caused by its frequent value change.\n * Keep in mind, that `mapDispatchToProps` must return an object with functions\n * only.\n *\n * ```jsx\n * function Button( { onClick, children } ) {\n *     return <button type=\"button\" onClick={ onClick }>{ children }</button>;\n * }\n *\n * import { withDispatch } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * const SaleButton = withDispatch( ( dispatch, ownProps, { select } ) => {\n *    // Stock number changes frequently.\n *    const { getStockNumber } = select( myCustomStore );\n *    const { startSale } = dispatch( myCustomStore );\n *    return {\n *        onClick() {\n *            const discountPercent = getStockNumber() > 50 ? 10 : 20;\n *            startSale( discountPercent );\n *        },\n *    };\n * } )( Button );\n *\n * // Rendered in the application:\n * //\n * //  <SaleButton>Start Sale!</SaleButton>\n * ```\n *\n * _Note:_ It is important that the `mapDispatchToProps` function always\n * returns an object with the same keys. For example, it should not contain\n * conditions under which a different value would be returned.\n *\n * @return {ComponentType} Enhanced component with merged dispatcher props.\n */\nconst withDispatch = ( mapDispatchToProps ) =>\n\tcreateHigherOrderComponent(\n\t\t( WrappedComponent ) => ( ownProps ) => {\n\t\t\tconst mapDispatch = ( dispatch, registry ) =>\n\t\t\t\tmapDispatchToProps( dispatch, ownProps, registry );\n\t\t\tconst dispatchProps = useDispatchWithMap( mapDispatch, [] );\n\t\t\treturn <WrappedComponent { ...ownProps } { ...dispatchProps } />;\n\t\t},\n\t\t'withDispatch'\n\t);\n\nexport default withDispatch;\n", "/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { RegistryConsumer } from '../registry-provider';\n\n/**\n * Higher-order component which renders the original component with the current\n * registry context passed as its `registry` prop.\n *\n * @param {Component} OriginalComponent Original component.\n *\n * @return {Component} Enhanced component.\n */\nconst withRegistry = createHigherOrderComponent(\n\t( OriginalComponent ) => ( props ) => (\n\t\t<RegistryConsumer>\n\t\t\t{ ( registry ) => (\n\t\t\t\t<OriginalComponent { ...props } registry={ registry } />\n\t\t\t) }\n\t\t</RegistryConsumer>\n\t),\n\t'withRegistry'\n);\n\nexport default withRegistry;\n", "/**\n * Internal dependencies\n */\nimport type { AnyConfig, StoreDescriptor, DispatchReturn } from './types';\nimport defaultRegistry from './default-registry';\n\n/**\n * Given a store descriptor, returns an object of the store's action creators.\n * Calling an action creator will cause it to be dispatched, updating the state value accordingly.\n *\n * Note: Action creators returned by the dispatch will return a promise when\n * they are called.\n *\n * @param storeNameOrDescriptor The store descriptor. The legacy calling convention of passing\n *                              the store name is also supported.\n *\n * @example\n * ```js\n * import { dispatch } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * dispatch( myCustomStore ).setPrice( 'hammer', 9.75 );\n * ```\n * @return Object containing the action creators.\n */\nexport function dispatch<\n\tStoreNameOrDescriptor extends StoreDescriptor< AnyConfig > | string,\n>(\n\tstoreNameOrDescriptor: StoreNameOrDescriptor\n): DispatchReturn< StoreNameOrDescriptor > {\n\treturn defaultRegistry.dispatch( storeNameOrDescriptor );\n}\n", "/**\n * Internal dependencies\n */\nimport type { AnyConfig, CurriedSelectorsOf, StoreDescriptor } from './types';\nimport defaultRegistry from './default-registry';\n\n/**\n * Given a store descriptor, returns an object of the store's selectors.\n * The selector functions are been pre-bound to pass the current state automatically.\n * As a consumer, you need only pass arguments of the selector, if applicable.\n *\n *\n * @param storeNameOrDescriptor The store descriptor. The legacy calling convention\n *                              of passing the store name is also supported.\n *\n * @example\n * ```js\n * import { select } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * select( myCustomStore ).getPrice( 'hammer' );\n * ```\n *\n * @return Object containing the store's selectors.\n */\nexport function select< T extends StoreDescriptor< AnyConfig > >(\n\tstoreNameOrDescriptor: string | T\n): CurriedSelectorsOf< T > {\n\treturn defaultRegistry.select( storeNameOrDescriptor );\n}\n", "/**\n * Internal dependencies\n */\nimport defaultRegistry from './default-registry';\nimport * as plugins from './plugins';\nimport { combineReducers as combineReducersModule } from './redux-store';\n\n/** @typedef {import('./types').StoreDescriptor} StoreDescriptor */\n\nexport { default as withSelect } from './components/with-select';\nexport { default as withDispatch } from './components/with-dispatch';\nexport { default as withRegistry } from './components/with-registry';\nexport {\n\tRegistryProvider,\n\tRegistryConsumer,\n\tuseRegistry,\n} from './components/registry-provider';\nexport {\n\tdefault as useSelect,\n\tuseSuspenseSelect,\n} from './components/use-select';\nexport { useDispatch } from './components/use-dispatch';\nexport { AsyncModeProvider } from './components/async-mode-provider';\nexport { createRegistry } from './registry';\nexport { createRegistrySelector, createRegistryControl } from './factory';\nexport { createSelector } from './create-selector';\nexport { controls } from './controls';\nexport { default as createReduxStore } from './redux-store';\nexport { dispatch } from './dispatch';\nexport { select } from './select';\n\n/**\n * Object of available plugins to use with a registry.\n *\n * @see [use](#use)\n *\n * @type {Object}\n */\nexport { plugins };\n\n/**\n * The combineReducers helper function turns an object whose values are different\n * reducing functions into a single reducing function you can pass to registerReducer.\n *\n * @type  {import('./types').combineReducers}\n * @param {Object} reducers An object whose values correspond to different reducing\n *                          functions that need to be combined into one.\n *\n * @example\n * ```js\n * import { combineReducers, createReduxStore, register } from '@wordpress/data';\n *\n * const prices = ( state = {}, action ) => {\n * \treturn action.type === 'SET_PRICE' ?\n * \t\t{\n * \t\t\t...state,\n * \t\t\t[ action.item ]: action.price,\n * \t\t} :\n * \t\tstate;\n * };\n *\n * const discountPercent = ( state = 0, action ) => {\n * \treturn action.type === 'START_SALE' ?\n * \t\taction.discountPercent :\n * \t\tstate;\n * };\n *\n * const store = createReduxStore( 'my-shop', {\n * \treducer: combineReducers( {\n * \t\tprices,\n * \t\tdiscountPercent,\n * \t} ),\n * } );\n * register( store );\n * ```\n *\n * @return {Function} A reducer that invokes every reducer inside the reducers\n *                    object, and constructs a state object with the same shape.\n */\nexport const combineReducers = combineReducersModule;\n\n/**\n * Given a store descriptor, returns an object containing the store's selectors pre-bound to state\n * so that you only need to supply additional arguments, and modified so that they return promises\n * that resolve to their eventual values, after any resolvers have ran.\n *\n * @param {StoreDescriptor|string} storeNameOrDescriptor The store descriptor. The legacy calling\n *                                                       convention of passing the store name is\n *                                                       also supported.\n *\n * @example\n * ```js\n * import { resolveSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * resolveSelect( myCustomStore ).getPrice( 'hammer' ).then(console.log)\n * ```\n *\n * @return {Object} Object containing the store's promise-wrapped selectors.\n */\nexport const resolveSelect = defaultRegistry.resolveSelect;\n\n/**\n * Given a store descriptor, returns an object containing the store's selectors pre-bound to state\n * so that you only need to supply additional arguments, and modified so that they throw promises\n * in case the selector is not resolved yet.\n *\n * @param {StoreDescriptor|string} storeNameOrDescriptor The store descriptor. The legacy calling\n *                                                       convention of passing the store name is\n *                                                       also supported.\n *\n * @return {Object} Object containing the store's suspense-wrapped selectors.\n */\nexport const suspendSelect = defaultRegistry.suspendSelect;\n\n/**\n * Given a listener function, the function will be called any time the state value\n * of one of the registered stores has changed. If you specify the optional\n * `storeNameOrDescriptor` parameter, the listener function will be called only\n * on updates on that one specific registered store.\n *\n * This function returns an `unsubscribe` function used to stop the subscription.\n *\n * @param {Function}                listener              Callback function.\n * @param {string|StoreDescriptor?} storeNameOrDescriptor Optional store name.\n *\n * @example\n * ```js\n * import { subscribe } from '@wordpress/data';\n *\n * const unsubscribe = subscribe( () => {\n * \t// You could use this opportunity to test whether the derived result of a\n * \t// selector has subsequently changed as the result of a state update.\n * } );\n *\n * // Later, if necessary...\n * unsubscribe();\n * ```\n */\nexport const subscribe = defaultRegistry.subscribe;\n\n/**\n * Registers a generic store instance.\n *\n * @deprecated Use `register( storeDescriptor )` instead.\n *\n * @param {string} name  Store registry name.\n * @param {Object} store Store instance (`{ getSelectors, getActions, subscribe }`).\n */\nexport const registerGenericStore = defaultRegistry.registerGenericStore;\n\n/**\n * Registers a standard `@wordpress/data` store.\n *\n * @deprecated Use `register` instead.\n *\n * @param {string} storeName Unique namespace identifier for the store.\n * @param {Object} options   Store description (reducer, actions, selectors, resolvers).\n *\n * @return {Object} Registered store object.\n */\nexport const registerStore = defaultRegistry.registerStore;\n\n/**\n * Extends a registry to inherit functionality provided by a given plugin. A\n * plugin is an object with properties aligning to that of a registry, merged\n * to extend the default registry behavior.\n *\n * @param {Object} plugin Plugin object.\n */\nexport const use = defaultRegistry.use;\n\n/**\n * Registers a standard `@wordpress/data` store descriptor.\n *\n * @example\n * ```js\n * import { createReduxStore, register } from '@wordpress/data';\n *\n * const store = createReduxStore( 'demo', {\n *     reducer: ( state = 'OK' ) => state,\n *     selectors: {\n *         getValue: ( state ) => state,\n *     },\n * } );\n * register( store );\n * ```\n *\n * @param {StoreDescriptor} store Store descriptor.\n */\nexport const register = defaultRegistry.register;\n"],
  "mappings": "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CA,kBACA,iBACA,qBACA,sBACA,eACA,gBACA,cACA,eACA,YACA,gBACA,iBACA,gBACA,YACA,eACA,eACA,eACA,eACA,cACA,SAAS,EACRC,OAAQ,CAAEC,KAAKC,cAAe;AAE/BD,MAAKC,UAAUC,YAAY,CAAC,IAAKD;AACjC,SAAOD;AACR,GAAG,CAAC,CAAE;AAQN,IAAMG,gCAAgC,CACrC,gBACA,iBACA,iBACA,eACA,iBACA,eACA,YACA,iBACA,qBACA,oBACA,mBACA,YACA,6BACA,aACA,eACA,YACA,qBACA,iBACA,gBACA,oBACA,aACA,cACA,YACA,gBACA,qBACA,gBACA,eACA,eACA,oBACA,aACA,cACA,cACA,uBACA,oBACA,gBACA,aACA,aACA,aACA,iBACA,uBACA,kBACA,QACA,QACA,eACA,aACA,sBACA,oBACA,oBACA,oBACA,gBACA,eACA,gBACA,eACA,kCACA,4BACA,gBACA,kBACA,eACA,WACA,WACA,cACA,WACA,cACA,oBACA,kBAAkB,EACjBJ,OAAQ,CAAEC,KAAKC,cAAe;AAE/BD,MAAKC,UAAUC,YAAY,CAAC,IAAKD;AACjC,SAAOD;AACR,GAAG,CAAC,CAAE;AAMN,IAAMI,6BAA6B,CAClC,iBACA,iBACA,cACA,cACA,cACA,eACA,cACA,YACA,YACA,aACA,aAAa,EACZL,OAAQ,CAAEC,KAAKC,cAAe;AAC/BD,MAAKC,UAAUI,QAAS,KAAK,EAAG,EAAEH,YAAY,CAAC,IAAKD;AACpD,SAAOD;AACR,GAAG,CAAC,CAAE;;;ACtbN,IAAMM,OAAOC,2BAA4B,SACxCC,kBACyB;AACzB,MAAKA,iBAAiBC,qBAAqBC,yBAAY;AACtD,WAAO,cAAgBF,iBAA8C;MACpEG,sBAAuBC,WAAkBC,WAAiB;AACzD,eACC,CAAEC,eAAgBF,WAAW,KAAKG,KAAM,KACxC,CAAED,eAAgBD,WAAW,KAAKG,KAAM;MAE1C;IACD;EACD;AAEA,SAAO,cAAcN,wBAAmB;IACvCC,sBAAuBC,WAAmB;AACzC,aAAO,CAAEE,eAAgBF,WAAW,KAAKG,KAAM;IAChD;IAEAE,SAAS;A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",
  "names": ["validateNamespace", "namespace", "console", "error", "test", "validateHookName", "hookName", "console", "error", "test", "createAddHook", "hooks", "storeKey", "addHook", "hookName", "namespace", "callback", "priority", "hooksStore", "validateHookName", "validateNamespace", "console", "error", "handler", "handlers", "i", "length", "splice", "__current", "forEach", "hookInfo", "name", "currentIndex", "runs", "doAction", "createRemoveHook", "hooks", "storeKey", "removeAll", "removeHook", "hookName", "namespace", "hooksStore", "validateHookName", "validateNamespace", "handlersRemoved", "handlers", "length", "runs", "i", "splice", "__current", "forEach", "hookInfo", "name", "currentIndex", "doAction", "createHasHook", "hooks", "storeKey", "hasHook", "hookName", "namespace", "hooksStore", "handlers", "some", "hook", "createRunHook", "hooks", "storeKey", "returnFirstArg", "runHooks", "hookName", "args", "hooksStore", "handlers", "runs", "all", "push", "length", "undefined", "hookInfo", "name", "currentIndex", "__current", "handler", "result", "callback", "apply", "pop", "createCurrentHook", "hooks", "storeKey", "currentHook", "_hooksStore$__current", "hooksStore", "__current", "length", "name", "createDoingHook", "hooks", "storeKey", "doingHook", "hookName", "hooksStore", "__current", "name", "createDidHook", "hooks", "storeKey", "didHook", "hookName", "hooksStore", "validateHookName", "runs", "_Hooks", "constructor", "actions", "Object", "create", "__current", "filters", "addAction", "createAddHook", "addFilter", "removeAction", "createRemoveHook", "removeFilter", "hasAction", "createHasHook", "hasFilter", "removeAllActions", "removeAllFilters", "doAction", "createRunHook", "applyFilters", "currentAction", "createCurrentHook", "currentFilter", "doingAction", "createDoingHook", "doingFilter", "didAction", "createDidHook", "didFilter", "createHooks", "defaultHooks", "createHooks", "addAction", "addFilter", "removeAction", "removeFilter", "hasAction", "hasFilter", "removeAllActions", "removeAllFilters", "doAction", "applyFilters", "currentAction", "currentFilter", "doingAction", "doingFilter", "didAction", "didFilter", "actions", "filters", "logged", "Object", "create", "feature", "options", "since", "version", "alternative", "plugin", "link", "hint", "pluginMessage", "sinceMessage", "versionMessage", "useInsteadMessage", "linkMessage", "hintMessage", "message", "doAction", "console", "warn", "o", "r", "randomString", "isPlainObject", "subscribe", "listener", "dispatch", "createStore", "dispatch", "import_equivalent_key_map", "object", "Symbol", "iterator", "next", "isAction", "object", "isPlainObject", "type", "isActionOfType", "expectedType", "controls", "dispatch", "rungenControls", "Object", "entries", "map", "actionType", "control", "value", "next", "iterate", "yieldNext", "yieldError", "isActionOfType", "routine", "isPromise", "then", "unhandledActionControl", "isAction", "push", "rungenRuntime", "create", "action", "Promise", "resolve", "reject", "result", "controls", "store", "runtime", "createRuntime", "dispatch", "next", "action", "isGenerator", "createHigherOrderComponent", "mapComponent", "modifierName", "Inner", "Outer", "displayName", "hocName", "name", "inner", "outer", "pascalCase", "basePipe", "reverse", "funcs", "args", "functions", "flat", "reduce", "prev", "func", "pipe", "compose", "basePipe", "a", "b", "aKeys", "Object", "keys", "bKeys", "length", "i", "key", "aValue", "undefined", "hasOwnProperty", "a", "b", "length", "i", "len", "a", "b", "constructor", "Object", "isShallowEqualObjects", "Array", "isArray", "isShallowEqualArrays", "import_react", "Provider", "Consumer", "createContext", "undefined", "ForwardRef", "forwardRef", "SVG_ATTRIBUTE_WITH_DASHES_LIST", "reduce", "map", "attribute", "toLowerCase", "CASE_SENSITIVE_SVG_ATTRIBUTES", "SVG_ATTRIBUTES_WITH_COLONS", "replace", "pure", "createHigherOrderComponent", "WrappedComponent", "prototype", "Component", "shouldComponentUpdate", "nextProps", "nextState", "isShallowEqual", "props", "state", "render", "createElement", "Listener", "constructor", "listeners", "handleEvent", "bind", "add", "eventType", "instance", "window", "addEventListener", "push", "remove", "filter", "listener", "length", "removeEventListener", "event", "type", "forEach", "listener", "Listener", "instanceMap", "WeakMap", "createId", "object", "instances", "get", "set", "useInstanceId", "prefix", "preferredId", "useMemo", "id", "withInstanceId", "createHigherOrderComponent", "WrappedComponent", "props", "instanceId", "useInstanceId", "createElement", "withSafeTimeout", "createHigherOrderComponent", "OriginalComponent", "WrappedComponent", "Component", "constructor", "props", "timeouts", "setTimeout", "bind", "clearTimeout", "componentWillUnmount", "forEach", "fn", "delay", "id", "push", "filter", "timeoutId", "render", "createElement", "textContentSchema", "strong", "em", "s", "del", "ins", "a", "attributes", "code", "abbr", "sub", "sup", "br", "small", "q", "dfn", "data", "time", "var", "samp", "kbd", "i", "b", "u", "mark", "ruby", "rt", "rp", "bdi", "bdo", "wbr", "excludedElements", "Object", "keys", "filter", "element", "includes", "forEach", "tag", "removedTag", "restSchema", "children", "embeddedContentSchema", "audio", "canvas", "embed", "img", "object", "video", "phrasingContentSchema", "import_clipboard", "logErrorOnce", "memoize", "console", "error", "DEFAULT_LOCALE_DATA", "plural_forms", "n", "I18N_HOOK_REGEXP", "createI18n", "initialData", "initialDomain", "hooks", "tannin", "Tannin", "listeners", "Set", "notifyListeners", "forEach", "listener", "subscribe", "callback", "add", "delete", "getLocaleData", "domain", "data", "doSetLocaleData", "pluralForms", "setLocaleData", "addLocaleData", "resetLocaleData", "dcnpgettext", "context", "single", "plural", "number", "undefined", "getFilterDomain", "__", "text", "translation", "applyFilters", "_x", "_n", "_nx", "isRTL", "hasTranslation", "key", "result", "onHookAddedOrRemoved", "hookName", "test", "addAction", "validateNamespace", "namespace", "console", "error", "test", "validateNamespace_default", "validateHookName", "hookName", "console", "error", "test", "validateHookName_default", "createAddHook", "hooks", "storeKey", "addHook", "hookName", "namespace", "callback", "priority", "hooksStore", "validateHookName", "validateNamespace", "console", "error", "handler", "handlers", "i", "length", "splice", "__current", "forEach", "hookInfo", "name", "currentIndex", "runs", "doAction", "createAddHook_default", "createRemoveHook", "hooks", "storeKey", "removeAll", "removeHook", "hookName", "namespace", "hooksStore", "validateHookName", "validateNamespace", "handlersRemoved", "handlers", "length", "runs", "i", "splice", "__current", "forEach", "hookInfo", "name", "currentIndex", "doAction", "createRemoveHook_default", "createHasHook", "hooks", "storeKey", "hasHook", "hookName", "namespace", "hooksStore", "handlers", "some", "hook", "createHasHook_default", "createRunHook", "hooks", "storeKey", "returnFirstArg", "runHooks", "hookName", "args", "hooksStore", "handlers", "runs", "all", "push", "length", "undefined", "hookInfo", "name", "currentIndex", "__current", "handler", "result", "callback", "apply", "pop", "createRunHook_default", "createCurrentHook", "hooks", "storeKey", "currentHook", "_hooksStore$__current", "hooksStore", "__current", "length", "name", "createCurrentHook_default", "createDoingHook", "hooks", "storeKey", "doingHook", "hookName", "hooksStore", "__current", "name", "createDoingHook_default", "createDidHook", "hooks", "storeKey", "didHook", "hookName", "hooksStore", "validateHookName", "runs", "createDidHook_default", "_Hooks", "constructor", "actions", "Object", "create", "__current", "filters", "addAction", "createAddHook", "addFilter", "removeAction", "createRemoveHook", "removeFilter", "hasAction", "createHasHook", "hasFilter", "removeAllActions", "removeAllFilters", "doAction", "createRunHook", "applyFilters", "currentAction", "createCurrentHook", "currentFilter", "doingAction", "createDoingHook", "doingFilter", "didAction", "createDidHook", "didFilter", "createHooks", "createHooks_default", "defaultHooks", "createHooks", "addAction", "addFilter", "removeAction", "removeFilter", "hasAction", "hasFilter", "removeAllActions", "removeAllFilters", "doAction", "applyFilters", "currentAction", "currentFilter", "doingAction", "doingFilter", "didAction", "didFilter", "actions", "filters", "i18n", "createI18n", "undefined", "defaultHooks", "getLocaleData", "i18n", "bind", "setLocaleData", "resetLocaleData", "subscribe", "__", "_x", "_n", "_nx", "isRTL", "hasTranslation", "isAppleOS", "_window", "window", "platform", "navigator", "indexOf", "includes", "ALT", "CTRL", "COMMAND", "SHIFT", "capitaliseFirstCharacter", "string", "length", "toUpperCase", "charAt", "slice", "mapValues", "object", "mapFn", "Object", "fromEntries", "entries", "map", "key", "value", "modifiers", "primary", "_isApple", "COMMAND", "CTRL", "primaryShift", "SHIFT", "primaryAlt", "ALT", "secondary", "access", "ctrl", "alt", "ctrlShift", "shift", "shiftAlt", "undefined", "rawShortcut", "modifier", "character", "isAppleOS", "toLowerCase", "join", "displayShortcutList", "isApple", "replacementKeyMap", "modifierKeys", "reduce", "accumulator", "_replacementKeyMap$ke", "replacementKey", "displayShortcut", "shortcutList", "shortcutAriaLabel", "__", "_replacementKeyMap$ke2", "getEventModifiers", "event", "filter", "isKeyboardEvent", "getModifiers", "mods", "eventMods", "replacementWithShiftKeyMap", "Comma", "Backslash", "IntlRo", "IntlYen", "modsDiff", "mod", "includes", "eventModsDiff", "altKey", "String", "fromCharCode", "keyCode", "shiftKey", "code", "useIsomorphicLayoutEffect", "window", "useLayoutEffect", "useEffect", "matchMediaCache", "Map", "getMediaQueryList", "query", "match", "get", "window", "matchMedia", "set", "source", "useMemo", "mediaQueryList", "subscribe", "onStoreChange", "addEventListener", "_a", "removeEventListener", "getValue", "_mediaQueryList$match", "matches", "useSyncExternalStore", "BREAKPOINTS", "huge", "wide", "large", "medium", "small", "mobile", "CONDITIONS", "OPERATOR_EVALUATORS", ">=", "breakpointValue", "width", "<", "ViewportMatchWidthContext", "createContext", "useViewportMatch", "breakpoint", "operator", "simulatedWidth", "useContext", "mediaQuery", "mediaQueryResult", "useMediaQuery", "undefined", "__experimentalWidthProvider", "Provider", "createRequestIdleCallback", "window", "callback", "setTimeout", "Date", "now", "requestIdleCallback", "createQueue", "waitingList", "Map", "isRunning", "runWaitingList", "deadline", "nextElement", "callback", "delete", "timeRemaining", "size", "requestIdleCallback", "add", "element", "item", "set", "flush", "get", "undefined", "cancel", "reset", "clear", "combineReducers", "reducers", "keys", "Object", "combinedReducer", "state", "action", "nextState", "hasChanged", "key", "reducer", "prevStateForKey", "nextStateForKey", "createRegistrySelector", "registrySelector", "selectorsByRegistry", "WeakMap", "wrappedSelector", "args", "selector", "get", "registry", "select", "set", "isRegistrySelector", "createRegistryControl", "registryControl", "isRegistryControl", "SELECT", "RESOLVE_SELECT", "DISPATCH", "isObject", "object", "select", "storeNameOrDescriptor", "selectorName", "args", "type", "storeKey", "name", "resolveSelect", "dispatch", "actionName", "controls", "builtinControls", "createRegistryControl", "registry", "method", "hasResolver", "CORE_MODULES_USING_PRIVATE_APIS", "registeredPrivateApis", "requiredConsent", "allowReRegistration", "process", "env", "IS_WORDPRESS_CORE", "error", "__dangerousOptInToUnstableAPIsOnlyForCoreModules", "consent", "moduleName", "includes", "Error", "push", "lock", "unlock", "object", "privateData", "__private", "lockedData", "set", "get", "WeakMap", "Symbol", "lock", "unlock", "__dangerousOptInToUnstableAPIsOnlyForCoreModules", "promiseMiddleware", "next", "action", "isPromise", "then", "resolvedAction", "createResolversCacheMiddleware", "registry", "storeName", "next", "action", "resolvers", "select", "getCachedResolvers", "resolverEntries", "Object", "entries", "forEach", "selectorName", "resolversByArgs", "resolver", "stores", "shouldInvalidate", "value", "args", "undefined", "status", "dispatch", "invalidateResolution", "args", "next", "action", "onSubKey", "actionProperty", "reducer", "state", "action", "key", "undefined", "nextKeyState", "selectorArgsToStateKey", "args", "len", "length", "idx", "slice", "subKeysIsResolved", "onSubKey", "state", "EquivalentKeyMap", "action", "type", "nextState", "set", "selectorArgsToStateKey", "args", "status", "error", "resolutionArgs", "forEach", "idx", "resolutionState", "undefined", "errors", "delete", "isResolved", "selectorName", "removedSelector", "restState", "getResolutionState", "state", "selectorName", "args", "map", "get", "selectorArgsToStateKey", "getIsResolving", "deprecated", "since", "version", "alternative", "resolutionState", "status", "hasStartedResolution", "undefined", "hasFinishedResolution", "hasResolutionFailed", "getResolutionError", "error", "isResolving", "getCachedResolvers", "hasResolvingSelectors", "Object", "values", "some", "selectorState", "Array", "from", "_map", "resolution", "countSelectorsByStatus", "createSelector", "selectorsByStatus", "forEach", "_resolution$1$status", "currentStatus", "startResolution", "selectorName", "args", "type", "finishResolution", "failResolution", "error", "startResolutions", "finishResolutions", "failResolutions", "errors", "invalidateResolution", "invalidateResolutionForStore", "invalidateResolutionForStoreSelector", "trimUndefinedValues", "array", "result", "i", "length", "undefined", "splice", "mapValues", "obj", "callback", "Object", "fromEntries", "entries", "map", "key", "value", "devToolsReplacer", "state", "Map", "window", "HTMLElement", "createResolversCache", "cache", "isRunning", "selectorName", "args", "get", "clear", "delete", "markAsRunning", "EquivalentKeyMap", "set", "createBindingCache", "getItem", "bindItem", "WeakMap", "itemName", "item", "boundItem", "createPrivateProxy", "publicItems", "privateItems", "Proxy", "target", "Reflect", "options", "privateActions", "privateSelectors", "privateRegistrationFunctions", "registerPrivateActions", "actions", "assign", "registerPrivateSelectors", "selectors", "storeDescriptor", "name", "instantiate", "registry", "listeners", "Set", "reducer", "thunkArgs", "dispatch", "thunkDispatch", "select", "thunkSelect", "resolveSelect", "resolveSelectors", "store", "instantiateReduxStore", "lock", "resolversCache", "bindAction", "action", "Promise", "resolve", "metadataActions", "allActions", "resolvers", "mapResolver", "bindSelector", "selector", "isRegistrySelector", "boundSelector", "normalize", "__unstableOriginalGetState", "root", "__unstableNormalizeArgs", "resolver", "hasResolver", "mapSelectorWithResolver", "boundMetadataSelectors", "bindMetadataSelector", "metaDataSelector", "selectorArgs", "targetSelector", "metadata", "metadataSelectors", "boundSelectors", "boundPrivateSelectors", "allSelectors", "keys", "bindResolveSelector", "mapResolveSelector", "allResolveSelectors", "bindSuspendSelector", "mapSuspendSelector", "suspendSelectors", "allSuspendSelectors", "getSelectors", "getActions", "getResolveSelectors", "getSuspendSelectors", "getState", "subscribe", "listener", "add", "lastState", "hasChanged", "controls", "builtinControls", "normalizedControls", "control", "isRegistryControl", "middlewares", "createResolversCacheMiddleware", "promise", "createReduxRoutineMiddleware", "createThunkMiddleware", "enhancers", "applyMiddleware", "__REDUX_DEVTOOLS_EXTENSION__", "push", "instanceId", "serialize", "replacer", "initialState", "enhancedReducer", "combineReducers", "metadataReducer", "createStore", "compose", "apply", "reject", "hasFinished", "hasFinishedResolution", "finalize", "hasFailed", "hasResolutionFailed", "error", "getResolutionError", "getResult", "unsubscribe", "fulfill", "fulfillSelector", "isFulfilled", "hasStartedResolution", "setTimeout", "startResolution", "finishResolution", "failResolution", "selectorResolver", "coreDataStore", "name", "instantiate", "registry", "getCoreDataSelector", "selectorName", "key", "args", "select", "getCoreDataAction", "actionName", "dispatch", "getSelectors", "Object", "fromEntries", "map", "getActions", "subscribe", "createEmitter", "isPaused", "isPending", "listeners", "Set", "notifyListeners", "Array", "from", "forEach", "listener", "subscribe", "add", "delete", "pause", "resume", "emit", "getStoreName", "storeNameOrDescriptor", "name", "createRegistry", "storeConfigs", "parent", "stores", "emitter", "createEmitter", "listeningStores", "globalListener", "emit", "subscribe", "listener", "storeName", "store", "select", "add", "getSelectors", "__unstableMarkListeningStores", "callback", "ref", "Set", "call", "current", "Array", "from", "resolveSelect", "getResolveSelectors", "suspendSelect", "getSuspendSelectors", "dispatch", "getActions", "withPlugins", "attributes", "Object", "fromEntries", "entries", "map", "key", "attribute", "registry", "apply", "arguments", "registerStoreInstance", "createStore", "console", "error", "TypeError", "currentSubscribe", "unsubscribeFromEmitter", "unsubscribeFromStore", "isPaused", "unlock", "registerPrivateActions", "privateActionsOf", "registerPrivateSelectors", "privateSelectorsOf", "e", "register", "instantiate", "registerGenericStore", "deprecated", "since", "alternative", "registerStore", "options", "reducer", "createReduxStore", "batch", "pause", "values", "forEach", "resume", "namespaces", "use", "plugin", "coreDataStore", "config", "registryWithPlugins", "lock", "privateActions", "privateSelectors", "createRegistry", "objectStorage", "storage", "getItem", "key", "setItem", "value", "clear", "String", "Object", "create", "storage", "window", "localStorage", "setItem", "removeItem", "error", "objectStorage", "DEFAULT_STORAGE", "defaultStorage", "DEFAULT_STORAGE_KEY", "withLazySameState", "reducer", "state", "action", "nextState", "createPersistenceInterface", "options", "storage", "storageKey", "data", "getData", "undefined", "persisted", "getItem", "JSON", "parse", "error", "setData", "key", "value", "setItem", "stringify", "get", "set", "persistencePlugin", "registry", "pluginOptions", "persistence", "createPersistOnChange", "getState", "storeName", "keys", "getPersistedState", "Array", "isArray", "reducers", "reduce", "accumulator", "Object", "assign", "combineReducers", "lastState", "registerStore", "persist", "persistedState", "initialState", "type", "isPlainObject", "deepmerge", "isMergeableObject", "store", "subscribe", "__unstableMigrate", "Context", "createContext", "defaultRegistry", "displayName", "Consumer", "Provider", "RegistryConsumer", "useContext", "Context", "Context", "createContext", "displayName", "Consumer", "Provider", "context_default", "Provider", "useContext", "Context", "renderQueue", "createQueue", "warnOnUnstableReference", "a", "b", "keys", "Object", "filter", "k", "console", "warn", "join", "Store", "registry", "suspense", "select", "suspendSelect", "queueContext", "lastMapSelect", "lastMapResult", "lastMapResultValid", "lastIsAsync", "subscriber", "didWarnUnstableReference", "storeStatesOnMount", "Map", "getStoreState", "name", "_registry$stores$name", "stores", "store", "getState", "createSubscriber", "activeStores", "activeSubscriptions", "Set", "subscribe", "listener", "get", "clear", "onStoreChange", "onChange", "add", "unsubs", "subscribeStore", "storeName", "push", "delete", "unsub", "values", "cancel", "updateStores", "newStores", "newStore", "includes", "subscription", "mapSelect", "isAsync", "updateValue", "listeningStores", "current", "mapResult", "__unstableMarkListeningStores", "globalThis", "SCRIPT_DEBUG", "secondMapResult", "isShallowEqual", "set", "getValue", "_useStaticSelect", "useRegistry", "_useMappingSelect", "deps", "useAsyncMode", "useMemo", "selector", "useCallback", "result", "useSyncExternalStore", "useDebugValue", "staticSelectMode", "staticSelectModeRef", "useRef", "prevMode", "nextMode", "Error", "useSuspenseSelect", "withSelect", "mapSelectToProps", "createHigherOrderComponent", "WrappedComponent", "pure", "ownProps", "mapSelect", "select", "registry", "mergeProps", "useSelect", "_jsx", "useDispatch", "storeNameOrDescriptor", "dispatch", "useRegistry", "useDispatchWithMap", "dispatchMap", "deps", "registry", "useRegistry", "currentDispatchMapRef", "useRef", "useIsomorphicLayoutEffect", "current", "useMemo", "currentDispatchProps", "dispatch", "Object", "fromEntries", "entries", "map", "propName", "dispatcher", "console", "warn", "args", "import_jsx_runtime", "withDispatch", "mapDispatchToProps", "createHigherOrderComponent", "WrappedComponent", "ownProps", "mapDispatch", "dispatch", "registry", "dispatchProps", "useDispatchWithMap", "_jsx", "import_jsx_runtime", "withRegistry", "createHigherOrderComponent", "OriginalComponent", "props", "_jsx", "RegistryConsumer", "children", "registry", "dispatch", "storeNameOrDescriptor", "defaultRegistry", "select", "storeNameOrDescriptor", "defaultRegistry", "combineReducers", "combineReducersModule", "resolveSelect", "defaultRegistry", "suspendSelect", "subscribe", "registerGenericStore", "registerStore", "use", "register"]
}
