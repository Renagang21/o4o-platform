{
  "version": 3,
  "sources": ["../../../../node_modules/equivalent-key-map/equivalent-key-map.js", "../../../../node_modules/rungen/dist/utils/keys.js", "../../../../node_modules/rungen/dist/utils/helpers.js", "../../../../node_modules/rungen/dist/utils/is.js", "../../../../node_modules/rungen/dist/controls/builtin.js", "../../../../node_modules/rungen/dist/create.js", "../../../../node_modules/rungen/dist/utils/dispatcher.js", "../../../../node_modules/rungen/dist/controls/async.js", "../../../../node_modules/rungen/dist/controls/wrap.js", "../../../../node_modules/rungen/dist/index.js", "../../../../node_modules/clipboard/dist/clipboard.js", "../../../../node_modules/mousetrap/mousetrap.js", "../../../../node_modules/requestidlecallback/index.js", "../../../../node_modules/deepmerge/dist/cjs.js", "../../../../node_modules/@wordpress/deprecated/build-module/@wordpress/deprecated/src/index.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/utils/formatProdErrorMessage.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/utils/symbol-observable.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/utils/actionTypes.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/utils/isPlainObject.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/utils/kindOf.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/createStore.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/utils/warning.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/combineReducers.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/bindActionCreators.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/compose.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/applyMiddleware.ts", "../../../../node_modules/@wordpress/data/node_modules/redux/src/utils/isAction.ts", "../../../../node_modules/@wordpress/data/build-module/redux-store/@wordpress/data/src/redux-store/index.js", "../../../../node_modules/@wordpress/redux-routine/build-module/@wordpress/redux-routine/src/is-generator.ts", "../../../../node_modules/@wordpress/redux-routine/build-module/@wordpress/redux-routine/src/runtime.ts", "../../../../node_modules/is-promise/index.mjs", "../../../../node_modules/@wordpress/redux-routine/build-module/@wordpress/redux-routine/src/is-action.ts", "../../../../node_modules/@wordpress/redux-routine/build-module/@wordpress/redux-routine/src/index.ts", "../../../../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/@wordpress/compose/src/utils/create-higher-order-component/index.ts", "../../../../node_modules/@wordpress/compose/build-module/utils/debounce/@wordpress/compose/src/utils/debounce/index.ts", "../../../../node_modules/@wordpress/compose/build-module/utils/throttle/@wordpress/compose/src/utils/throttle/index.ts", "../../../../node_modules/@wordpress/compose/build-module/utils/observable-map/@wordpress/compose/src/utils/observable-map/index.ts", "../../../../node_modules/@wordpress/compose/build-module/higher-order/@wordpress/compose/src/higher-order/pipe.ts", "../../../../node_modules/@wordpress/compose/build-module/higher-order/@wordpress/compose/src/higher-order/compose.ts", "../../../../node_modules/@wordpress/compose/build-module/higher-order/if-condition/@wordpress/compose/src/higher-order/if-condition/index.tsx", "../../../../node_modules/@wordpress/is-shallow-equal/build-module/@wordpress/is-shallow-equal/src/objects.ts", "../../../../node_modules/@wordpress/is-shallow-equal/build-module/@wordpress/is-shallow-equal/src/arrays.ts", "../../../../node_modules/@wordpress/is-shallow-equal/build-module/@wordpress/is-shallow-equal/src/index.ts", "../../../../node_modules/@wordpress/element/build-module/@wordpress/element/src/react.ts", "../../../../node_modules/@wordpress/element/build-module/@wordpress/element/src/react-platform.ts", "../../../../node_modules/@wordpress/element/build-module/@wordpress/element/src/utils.ts", "../../../../node_modules/@wordpress/element/build-module/@wordpress/element/src/platform.ts", "../../../../node_modules/@wordpress/element/build-module/@wordpress/element/src/raw-html.ts", "../../../../node_modules/@wordpress/element/build-module/@wordpress/element/src/serialize.ts", "../../../../node_modules/@wordpress/compose/build-module/higher-order/pure/@wordpress/compose/src/higher-order/pure/index.tsx", "../../../../node_modules/@wordpress/compose/build-module/higher-order/with-global-events/@wordpress/compose/src/higher-order/with-global-events/listener.js", "../../../../node_modules/@wordpress/compose/build-module/higher-order/with-global-events/@wordpress/compose/src/higher-order/with-global-events/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-instance-id/@wordpress/compose/src/hooks/use-instance-id/index.ts", "../../../../node_modules/@wordpress/compose/build-module/higher-order/with-instance-id/@wordpress/compose/src/higher-order/with-instance-id/index.tsx", "../../../../node_modules/@wordpress/compose/build-module/higher-order/with-safe-timeout/@wordpress/compose/src/higher-order/with-safe-timeout/index.tsx", "../../../../node_modules/@wordpress/compose/build-module/higher-order/with-state/@wordpress/compose/src/higher-order/with-state/index.js", "../../../../node_modules/@wordpress/dom/build-module/@wordpress/dom/src/focusable.js", "../../../../node_modules/@wordpress/dom/build-module/@wordpress/dom/src/tabbable.js", "../../../../node_modules/@wordpress/dom/build-module/utils/@wordpress/dom/src/utils/assert-is-defined.ts", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/get-rectangle-from-range.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/compute-caret-rect.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/document-has-text-selection.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-html-input-element.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-text-field.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/input-field-has-uncollapsed-selection.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/document-has-uncollapsed-selection.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/document-has-selection.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/get-computed-style.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/get-scroll-container.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-input-or-text-area.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-entirely-selected.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-form-element.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-rtl.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/get-range-height.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-selection-forward.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/caret-range-from-point.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/hidden-caret-range-from-point.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/scroll-if-no-range.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-edge.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-horizontal-edge.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-vertical-edge.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/place-caret-at-edge.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/place-caret-at-horizontal-edge.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/place-caret-at-vertical-edge.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/insert-after.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/remove.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/replace.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/unwrap.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/replace-tag.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/wrap.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/safe-html.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/strip-html.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-empty.js", "../../../../node_modules/@wordpress/dom/build-module/@wordpress/dom/src/phrasing-content.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-element.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/clean-node-list.js", "../../../../node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/remove-invalid-html.js", "../../../../node_modules/@wordpress/dom/build-module/@wordpress/dom/src/data-transfer.js", "../../../../node_modules/@wordpress/dom/build-module/@wordpress/dom/src/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-ref-effect/@wordpress/compose/src/hooks/use-ref-effect/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-constrained-tabbing/@wordpress/compose/src/hooks/use-constrained-tabbing/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-copy-on-click/@wordpress/compose/src/hooks/use-copy-on-click/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-copy-to-clipboard/@wordpress/compose/src/hooks/use-copy-to-clipboard/index.js", "../../../../node_modules/@wordpress/keycodes/build-module/@wordpress/keycodes/src/platform.ts", "../../../../node_modules/@wordpress/keycodes/build-module/@wordpress/keycodes/src/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-focus-on-mount/@wordpress/compose/src/hooks/use-focus-on-mount/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-focus-return/@wordpress/compose/src/hooks/use-focus-return/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-focus-outside/@wordpress/compose/src/hooks/use-focus-outside/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-merge-refs/@wordpress/compose/src/hooks/use-merge-refs/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-dialog/@wordpress/compose/src/hooks/use-dialog/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-disabled/@wordpress/compose/src/hooks/use-disabled/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-event/@wordpress/compose/src/hooks/use-event/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-isomorphic-layout-effect/@wordpress/compose/src/hooks/use-isomorphic-layout-effect/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-dragging/@wordpress/compose/src/hooks/use-dragging/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-keyboard-shortcut/@wordpress/compose/src/hooks/use-keyboard-shortcut/index.js", "../../../../node_modules/mousetrap/plugins/global-bind/mousetrap-global-bind.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-media-query/@wordpress/compose/src/hooks/use-media-query/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-previous/@wordpress/compose/src/hooks/use-previous/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-reduced-motion/@wordpress/compose/src/hooks/use-reduced-motion/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-viewport-match/@wordpress/compose/src/hooks/use-viewport-match/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-resize-observer/@wordpress/compose/src/hooks/use-resize-observer/use-resize-observer.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-resize-observer/legacy/@wordpress/compose/src/hooks/use-resize-observer/legacy/index.tsx", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-resize-observer/@wordpress/compose/src/hooks/use-resize-observer/index.ts", "../../../../node_modules/@wordpress/priority-queue/build-module/@wordpress/priority-queue/src/request-idle-callback.ts", "../../../../node_modules/@wordpress/priority-queue/build-module/@wordpress/priority-queue/src/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-async-list/@wordpress/compose/src/hooks/use-async-list/index.ts", "../../../../node_modules/use-memo-one/dist/use-memo-one.esm.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-debounce/@wordpress/compose/src/hooks/use-debounce/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-debounced-input/@wordpress/compose/src/hooks/use-debounced-input/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-throttle/@wordpress/compose/src/hooks/use-throttle/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-drop-zone/@wordpress/compose/src/hooks/use-drop-zone/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-focusable-iframe/@wordpress/compose/src/hooks/use-focusable-iframe/index.ts", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-fixed-window-list/@wordpress/compose/src/hooks/use-fixed-window-list/index.js", "../../../../node_modules/@wordpress/compose/build-module/hooks/use-observable-value/@wordpress/compose/src/hooks/use-observable-value/index.ts", "../../../../node_modules/@wordpress/data/build-module/redux-store/@wordpress/data/src/redux-store/combine-reducers.js", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/factory.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/controls.js", "../../../../node_modules/@wordpress/private-apis/build-module/@wordpress/private-apis/src/implementation.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/lock-unlock.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/promise-middleware.js", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/resolvers-cache-middleware.js", "../../../../node_modules/@wordpress/data/build-module/redux-store/@wordpress/data/src/redux-store/thunk-middleware.js", "../../../../node_modules/@wordpress/data/build-module/redux-store/metadata/@wordpress/data/src/redux-store/metadata/reducer.ts", "../../../../node_modules/@wordpress/data/build-module/redux-store/metadata/@wordpress/data/src/redux-store/metadata/utils.ts", "../../../../node_modules/@wordpress/data/build-module/redux-store/metadata/@wordpress/data/src/redux-store/metadata/selectors.js", "../../../../node_modules/rememo/rememo.js", "../../../../node_modules/@wordpress/data/build-module/redux-store/metadata/@wordpress/data/src/redux-store/metadata/actions.js", "../../../../node_modules/@wordpress/data/build-module/store/@wordpress/data/src/store/index.js", "../../../../node_modules/@wordpress/data/build-module/utils/@wordpress/data/src/utils/emitter.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/registry.js", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/default-registry.js", "../../../../node_modules/@wordpress/data/build-module/plugins/@wordpress/data/src/plugins/index.js", "../../../../node_modules/@wordpress/data/build-module/plugins/persistence/@wordpress/data/src/plugins/persistence/index.js", "../../../../node_modules/@wordpress/data/build-module/plugins/persistence/storage/@wordpress/data/src/plugins/persistence/storage/object.js", "../../../../node_modules/@wordpress/data/build-module/plugins/persistence/storage/@wordpress/data/src/plugins/persistence/storage/default.js", "../../../../node_modules/@wordpress/data/build-module/components/registry-provider/@wordpress/data/src/components/registry-provider/context.js", "../../../../node_modules/@wordpress/data/build-module/components/registry-provider/@wordpress/data/src/components/registry-provider/use-registry.js", "../../../../node_modules/@wordpress/data/build-module/components/async-mode-provider/@wordpress/data/src/components/async-mode-provider/context.js", "../../../../node_modules/@wordpress/data/build-module/components/async-mode-provider/@wordpress/data/src/components/async-mode-provider/use-async-mode.js", "../../../../node_modules/@wordpress/data/build-module/components/use-select/@wordpress/data/src/components/use-select/index.js", "../../../../node_modules/@wordpress/data/build-module/components/with-select/@wordpress/data/src/components/with-select/index.js", "../../../../node_modules/@wordpress/data/build-module/components/use-dispatch/@wordpress/data/src/components/use-dispatch/use-dispatch.js", "../../../../node_modules/@wordpress/data/build-module/components/use-dispatch/@wordpress/data/src/components/use-dispatch/use-dispatch-with-map.js", "../../../../node_modules/@wordpress/data/build-module/components/with-dispatch/@wordpress/data/src/components/with-dispatch/index.js", "../../../../node_modules/@wordpress/data/build-module/components/with-registry/@wordpress/data/src/components/with-registry/index.js", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/dispatch.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/select.ts", "../../../../node_modules/@wordpress/data/build-module/@wordpress/data/src/index.js"],
  "sourcesContent": ["'use strict';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\n/**\n * Given an instance of EquivalentKeyMap, returns its internal value pair tuple\n * for a key, if one exists. The tuple members consist of the last reference\n * value for the key (used in efficient subsequent lookups) and the value\n * assigned for the key at the leaf node.\n *\n * @param {EquivalentKeyMap} instance EquivalentKeyMap instance.\n * @param {*} key                     The key for which to return value pair.\n *\n * @return {?Array} Value pair, if exists.\n */\nfunction getValuePair(instance, key) {\n  var _map = instance._map,\n      _arrayTreeMap = instance._arrayTreeMap,\n      _objectTreeMap = instance._objectTreeMap; // Map keeps a reference to the last object-like key used to set the\n  // value, which can be used to shortcut immediately to the value.\n\n  if (_map.has(key)) {\n    return _map.get(key);\n  } // Sort keys to ensure stable retrieval from tree.\n\n\n  var properties = Object.keys(key).sort(); // Tree by type to avoid conflicts on numeric object keys, empty value.\n\n  var map = Array.isArray(key) ? _arrayTreeMap : _objectTreeMap;\n\n  for (var i = 0; i < properties.length; i++) {\n    var property = properties[i];\n    map = map.get(property);\n\n    if (map === undefined) {\n      return;\n    }\n\n    var propertyValue = key[property];\n    map = map.get(propertyValue);\n\n    if (map === undefined) {\n      return;\n    }\n  }\n\n  var valuePair = map.get('_ekm_value');\n\n  if (!valuePair) {\n    return;\n  } // If reached, it implies that an object-like key was set with another\n  // reference, so delete the reference and replace with the current.\n\n\n  _map.delete(valuePair[0]);\n\n  valuePair[0] = key;\n  map.set('_ekm_value', valuePair);\n\n  _map.set(key, valuePair);\n\n  return valuePair;\n}\n/**\n * Variant of a Map object which enables lookup by equivalent (deeply equal)\n * object and array keys.\n */\n\n\nvar EquivalentKeyMap =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Constructs a new instance of EquivalentKeyMap.\n   *\n   * @param {Iterable.<*>} iterable Initial pair of key, value for map.\n   */\n  function EquivalentKeyMap(iterable) {\n    _classCallCheck(this, EquivalentKeyMap);\n\n    this.clear();\n\n    if (iterable instanceof EquivalentKeyMap) {\n      // Map#forEach is only means of iterating with support for IE11.\n      var iterablePairs = [];\n      iterable.forEach(function (value, key) {\n        iterablePairs.push([key, value]);\n      });\n      iterable = iterablePairs;\n    }\n\n    if (iterable != null) {\n      for (var i = 0; i < iterable.length; i++) {\n        this.set(iterable[i][0], iterable[i][1]);\n      }\n    }\n  }\n  /**\n   * Accessor property returning the number of elements.\n   *\n   * @return {number} Number of elements.\n   */\n\n\n  _createClass(EquivalentKeyMap, [{\n    key: \"set\",\n\n    /**\n     * Add or update an element with a specified key and value.\n     *\n     * @param {*} key   The key of the element to add.\n     * @param {*} value The value of the element to add.\n     *\n     * @return {EquivalentKeyMap} Map instance.\n     */\n    value: function set(key, value) {\n      // Shortcut non-object-like to set on internal Map.\n      if (key === null || _typeof(key) !== 'object') {\n        this._map.set(key, value);\n\n        return this;\n      } // Sort keys to ensure stable assignment into tree.\n\n\n      var properties = Object.keys(key).sort();\n      var valuePair = [key, value]; // Tree by type to avoid conflicts on numeric object keys, empty value.\n\n      var map = Array.isArray(key) ? this._arrayTreeMap : this._objectTreeMap;\n\n      for (var i = 0; i < properties.length; i++) {\n        var property = properties[i];\n\n        if (!map.has(property)) {\n          map.set(property, new EquivalentKeyMap());\n        }\n\n        map = map.get(property);\n        var propertyValue = key[property];\n\n        if (!map.has(propertyValue)) {\n          map.set(propertyValue, new EquivalentKeyMap());\n        }\n\n        map = map.get(propertyValue);\n      } // If an _ekm_value exists, there was already an equivalent key. Before\n      // overriding, ensure that the old key reference is removed from map to\n      // avoid memory leak of accumulating equivalent keys. This is, in a\n      // sense, a poor man's WeakMap, while still enabling iterability.\n\n\n      var previousValuePair = map.get('_ekm_value');\n\n      if (previousValuePair) {\n        this._map.delete(previousValuePair[0]);\n      }\n\n      map.set('_ekm_value', valuePair);\n\n      this._map.set(key, valuePair);\n\n      return this;\n    }\n    /**\n     * Returns a specified element.\n     *\n     * @param {*} key The key of the element to return.\n     *\n     * @return {?*} The element associated with the specified key or undefined\n     *              if the key can't be found.\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      // Shortcut non-object-like to get from internal Map.\n      if (key === null || _typeof(key) !== 'object') {\n        return this._map.get(key);\n      }\n\n      var valuePair = getValuePair(this, key);\n\n      if (valuePair) {\n        return valuePair[1];\n      }\n    }\n    /**\n     * Returns a boolean indicating whether an element with the specified key\n     * exists or not.\n     *\n     * @param {*} key The key of the element to test for presence.\n     *\n     * @return {boolean} Whether an element with the specified key exists.\n     */\n\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      if (key === null || _typeof(key) !== 'object') {\n        return this._map.has(key);\n      } // Test on the _presence_ of the pair, not its value, as even undefined\n      // can be a valid member value for a key.\n\n\n      return getValuePair(this, key) !== undefined;\n    }\n    /**\n     * Removes the specified element.\n     *\n     * @param {*} key The key of the element to remove.\n     *\n     * @return {boolean} Returns true if an element existed and has been\n     *                   removed, or false if the element does not exist.\n     */\n\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      if (!this.has(key)) {\n        return false;\n      } // This naive implementation will leave orphaned child trees. A better\n      // implementation should traverse and remove orphans.\n\n\n      this.set(key, undefined);\n      return true;\n    }\n    /**\n     * Executes a provided function once per each key/value pair, in insertion\n     * order.\n     *\n     * @param {Function} callback Function to execute for each element.\n     * @param {*}        thisArg  Value to use as `this` when executing\n     *                            `callback`.\n     */\n\n  }, {\n    key: \"forEach\",\n    value: function forEach(callback) {\n      var _this = this;\n\n      var thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this;\n\n      this._map.forEach(function (value, key) {\n        // Unwrap value from object-like value pair.\n        if (key !== null && _typeof(key) === 'object') {\n          value = value[1];\n        }\n\n        callback.call(thisArg, value, key, _this);\n      });\n    }\n    /**\n     * Removes all elements.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._map = new Map();\n      this._arrayTreeMap = new Map();\n      this._objectTreeMap = new Map();\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this._map.size;\n    }\n  }]);\n\n  return EquivalentKeyMap;\n}();\n\nmodule.exports = EquivalentKeyMap;\n", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar keys = {\n  all: Symbol('all'),\n  error: Symbol('error'),\n  fork: Symbol('fork'),\n  join: Symbol('join'),\n  race: Symbol('race'),\n  call: Symbol('call'),\n  cps: Symbol('cps'),\n  subscribe: Symbol('subscribe')\n};\n\nexports.default = keys;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createChannel = exports.subscribe = exports.cps = exports.apply = exports.call = exports.invoke = exports.delay = exports.race = exports.join = exports.fork = exports.error = exports.all = undefined;\n\nvar _keys = require('./keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar all = exports.all = function all(value) {\n  return {\n    type: _keys2.default.all,\n    value: value\n  };\n};\n\nvar error = exports.error = function error(err) {\n  return {\n    type: _keys2.default.error,\n    error: err\n  };\n};\n\nvar fork = exports.fork = function fork(iterator) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return {\n    type: _keys2.default.fork,\n    iterator: iterator,\n    args: args\n  };\n};\n\nvar join = exports.join = function join(task) {\n  return {\n    type: _keys2.default.join,\n    task: task\n  };\n};\n\nvar race = exports.race = function race(competitors) {\n  return {\n    type: _keys2.default.race,\n    competitors: competitors\n  };\n};\n\nvar delay = exports.delay = function delay(timeout) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      return resolve(true);\n    }, timeout);\n  });\n};\n\nvar invoke = exports.invoke = function invoke(func) {\n  for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return {\n    type: _keys2.default.call,\n    func: func,\n    context: null,\n    args: args\n  };\n};\n\nvar call = exports.call = function call(func, context) {\n  for (var _len3 = arguments.length, args = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    args[_key3 - 2] = arguments[_key3];\n  }\n\n  return {\n    type: _keys2.default.call,\n    func: func,\n    context: context,\n    args: args\n  };\n};\n\nvar apply = exports.apply = function apply(func, context, args) {\n  return {\n    type: _keys2.default.call,\n    func: func,\n    context: context,\n    args: args\n  };\n};\n\nvar cps = exports.cps = function cps(func) {\n  for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  return {\n    type: _keys2.default.cps,\n    func: func,\n    args: args\n  };\n};\n\nvar subscribe = exports.subscribe = function subscribe(channel) {\n  return {\n    type: _keys2.default.subscribe,\n    channel: channel\n  };\n};\n\nvar createChannel = exports.createChannel = function createChannel(callback) {\n  var listeners = [];\n  var subscribe = function subscribe(l) {\n    listeners.push(l);\n    return function () {\n      return listeners.splice(listeners.indexOf(l), 1);\n    };\n  };\n  var next = function next(val) {\n    return listeners.forEach(function (l) {\n      return l(val);\n    });\n  };\n  callback(next);\n\n  return {\n    subscribe: subscribe\n  };\n};", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _keys = require('./keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar is = {\n  obj: function obj(value) {\n    return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && !!value;\n  },\n  all: function all(value) {\n    return is.obj(value) && value.type === _keys2.default.all;\n  },\n  error: function error(value) {\n    return is.obj(value) && value.type === _keys2.default.error;\n  },\n  array: Array.isArray,\n  func: function func(value) {\n    return typeof value === 'function';\n  },\n  promise: function promise(value) {\n    return value && is.func(value.then);\n  },\n  iterator: function iterator(value) {\n    return value && is.func(value.next) && is.func(value.throw);\n  },\n  fork: function fork(value) {\n    return is.obj(value) && value.type === _keys2.default.fork;\n  },\n  join: function join(value) {\n    return is.obj(value) && value.type === _keys2.default.join;\n  },\n  race: function race(value) {\n    return is.obj(value) && value.type === _keys2.default.race;\n  },\n  call: function call(value) {\n    return is.obj(value) && value.type === _keys2.default.call;\n  },\n  cps: function cps(value) {\n    return is.obj(value) && value.type === _keys2.default.cps;\n  },\n  subscribe: function subscribe(value) {\n    return is.obj(value) && value.type === _keys2.default.subscribe;\n  },\n  channel: function channel(value) {\n    return is.obj(value) && is.func(value.subscribe);\n  }\n};\n\nexports.default = is;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.iterator = exports.array = exports.object = exports.error = exports.any = undefined;\n\nvar _is = require('../utils/is');\n\nvar _is2 = _interopRequireDefault(_is);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar any = exports.any = function any(value, next, rungen, yieldNext) {\n  yieldNext(value);\n  return true;\n};\n\nvar error = exports.error = function error(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.error(value)) return false;\n  raiseNext(value.error);\n  return true;\n};\n\nvar object = exports.object = function object(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.all(value) || !_is2.default.obj(value.value)) return false;\n  var result = {};\n  var keys = Object.keys(value.value);\n  var count = 0;\n  var hasError = false;\n  var gotResultSuccess = function gotResultSuccess(key, ret) {\n    if (hasError) return;\n    result[key] = ret;\n    count++;\n    if (count === keys.length) {\n      yieldNext(result);\n    }\n  };\n\n  var gotResultError = function gotResultError(key, error) {\n    if (hasError) return;\n    hasError = true;\n    raiseNext(error);\n  };\n\n  keys.map(function (key) {\n    rungen(value.value[key], function (ret) {\n      return gotResultSuccess(key, ret);\n    }, function (err) {\n      return gotResultError(key, err);\n    });\n  });\n\n  return true;\n};\n\nvar array = exports.array = function array(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.all(value) || !_is2.default.array(value.value)) return false;\n  var result = [];\n  var count = 0;\n  var hasError = false;\n  var gotResultSuccess = function gotResultSuccess(key, ret) {\n    if (hasError) return;\n    result[key] = ret;\n    count++;\n    if (count === value.value.length) {\n      yieldNext(result);\n    }\n  };\n\n  var gotResultError = function gotResultError(key, error) {\n    if (hasError) return;\n    hasError = true;\n    raiseNext(error);\n  };\n\n  value.value.map(function (v, key) {\n    rungen(v, function (ret) {\n      return gotResultSuccess(key, ret);\n    }, function (err) {\n      return gotResultError(key, err);\n    });\n  });\n\n  return true;\n};\n\nvar iterator = exports.iterator = function iterator(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.iterator(value)) return false;\n  rungen(value, next, raiseNext);\n  return true;\n};\n\nexports.default = [error, iterator, array, object, any];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _builtin = require('./controls/builtin');\n\nvar _builtin2 = _interopRequireDefault(_builtin);\n\nvar _is = require('./utils/is');\n\nvar _is2 = _interopRequireDefault(_is);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar create = function create() {\n  var userControls = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n  var controls = [].concat(_toConsumableArray(userControls), _toConsumableArray(_builtin2.default));\n\n  var runtime = function runtime(input) {\n    var success = arguments.length <= 1 || arguments[1] === undefined ? function () {} : arguments[1];\n    var error = arguments.length <= 2 || arguments[2] === undefined ? function () {} : arguments[2];\n\n    var iterate = function iterate(gen) {\n      var yieldValue = function yieldValue(isError) {\n        return function (ret) {\n          try {\n            var _ref = isError ? gen.throw(ret) : gen.next(ret);\n\n            var value = _ref.value;\n            var done = _ref.done;\n\n            if (done) return success(value);\n            next(value);\n          } catch (e) {\n            return error(e);\n          }\n        };\n      };\n\n      var next = function next(ret) {\n        controls.some(function (control) {\n          return control(ret, next, runtime, yieldValue(false), yieldValue(true));\n        });\n      };\n\n      yieldValue(false)();\n    };\n\n    var iterator = _is2.default.iterator(input) ? input : regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return input;\n\n            case 2:\n              return _context.abrupt('return', _context.sent);\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    })();\n\n    iterate(iterator, success, error);\n  };\n\n  return runtime;\n};\n\nexports.default = create;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar createDispatcher = function createDispatcher() {\n  var listeners = [];\n\n  return {\n    subscribe: function subscribe(listener) {\n      listeners.push(listener);\n      return function () {\n        listeners = listeners.filter(function (l) {\n          return l !== listener;\n        });\n      };\n    },\n    dispatch: function dispatch(action) {\n      listeners.slice().forEach(function (listener) {\n        return listener(action);\n      });\n    }\n  };\n};\n\nexports.default = createDispatcher;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.race = exports.join = exports.fork = exports.promise = undefined;\n\nvar _is = require('../utils/is');\n\nvar _is2 = _interopRequireDefault(_is);\n\nvar _helpers = require('../utils/helpers');\n\nvar _dispatcher = require('../utils/dispatcher');\n\nvar _dispatcher2 = _interopRequireDefault(_dispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar promise = exports.promise = function promise(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.promise(value)) return false;\n  value.then(next, raiseNext);\n  return true;\n};\n\nvar forkedTasks = new Map();\nvar fork = exports.fork = function fork(value, next, rungen) {\n  if (!_is2.default.fork(value)) return false;\n  var task = Symbol('fork');\n  var dispatcher = (0, _dispatcher2.default)();\n  forkedTasks.set(task, dispatcher);\n  rungen(value.iterator.apply(null, value.args), function (result) {\n    return dispatcher.dispatch(result);\n  }, function (err) {\n    return dispatcher.dispatch((0, _helpers.error)(err));\n  });\n  var unsubscribe = dispatcher.subscribe(function () {\n    unsubscribe();\n    forkedTasks.delete(task);\n  });\n  next(task);\n  return true;\n};\n\nvar join = exports.join = function join(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.join(value)) return false;\n  var dispatcher = forkedTasks.get(value.task);\n  if (!dispatcher) {\n    raiseNext('join error : task not found');\n  } else {\n    (function () {\n      var unsubscribe = dispatcher.subscribe(function (result) {\n        unsubscribe();\n        next(result);\n      });\n    })();\n  }\n  return true;\n};\n\nvar race = exports.race = function race(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.race(value)) return false;\n  var finished = false;\n  var success = function success(result, k, v) {\n    if (finished) return;\n    finished = true;\n    result[k] = v;\n    next(result);\n  };\n\n  var fail = function fail(err) {\n    if (finished) return;\n    raiseNext(err);\n  };\n  if (_is2.default.array(value.competitors)) {\n    (function () {\n      var result = value.competitors.map(function () {\n        return false;\n      });\n      value.competitors.forEach(function (competitor, index) {\n        rungen(competitor, function (output) {\n          return success(result, index, output);\n        }, fail);\n      });\n    })();\n  } else {\n    (function () {\n      var result = Object.keys(value.competitors).reduce(function (p, c) {\n        p[c] = false;\n        return p;\n      }, {});\n      Object.keys(value.competitors).forEach(function (index) {\n        rungen(value.competitors[index], function (output) {\n          return success(result, index, output);\n        }, fail);\n      });\n    })();\n  }\n  return true;\n};\n\nvar subscribe = function subscribe(value, next) {\n  if (!_is2.default.subscribe(value)) return false;\n  if (!_is2.default.channel(value.channel)) {\n    throw new Error('the first argument of \"subscribe\" must be a valid channel');\n  }\n  var unsubscribe = value.channel.subscribe(function (ret) {\n    unsubscribe && unsubscribe();\n    next(ret);\n  });\n\n  return true;\n};\n\nexports.default = [promise, fork, join, race, subscribe];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cps = exports.call = undefined;\n\nvar _is = require('../utils/is');\n\nvar _is2 = _interopRequireDefault(_is);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar call = exports.call = function call(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.call(value)) return false;\n  try {\n    next(value.func.apply(value.context, value.args));\n  } catch (err) {\n    raiseNext(err);\n  }\n  return true;\n};\n\nvar cps = exports.cps = function cps(value, next, rungen, yieldNext, raiseNext) {\n  var _value$func;\n\n  if (!_is2.default.cps(value)) return false;\n  (_value$func = value.func).call.apply(_value$func, [null].concat(_toConsumableArray(value.args), [function (err, result) {\n    if (err) raiseNext(err);else next(result);\n  }]));\n  return true;\n};\n\nexports.default = [call, cps];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.wrapControls = exports.asyncControls = exports.create = undefined;\n\nvar _helpers = require('./utils/helpers');\n\nObject.keys(_helpers).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _helpers[key];\n    }\n  });\n});\n\nvar _create = require('./create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _async = require('./controls/async');\n\nvar _async2 = _interopRequireDefault(_async);\n\nvar _wrap = require('./controls/wrap');\n\nvar _wrap2 = _interopRequireDefault(_wrap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.create = _create2.default;\nexports.asyncControls = _async2.default;\nexports.wrapControls = _wrap2.default;", "/*!\n * clipboard.js v2.0.11\n * https://clipboardjs.com/\n *\n * Licensed MIT Â© Zeno Rocha\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ClipboardJS\"] = factory();\n\telse\n\t\troot[\"ClipboardJS\"] = factory();\n})(this, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ clipboard; }\n});\n\n// EXTERNAL MODULE: ./node_modules/tiny-emitter/index.js\nvar tiny_emitter = __webpack_require__(279);\nvar tiny_emitter_default = /*#__PURE__*/__webpack_require__.n(tiny_emitter);\n// EXTERNAL MODULE: ./node_modules/good-listener/src/listen.js\nvar listen = __webpack_require__(370);\nvar listen_default = /*#__PURE__*/__webpack_require__.n(listen);\n// EXTERNAL MODULE: ./node_modules/select/src/select.js\nvar src_select = __webpack_require__(817);\nvar select_default = /*#__PURE__*/__webpack_require__.n(src_select);\n;// CONCATENATED MODULE: ./src/common/command.js\n/**\n * Executes a given operation type.\n * @param {String} type\n * @return {Boolean}\n */\nfunction command(type) {\n  try {\n    return document.execCommand(type);\n  } catch (err) {\n    return false;\n  }\n}\n;// CONCATENATED MODULE: ./src/actions/cut.js\n\n\n/**\n * Cut action wrapper.\n * @param {String|HTMLElement} target\n * @return {String}\n */\n\nvar ClipboardActionCut = function ClipboardActionCut(target) {\n  var selectedText = select_default()(target);\n  command('cut');\n  return selectedText;\n};\n\n/* harmony default export */ var actions_cut = (ClipboardActionCut);\n;// CONCATENATED MODULE: ./src/common/create-fake-element.js\n/**\n * Creates a fake textarea element with a value.\n * @param {String} value\n * @return {HTMLElement}\n */\nfunction createFakeElement(value) {\n  var isRTL = document.documentElement.getAttribute('dir') === 'rtl';\n  var fakeElement = document.createElement('textarea'); // Prevent zooming on iOS\n\n  fakeElement.style.fontSize = '12pt'; // Reset box model\n\n  fakeElement.style.border = '0';\n  fakeElement.style.padding = '0';\n  fakeElement.style.margin = '0'; // Move element out of screen horizontally\n\n  fakeElement.style.position = 'absolute';\n  fakeElement.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n  var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n  fakeElement.style.top = \"\".concat(yPosition, \"px\");\n  fakeElement.setAttribute('readonly', '');\n  fakeElement.value = value;\n  return fakeElement;\n}\n;// CONCATENATED MODULE: ./src/actions/copy.js\n\n\n\n/**\n * Create fake copy action wrapper using a fake element.\n * @param {String} target\n * @param {Object} options\n * @return {String}\n */\n\nvar fakeCopyAction = function fakeCopyAction(value, options) {\n  var fakeElement = createFakeElement(value);\n  options.container.appendChild(fakeElement);\n  var selectedText = select_default()(fakeElement);\n  command('copy');\n  fakeElement.remove();\n  return selectedText;\n};\n/**\n * Copy action wrapper.\n * @param {String|HTMLElement} target\n * @param {Object} options\n * @return {String}\n */\n\n\nvar ClipboardActionCopy = function ClipboardActionCopy(target) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    container: document.body\n  };\n  var selectedText = '';\n\n  if (typeof target === 'string') {\n    selectedText = fakeCopyAction(target, options);\n  } else if (target instanceof HTMLInputElement && !['text', 'search', 'url', 'tel', 'password'].includes(target === null || target === void 0 ? void 0 : target.type)) {\n    // If input type doesn't support `setSelectionRange`. Simulate it. https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setSelectionRange\n    selectedText = fakeCopyAction(target.value, options);\n  } else {\n    selectedText = select_default()(target);\n    command('copy');\n  }\n\n  return selectedText;\n};\n\n/* harmony default export */ var actions_copy = (ClipboardActionCopy);\n;// CONCATENATED MODULE: ./src/actions/default.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n/**\n * Inner function which performs selection from either `text` or `target`\n * properties and then executes copy or cut operations.\n * @param {Object} options\n */\n\nvar ClipboardActionDefault = function ClipboardActionDefault() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  // Defines base properties passed from constructor.\n  var _options$action = options.action,\n      action = _options$action === void 0 ? 'copy' : _options$action,\n      container = options.container,\n      target = options.target,\n      text = options.text; // Sets the `action` to be performed which can be either 'copy' or 'cut'.\n\n  if (action !== 'copy' && action !== 'cut') {\n    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n  } // Sets the `target` property using an element that will be have its content copied.\n\n\n  if (target !== undefined) {\n    if (target && _typeof(target) === 'object' && target.nodeType === 1) {\n      if (action === 'copy' && target.hasAttribute('disabled')) {\n        throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n      }\n\n      if (action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n        throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n      }\n    } else {\n      throw new Error('Invalid \"target\" value, use a valid Element');\n    }\n  } // Define selection strategy based on `text` property.\n\n\n  if (text) {\n    return actions_copy(text, {\n      container: container\n    });\n  } // Defines which selection strategy based on `target` property.\n\n\n  if (target) {\n    return action === 'cut' ? actions_cut(target) : actions_copy(target, {\n      container: container\n    });\n  }\n};\n\n/* harmony default export */ var actions_default = (ClipboardActionDefault);\n;// CONCATENATED MODULE: ./src/clipboard.js\nfunction clipboard_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return clipboard_typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n/**\n * Helper function to retrieve attribute value.\n * @param {String} suffix\n * @param {Element} element\n */\n\nfunction getAttributeValue(suffix, element) {\n  var attribute = \"data-clipboard-\".concat(suffix);\n\n  if (!element.hasAttribute(attribute)) {\n    return;\n  }\n\n  return element.getAttribute(attribute);\n}\n/**\n * Base class which takes one or more elements, adds event listeners to them,\n * and instantiates a new `ClipboardAction` on each click.\n */\n\n\nvar Clipboard = /*#__PURE__*/function (_Emitter) {\n  _inherits(Clipboard, _Emitter);\n\n  var _super = _createSuper(Clipboard);\n\n  /**\n   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n   * @param {Object} options\n   */\n  function Clipboard(trigger, options) {\n    var _this;\n\n    _classCallCheck(this, Clipboard);\n\n    _this = _super.call(this);\n\n    _this.resolveOptions(options);\n\n    _this.listenClick(trigger);\n\n    return _this;\n  }\n  /**\n   * Defines if attributes would be resolved using internal setter functions\n   * or custom functions that were passed in the constructor.\n   * @param {Object} options\n   */\n\n\n  _createClass(Clipboard, [{\n    key: \"resolveOptions\",\n    value: function resolveOptions() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n      this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;\n    }\n    /**\n     * Adds a click event listener to the passed trigger.\n     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n     */\n\n  }, {\n    key: \"listenClick\",\n    value: function listenClick(trigger) {\n      var _this2 = this;\n\n      this.listener = listen_default()(trigger, 'click', function (e) {\n        return _this2.onClick(e);\n      });\n    }\n    /**\n     * Defines a new `ClipboardAction` on each click event.\n     * @param {Event} e\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var trigger = e.delegateTarget || e.currentTarget;\n      var action = this.action(trigger) || 'copy';\n      var text = actions_default({\n        action: action,\n        container: this.container,\n        target: this.target(trigger),\n        text: this.text(trigger)\n      }); // Fires an event based on the copy operation result.\n\n      this.emit(text ? 'success' : 'error', {\n        action: action,\n        text: text,\n        trigger: trigger,\n        clearSelection: function clearSelection() {\n          if (trigger) {\n            trigger.focus();\n          }\n\n          window.getSelection().removeAllRanges();\n        }\n      });\n    }\n    /**\n     * Default `action` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultAction\",\n    value: function defaultAction(trigger) {\n      return getAttributeValue('action', trigger);\n    }\n    /**\n     * Default `target` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultTarget\",\n    value: function defaultTarget(trigger) {\n      var selector = getAttributeValue('target', trigger);\n\n      if (selector) {\n        return document.querySelector(selector);\n      }\n    }\n    /**\n     * Allow fire programmatically a copy action\n     * @param {String|HTMLElement} target\n     * @param {Object} options\n     * @returns Text copied.\n     */\n\n  }, {\n    key: \"defaultText\",\n\n    /**\n     * Default `text` lookup function.\n     * @param {Element} trigger\n     */\n    value: function defaultText(trigger) {\n      return getAttributeValue('text', trigger);\n    }\n    /**\n     * Destroy lifecycle.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.listener.destroy();\n    }\n  }], [{\n    key: \"copy\",\n    value: function copy(target) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        container: document.body\n      };\n      return actions_copy(target, options);\n    }\n    /**\n     * Allow fire programmatically a cut action\n     * @param {String|HTMLElement} target\n     * @returns Text cutted.\n     */\n\n  }, {\n    key: \"cut\",\n    value: function cut(target) {\n      return actions_cut(target);\n    }\n    /**\n     * Returns the support of the given action, or all actions if no action is\n     * given.\n     * @param {String} [action]\n     */\n\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n      var actions = typeof action === 'string' ? [action] : action;\n      var support = !!document.queryCommandSupported;\n      actions.forEach(function (action) {\n        support = support && !!document.queryCommandSupported(action);\n      });\n      return support;\n    }\n  }]);\n\n  return Clipboard;\n}((tiny_emitter_default()));\n\n/* harmony default export */ var clipboard = (Clipboard);\n\n/***/ }),\n\n/***/ 828:\n/***/ (function(module) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar closest = __webpack_require__(828);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n\n/***/ 879:\n/***/ (function(__unused_webpack_module, exports) {\n\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar is = __webpack_require__(879);\nvar delegate = __webpack_require__(438);\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n\n/***/ }),\n\n/***/ 817:\n/***/ (function(module) {\n\nfunction select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(686);\n/******/ })()\n.default;\n});", "/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.5\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // Events originating from a shadow DOM are re-targetted and `e.target` is the shadow host,\n        // not the initial event target in the shadow tree. Note that not all events cross the\n        // shadow boundary.\n        // For shadow trees with `mode: 'open'`, the initial event target is the first element in\n        // the eventâs composed path. For shadow trees with `mode: 'closed'`, the initial event\n        // target cannot be obtained.\n        if ('composedPath' in e && typeof e.composedPath === 'function') {\n            // For open shadow trees, update `element` so that the following check works.\n            var initialEventTarget = e.composedPath()[0];\n            if (initialEventTarget !== e.target) {\n                element = initialEventTarget;\n            }\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n", "(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine([], factory);\n\t} else if (typeof module === 'object' && module.exports) {\n\t\tmodule.exports = factory();\n\t} else {\n\t\twindow.idleCallbackShim = factory();\n\t}\n}(function(){\n\t'use strict';\n\tvar scheduleStart, throttleDelay, lazytimer, lazyraf;\n\tvar root = typeof window != 'undefined' ?\n\t\twindow :\n\t\ttypeof global != undefined ?\n\t\t\tglobal :\n\t\t\tthis || {};\n\tvar requestAnimationFrame = root.cancelRequestAnimationFrame && root.requestAnimationFrame || setTimeout;\n\tvar cancelRequestAnimationFrame = root.cancelRequestAnimationFrame || clearTimeout;\n\tvar tasks = [];\n\tvar runAttempts = 0;\n\tvar isRunning = false;\n\tvar remainingTime = 7;\n\tvar minThrottle = 35;\n\tvar throttle = 125;\n\tvar index = 0;\n\tvar taskStart = 0;\n\tvar tasklength = 0;\n\tvar IdleDeadline = {\n\t\tget didTimeout(){\n\t\t\treturn false;\n\t\t},\n\t\ttimeRemaining: function(){\n\t\t\tvar timeRemaining = remainingTime - (Date.now() - taskStart);\n\t\t\treturn timeRemaining < 0 ? 0 : timeRemaining;\n\t\t},\n\t};\n\tvar setInactive = debounce(function(){\n\t\tremainingTime = 22;\n\t\tthrottle = 66;\n\t\tminThrottle = 0;\n\t});\n\n\tfunction debounce(fn){\n\t\tvar id, timestamp;\n\t\tvar wait = 99;\n\t\tvar check = function(){\n\t\t\tvar last = (Date.now()) - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tid = setTimeout(check, wait - last);\n\t\t\t} else {\n\t\t\t\tid = null;\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\t\treturn function(){\n\t\t\ttimestamp = Date.now();\n\t\t\tif(!id){\n\t\t\t\tid = setTimeout(check, wait);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction abortRunning(){\n\t\tif(isRunning){\n\t\t\tif(lazyraf){\n\t\t\t\tcancelRequestAnimationFrame(lazyraf);\n\t\t\t}\n\t\t\tif(lazytimer){\n\t\t\t\tclearTimeout(lazytimer);\n\t\t\t}\n\t\t\tisRunning = false;\n\t\t}\n\t}\n\n\tfunction onInputorMutation(){\n\t\tif(throttle != 125){\n\t\t\tremainingTime = 7;\n\t\t\tthrottle = 125;\n\t\t\tminThrottle = 35;\n\n\t\t\tif(isRunning) {\n\t\t\t\tabortRunning();\n\t\t\t\tscheduleLazy();\n\t\t\t}\n\t\t}\n\t\tsetInactive();\n\t}\n\n\tfunction scheduleAfterRaf() {\n\t\tlazyraf = null;\n\t\tlazytimer = setTimeout(runTasks, 0);\n\t}\n\n\tfunction scheduleRaf(){\n\t\tlazytimer = null;\n\t\trequestAnimationFrame(scheduleAfterRaf);\n\t}\n\n\tfunction scheduleLazy(){\n\n\t\tif(isRunning){return;}\n\t\tthrottleDelay = throttle - (Date.now() - taskStart);\n\n\t\tscheduleStart = Date.now();\n\n\t\tisRunning = true;\n\n\t\tif(minThrottle && throttleDelay < minThrottle){\n\t\t\tthrottleDelay = minThrottle;\n\t\t}\n\n\t\tif(throttleDelay > 9){\n\t\t\tlazytimer = setTimeout(scheduleRaf, throttleDelay);\n\t\t} else {\n\t\t\tthrottleDelay = 0;\n\t\t\tscheduleRaf();\n\t\t}\n\t}\n\n\tfunction runTasks(){\n\t\tvar task, i, len;\n\t\tvar timeThreshold = remainingTime > 9 ?\n\t\t\t9 :\n\t\t\t1\n\t\t;\n\n\t\ttaskStart = Date.now();\n\t\tisRunning = false;\n\n\t\tlazytimer = null;\n\n\t\tif(runAttempts > 2 || taskStart - throttleDelay - 50 < scheduleStart){\n\t\t\tfor(i = 0, len = tasks.length; i < len && IdleDeadline.timeRemaining() > timeThreshold; i++){\n\t\t\t\ttask = tasks.shift();\n\t\t\t\ttasklength++;\n\t\t\t\tif(task){\n\t\t\t\t\ttask(IdleDeadline);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(tasks.length){\n\t\t\tscheduleLazy();\n\t\t} else {\n\t\t\trunAttempts = 0;\n\t\t}\n\t}\n\n\tfunction requestIdleCallbackShim(task){\n\t\tindex++;\n\t\ttasks.push(task);\n\t\tscheduleLazy();\n\t\treturn index;\n\t}\n\n\tfunction cancelIdleCallbackShim(id){\n\t\tvar index = id - 1 - tasklength;\n\t\tif(tasks[index]){\n\t\t\ttasks[index] = null;\n\t\t}\n\t}\n\n\tif(!root.requestIdleCallback || !root.cancelIdleCallback){\n\t\troot.requestIdleCallback = requestIdleCallbackShim;\n\t\troot.cancelIdleCallback = cancelIdleCallbackShim;\n\n\t\tif(root.document && document.addEventListener){\n\t\t\troot.addEventListener('scroll', onInputorMutation, true);\n\t\t\troot.addEventListener('resize', onInputorMutation);\n\n\t\t\tdocument.addEventListener('focus', onInputorMutation, true);\n\t\t\tdocument.addEventListener('mouseover', onInputorMutation, true);\n\t\t\t['click', 'keypress', 'touchstart', 'mousedown'].forEach(function(name){\n\t\t\t\tdocument.addEventListener(name, onInputorMutation, {capture: true, passive: true});\n\t\t\t});\n\n\t\t\tif(root.MutationObserver){\n\t\t\t\tnew MutationObserver( onInputorMutation ).observe( document.documentElement, {childList: true, subtree: true, attributes: true} );\n\t\t\t}\n\t\t}\n\t} else {\n\t\ttry{\n\t\t\troot.requestIdleCallback(function(){}, {timeout: 0});\n\t\t} catch(e){\n\t\t\t(function(rIC){\n\t\t\t\tvar timeRemainingProto, timeRemaining;\n\t\t\t\troot.requestIdleCallback = function(fn, timeout){\n\t\t\t\t\tif(timeout && typeof timeout.timeout == 'number'){\n\t\t\t\t\t\treturn rIC(fn, timeout.timeout);\n\t\t\t\t\t}\n\t\t\t\t\treturn rIC(fn);\n\t\t\t\t};\n\t\t\t\tif(root.IdleCallbackDeadline && (timeRemainingProto = IdleCallbackDeadline.prototype)){\n\t\t\t\t\ttimeRemaining = Object.getOwnPropertyDescriptor(timeRemainingProto, 'timeRemaining');\n\t\t\t\t\tif(!timeRemaining || !timeRemaining.configurable || !timeRemaining.get){return;}\n\t\t\t\t\tObject.defineProperty(timeRemainingProto, 'timeRemaining', {\n\t\t\t\t\t\tvalue:  function(){\n\t\t\t\t\t\t\treturn timeRemaining.get.call(this);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})(root.requestIdleCallback)\n\t\t}\n\t}\n\n\treturn {\n\t\trequest: requestIdleCallbackShim,\n\t\tcancel: cancelIdleCallbackShim,\n\t};\n}));\n", "'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n", "/**\n * WordPress dependencies\n */\nimport { doAction } from '@wordpress/hooks';\n\n/**\n * Object map tracking messages which have been logged, for use in ensuring a\n * message is only logged once.\n */\nexport const logged: Record< string, true > = Object.create( null );\n\ntype DeprecatedOptions = {\n\t/**\n\t * Version in which the feature was deprecated.\n\t */\n\tsince?: string;\n\t/**\n\t * Version in which the feature will be removed.\n\t */\n\tversion?: string;\n\t/**\n\t * Feature to use instead.\n\t */\n\talternative?: string;\n\t/**\n\t * Plugin name if it's a plugin feature.\n\t */\n\tplugin?: string;\n\t/**\n\t * Link to documentation.\n\t */\n\tlink?: string;\n\t/**\n\t * Additional message to help transition away from the deprecated feature.\n\t */\n\thint?: string;\n};\n\n/**\n * Logs a message to notify developers about a deprecated feature.\n *\n * @param {string}            feature   Name of the deprecated feature.\n * @param {DeprecatedOptions} [options] Personalisation options\n *\n * @example\n * ```js\n * import deprecated from '@wordpress/deprecated';\n *\n * deprecated( 'Eating meat', {\n * \tsince: '2019.01.01',\n * \tversion: '2020.01.01',\n * \talternative: 'vegetables',\n * \tplugin: 'the earth',\n * \thint: 'You may find it beneficial to transition gradually.',\n * } );\n *\n * // Logs: 'Eating meat is deprecated since version 2019.01.01 and will be removed from the earth in version 2020.01.01. Please use vegetables instead. Note: You may find it beneficial to transition gradually.'\n * ```\n */\nexport default function deprecated(\n\tfeature: string,\n\toptions: DeprecatedOptions = {}\n) {\n\tconst { since, version, alternative, plugin, link, hint } = options;\n\n\tconst pluginMessage = plugin ? ` from ${ plugin }` : '';\n\tconst sinceMessage = since ? ` since version ${ since }` : '';\n\tconst versionMessage = version\n\t\t? ` and will be removed${ pluginMessage } in version ${ version }`\n\t\t: '';\n\tconst useInsteadMessage = alternative\n\t\t? ` Please use ${ alternative } instead.`\n\t\t: '';\n\tconst linkMessage = link ? ` See: ${ link }` : '';\n\tconst hintMessage = hint ? ` Note: ${ hint }` : '';\n\tconst message = `${ feature } is deprecated${ sinceMessage }${ versionMessage }.${ useInsteadMessage }${ linkMessage }${ hintMessage }`;\n\n\t// Skip if already logged.\n\tif ( message in logged ) {\n\t\treturn;\n\t}\n\n\t/**\n\t * Fires whenever a deprecated feature is encountered\n\t *\n\t * @param {string}            feature Name of the deprecated feature.\n\t * @param {DeprecatedOptions} options Personalisation options\n\t * @param {string}            message Message sent to console.warn\n\t */\n\tdoAction( 'deprecated', feature, options, message );\n\n\t// eslint-disable-next-line no-console\n\tconsole.warn( message );\n\n\tlogged[ message ] = true;\n}\n", "/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nexport function formatProdErrorMessage(code: number) {\n  return `Minified Redux error #${code}; visit https://redux.js.org/Errors?code=${code} for the full message or ` + 'use the non-minified dev environment for full errors. ';\n}", "declare global {\n  interface SymbolConstructor {\n    readonly observable: symbol;\n  }\n}\nconst $$observable = /* #__PURE__ */(() => typeof Symbol === 'function' && Symbol.observable || '@@observable')();\nexport default $$observable;", "/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\nconst randomString = () => Math.random().toString(36).substring(7).split('').join('.');\nconst ActionTypes = {\n  INIT: `@@redux/INIT${/* #__PURE__ */randomString()}`,\n  REPLACE: `@@redux/REPLACE${/* #__PURE__ */randomString()}`,\n  PROBE_UNKNOWN_ACTION: () => `@@redux/PROBE_UNKNOWN_ACTION${randomString()}`\n};\nexport default ActionTypes;", "/**\n * @param obj The object to inspect.\n * @returns True if the argument appears to be a plain object.\n */\nexport default function isPlainObject(obj: any): obj is object {\n  if (typeof obj !== 'object' || obj === null) return false;\n  let proto = obj;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(obj) === proto || Object.getPrototypeOf(obj) === null;\n}", "// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nexport function miniKindOf(val: any): string {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  const type = typeof val;\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  const constructorName = ctorName(val);\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  }\n\n  // other\n  return Object.prototype.toString.call(val).slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\nfunction ctorName(val: any): string | null {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\nfunction isError(val: any) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\nfunction isDate(val: any) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\nexport function kindOf(val: any) {\n  let typeOfVal: string = typeof val;\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n  return typeOfVal;\n}", "import { formatProdErrorMessage as _formatProdErrorMessage13 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage12 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage11 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage10 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage9 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage8 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage7 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage6 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage5 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage4 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage3 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage2 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage } from \"src/utils/formatProdErrorMessage\";\nimport $$observable from './utils/symbol-observable';\nimport { Store, StoreEnhancer, Dispatch, Observer, ListenerCallback, UnknownIfNonSpecific } from './types/store';\nimport { Action } from './types/actions';\nimport { Reducer } from './types/reducers';\nimport ActionTypes from './utils/actionTypes';\nimport isPlainObject from './utils/isPlainObject';\nimport { kindOf } from './utils/kindOf';\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\nexport function createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}>(reducer: Reducer<S, A>, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext;\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\nexport function createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}, PreloadedState = S>(reducer: Reducer<S, A, PreloadedState>, preloadedState?: PreloadedState | undefined, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext;\nexport function createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}, PreloadedState = S>(reducer: Reducer<S, A, PreloadedState>, preloadedState?: PreloadedState | StoreEnhancer<Ext, StateExt> | undefined, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext {\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage(2) : `Expected the root reducer to be a function. Instead, received: '${kindOf(reducer)}'`);\n  }\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage2(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = (preloadedState as StoreEnhancer<Ext, StateExt>);\n    preloadedState = undefined;\n  }\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage3(1) : `Expected the enhancer to be a function. Instead, received: '${kindOf(enhancer)}'`);\n    }\n    return enhancer(createStore)(reducer, (preloadedState as PreloadedState | undefined));\n  }\n  let currentReducer = reducer;\n  let currentState: S | PreloadedState | undefined = (preloadedState as PreloadedState | undefined);\n  let currentListeners: Map<number, ListenerCallback> | null = new Map();\n  let nextListeners = currentListeners;\n  let listenerIdCounter = 0;\n  let isDispatching = false;\n\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = new Map();\n      currentListeners.forEach((listener, key) => {\n        nextListeners.set(key, listener);\n      });\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns The current state tree of your application.\n   */\n  function getState(): S {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage4(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n    return (currentState as S);\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param listener A callback to be invoked on every dispatch.\n   * @returns A function to remove this change listener.\n   */\n  function subscribe(listener: () => void) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage5(4) : `Expected the listener to be a function. Instead, received: '${kindOf(listener)}'`);\n    }\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage6(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n    let isSubscribed = true;\n    ensureCanMutateNextListeners();\n    const listenerId = listenerIdCounter++;\n    nextListeners.set(listenerId, listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage7(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      nextListeners.delete(listenerId);\n      currentListeners = null;\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param action A plain object representing âwhat changedâ. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action: A) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage8(7) : `Actions must be plain objects. Instead, the actual type was: '${kindOf(action)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);\n    }\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage9(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n    if (typeof action.type !== 'string') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage10(17) : `Action \"type\" property must be a string. Instead, the actual type was: '${kindOf(action.type)}'. Value was: '${action.type}' (stringified)`);\n    }\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage11(9) : 'Reducers may not dispatch actions.');\n    }\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n    const listeners = currentListeners = nextListeners;\n    listeners.forEach(listener => {\n      listener();\n    });\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param nextReducer The reducer for the store to use instead.\n   */\n  function replaceReducer(nextReducer: Reducer<S, A>): void {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage12(10) : `Expected the nextReducer to be a function. Instead, received: '${kindOf(nextReducer)}`);\n    }\n    currentReducer = ((nextReducer as unknown) as Reducer<S, A, PreloadedState>);\n\n    // This action has a similar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n    dispatch(({\n      type: ActionTypes.REPLACE\n    } as A));\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    const outerSubscribe = subscribe;\n    return {\n      /**\n       * The minimal observable subscription method.\n       * @param observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe(observer: unknown) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage13(11) : `Expected the observer to be an object. Instead, received: '${kindOf(observer)}'`);\n        }\n        function observeState() {\n          const observerAsObserver = (observer as Observer<S>);\n          if (observerAsObserver.next) {\n            observerAsObserver.next(getState());\n          }\n        }\n        observeState();\n        const unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe\n        };\n      },\n      [$$observable]() {\n        return this;\n      }\n    };\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch(({\n    type: ActionTypes.INIT\n  } as A));\n  const store = (({\n    dispatch: (dispatch as Dispatch<A>),\n    subscribe,\n    getState,\n    replaceReducer,\n    [$$observable]: observable\n  } as unknown) as Store<S, A, StateExt> & Ext);\n  return store;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nexport function legacy_createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}>(reducer: Reducer<S, A>, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext;\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nexport function legacy_createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}, PreloadedState = S>(reducer: Reducer<S, A, PreloadedState>, preloadedState?: PreloadedState | undefined, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext;\nexport function legacy_createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}, PreloadedState = S>(reducer: Reducer<S, A>, preloadedState?: PreloadedState | StoreEnhancer<Ext, StateExt> | undefined, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext {\n  return createStore(reducer, (preloadedState as any), enhancer);\n}", "/**\n * Prints a warning in the console if it exists.\n *\n * @param message The warning message.\n */\nexport default function warning(message: string): void {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n}", "import { formatProdErrorMessage as _formatProdErrorMessage3 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage2 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage } from \"src/utils/formatProdErrorMessage\";\nimport { Action } from './types/actions';\nimport { ActionFromReducersMapObject, PreloadedStateShapeFromReducersMapObject, Reducer, StateFromReducersMapObject } from './types/reducers';\nimport ActionTypes from './utils/actionTypes';\nimport isPlainObject from './utils/isPlainObject';\nimport warning from './utils/warning';\nimport { kindOf } from './utils/kindOf';\nfunction getUnexpectedStateShapeWarningMessage(inputState: object, reducers: {\n  [key: string]: Reducer<any, any, any>;\n}, action: Action, unexpectedKeyCache: {\n  [key: string]: true;\n}) {\n  const reducerKeys = Object.keys(reducers);\n  const argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n  if (!isPlainObject(inputState)) {\n    return `The ${argumentName} has unexpected type of \"${kindOf(inputState)}\". Expected argument to be an object with the following ` + `keys: \"${reducerKeys.join('\", \"')}\"`;\n  }\n  const unexpectedKeys = Object.keys(inputState).filter(key => !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key]);\n  unexpectedKeys.forEach(key => {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n  if (unexpectedKeys.length > 0) {\n    return `Unexpected ${unexpectedKeys.length > 1 ? 'keys' : 'key'} ` + `\"${unexpectedKeys.join('\", \"')}\" found in ${argumentName}. ` + `Expected to find one of the known reducer keys instead: ` + `\"${reducerKeys.join('\", \"')}\". Unexpected keys will be ignored.`;\n  }\n}\nfunction assertReducerShape(reducers: {\n  [key: string]: Reducer<any, any, any>;\n}) {\n  Object.keys(reducers).forEach(key => {\n    const reducer = reducers[key];\n    const initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage(12) : `The slice reducer for key \"${key}\" returned undefined during initialization. ` + `If the state passed to the reducer is undefined, you must ` + `explicitly return the initial state. The initial state may ` + `not be undefined. If you don't want to set a value for this reducer, ` + `you can use null instead of undefined.`);\n    }\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage2(13) : `The slice reducer for key \"${key}\" returned undefined when probed with a random type. ` + `Don't try to handle '${ActionTypes.INIT}' or other actions in \"redux/*\" ` + `namespace. They are considered private. Instead, you must return the ` + `current state for any unknown actions, unless it is undefined, ` + `in which case you must return the initial state, regardless of the ` + `action type. The initial state may not be undefined, but can be null.`);\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @template S Combined state object type.\n *\n * @param reducers An object whose values correspond to different reducer\n *   functions that need to be combined into one. One handy way to obtain it\n *   is to use `import * as reducers` syntax. The reducers may never\n *   return undefined for any action. Instead, they should return their\n *   initial state if the state passed to them was undefined, and the current\n *   state for any unrecognized action.\n *\n * @returns A reducer function that invokes every reducer inside the passed\n *   object, and builds a state object with the same shape.\n */\nexport default function combineReducers<M>(reducers: M): M[keyof M] extends Reducer<any, any, any> | undefined ? Reducer<StateFromReducersMapObject<M>, ActionFromReducersMapObject<M>, Partial<PreloadedStateShapeFromReducersMapObject<M>>> : never;\nexport default function combineReducers(reducers: {\n  [key: string]: Reducer<any, any, any>;\n}) {\n  const reducerKeys = Object.keys(reducers);\n  const finalReducers: {\n    [key: string]: Reducer<any, any, any>;\n  } = {};\n  for (let i = 0; i < reducerKeys.length; i++) {\n    const key = reducerKeys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(`No reducer provided for key \"${key}\"`);\n      }\n    }\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  const finalReducerKeys = Object.keys(finalReducers);\n\n  // This is used to make sure we don't warn about the same\n  // keys multiple times.\n  let unexpectedKeyCache: {\n    [key: string]: true;\n  };\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n  let shapeAssertionError: unknown;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n  return function combination(state: StateFromReducersMapObject<typeof reducers> = {}, action: Action) {\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      const warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n    let hasChanged = false;\n    const nextState: StateFromReducersMapObject<typeof reducers> = {};\n    for (let i = 0; i < finalReducerKeys.length; i++) {\n      const key = finalReducerKeys[i];\n      const reducer = finalReducers[key];\n      const previousStateForKey = state[key];\n      const nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        const actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage3(14) : `When called with an action of type ${actionType ? `\"${String(actionType)}\"` : '(unknown type)'}, the slice reducer for key \"${key}\" returned undefined. ` + `To ignore an action, you must explicitly return the previous state. ` + `If you want this reducer to hold no value, you can return null instead of undefined.`);\n      }\n      nextState[key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}", "import { formatProdErrorMessage as _formatProdErrorMessage } from \"src/utils/formatProdErrorMessage\";\nimport { Dispatch } from './types/store';\nimport { ActionCreator, ActionCreatorsMapObject, Action } from './types/actions';\nimport { kindOf } from './utils/kindOf';\nfunction bindActionCreator<A extends Action>(actionCreator: ActionCreator<A>, dispatch: Dispatch<A>) {\n  return function (this: any, ...args: any[]) {\n    return dispatch(actionCreator.apply(this, args));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use `import * as`\n * syntax. You may also pass a single function.\n *\n * @param dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nexport default function bindActionCreators<A, C extends ActionCreator<A>>(actionCreator: C, dispatch: Dispatch): C;\nexport default function bindActionCreators<A extends ActionCreator<any>, B extends ActionCreator<any>>(actionCreator: A, dispatch: Dispatch): B;\nexport default function bindActionCreators<A, M extends ActionCreatorsMapObject<A>>(actionCreators: M, dispatch: Dispatch): M;\nexport default function bindActionCreators<M extends ActionCreatorsMapObject, N extends ActionCreatorsMapObject>(actionCreators: M, dispatch: Dispatch): N;\nexport default function bindActionCreators(actionCreators: ActionCreator<any> | ActionCreatorsMapObject, dispatch: Dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage(16) : `bindActionCreators expected an object or a function, but instead received: '${kindOf(actionCreators)}'. ` + `Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?`);\n  }\n  const boundActionCreators: ActionCreatorsMapObject = {};\n  for (const key in actionCreators) {\n    const actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}", "type Func<T extends any[], R> = (...a: T) => R;\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for the\n * resulting composite function.\n *\n * @param funcs The functions to compose.\n * @returns A function obtained by composing the argument functions from right\n *   to left. For example, `compose(f, g, h)` is identical to doing\n *   `(...args) => f(g(h(...args)))`.\n */\nexport default function compose(): <R>(a: R) => R;\nexport default function compose<F extends Function>(f: F): F;\n\n/* two functions */\nexport default function compose<A, T extends any[], R>(f1: (a: A) => R, f2: Func<T, A>): Func<T, R>;\n\n/* three functions */\nexport default function compose<A, B, T extends any[], R>(f1: (b: B) => R, f2: (a: A) => B, f3: Func<T, A>): Func<T, R>;\n\n/* four functions */\nexport default function compose<A, B, C, T extends any[], R>(f1: (c: C) => R, f2: (b: B) => C, f3: (a: A) => B, f4: Func<T, A>): Func<T, R>;\n\n/* rest */\nexport default function compose<R>(f1: (a: any) => R, ...funcs: Function[]): (...args: any[]) => R;\nexport default function compose<R>(...funcs: Function[]): (...args: any[]) => R;\nexport default function compose(...funcs: Function[]) {\n  if (funcs.length === 0) {\n    // infer the argument type so it is usable in inference down the line\n    return <T,>(arg: T) => arg;\n  }\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n  return funcs.reduce((a, b) => (...args: any) => a(b(...args)));\n}", "import { formatProdErrorMessage as _formatProdErrorMessage } from \"src/utils/formatProdErrorMessage\";\nimport compose from './compose';\nimport { Middleware, MiddlewareAPI } from './types/middleware';\nimport { StoreEnhancer, Dispatch } from './types/store';\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param middlewares The middleware chain to be applied.\n * @returns A store enhancer applying the middleware.\n *\n * @template Ext Dispatch signature added by a middleware.\n * @template S The type of the state supported by a middleware.\n */\nexport default function applyMiddleware(): StoreEnhancer;\nexport default function applyMiddleware<Ext1, S>(middleware1: Middleware<Ext1, S, any>): StoreEnhancer<{\n  dispatch: Ext1;\n}>;\nexport default function applyMiddleware<Ext1, Ext2, S>(middleware1: Middleware<Ext1, S, any>, middleware2: Middleware<Ext2, S, any>): StoreEnhancer<{\n  dispatch: Ext1 & Ext2;\n}>;\nexport default function applyMiddleware<Ext1, Ext2, Ext3, S>(middleware1: Middleware<Ext1, S, any>, middleware2: Middleware<Ext2, S, any>, middleware3: Middleware<Ext3, S, any>): StoreEnhancer<{\n  dispatch: Ext1 & Ext2 & Ext3;\n}>;\nexport default function applyMiddleware<Ext1, Ext2, Ext3, Ext4, S>(middleware1: Middleware<Ext1, S, any>, middleware2: Middleware<Ext2, S, any>, middleware3: Middleware<Ext3, S, any>, middleware4: Middleware<Ext4, S, any>): StoreEnhancer<{\n  dispatch: Ext1 & Ext2 & Ext3 & Ext4;\n}>;\nexport default function applyMiddleware<Ext1, Ext2, Ext3, Ext4, Ext5, S>(middleware1: Middleware<Ext1, S, any>, middleware2: Middleware<Ext2, S, any>, middleware3: Middleware<Ext3, S, any>, middleware4: Middleware<Ext4, S, any>, middleware5: Middleware<Ext5, S, any>): StoreEnhancer<{\n  dispatch: Ext1 & Ext2 & Ext3 & Ext4 & Ext5;\n}>;\nexport default function applyMiddleware<Ext, S = any>(...middlewares: Middleware<any, S, any>[]): StoreEnhancer<{\n  dispatch: Ext;\n}>;\nexport default function applyMiddleware(...middlewares: Middleware[]): StoreEnhancer<any> {\n  return createStore => (reducer, preloadedState) => {\n    const store = createStore(reducer, preloadedState);\n    let dispatch: Dispatch = () => {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n    };\n    const middlewareAPI: MiddlewareAPI = {\n      getState: store.getState,\n      dispatch: (action, ...args) => dispatch(action, ...args)\n    };\n    const chain = middlewares.map(middleware => middleware(middlewareAPI));\n    dispatch = compose<typeof dispatch>(...chain)(store.dispatch);\n    return {\n      ...store,\n      dispatch\n    };\n  };\n}", "import { Action } from '../types/actions';\nimport isPlainObject from './isPlainObject';\nexport default function isAction(action: unknown): action is Action<string> {\n  return isPlainObject(action) && 'type' in action && typeof (action as Record<'type', unknown>).type === 'string';\n}", "/**\n * External dependencies\n */\nimport { createStore, applyMiddleware } from 'redux';\nimport EquivalentKeyMap from 'equivalent-key-map';\n\n/**\n * WordPress dependencies\n */\nimport createReduxRoutineMiddleware from '@wordpress/redux-routine';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { combineReducers } from './combine-reducers';\nimport { builtinControls } from '../controls';\nimport { lock } from '../lock-unlock';\nimport promise from '../promise-middleware';\nimport createResolversCacheMiddleware from '../resolvers-cache-middleware';\nimport createThunkMiddleware from './thunk-middleware';\nimport metadataReducer from './metadata/reducer';\nimport * as metadataSelectors from './metadata/selectors';\nimport * as metadataActions from './metadata/actions';\n\nexport { combineReducers };\n\n/** @typedef {import('../types').DataRegistry} DataRegistry */\n/** @typedef {import('../types').ListenerFunction} ListenerFunction */\n/**\n * @typedef {import('../types').StoreDescriptor<C>} StoreDescriptor\n * @template {import('../types').AnyConfig} C\n */\n/**\n * @typedef {import('../types').ReduxStoreConfig<State,Actions,Selectors>} ReduxStoreConfig\n * @template State\n * @template {Record<string,import('../types').ActionCreator>} Actions\n * @template Selectors\n */\n\nconst trimUndefinedValues = ( array ) => {\n\tconst result = [ ...array ];\n\tfor ( let i = result.length - 1; i >= 0; i-- ) {\n\t\tif ( result[ i ] === undefined ) {\n\t\t\tresult.splice( i, 1 );\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Creates a new object with the same keys, but with `callback()` called as\n * a transformer function on each of the values.\n *\n * @param {Object}   obj      The object to transform.\n * @param {Function} callback The function to transform each object value.\n * @return {Array} Transformed object.\n */\nconst mapValues = ( obj, callback ) =>\n\tObject.fromEntries(\n\t\tObject.entries( obj ?? {} ).map( ( [ key, value ] ) => [\n\t\t\tkey,\n\t\t\tcallback( value, key ),\n\t\t] )\n\t);\n\n// Convert  non serializable types to plain objects\nconst devToolsReplacer = ( key, state ) => {\n\tif ( state instanceof Map ) {\n\t\treturn Object.fromEntries( state );\n\t}\n\n\tif ( state instanceof window.HTMLElement ) {\n\t\treturn null;\n\t}\n\n\treturn state;\n};\n\n/**\n * Create a cache to track whether resolvers started running or not.\n *\n * @return {Object} Resolvers Cache.\n */\nfunction createResolversCache() {\n\tconst cache = {};\n\treturn {\n\t\tisRunning( selectorName, args ) {\n\t\t\treturn (\n\t\t\t\tcache[ selectorName ] &&\n\t\t\t\tcache[ selectorName ].get( trimUndefinedValues( args ) )\n\t\t\t);\n\t\t},\n\n\t\tclear( selectorName, args ) {\n\t\t\tif ( cache[ selectorName ] ) {\n\t\t\t\tcache[ selectorName ].delete( trimUndefinedValues( args ) );\n\t\t\t}\n\t\t},\n\n\t\tmarkAsRunning( selectorName, args ) {\n\t\t\tif ( ! cache[ selectorName ] ) {\n\t\t\t\tcache[ selectorName ] = new EquivalentKeyMap();\n\t\t\t}\n\n\t\t\tcache[ selectorName ].set( trimUndefinedValues( args ), true );\n\t\t},\n\t};\n}\n\nfunction createBindingCache( getItem, bindItem ) {\n\tconst cache = new WeakMap();\n\n\treturn {\n\t\tget( itemName ) {\n\t\t\tconst item = getItem( itemName );\n\t\t\tif ( ! item ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet boundItem = cache.get( item );\n\t\t\tif ( ! boundItem ) {\n\t\t\t\tboundItem = bindItem( item, itemName );\n\t\t\t\tcache.set( item, boundItem );\n\t\t\t}\n\t\t\treturn boundItem;\n\t\t},\n\t};\n}\n\nfunction createPrivateProxy( publicItems, privateItems ) {\n\treturn new Proxy( publicItems, {\n\t\tget: ( target, itemName ) =>\n\t\t\tprivateItems.get( itemName ) || Reflect.get( target, itemName ),\n\t} );\n}\n\n/**\n * Creates a data store descriptor for the provided Redux store configuration containing\n * properties describing reducer, actions, selectors, controls and resolvers.\n *\n * @example\n * ```js\n * import { createReduxStore } from '@wordpress/data';\n *\n * const store = createReduxStore( 'demo', {\n *     reducer: ( state = 'OK' ) => state,\n *     selectors: {\n *         getValue: ( state ) => state,\n *     },\n * } );\n * ```\n *\n * @template State\n * @template {Record<string,import('../types').ActionCreator>} Actions\n * @template Selectors\n * @param {string}                                    key     Unique namespace identifier.\n * @param {ReduxStoreConfig<State,Actions,Selectors>} options Registered store options, with properties\n *                                                            describing reducer, actions, selectors,\n *                                                            and resolvers.\n *\n * @return   {StoreDescriptor<ReduxStoreConfig<State,Actions,Selectors>>} Store Object.\n */\nexport default function createReduxStore( key, options ) {\n\tconst privateActions = {};\n\tconst privateSelectors = {};\n\tconst privateRegistrationFunctions = {\n\t\tprivateActions,\n\t\tregisterPrivateActions: ( actions ) => {\n\t\t\tObject.assign( privateActions, actions );\n\t\t},\n\t\tprivateSelectors,\n\t\tregisterPrivateSelectors: ( selectors ) => {\n\t\t\tObject.assign( privateSelectors, selectors );\n\t\t},\n\t};\n\tconst storeDescriptor = {\n\t\tname: key,\n\t\tinstantiate: ( registry ) => {\n\t\t\t/**\n\t\t\t * Stores listener functions registered with `subscribe()`.\n\t\t\t *\n\t\t\t * When functions register to listen to store changes with\n\t\t\t * `subscribe()` they get added here. Although Redux offers\n\t\t\t * its own `subscribe()` function directly, by wrapping the\n\t\t\t * subscription in this store instance it's possible to\n\t\t\t * optimize checking if the state has changed before calling\n\t\t\t * each listener.\n\t\t\t *\n\t\t\t * @type {Set<ListenerFunction>}\n\t\t\t */\n\t\t\tconst listeners = new Set();\n\t\t\tconst reducer = options.reducer;\n\n\t\t\t// Object that every thunk function receives as the first argument. It contains the\n\t\t\t// `registry`, `dispatch`, `select` and `resolveSelect` fields. Some of them are\n\t\t\t// constructed as getters to avoid circular dependencies.\n\t\t\tconst thunkArgs = {\n\t\t\t\tregistry,\n\t\t\t\tget dispatch() {\n\t\t\t\t\treturn thunkDispatch;\n\t\t\t\t},\n\t\t\t\tget select() {\n\t\t\t\t\treturn thunkSelect;\n\t\t\t\t},\n\t\t\t\tget resolveSelect() {\n\t\t\t\t\treturn resolveSelectors;\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst store = instantiateReduxStore(\n\t\t\t\tkey,\n\t\t\t\toptions,\n\t\t\t\tregistry,\n\t\t\t\tthunkArgs\n\t\t\t);\n\n\t\t\t// Expose the private registration functions on the store\n\t\t\t// so they can be copied to a sub registry in registry.js.\n\t\t\tlock( store, privateRegistrationFunctions );\n\t\t\tconst resolversCache = createResolversCache();\n\n\t\t\t// Binds an action creator (`action`) to the `store`, making it a callable function.\n\t\t\t// These are the functions that are returned by `useDispatch`, for example.\n\t\t\t// It always returns a `Promise`, although actions are not always async. That's an\n\t\t\t// unfortunate backward compatibility measure.\n\t\t\tfunction bindAction( action ) {\n\t\t\t\treturn ( ...args ) =>\n\t\t\t\t\tPromise.resolve( store.dispatch( action( ...args ) ) );\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Object with all public actions, both metadata and store actions.\n\t\t\t */\n\t\t\tconst actions = {\n\t\t\t\t...mapValues( metadataActions, bindAction ),\n\t\t\t\t...mapValues( options.actions, bindAction ),\n\t\t\t};\n\n\t\t\t// Object with both public and private actions. Private actions are accessed through a proxy,\n\t\t\t// which looks them up in real time on the `privateActions` object. That's because private\n\t\t\t// actions can be registered at any time with `registerPrivateActions`. Also once a private\n\t\t\t// action creator is bound to the store, it is cached to give it a stable identity.\n\t\t\tconst allActions = createPrivateProxy(\n\t\t\t\tactions,\n\t\t\t\tcreateBindingCache(\n\t\t\t\t\t( name ) => privateActions[ name ],\n\t\t\t\t\tbindAction\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// An object that implements the `dispatch` object that is passed to thunk functions.\n\t\t\t// It is callable (`dispatch( action )`) and also has methods (`dispatch.foo()`) that\n\t\t\t// correspond to bound registered actions, both public and private. Implemented with the proxy\n\t\t\t// `get` method, delegating to `allActions`.\n\t\t\tconst thunkDispatch = new Proxy(\n\t\t\t\t( action ) => store.dispatch( action ),\n\t\t\t\t{ get: ( target, name ) => allActions[ name ] }\n\t\t\t);\n\n\t\t\t// To the public `actions` object, add the \"locked\" `allActions` object. When used,\n\t\t\t// `unlock( actions )` will return `allActions`, implementing a way how to get at the private actions.\n\t\t\tlock( actions, allActions );\n\n\t\t\t// If we have selector resolvers, convert them to a normalized form.\n\t\t\tconst resolvers = options.resolvers\n\t\t\t\t? mapValues( options.resolvers, mapResolver )\n\t\t\t\t: {};\n\n\t\t\t// Bind a selector to the store. Call the selector with the current state, correct registry,\n\t\t\t// and if there is a resolver, attach the resolver logic to the selector.\n\t\t\tfunction bindSelector( selector, selectorName ) {\n\t\t\t\tif ( selector.isRegistrySelector ) {\n\t\t\t\t\tselector.registry = registry;\n\t\t\t\t}\n\t\t\t\tconst boundSelector = ( ...args ) => {\n\t\t\t\t\targs = normalize( selector, args );\n\t\t\t\t\tconst state = store.__unstableOriginalGetState();\n\t\t\t\t\t// Before calling the selector, switch to the correct registry.\n\t\t\t\t\tif ( selector.isRegistrySelector ) {\n\t\t\t\t\t\tselector.registry = registry;\n\t\t\t\t\t}\n\t\t\t\t\treturn selector( state.root, ...args );\n\t\t\t\t};\n\n\t\t\t\t// Expose normalization method on the bound selector\n\t\t\t\t// in order that it can be called when fulfilling\n\t\t\t\t// the resolver.\n\t\t\t\tboundSelector.__unstableNormalizeArgs =\n\t\t\t\t\tselector.__unstableNormalizeArgs;\n\n\t\t\t\tconst resolver = resolvers[ selectorName ];\n\n\t\t\t\tif ( ! resolver ) {\n\t\t\t\t\tboundSelector.hasResolver = false;\n\t\t\t\t\treturn boundSelector;\n\t\t\t\t}\n\n\t\t\t\treturn mapSelectorWithResolver(\n\t\t\t\t\tboundSelector,\n\t\t\t\t\tselectorName,\n\t\t\t\t\tresolver,\n\t\t\t\t\tstore,\n\t\t\t\t\tresolversCache,\n\t\t\t\t\tboundMetadataSelectors\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Metadata selectors are bound differently: different state (`state.metadata`), no resolvers,\n\t\t\t// normalization depending on the target selector.\n\t\t\tfunction bindMetadataSelector( metaDataSelector ) {\n\t\t\t\tconst boundSelector = (\n\t\t\t\t\tselectorName,\n\t\t\t\t\tselectorArgs,\n\t\t\t\t\t...args\n\t\t\t\t) => {\n\t\t\t\t\t// Normalize the arguments passed to the target selector.\n\t\t\t\t\tif ( selectorName ) {\n\t\t\t\t\t\tconst targetSelector =\n\t\t\t\t\t\t\toptions.selectors?.[ selectorName ];\n\t\t\t\t\t\tif ( targetSelector ) {\n\t\t\t\t\t\t\tselectorArgs = normalize(\n\t\t\t\t\t\t\t\ttargetSelector,\n\t\t\t\t\t\t\t\tselectorArgs\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst state = store.__unstableOriginalGetState();\n\n\t\t\t\t\treturn metaDataSelector(\n\t\t\t\t\t\tstate.metadata,\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\tselectorArgs,\n\t\t\t\t\t\t...args\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tboundSelector.hasResolver = false;\n\t\t\t\treturn boundSelector;\n\t\t\t}\n\n\t\t\t// Perform binding of both metadata and store selectors and combine them in one\n\t\t\t// `selectors` object. These are all public selectors of the store.\n\t\t\tconst boundMetadataSelectors = mapValues(\n\t\t\t\tmetadataSelectors,\n\t\t\t\tbindMetadataSelector\n\t\t\t);\n\n\t\t\tconst boundSelectors = mapValues( options.selectors, bindSelector );\n\n\t\t\tconst selectors = {\n\t\t\t\t...boundMetadataSelectors,\n\t\t\t\t...boundSelectors,\n\t\t\t};\n\n\t\t\t// Cache of bould private selectors. They are bound only when first accessed, because\n\t\t\t// new private selectors can be registered at any time (with `registerPrivateSelectors`).\n\t\t\t// Once bound, they are cached to give them a stable identity.\n\t\t\tconst boundPrivateSelectors = createBindingCache(\n\t\t\t\t( name ) => privateSelectors[ name ],\n\t\t\t\tbindSelector\n\t\t\t);\n\n\t\t\tconst allSelectors = createPrivateProxy(\n\t\t\t\tselectors,\n\t\t\t\tboundPrivateSelectors\n\t\t\t);\n\n\t\t\t// Pre-bind the private selectors that have been registered by the time of\n\t\t\t// instantiation, so that registry selectors are bound to the registry.\n\t\t\tfor ( const selectorName of Object.keys( privateSelectors ) ) {\n\t\t\t\tboundPrivateSelectors.get( selectorName );\n\t\t\t}\n\n\t\t\t// An object that implements the `select` object that is passed to thunk functions.\n\t\t\t// It is callable (`select( selector )`) and also has methods (`select.foo()`) that\n\t\t\t// correspond to bound registered selectors, both public and private. Implemented with the proxy\n\t\t\t// `get` method, delegating to `allSelectors`.\n\t\t\tconst thunkSelect = new Proxy(\n\t\t\t\t( selector ) => selector( store.__unstableOriginalGetState() ),\n\t\t\t\t{ get: ( target, name ) => allSelectors[ name ] }\n\t\t\t);\n\n\t\t\t// To the public `selectors` object, add the \"locked\" `allSelectors` object. When used,\n\t\t\t// `unlock( selectors )` will return `allSelectors`, implementing a way how to get at the private selectors.\n\t\t\tlock( selectors, allSelectors );\n\n\t\t\t// For each selector, create a function that calls the selector, waits for resolution and returns\n\t\t\t// a promise that resolves when the resolution is finished.\n\t\t\tconst bindResolveSelector = mapResolveSelector(\n\t\t\t\tstore,\n\t\t\t\tboundMetadataSelectors\n\t\t\t);\n\n\t\t\t// Now apply this function to all bound selectors, public and private. We are excluding\n\t\t\t// metadata selectors because they don't have resolvers.\n\t\t\tconst resolveSelectors = mapValues(\n\t\t\t\tboundSelectors,\n\t\t\t\tbindResolveSelector\n\t\t\t);\n\n\t\t\tconst allResolveSelectors = createPrivateProxy(\n\t\t\t\tresolveSelectors,\n\t\t\t\tcreateBindingCache(\n\t\t\t\t\t( name ) => boundPrivateSelectors.get( name ),\n\t\t\t\t\tbindResolveSelector\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// Lock the selectors so that `unlock( resolveSelectors )` returns `allResolveSelectors`.\n\t\t\tlock( resolveSelectors, allResolveSelectors );\n\n\t\t\t// Now, in a way very similar to `bindResolveSelector`, we create a function that maps\n\t\t\t// selectors to functions that throw a suspense promise if not yet resolved.\n\t\t\tconst bindSuspendSelector = mapSuspendSelector(\n\t\t\t\tstore,\n\t\t\t\tboundMetadataSelectors\n\t\t\t);\n\n\t\t\tconst suspendSelectors = {\n\t\t\t\t...boundMetadataSelectors, // no special suspense behavior\n\t\t\t\t...mapValues( boundSelectors, bindSuspendSelector ),\n\t\t\t};\n\n\t\t\tconst allSuspendSelectors = createPrivateProxy(\n\t\t\t\tsuspendSelectors,\n\t\t\t\tcreateBindingCache(\n\t\t\t\t\t( name ) => boundPrivateSelectors.get( name ),\n\t\t\t\t\tbindSuspendSelector\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// Lock the selectors so that `unlock( suspendSelectors )` returns 'allSuspendSelectors`.\n\t\t\tlock( suspendSelectors, allSuspendSelectors );\n\n\t\t\tconst getSelectors = () => selectors;\n\t\t\tconst getActions = () => actions;\n\t\t\tconst getResolveSelectors = () => resolveSelectors;\n\t\t\tconst getSuspendSelectors = () => suspendSelectors;\n\n\t\t\t// We have some modules monkey-patching the store object\n\t\t\t// It's wrong to do so but until we refactor all of our effects to controls\n\t\t\t// We need to keep the same \"store\" instance here.\n\t\t\tstore.__unstableOriginalGetState = store.getState;\n\t\t\tstore.getState = () => store.__unstableOriginalGetState().root;\n\n\t\t\t// Customize subscribe behavior to call listeners only on effective change,\n\t\t\t// not on every dispatch.\n\t\t\tconst subscribe =\n\t\t\t\tstore &&\n\t\t\t\t( ( listener ) => {\n\t\t\t\t\tlisteners.add( listener );\n\n\t\t\t\t\treturn () => listeners.delete( listener );\n\t\t\t\t} );\n\n\t\t\tlet lastState = store.__unstableOriginalGetState();\n\t\t\tstore.subscribe( () => {\n\t\t\t\tconst state = store.__unstableOriginalGetState();\n\t\t\t\tconst hasChanged = state !== lastState;\n\t\t\t\tlastState = state;\n\n\t\t\t\tif ( hasChanged ) {\n\t\t\t\t\tfor ( const listener of listeners ) {\n\t\t\t\t\t\tlistener();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// This can be simplified to just { subscribe, getSelectors, getActions }\n\t\t\t// Once we remove the use function.\n\t\t\treturn {\n\t\t\t\treducer,\n\t\t\t\tstore,\n\t\t\t\tactions,\n\t\t\t\tselectors,\n\t\t\t\tresolvers,\n\t\t\t\tgetSelectors,\n\t\t\t\tgetResolveSelectors,\n\t\t\t\tgetSuspendSelectors,\n\t\t\t\tgetActions,\n\t\t\t\tsubscribe,\n\t\t\t};\n\t\t},\n\t};\n\n\t// Expose the private registration functions on the store\n\t// descriptor. That's a natural choice since that's where the\n\t// public actions and selectors are stored.\n\tlock( storeDescriptor, privateRegistrationFunctions );\n\n\treturn storeDescriptor;\n}\n\n/**\n * Creates a redux store for a namespace.\n *\n * @param {string}       key       Unique namespace identifier.\n * @param {Object}       options   Registered store options, with properties\n *                                 describing reducer, actions, selectors,\n *                                 and resolvers.\n * @param {DataRegistry} registry  Registry reference.\n * @param {Object}       thunkArgs Argument object for the thunk middleware.\n * @return {Object} Newly created redux store.\n */\nfunction instantiateReduxStore( key, options, registry, thunkArgs ) {\n\tconst controls = {\n\t\t...options.controls,\n\t\t...builtinControls,\n\t};\n\n\tconst normalizedControls = mapValues( controls, ( control ) =>\n\t\tcontrol.isRegistryControl ? control( registry ) : control\n\t);\n\n\tconst middlewares = [\n\t\tcreateResolversCacheMiddleware( registry, key ),\n\t\tpromise,\n\t\tcreateReduxRoutineMiddleware( normalizedControls ),\n\t\tcreateThunkMiddleware( thunkArgs ),\n\t];\n\n\tconst enhancers = [ applyMiddleware( ...middlewares ) ];\n\tif (\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__\n\t) {\n\t\tenhancers.push(\n\t\t\twindow.__REDUX_DEVTOOLS_EXTENSION__( {\n\t\t\t\tname: key,\n\t\t\t\tinstanceId: key,\n\t\t\t\tserialize: {\n\t\t\t\t\treplacer: devToolsReplacer,\n\t\t\t\t},\n\t\t\t} )\n\t\t);\n\t}\n\n\tconst { reducer, initialState } = options;\n\tconst enhancedReducer = combineReducers( {\n\t\tmetadata: metadataReducer,\n\t\troot: reducer,\n\t} );\n\n\treturn createStore(\n\t\tenhancedReducer,\n\t\t{ root: initialState },\n\t\tcompose( enhancers )\n\t);\n}\n\n/**\n * Maps selectors to functions that return a resolution promise for them.\n *\n * @param {Object} store                  The redux store the selectors are bound to.\n * @param {Object} boundMetadataSelectors The bound metadata selectors.\n *\n * @return {Function} Function that maps selectors to resolvers.\n */\nfunction mapResolveSelector( store, boundMetadataSelectors ) {\n\treturn ( selector, selectorName ) => {\n\t\t// If the selector doesn't have a resolver, just convert the return value\n\t\t// (including exceptions) to a Promise, no additional extra behavior is needed.\n\t\tif ( ! selector.hasResolver ) {\n\t\t\treturn async ( ...args ) => selector.apply( null, args );\n\t\t}\n\n\t\treturn ( ...args ) =>\n\t\t\tnew Promise( ( resolve, reject ) => {\n\t\t\t\tconst hasFinished = () => {\n\t\t\t\t\treturn boundMetadataSelectors.hasFinishedResolution(\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\targs\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tconst finalize = ( result ) => {\n\t\t\t\t\tconst hasFailed =\n\t\t\t\t\t\tboundMetadataSelectors.hasResolutionFailed(\n\t\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\t\targs\n\t\t\t\t\t\t);\n\t\t\t\t\tif ( hasFailed ) {\n\t\t\t\t\t\tconst error = boundMetadataSelectors.getResolutionError(\n\t\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\t\targs\n\t\t\t\t\t\t);\n\t\t\t\t\t\treject( error );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve( result );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst getResult = () => selector.apply( null, args );\n\n\t\t\t\t// Trigger the selector (to trigger the resolver)\n\t\t\t\tconst result = getResult();\n\t\t\t\tif ( hasFinished() ) {\n\t\t\t\t\treturn finalize( result );\n\t\t\t\t}\n\n\t\t\t\tconst unsubscribe = store.subscribe( () => {\n\t\t\t\t\tif ( hasFinished() ) {\n\t\t\t\t\t\tunsubscribe();\n\t\t\t\t\t\tfinalize( getResult() );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t};\n}\n\n/**\n * Maps selectors to functions that throw a suspense promise if not yet resolved.\n *\n * @param {Object} store                  The redux store the selectors select from.\n * @param {Object} boundMetadataSelectors The bound metadata selectors.\n *\n * @return {Function} Function that maps selectors to their suspending versions.\n */\nfunction mapSuspendSelector( store, boundMetadataSelectors ) {\n\treturn ( selector, selectorName ) => {\n\t\t// Selector without a resolver doesn't have any extra suspense behavior.\n\t\tif ( ! selector.hasResolver ) {\n\t\t\treturn selector;\n\t\t}\n\n\t\treturn ( ...args ) => {\n\t\t\tconst result = selector.apply( null, args );\n\n\t\t\tif (\n\t\t\t\tboundMetadataSelectors.hasFinishedResolution(\n\t\t\t\t\tselectorName,\n\t\t\t\t\targs\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tif (\n\t\t\t\t\tboundMetadataSelectors.hasResolutionFailed(\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\targs\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tthrow boundMetadataSelectors.getResolutionError(\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\targs\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tthrow new Promise( ( resolve ) => {\n\t\t\t\tconst unsubscribe = store.subscribe( () => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tboundMetadataSelectors.hasFinishedResolution(\n\t\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\t\targs\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t\tunsubscribe();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t};\n\t};\n}\n\n/**\n * Convert a resolver to a normalized form, an object with `fulfill` method and\n * optional methods like `isFulfilled`.\n *\n * @param {Function} resolver Resolver to convert\n */\nfunction mapResolver( resolver ) {\n\tif ( resolver.fulfill ) {\n\t\treturn resolver;\n\t}\n\n\treturn {\n\t\t...resolver, // Copy the enumerable properties of the resolver function.\n\t\tfulfill: resolver, // Add the fulfill method.\n\t};\n}\n\n/**\n * Returns a selector with a matched resolver.\n * Resolvers are side effects invoked once per argument set of a given selector call,\n * used in ensuring that the data needs for the selector are satisfied.\n *\n * @param {Object} selector               The selector function to be bound.\n * @param {string} selectorName           The selector name.\n * @param {Object} resolver               Resolver to call.\n * @param {Object} store                  The redux store to which the resolvers should be mapped.\n * @param {Object} resolversCache         Resolvers Cache.\n * @param {Object} boundMetadataSelectors The bound metadata selectors.\n */\nfunction mapSelectorWithResolver(\n\tselector,\n\tselectorName,\n\tresolver,\n\tstore,\n\tresolversCache,\n\tboundMetadataSelectors\n) {\n\tfunction fulfillSelector( args ) {\n\t\tconst state = store.getState();\n\n\t\tif (\n\t\t\tresolversCache.isRunning( selectorName, args ) ||\n\t\t\t( typeof resolver.isFulfilled === 'function' &&\n\t\t\t\tresolver.isFulfilled( state, ...args ) )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tboundMetadataSelectors.hasStartedResolution( selectorName, args )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tresolversCache.markAsRunning( selectorName, args );\n\n\t\tsetTimeout( async () => {\n\t\t\tresolversCache.clear( selectorName, args );\n\t\t\tstore.dispatch(\n\t\t\t\tmetadataActions.startResolution( selectorName, args )\n\t\t\t);\n\t\t\ttry {\n\t\t\t\tconst action = resolver.fulfill( ...args );\n\t\t\t\tif ( action ) {\n\t\t\t\t\tawait store.dispatch( action );\n\t\t\t\t}\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tmetadataActions.finishResolution( selectorName, args )\n\t\t\t\t);\n\t\t\t} catch ( error ) {\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tmetadataActions.failResolution( selectorName, args, error )\n\t\t\t\t);\n\t\t\t}\n\t\t}, 0 );\n\t}\n\n\tconst selectorResolver = ( ...args ) => {\n\t\targs = normalize( selector, args );\n\t\tfulfillSelector( args );\n\t\treturn selector( ...args );\n\t};\n\tselectorResolver.hasResolver = true;\n\treturn selectorResolver;\n}\n\n/**\n * Applies selector's normalization function to the given arguments\n * if it exists.\n *\n * @param {Object} selector The selector potentially with a normalization method property.\n * @param {Array}  args     selector arguments to normalize.\n * @return {Array} Potentially normalized arguments.\n */\nfunction normalize( selector, args ) {\n\tif (\n\t\tselector.__unstableNormalizeArgs &&\n\t\ttypeof selector.__unstableNormalizeArgs === 'function' &&\n\t\targs?.length\n\t) {\n\t\treturn selector.__unstableNormalizeArgs( args );\n\t}\n\treturn args;\n}\n", "/**\n * Returns true if the given object is a generator, or false otherwise.\n *\n * @see https://www.ecma-international.org/ecma-262/6.0/#sec-generator-objects\n *\n * @param object Object to test.\n *\n * @return Whether object is a generator.\n */\nexport default function isGenerator( object: any ): object is Generator {\n\t// Check that iterator (next) and iterable (Symbol.iterator) interfaces are satisfied.\n\t// These checks seem to be compatible with several generator helpers as well as the native implementation.\n\treturn (\n\t\t!! object &&\n\t\ttypeof object[ Symbol.iterator ] === 'function' &&\n\t\ttypeof object.next === 'function'\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { Control } from 'rungen';\nimport { create } from 'rungen';\nimport isPromise from 'is-promise';\nimport type { Dispatch, AnyAction } from 'redux';\n\n/**\n * Internal dependencies\n */\nimport { isActionOfType, isAction } from './is-action';\n\n/**\n * Create a co-routine runtime.\n *\n * @param controls Object of control handlers.\n * @param dispatch Unhandled action dispatch.\n */\nexport default function createRuntime(\n\tcontrols: Record<\n\t\tstring,\n\t\t( value: any ) => Promise< boolean > | boolean\n\t> = {},\n\tdispatch: Dispatch\n) {\n\tconst rungenControls = Object.entries( controls ).map(\n\t\t( [ actionType, control ] ): Control =>\n\t\t\t( value, next, iterate, yieldNext, yieldError ) => {\n\t\t\t\tif ( ! isActionOfType( value, actionType ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst routine = control( value );\n\t\t\t\tif ( isPromise( routine ) ) {\n\t\t\t\t\t// Async control routine awaits resolution.\n\t\t\t\t\troutine.then( yieldNext, yieldError );\n\t\t\t\t} else {\n\t\t\t\t\tyieldNext( routine );\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t);\n\n\tconst unhandledActionControl = (\n\t\tvalue: AnyAction | unknown,\n\t\tnext: () => void\n\t) => {\n\t\tif ( ! isAction( value ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tdispatch( value );\n\t\tnext();\n\t\treturn true;\n\t};\n\trungenControls.push( unhandledActionControl );\n\n\tconst rungenRuntime = create( rungenControls );\n\n\treturn ( action: AnyAction | Generator ) =>\n\t\tnew Promise( ( resolve, reject ) =>\n\t\t\trungenRuntime(\n\t\t\t\taction,\n\t\t\t\t( result ) => {\n\t\t\t\t\tif ( isAction( result ) ) {\n\t\t\t\t\t\tdispatch( result );\n\t\t\t\t\t}\n\t\t\t\t\tresolve( result );\n\t\t\t\t},\n\t\t\t\treject\n\t\t\t)\n\t\t);\n}\n", "export default function isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n", "/**\n * External dependencies\n */\nimport { isPlainObject } from 'is-plain-object';\nimport type { Action } from 'redux';\n\n/**\n * Returns true if the given object quacks like an action.\n *\n * @param object Object to test\n *\n * @return Whether object is an action.\n */\nexport function isAction( object: unknown ): object is Action {\n\treturn isPlainObject( object ) && typeof object.type === 'string';\n}\n\n/**\n * Returns true if the given object quacks like an action and has a specific\n * action type\n *\n * @param object       Object to test\n * @param expectedType The expected type for the action.\n *\n * @return Whether object is an action and is of specific type.\n */\nexport function isActionOfType(\n\tobject: unknown,\n\texpectedType: string\n): object is Action {\n\treturn isAction( object ) && object.type === expectedType;\n}\n", "/**\n * External dependencies\n */\nimport type { Middleware, AnyAction } from 'redux';\n\n/**\n * Internal dependencies\n */\nimport isGenerator from './is-generator';\nimport createRuntime from './runtime';\n\n/**\n * Creates a Redux middleware, given an object of controls where each key is an\n * action type for which to act upon, the value a function which returns either\n * a promise which is to resolve when evaluation of the action should continue,\n * or a value. The value or resolved promise value is assigned on the return\n * value of the yield assignment. If the control handler returns undefined, the\n * execution is not continued.\n *\n * @param controls Object of control handlers.\n *\n * @return Co-routine runtime\n */\nexport default function createMiddleware(\n\tcontrols: Record<\n\t\tstring,\n\t\t( value: AnyAction ) => Promise< boolean > | boolean\n\t> = {}\n): Middleware {\n\treturn ( store ) => {\n\t\tconst runtime = createRuntime( controls, store.dispatch );\n\t\treturn ( next ) => ( action ) => {\n\t\t\tif ( ! isGenerator( action ) ) {\n\t\t\t\treturn next( action );\n\t\t\t}\n\n\t\t\treturn runtime( action );\n\t\t};\n\t};\n}\n", "/**\n * External dependencies\n */\nimport { pascalCase } from 'change-case';\nimport type { ComponentType } from 'react';\n\ntype GetProps< C > = C extends ComponentType< infer P > ? P : never;\n\nexport type WithoutInjectedProps< C, I > = Omit< GetProps< C >, keyof I >;\n\nexport type WithInjectedProps< C, I > = ComponentType<\n\tWithoutInjectedProps< C, I > & I\n>;\n\n/**\n * Given a function mapping a component to an enhanced component and modifier\n * name, returns the enhanced component augmented with a generated displayName.\n *\n * @param mapComponent Function mapping component to enhanced component.\n * @param modifierName Seed name from which to generated display name.\n *\n * @return Component class with generated display name assigned.\n */\nexport function createHigherOrderComponent<\n\tTInner extends ComponentType< any >,\n\tTOuter extends ComponentType< any >,\n>( mapComponent: ( Inner: TInner ) => TOuter, modifierName: string ) {\n\treturn ( Inner: TInner ) => {\n\t\tconst Outer = mapComponent( Inner );\n\t\tOuter.displayName = hocName( modifierName, Inner );\n\t\treturn Outer;\n\t};\n}\n\n/**\n * Returns a displayName for a higher-order component, given a wrapper name.\n *\n * @example\n *     hocName( 'MyMemo', Widget ) === 'MyMemo(Widget)';\n *     hocName( 'MyMemo', <div /> ) === 'MyMemo(Component)';\n *\n * @param name  Name assigned to higher-order component's wrapper component.\n * @param Inner Wrapped component inside higher-order component.\n * @return       Wrapped name of higher-order component.\n */\nconst hocName = ( name: string, Inner: ComponentType< any > ) => {\n\tconst inner = Inner.displayName || Inner.name || 'Component';\n\tconst outer = pascalCase( name ?? '' );\n\n\treturn `${ outer }(${ inner })`;\n};\n", "/**\n * Parts of this source were derived and modified from lodash,\n * released under the MIT license.\n *\n * https://github.com/lodash/lodash\n *\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n *\n * Based on Underscore.js, copyright Jeremy Ashkenas,\n * DocumentCloud and Investigative Reporters & Editors <http://underscorejs.org/>\n *\n * This software consists of voluntary contributions made by many\n * individuals. For exact contribution history, see the revision history\n * available at https://github.com/lodash/lodash\n *\n * The following license applies to all parts of this software except as\n * documented below:\n *\n * ====\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport interface DebounceOptions {\n\tleading: boolean;\n\tmaxWait: number;\n\ttrailing: boolean;\n}\n\nexport interface DebouncedFunc< T extends ( ...args: any[] ) => any > {\n\t/**\n\t * Call the original function, but applying the debounce rules.\n\t *\n\t * If the debounced function can be run immediately, this calls it and returns its return\n\t * value.\n\t *\n\t * Otherwise, it returns the return value of the last invocation, or undefined if the debounced\n\t * function was not invoked yet.\n\t */\n\t( ...args: Parameters< T > ): ReturnType< T > | undefined;\n\n\t/**\n\t * Throw away any pending invocation of the debounced function.\n\t */\n\tcancel: () => void;\n\n\t/**\n\t * If there is a pending invocation of the debounced function, invoke it immediately and return\n\t * its return value.\n\t *\n\t * Otherwise, return the value from the last invocation, or undefined if the debounced function\n\t * was never invoked.\n\t */\n\tflush: () => ReturnType< T > | undefined;\n}\n\n/**\n * A simplified and properly typed version of lodash's `debounce`, that\n * always uses timers instead of sometimes using rAF.\n *\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel delayed\n * `func` invocations and a `flush` method to immediately invoke them. Provide\n * `options` to indicate whether `func` should be invoked on the leading and/or\n * trailing edge of the `wait` timeout. The `func` is invoked with the last\n * arguments provided to the debounced function. Subsequent calls to the debounced\n * function return the result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * @param {Function}                   func             The function to debounce.\n * @param {number}                     wait             The number of milliseconds to delay.\n * @param {Partial< DebounceOptions >} options          The options object.\n * @param {boolean}                    options.leading  Specify invoking on the leading edge of the timeout.\n * @param {number}                     options.maxWait  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean}                    options.trailing Specify invoking on the trailing edge of the timeout.\n *\n * @return Returns the new debounced function.\n */\nexport const debounce = < FunctionT extends ( ...args: unknown[] ) => unknown >(\n\tfunc: FunctionT,\n\twait: number,\n\toptions?: Partial< DebounceOptions >\n) => {\n\tlet lastArgs: Parameters< FunctionT > | undefined;\n\tlet lastThis: unknown | undefined;\n\tlet maxWait = 0;\n\tlet result: ReturnType< FunctionT >;\n\tlet timerId: ReturnType< typeof setTimeout > | undefined;\n\tlet lastCallTime: number | undefined;\n\n\tlet lastInvokeTime = 0;\n\tlet leading = false;\n\tlet maxing = false;\n\tlet trailing = true;\n\n\tif ( options ) {\n\t\tleading = !! options.leading;\n\t\tmaxing = 'maxWait' in options;\n\t\tif ( options.maxWait !== undefined ) {\n\t\t\tmaxWait = Math.max( options.maxWait, wait );\n\t\t}\n\t\ttrailing = 'trailing' in options ? !! options.trailing : trailing;\n\t}\n\n\tfunction invokeFunc( time: number ) {\n\t\tconst args = lastArgs;\n\t\tconst thisArg = lastThis;\n\n\t\tlastArgs = undefined;\n\t\tlastThis = undefined;\n\t\tlastInvokeTime = time;\n\n\t\tresult = func.apply( thisArg, args! ) as ReturnType< FunctionT >;\n\t\treturn result;\n\t}\n\n\tfunction startTimer(\n\t\tpendingFunc: () => void,\n\t\twaitTime: number | undefined\n\t) {\n\t\ttimerId = setTimeout( pendingFunc, waitTime );\n\t}\n\n\tfunction cancelTimer() {\n\t\tif ( timerId !== undefined ) {\n\t\t\tclearTimeout( timerId );\n\t\t}\n\t}\n\n\tfunction leadingEdge( time: number ) {\n\t\t// Reset any `maxWait` timer.\n\t\tlastInvokeTime = time;\n\t\t// Start the timer for the trailing edge.\n\t\tstartTimer( timerExpired, wait );\n\t\t// Invoke the leading edge.\n\t\treturn leading ? invokeFunc( time ) : result;\n\t}\n\n\tfunction getTimeSinceLastCall( time: number ) {\n\t\treturn time - ( lastCallTime || 0 );\n\t}\n\n\tfunction remainingWait( time: number ) {\n\t\tconst timeSinceLastCall = getTimeSinceLastCall( time );\n\t\tconst timeSinceLastInvoke = time - lastInvokeTime;\n\t\tconst timeWaiting = wait - timeSinceLastCall;\n\n\t\treturn maxing\n\t\t\t? Math.min( timeWaiting, maxWait - timeSinceLastInvoke )\n\t\t\t: timeWaiting;\n\t}\n\n\tfunction shouldInvoke( time: number ) {\n\t\tconst timeSinceLastCall = getTimeSinceLastCall( time );\n\t\tconst timeSinceLastInvoke = time - lastInvokeTime;\n\n\t\t// Either this is the first call, activity has stopped and we're at the\n\t\t// trailing edge, the system time has gone backwards and we're treating\n\t\t// it as the trailing edge, or we've hit the `maxWait` limit.\n\t\treturn (\n\t\t\tlastCallTime === undefined ||\n\t\t\ttimeSinceLastCall >= wait ||\n\t\t\ttimeSinceLastCall < 0 ||\n\t\t\t( maxing && timeSinceLastInvoke >= maxWait )\n\t\t);\n\t}\n\n\tfunction timerExpired() {\n\t\tconst time = Date.now();\n\t\tif ( shouldInvoke( time ) ) {\n\t\t\treturn trailingEdge( time );\n\t\t}\n\t\t// Restart the timer.\n\t\tstartTimer( timerExpired, remainingWait( time ) );\n\t\treturn undefined;\n\t}\n\n\tfunction clearTimer() {\n\t\ttimerId = undefined;\n\t}\n\n\tfunction trailingEdge( time: number ) {\n\t\tclearTimer();\n\n\t\t// Only invoke if we have `lastArgs` which means `func` has been\n\t\t// debounced at least once.\n\t\tif ( trailing && lastArgs ) {\n\t\t\treturn invokeFunc( time );\n\t\t}\n\t\tlastArgs = lastThis = undefined;\n\t\treturn result;\n\t}\n\n\tfunction cancel() {\n\t\tcancelTimer();\n\t\tlastInvokeTime = 0;\n\t\tclearTimer();\n\t\tlastArgs = lastCallTime = lastThis = undefined;\n\t}\n\n\tfunction flush() {\n\t\treturn pending() ? trailingEdge( Date.now() ) : result;\n\t}\n\n\tfunction pending() {\n\t\treturn timerId !== undefined;\n\t}\n\n\tfunction debounced( this: unknown, ...args: Parameters< FunctionT > ) {\n\t\tconst time = Date.now();\n\t\tconst isInvoking = shouldInvoke( time );\n\n\t\tlastArgs = args;\n\t\tlastThis = this;\n\t\tlastCallTime = time;\n\n\t\tif ( isInvoking ) {\n\t\t\tif ( ! pending() ) {\n\t\t\t\treturn leadingEdge( lastCallTime );\n\t\t\t}\n\t\t\tif ( maxing ) {\n\t\t\t\t// Handle invocations in a tight loop.\n\t\t\t\tstartTimer( timerExpired, wait );\n\t\t\t\treturn invokeFunc( lastCallTime );\n\t\t\t}\n\t\t}\n\t\tif ( ! pending() ) {\n\t\t\tstartTimer( timerExpired, wait );\n\t\t}\n\t\treturn result;\n\t}\n\tdebounced.cancel = cancel;\n\tdebounced.flush = flush;\n\tdebounced.pending = pending;\n\treturn debounced;\n};\n", "/**\n * Parts of this source were derived and modified from lodash,\n * released under the MIT license.\n *\n * https://github.com/lodash/lodash\n *\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n *\n * Based on Underscore.js, copyright Jeremy Ashkenas,\n * DocumentCloud and Investigative Reporters & Editors <http://underscorejs.org/>\n *\n * This software consists of voluntary contributions made by many\n * individuals. For exact contribution history, see the revision history\n * available at https://github.com/lodash/lodash\n *\n * The following license applies to all parts of this software except as\n * documented below:\n *\n * ====\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Internal dependencies\n */\nimport { debounce } from '../debounce';\n\nexport interface ThrottleOptions {\n\tleading?: boolean;\n\ttrailing?: boolean;\n}\n\n/**\n * A simplified and properly typed version of lodash's `throttle`, that\n * always uses timers instead of sometimes using rAF.\n *\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return\n * the result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * @param {Function}                   func             The function to throttle.\n * @param {number}                     wait             The number of milliseconds to throttle invocations to.\n * @param {Partial< ThrottleOptions >} options          The options object.\n * @param {boolean}                    options.leading  Specify invoking on the leading edge of the timeout.\n * @param {boolean}                    options.trailing Specify invoking on the trailing edge of the timeout.\n * @return Returns the new throttled function.\n */\nexport const throttle = < FunctionT extends ( ...args: unknown[] ) => unknown >(\n\tfunc: FunctionT,\n\twait: number,\n\toptions?: ThrottleOptions\n) => {\n\tlet leading = true;\n\tlet trailing = true;\n\n\tif ( options ) {\n\t\tleading = 'leading' in options ? !! options.leading : leading;\n\t\ttrailing = 'trailing' in options ? !! options.trailing : trailing;\n\t}\n\treturn debounce( func, wait, {\n\t\tleading,\n\t\ttrailing,\n\t\tmaxWait: wait,\n\t} );\n};\n", "export type ObservableMap< K, V > = {\n\tget: ( name: K ) => V | undefined;\n\tset: ( name: K, value: V ) => void;\n\tdelete: ( name: K ) => void;\n\tsubscribe: ( name: K, listener: () => void ) => () => void;\n};\n\n/**\n * A constructor (factory) for `ObservableMap`, a map-like key/value data structure\n * where the individual entries are observable: using the `subscribe` method, you can\n * subscribe to updates for a particular keys. Each subscriber always observes one\n * specific key and is not notified about any unrelated changes (for different keys)\n * in the `ObservableMap`.\n *\n * @template K The type of the keys in the map.\n * @template V The type of the values in the map.\n * @return   A new instance of the `ObservableMap` type.\n */\nexport function observableMap< K, V >(): ObservableMap< K, V > {\n\tconst map = new Map< K, V >();\n\tconst listeners = new Map< K, Set< () => void > >();\n\n\tfunction callListeners( name: K ) {\n\t\tconst list = listeners.get( name );\n\t\tif ( ! list ) {\n\t\t\treturn;\n\t\t}\n\t\tfor ( const listener of list ) {\n\t\t\tlistener();\n\t\t}\n\t}\n\n\treturn {\n\t\tget( name ) {\n\t\t\treturn map.get( name );\n\t\t},\n\t\tset( name, value ) {\n\t\t\tmap.set( name, value );\n\t\t\tcallListeners( name );\n\t\t},\n\t\tdelete( name ) {\n\t\t\tmap.delete( name );\n\t\t\tcallListeners( name );\n\t\t},\n\t\tsubscribe( name, listener ) {\n\t\t\tlet list = listeners.get( name );\n\t\t\tif ( ! list ) {\n\t\t\t\tlist = new Set();\n\t\t\t\tlisteners.set( name, list );\n\t\t\t}\n\t\t\tlist.add( listener );\n\n\t\t\treturn () => {\n\t\t\t\tlist.delete( listener );\n\t\t\t\tif ( list.size === 0 ) {\n\t\t\t\t\tlisteners.delete( name );\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t};\n}\n", "/**\n * Parts of this source were derived and modified from lodash,\n * released under the MIT license.\n *\n * https://github.com/lodash/lodash\n *\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n *\n * Based on Underscore.js, copyright Jeremy Ashkenas,\n * DocumentCloud and Investigative Reporters & Editors <http://underscorejs.org/>\n *\n * This software consists of voluntary contributions made by many\n * individuals. For exact contribution history, see the revision history\n * available at https://github.com/lodash/lodash\n *\n * The following license applies to all parts of this software except as\n * documented below:\n *\n * ====\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Creates a pipe function.\n *\n * Allows to choose whether to perform left-to-right or right-to-left composition.\n *\n * @see https://lodash.com/docs/4#flow\n *\n * @param {boolean} reverse True if right-to-left, false for left-to-right composition.\n */\nconst basePipe =\n\t( reverse: boolean = false ) =>\n\t( ...funcs: Function[] ) =>\n\t( ...args: unknown[] ) => {\n\t\tconst functions = funcs.flat();\n\t\tif ( reverse ) {\n\t\t\tfunctions.reverse();\n\t\t}\n\t\treturn functions.reduce(\n\t\t\t( prev, func ) => [ func( ...prev ) ],\n\t\t\targs\n\t\t)[ 0 ];\n\t};\n\n/**\n * Composes multiple higher-order components into a single higher-order component. Performs left-to-right function\n * composition, where each successive invocation is supplied the return value of the previous.\n *\n * This is inspired by `lodash`'s `flow` function.\n *\n * @see https://lodash.com/docs/4#flow\n */\nconst pipe = basePipe();\n\nexport { basePipe };\n\nexport default pipe;\n", "/**\n * Internal dependencies\n */\nimport { basePipe } from './pipe';\n\n/**\n * Composes multiple higher-order components into a single higher-order component. Performs right-to-left function\n * composition, where each successive invocation is supplied the return value of the previous.\n *\n * This is inspired by `lodash`'s `flowRight` function.\n *\n * @see https://lodash.com/docs/4#flow-right\n */\nconst compose = basePipe( true );\n\nexport default compose;\n", "/**\n * External dependencies\n */\nimport type { ComponentType } from 'react';\n\n/**\n * Internal dependencies\n */\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\n\n/**\n * Higher-order component creator, creating a new component which renders if\n * the given condition is satisfied or with the given optional prop name.\n *\n * @example\n * ```ts\n * type Props = { foo: string };\n * const Component = ( props: Props ) => <div>{ props.foo }</div>;\n * const ConditionalComponent = ifCondition( ( props: Props ) => props.foo.length !== 0 )( Component );\n * <ConditionalComponent foo=\"\" />; // => null\n * <ConditionalComponent foo=\"bar\" />; // => <div>bar</div>;\n * ```\n *\n * @param predicate Function to test condition.\n *\n * @return Higher-order component.\n */\nfunction ifCondition< Props extends {} >(\n\tpredicate: ( props: Props ) => boolean\n) {\n\treturn createHigherOrderComponent(\n\t\t( WrappedComponent: ComponentType< Props > ) => ( props: Props ) => {\n\t\t\tif ( ! predicate( props ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn <WrappedComponent { ...props } />;\n\t\t},\n\t\t'ifCondition'\n\t);\n}\n\nexport default ifCondition;\n", "/**\n * Internal dependencies\n */\nimport type { ComparableObject } from '.';\n\n/**\n * Returns true if the two objects are shallow equal, or false otherwise.\n *\n * @param a First object to compare.\n * @param b Second object to compare.\n *\n * @return Whether the two objects are shallow equal.\n */\nexport default function isShallowEqualObjects(\n\ta: ComparableObject,\n\tb: ComparableObject\n): boolean {\n\tif ( a === b ) {\n\t\treturn true;\n\t}\n\n\tconst aKeys = Object.keys( a );\n\tconst bKeys = Object.keys( b );\n\n\tif ( aKeys.length !== bKeys.length ) {\n\t\treturn false;\n\t}\n\n\tlet i = 0;\n\n\twhile ( i < aKeys.length ) {\n\t\tconst key = aKeys[ i ];\n\t\tconst aValue = a[ key ];\n\n\t\tif (\n\t\t\t// In iterating only the keys of the first object after verifying\n\t\t\t// equal lengths, account for the case that an explicit `undefined`\n\t\t\t// value in the first is implicitly undefined in the second.\n\t\t\t//\n\t\t\t// Example: isShallowEqualObjects( { a: undefined }, { b: 5 } )\n\t\t\t( aValue === undefined && ! b.hasOwnProperty( key ) ) ||\n\t\t\taValue !== b[ key ]\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\ti++;\n\t}\n\n\treturn true;\n}\n", "/**\n * Returns true if the two arrays are shallow equal, or false otherwise.\n *\n * @param a First array to compare.\n * @param b Second array to compare.\n *\n * @return Whether the two arrays are shallow equal.\n */\nexport default function isShallowEqualArrays(\n\ta: unknown[],\n\tb: unknown[]\n): boolean {\n\tif ( a === b ) {\n\t\treturn true;\n\t}\n\n\tif ( a.length !== b.length ) {\n\t\treturn false;\n\t}\n\n\tfor ( let i = 0, len = a.length; i < len; i++ ) {\n\t\tif ( a[ i ] !== b[ i ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n", "/**\n * Internal dependencies\n */\nimport isShallowEqualObjects from './objects';\nimport isShallowEqualArrays from './arrays';\n\nexport { default as isShallowEqualObjects } from './objects';\nexport { default as isShallowEqualArrays } from './arrays';\n\nexport type ComparableObject = Record< string, any >;\n\n/**\n * Returns true if the two arrays or objects are shallow equal, or false\n * otherwise. Also handles primitive values, just in case.\n *\n * @param a First object or array to compare.\n * @param b Second object or array to compare.\n *\n * @return Whether the two values are shallow equal.\n */\nexport default function isShallowEqual( a: unknown, b: unknown ): boolean {\n\tif ( a && b ) {\n\t\tif ( a.constructor === Object && b.constructor === Object ) {\n\t\t\treturn isShallowEqualObjects( a, b );\n\t\t} else if ( Array.isArray( a ) && Array.isArray( b ) ) {\n\t\t\treturn isShallowEqualArrays( a, b );\n\t\t}\n\t}\n\n\treturn a === b;\n}\n", "/**\n * External dependencies\n */\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport {\n\tChildren,\n\tcloneElement,\n\tComponent,\n\tcreateContext,\n\tcreateElement,\n\tcreateRef,\n\tforwardRef,\n\tFragment,\n\tisValidElement,\n\tmemo,\n\tPureComponent,\n\tStrictMode,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tuseDeferredValue,\n\tuseEffect,\n\tuseId,\n\tuseMemo,\n\tuseImperativeHandle,\n\tuseInsertionEffect,\n\tuseLayoutEffect,\n\tuseReducer,\n\tuseRef,\n\tuseState,\n\tuseSyncExternalStore,\n\tuseTransition,\n\tstartTransition,\n\tlazy,\n\tSuspense,\n} from 'react';\nimport type { ReactNode } from 'react';\n\n/**\n * Object containing a React element.\n */\nexport type Element = React.ReactElement;\n\n/**\n * Object containing a React component.\n */\nexport type ComponentType< T = any > = React.ComponentType< T >;\n\n/**\n * Object containing a React synthetic event.\n */\nexport type SyntheticEvent< T = Element > = React.SyntheticEvent< T >;\n\n/**\n * Object containing a React ref object.\n */\nexport type RefObject< T > = React.RefObject< T >;\n\n/**\n * Object containing a React ref callback.\n */\nexport type RefCallback< T > = React.RefCallback< T >;\n\n/**\n * Object containing a React ref.\n */\nexport type Ref< T > = React.Ref< T >;\n\n/**\n * Object that provides utilities for dealing with React children.\n */\nexport { Children };\n\n/**\n * Creates a copy of an element with extended props.\n *\n * @param {Element} element Element\n * @param {?Object} props   Props to apply to cloned element\n *\n * @return {Element} Cloned element.\n */\nexport { cloneElement };\n\n/**\n * A base class to create WordPress Components (Refs, state and lifecycle hooks)\n */\nexport { Component };\n\n/**\n * Creates a context object containing two components: a provider and consumer.\n *\n * @param {Object} defaultValue A default data stored in the context.\n *\n * @return {Object} Context object.\n */\nexport { createContext };\n\n/**\n * Returns a new element of given type. Type can be either a string tag name or\n * another function which itself returns an element.\n *\n * @param {?(string|Function)} type     Tag name or element creator\n * @param {Object}             props    Element properties, either attribute\n *                                      set to apply to DOM node or values to\n *                                      pass through to element creator\n * @param {...Element}         children Descendant elements\n *\n * @return {Element} Element.\n */\nexport { createElement };\n\n/**\n * Returns an object tracking a reference to a rendered element via its\n * `current` property as either a DOMElement or Element, dependent upon the\n * type of element rendered with the ref attribute.\n *\n * @return {Object} Ref object.\n */\nexport { createRef };\n\n/**\n * Component enhancer used to enable passing a ref to its wrapped component.\n * Pass a function argument which receives `props` and `ref` as its arguments,\n * returning an element using the forwarded ref. The return value is a new\n * component which forwards its ref.\n *\n * @param {Function} forwarder Function passed `props` and `ref`, expected to\n *                             return an element.\n *\n * @return {Component} Enhanced component.\n */\nexport { forwardRef };\n\n/**\n * A component which renders its children without any wrapping element.\n */\nexport { Fragment };\n\n/**\n * Checks if an object is a valid React Element.\n *\n * @param {Object} objectToCheck The object to be checked.\n *\n * @return {boolean} true if objectToTest is a valid React Element and false otherwise.\n */\nexport { isValidElement };\n\n/**\n * @see https://react.dev/reference/react/memo\n */\nexport { memo };\n\n/**\n * Component that activates additional checks and warnings for its descendants.\n */\nexport { StrictMode };\n\n/**\n * @see https://react.dev/reference/react/useCallback\n */\nexport { useCallback };\n\n/**\n * @see https://react.dev/reference/react/useContext\n */\nexport { useContext };\n\n/**\n * @see https://react.dev/reference/react/useDebugValue\n */\nexport { useDebugValue };\n\n/**\n * @see https://react.dev/reference/react/useDeferredValue\n */\nexport { useDeferredValue };\n\n/**\n * @see https://react.dev/reference/react/useEffect\n */\nexport { useEffect };\n\n/**\n * @see https://react.dev/reference/react/useId\n */\nexport { useId };\n\n/**\n * @see https://react.dev/reference/react/useImperativeHandle\n */\nexport { useImperativeHandle };\n\n/**\n * @see https://react.dev/reference/react/useInsertionEffect\n */\nexport { useInsertionEffect };\n\n/**\n * @see https://react.dev/reference/react/useLayoutEffect\n */\nexport { useLayoutEffect };\n\n/**\n * @see https://react.dev/reference/react/useMemo\n */\nexport { useMemo };\n\n/**\n * @see https://react.dev/reference/react/useReducer\n */\nexport { useReducer };\n\n/**\n * @see https://react.dev/reference/react/useRef\n */\nexport { useRef };\n\n/**\n * @see https://react.dev/reference/react/useState\n */\nexport { useState };\n\n/**\n * @see https://react.dev/reference/react/useSyncExternalStore\n */\nexport { useSyncExternalStore };\n\n/**\n * @see https://react.dev/reference/react/useTransition\n */\nexport { useTransition };\n\n/**\n * @see https://react.dev/reference/react/startTransition\n */\nexport { startTransition };\n\n/**\n * @see https://react.dev/reference/react/lazy\n */\nexport { lazy };\n\n/**\n * @see https://react.dev/reference/react/Suspense\n */\nexport { Suspense };\n\n/**\n * @see https://react.dev/reference/react/PureComponent\n */\nexport { PureComponent };\n\n/**\n * Concatenate two or more React children objects.\n *\n * @param childrenArguments - Array of children arguments (array of arrays/strings/objects) to concatenate.\n * @return The concatenated value.\n */\nexport function concatChildren(\n\t...childrenArguments: ReactNode[][]\n): ReactNode[] {\n\treturn childrenArguments.reduce< ReactNode[] >(\n\t\t( accumulator, children, i ) => {\n\t\t\tChildren.forEach( children, ( child, j ) => {\n\t\t\t\tif ( isValidElement( child ) && typeof child !== 'string' ) {\n\t\t\t\t\tchild = cloneElement( child, {\n\t\t\t\t\t\tkey: [ i, j ].join(),\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\taccumulator.push( child );\n\t\t\t} );\n\n\t\t\treturn accumulator;\n\t\t},\n\t\t[]\n\t);\n}\n\n/**\n * Switches the nodeName of all the elements in the children object.\n *\n * @param children Children object.\n * @param nodeName Node name.\n *\n * @return  The updated children object.\n */\nexport function switchChildrenNodeName(\n\tchildren: ReactNode,\n\tnodeName: string\n): ReactNode {\n\treturn (\n\t\tchildren &&\n\t\tChildren.map( children, ( elt, index ) => {\n\t\t\tif ( typeof elt?.valueOf() === 'string' ) {\n\t\t\t\treturn createElement( nodeName, { key: index }, elt );\n\t\t\t}\n\t\t\tif ( ! isValidElement( elt ) ) {\n\t\t\t\treturn elt;\n\t\t\t}\n\n\t\t\tconst { children: childrenProp, ...props } = elt.props;\n\t\t\treturn createElement(\n\t\t\t\tnodeName,\n\t\t\t\t{ key: index, ...props },\n\t\t\t\tchildrenProp\n\t\t\t);\n\t\t} )\n\t);\n}\n", "/**\n * External dependencies\n */\nimport {\n\tcreatePortal,\n\tfindDOMNode,\n\tflushSync,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n} from 'react-dom';\nimport { createRoot, hydrateRoot } from 'react-dom/client';\n\n/**\n * Creates a portal into which a component can be rendered.\n *\n * @see https://github.com/facebook/react/issues/10309#issuecomment-318433235\n *\n * @param {import('react').ReactElement} child     Any renderable child, such as an element,\n *                                                 string, or fragment.\n * @param {HTMLElement}                  container DOM node into which element should be rendered.\n */\nexport { createPortal };\n\n/**\n * Finds the dom node of a React component.\n *\n * @param {import('react').ComponentType} component Component's instance.\n */\nexport { findDOMNode };\n\n/**\n * Forces React to flush any updates inside the provided callback synchronously.\n *\n * @param {Function} callback Callback to run synchronously.\n */\nexport { flushSync };\n\n/**\n * Renders a given element into the target DOM node.\n *\n * @deprecated since WordPress 6.2.0. Use `createRoot` instead.\n * @see https://react.dev/reference/react-dom/render\n */\nexport { render };\n\n/**\n * Hydrates a given element into the target DOM node.\n *\n * @deprecated since WordPress 6.2.0. Use `hydrateRoot` instead.\n * @see https://react.dev/reference/react-dom/hydrate\n */\nexport { hydrate };\n\n/**\n * Creates a new React root for the target DOM node.\n *\n * @since 6.2.0 Introduced in WordPress core.\n * @see https://react.dev/reference/react-dom/client/createRoot\n */\nexport { createRoot };\n\n/**\n * Creates a new React root for the target DOM node and hydrates it with a pre-generated markup.\n *\n * @since 6.2.0 Introduced in WordPress core.\n * @see https://react.dev/reference/react-dom/client/hydrateRoot\n */\nexport { hydrateRoot };\n\n/**\n * Removes any mounted element from the target DOM node.\n *\n * @deprecated since WordPress 6.2.0. Use `root.unmount()` instead.\n * @see https://react.dev/reference/react-dom/unmountComponentAtNode\n */\nexport { unmountComponentAtNode };\n", "/**\n * Checks if the provided WP element is empty.\n *\n * @param element WP element to check.\n * @return True when an element is considered empty.\n */\nexport const isEmptyElement = ( element: unknown ): boolean => {\n\tif ( typeof element === 'number' ) {\n\t\treturn false;\n\t}\n\n\tif ( typeof element?.valueOf() === 'string' || Array.isArray( element ) ) {\n\t\treturn ! ( element as { length: number } ).length;\n\t}\n\n\treturn ! element;\n};\n", "/**\n * Parts of this source were derived and modified from react-native-web,\n * released under the MIT license.\n *\n * Copyright (c) 2016-present, Nicolas Gallagher.\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n */\n\n/**\n * Specification for platform-specific value selection.\n */\ntype PlatformSelectSpec< T > = {\n\tweb?: T;\n\tdefault?: T;\n};\n\n/**\n * Component used to detect the current Platform being used.\n * Use Platform.OS === 'web' to detect if running on web environment.\n *\n * This is the same concept as the React Native implementation.\n *\n * @see https://reactnative.dev/docs/platform-specific-code#platform-module\n *\n * Here is an example of how to use the select method:\n * @example\n * ```js\n * import { Platform } from '@wordpress/element';\n *\n * const placeholderLabel = Platform.select( {\n *   native: __( 'Add media' ),\n *   web: __( 'Drag images, upload new ones or select files from your library.' ),\n * } );\n * ```\n */\nconst Platform = {\n\t/** Platform identifier. Will always be `'web'` in this module. */\n\tOS: 'web' as const,\n\n\t/**\n\t * Select a value based on the platform.\n\t *\n\t * @template T\n\t * @param    spec - Object with optional platform-specific values.\n\t * @return The selected value.\n\t */\n\tselect< T >( spec: PlatformSelectSpec< T > ): T | undefined {\n\t\treturn 'web' in spec ? spec.web : spec.default;\n\t},\n\n\t/** Whether the platform is web */\n\tisWeb: true,\n};\n\nexport default Platform;\n", "/**\n * Internal dependencies\n */\nimport { Children, createElement } from './react';\n\n/**\n * Props for the RawHTML component.\n */\nexport type RawHTMLProps = {\n\tchildren: string | string[];\n} & React.ComponentPropsWithoutRef< 'div' >;\n\n/**\n * Component used to render unescaped HTML.\n *\n * Note: The `renderElement` serializer will remove the `div` wrapper\n * unless non-children props are present; typically when preparing a block for saving.\n *\n * @example\n * ```jsx\n * import { RawHTML } from '@wordpress/element';\n *\n * const Component = () => <RawHTML><h3>Hello world</h3></RawHTML>;\n * // Edit: <div><h3>Hello world</h3></div>\n * // save: <h3>Hello world</h3>\n * ```\n *\n * @param {RawHTMLProps} props Children should be a string of HTML or an array\n *                             of strings. Other props will be passed through\n *                             to the div wrapper.\n *\n * @return Dangerously-rendering component.\n */\nexport default function RawHTML( {\n\tchildren,\n\t...props\n}: RawHTMLProps ): JSX.Element {\n\tlet rawHtml = '';\n\n\t// Cast children as an array, and concatenate each element if it is a string.\n\tChildren.toArray( children ).forEach( ( child ) => {\n\t\tif ( typeof child === 'string' && child.trim() !== '' ) {\n\t\t\trawHtml += child;\n\t\t}\n\t} );\n\n\t// The `div` wrapper will be stripped by the `renderElement` serializer in\n\t// `./serialize.js` unless there are non-children props present.\n\treturn createElement( 'div', {\n\t\tdangerouslySetInnerHTML: { __html: rawHtml },\n\t\t...props,\n\t} );\n}\n", "/**\n * Parts of this source were derived and modified from fast-react-render,\n * released under the MIT license.\n *\n * https://github.com/alt-j/fast-react-render\n *\n * Copyright (c) 2016 Andrey Morozov\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport { isPlainObject } from 'is-plain-object';\nimport { paramCase as kebabCase } from 'change-case';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tescapeHTML,\n\tescapeAttribute,\n\tisValidAttributeName,\n} from '@wordpress/escape-html';\n\n/**\n * Internal dependencies\n */\nimport { createContext, Fragment, StrictMode, forwardRef } from './react';\nimport RawHTML from './raw-html';\n\n/** @typedef {import('react').ReactElement} ReactElement */\n\nconst Context = createContext( undefined );\nContext.displayName = 'ElementContext';\n\ninterface ComponentInstance {\n\trender: () => React.ReactNode;\n\tgetChildContext?: () => Record< string, any >;\n}\n\ninterface RawHTMLProps {\n\tchildren: string;\n\t[ key: string ]: any;\n}\n\ninterface StyleObject {\n\t[ property: string ]: string | number | null | undefined;\n}\n\ninterface HTMLProps {\n\tdangerouslySetInnerHTML?: {\n\t\t__html: string;\n\t};\n\tchildren?: React.ReactNode;\n\tvalue?: React.ReactNode;\n\tstyle?: StyleObject | string;\n\tclassName?: string;\n\thtmlFor?: string;\n\t[ key: string ]: any;\n}\n\nconst { Provider, Consumer } = Context;\n\nconst ForwardRef = forwardRef( () => {\n\treturn null;\n} );\n\n/**\n * Valid attribute types.\n */\nconst ATTRIBUTES_TYPES = new Set< string >( [ 'string', 'boolean', 'number' ] );\n\n/**\n * Element tags which can be self-closing.\n */\nconst SELF_CLOSING_TAGS = new Set< string >( [\n\t'area',\n\t'base',\n\t'br',\n\t'col',\n\t'command',\n\t'embed',\n\t'hr',\n\t'img',\n\t'input',\n\t'keygen',\n\t'link',\n\t'meta',\n\t'param',\n\t'source',\n\t'track',\n\t'wbr',\n] );\n\n/**\n * Boolean attributes are attributes whose presence as being assigned is\n * meaningful, even if only empty.\n *\n * See: https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes\n * Extracted from: https://html.spec.whatwg.org/multipage/indices.html#attributes-3\n *\n * Object.keys( [ ...document.querySelectorAll( '#attributes-1 > tbody > tr' ) ]\n *     .filter( ( tr ) => tr.lastChild.textContent.indexOf( 'Boolean attribute' ) !== -1 )\n *     .reduce( ( result, tr ) => Object.assign( result, {\n *         [ tr.firstChild.textContent.trim() ]: true\n *     } ), {} ) ).sort();\n */\nconst BOOLEAN_ATTRIBUTES = new Set< string >( [\n\t'allowfullscreen',\n\t'allowpaymentrequest',\n\t'allowusermedia',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'download',\n\t'formnovalidate',\n\t'hidden',\n\t'ismap',\n\t'itemscope',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected',\n\t'typemustmatch',\n] );\n\n/**\n * Enumerated attributes are attributes which must be of a specific value form.\n * Like boolean attributes, these are meaningful if specified, even if not of a\n * valid enumerated value.\n *\n * See: https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#enumerated-attribute\n * Extracted from: https://html.spec.whatwg.org/multipage/indices.html#attributes-3\n *\n * Object.keys( [ ...document.querySelectorAll( '#attributes-1 > tbody > tr' ) ]\n *     .filter( ( tr ) => /^(\"(.+?)\";?\\s*)+/.test( tr.lastChild.textContent.trim() ) )\n *     .reduce( ( result, tr ) => Object.assign( result, {\n *         [ tr.firstChild.textContent.trim() ]: true\n *     } ), {} ) ).sort();\n *\n * Some notable omissions:\n *\n *  - `alt`: https://blog.whatwg.org/omit-alt\n */\nconst ENUMERATED_ATTRIBUTES = new Set< string >( [\n\t'autocapitalize',\n\t'autocomplete',\n\t'charset',\n\t'contenteditable',\n\t'crossorigin',\n\t'decoding',\n\t'dir',\n\t'draggable',\n\t'enctype',\n\t'formenctype',\n\t'formmethod',\n\t'http-equiv',\n\t'inputmode',\n\t'kind',\n\t'method',\n\t'preload',\n\t'scope',\n\t'shape',\n\t'spellcheck',\n\t'translate',\n\t'type',\n\t'wrap',\n] );\n\n/**\n * Set of CSS style properties which support assignment of unitless numbers.\n * Used in rendering of style properties, where `px` unit is assumed unless\n * property is included in this set or value is zero.\n *\n * Generated via:\n *\n * Object.entries( document.createElement( 'div' ).style )\n *     .filter( ( [ key ] ) => (\n *         ! /^(webkit|ms|moz)/.test( key ) &&\n *         ( e.style[ key ] = 10 ) &&\n *         e.style[ key ] === '10'\n *     ) )\n *     .map( ( [ key ] ) => key )\n *     .sort();\n */\nconst CSS_PROPERTIES_SUPPORTS_UNITLESS = new Set< string >( [\n\t'animation',\n\t'animationIterationCount',\n\t'baselineShift',\n\t'borderImageOutset',\n\t'borderImageSlice',\n\t'borderImageWidth',\n\t'columnCount',\n\t'cx',\n\t'cy',\n\t'fillOpacity',\n\t'flexGrow',\n\t'flexShrink',\n\t'floodOpacity',\n\t'fontWeight',\n\t'gridColumnEnd',\n\t'gridColumnStart',\n\t'gridRowEnd',\n\t'gridRowStart',\n\t'lineHeight',\n\t'opacity',\n\t'order',\n\t'orphans',\n\t'r',\n\t'rx',\n\t'ry',\n\t'shapeImageThreshold',\n\t'stopOpacity',\n\t'strokeDasharray',\n\t'strokeDashoffset',\n\t'strokeMiterlimit',\n\t'strokeOpacity',\n\t'strokeWidth',\n\t'tabSize',\n\t'widows',\n\t'x',\n\t'y',\n\t'zIndex',\n\t'zoom',\n] );\n\n/**\n * Returns true if the specified string is prefixed by one of an array of\n * possible prefixes.\n * @param string\n * @param prefixes\n */\nexport function hasPrefix( string: string, prefixes: string[] ): boolean {\n\treturn prefixes.some( ( prefix ) => string.indexOf( prefix ) === 0 );\n}\n\n/**\n * Returns true if the given prop name should be ignored in attributes\n * serialization, or false otherwise.\n * @param attribute\n */\nfunction isInternalAttribute( attribute: string ): boolean {\n\treturn 'key' === attribute || 'children' === attribute;\n}\n\n/**\n * Returns the normal form of the element's attribute value for HTML.\n * @param attribute\n * @param value\n */\nfunction getNormalAttributeValue( attribute: string, value: any ): any {\n\tswitch ( attribute ) {\n\t\tcase 'style':\n\t\t\treturn renderStyle( value );\n\t}\n\n\treturn value;\n}\n\n/**\n * This is a map of all SVG attributes that have dashes. Map(lower case prop => dashed lower case attribute).\n * We need this to render e.g strokeWidth as stroke-width.\n *\n * List from: https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute.\n */\nconst SVG_ATTRIBUTE_WITH_DASHES_LIST: Record< string, string > = [\n\t'accentHeight',\n\t'alignmentBaseline',\n\t'arabicForm',\n\t'baselineShift',\n\t'capHeight',\n\t'clipPath',\n\t'clipRule',\n\t'colorInterpolation',\n\t'colorInterpolationFilters',\n\t'colorProfile',\n\t'colorRendering',\n\t'dominantBaseline',\n\t'enableBackground',\n\t'fillOpacity',\n\t'fillRule',\n\t'floodColor',\n\t'floodOpacity',\n\t'fontFamily',\n\t'fontSize',\n\t'fontSizeAdjust',\n\t'fontStretch',\n\t'fontStyle',\n\t'fontVariant',\n\t'fontWeight',\n\t'glyphName',\n\t'glyphOrientationHorizontal',\n\t'glyphOrientationVertical',\n\t'horizAdvX',\n\t'horizOriginX',\n\t'imageRendering',\n\t'letterSpacing',\n\t'lightingColor',\n\t'markerEnd',\n\t'markerMid',\n\t'markerStart',\n\t'overlinePosition',\n\t'overlineThickness',\n\t'paintOrder',\n\t'panose1',\n\t'pointerEvents',\n\t'renderingIntent',\n\t'shapeRendering',\n\t'stopColor',\n\t'stopOpacity',\n\t'strikethroughPosition',\n\t'strikethroughThickness',\n\t'strokeDasharray',\n\t'strokeDashoffset',\n\t'strokeLinecap',\n\t'strokeLinejoin',\n\t'strokeMiterlimit',\n\t'strokeOpacity',\n\t'strokeWidth',\n\t'textAnchor',\n\t'textDecoration',\n\t'textRendering',\n\t'underlinePosition',\n\t'underlineThickness',\n\t'unicodeBidi',\n\t'unicodeRange',\n\t'unitsPerEm',\n\t'vAlphabetic',\n\t'vHanging',\n\t'vIdeographic',\n\t'vMathematical',\n\t'vectorEffect',\n\t'vertAdvY',\n\t'vertOriginX',\n\t'vertOriginY',\n\t'wordSpacing',\n\t'writingMode',\n\t'xmlnsXlink',\n\t'xHeight',\n].reduce(\n\t( map, attribute ) => {\n\t\t// The keys are lower-cased for more robust lookup.\n\t\tmap[ attribute.toLowerCase() ] = attribute;\n\t\treturn map;\n\t},\n\t{} as Record< string, string >\n);\n\n/**\n * This is a map of all case-sensitive SVG attributes. Map(lowercase key => proper case attribute).\n * The keys are lower-cased for more robust lookup.\n * Note that this list only contains attributes that contain at least one capital letter.\n * Lowercase attributes don't need mapping, since we lowercase all attributes by default.\n */\nconst CASE_SENSITIVE_SVG_ATTRIBUTES: Record< string, string > = [\n\t'allowReorder',\n\t'attributeName',\n\t'attributeType',\n\t'autoReverse',\n\t'baseFrequency',\n\t'baseProfile',\n\t'calcMode',\n\t'clipPathUnits',\n\t'contentScriptType',\n\t'contentStyleType',\n\t'diffuseConstant',\n\t'edgeMode',\n\t'externalResourcesRequired',\n\t'filterRes',\n\t'filterUnits',\n\t'glyphRef',\n\t'gradientTransform',\n\t'gradientUnits',\n\t'kernelMatrix',\n\t'kernelUnitLength',\n\t'keyPoints',\n\t'keySplines',\n\t'keyTimes',\n\t'lengthAdjust',\n\t'limitingConeAngle',\n\t'markerHeight',\n\t'markerUnits',\n\t'markerWidth',\n\t'maskContentUnits',\n\t'maskUnits',\n\t'numOctaves',\n\t'pathLength',\n\t'patternContentUnits',\n\t'patternTransform',\n\t'patternUnits',\n\t'pointsAtX',\n\t'pointsAtY',\n\t'pointsAtZ',\n\t'preserveAlpha',\n\t'preserveAspectRatio',\n\t'primitiveUnits',\n\t'refX',\n\t'refY',\n\t'repeatCount',\n\t'repeatDur',\n\t'requiredExtensions',\n\t'requiredFeatures',\n\t'specularConstant',\n\t'specularExponent',\n\t'spreadMethod',\n\t'startOffset',\n\t'stdDeviation',\n\t'stitchTiles',\n\t'suppressContentEditableWarning',\n\t'suppressHydrationWarning',\n\t'surfaceScale',\n\t'systemLanguage',\n\t'tableValues',\n\t'targetX',\n\t'targetY',\n\t'textLength',\n\t'viewBox',\n\t'viewTarget',\n\t'xChannelSelector',\n\t'yChannelSelector',\n].reduce(\n\t( map, attribute ) => {\n\t\t// The keys are lower-cased for more robust lookup.\n\t\tmap[ attribute.toLowerCase() ] = attribute;\n\t\treturn map;\n\t},\n\t{} as Record< string, string >\n);\n\n/**\n * This is a map of all SVG attributes that have colons.\n * Keys are lower-cased and stripped of their colons for more robust lookup.\n */\nconst SVG_ATTRIBUTES_WITH_COLONS: Record< string, string > = [\n\t'xlink:actuate',\n\t'xlink:arcrole',\n\t'xlink:href',\n\t'xlink:role',\n\t'xlink:show',\n\t'xlink:title',\n\t'xlink:type',\n\t'xml:base',\n\t'xml:lang',\n\t'xml:space',\n\t'xmlns:xlink',\n].reduce(\n\t( map, attribute ) => {\n\t\tmap[ attribute.replace( ':', '' ).toLowerCase() ] = attribute;\n\t\treturn map;\n\t},\n\t{} as Record< string, string >\n);\n\n/**\n * Returns the normal form of the element's attribute name for HTML.\n * @param attribute\n */\nfunction getNormalAttributeName( attribute: string ): string {\n\tswitch ( attribute ) {\n\t\tcase 'htmlFor':\n\t\t\treturn 'for';\n\n\t\tcase 'className':\n\t\t\treturn 'class';\n\t}\n\tconst attributeLowerCase = attribute.toLowerCase();\n\n\tif ( CASE_SENSITIVE_SVG_ATTRIBUTES[ attributeLowerCase ] ) {\n\t\treturn CASE_SENSITIVE_SVG_ATTRIBUTES[ attributeLowerCase ];\n\t} else if ( SVG_ATTRIBUTE_WITH_DASHES_LIST[ attributeLowerCase ] ) {\n\t\treturn kebabCase(\n\t\t\tSVG_ATTRIBUTE_WITH_DASHES_LIST[ attributeLowerCase ]\n\t\t);\n\t} else if ( SVG_ATTRIBUTES_WITH_COLONS[ attributeLowerCase ] ) {\n\t\treturn SVG_ATTRIBUTES_WITH_COLONS[ attributeLowerCase ];\n\t}\n\n\treturn attributeLowerCase;\n}\n\n/**\n * Returns the normal form of the style property name for HTML.\n *\n * - Converts property names to kebab-case, e.g. 'backgroundColor' â 'background-color'\n * - Leaves custom attributes alone, e.g. '--myBackgroundColor' â '--myBackgroundColor'\n * - Converts vendor-prefixed property names to -kebab-case, e.g. 'MozTransform' â '-moz-transform'\n * @param property\n */\nfunction getNormalStylePropertyName( property: string ): string {\n\tif ( property.startsWith( '--' ) ) {\n\t\treturn property;\n\t}\n\n\tif ( hasPrefix( property, [ 'ms', 'O', 'Moz', 'Webkit' ] ) ) {\n\t\treturn '-' + kebabCase( property );\n\t}\n\n\treturn kebabCase( property );\n}\n\n/**\n * Returns the normal form of the style property value for HTML. Appends a\n * default pixel unit if numeric, not a unitless property, and not zero.\n * @param property\n * @param value\n */\nfunction getNormalStylePropertyValue(\n\tproperty: string,\n\tvalue: any\n): string | number {\n\tif (\n\t\ttypeof value === 'number' &&\n\t\t0 !== value &&\n\t\t! hasPrefix( property, [ '--' ] ) &&\n\t\t! CSS_PROPERTIES_SUPPORTS_UNITLESS.has( property )\n\t) {\n\t\treturn value + 'px';\n\t}\n\n\treturn value;\n}\n\n/**\n * Serializes a React element to string.\n * @param element\n * @param context\n * @param legacyContext\n */\nexport function renderElement(\n\telement: React.ReactNode,\n\tcontext?: any,\n\tlegacyContext: Record< string, any > = {}\n): string {\n\tif ( null === element || undefined === element || false === element ) {\n\t\treturn '';\n\t}\n\n\tif ( Array.isArray( element ) ) {\n\t\treturn renderChildren( element, context, legacyContext );\n\t}\n\n\tswitch ( typeof element ) {\n\t\tcase 'string':\n\t\t\treturn escapeHTML( element );\n\n\t\tcase 'number':\n\t\t\treturn element.toString();\n\t}\n\n\tconst { type, props } = element as {\n\t\ttype?: any;\n\t\tprops?: any;\n\t};\n\n\tswitch ( type ) {\n\t\tcase StrictMode:\n\t\tcase Fragment:\n\t\t\treturn renderChildren( props.children, context, legacyContext );\n\n\t\tcase RawHTML:\n\t\t\tconst { children, ...wrapperProps } = props as RawHTMLProps;\n\n\t\t\treturn renderNativeComponent(\n\t\t\t\t! Object.keys( wrapperProps ).length ? null : 'div',\n\t\t\t\t{\n\t\t\t\t\t...wrapperProps,\n\t\t\t\t\tdangerouslySetInnerHTML: { __html: children },\n\t\t\t\t},\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\t}\n\n\tswitch ( typeof type ) {\n\t\tcase 'string':\n\t\t\treturn renderNativeComponent( type, props, context, legacyContext );\n\n\t\tcase 'function':\n\t\t\tif (\n\t\t\t\ttype.prototype &&\n\t\t\t\ttypeof type.prototype.render === 'function'\n\t\t\t) {\n\t\t\t\treturn renderComponent( type, props, context, legacyContext );\n\t\t\t}\n\n\t\t\treturn renderElement(\n\t\t\t\ttype( props, legacyContext ),\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\t}\n\n\tswitch ( type && type.$$typeof ) {\n\t\tcase Provider.$$typeof:\n\t\t\treturn renderChildren( props.children, props.value, legacyContext );\n\n\t\tcase Consumer.$$typeof:\n\t\t\treturn renderElement(\n\t\t\t\tprops.children( context || type._currentValue ),\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\n\t\tcase ForwardRef.$$typeof:\n\t\t\treturn renderElement(\n\t\t\t\ttype.render( props ),\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\t}\n\n\treturn '';\n}\n\n/**\n * Serializes a native component type to string.\n * @param type\n * @param props\n * @param context\n * @param legacyContext\n */\nexport function renderNativeComponent(\n\ttype: string | null,\n\tprops: HTMLProps,\n\tcontext?: any,\n\tlegacyContext: Record< string, any > = {}\n): string {\n\tlet content = '';\n\tif ( type === 'textarea' && props.hasOwnProperty( 'value' ) ) {\n\t\t// Textarea children can be assigned as value prop. If it is, render in\n\t\t// place of children. Ensure to omit so it is not assigned as attribute\n\t\t// as well.\n\t\tcontent = renderChildren( props.value, context, legacyContext );\n\t\tconst { value, ...restProps } = props;\n\t\tprops = restProps;\n\t} else if (\n\t\tprops.dangerouslySetInnerHTML &&\n\t\ttypeof props.dangerouslySetInnerHTML.__html === 'string'\n\t) {\n\t\t// Dangerous content is left unescaped.\n\t\tcontent = props.dangerouslySetInnerHTML.__html;\n\t} else if ( typeof props.children !== 'undefined' ) {\n\t\tcontent = renderChildren( props.children, context, legacyContext );\n\t}\n\n\tif ( ! type ) {\n\t\treturn content;\n\t}\n\n\tconst attributes = renderAttributes( props );\n\n\tif ( SELF_CLOSING_TAGS.has( type ) ) {\n\t\treturn '<' + type + attributes + '/>';\n\t}\n\n\treturn '<' + type + attributes + '>' + content + '</' + type + '>';\n}\n\n/**\n * Serializes a non-native component type to string.\n * @param Component\n * @param props\n * @param context\n * @param legacyContext\n */\nexport function renderComponent(\n\tComponent: React.ComponentClass,\n\tprops: Record< string, any >,\n\tcontext?: any,\n\tlegacyContext: Record< string, any > = {}\n): string {\n\tconst instance = new Component( props, legacyContext ) as ComponentInstance;\n\n\tif ( typeof instance.getChildContext === 'function' ) {\n\t\tObject.assign( legacyContext, instance.getChildContext() );\n\t}\n\n\tconst html = renderElement( instance.render(), context, legacyContext );\n\n\treturn html;\n}\n\n/**\n * Serializes an array of children to string.\n * @param children\n * @param context\n * @param legacyContext\n */\nfunction renderChildren(\n\tchildren: React.ReactNode,\n\tcontext?: any,\n\tlegacyContext: Record< string, any > = {}\n): string {\n\tlet result = '';\n\n\tconst childrenArray = Array.isArray( children ) ? children : [ children ];\n\n\tfor ( let i = 0; i < childrenArray.length; i++ ) {\n\t\tconst child = childrenArray[ i ];\n\n\t\tresult += renderElement( child, context, legacyContext );\n\t}\n\n\treturn result;\n}\n\n/**\n * Renders a props object as a string of HTML attributes.\n * @param props\n */\nexport function renderAttributes( props: Record< string, any > ): string {\n\tlet result = '';\n\n\tfor ( const key in props ) {\n\t\tconst attribute = getNormalAttributeName( key );\n\t\tif ( ! isValidAttributeName( attribute ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet value = getNormalAttributeValue( key, props[ key ] );\n\n\t\t// If value is not of serializable type, skip.\n\t\tif ( ! ATTRIBUTES_TYPES.has( typeof value ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Don't render internal attribute names.\n\t\tif ( isInternalAttribute( key ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst isBooleanAttribute = BOOLEAN_ATTRIBUTES.has( attribute );\n\n\t\t// Boolean attribute should be omitted outright if its value is false.\n\t\tif ( isBooleanAttribute && value === false ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst isMeaningfulAttribute =\n\t\t\tisBooleanAttribute ||\n\t\t\thasPrefix( key, [ 'data-', 'aria-' ] ) ||\n\t\t\tENUMERATED_ATTRIBUTES.has( attribute );\n\n\t\t// Only write boolean value as attribute if meaningful.\n\t\tif ( typeof value === 'boolean' && ! isMeaningfulAttribute ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tresult += ' ' + attribute;\n\n\t\t// Boolean attributes should write attribute name, but without value.\n\t\t// Mere presence of attribute name is effective truthiness.\n\t\tif ( isBooleanAttribute ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( typeof value === 'string' ) {\n\t\t\tvalue = escapeAttribute( value );\n\t\t}\n\n\t\tresult += '=\"' + value + '\"';\n\t}\n\n\treturn result;\n}\n\n/**\n * Renders a style object as a string attribute value.\n * @param style\n */\nexport function renderStyle( style: StyleObject | string ): string | undefined {\n\t// Only generate from object, e.g. tolerate string value.\n\tif ( ! isPlainObject( style ) ) {\n\t\treturn style as string;\n\t}\n\n\tlet result: string | undefined;\n\n\tconst styleObj = style as StyleObject;\n\tfor ( const property in styleObj ) {\n\t\tconst value = styleObj[ property ];\n\t\tif ( null === value || undefined === value ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( result ) {\n\t\t\tresult += ';';\n\t\t} else {\n\t\t\tresult = '';\n\t\t}\n\n\t\tconst normalName = getNormalStylePropertyName( property );\n\t\tconst normalValue = getNormalStylePropertyValue( property, value );\n\t\tresult += normalName + ':' + normalValue;\n\t}\n\n\treturn result;\n}\n\nexport default renderElement;\n", "/**\n * External dependencies\n */\nimport type { ComponentType, ComponentClass } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\n\n/**\n * Given a component returns the enhanced component augmented with a component\n * only re-rendering when its props/state change\n *\n * @deprecated Use `memo` or `PureComponent` instead.\n */\nconst pure = createHigherOrderComponent( function < Props extends {} >(\n\tWrappedComponent: ComponentType< Props >\n): ComponentType< Props > {\n\tif ( WrappedComponent.prototype instanceof Component ) {\n\t\treturn class extends ( WrappedComponent as ComponentClass< Props > ) {\n\t\t\tshouldComponentUpdate( nextProps: Props, nextState: any ) {\n\t\t\t\treturn (\n\t\t\t\t\t! isShallowEqual( nextProps, this.props ) ||\n\t\t\t\t\t! isShallowEqual( nextState, this.state )\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}\n\n\treturn class extends Component< Props > {\n\t\tshouldComponentUpdate( nextProps: Props ) {\n\t\t\treturn ! isShallowEqual( nextProps, this.props );\n\t\t}\n\n\t\trender() {\n\t\t\treturn <WrappedComponent { ...this.props } />;\n\t\t}\n\t};\n}, 'pure' );\n\nexport default pure;\n", "/**\n * Class responsible for orchestrating event handling on the global window,\n * binding a single event to be shared across all handling instances, and\n * removing the handler when no instances are listening for the event.\n */\nclass Listener {\n\tconstructor() {\n\t\t/** @type {any} */\n\t\tthis.listeners = {};\n\n\t\tthis.handleEvent = this.handleEvent.bind( this );\n\t}\n\n\tadd( /** @type {any} */ eventType, /** @type {any} */ instance ) {\n\t\tif ( ! this.listeners[ eventType ] ) {\n\t\t\t// Adding first listener for this type, so bind event.\n\t\t\twindow.addEventListener( eventType, this.handleEvent );\n\t\t\tthis.listeners[ eventType ] = [];\n\t\t}\n\n\t\tthis.listeners[ eventType ].push( instance );\n\t}\n\n\tremove( /** @type {any} */ eventType, /** @type {any} */ instance ) {\n\t\tif ( ! this.listeners[ eventType ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.listeners[ eventType ] = this.listeners[ eventType ].filter(\n\t\t\t( /** @type {any} */ listener ) => listener !== instance\n\t\t);\n\n\t\tif ( ! this.listeners[ eventType ].length ) {\n\t\t\t// Removing last listener for this type, so unbind event.\n\t\t\twindow.removeEventListener( eventType, this.handleEvent );\n\t\t\tdelete this.listeners[ eventType ];\n\t\t}\n\t}\n\n\thandleEvent( /** @type {any} */ event ) {\n\t\tthis.listeners[ event.type ]?.forEach(\n\t\t\t( /** @type {any} */ instance ) => {\n\t\t\t\tinstance.handleEvent( event );\n\t\t\t}\n\t\t);\n\t}\n}\n\nexport default Listener;\n", "/**\n * WordPress dependencies\n */\nimport { Component, forwardRef } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\nimport Listener from './listener';\n\n/**\n * Listener instance responsible for managing document event handling.\n */\nconst listener = new Listener();\n\n/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Higher-order component creator which, given an object of DOM event types and\n * values corresponding to a callback function name on the component, will\n * create or update a window event handler to invoke the callback when an event\n * occurs. On behalf of the consuming developer, the higher-order component\n * manages unbinding when the component unmounts, and binding at most a single\n * event handler for the entire application.\n *\n * @deprecated\n *\n * @param {Record<keyof GlobalEventHandlersEventMap, string>} eventTypesToHandlers Object with keys of DOM\n *                                                                                 event type, the value a\n *                                                                                 name of the function on\n *                                                                                 the original component's\n *                                                                                 instance which handles\n *                                                                                 the event.\n *\n * @return {any} Higher-order component.\n */\nexport default function withGlobalEvents( eventTypesToHandlers ) {\n\tdeprecated( 'wp.compose.withGlobalEvents', {\n\t\tsince: '5.7',\n\t\talternative: 'useEffect',\n\t} );\n\n\t// @ts-ignore We don't need to fix the type-related issues because this is deprecated.\n\treturn createHigherOrderComponent( ( WrappedComponent ) => {\n\t\tclass Wrapper extends Component {\n\t\t\tconstructor( /** @type {any} */ props ) {\n\t\t\t\tsuper( props );\n\n\t\t\t\tthis.handleEvent = this.handleEvent.bind( this );\n\t\t\t\tthis.handleRef = this.handleRef.bind( this );\n\t\t\t}\n\n\t\t\tcomponentDidMount() {\n\t\t\t\tObject.keys( eventTypesToHandlers ).forEach( ( eventType ) => {\n\t\t\t\t\tlistener.add( eventType, this );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tcomponentWillUnmount() {\n\t\t\t\tObject.keys( eventTypesToHandlers ).forEach( ( eventType ) => {\n\t\t\t\t\tlistener.remove( eventType, this );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thandleEvent( /** @type {any} */ event ) {\n\t\t\t\tconst handler =\n\t\t\t\t\teventTypesToHandlers[\n\t\t\t\t\t\t/** @type {keyof GlobalEventHandlersEventMap} */ (\n\t\t\t\t\t\t\tevent.type\n\t\t\t\t\t\t)\n\t\t\t\t\t\t/* eslint-enable jsdoc/no-undefined-types */\n\t\t\t\t\t];\n\t\t\t\tif ( typeof this.wrappedRef[ handler ] === 'function' ) {\n\t\t\t\t\tthis.wrappedRef[ handler ]( event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thandleRef( /** @type {any} */ el ) {\n\t\t\t\tthis.wrappedRef = el;\n\t\t\t\t// Any component using `withGlobalEvents` that is not setting a `ref`\n\t\t\t\t// will cause `this.props.forwardedRef` to be `null`, so we need this\n\t\t\t\t// check.\n\t\t\t\tif ( this.props.forwardedRef ) {\n\t\t\t\t\tthis.props.forwardedRef( el );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\treturn (\n\t\t\t\t\t<WrappedComponent\n\t\t\t\t\t\t{ ...this.props.ownProps }\n\t\t\t\t\t\tref={ this.handleRef }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn forwardRef( ( props, ref ) => {\n\t\t\treturn <Wrapper ownProps={ props } forwardedRef={ ref } />;\n\t\t} );\n\t}, 'withGlobalEvents' );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\nconst instanceMap = new WeakMap< object, number >();\n\n/**\n * Creates a new id for a given object.\n *\n * @param object Object reference to create an id for.\n * @return The instance id (index).\n */\nfunction createId( object: object ): number {\n\tconst instances = instanceMap.get( object ) || 0;\n\tinstanceMap.set( object, instances + 1 );\n\treturn instances;\n}\n\n/**\n * Specify the useInstanceId *function* signatures.\n *\n * More accurately, useInstanceId distinguishes between three different\n * signatures:\n *\n * 1. When only object is given, the returned value is a number\n * 2. When object and prefix is given, the returned value is a string\n * 3. When preferredId is given, the returned value is the type of preferredId\n *\n * @param object Object reference to create an id for.\n */\nfunction useInstanceId( object: object ): number;\nfunction useInstanceId( object: object, prefix: string ): string;\nfunction useInstanceId< T extends string | number >(\n\tobject: object,\n\tprefix: string,\n\tpreferredId?: T\n): T;\n\n/**\n * Provides a unique instance ID.\n *\n * @param object        Object reference to create an id for.\n * @param [prefix]      Prefix for the unique id.\n * @param [preferredId] Default ID to use.\n * @return The unique instance id.\n */\nfunction useInstanceId(\n\tobject: object,\n\tprefix?: string,\n\tpreferredId?: string | number\n): string | number {\n\treturn useMemo( () => {\n\t\tif ( preferredId ) {\n\t\t\treturn preferredId;\n\t\t}\n\t\tconst id = createId( object );\n\n\t\treturn prefix ? `${ prefix }-${ id }` : id;\n\t}, [ object, preferredId, prefix ] );\n}\n\nexport default useInstanceId;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tWithInjectedProps,\n\tWithoutInjectedProps,\n} from '../../utils/create-higher-order-component';\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\nimport useInstanceId from '../../hooks/use-instance-id';\n\ntype InstanceIdProps = { instanceId: string | number };\n\n/**\n * A Higher Order Component used to provide a unique instance ID by component.\n */\nconst withInstanceId = createHigherOrderComponent(\n\t< C extends WithInjectedProps< C, InstanceIdProps > >(\n\t\tWrappedComponent: C\n\t) => {\n\t\treturn ( props: WithoutInjectedProps< C, InstanceIdProps > ) => {\n\t\t\tconst instanceId = useInstanceId( WrappedComponent );\n\t\t\t// @ts-ignore\n\t\t\treturn <WrappedComponent { ...props } instanceId={ instanceId } />;\n\t\t};\n\t},\n\t'instanceId'\n);\n\nexport default withInstanceId;\n", "/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tWithInjectedProps,\n\tWithoutInjectedProps,\n} from '../../utils/create-higher-order-component';\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\n\n/**\n * We cannot use the `Window['setTimeout']` and `Window['clearTimeout']`\n * types here because those functions include functionality that is not handled\n * by this component, like the ability to pass extra arguments.\n *\n * In the case of this component, we only handle the simplest case where\n * `setTimeout` only accepts a function (not a string) and an optional delay.\n */\ninterface TimeoutProps {\n\tsetTimeout: ( fn: () => void, delay: number ) => number;\n\tclearTimeout: ( id: number ) => void;\n}\n\n/**\n * A higher-order component used to provide and manage delayed function calls\n * that ought to be bound to a component's lifecycle.\n */\nconst withSafeTimeout = createHigherOrderComponent(\n\t< C extends WithInjectedProps< C, TimeoutProps > >(\n\t\tOriginalComponent: C\n\t) => {\n\t\ttype WrappedProps = WithoutInjectedProps< C, TimeoutProps >;\n\t\treturn class WrappedComponent extends Component< WrappedProps > {\n\t\t\ttimeouts: number[];\n\n\t\t\tconstructor( props: WrappedProps ) {\n\t\t\t\tsuper( props );\n\t\t\t\tthis.timeouts = [];\n\t\t\t\tthis.setTimeout = this.setTimeout.bind( this );\n\t\t\t\tthis.clearTimeout = this.clearTimeout.bind( this );\n\t\t\t}\n\n\t\t\tcomponentWillUnmount() {\n\t\t\t\tthis.timeouts.forEach( clearTimeout );\n\t\t\t}\n\n\t\t\tsetTimeout( fn: () => void, delay: number ) {\n\t\t\t\tconst id = setTimeout( () => {\n\t\t\t\t\tfn();\n\t\t\t\t\tthis.clearTimeout( id );\n\t\t\t\t}, delay );\n\t\t\t\tthis.timeouts.push( id );\n\t\t\t\treturn id;\n\t\t\t}\n\n\t\t\tclearTimeout( id: number ) {\n\t\t\t\tclearTimeout( id );\n\t\t\t\tthis.timeouts = this.timeouts.filter(\n\t\t\t\t\t( timeoutId ) => timeoutId !== id\n\t\t\t\t);\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\treturn (\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t<OriginalComponent\n\t\t\t\t\t\t{ ...this.props }\n\t\t\t\t\t\tsetTimeout={ this.setTimeout }\n\t\t\t\t\t\tclearTimeout={ this.clearTimeout }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t},\n\t'withSafeTimeout'\n);\n\nexport default withSafeTimeout;\n", "/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { createHigherOrderComponent } from '../../utils/create-higher-order-component';\n\n/**\n * A Higher Order Component used to provide and manage internal component state\n * via props.\n *\n * @deprecated Use `useState` instead.\n *\n * @param {any} initialState Optional initial state of the component.\n *\n * @return {any} A higher order component wrapper accepting a component that takes the state props + its own props + `setState` and returning a component that only accepts the own props.\n */\nexport default function withState( initialState = {} ) {\n\tdeprecated( 'wp.compose.withState', {\n\t\tsince: '5.8',\n\t\talternative: 'wp.element.useState',\n\t} );\n\n\treturn createHigherOrderComponent( ( OriginalComponent ) => {\n\t\treturn class WrappedComponent extends Component {\n\t\t\tconstructor( /** @type {any} */ props ) {\n\t\t\t\tsuper( props );\n\n\t\t\t\tthis.setState = this.setState.bind( this );\n\n\t\t\t\tthis.state = initialState;\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\treturn (\n\t\t\t\t\t<OriginalComponent\n\t\t\t\t\t\t{ ...this.props }\n\t\t\t\t\t\t{ ...this.state }\n\t\t\t\t\t\tsetState={ this.setState }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}, 'withState' );\n}\n", "/**\n * References:\n *\n * Focusable:\n *  - https://www.w3.org/TR/html5/editing.html#focus-management\n *\n * Sequential focus navigation:\n *  - https://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n *\n * Disabled elements:\n *  - https://www.w3.org/TR/html5/disabled-elements.html#disabled-elements\n *\n * getClientRects algorithm (requiring layout box):\n *  - https://www.w3.org/TR/cssom-view-1/#extension-to-the-element-interface\n *\n * AREA elements associated with an IMG:\n *  - https://w3c.github.io/html/editing.html#data-model\n */\n\n/**\n * Returns a CSS selector used to query for focusable elements.\n *\n * @param {boolean} sequential If set, only query elements that are sequentially\n *                             focusable. Non-interactive elements with a\n *                             negative `tabindex` are focusable but not\n *                             sequentially focusable.\n *                             https://html.spec.whatwg.org/multipage/interaction.html#the-tabindex-attribute\n *\n * @return {string} CSS selector.\n */\nfunction buildSelector( sequential ) {\n\treturn [\n\t\tsequential ? '[tabindex]:not([tabindex^=\"-\"])' : '[tabindex]',\n\t\t'a[href]',\n\t\t'button:not([disabled])',\n\t\t'input:not([type=\"hidden\"]):not([disabled])',\n\t\t'select:not([disabled])',\n\t\t'textarea:not([disabled])',\n\t\t'iframe:not([tabindex^=\"-\"])',\n\t\t'object',\n\t\t'embed',\n\t\t'summary',\n\t\t'area[href]',\n\t\t'[contenteditable]:not([contenteditable=false])',\n\t].join( ',' );\n}\n\n/**\n * Returns true if the specified element is visible (i.e. neither display: none\n * nor visibility: hidden).\n *\n * @param {HTMLElement} element DOM element to test.\n *\n * @return {boolean} Whether element is visible.\n */\nfunction isVisible( element ) {\n\treturn (\n\t\telement.offsetWidth > 0 ||\n\t\telement.offsetHeight > 0 ||\n\t\telement.getClientRects().length > 0\n\t);\n}\n\n/**\n * Returns true if the specified area element is a valid focusable element, or\n * false otherwise. Area is only focusable if within a map where a named map\n * referenced by an image somewhere in the document.\n *\n * @param {HTMLAreaElement} element DOM area element to test.\n *\n * @return {boolean} Whether area element is valid for focus.\n */\nfunction isValidFocusableArea( element ) {\n\t/** @type {HTMLMapElement | null} */\n\tconst map = element.closest( 'map[name]' );\n\tif ( ! map ) {\n\t\treturn false;\n\t}\n\n\t/** @type {HTMLImageElement | null} */\n\tconst img = element.ownerDocument.querySelector(\n\t\t'img[usemap=\"#' + map.name + '\"]'\n\t);\n\treturn !! img && isVisible( img );\n}\n\n/**\n * Returns all focusable elements within a given context.\n *\n * @param {Element} context              Element in which to search.\n * @param {Object}  options\n * @param {boolean} [options.sequential] If set, only return elements that are\n *                                       sequentially focusable.\n *                                       Non-interactive elements with a\n *                                       negative `tabindex` are focusable but\n *                                       not sequentially focusable.\n *                                       https://html.spec.whatwg.org/multipage/interaction.html#the-tabindex-attribute\n *\n * @return {HTMLElement[]} Focusable elements.\n */\nexport function find( context, { sequential = false } = {} ) {\n\t/** @type {NodeListOf<HTMLElement>} */\n\tconst elements = context.querySelectorAll( buildSelector( sequential ) );\n\n\treturn Array.from( elements ).filter( ( element ) => {\n\t\tif ( ! isVisible( element ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst { nodeName } = element;\n\t\tif ( 'AREA' === nodeName ) {\n\t\t\treturn isValidFocusableArea(\n\t\t\t\t/** @type {HTMLAreaElement} */ ( element )\n\t\t\t);\n\t\t}\n\n\t\treturn true;\n\t} );\n}\n", "/**\n * Internal dependencies\n */\nimport { find as findFocusable } from './focusable';\n\n/**\n * Returns the tab index of the given element. In contrast with the tabIndex\n * property, this normalizes the default (0) to avoid browser inconsistencies,\n * operating under the assumption that this function is only ever called with a\n * focusable node.\n *\n * @see https://bugzilla.mozilla.org/show_bug.cgi?id=1190261\n *\n * @param {Element} element Element from which to retrieve.\n *\n * @return {number} Tab index of element (default 0).\n */\nfunction getTabIndex( element ) {\n\tconst tabIndex = element.getAttribute( 'tabindex' );\n\treturn tabIndex === null ? 0 : parseInt( tabIndex, 10 );\n}\n\n/**\n * Returns true if the specified element is tabbable, or false otherwise.\n *\n * @param {Element} element Element to test.\n *\n * @return {boolean} Whether element is tabbable.\n */\nexport function isTabbableIndex( element ) {\n\treturn getTabIndex( element ) !== -1;\n}\n\n/** @typedef {HTMLElement & { type?: string, checked?: boolean, name?: string }} MaybeHTMLInputElement */\n\n/**\n * Returns a stateful reducer function which constructs a filtered array of\n * tabbable elements, where at most one radio input is selected for a given\n * name, giving priority to checked input, falling back to the first\n * encountered.\n *\n * @return {(acc: MaybeHTMLInputElement[], el: MaybeHTMLInputElement) => MaybeHTMLInputElement[]} Radio group collapse reducer.\n */\nfunction createStatefulCollapseRadioGroup() {\n\t/** @type {Record<string, MaybeHTMLInputElement>} */\n\tconst CHOSEN_RADIO_BY_NAME = {};\n\n\treturn function collapseRadioGroup(\n\t\t/** @type {MaybeHTMLInputElement[]} */ result,\n\t\t/** @type {MaybeHTMLInputElement} */ element\n\t) {\n\t\tconst { nodeName, type, checked, name } = element;\n\n\t\t// For all non-radio tabbables, construct to array by concatenating.\n\t\tif ( nodeName !== 'INPUT' || type !== 'radio' || ! name ) {\n\t\t\treturn result.concat( element );\n\t\t}\n\n\t\tconst hasChosen = CHOSEN_RADIO_BY_NAME.hasOwnProperty( name );\n\n\t\t// Omit by skipping concatenation if the radio element is not chosen.\n\t\tconst isChosen = checked || ! hasChosen;\n\t\tif ( ! isChosen ) {\n\t\t\treturn result;\n\t\t}\n\n\t\t// At this point, if there had been a chosen element, the current\n\t\t// element is checked and should take priority. Retroactively remove\n\t\t// the element which had previously been considered the chosen one.\n\t\tif ( hasChosen ) {\n\t\t\tconst hadChosenElement = CHOSEN_RADIO_BY_NAME[ name ];\n\t\t\tresult = result.filter( ( e ) => e !== hadChosenElement );\n\t\t}\n\n\t\tCHOSEN_RADIO_BY_NAME[ name ] = element;\n\n\t\treturn result.concat( element );\n\t};\n}\n\n/**\n * An array map callback, returning an object with the element value and its\n * array index location as properties. This is used to emulate a proper stable\n * sort where equal tabIndex should be left in order of their occurrence in the\n * document.\n *\n * @param {HTMLElement} element Element.\n * @param {number}      index   Array index of element.\n *\n * @return {{ element: HTMLElement, index: number }} Mapped object with element, index.\n */\nfunction mapElementToObjectTabbable( element, index ) {\n\treturn { element, index };\n}\n\n/**\n * An array map callback, returning an element of the given mapped object's\n * element value.\n *\n * @param {{ element: HTMLElement }} object Mapped object with element.\n *\n * @return {HTMLElement} Mapped object element.\n */\nfunction mapObjectTabbableToElement( object ) {\n\treturn object.element;\n}\n\n/**\n * A sort comparator function used in comparing two objects of mapped elements.\n *\n * @see mapElementToObjectTabbable\n *\n * @param {{ element: HTMLElement, index: number }} a First object to compare.\n * @param {{ element: HTMLElement, index: number }} b Second object to compare.\n *\n * @return {number} Comparator result.\n */\nfunction compareObjectTabbables( a, b ) {\n\tconst aTabIndex = getTabIndex( a.element );\n\tconst bTabIndex = getTabIndex( b.element );\n\n\tif ( aTabIndex === bTabIndex ) {\n\t\treturn a.index - b.index;\n\t}\n\n\treturn aTabIndex - bTabIndex;\n}\n\n/**\n * Givin focusable elements, filters out tabbable element.\n *\n * @param {HTMLElement[]} focusables Focusable elements to filter.\n *\n * @return {HTMLElement[]} Tabbable elements.\n */\nfunction filterTabbable( focusables ) {\n\treturn focusables\n\t\t.filter( isTabbableIndex )\n\t\t.map( mapElementToObjectTabbable )\n\t\t.sort( compareObjectTabbables )\n\t\t.map( mapObjectTabbableToElement )\n\t\t.reduce( createStatefulCollapseRadioGroup(), [] );\n}\n\n/**\n * @param {Element} context\n * @return {HTMLElement[]} Tabbable elements within the context.\n */\nexport function find( context ) {\n\treturn filterTabbable( findFocusable( context ) );\n}\n\n/**\n * Given a focusable element, find the preceding tabbable element.\n *\n * @param {Element} element The focusable element before which to look. Defaults\n *                          to the active element.\n *\n * @return {HTMLElement|undefined} Preceding tabbable element.\n */\nexport function findPrevious( element ) {\n\treturn filterTabbable( findFocusable( element.ownerDocument.body ) )\n\t\t.reverse()\n\t\t.find(\n\t\t\t( focusable ) =>\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\telement.compareDocumentPosition( focusable ) &\n\t\t\t\telement.DOCUMENT_POSITION_PRECEDING\n\t\t);\n}\n\n/**\n * Given a focusable element, find the next tabbable element.\n *\n * @param {Element} element The focusable element after which to look. Defaults\n *                          to the active element.\n *\n * @return {HTMLElement|undefined} Next tabbable element.\n */\nexport function findNext( element ) {\n\treturn filterTabbable( findFocusable( element.ownerDocument.body ) ).find(\n\t\t( focusable ) =>\n\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\telement.compareDocumentPosition( focusable ) &\n\t\t\telement.DOCUMENT_POSITION_FOLLOWING\n\t);\n}\n", "export function assertIsDefined< T >(\n\tval: T,\n\tname: string\n): asserts val is NonNullable< T > {\n\tif (\n\t\tprocess.env.NODE_ENV !== 'production' &&\n\t\t( val === undefined || val === null )\n\t) {\n\t\tthrow new Error(\n\t\t\t`Expected '${ name }' to be defined, but received ${ val }`\n\t\t);\n\t}\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Get the rectangle of a given Range. Returns `null` if no suitable rectangle\n * can be found.\n *\n * @param {Range} range The range.\n *\n * @return {DOMRect?} The rectangle.\n */\nexport default function getRectangleFromRange( range ) {\n\t// For uncollapsed ranges, get the rectangle that bounds the contents of the\n\t// range; this a rectangle enclosing the union of the bounding rectangles\n\t// for all the elements in the range.\n\tif ( ! range.collapsed ) {\n\t\tconst rects = Array.from( range.getClientRects() );\n\n\t\t// If there's just a single rect, return it.\n\t\tif ( rects.length === 1 ) {\n\t\t\treturn rects[ 0 ];\n\t\t}\n\n\t\t// Ignore tiny selection at the edge of a range.\n\t\tconst filteredRects = rects.filter( ( { width } ) => width > 1 );\n\n\t\t// If it's full of tiny selections, return browser default.\n\t\tif ( filteredRects.length === 0 ) {\n\t\t\treturn range.getBoundingClientRect();\n\t\t}\n\n\t\tif ( filteredRects.length === 1 ) {\n\t\t\treturn filteredRects[ 0 ];\n\t\t}\n\n\t\tlet {\n\t\t\ttop: furthestTop,\n\t\t\tbottom: furthestBottom,\n\t\t\tleft: furthestLeft,\n\t\t\tright: furthestRight,\n\t\t} = filteredRects[ 0 ];\n\n\t\tfor ( const { top, bottom, left, right } of filteredRects ) {\n\t\t\tif ( top < furthestTop ) {\n\t\t\t\tfurthestTop = top;\n\t\t\t}\n\t\t\tif ( bottom > furthestBottom ) {\n\t\t\t\tfurthestBottom = bottom;\n\t\t\t}\n\t\t\tif ( left < furthestLeft ) {\n\t\t\t\tfurthestLeft = left;\n\t\t\t}\n\t\t\tif ( right > furthestRight ) {\n\t\t\t\tfurthestRight = right;\n\t\t\t}\n\t\t}\n\n\t\treturn new window.DOMRect(\n\t\t\tfurthestLeft,\n\t\t\tfurthestTop,\n\t\t\tfurthestRight - furthestLeft,\n\t\t\tfurthestBottom - furthestTop\n\t\t);\n\t}\n\n\tconst { startContainer } = range;\n\tconst { ownerDocument } = startContainer;\n\n\t// Correct invalid \"BR\" ranges. The cannot contain any children.\n\tif ( startContainer.nodeName === 'BR' ) {\n\t\tconst { parentNode } = startContainer;\n\t\tassertIsDefined( parentNode, 'parentNode' );\n\t\tconst index = /** @type {Node[]} */ (\n\t\t\tArray.from( parentNode.childNodes )\n\t\t).indexOf( startContainer );\n\n\t\tassertIsDefined( ownerDocument, 'ownerDocument' );\n\t\trange = ownerDocument.createRange();\n\t\trange.setStart( parentNode, index );\n\t\trange.setEnd( parentNode, index );\n\t}\n\n\tconst rects = range.getClientRects();\n\n\t// If we have multiple rectangles for a collapsed range, there's no way to\n\t// know which it is, so don't return anything.\n\tif ( rects.length > 1 ) {\n\t\treturn null;\n\t}\n\n\tlet rect = rects[ 0 ];\n\n\t// If the collapsed range starts (and therefore ends) at an element node,\n\t// `getClientRects` can be empty in some browsers. This can be resolved\n\t// by adding a temporary text node with zero-width space to the range.\n\t//\n\t// See: https://stackoverflow.com/a/6847328/995445\n\tif ( ! rect || rect.height === 0 ) {\n\t\tassertIsDefined( ownerDocument, 'ownerDocument' );\n\t\tconst padNode = ownerDocument.createTextNode( '\\u200b' );\n\t\t// Do not modify the live range.\n\t\trange = range.cloneRange();\n\t\trange.insertNode( padNode );\n\t\trect = range.getClientRects()[ 0 ];\n\t\tassertIsDefined( padNode.parentNode, 'padNode.parentNode' );\n\t\tpadNode.parentNode.removeChild( padNode );\n\t}\n\n\treturn rect;\n}\n", "/**\n * Internal dependencies\n */\nimport getRectangleFromRange from './get-rectangle-from-range';\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Get the rectangle for the selection in a container.\n *\n * @param {Window} win The window of the selection.\n *\n * @return {DOMRect | null} The rectangle.\n */\nexport default function computeCaretRect( win ) {\n\tconst selection = win.getSelection();\n\tassertIsDefined( selection, 'selection' );\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\n\tif ( ! range ) {\n\t\treturn null;\n\t}\n\n\treturn getRectangleFromRange( range );\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Check whether the current document has selected text. This applies to ranges\n * of text in the document, and not selection inside `<input>` and `<textarea>`\n * elements.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Window/getSelection#Related_objects.\n *\n * @param {Document} doc The document to check.\n *\n * @return {boolean} True if there is selection, false if not.\n */\nexport default function documentHasTextSelection( doc ) {\n\tassertIsDefined( doc.defaultView, 'doc.defaultView' );\n\tconst selection = doc.defaultView.getSelection();\n\tassertIsDefined( selection, 'selection' );\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\treturn !! range && ! range.collapsed;\n}\n", "/* eslint-disable jsdoc/valid-types */\n/**\n * @param {Node} node\n * @return {node is HTMLInputElement} Whether the node is an HTMLInputElement.\n */\nexport default function isHTMLInputElement( node ) {\n\t/* eslint-enable jsdoc/valid-types */\n\treturn node?.nodeName === 'INPUT';\n}\n", "/**\n * Internal dependencies\n */\nimport isHTMLInputElement from './is-html-input-element';\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * Check whether the given element is a text field, where text field is defined\n * by the ability to select within the input, or that it is contenteditable.\n *\n * See: https://html.spec.whatwg.org/#textFieldSelection\n *\n * @param {Node} node The HTML element.\n * @return {node is HTMLElement} True if the element is an text field, false if not.\n */\nexport default function isTextField( node ) {\n\t/* eslint-enable jsdoc/valid-types */\n\tconst nonTextInputs = [\n\t\t'button',\n\t\t'checkbox',\n\t\t'hidden',\n\t\t'file',\n\t\t'radio',\n\t\t'image',\n\t\t'range',\n\t\t'reset',\n\t\t'submit',\n\t\t'number',\n\t\t'email',\n\t\t'time',\n\t];\n\treturn (\n\t\t( isHTMLInputElement( node ) &&\n\t\t\tnode.type &&\n\t\t\t! nonTextInputs.includes( node.type ) ) ||\n\t\tnode.nodeName === 'TEXTAREA' ||\n\t\t/** @type {HTMLElement} */ ( node ).contentEditable === 'true'\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport isTextField from './is-text-field';\nimport isHTMLInputElement from './is-html-input-element';\n\n/**\n * Check whether the given input field or textarea contains a (uncollapsed)\n * selection of text.\n *\n * CAVEAT: Only specific text-based HTML inputs support the selection APIs\n * needed to determine whether they have a collapsed or uncollapsed selection.\n * This function defaults to returning `true` when the selection cannot be\n * inspected, such as with `<input type=\"time\">`. The rationale is that this\n * should cause the block editor to defer to the browser's native selection\n * handling (e.g. copying and pasting), thereby reducing friction for the user.\n *\n * See: https://html.spec.whatwg.org/multipage/input.html#do-not-apply\n *\n * @param {Element} element The HTML element.\n *\n * @return {boolean} Whether the input/textarea element has some \"selection\".\n */\nexport default function inputFieldHasUncollapsedSelection( element ) {\n\tif ( ! isHTMLInputElement( element ) && ! isTextField( element ) ) {\n\t\treturn false;\n\t}\n\n\t// Safari throws a type error when trying to get `selectionStart` and\n\t// `selectionEnd` on non-text <input> elements, so a try/catch construct is\n\t// necessary.\n\ttry {\n\t\tconst { selectionStart, selectionEnd } =\n\t\t\t/** @type {HTMLInputElement | HTMLTextAreaElement} */ ( element );\n\t\treturn (\n\t\t\t// `null` means the input type doesn't implement selection, thus we\n\t\t\t// cannot determine whether the selection is collapsed, so we\n\t\t\t// default to true.\n\t\t\tselectionStart === null ||\n\t\t\t// when not null, compare the two points\n\t\t\tselectionStart !== selectionEnd\n\t\t);\n\t} catch ( error ) {\n\t\t// This is Safari's way of saying that the input type doesn't implement\n\t\t// selection, so we default to true.\n\t\treturn true;\n\t}\n}\n", "/**\n * Internal dependencies\n */\nimport documentHasTextSelection from './document-has-text-selection';\nimport inputFieldHasUncollapsedSelection from './input-field-has-uncollapsed-selection';\n\n/**\n * Check whether the current document has any sort of (uncollapsed) selection.\n * This includes ranges of text across elements and any selection inside\n * textual `<input>` and `<textarea>` elements.\n *\n * @param {Document} doc The document to check.\n *\n * @return {boolean} Whether there is any recognizable text selection in the document.\n */\nexport default function documentHasUncollapsedSelection( doc ) {\n\treturn (\n\t\tdocumentHasTextSelection( doc ) ||\n\t\t( !! doc.activeElement &&\n\t\t\tinputFieldHasUncollapsedSelection( doc.activeElement ) )\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport isTextField from './is-text-field';\nimport isHTMLInputElement from './is-html-input-element';\nimport documentHasTextSelection from './document-has-text-selection';\n\n/**\n * Check whether the current document has a selection. This includes focus in\n * input fields, textareas, and general rich-text selection.\n *\n * @param {Document} doc The document to check.\n *\n * @return {boolean} True if there is selection, false if not.\n */\nexport default function documentHasSelection( doc ) {\n\treturn (\n\t\t!! doc.activeElement &&\n\t\t( isHTMLInputElement( doc.activeElement ) ||\n\t\t\tisTextField( doc.activeElement ) ||\n\t\t\tdocumentHasTextSelection( doc ) )\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * @param {Element} element\n * @return {ReturnType<Window['getComputedStyle']>} The computed style for the element.\n */\nexport default function getComputedStyle( element ) {\n\t/* eslint-enable jsdoc/valid-types */\n\tassertIsDefined(\n\t\telement.ownerDocument.defaultView,\n\t\t'element.ownerDocument.defaultView'\n\t);\n\treturn element.ownerDocument.defaultView.getComputedStyle( element );\n}\n", "/**\n * Internal dependencies\n */\nimport getComputedStyle from './get-computed-style';\n\n/**\n * Given a DOM node, finds the closest scrollable container node or the node\n * itself, if scrollable.\n *\n * @param {Element | null} node      Node from which to start.\n * @param {?string}        direction Direction of scrollable container to search for ('vertical', 'horizontal', 'all').\n *                                   Defaults to 'vertical'.\n * @return {Element | undefined} Scrollable container node, if found.\n */\nexport default function getScrollContainer( node, direction = 'vertical' ) {\n\tif ( ! node ) {\n\t\treturn undefined;\n\t}\n\n\tif ( direction === 'vertical' || direction === 'all' ) {\n\t\t// Scrollable if scrollable height exceeds displayed...\n\t\tif ( node.scrollHeight > node.clientHeight ) {\n\t\t\t// ...except when overflow is defined to be hidden or visible\n\t\t\tconst { overflowY } = getComputedStyle( node );\n\n\t\t\tif ( /(auto|scroll)/.test( overflowY ) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( direction === 'horizontal' || direction === 'all' ) {\n\t\t// Scrollable if scrollable width exceeds displayed...\n\t\tif ( node.scrollWidth > node.clientWidth ) {\n\t\t\t// ...except when overflow is defined to be hidden or visible\n\t\t\tconst { overflowX } = getComputedStyle( node );\n\n\t\t\tif ( /(auto|scroll)/.test( overflowX ) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( node.ownerDocument === node.parentNode ) {\n\t\treturn node;\n\t}\n\n\t// Continue traversing.\n\treturn getScrollContainer(\n\t\t/** @type {Element} */ ( node.parentNode ),\n\t\tdirection\n\t);\n}\n", "/* eslint-disable jsdoc/valid-types */\n/**\n * @param {Element} element\n * @return {element is HTMLInputElement | HTMLTextAreaElement} Whether the element is an input or textarea\n */\nexport default function isInputOrTextArea( element ) {\n\t/* eslint-enable jsdoc/valid-types */\n\treturn element.tagName === 'INPUT' || element.tagName === 'TEXTAREA';\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\nimport isInputOrTextArea from './is-input-or-text-area';\n\n/**\n * Check whether the contents of the element have been entirely selected.\n * Returns true if there is no possibility of selection.\n *\n * @param {HTMLElement} element The element to check.\n *\n * @return {boolean} True if entirely selected, false if not.\n */\nexport default function isEntirelySelected( element ) {\n\tif ( isInputOrTextArea( element ) ) {\n\t\treturn (\n\t\t\telement.selectionStart === 0 &&\n\t\t\telement.value.length === element.selectionEnd\n\t\t);\n\t}\n\n\tif ( ! element.isContentEditable ) {\n\t\treturn true;\n\t}\n\n\tconst { ownerDocument } = element;\n\tconst { defaultView } = ownerDocument;\n\tassertIsDefined( defaultView, 'defaultView' );\n\tconst selection = defaultView.getSelection();\n\tassertIsDefined( selection, 'selection' );\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\n\tif ( ! range ) {\n\t\treturn true;\n\t}\n\n\tconst { startContainer, endContainer, startOffset, endOffset } = range;\n\n\tif (\n\t\tstartContainer === element &&\n\t\tendContainer === element &&\n\t\tstartOffset === 0 &&\n\t\tendOffset === element.childNodes.length\n\t) {\n\t\treturn true;\n\t}\n\n\tconst lastChild = element.lastChild;\n\tassertIsDefined( lastChild, 'lastChild' );\n\tconst endContainerContentLength =\n\t\tendContainer.nodeType === endContainer.TEXT_NODE\n\t\t\t? /** @type {Text} */ ( endContainer ).data.length\n\t\t\t: endContainer.childNodes.length;\n\n\treturn (\n\t\tisDeepChild( startContainer, element, 'firstChild' ) &&\n\t\tisDeepChild( endContainer, element, 'lastChild' ) &&\n\t\tstartOffset === 0 &&\n\t\tendOffset === endContainerContentLength\n\t);\n}\n\n/**\n * Check whether the contents of the element have been entirely selected.\n * Returns true if there is no possibility of selection.\n *\n * @param {HTMLElement|Node}         query     The element to check.\n * @param {HTMLElement}              container The container that we suspect \"query\" may be a first or last child of.\n * @param {\"firstChild\"|\"lastChild\"} propName  \"firstChild\" or \"lastChild\"\n *\n * @return {boolean} True if query is a deep first/last child of container, false otherwise.\n */\nfunction isDeepChild( query, container, propName ) {\n\t/** @type {HTMLElement | ChildNode | null} */\n\tlet candidate = container;\n\tdo {\n\t\tif ( query === candidate ) {\n\t\t\treturn true;\n\t\t}\n\t\tcandidate = candidate[ propName ];\n\t} while ( candidate );\n\treturn false;\n}\n", "/**\n * Internal dependencies\n */\nimport isInputOrTextArea from './is-input-or-text-area';\n\n/**\n *\n * Detects if element is a form element.\n *\n * @param {Element} element The element to check.\n *\n * @return {boolean} True if form element and false otherwise.\n */\nexport default function isFormElement( element ) {\n\tif ( ! element ) {\n\t\treturn false;\n\t}\n\n\tconst { tagName } = element;\n\tconst checkForInputTextarea = isInputOrTextArea( element );\n\treturn (\n\t\tcheckForInputTextarea || tagName === 'BUTTON' || tagName === 'SELECT'\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport getComputedStyle from './get-computed-style';\n\n/**\n * Whether the element's text direction is right-to-left.\n *\n * @param {Element} element The element to check.\n *\n * @return {boolean} True if rtl, false if ltr.\n */\nexport default function isRTL( element ) {\n\treturn getComputedStyle( element ).direction === 'rtl';\n}\n", "/**\n * Gets the height of the range without ignoring zero width rectangles, which\n * some browsers ignore when creating a union.\n *\n * @param {Range} range The range to check.\n * @return {number | undefined} Height of the range or undefined if the range has no client rectangles.\n */\nexport default function getRangeHeight( range ) {\n\tconst rects = Array.from( range.getClientRects() );\n\n\tif ( ! rects.length ) {\n\t\treturn;\n\t}\n\n\tconst highestTop = Math.min( ...rects.map( ( { top } ) => top ) );\n\tconst lowestBottom = Math.max( ...rects.map( ( { bottom } ) => bottom ) );\n\n\treturn lowestBottom - highestTop;\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Returns true if the given selection object is in the forward direction, or\n * false otherwise.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n *\n * @param {Selection} selection Selection object to check.\n *\n * @return {boolean} Whether the selection is forward.\n */\nexport default function isSelectionForward( selection ) {\n\tconst { anchorNode, focusNode, anchorOffset, focusOffset } = selection;\n\n\tassertIsDefined( anchorNode, 'anchorNode' );\n\tassertIsDefined( focusNode, 'focusNode' );\n\tconst position = anchorNode.compareDocumentPosition( focusNode );\n\n\t// Disable reason: `Node#compareDocumentPosition` returns a bitmask value,\n\t// so bitwise operators are intended.\n\t/* eslint-disable no-bitwise */\n\t// Compare whether anchor node precedes focus node. If focus node (where\n\t// end of selection occurs) is after the anchor node, it is forward.\n\tif ( position & anchorNode.DOCUMENT_POSITION_PRECEDING ) {\n\t\treturn false;\n\t}\n\n\tif ( position & anchorNode.DOCUMENT_POSITION_FOLLOWING ) {\n\t\treturn true;\n\t}\n\t/* eslint-enable no-bitwise */\n\n\t// `compareDocumentPosition` returns 0 when passed the same node, in which\n\t// case compare offsets.\n\tif ( position === 0 ) {\n\t\treturn anchorOffset <= focusOffset;\n\t}\n\n\t// This should never be reached, but return true as default case.\n\treturn true;\n}\n", "/**\n * Polyfill.\n * Get a collapsed range for a given point.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/caretRangeFromPoint\n *\n * @param {DocumentMaybeWithCaretPositionFromPoint} doc The document of the range.\n * @param {number}                                  x   Horizontal position within the current viewport.\n * @param {number}                                  y   Vertical position within the current viewport.\n *\n * @return {Range | null} The best range for the given point.\n */\nexport default function caretRangeFromPoint( doc, x, y ) {\n\tif ( doc.caretRangeFromPoint ) {\n\t\treturn doc.caretRangeFromPoint( x, y );\n\t}\n\n\tif ( ! doc.caretPositionFromPoint ) {\n\t\treturn null;\n\t}\n\n\tconst point = doc.caretPositionFromPoint( x, y );\n\n\t// If x or y are negative, outside viewport, or there is no text entry node.\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Document/caretRangeFromPoint\n\tif ( ! point ) {\n\t\treturn null;\n\t}\n\n\tconst range = doc.createRange();\n\n\trange.setStart( point.offsetNode, point.offset );\n\trange.collapse( true );\n\n\treturn range;\n}\n\n/**\n * @typedef {{caretPositionFromPoint?: (x: number, y: number)=> CaretPosition | null} & Document } DocumentMaybeWithCaretPositionFromPoint\n * @typedef {{ readonly offset: number; readonly offsetNode: Node; getClientRect(): DOMRect | null; }} CaretPosition\n */\n", "/**\n * Internal dependencies\n */\nimport caretRangeFromPoint from './caret-range-from-point';\nimport getComputedStyle from './get-computed-style';\n\n/**\n * Get a collapsed range for a given point.\n * Gives the container a temporary high z-index (above any UI).\n * This is preferred over getting the UI nodes and set styles there.\n *\n * @param {Document}    doc       The document of the range.\n * @param {number}      x         Horizontal position within the current viewport.\n * @param {number}      y         Vertical position within the current viewport.\n * @param {HTMLElement} container Container in which the range is expected to be found.\n *\n * @return {?Range} The best range for the given point.\n */\nexport default function hiddenCaretRangeFromPoint( doc, x, y, container ) {\n\tconst originalZIndex = container.style.zIndex;\n\tconst originalPosition = container.style.position;\n\n\tconst { position = 'static' } = getComputedStyle( container );\n\n\t// A z-index only works if the element position is not static.\n\tif ( position === 'static' ) {\n\t\tcontainer.style.position = 'relative';\n\t}\n\n\tcontainer.style.zIndex = '10000';\n\n\tconst range = caretRangeFromPoint( doc, x, y );\n\n\tcontainer.style.zIndex = originalZIndex;\n\tcontainer.style.position = originalPosition;\n\n\treturn range;\n}\n", "/**\n * If no range range can be created or it is outside the container, the element\n * may be out of view, so scroll it into view and try again.\n *\n * @param {HTMLElement} container  The container to scroll.\n * @param {boolean}     alignToTop True to align to top, false to bottom.\n * @param {Function}    callback   The callback to create the range.\n *\n * @return {?Range} The range returned by the callback.\n */\nexport function scrollIfNoRange( container, alignToTop, callback ) {\n\tlet range = callback();\n\n\t// If no range range can be created or it is outside the container, the\n\t// element may be out of view.\n\tif (\n\t\t! range ||\n\t\t! range.startContainer ||\n\t\t! container.contains( range.startContainer )\n\t) {\n\t\tcontainer.scrollIntoView( alignToTop );\n\t\trange = callback();\n\n\t\tif (\n\t\t\t! range ||\n\t\t\t! range.startContainer ||\n\t\t\t! container.contains( range.startContainer )\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn range;\n}\n", "/**\n * Internal dependencies\n */\nimport isRTL from './is-rtl';\nimport getRangeHeight from './get-range-height';\nimport getRectangleFromRange from './get-rectangle-from-range';\nimport isSelectionForward from './is-selection-forward';\nimport hiddenCaretRangeFromPoint from './hidden-caret-range-from-point';\nimport { assertIsDefined } from '../utils/assert-is-defined';\nimport isInputOrTextArea from './is-input-or-text-area';\nimport { scrollIfNoRange } from './scroll-if-no-range';\n\n/**\n * Check whether the selection is at the edge of the container. Checks for\n * horizontal position by default. Set `onlyVertical` to true to check only\n * vertically.\n *\n * @param {HTMLElement} container            Focusable element.\n * @param {boolean}     isReverse            Set to true to check left, false to check right.\n * @param {boolean}     [onlyVertical=false] Set to true to check only vertical position.\n *\n * @return {boolean} True if at the edge, false if not.\n */\nexport default function isEdge( container, isReverse, onlyVertical = false ) {\n\tif (\n\t\tisInputOrTextArea( container ) &&\n\t\ttypeof container.selectionStart === 'number'\n\t) {\n\t\tif ( container.selectionStart !== container.selectionEnd ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( isReverse ) {\n\t\t\treturn container.selectionStart === 0;\n\t\t}\n\n\t\treturn container.value.length === container.selectionStart;\n\t}\n\n\tif ( ! container.isContentEditable ) {\n\t\treturn true;\n\t}\n\n\tconst { ownerDocument } = container;\n\tconst { defaultView } = ownerDocument;\n\n\tassertIsDefined( defaultView, 'defaultView' );\n\tconst selection = defaultView.getSelection();\n\n\tif ( ! selection || ! selection.rangeCount ) {\n\t\treturn false;\n\t}\n\n\tconst range = selection.getRangeAt( 0 );\n\tconst collapsedRange = range.cloneRange();\n\tconst isForward = isSelectionForward( selection );\n\tconst isCollapsed = selection.isCollapsed;\n\n\t// Collapse in direction of selection.\n\tif ( ! isCollapsed ) {\n\t\tcollapsedRange.collapse( ! isForward );\n\t}\n\n\tconst collapsedRangeRect = getRectangleFromRange( collapsedRange );\n\tconst rangeRect = getRectangleFromRange( range );\n\n\tif ( ! collapsedRangeRect || ! rangeRect ) {\n\t\treturn false;\n\t}\n\n\t// Only consider the multiline selection at the edge if the direction is\n\t// towards the edge. The selection is multiline if it is taller than the\n\t// collapsed  selection.\n\tconst rangeHeight = getRangeHeight( range );\n\tif (\n\t\t! isCollapsed &&\n\t\trangeHeight &&\n\t\trangeHeight > collapsedRangeRect.height &&\n\t\tisForward === isReverse\n\t) {\n\t\treturn false;\n\t}\n\n\t// In the case of RTL scripts, the horizontal edge is at the opposite side.\n\tconst isReverseDir = isRTL( container ) ? ! isReverse : isReverse;\n\tconst containerRect = container.getBoundingClientRect();\n\n\t// To check if a selection is at the edge, we insert a test selection at the\n\t// edge of the container and check if the selections have the same vertical\n\t// or horizontal position. If they do, the selection is at the edge.\n\t// This method proves to be better than a DOM-based calculation for the\n\t// horizontal edge, since it ignores empty textnodes and a trailing line\n\t// break element. In other words, we need to check visual positioning, not\n\t// DOM positioning.\n\t// It also proves better than using the computed style for the vertical\n\t// edge, because we cannot know the padding and line height reliably in\n\t// pixels. `getComputedStyle` may return a value with different units.\n\tconst x = isReverseDir ? containerRect.left + 1 : containerRect.right - 1;\n\tconst y = isReverse ? containerRect.top + 1 : containerRect.bottom - 1;\n\tconst testRange = scrollIfNoRange( container, isReverse, () =>\n\t\thiddenCaretRangeFromPoint( ownerDocument, x, y, container )\n\t);\n\n\tif ( ! testRange ) {\n\t\treturn false;\n\t}\n\n\tconst testRect = getRectangleFromRange( testRange );\n\n\tif ( ! testRect ) {\n\t\treturn false;\n\t}\n\n\tconst verticalSide = isReverse ? 'top' : 'bottom';\n\tconst horizontalSide = isReverseDir ? 'left' : 'right';\n\tconst verticalDiff = testRect[ verticalSide ] - rangeRect[ verticalSide ];\n\tconst horizontalDiff =\n\t\ttestRect[ horizontalSide ] - collapsedRangeRect[ horizontalSide ];\n\n\t// Allow the position to be 1px off.\n\tconst hasVerticalDiff = Math.abs( verticalDiff ) <= 1;\n\tconst hasHorizontalDiff = Math.abs( horizontalDiff ) <= 1;\n\n\treturn onlyVertical\n\t\t? hasVerticalDiff\n\t\t: hasVerticalDiff && hasHorizontalDiff;\n}\n", "/**\n * Internal dependencies\n */\nimport isEdge from './is-edge';\n\n/**\n * Check whether the selection is horizontally at the edge of the container.\n *\n * @param {HTMLElement} container Focusable element.\n * @param {boolean}     isReverse Set to true to check left, false for right.\n *\n * @return {boolean} True if at the horizontal edge, false if not.\n */\nexport default function isHorizontalEdge( container, isReverse ) {\n\treturn isEdge( container, isReverse );\n}\n", "/**\n * Internal dependencies\n */\nimport isEdge from './is-edge';\n\n/**\n * Check whether the selection is vertically at the edge of the container.\n *\n * @param {HTMLElement} container Focusable element.\n * @param {boolean}     isReverse Set to true to check top, false for bottom.\n *\n * @return {boolean} True if at the vertical edge, false if not.\n */\nexport default function isVerticalEdge( container, isReverse ) {\n\treturn isEdge( container, isReverse, true );\n}\n", "/**\n * Internal dependencies\n */\nimport hiddenCaretRangeFromPoint from './hidden-caret-range-from-point';\nimport { assertIsDefined } from '../utils/assert-is-defined';\nimport isInputOrTextArea from './is-input-or-text-area';\nimport isRTL from './is-rtl';\nimport { scrollIfNoRange } from './scroll-if-no-range';\n\n/**\n * Gets the range to place.\n *\n * @param {HTMLElement}      container Focusable element.\n * @param {boolean}          isReverse True for end, false for start.\n * @param {number|undefined} x         X coordinate to vertically position.\n *\n * @return {Range|null} The range to place.\n */\nfunction getRange( container, isReverse, x ) {\n\tconst { ownerDocument } = container;\n\t// In the case of RTL scripts, the horizontal edge is at the opposite side.\n\tconst isReverseDir = isRTL( container ) ? ! isReverse : isReverse;\n\tconst containerRect = container.getBoundingClientRect();\n\t// When placing at the end (isReverse), find the closest range to the bottom\n\t// right corner. When placing at the start, to the top left corner.\n\t// Ensure x is defined and within the container's boundaries. When it's\n\t// exactly at the boundary, it's not considered within the boundaries.\n\tif ( x === undefined ) {\n\t\tx = isReverse ? containerRect.right - 1 : containerRect.left + 1;\n\t} else if ( x <= containerRect.left ) {\n\t\tx = containerRect.left + 1;\n\t} else if ( x >= containerRect.right ) {\n\t\tx = containerRect.right - 1;\n\t}\n\tconst y = isReverseDir ? containerRect.bottom - 1 : containerRect.top + 1;\n\treturn hiddenCaretRangeFromPoint( ownerDocument, x, y, container );\n}\n\n/**\n * Places the caret at start or end of a given element.\n *\n * @param {HTMLElement}      container Focusable element.\n * @param {boolean}          isReverse True for end, false for start.\n * @param {number|undefined} x         X coordinate to vertically position.\n */\nexport default function placeCaretAtEdge( container, isReverse, x ) {\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\tcontainer.focus();\n\n\tif ( isInputOrTextArea( container ) ) {\n\t\t// The element may not support selection setting.\n\t\tif ( typeof container.selectionStart !== 'number' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isReverse ) {\n\t\t\tcontainer.selectionStart = container.value.length;\n\t\t\tcontainer.selectionEnd = container.value.length;\n\t\t} else {\n\t\t\tcontainer.selectionStart = 0;\n\t\t\tcontainer.selectionEnd = 0;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tif ( ! container.isContentEditable ) {\n\t\treturn;\n\t}\n\n\tconst range = scrollIfNoRange( container, isReverse, () =>\n\t\tgetRange( container, isReverse, x )\n\t);\n\n\tif ( ! range ) {\n\t\treturn;\n\t}\n\n\tconst { ownerDocument } = container;\n\tconst { defaultView } = ownerDocument;\n\tassertIsDefined( defaultView, 'defaultView' );\n\tconst selection = defaultView.getSelection();\n\tassertIsDefined( selection, 'selection' );\n\tselection.removeAllRanges();\n\tselection.addRange( range );\n}\n", "/**\n * Internal dependencies\n */\nimport placeCaretAtEdge from './place-caret-at-edge';\n\n/**\n * Places the caret at start or end of a given element.\n *\n * @param {HTMLElement} container Focusable element.\n * @param {boolean}     isReverse True for end, false for start.\n */\nexport default function placeCaretAtHorizontalEdge( container, isReverse ) {\n\treturn placeCaretAtEdge( container, isReverse, undefined );\n}\n", "/**\n * Internal dependencies\n */\nimport placeCaretAtEdge from './place-caret-at-edge';\n\n/**\n * Places the caret at the top or bottom of a given element.\n *\n * @param {HTMLElement} container Focusable element.\n * @param {boolean}     isReverse True for bottom, false for top.\n * @param {DOMRect}     [rect]    The rectangle to position the caret with.\n */\nexport default function placeCaretAtVerticalEdge( container, isReverse, rect ) {\n\treturn placeCaretAtEdge( container, isReverse, rect?.left );\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Given two DOM nodes, inserts the former in the DOM as the next sibling of\n * the latter.\n *\n * @param {Node} newNode       Node to be inserted.\n * @param {Node} referenceNode Node after which to perform the insertion.\n * @return {void}\n */\nexport default function insertAfter( newNode, referenceNode ) {\n\tassertIsDefined( referenceNode.parentNode, 'referenceNode.parentNode' );\n\treferenceNode.parentNode.insertBefore( newNode, referenceNode.nextSibling );\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Given a DOM node, removes it from the DOM.\n *\n * @param {Node} node Node to be removed.\n * @return {void}\n */\nexport default function remove( node ) {\n\tassertIsDefined( node.parentNode, 'node.parentNode' );\n\tnode.parentNode.removeChild( node );\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\nimport insertAfter from './insert-after';\nimport remove from './remove';\n\n/**\n * Given two DOM nodes, replaces the former with the latter in the DOM.\n *\n * @param {Element} processedNode Node to be removed.\n * @param {Element} newNode       Node to be inserted in its place.\n * @return {void}\n */\nexport default function replace( processedNode, newNode ) {\n\tassertIsDefined( processedNode.parentNode, 'processedNode.parentNode' );\n\tinsertAfter( newNode, processedNode.parentNode );\n\tremove( processedNode );\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Unwrap the given node. This means any child nodes are moved to the parent.\n *\n * @param {Node} node The node to unwrap.\n *\n * @return {void}\n */\nexport default function unwrap( node ) {\n\tconst parent = node.parentNode;\n\n\tassertIsDefined( parent, 'node.parentNode' );\n\n\twhile ( node.firstChild ) {\n\t\tparent.insertBefore( node.firstChild, node );\n\t}\n\n\tparent.removeChild( node );\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Replaces the given node with a new node with the given tag name.\n *\n * @param {Element} node    The node to replace\n * @param {string}  tagName The new tag name.\n *\n * @return {Element} The new node.\n */\nexport default function replaceTag( node, tagName ) {\n\tconst newNode = node.ownerDocument.createElement( tagName );\n\n\twhile ( node.firstChild ) {\n\t\tnewNode.appendChild( node.firstChild );\n\t}\n\n\tassertIsDefined( node.parentNode, 'node.parentNode' );\n\tnode.parentNode.replaceChild( newNode, node );\n\n\treturn newNode;\n}\n", "/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Wraps the given node with a new node with the given tag name.\n *\n * @param {Element} newNode       The node to insert.\n * @param {Element} referenceNode The node to wrap.\n */\nexport default function wrap( newNode, referenceNode ) {\n\tassertIsDefined( referenceNode.parentNode, 'referenceNode.parentNode' );\n\treferenceNode.parentNode.insertBefore( newNode, referenceNode );\n\tnewNode.appendChild( referenceNode );\n}\n", "/**\n * Internal dependencies\n */\nimport remove from './remove';\n\n/**\n * Strips scripts and on* attributes from HTML.\n *\n * @param {string} html HTML to sanitize.\n *\n * @return {string} The sanitized HTML.\n */\nexport default function safeHTML( html ) {\n\tconst { body } = document.implementation.createHTMLDocument( '' );\n\tbody.innerHTML = html;\n\tconst elements = body.getElementsByTagName( '*' );\n\tlet elementIndex = elements.length;\n\n\twhile ( elementIndex-- ) {\n\t\tconst element = elements[ elementIndex ];\n\n\t\tif ( element.tagName === 'SCRIPT' ) {\n\t\t\tremove( element );\n\t\t} else {\n\t\t\tlet attributeIndex = element.attributes.length;\n\n\t\t\twhile ( attributeIndex-- ) {\n\t\t\t\tconst { name: key } = element.attributes[ attributeIndex ];\n\n\t\t\t\tif ( key.startsWith( 'on' ) ) {\n\t\t\t\t\telement.removeAttribute( key );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn body.innerHTML;\n}\n", "/**\n * Internal dependencies\n */\nimport safeHTML from './safe-html';\n\n/**\n * Removes any HTML tags from the provided string.\n *\n * @param {string} html The string containing html.\n *\n * @return {string} The text content with any html removed.\n */\nexport default function stripHTML( html ) {\n\t// Remove any script tags or on* attributes otherwise their *contents* will be left\n\t// in place following removal of HTML tags.\n\thtml = safeHTML( html );\n\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\tdoc.body.innerHTML = html;\n\treturn doc.body.textContent || '';\n}\n", "/**\n * Recursively checks if an element is empty. An element is not empty if it\n * contains text or contains elements with attributes such as images.\n *\n * @param {Element} element The element to check.\n *\n * @return {boolean} Whether or not the element is empty.\n */\nexport default function isEmpty( element ) {\n\tswitch ( element.nodeType ) {\n\t\tcase element.TEXT_NODE:\n\t\t\t// We cannot use \\s since it includes special spaces which we want\n\t\t\t// to preserve.\n\t\t\treturn /^[ \\f\\n\\r\\t\\v\\u00a0]*$/.test( element.nodeValue || '' );\n\t\tcase element.ELEMENT_NODE:\n\t\t\tif ( element.hasAttributes() ) {\n\t\t\t\treturn false;\n\t\t\t} else if ( ! element.hasChildNodes() ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn /** @type {Element[]} */ (\n\t\t\t\tArray.from( element.childNodes )\n\t\t\t).every( isEmpty );\n\t\tdefault:\n\t\t\treturn true;\n\t}\n}\n", "/**\n * All phrasing content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content-0\n */\n\n/**\n * @typedef {Record<string,SemanticElementDefinition>} ContentSchema\n */\n\n/**\n * @typedef SemanticElementDefinition\n * @property {string[]}      [attributes] Content attributes\n * @property {ContentSchema} [children]   Content attributes\n */\n\n/**\n * All text-level semantic elements.\n *\n * @see https://html.spec.whatwg.org/multipage/text-level-semantics.html\n *\n * @type {ContentSchema}\n */\nconst textContentSchema = {\n\tstrong: {},\n\tem: {},\n\ts: {},\n\tdel: {},\n\tins: {},\n\ta: { attributes: [ 'href', 'target', 'rel', 'id' ] },\n\tcode: {},\n\tabbr: { attributes: [ 'title' ] },\n\tsub: {},\n\tsup: {},\n\tbr: {},\n\tsmall: {},\n\t// To do: fix blockquote.\n\t// cite: {},\n\tq: { attributes: [ 'cite' ] },\n\tdfn: { attributes: [ 'title' ] },\n\tdata: { attributes: [ 'value' ] },\n\ttime: { attributes: [ 'datetime' ] },\n\tvar: {},\n\tsamp: {},\n\tkbd: {},\n\ti: {},\n\tb: {},\n\tu: {},\n\tmark: {},\n\truby: {},\n\trt: {},\n\trp: {},\n\tbdi: { attributes: [ 'dir' ] },\n\tbdo: { attributes: [ 'dir' ] },\n\twbr: {},\n\t'#text': {},\n};\n\n// Recursion is needed.\n// Possible: strong > em > strong.\n// Impossible: strong > strong.\nconst excludedElements = [ '#text', 'br' ];\nObject.keys( textContentSchema )\n\t.filter( ( element ) => ! excludedElements.includes( element ) )\n\t.forEach( ( tag ) => {\n\t\tconst { [ tag ]: removedTag, ...restSchema } = textContentSchema;\n\t\ttextContentSchema[ tag ].children = restSchema;\n\t} );\n\n/**\n * Embedded content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#embedded-content-0\n *\n * @type {ContentSchema}\n */\nconst embeddedContentSchema = {\n\taudio: {\n\t\tattributes: [\n\t\t\t'src',\n\t\t\t'preload',\n\t\t\t'autoplay',\n\t\t\t'mediagroup',\n\t\t\t'loop',\n\t\t\t'muted',\n\t\t],\n\t},\n\tcanvas: { attributes: [ 'width', 'height' ] },\n\tembed: { attributes: [ 'src', 'type', 'width', 'height' ] },\n\timg: {\n\t\tattributes: [\n\t\t\t'alt',\n\t\t\t'src',\n\t\t\t'srcset',\n\t\t\t'usemap',\n\t\t\t'ismap',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n\tobject: {\n\t\tattributes: [\n\t\t\t'data',\n\t\t\t'type',\n\t\t\t'name',\n\t\t\t'usemap',\n\t\t\t'form',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n\tvideo: {\n\t\tattributes: [\n\t\t\t'src',\n\t\t\t'poster',\n\t\t\t'preload',\n\t\t\t'playsinline',\n\t\t\t'autoplay',\n\t\t\t'mediagroup',\n\t\t\t'loop',\n\t\t\t'muted',\n\t\t\t'controls',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n};\n\n/**\n * Phrasing content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content-0\n */\nconst phrasingContentSchema = {\n\t...textContentSchema,\n\t...embeddedContentSchema,\n};\n\n/**\n * Get schema of possible paths for phrasing content.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n *\n * @param {string} [context] Set to \"paste\" to exclude invisible elements and\n *                           sensitive data.\n *\n * @return {Partial<ContentSchema>} Schema.\n */\nexport function getPhrasingContentSchema( context ) {\n\tif ( context !== 'paste' ) {\n\t\treturn phrasingContentSchema;\n\t}\n\n\t/**\n\t * @type {Partial<ContentSchema>}\n\t */\n\tconst {\n\t\tu, // Used to mark misspelling. Shouldn't be pasted.\n\t\tabbr, // Invisible.\n\t\tdata, // Invisible.\n\t\ttime, // Invisible.\n\t\twbr, // Invisible.\n\t\tbdi, // Invisible.\n\t\tbdo, // Invisible.\n\t\t...remainingContentSchema\n\t} = {\n\t\t...phrasingContentSchema,\n\t\t// We shouldn't paste potentially sensitive information which is not\n\t\t// visible to the user when pasted, so strip the attributes.\n\t\tins: { children: phrasingContentSchema.ins.children },\n\t\tdel: { children: phrasingContentSchema.del.children },\n\t};\n\n\treturn remainingContentSchema;\n}\n\n/**\n * Find out whether or not the given node is phrasing content.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n *\n * @param {Node} node The node to test.\n *\n * @return {boolean} True if phrasing content, false if not.\n */\nexport function isPhrasingContent( node ) {\n\tconst tag = node.nodeName.toLowerCase();\n\treturn getPhrasingContentSchema().hasOwnProperty( tag ) || tag === 'span';\n}\n\n/**\n * @param {Node} node\n * @return {boolean} Node is text content\n */\nexport function isTextContent( node ) {\n\tconst tag = node.nodeName.toLowerCase();\n\treturn textContentSchema.hasOwnProperty( tag ) || tag === 'span';\n}\n", "/* eslint-disable jsdoc/valid-types */\n/**\n * @param {Node | null | undefined} node\n * @return {node is Element} True if node is an Element node\n */\nexport default function isElement( node ) {\n\t/* eslint-enable jsdoc/valid-types */\n\treturn !! node && node.nodeType === node.ELEMENT_NODE;\n}\n", "/**\n * Internal dependencies\n */\nimport isEmpty from './is-empty';\nimport remove from './remove';\nimport unwrap from './unwrap';\nimport { isPhrasingContent } from '../phrasing-content';\nimport insertAfter from './insert-after';\nimport isElement from './is-element';\n\nconst noop = () => {};\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * @typedef SchemaItem\n * @property {string[]}                            [attributes] Attributes.\n * @property {(string | RegExp)[]}                 [classes]    Classnames or RegExp to test against.\n * @property {'*' | { [tag: string]: SchemaItem }} [children]   Child schemas.\n * @property {string[]}                            [require]    Selectors to test required children against. Leave empty or undefined if there are no requirements.\n * @property {boolean}                             allowEmpty   Whether to allow nodes without children.\n * @property {(node: Node) => boolean}             [isMatch]    Function to test whether a node is a match. If left undefined any node will be assumed to match.\n */\n\n/** @typedef {{ [tag: string]: SchemaItem }} Schema */\n/* eslint-enable jsdoc/valid-types */\n\n/**\n * Given a schema, unwraps or removes nodes, attributes and classes on a node\n * list.\n *\n * @param {NodeList} nodeList The nodeList to filter.\n * @param {Document} doc      The document of the nodeList.\n * @param {Schema}   schema   An array of functions that can mutate with the provided node.\n * @param {boolean}  inline   Whether to clean for inline mode.\n */\nexport default function cleanNodeList( nodeList, doc, schema, inline ) {\n\tArray.from( nodeList ).forEach(\n\t\t( /** @type {Node & { nextElementSibling?: unknown }} */ node ) => {\n\t\t\tconst tag = node.nodeName.toLowerCase();\n\n\t\t\t// It's a valid child, if the tag exists in the schema without an isMatch\n\t\t\t// function, or with an isMatch function that matches the node.\n\t\t\tif (\n\t\t\t\tschema.hasOwnProperty( tag ) &&\n\t\t\t\t( ! schema[ tag ].isMatch || schema[ tag ].isMatch?.( node ) )\n\t\t\t) {\n\t\t\t\tif ( isElement( node ) ) {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tattributes = [],\n\t\t\t\t\t\tclasses = [],\n\t\t\t\t\t\tchildren,\n\t\t\t\t\t\trequire = [],\n\t\t\t\t\t\tallowEmpty,\n\t\t\t\t\t} = schema[ tag ];\n\n\t\t\t\t\t// If the node is empty and it's supposed to have children,\n\t\t\t\t\t// remove the node.\n\t\t\t\t\tif ( children && ! allowEmpty && isEmpty( node ) ) {\n\t\t\t\t\t\tremove( node );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( node.hasAttributes() ) {\n\t\t\t\t\t\t// Strip invalid attributes.\n\t\t\t\t\t\tArray.from( node.attributes ).forEach( ( { name } ) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tname !== 'class' &&\n\t\t\t\t\t\t\t\t! attributes.includes( name )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tnode.removeAttribute( name );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t// Strip invalid classes.\n\t\t\t\t\t\t// In jsdom-jscore, 'node.classList' can be undefined.\n\t\t\t\t\t\t// TODO: Explore patching this in jsdom-jscore.\n\t\t\t\t\t\tif ( node.classList && node.classList.length ) {\n\t\t\t\t\t\t\tconst mattchers = classes.map( ( item ) => {\n\t\t\t\t\t\t\t\tif ( item === '*' ) {\n\t\t\t\t\t\t\t\t\t// Keep all classes.\n\t\t\t\t\t\t\t\t\treturn () => true;\n\t\t\t\t\t\t\t\t} else if ( typeof item === 'string' ) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t/** @type {string} */ className\n\t\t\t\t\t\t\t\t\t) => className === item;\n\t\t\t\t\t\t\t\t} else if ( item instanceof RegExp ) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t/** @type {string} */ className\n\t\t\t\t\t\t\t\t\t) => item.test( className );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn noop;\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\tArray.from( node.classList ).forEach( ( name ) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t! mattchers.some( ( isMatch ) =>\n\t\t\t\t\t\t\t\t\t\tisMatch( name )\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tnode.classList.remove( name );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\tif ( ! node.classList.length ) {\n\t\t\t\t\t\t\t\tnode.removeAttribute( 'class' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( node.hasChildNodes() ) {\n\t\t\t\t\t\t// Do not filter any content.\n\t\t\t\t\t\tif ( children === '*' ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Continue if the node is supposed to have children.\n\t\t\t\t\t\tif ( children ) {\n\t\t\t\t\t\t\t// If a parent requires certain children, but it does\n\t\t\t\t\t\t\t// not have them, drop the parent and continue.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\trequire.length &&\n\t\t\t\t\t\t\t\t! node.querySelector( require.join( ',' ) )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tcleanNodeList(\n\t\t\t\t\t\t\t\t\tnode.childNodes,\n\t\t\t\t\t\t\t\t\tdoc,\n\t\t\t\t\t\t\t\t\tschema,\n\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tunwrap( node );\n\t\t\t\t\t\t\t\t// If the node is at the top, phrasing content, and\n\t\t\t\t\t\t\t\t// contains children that are block content, unwrap\n\t\t\t\t\t\t\t\t// the node because it is invalid.\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tnode.parentNode &&\n\t\t\t\t\t\t\t\tnode.parentNode.nodeName === 'BODY' &&\n\t\t\t\t\t\t\t\tisPhrasingContent( node )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tcleanNodeList(\n\t\t\t\t\t\t\t\t\tnode.childNodes,\n\t\t\t\t\t\t\t\t\tdoc,\n\t\t\t\t\t\t\t\t\tschema,\n\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tArray.from( node.childNodes ).some(\n\t\t\t\t\t\t\t\t\t\t( child ) =>\n\t\t\t\t\t\t\t\t\t\t\t! isPhrasingContent( child )\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tunwrap( node );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcleanNodeList(\n\t\t\t\t\t\t\t\t\tnode.childNodes,\n\t\t\t\t\t\t\t\t\tdoc,\n\t\t\t\t\t\t\t\t\tchildren,\n\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Remove children if the node is not supposed to have any.\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twhile ( node.firstChild ) {\n\t\t\t\t\t\t\t\tremove( node.firstChild );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Invalid child. Continue with schema at the same place and unwrap.\n\t\t\t} else {\n\t\t\t\tcleanNodeList( node.childNodes, doc, schema, inline );\n\n\t\t\t\t// For inline mode, insert a line break when unwrapping nodes that\n\t\t\t\t// are not phrasing content.\n\t\t\t\tif (\n\t\t\t\t\tinline &&\n\t\t\t\t\t! isPhrasingContent( node ) &&\n\t\t\t\t\tnode.nextElementSibling\n\t\t\t\t) {\n\t\t\t\t\tinsertAfter( doc.createElement( 'br' ), node );\n\t\t\t\t}\n\n\t\t\t\tunwrap( node );\n\t\t\t}\n\t\t}\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport cleanNodeList from './clean-node-list';\n\n/**\n * Given a schema, unwraps or removes nodes, attributes and classes on HTML.\n *\n * @param {string}                             HTML   The HTML to clean up.\n * @param {import('./clean-node-list').Schema} schema Schema for the HTML.\n * @param {boolean}                            inline Whether to clean for inline mode.\n *\n * @return {string} The cleaned up HTML.\n */\nexport default function removeInvalidHTML( HTML, schema, inline ) {\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\n\tdoc.body.innerHTML = HTML;\n\n\tcleanNodeList( doc.body.childNodes, doc, schema, inline );\n\n\treturn doc.body.innerHTML;\n}\n", "/**\n * Gets all files from a DataTransfer object.\n *\n * @param {DataTransfer} dataTransfer DataTransfer object to inspect.\n *\n * @return {File[]} An array containing all files.\n */\nexport function getFilesFromDataTransfer( dataTransfer ) {\n\tconst files = Array.from( dataTransfer.files );\n\n\tArray.from( dataTransfer.items ).forEach( ( item ) => {\n\t\tconst file = item.getAsFile();\n\n\t\tif (\n\t\t\tfile &&\n\t\t\t! files.find(\n\t\t\t\t( { name, type, size } ) =>\n\t\t\t\t\tname === file.name &&\n\t\t\t\t\ttype === file.type &&\n\t\t\t\t\tsize === file.size\n\t\t\t)\n\t\t) {\n\t\t\tfiles.push( file );\n\t\t}\n\t} );\n\n\treturn files;\n}\n", "/**\n * Internal dependencies\n */\nimport * as focusable from './focusable';\nimport * as tabbable from './tabbable';\n\n/**\n * Object grouping `focusable` and `tabbable` utils\n * under the keys with the same name.\n */\nexport const focus = { focusable, tabbable };\n\nexport * from './dom';\nexport * from './phrasing-content';\nexport * from './data-transfer';\n", "/**\n * External dependencies\n */\nimport type { DependencyList, RefCallback } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useRef } from '@wordpress/element';\n\n/**\n * Effect-like ref callback. Just like with `useEffect`, this allows you to\n * return a cleanup function to be run if the ref changes or one of the\n * dependencies changes. The ref is provided as an argument to the callback\n * functions. The main difference between this and `useEffect` is that\n * the `useEffect` callback is not called when the ref changes, but this is.\n * Pass the returned ref callback as the component's ref and merge multiple refs\n * with `useMergeRefs`.\n *\n * It's worth noting that if the dependencies array is empty, there's not\n * strictly a need to clean up event handlers for example, because the node is\n * to be removed. It *is* necessary if you add dependencies because the ref\n * callback will be called multiple times for the same node.\n *\n * @param callback     Callback with ref as argument.\n * @param dependencies Dependencies of the callback.\n *\n * @return Ref callback.\n */\nexport default function useRefEffect< TElement = Node >(\n\tcallback: ( node: TElement ) => ( () => void ) | void,\n\tdependencies: DependencyList\n): RefCallback< TElement | null > {\n\tconst cleanupRef = useRef< ( () => void ) | void >();\n\treturn useCallback( ( node: TElement | null ) => {\n\t\tif ( node ) {\n\t\t\tcleanupRef.current = callback( node );\n\t\t} else if ( cleanupRef.current ) {\n\t\t\tcleanupRef.current();\n\t\t}\n\t}, dependencies );\n}\n", "/**\n * WordPress dependencies\n */\nimport { focus } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport useRefEffect from '../use-ref-effect';\n\n/**\n * In Dialogs/modals, the tabbing must be constrained to the content of\n * the wrapper element. This hook adds the behavior to the returned ref.\n *\n * @return {import('react').RefCallback<Element>} Element Ref.\n *\n * @example\n * ```js\n * import { useConstrainedTabbing } from '@wordpress/compose';\n *\n * const ConstrainedTabbingExample = () => {\n *     const constrainedTabbingRef = useConstrainedTabbing()\n *     return (\n *         <div ref={ constrainedTabbingRef }>\n *             <Button />\n *             <Button />\n *         </div>\n *     );\n * }\n * ```\n */\nfunction useConstrainedTabbing() {\n\treturn useRefEffect( ( /** @type {HTMLElement} */ node ) => {\n\t\tfunction onKeyDown( /** @type {KeyboardEvent} */ event ) {\n\t\t\tconst { key, shiftKey, target } = event;\n\n\t\t\tif ( key !== 'Tab' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst action = shiftKey ? 'findPrevious' : 'findNext';\n\t\t\tconst nextElement =\n\t\t\t\tfocus.tabbable[ action ](\n\t\t\t\t\t/** @type {HTMLElement} */ ( target )\n\t\t\t\t) || null;\n\n\t\t\t// When the target element contains the element that is about to\n\t\t\t// receive focus, for example when the target is a tabbable\n\t\t\t// container, browsers may disagree on where to move focus next.\n\t\t\t// In this case we can't rely on native browsers behavior. We need\n\t\t\t// to manage focus instead.\n\t\t\t// See https://github.com/WordPress/gutenberg/issues/46041.\n\t\t\tif (\n\t\t\t\t/** @type {HTMLElement} */ ( target ).contains( nextElement )\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tnextElement?.focus();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If the element that is about to receive focus is inside the\n\t\t\t// area, rely on native browsers behavior and let tabbing follow\n\t\t\t// the native tab sequence.\n\t\t\tif ( node.contains( nextElement ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If the element that is about to receive focus is outside the\n\t\t\t// area, move focus to a div and insert it at the start or end of\n\t\t\t// the area, depending on the direction. Without preventing default\n\t\t\t// behaviour, the browser will then move focus to the next element.\n\t\t\tconst domAction = shiftKey ? 'append' : 'prepend';\n\t\t\tconst { ownerDocument } = node;\n\t\t\tconst trap = ownerDocument.createElement( 'div' );\n\n\t\t\ttrap.tabIndex = -1;\n\t\t\tnode[ domAction ]( trap );\n\n\t\t\t// Remove itself when the trap loses focus.\n\t\t\ttrap.addEventListener( 'blur', () => node.removeChild( trap ) );\n\n\t\t\ttrap.focus();\n\t\t}\n\n\t\tnode.addEventListener( 'keydown', onKeyDown );\n\t\treturn () => {\n\t\t\tnode.removeEventListener( 'keydown', onKeyDown );\n\t\t};\n\t}, [] );\n}\n\nexport default useConstrainedTabbing;\n", "/**\n * External dependencies\n */\nimport Clipboard from 'clipboard';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useEffect, useState } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\n\n/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Copies the text to the clipboard when the element is clicked.\n *\n * @deprecated\n *\n * @param {import('react').RefObject<string | Element | NodeListOf<Element>>} ref       Reference with the element.\n * @param {string|Function}                                                   text      The text to copy.\n * @param {number}                                                            [timeout] Optional timeout to reset the returned\n *                                                                                      state. 4 seconds by default.\n *\n * @return {boolean} Whether or not the text has been copied. Resets after the\n *                   timeout.\n */\nexport default function useCopyOnClick( ref, text, timeout = 4000 ) {\n\t/* eslint-enable jsdoc/no-undefined-types */\n\tdeprecated( 'wp.compose.useCopyOnClick', {\n\t\tsince: '5.8',\n\t\talternative: 'wp.compose.useCopyToClipboard',\n\t} );\n\n\t/** @type {import('react').MutableRefObject<Clipboard | undefined>} */\n\tconst clipboardRef = useRef();\n\tconst [ hasCopied, setHasCopied ] = useState( false );\n\n\tuseEffect( () => {\n\t\t/** @type {number | undefined} */\n\t\tlet timeoutId;\n\n\t\tif ( ! ref.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Clipboard listens to click events.\n\t\tclipboardRef.current = new Clipboard( ref.current, {\n\t\t\ttext: () => ( typeof text === 'function' ? text() : text ),\n\t\t} );\n\n\t\tclipboardRef.current.on( 'success', ( { clearSelection, trigger } ) => {\n\t\t\t// Clearing selection will move focus back to the triggering button,\n\t\t\t// ensuring that it is not reset to the body, and further that it is\n\t\t\t// kept within the rendered node.\n\t\t\tclearSelection();\n\n\t\t\t// Handle ClipboardJS focus bug, see https://github.com/zenorocha/clipboard.js/issues/680\n\t\t\tif ( trigger ) {\n\t\t\t\t/** @type {HTMLElement} */ ( trigger ).focus();\n\t\t\t}\n\n\t\t\tif ( timeout ) {\n\t\t\t\tsetHasCopied( true );\n\t\t\t\tclearTimeout( timeoutId );\n\t\t\t\ttimeoutId = setTimeout( () => setHasCopied( false ), timeout );\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tif ( clipboardRef.current ) {\n\t\t\t\tclipboardRef.current.destroy();\n\t\t\t}\n\t\t\tclearTimeout( timeoutId );\n\t\t};\n\t}, [ text, timeout, setHasCopied ] );\n\n\treturn hasCopied;\n}\n", "/**\n * External dependencies\n */\nimport Clipboard from 'clipboard';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useLayoutEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useRefEffect from '../use-ref-effect';\n\n/**\n * @template T\n * @param {T} value\n * @return {import('react').RefObject<T>} The updated ref\n */\nfunction useUpdatedRef( value ) {\n\tconst ref = useRef( value );\n\tuseLayoutEffect( () => {\n\t\tref.current = value;\n\t}, [ value ] );\n\treturn ref;\n}\n\n/**\n * Copies the given text to the clipboard when the element is clicked.\n *\n * @template {HTMLElement} TElementType\n * @param {string | (() => string)} text      The text to copy. Use a function if not\n *                                            already available and expensive to compute.\n * @param {Function}                onSuccess Called when to text is copied.\n *\n * @return {import('react').Ref<TElementType>} A ref to assign to the target element.\n */\nexport default function useCopyToClipboard( text, onSuccess ) {\n\t// Store the dependencies as refs and continuously update them so they're\n\t// fresh when the callback is called.\n\tconst textRef = useUpdatedRef( text );\n\tconst onSuccessRef = useUpdatedRef( onSuccess );\n\treturn useRefEffect( ( node ) => {\n\t\t// Clipboard listens to click events.\n\t\tconst clipboard = new Clipboard( node, {\n\t\t\ttext() {\n\t\t\t\treturn typeof textRef.current === 'function'\n\t\t\t\t\t? textRef.current()\n\t\t\t\t\t: textRef.current || '';\n\t\t\t},\n\t\t} );\n\n\t\tclipboard.on( 'success', ( { clearSelection } ) => {\n\t\t\t// Clearing selection will move focus back to the triggering\n\t\t\t// button, ensuring that it is not reset to the body, and\n\t\t\t// further that it is kept within the rendered node.\n\t\t\tclearSelection();\n\n\t\t\tif ( onSuccessRef.current ) {\n\t\t\t\tonSuccessRef.current();\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tclipboard.destroy();\n\t\t};\n\t}, [] );\n}\n", "/**\n * Return true if platform is MacOS.\n *\n * @param _window window object by default; used for DI testing.\n *\n * @return True if MacOS; false otherwise.\n */\nexport function isAppleOS( _window?: Window ): boolean {\n\tif ( ! _window ) {\n\t\tif ( typeof window === 'undefined' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t_window = window;\n\t}\n\n\tconst { platform } = _window.navigator;\n\n\treturn (\n\t\tplatform.indexOf( 'Mac' ) !== -1 ||\n\t\t[ 'iPad', 'iPhone' ].includes( platform )\n\t);\n}\n", "/**\n * Note: The order of the modifier keys in many of the [foo]Shortcut()\n * functions in this file are intentional and should not be changed. They're\n * designed to fit with the standard menu keyboard shortcuts shown in the\n * user's platform.\n *\n * For example, on MacOS menu shortcuts will place Shift before Command, but\n * on Windows Control will usually come first. So don't provide your own\n * shortcut combos directly to keyboardShortcut().\n */\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { isAppleOS } from './platform';\n\n/**\n * External dependencies\n */\nimport type { KeyboardEvent as ReactKeyboardEvent } from 'react';\n\nexport type WPModifierPart =\n\t| typeof ALT\n\t| typeof CTRL\n\t| typeof COMMAND\n\t| typeof SHIFT;\n\nexport type WPKeycodeModifier =\n\t| 'primary'\n\t| 'primaryShift'\n\t| 'primaryAlt'\n\t| 'secondary'\n\t| 'access'\n\t| 'ctrl'\n\t| 'alt'\n\t| 'ctrlShift'\n\t| 'shift'\n\t| 'shiftAlt'\n\t| 'undefined';\n\n/**\n * An object of handler functions for each of the possible modifier\n * combinations. A handler will return a value for a given key.\n */\nexport type WPModifierHandler< T > = Record< WPKeycodeModifier, T >;\n\nexport type WPKeyHandler< T > = (\n\tcharacter: string,\n\tisApple?: () => boolean\n) => T;\n\nexport type WPEventKeyHandler = (\n\tevent: ReactKeyboardEvent< HTMLElement > | KeyboardEvent,\n\tcharacter: string,\n\tisApple?: () => boolean\n) => boolean;\n\nexport type WPModifier = ( isApple: () => boolean ) => WPModifierPart[];\n\n/**\n * Keycode for BACKSPACE key.\n */\nexport const BACKSPACE = 8;\n\n/**\n * Keycode for TAB key.\n */\nexport const TAB = 9;\n\n/**\n * Keycode for ENTER key.\n */\nexport const ENTER = 13;\n\n/**\n * Keycode for ESCAPE key.\n */\nexport const ESCAPE = 27;\n\n/**\n * Keycode for SPACE key.\n */\nexport const SPACE = 32;\n\n/**\n * Keycode for PAGEUP key.\n */\nexport const PAGEUP = 33;\n\n/**\n * Keycode for PAGEDOWN key.\n */\nexport const PAGEDOWN = 34;\n\n/**\n * Keycode for END key.\n */\nexport const END = 35;\n\n/**\n * Keycode for HOME key.\n */\nexport const HOME = 36;\n\n/**\n * Keycode for LEFT key.\n */\nexport const LEFT = 37;\n\n/**\n * Keycode for UP key.\n */\nexport const UP = 38;\n\n/**\n * Keycode for RIGHT key.\n */\nexport const RIGHT = 39;\n\n/**\n * Keycode for DOWN key.\n */\nexport const DOWN = 40;\n\n/**\n * Keycode for DELETE key.\n */\nexport const DELETE = 46;\n\n/**\n * Keycode for F10 key.\n */\nexport const F10 = 121;\n\n/**\n * Keycode for ALT key.\n */\nexport const ALT = 'alt';\n\n/**\n * Keycode for CTRL key.\n */\nexport const CTRL = 'ctrl';\n\n/**\n * Keycode for COMMAND/META key.\n */\nexport const COMMAND = 'meta';\n\n/**\n * Keycode for SHIFT key.\n */\nexport const SHIFT = 'shift';\n\n/**\n * Keycode for ZERO key.\n */\nexport const ZERO = 48;\n\nexport { isAppleOS };\n\n/**\n * Capitalise the first character of a string.\n * @param string String to capitalise.\n * @return Capitalised string.\n */\nfunction capitaliseFirstCharacter( string: string ): string {\n\treturn string.length < 2\n\t\t? string.toUpperCase()\n\t\t: string.charAt( 0 ).toUpperCase() + string.slice( 1 );\n}\n\n/**\n * Map the values of an object with a specified callback and return the result object.\n *\n * @template T The object type\n * @template R The return type of the mapping function\n *\n * @param    object Object to map values of.\n * @param    mapFn  Mapping function to apply to each value.\n * @return Object with the same keys and transformed values.\n */\nfunction mapValues< T extends Record< string, any >, R >(\n\tobject: T,\n\tmapFn: ( value: T[ keyof T ] ) => R\n): Record< keyof T, R > {\n\treturn Object.fromEntries(\n\t\tObject.entries( object ).map( ( [ key, value ] ) => [\n\t\t\tkey,\n\t\t\tmapFn( value ),\n\t\t] )\n\t) as Record< keyof T, R >;\n}\n\n/**\n * Object that contains functions that return the available modifier\n * depending on platform.\n */\nexport const modifiers: WPModifierHandler< WPModifier > = {\n\tprimary: ( _isApple ) => ( _isApple() ? [ COMMAND ] : [ CTRL ] ),\n\tprimaryShift: ( _isApple ) =>\n\t\t_isApple() ? [ SHIFT, COMMAND ] : [ CTRL, SHIFT ],\n\tprimaryAlt: ( _isApple ) =>\n\t\t_isApple() ? [ ALT, COMMAND ] : [ CTRL, ALT ],\n\tsecondary: ( _isApple ) =>\n\t\t_isApple() ? [ SHIFT, ALT, COMMAND ] : [ CTRL, SHIFT, ALT ],\n\taccess: ( _isApple ) => ( _isApple() ? [ CTRL, ALT ] : [ SHIFT, ALT ] ),\n\tctrl: () => [ CTRL ],\n\talt: () => [ ALT ],\n\tctrlShift: () => [ CTRL, SHIFT ],\n\tshift: () => [ SHIFT ],\n\tshiftAlt: () => [ SHIFT, ALT ],\n\tundefined: () => [],\n};\n\n/**\n * An object that contains functions to get raw shortcuts.\n *\n * These are intended for user with the KeyboardShortcuts.\n *\n * @example\n * ```js\n * // Assuming macOS:\n * rawShortcut.primary( 'm' )\n * // \"meta+m\"\"\n * ```\n */\nexport const rawShortcut: WPModifierHandler< WPKeyHandler< string > > =\n\t/* @__PURE__ */\n\tmapValues( modifiers, ( modifier: WPModifier ) => {\n\t\treturn ( character: string, _isApple = isAppleOS ) => {\n\t\t\treturn [ ...modifier( _isApple ), character.toLowerCase() ].join(\n\t\t\t\t'+'\n\t\t\t);\n\t\t};\n\t} );\n\n/**\n * Return an array of the parts of a keyboard shortcut chord for display.\n *\n * @example\n * ```js\n * // Assuming macOS:\n * displayShortcutList.primary( 'm' );\n * // [ \"â\", \"M\" ]\n * ```\n *\n * Keyed map of functions to shortcut sequences.\n */\nexport const displayShortcutList: WPModifierHandler<\n\tWPKeyHandler< string[] >\n> =\n\t/* @__PURE__ */\n\tmapValues(\n\t\tmodifiers,\n\t\t( modifier: WPModifier ): WPKeyHandler< string[] > => {\n\t\t\treturn ( character: string, _isApple = isAppleOS ) => {\n\t\t\t\tconst isApple = _isApple();\n\t\t\t\tconst replacementKeyMap = {\n\t\t\t\t\t[ ALT ]: isApple ? 'â¥' : 'Alt',\n\t\t\t\t\t[ CTRL ]: isApple ? 'â' : 'Ctrl', // Make sure â is the U+2303 UP ARROWHEAD unicode character and not the caret character.\n\t\t\t\t\t[ COMMAND ]: 'â',\n\t\t\t\t\t[ SHIFT ]: isApple ? 'â§' : 'Shift',\n\t\t\t\t};\n\n\t\t\t\tconst modifierKeys = modifier( _isApple ).reduce< string[] >(\n\t\t\t\t\t( accumulator, key ) => {\n\t\t\t\t\t\tconst replacementKey = replacementKeyMap[ key ] ?? key;\n\t\t\t\t\t\t// If on the Mac, adhere to platform convention and don't show plus between keys.\n\t\t\t\t\t\tif ( isApple ) {\n\t\t\t\t\t\t\treturn [ ...accumulator, replacementKey ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [ ...accumulator, replacementKey, '+' ];\n\t\t\t\t\t},\n\t\t\t\t\t[]\n\t\t\t\t);\n\n\t\t\t\treturn [\n\t\t\t\t\t...modifierKeys,\n\t\t\t\t\tcapitaliseFirstCharacter( character ),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\t);\n\n/**\n * An object that contains functions to display shortcuts.\n *\n * @example\n * ```js\n * // Assuming macOS:\n * displayShortcut.primary( 'm' );\n * // \"âM\"\n * ```\n *\n * Keyed map of functions to display shortcuts.\n */\nexport const displayShortcut: WPModifierHandler< WPKeyHandler< string > > =\n\t/* @__PURE__ */\n\tmapValues(\n\t\tdisplayShortcutList,\n\t\t( shortcutList: WPKeyHandler< string[] > ): WPKeyHandler< string > => {\n\t\t\treturn ( character: string, _isApple = isAppleOS ) =>\n\t\t\t\tshortcutList( character, _isApple ).join( '' );\n\t\t}\n\t);\n\n/**\n * An object that contains functions to return an aria label for a keyboard\n * shortcut.\n *\n * @example\n * ```js\n * // Assuming macOS:\n * shortcutAriaLabel.primary( '.' );\n * // \"Command + Period\"\n * ```\n *\n * Keyed map of functions to shortcut ARIA labels.\n */\nexport const shortcutAriaLabel: WPModifierHandler< WPKeyHandler< string > > =\n\t/* @__PURE__ */\n\tmapValues( modifiers, ( modifier: WPModifier ): WPKeyHandler< string > => {\n\t\treturn ( character: string, _isApple = isAppleOS ) => {\n\t\t\tconst isApple = _isApple();\n\t\t\tconst replacementKeyMap: Record< string, string > = {\n\t\t\t\t[ SHIFT ]: 'Shift',\n\t\t\t\t[ COMMAND ]: isApple ? 'Command' : 'Control',\n\t\t\t\t[ CTRL ]: 'Control',\n\t\t\t\t[ ALT ]: isApple ? 'Option' : 'Alt',\n\t\t\t\t/* translators: comma as in the character ',' */\n\t\t\t\t',': __( 'Comma' ),\n\t\t\t\t/* translators: period as in the character '.' */\n\t\t\t\t'.': __( 'Period' ),\n\t\t\t\t/* translators: backtick as in the character '`' */\n\t\t\t\t'`': __( 'Backtick' ),\n\t\t\t\t/* translators: tilde as in the character '~' */\n\t\t\t\t'~': __( 'Tilde' ),\n\t\t\t};\n\n\t\t\treturn [ ...modifier( _isApple ), character ]\n\t\t\t\t.map( ( key ) =>\n\t\t\t\t\tcapitaliseFirstCharacter( replacementKeyMap[ key ] ?? key )\n\t\t\t\t)\n\t\t\t\t.join( isApple ? ' ' : ' + ' );\n\t\t};\n\t} );\n\n/**\n * From a given KeyboardEvent, returns an array of active modifier constants for\n * the event.\n *\n * @param event Keyboard event.\n *\n * @return Active modifier constants.\n */\nfunction getEventModifiers(\n\tevent: ReactKeyboardEvent< HTMLElement > | KeyboardEvent\n): WPModifierPart[] {\n\treturn ( [ ALT, CTRL, COMMAND, SHIFT ] as const ).filter(\n\t\t( key ) =>\n\t\t\t( event as KeyboardEvent )[\n\t\t\t\t`${ key }Key` as 'altKey' | 'ctrlKey' | 'metaKey' | 'shiftKey'\n\t\t\t]\n\t);\n}\n\n/**\n * An object that contains functions to check if a keyboard event matches a\n * predefined shortcut combination.\n *\n * @example\n * ```js\n * // Assuming an event for âM key press:\n * isKeyboardEvent.primary( event, 'm' );\n * // true\n * ```\n *\n * Keyed map of functions to match events.\n */\nexport const isKeyboardEvent: WPModifierHandler< WPEventKeyHandler > =\n\t/* @__PURE__ */\n\tmapValues( modifiers, ( getModifiers: WPModifier ): WPEventKeyHandler => {\n\t\treturn ( event, character, _isApple = isAppleOS ) => {\n\t\t\tconst mods = getModifiers( _isApple );\n\t\t\tconst eventMods = getEventModifiers( event );\n\n\t\t\tconst replacementWithShiftKeyMap: Record< string, string > = {\n\t\t\t\tComma: ',',\n\t\t\t\tBackslash: '\\\\',\n\t\t\t\t// Windows returns `\\` for both IntlRo and IntlYen.\n\t\t\t\tIntlRo: '\\\\',\n\t\t\t\tIntlYen: '\\\\',\n\t\t\t};\n\n\t\t\tconst modsDiff = mods.filter(\n\t\t\t\t( mod ) => ! eventMods.includes( mod )\n\t\t\t);\n\t\t\tconst eventModsDiff = eventMods.filter(\n\t\t\t\t( mod ) => ! mods.includes( mod )\n\t\t\t);\n\n\t\t\tif ( modsDiff.length > 0 || eventModsDiff.length > 0 ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet key = event.key.toLowerCase();\n\n\t\t\tif ( ! character ) {\n\t\t\t\treturn mods.includes( key as WPModifierPart );\n\t\t\t}\n\n\t\t\tif ( event.altKey && character.length === 1 ) {\n\t\t\t\tkey = String.fromCharCode( event.keyCode ).toLowerCase();\n\t\t\t}\n\n\t\t\t// `event.key` returns the value of the key pressed, taking into the state of\n\t\t\t// modifier keys such as `Shift`. If the shift key is pressed, a different\n\t\t\t// value may be returned depending on the keyboard layout. It is necessary to\n\t\t\t// convert to the physical key value that don't take into account keyboard\n\t\t\t// layout or modifier key state.\n\t\t\tif (\n\t\t\t\tevent.shiftKey &&\n\t\t\t\tcharacter.length === 1 &&\n\t\t\t\treplacementWithShiftKeyMap[ event.code ]\n\t\t\t) {\n\t\t\t\tkey = replacementWithShiftKeyMap[ event.code ];\n\t\t\t}\n\n\t\t\t// For backwards compatibility.\n\t\t\tif ( character === 'del' ) {\n\t\t\t\tcharacter = 'delete';\n\t\t\t}\n\n\t\t\treturn key === character.toLowerCase();\n\t\t};\n\t} );\n", "/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { focus } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport useRefEffect from '../use-ref-effect';\n\n/**\n * Hook used to focus the first tabbable element on mount.\n *\n * @param {boolean | 'firstElement'} focusOnMount Focus on mount mode.\n * @return {import('react').RefCallback<HTMLElement>} Ref callback.\n *\n * @example\n * ```js\n * import { useFocusOnMount } from '@wordpress/compose';\n *\n * const WithFocusOnMount = () => {\n *     const ref = useFocusOnMount()\n *     return (\n *         <div ref={ ref }>\n *             <Button />\n *             <Button />\n *         </div>\n *     );\n * }\n * ```\n */\nexport default function useFocusOnMount( focusOnMount = 'firstElement' ) {\n\tconst focusOnMountRef = useRef( focusOnMount );\n\n\t/**\n\t * Sets focus on a DOM element.\n\t *\n\t * @param {HTMLElement} target The DOM element to set focus to.\n\t * @return {void}\n\t */\n\tconst setFocus = ( target ) => {\n\t\ttarget.focus( {\n\t\t\t// When focusing newly mounted dialogs,\n\t\t\t// the position of the popover is often not right on the first render\n\t\t\t// This prevents the layout shifts when focusing the dialogs.\n\t\t\tpreventScroll: true,\n\t\t} );\n\t};\n\n\t/** @type {import('react').MutableRefObject<ReturnType<setTimeout> | undefined>} */\n\tconst timerIdRef = useRef();\n\n\tuseEffect( () => {\n\t\tfocusOnMountRef.current = focusOnMount;\n\t}, [ focusOnMount ] );\n\n\treturn useRefEffect( ( node ) => {\n\t\tif ( ! node || focusOnMountRef.current === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( node.contains( node.ownerDocument?.activeElement ?? null ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( focusOnMountRef.current !== 'firstElement' ) {\n\t\t\tsetFocus( node );\n\t\t\treturn;\n\t\t}\n\n\t\ttimerIdRef.current = setTimeout( () => {\n\t\t\tconst firstTabbable = focus.tabbable.find( node )[ 0 ];\n\t\t\tif ( firstTabbable ) {\n\t\t\t\tsetFocus( firstTabbable );\n\t\t\t}\n\t\t}, 0 );\n\n\t\treturn () => {\n\t\t\tif ( timerIdRef.current ) {\n\t\t\t\tclearTimeout( timerIdRef.current );\n\t\t\t}\n\t\t};\n\t}, [] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useRef, useEffect, useCallback } from '@wordpress/element';\n\n/** @type {Element|null} */\nlet origin = null;\n\n/**\n * Adds the unmount behavior of returning focus to the element which had it\n * previously as is expected for roles like menus or dialogs.\n *\n * @param {() => void} [onFocusReturn] Overrides the default return behavior.\n * @return {import('react').RefCallback<HTMLElement>} Element Ref.\n *\n * @example\n * ```js\n * import { useFocusReturn } from '@wordpress/compose';\n *\n * const WithFocusReturn = () => {\n *     const ref = useFocusReturn()\n *     return (\n *         <div ref={ ref }>\n *             <Button />\n *             <Button />\n *         </div>\n *     );\n * }\n * ```\n */\nfunction useFocusReturn( onFocusReturn ) {\n\t/** @type {import('react').MutableRefObject<null | HTMLElement>} */\n\tconst ref = useRef( null );\n\t/** @type {import('react').MutableRefObject<null | Element>} */\n\tconst focusedBeforeMount = useRef( null );\n\tconst onFocusReturnRef = useRef( onFocusReturn );\n\tuseEffect( () => {\n\t\tonFocusReturnRef.current = onFocusReturn;\n\t}, [ onFocusReturn ] );\n\n\treturn useCallback( ( node ) => {\n\t\tif ( node ) {\n\t\t\t// Set ref to be used when unmounting.\n\t\t\tref.current = node;\n\n\t\t\t// Only set when the node mounts.\n\t\t\tif ( focusedBeforeMount.current ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst activeDocument =\n\t\t\t\tnode.ownerDocument.activeElement instanceof\n\t\t\t\twindow.HTMLIFrameElement\n\t\t\t\t\t? node.ownerDocument.activeElement.contentDocument\n\t\t\t\t\t: node.ownerDocument;\n\n\t\t\tfocusedBeforeMount.current = activeDocument?.activeElement ?? null;\n\t\t} else if ( focusedBeforeMount.current ) {\n\t\t\tconst isFocused = ref.current?.contains(\n\t\t\t\tref.current?.ownerDocument.activeElement\n\t\t\t);\n\n\t\t\tif ( ref.current?.isConnected && ! isFocused ) {\n\t\t\t\torigin ??= focusedBeforeMount.current;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Defer to the component's own explicit focus return behavior, if\n\t\t\t// specified. This allows for support that the `onFocusReturn`\n\t\t\t// decides to allow the default behavior to occur under some\n\t\t\t// conditions.\n\t\t\tif ( onFocusReturnRef.current ) {\n\t\t\t\tonFocusReturnRef.current();\n\t\t\t} else {\n\t\t\t\t/** @type {null|HTMLElement} */ (\n\t\t\t\t\t! focusedBeforeMount.current.isConnected\n\t\t\t\t\t\t? origin\n\t\t\t\t\t\t: focusedBeforeMount.current\n\t\t\t\t)?.focus();\n\t\t\t}\n\t\t\torigin = null;\n\t\t}\n\t}, [] );\n}\n\nexport default useFocusReturn;\n", "/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useRef } from '@wordpress/element';\n\n/**\n * Input types which are classified as button types, for use in considering\n * whether element is a (focus-normalized) button.\n */\nconst INPUT_BUTTON_TYPES = [ 'button', 'submit' ];\n\n/**\n * List of HTML button elements subject to focus normalization\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n */\ntype FocusNormalizedButton =\n\t| HTMLButtonElement\n\t| HTMLLinkElement\n\t| HTMLInputElement;\n\n/**\n * Returns true if the given element is a button element subject to focus\n * normalization, or false otherwise.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n *\n * @param eventTarget The target from a mouse or touch event.\n *\n * @return Whether the element is a button element subject to focus normalization.\n */\nfunction isFocusNormalizedButton(\n\teventTarget: EventTarget\n): eventTarget is FocusNormalizedButton {\n\tif ( ! ( eventTarget instanceof window.HTMLElement ) ) {\n\t\treturn false;\n\t}\n\tswitch ( eventTarget.nodeName ) {\n\t\tcase 'A':\n\t\tcase 'BUTTON':\n\t\t\treturn true;\n\n\t\tcase 'INPUT':\n\t\t\treturn INPUT_BUTTON_TYPES.includes(\n\t\t\t\t( eventTarget as HTMLInputElement ).type\n\t\t\t);\n\t}\n\n\treturn false;\n}\n\ntype UseFocusOutsideReturn = {\n\tonFocus: React.FocusEventHandler;\n\tonMouseDown: React.MouseEventHandler;\n\tonMouseUp: React.MouseEventHandler;\n\tonTouchStart: React.TouchEventHandler;\n\tonTouchEnd: React.TouchEventHandler;\n\tonBlur: React.FocusEventHandler;\n};\n\n/**\n * A react hook that can be used to check whether focus has moved outside the\n * element the event handlers are bound to.\n *\n * @param onFocusOutside A callback triggered when focus moves outside\n *                       the element the event handlers are bound to.\n *\n * @return An object containing event handlers. Bind the event handlers to a\n * wrapping element element to capture when focus moves outside that element.\n */\nexport default function useFocusOutside(\n\tonFocusOutside: ( ( event: React.FocusEvent ) => void ) | undefined\n): UseFocusOutsideReturn {\n\tconst currentOnFocusOutsideRef = useRef( onFocusOutside );\n\tuseEffect( () => {\n\t\tcurrentOnFocusOutsideRef.current = onFocusOutside;\n\t}, [ onFocusOutside ] );\n\n\tconst preventBlurCheckRef = useRef( false );\n\n\tconst blurCheckTimeoutIdRef = useRef< number | undefined >();\n\n\t/**\n\t * Cancel a blur check timeout.\n\t */\n\tconst cancelBlurCheck = useCallback( () => {\n\t\tclearTimeout( blurCheckTimeoutIdRef.current );\n\t}, [] );\n\n\t// Cancel a blur check if the callback or ref is no longer provided.\n\tuseEffect( () => {\n\t\tif ( ! onFocusOutside ) {\n\t\t\tcancelBlurCheck();\n\t\t}\n\t}, [ onFocusOutside, cancelBlurCheck ] );\n\n\t/**\n\t * Handles a mousedown or mouseup event to respectively assign and\n\t * unassign a flag for preventing blur check on button elements. Some\n\t * browsers, namely Firefox and Safari, do not emit a focus event on\n\t * button elements when clicked, while others do. The logic here\n\t * intends to normalize this as treating click on buttons as focus.\n\t *\n\t * @param event\n\t * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n\t */\n\tconst normalizeButtonFocus: React.EventHandler<\n\t\tReact.MouseEvent | React.TouchEvent\n\t> = useCallback( ( event ) => {\n\t\tconst { type, target } = event;\n\t\tconst isInteractionEnd = [ 'mouseup', 'touchend' ].includes( type );\n\n\t\tif ( isInteractionEnd ) {\n\t\t\tpreventBlurCheckRef.current = false;\n\t\t} else if ( isFocusNormalizedButton( target ) ) {\n\t\t\tpreventBlurCheckRef.current = true;\n\t\t}\n\t}, [] );\n\n\t/**\n\t * A callback triggered when a blur event occurs on the element the handler\n\t * is bound to.\n\t *\n\t * Calls the `onFocusOutside` callback in an immediate timeout if focus has\n\t * move outside the bound element and is still within the document.\n\t */\n\tconst queueBlurCheck: React.FocusEventHandler = useCallback( ( event ) => {\n\t\t// React does not allow using an event reference asynchronously\n\t\t// due to recycling behavior, except when explicitly persisted.\n\t\tevent.persist();\n\n\t\t// Skip blur check if clicking button. See `normalizeButtonFocus`.\n\t\tif ( preventBlurCheckRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// The usage of this attribute should be avoided. The only use case\n\t\t// would be when we load modals that are not React components and\n\t\t// therefore don't exist in the React tree. An example is opening\n\t\t// the Media Library modal from another dialog.\n\t\t// This attribute should contain a selector of the related target\n\t\t// we want to ignore, because we still need to trigger the blur event\n\t\t// on all other cases.\n\t\tconst ignoreForRelatedTarget = event.target.getAttribute(\n\t\t\t'data-unstable-ignore-focus-outside-for-relatedtarget'\n\t\t);\n\t\tif (\n\t\t\tignoreForRelatedTarget &&\n\t\t\tevent.relatedTarget?.closest( ignoreForRelatedTarget )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tblurCheckTimeoutIdRef.current = setTimeout( () => {\n\t\t\t// If document is not focused then focus should remain\n\t\t\t// inside the wrapped component and therefore we cancel\n\t\t\t// this blur event thereby leaving focus in place.\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/Document/hasFocus.\n\t\t\tif ( ! document.hasFocus() ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( 'function' === typeof currentOnFocusOutsideRef.current ) {\n\t\t\t\tcurrentOnFocusOutsideRef.current( event );\n\t\t\t}\n\t\t}, 0 );\n\t}, [] );\n\n\treturn {\n\t\tonFocus: cancelBlurCheck,\n\t\tonMouseDown: normalizeButtonFocus,\n\t\tonMouseUp: normalizeButtonFocus,\n\t\tonTouchStart: normalizeButtonFocus,\n\t\tonTouchEnd: normalizeButtonFocus,\n\t\tonBlur: queueBlurCheck,\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { useRef, useCallback, useLayoutEffect } from '@wordpress/element';\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * @template T\n * @typedef {T extends import('react').Ref<infer R> ? R : never} TypeFromRef\n */\n/* eslint-enable jsdoc/valid-types */\n\n/**\n * @template T\n * @param {import('react').Ref<T>} ref\n * @param {T}                      value\n */\nfunction assignRef( ref, value ) {\n\tif ( typeof ref === 'function' ) {\n\t\tref( value );\n\t} else if ( ref && ref.hasOwnProperty( 'current' ) ) {\n\t\t/* eslint-disable jsdoc/no-undefined-types */\n\t\t/** @type {import('react').MutableRefObject<T>} */ ( ref ).current =\n\t\t\tvalue;\n\t\t/* eslint-enable jsdoc/no-undefined-types */\n\t}\n}\n\n/**\n * Merges refs into one ref callback.\n *\n * It also ensures that the merged ref callbacks are only called when they\n * change (as a result of a `useCallback` dependency update) OR when the ref\n * value changes, just as React does when passing a single ref callback to the\n * component.\n *\n * As expected, if you pass a new function on every render, the ref callback\n * will be called after every render.\n *\n * If you don't wish a ref callback to be called after every render, wrap it\n * with `useCallback( callback, dependencies )`. When a dependency changes, the\n * old ref callback will be called with `null` and the new ref callback will be\n * called with the same value.\n *\n * To make ref callbacks easier to use, you can also pass the result of\n * `useRefEffect`, which makes cleanup easier by allowing you to return a\n * cleanup function instead of handling `null`.\n *\n * It's also possible to _disable_ a ref (and its behaviour) by simply not\n * passing the ref.\n *\n * ```jsx\n * const ref = useRefEffect( ( node ) => {\n *   node.addEventListener( ... );\n *   return () => {\n *     node.removeEventListener( ... );\n *   };\n * }, [ ...dependencies ] );\n * const otherRef = useRef();\n * const mergedRefs useMergeRefs( [\n *   enabled && ref,\n *   otherRef,\n * ] );\n * return <div ref={ mergedRefs } />;\n * ```\n *\n * @template {import('react').Ref<any>} TRef\n * @param {Array<TRef>} refs The refs to be merged.\n *\n * @return {import('react').RefCallback<TypeFromRef<TRef>>} The merged ref callback.\n */\nexport default function useMergeRefs( refs ) {\n\tconst element = useRef();\n\tconst isAttachedRef = useRef( false );\n\tconst didElementChangeRef = useRef( false );\n\t/* eslint-disable jsdoc/no-undefined-types */\n\t/** @type {import('react').MutableRefObject<TRef[]>} */\n\t/* eslint-enable jsdoc/no-undefined-types */\n\tconst previousRefsRef = useRef( [] );\n\tconst currentRefsRef = useRef( refs );\n\n\t// Update on render before the ref callback is called, so the ref callback\n\t// always has access to the current refs.\n\tcurrentRefsRef.current = refs;\n\n\t// If any of the refs change, call the previous ref with `null` and the new\n\t// ref with the node, except when the element changes in the same cycle, in\n\t// which case the ref callbacks will already have been called.\n\tuseLayoutEffect( () => {\n\t\tif (\n\t\t\tdidElementChangeRef.current === false &&\n\t\t\tisAttachedRef.current === true\n\t\t) {\n\t\t\trefs.forEach( ( ref, index ) => {\n\t\t\t\tconst previousRef = previousRefsRef.current[ index ];\n\t\t\t\tif ( ref !== previousRef ) {\n\t\t\t\t\tassignRef( previousRef, null );\n\t\t\t\t\tassignRef( ref, element.current );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tpreviousRefsRef.current = refs;\n\t}, refs );\n\n\t// No dependencies, must be reset after every render so ref callbacks are\n\t// correctly called after a ref change.\n\tuseLayoutEffect( () => {\n\t\tdidElementChangeRef.current = false;\n\t} );\n\n\t// There should be no dependencies so that `callback` is only called when\n\t// the node changes.\n\treturn useCallback( ( value ) => {\n\t\t// Update the element so it can be used when calling ref callbacks on a\n\t\t// dependency change.\n\t\tassignRef( element, value );\n\n\t\tdidElementChangeRef.current = true;\n\t\tisAttachedRef.current = value !== null;\n\n\t\t// When an element changes, the current ref callback should be called\n\t\t// with the new element and the previous one with `null`.\n\t\tconst refsToAssign = value\n\t\t\t? currentRefsRef.current\n\t\t\t: previousRefsRef.current;\n\n\t\t// Update the latest refs.\n\t\tfor ( const ref of refsToAssign ) {\n\t\t\tassignRef( ref, value );\n\t\t}\n\t}, [] );\n}\n", "/**\n * External dependencies\n */\nimport type { RefCallback, SyntheticEvent } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useEffect, useCallback } from '@wordpress/element';\nimport { ESCAPE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport useConstrainedTabbing from '../use-constrained-tabbing';\nimport useFocusOnMount from '../use-focus-on-mount';\nimport useFocusReturn from '../use-focus-return';\nimport useFocusOutside from '../use-focus-outside';\nimport useMergeRefs from '../use-merge-refs';\n\ntype DialogOptions = {\n\t/**\n\t * Determines whether focus should be automatically moved to the popover\n\t * when it mounts. `false` causes no focus shift, `true` causes the popover\n\t * itself to gain focus, and `firstElement` focuses the first focusable\n\t * element within the popover.\n\t *\n\t * @default 'firstElement'\n\t */\n\tfocusOnMount?: Parameters< typeof useFocusOnMount >[ 0 ];\n\t/**\n\t * Determines whether tabbing is constrained to within the popover,\n\t * preventing keyboard focus from leaving the popover content without\n\t * explicit focus elsewhere, or whether the popover remains part of the\n\t * wider tab order.\n\t * If no value is passed, it will be derived from `focusOnMount`.\n\t *\n\t * @see focusOnMount\n\t * @default `focusOnMount` !== false\n\t */\n\tconstrainTabbing?: boolean;\n\tonClose?: () => void;\n\t/**\n\t * Use the `onClose` prop instead.\n\t *\n\t * @deprecated\n\t */\n\t__unstableOnClose?: (\n\t\ttype: string | undefined,\n\t\tevent: SyntheticEvent\n\t) => void;\n};\n\ntype useDialogReturn = [\n\tRefCallback< HTMLElement >,\n\tReturnType< typeof useFocusOutside > & Pick< HTMLElement, 'tabIndex' >,\n];\n\n/**\n * Returns a ref and props to apply to a dialog wrapper to enable the following behaviors:\n *  - constrained tabbing.\n *  - focus on mount.\n *  - return focus on unmount.\n *  - focus outside.\n *\n * @param options Dialog Options.\n */\nfunction useDialog( options: DialogOptions ): useDialogReturn {\n\tconst currentOptions = useRef< DialogOptions | undefined >();\n\tconst { constrainTabbing = options.focusOnMount !== false } = options;\n\tuseEffect( () => {\n\t\tcurrentOptions.current = options;\n\t}, Object.values( options ) );\n\tconst constrainedTabbingRef = useConstrainedTabbing();\n\tconst focusOnMountRef = useFocusOnMount( options.focusOnMount );\n\tconst focusReturnRef = useFocusReturn();\n\tconst focusOutsideProps = useFocusOutside( ( event ) => {\n\t\t// This unstable prop  is here only to manage backward compatibility\n\t\t// for the Popover component otherwise, the onClose should be enough.\n\t\tif ( currentOptions.current?.__unstableOnClose ) {\n\t\t\tcurrentOptions.current.__unstableOnClose( 'focus-outside', event );\n\t\t} else if ( currentOptions.current?.onClose ) {\n\t\t\tcurrentOptions.current.onClose();\n\t\t}\n\t} );\n\tconst closeOnEscapeRef = useCallback( ( node: HTMLElement ) => {\n\t\tif ( ! node ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnode.addEventListener( 'keydown', ( event: KeyboardEvent ) => {\n\t\t\t// Close on escape.\n\t\t\tif (\n\t\t\t\tevent.keyCode === ESCAPE &&\n\t\t\t\t! event.defaultPrevented &&\n\t\t\t\tcurrentOptions.current?.onClose\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcurrentOptions.current.onClose();\n\t\t\t}\n\t\t} );\n\t}, [] );\n\n\treturn [\n\t\tuseMergeRefs( [\n\t\t\tconstrainTabbing ? constrainedTabbingRef : null,\n\t\t\toptions.focusOnMount !== false ? focusReturnRef : null,\n\t\t\toptions.focusOnMount !== false ? focusOnMountRef : null,\n\t\t\tcloseOnEscapeRef,\n\t\t] ),\n\t\t{\n\t\t\t...focusOutsideProps,\n\t\t\ttabIndex: -1,\n\t\t},\n\t];\n}\n\nexport default useDialog;\n", "/**\n * Internal dependencies\n */\nimport { debounce } from '../../utils/debounce';\nimport useRefEffect from '../use-ref-effect';\n\n/**\n * In some circumstances, such as block previews, all focusable DOM elements\n * (input fields, links, buttons, etc.) need to be disabled. This hook adds the\n * behavior to disable nested DOM elements to the returned ref.\n *\n * If you can, prefer the use of the inert HTML attribute.\n *\n * @param {Object}   config            Configuration object.\n * @param {boolean=} config.isDisabled Whether the element should be disabled.\n * @return {import('react').RefCallback<HTMLElement>} Element Ref.\n *\n * @example\n * ```js\n * import { useDisabled } from '@wordpress/compose';\n *\n * const DisabledExample = () => {\n * \tconst disabledRef = useDisabled();\n *\treturn (\n *\t\t<div ref={ disabledRef }>\n *\t\t\t<a href=\"#\">This link will have tabindex set to -1</a>\n *\t\t\t<input placeholder=\"This input will have the disabled attribute added to it.\" type=\"text\" />\n *\t\t</div>\n *\t);\n * };\n * ```\n */\nexport default function useDisabled( {\n\tisDisabled: isDisabledProp = false,\n} = {} ) {\n\treturn useRefEffect(\n\t\t( node ) => {\n\t\t\tif ( isDisabledProp ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst defaultView = node?.ownerDocument?.defaultView;\n\t\t\tif ( ! defaultView ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/** A variable keeping track of the previous updates in order to restore them. */\n\t\t\tconst updates: Function[] = [];\n\t\t\tconst disable = () => {\n\t\t\t\tnode.childNodes.forEach( ( child ) => {\n\t\t\t\t\tif ( ! ( child instanceof defaultView.HTMLElement ) ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif ( ! child.getAttribute( 'inert' ) ) {\n\t\t\t\t\t\tchild.setAttribute( 'inert', 'true' );\n\t\t\t\t\t\tupdates.push( () => {\n\t\t\t\t\t\t\tchild.removeAttribute( 'inert' );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\t// Debounce re-disable since disabling process itself will incur\n\t\t\t// additional mutations which should be ignored.\n\t\t\tconst debouncedDisable = debounce( disable, 0, {\n\t\t\t\tleading: true,\n\t\t\t} );\n\t\t\tdisable();\n\n\t\t\t/** @type {MutationObserver | undefined} */\n\t\t\tconst observer = new window.MutationObserver( debouncedDisable );\n\t\t\tobserver.observe( node, {\n\t\t\t\tchildList: true,\n\t\t\t} );\n\n\t\t\treturn () => {\n\t\t\t\tif ( observer ) {\n\t\t\t\t\tobserver.disconnect();\n\t\t\t\t}\n\t\t\t\tdebouncedDisable.cancel();\n\t\t\t\tupdates.forEach( ( update ) => update() );\n\t\t\t};\n\t\t},\n\t\t[ isDisabledProp ]\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useRef, useInsertionEffect, useCallback } from '@wordpress/element';\n\n/**\n * Any function.\n */\nexport type AnyFunction = ( ...args: any ) => any;\n\n/**\n * Creates a stable callback function that has access to the latest state and\n * can be used within event handlers and effect callbacks. Throws when used in\n * the render phase.\n *\n * @param callback The callback function to wrap.\n *\n * @example\n *\n * ```tsx\n * function Component( props ) {\n *   const onClick = useEvent( props.onClick );\n *   useEffect( () => {\n *     onClick();\n *     // Won't trigger the effect again when props.onClick is updated.\n *   }, [ onClick ] );\n *   // Won't re-render Button when props.onClick is updated (if `Button` is\n *   // wrapped in `React.memo`).\n *   return <Button onClick={ onClick } />;\n * }\n * ```\n */\nexport default function useEvent< T extends AnyFunction >(\n\t/**\n\t * The callback function to wrap.\n\t */\n\tcallback?: T\n) {\n\tconst ref = useRef< AnyFunction | undefined >( () => {\n\t\tthrow new Error(\n\t\t\t'Callbacks created with `useEvent` cannot be called during rendering.'\n\t\t);\n\t} );\n\tuseInsertionEffect( () => {\n\t\tref.current = callback;\n\t} );\n\treturn useCallback< AnyFunction >(\n\t\t( ...args ) => ref.current?.( ...args ),\n\t\t[]\n\t) as T;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useLayoutEffect } from '@wordpress/element';\n\n/**\n * Preferred over direct usage of `useLayoutEffect` when supporting\n * server rendered components (SSR) because currently React\n * throws a warning when using useLayoutEffect in that environment.\n */\nconst useIsomorphicLayoutEffect =\n\ttypeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport default useIsomorphicLayoutEffect;\n", "/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useRef, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useIsomorphicLayoutEffect from '../use-isomorphic-layout-effect';\n\n// Event handlers that are triggered from `document` listeners accept a MouseEvent,\n// while those triggered from React listeners accept a React.MouseEvent.\n/**\n * @param {Object}                                  props\n * @param {(e: import('react').MouseEvent) => void} props.onDragStart\n * @param {(e: MouseEvent) => void}                 props.onDragMove\n * @param {(e?: MouseEvent) => void}                props.onDragEnd\n */\nexport default function useDragging( { onDragStart, onDragMove, onDragEnd } ) {\n\tconst [ isDragging, setIsDragging ] = useState( false );\n\n\tconst eventsRef = useRef( {\n\t\tonDragStart,\n\t\tonDragMove,\n\t\tonDragEnd,\n\t} );\n\tuseIsomorphicLayoutEffect( () => {\n\t\teventsRef.current.onDragStart = onDragStart;\n\t\teventsRef.current.onDragMove = onDragMove;\n\t\teventsRef.current.onDragEnd = onDragEnd;\n\t}, [ onDragStart, onDragMove, onDragEnd ] );\n\n\t/** @type {(e: MouseEvent) => void} */\n\tconst onMouseMove = useCallback(\n\t\t( event ) =>\n\t\t\teventsRef.current.onDragMove &&\n\t\t\teventsRef.current.onDragMove( event ),\n\t\t[]\n\t);\n\t/** @type {(e?: MouseEvent) => void} */\n\tconst endDrag = useCallback( ( event ) => {\n\t\tif ( eventsRef.current.onDragEnd ) {\n\t\t\teventsRef.current.onDragEnd( event );\n\t\t}\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove );\n\t\tdocument.removeEventListener( 'mouseup', endDrag );\n\t\tsetIsDragging( false );\n\t}, [] );\n\t/** @type {(e: import('react').MouseEvent) => void} */\n\tconst startDrag = useCallback( ( event ) => {\n\t\tif ( eventsRef.current.onDragStart ) {\n\t\t\teventsRef.current.onDragStart( event );\n\t\t}\n\t\tdocument.addEventListener( 'mousemove', onMouseMove );\n\t\tdocument.addEventListener( 'mouseup', endDrag );\n\t\tsetIsDragging( true );\n\t}, [] );\n\n\t// Remove the global events when unmounting if needed.\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( isDragging ) {\n\t\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove );\n\t\t\t\tdocument.removeEventListener( 'mouseup', endDrag );\n\t\t\t}\n\t\t};\n\t}, [ isDragging ] );\n\n\treturn {\n\t\tstartDrag,\n\t\tendDrag,\n\t\tisDragging,\n\t};\n}\n", "/**\n * External dependencies\n */\nimport Mousetrap from 'mousetrap';\nimport 'mousetrap/plugins/global-bind/mousetrap-global-bind';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport { isAppleOS } from '@wordpress/keycodes';\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPKeyboardShortcutConfig\n *\n * @property {boolean}                                [bindGlobal] Handle keyboard events anywhere including inside textarea/input fields.\n * @property {string}                                 [eventName]  Event name used to trigger the handler, defaults to keydown.\n * @property {boolean}                                [isDisabled] Disables the keyboard handler if the value is true.\n * @property {import('react').RefObject<HTMLElement>} [target]     React reference to the DOM element used to catch the keyboard event.\n */\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * Attach a keyboard shortcut handler.\n *\n * @see https://craig.is/killing/mice#api.bind for information about the `callback` parameter.\n *\n * @param {string[]|string}                                                       shortcuts Keyboard Shortcuts.\n * @param {(e: import('mousetrap').ExtendedKeyboardEvent, combo: string) => void} callback  Shortcut callback.\n * @param {WPKeyboardShortcutConfig}                                              options   Shortcut options.\n */\nfunction useKeyboardShortcut(\n\t/* eslint-enable jsdoc/valid-types */\n\tshortcuts,\n\tcallback,\n\t{\n\t\tbindGlobal = false,\n\t\teventName = 'keydown',\n\t\tisDisabled = false, // This is important for performance considerations.\n\t\ttarget,\n\t} = {}\n) {\n\tconst currentCallbackRef = useRef( callback );\n\tuseEffect( () => {\n\t\tcurrentCallbackRef.current = callback;\n\t}, [ callback ] );\n\n\tuseEffect( () => {\n\t\tif ( isDisabled ) {\n\t\t\treturn;\n\t\t}\n\t\tconst mousetrap = new Mousetrap(\n\t\t\ttarget && target.current\n\t\t\t\t? target.current\n\t\t\t\t: // We were passing `document` here previously, so to successfully cast it to Element we must cast it first to `unknown`.\n\t\t\t\t  // Not sure if this is a mistake but it was the behavior previous to the addition of types so we're just doing what's\n\t\t\t\t  // necessary to maintain the existing behavior.\n\t\t\t\t  /** @type {Element} */ ( /** @type {unknown} */ ( document ) )\n\t\t);\n\t\tconst shortcutsArray = Array.isArray( shortcuts )\n\t\t\t? shortcuts\n\t\t\t: [ shortcuts ];\n\t\tshortcutsArray.forEach( ( shortcut ) => {\n\t\t\tconst keys = shortcut.split( '+' );\n\t\t\t// Determines whether a key is a modifier by the length of the string.\n\t\t\t// E.g. if I add a pass a shortcut Shift+Cmd+M, it'll determine that\n\t\t\t// the modifiers are Shift and Cmd because they're not a single character.\n\t\t\tconst modifiers = new Set(\n\t\t\t\tkeys.filter( ( value ) => value.length > 1 )\n\t\t\t);\n\t\t\tconst hasAlt = modifiers.has( 'alt' );\n\t\t\tconst hasShift = modifiers.has( 'shift' );\n\n\t\t\t// This should be better moved to the shortcut registration instead.\n\t\t\tif (\n\t\t\t\tisAppleOS() &&\n\t\t\t\t( ( modifiers.size === 1 && hasAlt ) ||\n\t\t\t\t\t( modifiers.size === 2 && hasAlt && hasShift ) )\n\t\t\t) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Cannot bind ${ shortcut }. Alt and Shift+Alt modifiers are reserved for character input.`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst bindFn = bindGlobal ? 'bindGlobal' : 'bind';\n\t\t\t// @ts-ignore `bindGlobal` is an undocumented property\n\t\t\tmousetrap[ bindFn ](\n\t\t\t\tshortcut,\n\t\t\t\t(\n\t\t\t\t\t/* eslint-disable jsdoc/valid-types */\n\t\t\t\t\t/** @type {[e: import('mousetrap').ExtendedKeyboardEvent, combo: string]} */ ...args\n\t\t\t\t) =>\n\t\t\t\t\t/* eslint-enable jsdoc/valid-types */\n\t\t\t\t\tcurrentCallbackRef.current( ...args ),\n\t\t\t\teventName\n\t\t\t);\n\t\t} );\n\n\t\treturn () => {\n\t\t\tmousetrap.reset();\n\t\t};\n\t}, [ shortcuts, bindGlobal, eventName, target, isDisabled ] );\n}\n\nexport default useKeyboardShortcut;\n", "/**\n * adds a bindGlobal method to Mousetrap that allows you to\n * bind specific keyboard shortcuts that will still work\n * inside a text input field\n *\n * usage:\n * Mousetrap.bindGlobal('ctrl+s', _saveChanges);\n */\n/* global Mousetrap:true */\n(function(Mousetrap) {\n    if (! Mousetrap) {\n        return;\n    }\n    var _globalCallbacks = {};\n    var _originalStopCallback = Mousetrap.prototype.stopCallback;\n\n    Mousetrap.prototype.stopCallback = function(e, element, combo, sequence) {\n        var self = this;\n\n        if (self.paused) {\n            return true;\n        }\n\n        if (_globalCallbacks[combo] || _globalCallbacks[sequence]) {\n            return false;\n        }\n\n        return _originalStopCallback.call(self, e, element, combo);\n    };\n\n    Mousetrap.prototype.bindGlobal = function(keys, callback, action) {\n        var self = this;\n        self.bind(keys, callback, action);\n\n        if (keys instanceof Array) {\n            for (var i = 0; i < keys.length; i++) {\n                _globalCallbacks[keys[i]] = true;\n            }\n            return;\n        }\n\n        _globalCallbacks[keys] = true;\n    };\n\n    Mousetrap.init();\n}) (typeof Mousetrap !== \"undefined\" ? Mousetrap : undefined);\n", "/**\n * WordPress dependencies\n */\nimport { useMemo, useSyncExternalStore } from '@wordpress/element';\n\nconst matchMediaCache = new Map();\n\n/**\n * A new MediaQueryList object for the media query\n *\n * @param {string} [query] Media Query.\n * @return {MediaQueryList|null} A new object for the media query\n */\nfunction getMediaQueryList( query ) {\n\tif ( ! query ) {\n\t\treturn null;\n\t}\n\n\tlet match = matchMediaCache.get( query );\n\n\tif ( match ) {\n\t\treturn match;\n\t}\n\n\tif (\n\t\ttypeof window !== 'undefined' &&\n\t\ttypeof window.matchMedia === 'function'\n\t) {\n\t\tmatch = window.matchMedia( query );\n\t\tmatchMediaCache.set( query, match );\n\t\treturn match;\n\t}\n\n\treturn null;\n}\n\n/**\n * Runs a media query and returns its value when it changes.\n *\n * @param {string} [query] Media Query.\n * @return {boolean} return value of the media query.\n */\nexport default function useMediaQuery( query ) {\n\tconst source = useMemo( () => {\n\t\tconst mediaQueryList = getMediaQueryList( query );\n\n\t\treturn {\n\t\t\t/** @type {(onStoreChange: () => void) => () => void} */\n\t\t\tsubscribe( onStoreChange ) {\n\t\t\t\tif ( ! mediaQueryList ) {\n\t\t\t\t\treturn () => {};\n\t\t\t\t}\n\n\t\t\t\t// Avoid a fatal error when browsers don't support `addEventListener` on MediaQueryList.\n\t\t\t\tmediaQueryList.addEventListener?.( 'change', onStoreChange );\n\t\t\t\treturn () => {\n\t\t\t\t\tmediaQueryList.removeEventListener?.(\n\t\t\t\t\t\t'change',\n\t\t\t\t\t\tonStoreChange\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t},\n\t\t\tgetValue() {\n\t\t\t\treturn mediaQueryList?.matches ?? false;\n\t\t\t},\n\t\t};\n\t}, [ query ] );\n\n\treturn useSyncExternalStore(\n\t\tsource.subscribe,\n\t\tsource.getValue,\n\t\t() => false\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Use something's value from the previous render.\n * Based on https://usehooks.com/usePrevious/.\n *\n * @param value The value to track.\n *\n * @return The value from the previous render.\n */\nexport default function usePrevious< T >( value: T ): T | undefined {\n\tconst ref = useRef< T >();\n\n\t// Store current value in ref.\n\tuseEffect( () => {\n\t\tref.current = value;\n\t}, [ value ] ); // Re-run when value changes.\n\n\t// Return previous value (happens before update in useEffect above).\n\treturn ref.current;\n}\n", "/**\n * Internal dependencies\n */\nimport useMediaQuery from '../use-media-query';\n\n/**\n * Hook returning whether the user has a preference for reduced motion.\n *\n * @return {boolean} Reduced motion preference value.\n */\nconst useReducedMotion = () =>\n\tuseMediaQuery( '(prefers-reduced-motion: reduce)' );\n\nexport default useReducedMotion;\n", "/**\n * WordPress dependencies\n */\nimport { createContext, useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useMediaQuery from '../use-media-query';\n\n/**\n * @typedef {\"xhuge\" | \"huge\" | \"wide\" | \"xlarge\" | \"large\" | \"medium\" | \"small\" | \"mobile\"} WPBreakpoint\n */\n\n/**\n * Hash of breakpoint names with pixel width at which it becomes effective.\n *\n * @see _breakpoints.scss\n *\n * @type {Record<WPBreakpoint, number>}\n */\nconst BREAKPOINTS = {\n\txhuge: 1920,\n\thuge: 1440,\n\twide: 1280,\n\txlarge: 1080,\n\tlarge: 960,\n\tmedium: 782,\n\tsmall: 600,\n\tmobile: 480,\n};\n\n/**\n * @typedef {\">=\" | \"<\"} WPViewportOperator\n */\n\n/**\n * Object mapping media query operators to the condition to be used.\n *\n * @type {Record<WPViewportOperator, string>}\n */\nconst CONDITIONS = {\n\t'>=': 'min-width',\n\t'<': 'max-width',\n};\n\n/**\n * Object mapping media query operators to a function that given a breakpointValue and a width evaluates if the operator matches the values.\n *\n * @type {Record<WPViewportOperator, (breakpointValue: number, width: number) => boolean>}\n */\nconst OPERATOR_EVALUATORS = {\n\t'>=': ( breakpointValue, width ) => width >= breakpointValue,\n\t'<': ( breakpointValue, width ) => width < breakpointValue,\n};\n\nconst ViewportMatchWidthContext = createContext(\n\t/** @type {null | number} */ ( null )\n);\nViewportMatchWidthContext.displayName = 'ViewportMatchWidthContext';\n\n/**\n * Returns true if the viewport matches the given query, or false otherwise.\n *\n * @param {WPBreakpoint}       breakpoint      Breakpoint size name.\n * @param {WPViewportOperator} [operator=\">=\"] Viewport operator.\n *\n * @example\n *\n * ```js\n * useViewportMatch( 'huge', '<' );\n * useViewportMatch( 'medium' );\n * ```\n *\n * @return {boolean} Whether viewport matches query.\n */\nconst useViewportMatch = ( breakpoint, operator = '>=' ) => {\n\tconst simulatedWidth = useContext( ViewportMatchWidthContext );\n\tconst mediaQuery =\n\t\t! simulatedWidth &&\n\t\t`(${ CONDITIONS[ operator ] }: ${ BREAKPOINTS[ breakpoint ] }px)`;\n\tconst mediaQueryResult = useMediaQuery( mediaQuery || undefined );\n\tif ( simulatedWidth ) {\n\t\treturn OPERATOR_EVALUATORS[ operator ](\n\t\t\tBREAKPOINTS[ breakpoint ],\n\t\t\tsimulatedWidth\n\t\t);\n\t}\n\treturn mediaQueryResult;\n};\n\nuseViewportMatch.__experimentalWidthProvider =\n\tViewportMatchWidthContext.Provider;\n\nexport default useViewportMatch;\n", "/**\n * WordPress dependencies\n */\nimport { useRef } from '@wordpress/element';\n/**\n * Internal dependencies\n */\nimport useEvent from '../use-event';\n\n// This is the current implementation of `useResizeObserver`.\n//\n// The legacy implementation is still supported for backwards compatibility.\n// This is achieved by overloading the exported function with both signatures,\n// and detecting which API is being used at runtime.\nexport function useResizeObserver< T extends HTMLElement >(\n\tcallback: ResizeObserverCallback,\n\tresizeObserverOptions: ResizeObserverOptions = {}\n): ( element?: T | null ) => void {\n\tconst callbackEvent = useEvent( callback );\n\n\tconst observedElementRef = useRef< T | null >();\n\tconst resizeObserverRef = useRef< ResizeObserver >();\n\treturn useEvent( ( element?: T | null ) => {\n\t\tif ( element === observedElementRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Set up `ResizeObserver`.\n\t\tresizeObserverRef.current ??= new ResizeObserver( callbackEvent );\n\t\tconst { current: resizeObserver } = resizeObserverRef;\n\n\t\t// Unobserve previous element.\n\t\tif ( observedElementRef.current ) {\n\t\t\tresizeObserver.unobserve( observedElementRef.current );\n\t\t}\n\n\t\t// Observe new element.\n\t\tobservedElementRef.current = element;\n\t\tif ( element ) {\n\t\t\tresizeObserver.observe( element, resizeObserverOptions );\n\t\t}\n\t} );\n}\n", "/**\n * External dependencies\n */\nimport type { ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useRef, useState } from '@wordpress/element';\n/**\n * Internal dependencies\n */\nimport { useResizeObserver } from '../use-resize-observer';\n\nexport type ObservedSize = {\n\twidth: number | null;\n\theight: number | null;\n};\n\n// We're only using the first element of the size sequences, until future versions of the spec solidify on how\n// exactly it'll be used for fragments in multi-column scenarios:\n// From the spec:\n// > The box size properties are exposed as FrozenArray in order to support elements that have multiple fragments,\n// > which occur in multi-column scenarios. However the current definitions of content rect and border box do not\n// > mention how those boxes are affected by multi-column layout. In this spec, there will only be a single\n// > ResizeObserverSize returned in the FrozenArray, which will correspond to the dimensions of the first column.\n// > A future version of this spec will extend the returned FrozenArray to contain the per-fragment size information.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-entry-interface)\n//\n// Also, testing these new box options revealed that in both Chrome and FF everything is returned in the callback,\n// regardless of the \"box\" option.\n// The spec states the following on this:\n// > This does not have any impact on which box dimensions are returned to the defined callback when the event\n// > is fired, it solely defines which box the author wishes to observe layout changes on.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-interface)\n// I'm not exactly clear on what this means, especially when you consider a later section stating the following:\n// > This section is non-normative. An author may desire to observe more than one CSS box.\n// > In this case, author will need to use multiple ResizeObservers.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-interface)\n// Which is clearly not how current browser implementations behave, and seems to contradict the previous quote.\n// For this reason I decided to only return the requested size,\n// even though it seems we have access to results for all box types.\n// This also means that we get to keep the current api, being able to return a simple { width, height } pair,\n// regardless of box option.\nconst extractSize = ( entry: ResizeObserverEntry ): ObservedSize => {\n\tlet entrySize;\n\tif ( ! entry.contentBoxSize ) {\n\t\t// The dimensions in `contentBoxSize` and `contentRect` are equivalent according to the spec.\n\t\t// See the 6th step in the description for the RO algorithm:\n\t\t// https://drafts.csswg.org/resize-observer/#create-and-populate-resizeobserverentry-h\n\t\t// > Set this.contentRect to logical this.contentBoxSize given target and observedBox of \"content-box\".\n\t\t// In real browser implementations of course these objects differ, but the width/height values should be equivalent.\n\t\tentrySize = [ entry.contentRect.width, entry.contentRect.height ];\n\t} else if ( entry.contentBoxSize[ 0 ] ) {\n\t\tconst contentBoxSize = entry.contentBoxSize[ 0 ];\n\t\tentrySize = [ contentBoxSize.inlineSize, contentBoxSize.blockSize ];\n\t} else {\n\t\t// TS complains about this, because the RO entry type follows the spec and does not reflect Firefox's buggy\n\t\t// behaviour of returning objects instead of arrays for `borderBoxSize` and `contentBoxSize`.\n\t\tconst contentBoxSize =\n\t\t\tentry.contentBoxSize as unknown as ResizeObserverSize;\n\t\tentrySize = [ contentBoxSize.inlineSize, contentBoxSize.blockSize ];\n\t}\n\n\tconst [ width, height ] = entrySize.map( ( d ) => Math.round( d ) );\n\treturn { width, height };\n};\n\nconst RESIZE_ELEMENT_STYLES = {\n\tposition: 'absolute',\n\ttop: 0,\n\tleft: 0,\n\tright: 0,\n\tbottom: 0,\n\tpointerEvents: 'none',\n\topacity: 0,\n\toverflow: 'hidden',\n\tzIndex: -1,\n} as const;\n\ntype ResizeElementProps = {\n\tonResize: ( s: ObservedSize ) => void;\n};\n\nfunction ResizeElement( { onResize }: ResizeElementProps ) {\n\tconst resizeElementRef = useResizeObserver( ( entries ) => {\n\t\tconst newSize = extractSize( entries.at( -1 )! ); // Entries are never empty.\n\t\tonResize( newSize );\n\t} );\n\n\treturn (\n\t\t<div\n\t\t\tref={ resizeElementRef }\n\t\t\tstyle={ RESIZE_ELEMENT_STYLES }\n\t\t\taria-hidden=\"true\"\n\t\t/>\n\t);\n}\n\nfunction sizeEquals( a: ObservedSize, b: ObservedSize ) {\n\treturn a.width === b.width && a.height === b.height;\n}\n\nconst NULL_SIZE: ObservedSize = { width: null, height: null };\n\n/**\n * Hook which allows to listen to the resize event of any target element when it changes size.\n * _Note: `useResizeObserver` will report `null` sizes until after first render.\n *\n * @example\n *\n * ```js\n * const App = () => {\n * \tconst [ resizeListener, sizes ] = useResizeObserver();\n *\n * \treturn (\n * \t\t<div>\n * \t\t\t{ resizeListener }\n * \t\t\tYour content here\n * \t\t</div>\n * \t);\n * };\n * ```\n */\nexport default function useLegacyResizeObserver(): [\n\tReactElement,\n\tObservedSize,\n] {\n\tconst [ size, setSize ] = useState( NULL_SIZE );\n\n\t// Using a ref to track the previous width / height to avoid unnecessary renders.\n\tconst previousSizeRef = useRef( NULL_SIZE );\n\n\tconst handleResize = useCallback( ( newSize: ObservedSize ) => {\n\t\tif ( ! sizeEquals( previousSizeRef.current, newSize ) ) {\n\t\t\tpreviousSizeRef.current = newSize;\n\t\t\tsetSize( newSize );\n\t\t}\n\t}, [] );\n\n\tconst resizeElement = <ResizeElement onResize={ handleResize } />;\n\treturn [ resizeElement, size ];\n}\n", "/**\n * Internal dependencies\n */\nimport { useResizeObserver as _useResizeObserver } from './use-resize-observer';\nimport type { ObservedSize } from './legacy';\nimport _useLegacyResizeObserver from './legacy';\n/**\n * External dependencies\n */\nimport type { ReactElement } from 'react';\n\n/**\n * Sets up a [`ResizeObserver`](https://developer.mozilla.org/en-US/docs/Web/API/Resize_Observer_API)\n * for an HTML or SVG element.\n *\n * Pass the returned setter as a callback ref to the React element you want\n * to observe, or use it in layout effects for advanced use cases.\n *\n * @example\n *\n * ```tsx\n * const setElement = useResizeObserver(\n * \t( resizeObserverEntries ) => console.log( resizeObserverEntries ),\n * \t{ box: 'border-box' }\n * );\n * <div ref={ setElement } />;\n *\n * // The setter can be used in other ways, for example:\n * useLayoutEffect( () => {\n * \tsetElement( document.querySelector( `data-element-id=\"${ elementId }\"` ) );\n * }, [ elementId ] );\n * ```\n *\n * @param callback The `ResizeObserver` callback - [MDN docs](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/ResizeObserver#callback).\n * @param options  Options passed to `ResizeObserver.observe` when called - [MDN docs](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/observe#options). Changes will be ignored.\n */\nexport default function useResizeObserver< T extends Element >(\n\t/**\n\t * The `ResizeObserver` callback - [MDN docs](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/ResizeObserver#callback).\n\t */\n\tcallback: ResizeObserverCallback,\n\t/**\n\t * Options passed to `ResizeObserver.observe` when called - [MDN docs](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/observe#options). Changes will be ignored.\n\t */\n\toptions?: ResizeObserverOptions\n): ( element?: T | null ) => void;\n\n/**\n * **This is a legacy API and should not be used.**\n *\n * @deprecated Use the other `useResizeObserver` API instead: `const ref = useResizeObserver( ( entries ) => { ... } )`.\n *\n * Hook which allows to listen to the resize event of any target element when it changes size.\n * _Note: `useResizeObserver` will report `null` sizes until after first render.\n *\n * @example\n *\n * ```js\n * const App = () => {\n * \tconst [ resizeListener, sizes ] = useResizeObserver();\n *\n * \treturn (\n * \t\t<div>\n * \t\t\t{ resizeListener }\n * \t\t\tYour content here\n * \t\t</div>\n * \t);\n * };\n * ```\n */\nexport default function useResizeObserver(): [ ReactElement, ObservedSize ];\n\nexport default function useResizeObserver< T extends HTMLElement >(\n\tcallback?: ResizeObserverCallback,\n\toptions: ResizeObserverOptions = {}\n): ( ( element?: T | null ) => void ) | [ ReactElement, ObservedSize ] {\n\treturn callback\n\t\t? _useResizeObserver( callback, options )\n\t\t: _useLegacyResizeObserver();\n}\n", "/**\n * External dependencies\n */\nimport 'requestidlecallback';\n\n/**\n * Internal dependencies\n */\nimport type { RequestIdleCallbackCallback } from './types';\n\n/**\n * @return A function that schedules a callback when the browser is idle or via setTimeout on the server.\n */\nexport function createRequestIdleCallback() {\n\tif ( typeof window === 'undefined' ) {\n\t\treturn ( callback: RequestIdleCallbackCallback ) => {\n\t\t\tsetTimeout( () => callback( Date.now() ), 0 );\n\t\t};\n\t}\n\n\treturn window.requestIdleCallback;\n}\n\nexport default createRequestIdleCallback();\n", "/**\n * Internal dependencies\n */\nimport requestIdleCallback from './request-idle-callback';\n\n/**\n * Enqueued callback to invoke once idle time permits.\n */\nexport type WPPriorityQueueCallback = VoidFunction;\n\n/**\n * An object used to associate callbacks in a particular context grouping.\n */\nexport type WPPriorityQueueContext = object;\n\n/**\n * Interface for the priority queue instance.\n */\nexport interface WPPriorityQueue {\n\t/**\n\t * Add a callback to the queue for a given context.\n\t */\n\tadd: (\n\t\telement: WPPriorityQueueContext,\n\t\titem: WPPriorityQueueCallback\n\t) => void;\n\n\t/**\n\t * Flush and run the callback for a given context immediately.\n\t * @return true if a callback was run, false otherwise.\n\t */\n\tflush: ( element: WPPriorityQueueContext ) => boolean;\n\n\t/**\n\t * Cancel (remove) the callback for a given context without running it.\n\t * @return true if a callback was cancelled, false otherwise.\n\t */\n\tcancel: ( element: WPPriorityQueueContext ) => boolean;\n\n\t/**\n\t * Reset the entire queue, clearing pending callbacks.\n\t */\n\treset: VoidFunction;\n}\n\n/**\n * Creates a context-aware queue that only executes\n * the last task of a given context.\n *\n * @example\n *```js\n * import { createQueue } from '@wordpress/priority-queue';\n *\n * const queue = createQueue();\n *\n * // Context objects.\n * const ctx1 = {};\n * const ctx2 = {};\n *\n * // For a given context in the queue, only the last callback is executed.\n * queue.add( ctx1, () => console.log( 'This will be printed first' ) );\n * queue.add( ctx2, () => console.log( 'This won\\'t be printed' ) );\n * queue.add( ctx2, () => console.log( 'This will be printed second' ) );\n *```\n *\n * @return {WPPriorityQueue} Queue object with `add`, `flush` and `reset` methods.\n */\nexport const createQueue = (): WPPriorityQueue => {\n\tconst waitingList = new Map<\n\t\tWPPriorityQueueContext,\n\t\tWPPriorityQueueCallback\n\t>();\n\tlet isRunning = false;\n\n\t/**\n\t * Callback to process as much queue as time permits.\n\t *\n\t * Map Iteration follows the original insertion order. This means that here\n\t * we can iterate the queue and know that the first contexts which were\n\t * added will be run first. On the other hand, if anyone adds a new callback\n\t * for an existing context it will supplant the previously-set callback for\n\t * that context because we reassigned that map key's value.\n\t *\n\t * In the case that a callback adds a new callback to its own context then\n\t * the callback it adds will appear at the end of the iteration and will be\n\t * run only after all other existing contexts have finished executing.\n\t *\n\t * @param {IdleDeadline|number} deadline Idle callback deadline object, or\n\t *                                       animation frame timestamp.\n\t */\n\tconst runWaitingList = ( deadline: IdleDeadline | number ): void => {\n\t\tfor ( const [ nextElement, callback ] of waitingList ) {\n\t\t\twaitingList.delete( nextElement );\n\t\t\tcallback();\n\n\t\t\tif (\n\t\t\t\t'number' === typeof deadline ||\n\t\t\t\tdeadline.timeRemaining() <= 0\n\t\t\t) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif ( waitingList.size === 0 ) {\n\t\t\tisRunning = false;\n\t\t\treturn;\n\t\t}\n\n\t\trequestIdleCallback( runWaitingList );\n\t};\n\n\t/**\n\t * Add a callback to the queue for a given context.\n\t *\n\t * If errors with undefined callbacks are encountered double check that\n\t * all of your useSelect calls have the right dependencies set correctly\n\t * in their second parameter. Missing dependencies can cause unexpected\n\t * loops and race conditions in the queue.\n\t *\n\t * @param {WPPriorityQueueContext}  element Context object.\n\t * @param {WPPriorityQueueCallback} item    Callback function.\n\t */\n\tconst add: WPPriorityQueue[ 'add' ] = (\n\t\telement: WPPriorityQueueContext,\n\t\titem: WPPriorityQueueCallback\n\t) => {\n\t\twaitingList.set( element, item );\n\t\tif ( ! isRunning ) {\n\t\t\tisRunning = true;\n\t\t\trequestIdleCallback( runWaitingList );\n\t\t}\n\t};\n\n\t/**\n\t * Flushes queue for a given context, returning true if the flush was\n\t * performed, or false if there is no queue for the given context.\n\t *\n\t * @param {WPPriorityQueueContext} element Context object.\n\t *\n\t * @return {boolean} Whether flush was performed.\n\t */\n\tconst flush: WPPriorityQueue[ 'flush' ] = (\n\t\telement: WPPriorityQueueContext\n\t) => {\n\t\tconst callback = waitingList.get( element );\n\t\tif ( undefined === callback ) {\n\t\t\treturn false;\n\t\t}\n\n\t\twaitingList.delete( element );\n\t\tcallback();\n\n\t\treturn true;\n\t};\n\n\t/**\n\t * Clears the queue for a given context, cancelling the callbacks without\n\t * executing them. Returns `true` if there were scheduled callbacks to cancel,\n\t * or `false` if there was is no queue for the given context.\n\t *\n\t * @param {WPPriorityQueueContext} element Context object.\n\t *\n\t * @return {boolean} Whether any callbacks got cancelled.\n\t */\n\tconst cancel: WPPriorityQueue[ 'cancel' ] = (\n\t\telement: WPPriorityQueueContext\n\t) => {\n\t\treturn waitingList.delete( element );\n\t};\n\n\t/**\n\t * Reset the queue without running the pending callbacks.\n\t */\n\tconst reset: WPPriorityQueue[ 'reset' ] = () => {\n\t\twaitingList.clear();\n\t\tisRunning = false;\n\t};\n\n\treturn {\n\t\tadd,\n\t\tflush,\n\t\tcancel,\n\t\treset,\n\t};\n};\n", "/**\n * WordPress dependencies\n */\nimport { flushSync, useEffect, useState } from '@wordpress/element';\nimport { createQueue } from '@wordpress/priority-queue';\n\ntype AsyncListConfig = {\n\tstep: number;\n};\n\n/**\n * Returns the first items from list that are present on state.\n *\n * @param list  New array.\n * @param state Current state.\n * @return First items present in state.\n */\nfunction getFirstItemsPresentInState< T >( list: T[], state: T[] ): T[] {\n\tconst firstItems = [];\n\n\tfor ( let i = 0; i < list.length; i++ ) {\n\t\tconst item = list[ i ];\n\t\tif ( ! state.includes( item ) ) {\n\t\t\tbreak;\n\t\t}\n\n\t\tfirstItems.push( item );\n\t}\n\n\treturn firstItems;\n}\n\n/**\n * React hook returns an array which items get asynchronously appended from a source array.\n * This behavior is useful if we want to render a list of items asynchronously for performance reasons.\n *\n * @param list   Source array.\n * @param config Configuration object.\n *\n * @return Async array.\n */\nfunction useAsyncList< T >(\n\tlist: T[],\n\tconfig: AsyncListConfig = { step: 1 }\n): T[] {\n\tconst { step = 1 } = config;\n\tconst [ current, setCurrent ] = useState< T[] >( [] );\n\n\tuseEffect( () => {\n\t\t// On reset, we keep the first items that were previously rendered.\n\t\tlet firstItems = getFirstItemsPresentInState( list, current );\n\t\tif ( firstItems.length < step ) {\n\t\t\tfirstItems = firstItems.concat(\n\t\t\t\tlist.slice( firstItems.length, step )\n\t\t\t);\n\t\t}\n\t\tsetCurrent( firstItems );\n\n\t\tconst asyncQueue = createQueue();\n\t\tfor ( let i = firstItems.length; i < list.length; i += step ) {\n\t\t\tasyncQueue.add( {}, () => {\n\t\t\t\tflushSync( () => {\n\t\t\t\t\tsetCurrent( ( state ) => [\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\t...list.slice( i, i + step ),\n\t\t\t\t\t] );\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\n\t\treturn () => asyncQueue.reset();\n\t}, [ list ] );\n\n\treturn current;\n}\n\nexport default useAsyncList;\n", "import { useState, useRef, useEffect } from 'react';\n\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n\n  for (var i = 0; i < newInputs.length; i++) {\n    if (newInputs[i] !== lastInputs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction useMemoOne(getResult, inputs) {\n  var initial = useState(function () {\n    return {\n      inputs: inputs,\n      result: getResult()\n    };\n  })[0];\n  var isFirstRun = useRef(true);\n  var committed = useRef(initial);\n  var useCache = isFirstRun.current || Boolean(inputs && committed.current.inputs && areInputsEqual(inputs, committed.current.inputs));\n  var cache = useCache ? committed.current : {\n    inputs: inputs,\n    result: getResult()\n  };\n  useEffect(function () {\n    isFirstRun.current = false;\n    committed.current = cache;\n  }, [cache]);\n  return cache.result;\n}\nfunction useCallbackOne(callback, inputs) {\n  return useMemoOne(function () {\n    return callback;\n  }, inputs);\n}\nvar useMemo = useMemoOne;\nvar useCallback = useCallbackOne;\n\nexport { useCallback, useCallbackOne, useMemo, useMemoOne };\n", "/**\n * External dependencies\n */\nimport { useMemoOne } from 'use-memo-one';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { debounce } from '../../utils/debounce';\n\n/**\n * Debounces a function similar to Lodash's `debounce`. A new debounced function will\n * be returned and any scheduled calls cancelled if any of the arguments change,\n * including the function to debounce, so please wrap functions created on\n * render in components in `useCallback`.\n *\n * @see https://lodash.com/docs/4#debounce\n *\n * @template {(...args: any[]) => void} TFunc\n *\n * @param {TFunc}                                          fn        The function to debounce.\n * @param {number}                                         [wait]    The number of milliseconds to delay.\n * @param {import('../../utils/debounce').DebounceOptions} [options] The options object.\n * @return {import('../../utils/debounce').DebouncedFunc<TFunc>} Debounced function.\n */\nexport default function useDebounce( fn, wait, options ) {\n\tconst debounced = useMemoOne(\n\t\t() => debounce( fn, wait ?? 0, options ),\n\t\t[ fn, wait, options ]\n\t);\n\tuseEffect( () => () => debounced.cancel(), [ debounced ] );\n\treturn debounced;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useDebounce from '../use-debounce';\n\n/**\n * Helper hook for input fields that need to debounce the value before using it.\n *\n * @param defaultValue The default value to use.\n * @return The input value, the setter and the debounced input value.\n */\nexport default function useDebouncedInput(\n\tdefaultValue = ''\n): [ string, ( value: string ) => void, string ] {\n\tconst [ input, setInput ] = useState< string >( defaultValue );\n\tconst [ debouncedInput, setDebouncedState ] = useState( defaultValue );\n\n\tconst setDebouncedInput = useDebounce( setDebouncedState, 250 );\n\n\tuseEffect( () => {\n\t\tsetDebouncedInput( input );\n\t}, [ input, setDebouncedInput ] );\n\n\treturn [ input, setInput, debouncedInput ];\n}\n", "/**\n * External dependencies\n */\nimport { useMemoOne } from 'use-memo-one';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { throttle } from '../../utils/throttle';\n\n/**\n * Throttles a function similar to Lodash's `throttle`. A new throttled function will\n * be returned and any scheduled calls cancelled if any of the arguments change,\n * including the function to throttle, so please wrap functions created on\n * render in components in `useCallback`.\n *\n * @see https://lodash.com/docs/4#throttle\n *\n * @template {(...args: any[]) => void} TFunc\n *\n * @param {TFunc}                                          fn        The function to throttle.\n * @param {number}                                         [wait]    The number of milliseconds to throttle invocations to.\n * @param {import('../../utils/throttle').ThrottleOptions} [options] The options object. See linked documentation for details.\n * @return {import('../../utils/debounce').DebouncedFunc<TFunc>} Throttled function.\n */\nexport default function useThrottle( fn, wait, options ) {\n\tconst throttled = useMemoOne(\n\t\t() => throttle( fn, wait ?? 0, options ),\n\t\t[ fn, wait, options ]\n\t);\n\tuseEffect( () => () => throttled.cancel(), [ throttled ] );\n\treturn throttled;\n}\n", "/**\n * Internal dependencies\n */\nimport useRefEffect from '../use-ref-effect';\nimport useEvent from '../use-event';\n\n/**\n * A hook to facilitate drag and drop handling.\n *\n * @param {Object}                  props                   Named parameters.\n * @param {?HTMLElement}            [props.dropZoneElement] Optional element to be used as the drop zone.\n * @param {boolean}                 [props.isDisabled]      Whether or not to disable the drop zone.\n * @param {(e: DragEvent) => void}  [props.onDragStart]     Called when dragging has started.\n * @param {(e: DragEvent) => void}  [props.onDragEnter]     Called when the zone is entered.\n * @param {(e: DragEvent) => void}  [props.onDragOver]      Called when the zone is moved within.\n * @param {(e: DragEvent) => void}  [props.onDragLeave]     Called when the zone is left.\n * @param {(e: MouseEvent) => void} [props.onDragEnd]       Called when dragging has ended.\n * @param {(e: DragEvent) => void}  [props.onDrop]          Called when dropping in the zone.\n *\n * @return {import('react').RefCallback<HTMLElement>} Ref callback to be passed to the drop zone element.\n */\nexport default function useDropZone( {\n\tdropZoneElement,\n\tisDisabled,\n\tonDrop: _onDrop,\n\tonDragStart: _onDragStart,\n\tonDragEnter: _onDragEnter,\n\tonDragLeave: _onDragLeave,\n\tonDragEnd: _onDragEnd,\n\tonDragOver: _onDragOver,\n} ) {\n\tconst onDropEvent = useEvent( _onDrop );\n\tconst onDragStartEvent = useEvent( _onDragStart );\n\tconst onDragEnterEvent = useEvent( _onDragEnter );\n\tconst onDragLeaveEvent = useEvent( _onDragLeave );\n\tconst onDragEndEvent = useEvent( _onDragEnd );\n\tconst onDragOverEvent = useEvent( _onDragOver );\n\n\treturn useRefEffect(\n\t\t( elem ) => {\n\t\t\tif ( isDisabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a custom dropZoneRef is passed, use that instead of the element.\n\t\t\t// This allows the dropzone to cover an expanded area, rather than\n\t\t\t// be restricted to the area of the ref returned by this hook.\n\t\t\tconst element = dropZoneElement ?? elem;\n\n\t\t\tlet isDragging = false;\n\n\t\t\tconst { ownerDocument } = element;\n\n\t\t\t/**\n\t\t\t * Checks if an element is in the drop zone.\n\t\t\t *\n\t\t\t * @param {EventTarget|null} targetToCheck\n\t\t\t *\n\t\t\t * @return {boolean} True if in drop zone, false if not.\n\t\t\t */\n\t\t\tfunction isElementInZone( targetToCheck ) {\n\t\t\t\tconst { defaultView } = ownerDocument;\n\n\t\t\t\tif (\n\t\t\t\t\t! targetToCheck ||\n\t\t\t\t\t! defaultView ||\n\t\t\t\t\t! ( targetToCheck instanceof defaultView.HTMLElement ) ||\n\t\t\t\t\t! element.contains( targetToCheck )\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t/** @type {HTMLElement|null} */\n\t\t\t\tlet elementToCheck = targetToCheck;\n\n\t\t\t\tdo {\n\t\t\t\t\tif ( elementToCheck.dataset.isDropZone ) {\n\t\t\t\t\t\treturn elementToCheck === element;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elementToCheck = elementToCheck.parentElement ) );\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfunction maybeDragStart( /** @type {DragEvent} */ event ) {\n\t\t\t\tif ( isDragging ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tisDragging = true;\n\n\t\t\t\t// Note that `dragend` doesn't fire consistently for file and\n\t\t\t\t// HTML drag events where the drag origin is outside the browser\n\t\t\t\t// window. In Firefox it may also not fire if the originating\n\t\t\t\t// node is removed.\n\t\t\t\townerDocument.addEventListener( 'dragend', maybeDragEnd );\n\t\t\t\townerDocument.addEventListener( 'mousemove', maybeDragEnd );\n\n\t\t\t\tif ( _onDragStart ) {\n\t\t\t\t\tonDragStartEvent( event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onDragEnter( /** @type {DragEvent} */ event ) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// The `dragenter` event will also fire when entering child\n\t\t\t\t// elements, but we only want to call `onDragEnter` when\n\t\t\t\t// entering the drop zone, which means the `relatedTarget`\n\t\t\t\t// (element that has been left) should be outside the drop zone.\n\t\t\t\tif (\n\t\t\t\t\telement.contains(\n\t\t\t\t\t\t/** @type {Node} */ ( event.relatedTarget )\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( _onDragEnter ) {\n\t\t\t\t\tonDragEnterEvent( event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onDragOver( /** @type {DragEvent} */ event ) {\n\t\t\t\t// Only call onDragOver for the innermost hovered drop zones.\n\t\t\t\tif ( ! event.defaultPrevented && _onDragOver ) {\n\t\t\t\t\tonDragOverEvent( event );\n\t\t\t\t}\n\n\t\t\t\t// Prevent the browser default while also signalling to parent\n\t\t\t\t// drop zones that `onDragOver` is already handled.\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tfunction onDragLeave( /** @type {DragEvent} */ event ) {\n\t\t\t\t// The `dragleave` event will also fire when leaving child\n\t\t\t\t// elements, but we only want to call `onDragLeave` when\n\t\t\t\t// leaving the drop zone, which means the `relatedTarget`\n\t\t\t\t// (element that has been entered) should be outside the drop\n\t\t\t\t// zone.\n\t\t\t\t// Note: This is not entirely reliable in Safari due to this bug\n\t\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=66547\n\n\t\t\t\tif ( isElementInZone( event.relatedTarget ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( _onDragLeave ) {\n\t\t\t\t\tonDragLeaveEvent( event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onDrop( /** @type {DragEvent} */ event ) {\n\t\t\t\t// Don't handle drop if an inner drop zone already handled it.\n\t\t\t\tif ( event.defaultPrevented ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Prevent the browser default while also signalling to parent\n\t\t\t\t// drop zones that `onDrop` is already handled.\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// This seemingly useless line has been shown to resolve a\n\t\t\t\t// Safari issue where files dragged directly from the dock are\n\t\t\t\t// not recognized.\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\tevent.dataTransfer && event.dataTransfer.files.length;\n\n\t\t\t\tif ( _onDrop ) {\n\t\t\t\t\tonDropEvent( event );\n\t\t\t\t}\n\n\t\t\t\tmaybeDragEnd( event );\n\t\t\t}\n\n\t\t\tfunction maybeDragEnd( /** @type {MouseEvent} */ event ) {\n\t\t\t\tif ( ! isDragging ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tisDragging = false;\n\n\t\t\t\townerDocument.removeEventListener( 'dragend', maybeDragEnd );\n\t\t\t\townerDocument.removeEventListener( 'mousemove', maybeDragEnd );\n\n\t\t\t\tif ( _onDragEnd ) {\n\t\t\t\t\tonDragEndEvent( event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement.setAttribute( 'data-is-drop-zone', 'true' );\n\t\t\telement.addEventListener( 'drop', onDrop );\n\t\t\telement.addEventListener( 'dragenter', onDragEnter );\n\t\t\telement.addEventListener( 'dragover', onDragOver );\n\t\t\telement.addEventListener( 'dragleave', onDragLeave );\n\t\t\t// The `dragstart` event doesn't fire if the drag started outside\n\t\t\t// the document.\n\t\t\townerDocument.addEventListener( 'dragenter', maybeDragStart );\n\n\t\t\treturn () => {\n\t\t\t\telement.removeAttribute( 'data-is-drop-zone' );\n\t\t\t\telement.removeEventListener( 'drop', onDrop );\n\t\t\t\telement.removeEventListener( 'dragenter', onDragEnter );\n\t\t\t\telement.removeEventListener( 'dragover', onDragOver );\n\t\t\t\telement.removeEventListener( 'dragleave', onDragLeave );\n\t\t\t\townerDocument.removeEventListener( 'dragend', maybeDragEnd );\n\t\t\t\townerDocument.removeEventListener( 'mousemove', maybeDragEnd );\n\t\t\t\townerDocument.removeEventListener(\n\t\t\t\t\t'dragenter',\n\t\t\t\t\tmaybeDragStart\n\t\t\t\t);\n\t\t\t};\n\t\t},\n\t\t[ isDisabled, dropZoneElement ] // Refresh when the passed in dropZoneElement changes.\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { RefCallback } from 'react';\n\n/**\n * Internal dependencies\n */\nimport useRefEffect from '../use-ref-effect';\n\n/**\n * Dispatches a bubbling focus event when the iframe receives focus. Use\n * `onFocus` as usual on the iframe or a parent element.\n *\n * @return Ref to pass to the iframe.\n */\nexport default function useFocusableIframe(): RefCallback< HTMLIFrameElement > {\n\treturn useRefEffect( ( element ) => {\n\t\tconst { ownerDocument } = element;\n\t\tif ( ! ownerDocument ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { defaultView } = ownerDocument;\n\t\tif ( ! defaultView ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t * Checks whether the iframe is the activeElement, inferring that it has\n\t\t * then received focus, and dispatches a focus event.\n\t\t */\n\t\tfunction checkFocus() {\n\t\t\tif ( ownerDocument && ownerDocument.activeElement === element ) {\n\t\t\t\t( element as HTMLElement ).focus();\n\t\t\t}\n\t\t}\n\n\t\tdefaultView.addEventListener( 'blur', checkFocus );\n\t\treturn () => {\n\t\t\tdefaultView.removeEventListener( 'blur', checkFocus );\n\t\t};\n\t}, [] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useState, useLayoutEffect } from '@wordpress/element';\nimport { getScrollContainer } from '@wordpress/dom';\nimport { PAGEUP, PAGEDOWN, HOME, END } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { debounce } from '../../utils/debounce';\n\nconst DEFAULT_INIT_WINDOW_SIZE = 30;\n\n/**\n * @typedef {Object} WPFixedWindowList\n *\n * @property {number}                  visibleItems Items visible in the current viewport\n * @property {number}                  start        Start index of the window\n * @property {number}                  end          End index of the window\n * @property {(index:number)=>boolean} itemInView   Returns true if item is in the window\n */\n\n/**\n * @typedef {Object} WPFixedWindowListOptions\n *\n * @property {number}  [windowOverscan] Renders windowOverscan number of items before and after the calculated visible window.\n * @property {boolean} [useWindowing]   When false avoids calculating the window size\n * @property {number}  [initWindowSize] Initial window size to use on first render before we can calculate the window size.\n * @property {any}     [expandedState]  Used to recalculate the window size when the expanded state of a list changes.\n */\n\n/**\n *\n * @param {import('react').RefObject<HTMLElement>} elementRef Used to find the closest scroll container that contains element.\n * @param { number }                               itemHeight Fixed item height in pixels\n * @param { number }                               totalItems Total items in list\n * @param { WPFixedWindowListOptions }             [options]  Options object\n * @return {[ WPFixedWindowList, setFixedListWindow:(nextWindow:WPFixedWindowList)=>void]} Array with the fixed window list and setter\n */\nexport default function useFixedWindowList(\n\telementRef,\n\titemHeight,\n\ttotalItems,\n\toptions\n) {\n\tconst initWindowSize = options?.initWindowSize ?? DEFAULT_INIT_WINDOW_SIZE;\n\tconst useWindowing = options?.useWindowing ?? true;\n\n\tconst [ fixedListWindow, setFixedListWindow ] = useState( {\n\t\tvisibleItems: initWindowSize,\n\t\tstart: 0,\n\t\tend: initWindowSize,\n\t\titemInView: ( /** @type {number} */ index ) => {\n\t\t\treturn index >= 0 && index <= initWindowSize;\n\t\t},\n\t} );\n\n\tuseLayoutEffect( () => {\n\t\tif ( ! useWindowing ) {\n\t\t\treturn;\n\t\t}\n\t\tconst scrollContainer = getScrollContainer( elementRef.current );\n\t\tconst measureWindow = (\n\t\t\t/** @type {boolean | undefined} */ initRender\n\t\t) => {\n\t\t\tif ( ! scrollContainer ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst visibleItems = Math.ceil(\n\t\t\t\tscrollContainer.clientHeight / itemHeight\n\t\t\t);\n\t\t\t// Aim to keep opening list view fast, afterward we can optimize for scrolling.\n\t\t\tconst windowOverscan = initRender\n\t\t\t\t? visibleItems\n\t\t\t\t: options?.windowOverscan ?? visibleItems;\n\t\t\tconst firstViewableIndex = Math.floor(\n\t\t\t\tscrollContainer.scrollTop / itemHeight\n\t\t\t);\n\t\t\tconst start = Math.max( 0, firstViewableIndex - windowOverscan );\n\t\t\tconst end = Math.min(\n\t\t\t\ttotalItems - 1,\n\t\t\t\tfirstViewableIndex + visibleItems + windowOverscan\n\t\t\t);\n\t\t\tsetFixedListWindow( ( lastWindow ) => {\n\t\t\t\tconst nextWindow = {\n\t\t\t\t\tvisibleItems,\n\t\t\t\t\tstart,\n\t\t\t\t\tend,\n\t\t\t\t\titemInView: ( /** @type {number} */ index ) => {\n\t\t\t\t\t\treturn start <= index && index <= end;\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\tif (\n\t\t\t\t\tlastWindow.start !== nextWindow.start ||\n\t\t\t\t\tlastWindow.end !== nextWindow.end ||\n\t\t\t\t\tlastWindow.visibleItems !== nextWindow.visibleItems\n\t\t\t\t) {\n\t\t\t\t\treturn nextWindow;\n\t\t\t\t}\n\t\t\t\treturn lastWindow;\n\t\t\t} );\n\t\t};\n\n\t\tmeasureWindow( true );\n\t\tconst debounceMeasureList = debounce( () => {\n\t\t\tmeasureWindow();\n\t\t}, 16 );\n\t\tscrollContainer?.addEventListener( 'scroll', debounceMeasureList );\n\t\tscrollContainer?.ownerDocument?.defaultView?.addEventListener(\n\t\t\t'resize',\n\t\t\tdebounceMeasureList\n\t\t);\n\t\tscrollContainer?.ownerDocument?.defaultView?.addEventListener(\n\t\t\t'resize',\n\t\t\tdebounceMeasureList\n\t\t);\n\n\t\treturn () => {\n\t\t\tscrollContainer?.removeEventListener(\n\t\t\t\t'scroll',\n\t\t\t\tdebounceMeasureList\n\t\t\t);\n\t\t\tscrollContainer?.ownerDocument?.defaultView?.removeEventListener(\n\t\t\t\t'resize',\n\t\t\t\tdebounceMeasureList\n\t\t\t);\n\t\t};\n\t}, [\n\t\titemHeight,\n\t\telementRef,\n\t\ttotalItems,\n\t\toptions?.expandedState,\n\t\toptions?.windowOverscan,\n\t\tuseWindowing,\n\t] );\n\n\tuseLayoutEffect( () => {\n\t\tif ( ! useWindowing ) {\n\t\t\treturn;\n\t\t}\n\t\tconst scrollContainer = getScrollContainer( elementRef.current );\n\t\tconst handleKeyDown = ( /** @type {KeyboardEvent} */ event ) => {\n\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase HOME: {\n\t\t\t\t\treturn scrollContainer?.scrollTo( { top: 0 } );\n\t\t\t\t}\n\t\t\t\tcase END: {\n\t\t\t\t\treturn scrollContainer?.scrollTo( {\n\t\t\t\t\t\ttop: totalItems * itemHeight,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tcase PAGEUP: {\n\t\t\t\t\treturn scrollContainer?.scrollTo( {\n\t\t\t\t\t\ttop:\n\t\t\t\t\t\t\tscrollContainer.scrollTop -\n\t\t\t\t\t\t\tfixedListWindow.visibleItems * itemHeight,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tcase PAGEDOWN: {\n\t\t\t\t\treturn scrollContainer?.scrollTo( {\n\t\t\t\t\t\ttop:\n\t\t\t\t\t\t\tscrollContainer.scrollTop +\n\t\t\t\t\t\t\tfixedListWindow.visibleItems * itemHeight,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tscrollContainer?.ownerDocument?.defaultView?.addEventListener(\n\t\t\t'keydown',\n\t\t\thandleKeyDown\n\t\t);\n\t\treturn () => {\n\t\t\tscrollContainer?.ownerDocument?.defaultView?.removeEventListener(\n\t\t\t\t'keydown',\n\t\t\t\thandleKeyDown\n\t\t\t);\n\t\t};\n\t}, [\n\t\ttotalItems,\n\t\titemHeight,\n\t\telementRef,\n\t\tfixedListWindow.visibleItems,\n\t\tuseWindowing,\n\t\toptions?.expandedState,\n\t] );\n\n\treturn [ fixedListWindow, setFixedListWindow ];\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo, useSyncExternalStore } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { ObservableMap } from '../../utils/observable-map';\n\n/**\n * React hook that lets you observe an entry in an `ObservableMap`. The hook returns the\n * current value corresponding to the key, or `undefined` when there is no value stored.\n * It also observes changes to the value and triggers an update of the calling component\n * in case the value changes.\n *\n * @template K    The type of the keys in the map.\n * @template V    The type of the values in the map.\n * @param    map  The `ObservableMap` to observe.\n * @param    name The map key to observe.\n * @return   The value corresponding to the map key requested.\n */\nexport default function useObservableValue< K, V >(\n\tmap: ObservableMap< K, V >,\n\tname: K\n): V | undefined {\n\tconst [ subscribe, getValue ] = useMemo(\n\t\t() => [\n\t\t\t( listener: () => void ) => map.subscribe( name, listener ),\n\t\t\t() => map.get( name ),\n\t\t],\n\t\t[ map, name ]\n\t);\n\treturn useSyncExternalStore( subscribe, getValue, getValue );\n}\n", "export function combineReducers( reducers ) {\n\tconst keys = Object.keys( reducers );\n\n\treturn function combinedReducer( state = {}, action ) {\n\t\tconst nextState = {};\n\t\tlet hasChanged = false;\n\t\tfor ( const key of keys ) {\n\t\t\tconst reducer = reducers[ key ];\n\t\t\tconst prevStateForKey = state[ key ];\n\t\t\tconst nextStateForKey = reducer( prevStateForKey, action );\n\t\t\tnextState[ key ] = nextStateForKey;\n\t\t\thasChanged = hasChanged || nextStateForKey !== prevStateForKey;\n\t\t}\n\n\t\treturn hasChanged ? nextState : state;\n\t};\n}\n", "/**\n * Internal dependencies\n */\nimport type { select as globalSelect } from './select';\n\ntype RegistrySelector< Selector extends ( ...args: any[] ) => any > = {\n\t( ...args: Parameters< Selector > ): ReturnType< Selector >;\n\tisRegistrySelector?: boolean;\n\tregistry?: any;\n};\n\n/**\n * Creates a selector function that takes additional curried argument with the\n * registry `select` function. While a regular selector has signature\n * ```js\n * ( state, ...selectorArgs ) => ( result )\n * ```\n * that allows to select data from the store's `state`, a registry selector\n * has signature:\n * ```js\n * ( select ) => ( state, ...selectorArgs ) => ( result )\n * ```\n * that supports also selecting from other registered stores.\n *\n * @example\n * ```js\n * import { store as coreStore } from '@wordpress/core-data';\n * import { store as editorStore } from '@wordpress/editor';\n *\n * const getCurrentPostId = createRegistrySelector( ( select ) => ( state ) => {\n *   return select( editorStore ).getCurrentPostId();\n * } );\n *\n * const getPostEdits = createRegistrySelector( ( select ) => ( state ) => {\n *   // calling another registry selector just like any other function\n *   const postType = getCurrentPostType( state );\n *   const postId = getCurrentPostId( state );\n *\t return select( coreStore ).getEntityRecordEdits( 'postType', postType, postId );\n * } );\n * ```\n *\n * Note how the `getCurrentPostId` selector can be called just like any other function,\n * (it works even inside a regular non-registry selector) and we don't need to pass the\n * registry as argument. The registry binding happens automatically when registering the selector\n * with a store.\n *\n * @param registrySelector Function receiving a registry `select`\n *                         function and returning a state selector.\n *\n * @return Registry selector that can be registered with a store.\n */\nexport function createRegistrySelector<\n\tSelector extends ( ...args: any[] ) => any,\n>(\n\tregistrySelector: ( select: typeof globalSelect ) => Selector\n): RegistrySelector< Selector > {\n\tconst selectorsByRegistry = new WeakMap();\n\t// Create a selector function that is bound to the registry referenced by `selector.registry`\n\t// and that has the same API as a regular selector. Binding it in such a way makes it\n\t// possible to call the selector directly from another selector.\n\tconst wrappedSelector: RegistrySelector< Selector > = ( ...args ) => {\n\t\tlet selector = selectorsByRegistry.get( wrappedSelector.registry );\n\t\t// We want to make sure the cache persists even when new registry\n\t\t// instances are created. For example patterns create their own editors\n\t\t// with their own core/block-editor stores, so we should keep track of\n\t\t// the cache for each registry instance.\n\t\tif ( ! selector ) {\n\t\t\tselector = registrySelector( wrappedSelector.registry.select );\n\t\t\tselectorsByRegistry.set( wrappedSelector.registry, selector );\n\t\t}\n\t\treturn selector( ...args );\n\t};\n\n\t/**\n\t * Flag indicating that the selector is a registry selector that needs the correct registry\n\t * reference to be assigned to `selector.registry` to make it work correctly.\n\t * be mapped as a registry selector.\n\t */\n\twrappedSelector.isRegistrySelector = true;\n\n\treturn wrappedSelector;\n}\n\n/**\n * Creates a control function that takes additional curried argument with the `registry` object.\n * While a regular control has signature\n * ```js\n * ( action ) => ( iteratorOrPromise )\n * ```\n * where the control works with the `action` that it's bound to, a registry control has signature:\n * ```js\n * ( registry ) => ( action ) => ( iteratorOrPromise )\n * ```\n * A registry control is typically used to select data or dispatch an action to a registered\n * store.\n *\n * When registering a control created with `createRegistryControl` with a store, the store\n * knows which calling convention to use when executing the control.\n *\n * @param registryControl Function receiving a registry object and returning a control.\n *\n * @return Registry control that can be registered with a store.\n */\nexport function createRegistryControl< T extends ( ...args: any ) => any >(\n\tregistryControl: T & { isRegistryControl?: boolean }\n) {\n\tregistryControl.isRegistryControl = true;\n\n\treturn registryControl;\n}\n", "/**\n * Internal dependencies\n */\nimport { createRegistryControl } from './factory';\n\n/** @typedef {import('./types').StoreDescriptor} StoreDescriptor */\n\nconst SELECT = '@@data/SELECT';\nconst RESOLVE_SELECT = '@@data/RESOLVE_SELECT';\nconst DISPATCH = '@@data/DISPATCH';\n\nfunction isObject( object ) {\n\treturn object !== null && typeof object === 'object';\n}\n\n/**\n * Dispatches a control action for triggering a synchronous registry select.\n *\n * Note: This control synchronously returns the current selector value, triggering the\n * resolution, but not waiting for it.\n *\n * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n * @param {string}                 selectorName          The name of the selector.\n * @param {Array}                  args                  Arguments for the selector.\n *\n * @example\n * ```js\n * import { controls } from '@wordpress/data';\n *\n * // Action generator using `select`.\n * export function* myAction() {\n *   const isEditorSideBarOpened = yield controls.select( 'core/edit-post', 'isEditorSideBarOpened' );\n *   // Do stuff with the result from the `select`.\n * }\n * ```\n *\n * @return {Object} The control descriptor.\n */\nfunction select( storeNameOrDescriptor, selectorName, ...args ) {\n\treturn {\n\t\ttype: SELECT,\n\t\tstoreKey: isObject( storeNameOrDescriptor )\n\t\t\t? storeNameOrDescriptor.name\n\t\t\t: storeNameOrDescriptor,\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Dispatches a control action for triggering and resolving a registry select.\n *\n * Note: when this control action is handled, it automatically considers\n * selectors that may have a resolver. In such case, it will return a `Promise` that resolves\n * after the selector finishes resolving, with the final result value.\n *\n * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n * @param {string}                 selectorName          The name of the selector\n * @param {Array}                  args                  Arguments for the selector.\n *\n * @example\n * ```js\n * import { controls } from '@wordpress/data';\n *\n * // Action generator using resolveSelect\n * export function* myAction() {\n * \tconst isSidebarOpened = yield controls.resolveSelect( 'core/edit-post', 'isEditorSideBarOpened' );\n * \t// do stuff with the result from the select.\n * }\n * ```\n *\n * @return {Object} The control descriptor.\n */\nfunction resolveSelect( storeNameOrDescriptor, selectorName, ...args ) {\n\treturn {\n\t\ttype: RESOLVE_SELECT,\n\t\tstoreKey: isObject( storeNameOrDescriptor )\n\t\t\t? storeNameOrDescriptor.name\n\t\t\t: storeNameOrDescriptor,\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Dispatches a control action for triggering a registry dispatch.\n *\n * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n * @param {string}                 actionName            The name of the action to dispatch\n * @param {Array}                  args                  Arguments for the dispatch action.\n *\n * @example\n * ```js\n * import { controls } from '@wordpress/data-controls';\n *\n * // Action generator using dispatch\n * export function* myAction() {\n *   yield controls.dispatch( 'core/editor', 'togglePublishSidebar' );\n *   // do some other things.\n * }\n * ```\n *\n * @return {Object}  The control descriptor.\n */\nfunction dispatch( storeNameOrDescriptor, actionName, ...args ) {\n\treturn {\n\t\ttype: DISPATCH,\n\t\tstoreKey: isObject( storeNameOrDescriptor )\n\t\t\t? storeNameOrDescriptor.name\n\t\t\t: storeNameOrDescriptor,\n\t\tactionName,\n\t\targs,\n\t};\n}\n\nexport const controls = { select, resolveSelect, dispatch };\n\nexport const builtinControls = {\n\t[ SELECT ]: createRegistryControl(\n\t\t( registry ) =>\n\t\t\t( { storeKey, selectorName, args } ) =>\n\t\t\t\tregistry.select( storeKey )[ selectorName ]( ...args )\n\t),\n\t[ RESOLVE_SELECT ]: createRegistryControl(\n\t\t( registry ) =>\n\t\t\t( { storeKey, selectorName, args } ) => {\n\t\t\t\tconst method = registry.select( storeKey )[ selectorName ]\n\t\t\t\t\t.hasResolver\n\t\t\t\t\t? 'resolveSelect'\n\t\t\t\t\t: 'select';\n\t\t\t\treturn registry[ method ]( storeKey )[ selectorName ](\n\t\t\t\t\t...args\n\t\t\t\t);\n\t\t\t}\n\t),\n\t[ DISPATCH ]: createRegistryControl(\n\t\t( registry ) =>\n\t\t\t( { storeKey, actionName, args } ) =>\n\t\t\t\tregistry.dispatch( storeKey )[ actionName ]( ...args )\n\t),\n};\n", "/**\n * wordpress/private-apis â the utilities to enable private cross-package\n * exports of private APIs.\n *\n * This \"implementation.ts\" file is needed for the sake of the unit tests. It\n * exports more than the public API of the package to aid in testing.\n */\n\n/**\n * The list of core modules allowed to opt-in to the private APIs.\n */\nconst CORE_MODULES_USING_PRIVATE_APIS = [\n\t'@wordpress/block-directory',\n\t'@wordpress/block-editor',\n\t'@wordpress/block-library',\n\t'@wordpress/blocks',\n\t'@wordpress/commands',\n\t'@wordpress/components',\n\t'@wordpress/core-commands',\n\t'@wordpress/core-data',\n\t'@wordpress/customize-widgets',\n\t'@wordpress/data',\n\t'@wordpress/edit-post',\n\t'@wordpress/edit-site',\n\t'@wordpress/edit-widgets',\n\t'@wordpress/editor',\n\t'@wordpress/format-library',\n\t'@wordpress/patterns',\n\t'@wordpress/preferences',\n\t'@wordpress/reusable-blocks',\n\t'@wordpress/router',\n\t'@wordpress/dataviews',\n\t'@wordpress/fields',\n\t'@wordpress/media-utils',\n\t'@wordpress/upload-media',\n];\n\n/**\n * A list of core modules that already opted-in to\n * the privateApis package.\n */\nconst registeredPrivateApis: Array< string > = [];\n\n/*\n * Warning for theme and plugin developers.\n *\n * The use of private developer APIs is intended for use by WordPress Core\n * and the Gutenberg plugin exclusively.\n *\n * Dangerously opting in to using these APIs is NOT RECOMMENDED. Furthermore,\n * the WordPress Core philosophy to strive to maintain backward compatibility\n * for third-party developers DOES NOT APPLY to private APIs.\n *\n * THE CONSENT STRING FOR OPTING IN TO THESE APIS MAY CHANGE AT ANY TIME AND\n * WITHOUT NOTICE. THIS CHANGE WILL BREAK EXISTING THIRD-PARTY CODE. SUCH A\n * CHANGE MAY OCCUR IN EITHER A MAJOR OR MINOR RELEASE.\n */\nconst requiredConsent =\n\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.';\n\n// The safety measure is meant for WordPress core where IS_WORDPRESS_CORE is set to true.\nconst allowReRegistration = globalThis.IS_WORDPRESS_CORE ? false : true;\n\n/**\n * Called by a @wordpress package wishing to opt-in to accessing or exposing\n * private private APIs.\n *\n * @param consent    The consent string.\n * @param moduleName The name of the module that is opting in.\n * @return An object containing the lock and unlock functions.\n */\nexport const __dangerousOptInToUnstableAPIsOnlyForCoreModules = (\n\tconsent: string,\n\tmoduleName: string\n) => {\n\tif ( ! CORE_MODULES_USING_PRIVATE_APIS.includes( moduleName ) ) {\n\t\tthrow new Error(\n\t\t\t`You tried to opt-in to unstable APIs as module \"${ moduleName }\". ` +\n\t\t\t\t'This feature is only for JavaScript modules shipped with WordPress core. ' +\n\t\t\t\t'Please do not use it in plugins and themes as the unstable APIs will be removed ' +\n\t\t\t\t'without a warning. If you ignore this error and depend on unstable features, ' +\n\t\t\t\t'your product will inevitably break on one of the next WordPress releases.'\n\t\t);\n\t}\n\tif (\n\t\t! allowReRegistration &&\n\t\tregisteredPrivateApis.includes( moduleName )\n\t) {\n\t\t// This check doesn't play well with Story Books / Hot Module Reloading\n\t\t// and isn't included in the Gutenberg plugin. It only matters in the\n\t\t// WordPress core release.\n\t\tthrow new Error(\n\t\t\t`You tried to opt-in to unstable APIs as module \"${ moduleName }\" which is already registered. ` +\n\t\t\t\t'This feature is only for JavaScript modules shipped with WordPress core. ' +\n\t\t\t\t'Please do not use it in plugins and themes as the unstable APIs will be removed ' +\n\t\t\t\t'without a warning. If you ignore this error and depend on unstable features, ' +\n\t\t\t\t'your product will inevitably break on one of the next WordPress releases.'\n\t\t);\n\t}\n\tif ( consent !== requiredConsent ) {\n\t\tthrow new Error(\n\t\t\t`You tried to opt-in to unstable APIs without confirming you know the consequences. ` +\n\t\t\t\t'This feature is only for JavaScript modules shipped with WordPress core. ' +\n\t\t\t\t'Please do not use it in plugins and themes as the unstable APIs will removed ' +\n\t\t\t\t'without a warning. If you ignore this error and depend on unstable features, ' +\n\t\t\t\t'your product will inevitably break on the next WordPress release.'\n\t\t);\n\t}\n\tregisteredPrivateApis.push( moduleName );\n\n\treturn {\n\t\tlock,\n\t\tunlock,\n\t};\n};\n\n/**\n * Binds private data to an object.\n * It does not alter the passed object in any way, only\n * registers it in an internal map of private data.\n *\n * The private data can't be accessed by any other means\n * than the `unlock` function.\n *\n * @example\n * ```js\n * const object = {};\n * const privateData = { a: 1 };\n * lock( object, privateData );\n *\n * object\n * // {}\n *\n * unlock( object );\n * // { a: 1 }\n * ```\n *\n * @param object      The object to bind the private data to.\n * @param privateData The private data to bind to the object.\n */\nfunction lock( object: unknown, privateData: unknown ) {\n\tif ( ! object ) {\n\t\tthrow new Error( 'Cannot lock an undefined object.' );\n\t}\n\tconst _object = object as Record< symbol, WeakKey >;\n\n\tif ( ! ( __private in _object ) ) {\n\t\t_object[ __private ] = {};\n\t}\n\tlockedData.set( _object[ __private ], privateData );\n}\n\n/**\n * Unlocks the private data bound to an object.\n *\n * It does not alter the passed object in any way, only\n * returns the private data paired with it using the `lock()`\n * function.\n *\n * @example\n * ```js\n * const object = {};\n * const privateData = { a: 1 };\n * lock( object, privateData );\n *\n * object\n * // {}\n *\n * unlock( object );\n * // { a: 1 }\n * ```\n *\n * @param object The object to unlock the private data from.\n * @return The private data bound to the object.\n */\nfunction unlock< T = any >( object: unknown ): T {\n\tif ( ! object ) {\n\t\tthrow new Error( 'Cannot unlock an undefined object.' );\n\t}\n\tconst _object = object as Record< symbol, WeakKey >;\n\n\tif ( ! ( __private in _object ) ) {\n\t\tthrow new Error(\n\t\t\t'Cannot unlock an object that was not locked before. '\n\t\t);\n\t}\n\n\treturn lockedData.get( _object[ __private ] );\n}\n\nconst lockedData = new WeakMap();\n\n/**\n * Used by lock() and unlock() to uniquely identify the private data\n * related to a containing object.\n */\nconst __private = Symbol( 'Private API ID' );\n\n// Unit tests utilities:\n\n/**\n * Private function to allow the unit tests to allow\n * a mock module to access the private APIs.\n *\n * @param name The name of the module.\n */\nexport function allowCoreModule( name: string ) {\n\tCORE_MODULES_USING_PRIVATE_APIS.push( name );\n}\n\n/**\n * Private function to allow the unit tests to set\n * a custom list of allowed modules.\n */\nexport function resetAllowedCoreModules() {\n\twhile ( CORE_MODULES_USING_PRIVATE_APIS.length ) {\n\t\tCORE_MODULES_USING_PRIVATE_APIS.pop();\n\t}\n}\n/**\n * Private function to allow the unit tests to reset\n * the list of registered private apis.\n */\nexport function resetRegisteredPrivateApis() {\n\twhile ( registeredPrivateApis.length ) {\n\t\tregisteredPrivateApis.pop();\n\t}\n}\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/data'\n\t);\n", "/**\n * External dependencies\n */\nimport isPromise from 'is-promise';\n\n/**\n * Simplest possible promise redux middleware.\n *\n * @type {import('redux').Middleware}\n */\nconst promiseMiddleware = () => ( next ) => ( action ) => {\n\tif ( isPromise( action ) ) {\n\t\treturn action.then( ( resolvedAction ) => {\n\t\t\tif ( resolvedAction ) {\n\t\t\t\treturn next( resolvedAction );\n\t\t\t}\n\t\t} );\n\t}\n\n\treturn next( action );\n};\n\nexport default promiseMiddleware;\n", "/** @typedef {import('./registry').WPDataRegistry} WPDataRegistry */\n\n/**\n * Creates a middleware handling resolvers cache invalidation.\n *\n * @param {WPDataRegistry} registry  Registry for which to create the middleware.\n * @param {string}         storeName Name of the store for which to create the middleware.\n *\n * @return {Function} Middleware function.\n */\nconst createResolversCacheMiddleware =\n\t( registry, storeName ) => () => ( next ) => ( action ) => {\n\t\tconst resolvers = registry.select( storeName ).getCachedResolvers();\n\t\tconst resolverEntries = Object.entries( resolvers );\n\t\tresolverEntries.forEach( ( [ selectorName, resolversByArgs ] ) => {\n\t\t\tconst resolver =\n\t\t\t\tregistry.stores[ storeName ]?.resolvers?.[ selectorName ];\n\t\t\tif ( ! resolver || ! resolver.shouldInvalidate ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolversByArgs.forEach( ( value, args ) => {\n\t\t\t\t// Works around a bug in `EquivalentKeyMap` where `map.delete` merely sets an entry value\n\t\t\t\t// to `undefined` and `map.forEach` then iterates also over these orphaned entries.\n\t\t\t\tif ( value === undefined ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// resolversByArgs is the map Map([ args ] => boolean) storing the cache resolution status for a given selector.\n\t\t\t\t// If the value is \"finished\" or \"error\" it means this resolver has finished its resolution which means we need\n\t\t\t\t// to invalidate it, if it's true it means it's inflight and the invalidation is not necessary.\n\t\t\t\tif ( value.status !== 'finished' && value.status !== 'error' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( ! resolver.shouldInvalidate( action, ...args ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Trigger cache invalidation\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( storeName )\n\t\t\t\t\t.invalidateResolution( selectorName, args );\n\t\t\t} );\n\t\t} );\n\t\treturn next( action );\n\t};\n\nexport default createResolversCacheMiddleware;\n", "export default function createThunkMiddleware( args ) {\n\treturn () => ( next ) => ( action ) => {\n\t\tif ( typeof action === 'function' ) {\n\t\t\treturn action( args );\n\t\t}\n\n\t\treturn next( action );\n\t};\n}\n", "/**\n * External dependencies\n */\nimport EquivalentKeyMap from 'equivalent-key-map';\nimport type { Reducer } from 'redux';\n\n/**\n * Internal dependencies\n */\nimport { selectorArgsToStateKey, onSubKey } from './utils';\n\ntype Action =\n\t| ReturnType< typeof import('./actions').startResolution >\n\t| ReturnType< typeof import('./actions').finishResolution >\n\t| ReturnType< typeof import('./actions').failResolution >\n\t| ReturnType< typeof import('./actions').startResolutions >\n\t| ReturnType< typeof import('./actions').finishResolutions >\n\t| ReturnType< typeof import('./actions').failResolutions >\n\t| ReturnType< typeof import('./actions').invalidateResolution >\n\t| ReturnType< typeof import('./actions').invalidateResolutionForStore >\n\t| ReturnType<\n\t\t\ttypeof import('./actions').invalidateResolutionForStoreSelector\n\t  >;\n\ntype StateKey = unknown[] | unknown;\nexport type StateValue =\n\t| { status: 'resolving' | 'finished' }\n\t| { status: 'error'; error: Error | unknown };\n\nexport type Status = StateValue[ 'status' ];\nexport type State = EquivalentKeyMap< StateKey, StateValue >;\n\n/**\n * Reducer function returning next state for selector resolution of\n * subkeys, object form:\n *\n *  selectorName -> EquivalentKeyMap<Array,boolean>\n */\nconst subKeysIsResolved: Reducer< Record< string, State >, Action > = onSubKey<\n\tState,\n\tAction\n>( 'selectorName' )( ( state = new EquivalentKeyMap(), action: Action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'START_RESOLUTION': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tnextState.set( selectorArgsToStateKey( action.args ), {\n\t\t\t\tstatus: 'resolving',\n\t\t\t} );\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'FINISH_RESOLUTION': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tnextState.set( selectorArgsToStateKey( action.args ), {\n\t\t\t\tstatus: 'finished',\n\t\t\t} );\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'FAIL_RESOLUTION': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tnextState.set( selectorArgsToStateKey( action.args ), {\n\t\t\t\tstatus: 'error',\n\t\t\t\terror: action.error,\n\t\t\t} );\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'START_RESOLUTIONS': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tfor ( const resolutionArgs of action.args ) {\n\t\t\t\tnextState.set( selectorArgsToStateKey( resolutionArgs ), {\n\t\t\t\t\tstatus: 'resolving',\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'FINISH_RESOLUTIONS': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tfor ( const resolutionArgs of action.args ) {\n\t\t\t\tnextState.set( selectorArgsToStateKey( resolutionArgs ), {\n\t\t\t\t\tstatus: 'finished',\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'FAIL_RESOLUTIONS': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\taction.args.forEach( ( resolutionArgs, idx ) => {\n\t\t\t\tconst resolutionState: StateValue = {\n\t\t\t\t\tstatus: 'error',\n\t\t\t\t\terror: undefined,\n\t\t\t\t};\n\n\t\t\t\tconst error = action.errors[ idx ];\n\t\t\t\tif ( error ) {\n\t\t\t\t\tresolutionState.error = error;\n\t\t\t\t}\n\n\t\t\t\tnextState.set(\n\t\t\t\t\tselectorArgsToStateKey( resolutionArgs as unknown[] ),\n\t\t\t\t\tresolutionState\n\t\t\t\t);\n\t\t\t} );\n\t\t\treturn nextState;\n\t\t}\n\t\tcase 'INVALIDATE_RESOLUTION': {\n\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\tnextState.delete( selectorArgsToStateKey( action.args ) );\n\t\t\treturn nextState;\n\t\t}\n\t}\n\treturn state;\n} );\n\n/**\n * Reducer function returning next state for selector resolution, object form:\n *\n *   selectorName -> EquivalentKeyMap<Array, boolean>\n *\n * @param state  Current state.\n * @param action Dispatched action.\n *\n * @return Next state.\n */\nconst isResolved = ( state: Record< string, State > = {}, action: Action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'INVALIDATE_RESOLUTION_FOR_STORE':\n\t\t\treturn {};\n\t\tcase 'INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR': {\n\t\t\tif ( action.selectorName in state ) {\n\t\t\t\tconst {\n\t\t\t\t\t[ action.selectorName ]: removedSelector,\n\t\t\t\t\t...restState\n\t\t\t\t} = state;\n\t\t\t\treturn restState;\n\t\t\t}\n\t\t\treturn state;\n\t\t}\n\t\tcase 'START_RESOLUTION':\n\t\tcase 'FINISH_RESOLUTION':\n\t\tcase 'FAIL_RESOLUTION':\n\t\tcase 'START_RESOLUTIONS':\n\t\tcase 'FINISH_RESOLUTIONS':\n\t\tcase 'FAIL_RESOLUTIONS':\n\t\tcase 'INVALIDATE_RESOLUTION':\n\t\t\treturn subKeysIsResolved( state, action );\n\t}\n\treturn state;\n};\n\nexport default isResolved;\n", "/**\n * External dependencies\n */\nimport type { AnyAction, Reducer } from 'redux';\n\n/**\n * Higher-order reducer creator which creates a combined reducer object, keyed\n * by a property on the action object.\n *\n * @param actionProperty Action property by which to key object.\n * @return Higher-order reducer.\n */\nexport const onSubKey =\n\t< TState extends unknown, TAction extends AnyAction >(\n\t\tactionProperty: string\n\t) =>\n\t(\n\t\treducer: Reducer< TState, TAction >\n\t): Reducer< Record< string, TState >, TAction > =>\n\t( state: Record< string, TState > = {}, action ) => {\n\t\t// Retrieve subkey from action. Do not track if undefined; useful for cases\n\t\t// where reducer is scoped by action shape.\n\t\tconst key = action[ actionProperty ];\n\t\tif ( key === undefined ) {\n\t\t\treturn state;\n\t\t}\n\n\t\t// Avoid updating state if unchanged. Note that this also accounts for a\n\t\t// reducer which returns undefined on a key which is not yet tracked.\n\t\tconst nextKeyState = reducer( state[ key ], action );\n\t\tif ( nextKeyState === state[ key ] ) {\n\t\t\treturn state;\n\t\t}\n\n\t\treturn {\n\t\t\t...state,\n\t\t\t[ key ]: nextKeyState,\n\t\t};\n\t};\n\n/**\n * Normalize selector argument array by defaulting `undefined` value to an empty array\n * and removing trailing `undefined` values.\n *\n * @param args Selector argument array\n * @return Normalized state key array\n */\nexport function selectorArgsToStateKey( args: unknown[] | null | undefined ) {\n\tif ( args === undefined || args === null ) {\n\t\treturn [];\n\t}\n\n\tconst len = args.length;\n\tlet idx = len;\n\twhile ( idx > 0 && args[ idx - 1 ] === undefined ) {\n\t\tidx--;\n\t}\n\treturn idx === len ? args : args.slice( 0, idx );\n}\n", "/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { createSelector } from '../../create-selector';\nimport { selectorArgsToStateKey } from './utils';\n\n/** @typedef {Record<string, import('./reducer').State>} State */\n/** @typedef {import('./reducer').StateValue} StateValue */\n/** @typedef {import('./reducer').Status} Status */\n\n/**\n * Returns the raw resolution state value for a given selector name,\n * and arguments set. May be undefined if the selector has never been resolved\n * or not resolved for the given set of arguments, otherwise true or false for\n * resolution started and completed respectively.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {StateValue|undefined} isResolving value.\n */\nexport function getResolutionState( state, selectorName, args ) {\n\tconst map = state[ selectorName ];\n\tif ( ! map ) {\n\t\treturn;\n\t}\n\n\treturn map.get( selectorArgsToStateKey( args ) );\n}\n\n/**\n * Returns an `isResolving`-like value for a given selector name and arguments set.\n * Its value is either `undefined` if the selector has never been resolved or has been\n * invalidated, or a `true`/`false` boolean value if the resolution is in progress or\n * has finished, respectively.\n *\n * This is a legacy selector that was implemented when the \"raw\" internal data had\n * this `undefined | boolean` format. Nowadays the internal value is an object that\n * can be retrieved with `getResolutionState`.\n *\n * @deprecated\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean | undefined} isResolving value.\n */\nexport function getIsResolving( state, selectorName, args ) {\n\tdeprecated( 'wp.data.select( store ).getIsResolving', {\n\t\tsince: '6.6',\n\t\tversion: '6.8',\n\t\talternative: 'wp.data.select( store ).getResolutionState',\n\t} );\n\n\tconst resolutionState = getResolutionState( state, selectorName, args );\n\treturn resolutionState && resolutionState.status === 'resolving';\n}\n\n/**\n * Returns true if resolution has already been triggered for a given\n * selector name, and arguments set.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean} Whether resolution has been triggered.\n */\nexport function hasStartedResolution( state, selectorName, args ) {\n\treturn getResolutionState( state, selectorName, args ) !== undefined;\n}\n\n/**\n * Returns true if resolution has completed for a given selector\n * name, and arguments set.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean} Whether resolution has completed.\n */\nexport function hasFinishedResolution( state, selectorName, args ) {\n\tconst status = getResolutionState( state, selectorName, args )?.status;\n\treturn status === 'finished' || status === 'error';\n}\n\n/**\n * Returns true if resolution has failed for a given selector\n * name, and arguments set.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean} Has resolution failed\n */\nexport function hasResolutionFailed( state, selectorName, args ) {\n\treturn getResolutionState( state, selectorName, args )?.status === 'error';\n}\n\n/**\n * Returns the resolution error for a given selector name, and arguments set.\n * Note it may be of an Error type, but may also be null, undefined, or anything else\n * that can be `throw`-n.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {Error|unknown} Last resolution error\n */\nexport function getResolutionError( state, selectorName, args ) {\n\tconst resolutionState = getResolutionState( state, selectorName, args );\n\treturn resolutionState?.status === 'error' ? resolutionState.error : null;\n}\n\n/**\n * Returns true if resolution has been triggered but has not yet completed for\n * a given selector name, and arguments set.\n *\n * @param {State}      state        Data state.\n * @param {string}     selectorName Selector name.\n * @param {unknown[]?} args         Arguments passed to selector.\n *\n * @return {boolean} Whether resolution is in progress.\n */\nexport function isResolving( state, selectorName, args ) {\n\treturn (\n\t\tgetResolutionState( state, selectorName, args )?.status === 'resolving'\n\t);\n}\n\n/**\n * Returns the list of the cached resolvers.\n *\n * @param {State} state Data state.\n *\n * @return {State} Resolvers mapped by args and selectorName.\n */\nexport function getCachedResolvers( state ) {\n\treturn state;\n}\n\n/**\n * Whether the store has any currently resolving selectors.\n *\n * @param {State} state Data state.\n *\n * @return {boolean} True if one or more selectors are resolving, false otherwise.\n */\nexport function hasResolvingSelectors( state ) {\n\treturn Object.values( state ).some( ( selectorState ) =>\n\t\t/**\n\t\t * This uses the internal `_map` property of `EquivalentKeyMap` for\n\t\t * optimization purposes, since the `EquivalentKeyMap` implementation\n\t\t * does not support a `.values()` implementation.\n\t\t *\n\t\t * @see https://github.com/aduth/equivalent-key-map\n\t\t */\n\t\tArray.from( selectorState._map.values() ).some(\n\t\t\t( resolution ) => resolution[ 1 ]?.status === 'resolving'\n\t\t)\n\t);\n}\n\n/**\n * Retrieves the total number of selectors, grouped per status.\n *\n * @param {State} state Data state.\n *\n * @return {Object} Object, containing selector totals by status.\n */\nexport const countSelectorsByStatus = createSelector(\n\t( state ) => {\n\t\tconst selectorsByStatus = {};\n\n\t\tObject.values( state ).forEach( ( selectorState ) =>\n\t\t\t/**\n\t\t\t * This uses the internal `_map` property of `EquivalentKeyMap` for\n\t\t\t * optimization purposes, since the `EquivalentKeyMap` implementation\n\t\t\t * does not support a `.values()` implementation.\n\t\t\t *\n\t\t\t * @see https://github.com/aduth/equivalent-key-map\n\t\t\t */\n\t\t\tArray.from( selectorState._map.values() ).forEach(\n\t\t\t\t( resolution ) => {\n\t\t\t\t\tconst currentStatus = resolution[ 1 ]?.status ?? 'error';\n\t\t\t\t\tif ( ! selectorsByStatus[ currentStatus ] ) {\n\t\t\t\t\t\tselectorsByStatus[ currentStatus ] = 0;\n\t\t\t\t\t}\n\t\t\t\t\tselectorsByStatus[ currentStatus ]++;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\n\t\treturn selectorsByStatus;\n\t},\n\t( state ) => [ state ]\n);\n", "'use strict';\n\n/** @typedef {(...args: any[]) => *[]} GetDependants */\n\n/** @typedef {() => void} Clear */\n\n/**\n * @typedef {{\n *   getDependants: GetDependants,\n *   clear: Clear\n * }} EnhancedSelector\n */\n\n/**\n * Internal cache entry.\n *\n * @typedef CacheNode\n *\n * @property {?CacheNode|undefined} [prev] Previous node.\n * @property {?CacheNode|undefined} [next] Next node.\n * @property {*[]} args Function arguments for cache entry.\n * @property {*} val Function result.\n */\n\n/**\n * @typedef Cache\n *\n * @property {Clear} clear Function to clear cache.\n * @property {boolean} [isUniqueByDependants] Whether dependants are valid in\n * considering cache uniqueness. A cache is unique if dependents are all arrays\n * or objects.\n * @property {CacheNode?} [head] Cache head.\n * @property {*[]} [lastDependants] Dependants from previous invocation.\n */\n\n/**\n * Arbitrary value used as key for referencing cache object in WeakMap tree.\n *\n * @type {{}}\n */\nvar LEAF_KEY = {};\n\n/**\n * Returns the first argument as the sole entry in an array.\n *\n * @template T\n *\n * @param {T} value Value to return.\n *\n * @return {[T]} Value returned as entry in array.\n */\nfunction arrayOf(value) {\n\treturn [value];\n}\n\n/**\n * Returns true if the value passed is object-like, or false otherwise. A value\n * is object-like if it can support property assignment, e.g. object or array.\n *\n * @param {*} value Value to test.\n *\n * @return {boolean} Whether value is object-like.\n */\nfunction isObjectLike(value) {\n\treturn !!value && 'object' === typeof value;\n}\n\n/**\n * Creates and returns a new cache object.\n *\n * @return {Cache} Cache object.\n */\nfunction createCache() {\n\t/** @type {Cache} */\n\tvar cache = {\n\t\tclear: function () {\n\t\t\tcache.head = null;\n\t\t},\n\t};\n\n\treturn cache;\n}\n\n/**\n * Returns true if entries within the two arrays are strictly equal by\n * reference from a starting index.\n *\n * @param {*[]} a First array.\n * @param {*[]} b Second array.\n * @param {number} fromIndex Index from which to start comparison.\n *\n * @return {boolean} Whether arrays are shallowly equal.\n */\nfunction isShallowEqual(a, b, fromIndex) {\n\tvar i;\n\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\n\tfor (i = fromIndex; i < a.length; i++) {\n\t\tif (a[i] !== b[i]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a memoized selector function. The getDependants function argument is\n * called before the memoized selector and is expected to return an immutable\n * reference or array of references on which the selector depends for computing\n * its own return value. The memoize cache is preserved only as long as those\n * dependant references remain the same. If getDependants returns a different\n * reference(s), the cache is cleared and the selector value regenerated.\n *\n * @template {(...args: *[]) => *} S\n *\n * @param {S} selector Selector function.\n * @param {GetDependants=} getDependants Dependant getter returning an array of\n * references used in cache bust consideration.\n */\nexport default function (selector, getDependants) {\n\t/** @type {WeakMap<*,*>} */\n\tvar rootCache;\n\n\t/** @type {GetDependants} */\n\tvar normalizedGetDependants = getDependants ? getDependants : arrayOf;\n\n\t/**\n\t * Returns the cache for a given dependants array. When possible, a WeakMap\n\t * will be used to create a unique cache for each set of dependants. This\n\t * is feasible due to the nature of WeakMap in allowing garbage collection\n\t * to occur on entries where the key object is no longer referenced. Since\n\t * WeakMap requires the key to be an object, this is only possible when the\n\t * dependant is object-like. The root cache is created as a hierarchy where\n\t * each top-level key is the first entry in a dependants set, the value a\n\t * WeakMap where each key is the next dependant, and so on. This continues\n\t * so long as the dependants are object-like. If no dependants are object-\n\t * like, then the cache is shared across all invocations.\n\t *\n\t * @see isObjectLike\n\t *\n\t * @param {*[]} dependants Selector dependants.\n\t *\n\t * @return {Cache} Cache object.\n\t */\n\tfunction getCache(dependants) {\n\t\tvar caches = rootCache,\n\t\t\tisUniqueByDependants = true,\n\t\t\ti,\n\t\t\tdependant,\n\t\t\tmap,\n\t\t\tcache;\n\n\t\tfor (i = 0; i < dependants.length; i++) {\n\t\t\tdependant = dependants[i];\n\n\t\t\t// Can only compose WeakMap from object-like key.\n\t\t\tif (!isObjectLike(dependant)) {\n\t\t\t\tisUniqueByDependants = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Does current segment of cache already have a WeakMap?\n\t\t\tif (caches.has(dependant)) {\n\t\t\t\t// Traverse into nested WeakMap.\n\t\t\t\tcaches = caches.get(dependant);\n\t\t\t} else {\n\t\t\t\t// Create, set, and traverse into a new one.\n\t\t\t\tmap = new WeakMap();\n\t\t\t\tcaches.set(dependant, map);\n\t\t\t\tcaches = map;\n\t\t\t}\n\t\t}\n\n\t\t// We use an arbitrary (but consistent) object as key for the last item\n\t\t// in the WeakMap to serve as our running cache.\n\t\tif (!caches.has(LEAF_KEY)) {\n\t\t\tcache = createCache();\n\t\t\tcache.isUniqueByDependants = isUniqueByDependants;\n\t\t\tcaches.set(LEAF_KEY, cache);\n\t\t}\n\n\t\treturn caches.get(LEAF_KEY);\n\t}\n\n\t/**\n\t * Resets root memoization cache.\n\t */\n\tfunction clear() {\n\t\trootCache = new WeakMap();\n\t}\n\n\t/* eslint-disable jsdoc/check-param-names */\n\t/**\n\t * The augmented selector call, considering first whether dependants have\n\t * changed before passing it to underlying memoize function.\n\t *\n\t * @param {*}    source    Source object for derivation.\n\t * @param {...*} extraArgs Additional arguments to pass to selector.\n\t *\n\t * @return {*} Selector result.\n\t */\n\t/* eslint-enable jsdoc/check-param-names */\n\tfunction callSelector(/* source, ...extraArgs */) {\n\t\tvar len = arguments.length,\n\t\t\tcache,\n\t\t\tnode,\n\t\t\ti,\n\t\t\targs,\n\t\t\tdependants;\n\n\t\t// Create copy of arguments (avoid leaking deoptimization).\n\t\targs = new Array(len);\n\t\tfor (i = 0; i < len; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\n\t\tdependants = normalizedGetDependants.apply(null, args);\n\t\tcache = getCache(dependants);\n\n\t\t// If not guaranteed uniqueness by dependants (primitive type), shallow\n\t\t// compare against last dependants and, if references have changed,\n\t\t// destroy cache to recalculate result.\n\t\tif (!cache.isUniqueByDependants) {\n\t\t\tif (\n\t\t\t\tcache.lastDependants &&\n\t\t\t\t!isShallowEqual(dependants, cache.lastDependants, 0)\n\t\t\t) {\n\t\t\t\tcache.clear();\n\t\t\t}\n\n\t\t\tcache.lastDependants = dependants;\n\t\t}\n\n\t\tnode = cache.head;\n\t\twhile (node) {\n\t\t\t// Check whether node arguments match arguments\n\t\t\tif (!isShallowEqual(node.args, args, 1)) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif (node !== cache.head) {\n\t\t\t\t// Adjust siblings to point to each other.\n\t\t\t\t/** @type {CacheNode} */ (node.prev).next = node.next;\n\t\t\t\tif (node.next) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = cache.head;\n\t\t\t\tnode.prev = null;\n\t\t\t\t/** @type {CacheNode} */ (cache.head).prev = node;\n\t\t\t\tcache.head = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\tnode = /** @type {CacheNode} */ ({\n\t\t\t// Generate the result from original function\n\t\t\tval: selector.apply(null, args),\n\t\t});\n\n\t\t// Avoid including the source object in the cache.\n\t\targs[0] = null;\n\t\tnode.args = args;\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif (cache.head) {\n\t\t\tcache.head.prev = node;\n\t\t\tnode.next = cache.head;\n\t\t}\n\n\t\tcache.head = node;\n\n\t\treturn node.val;\n\t}\n\n\tcallSelector.getDependants = normalizedGetDependants;\n\tcallSelector.clear = clear;\n\tclear();\n\n\treturn /** @type {S & EnhancedSelector} */ (callSelector);\n}\n", "/**\n * Returns an action object used in signalling that selector resolution has\n * started.\n *\n * @param {string}    selectorName Name of selector for which resolver triggered.\n * @param {unknown[]} args         Arguments to associate for uniqueness.\n *\n * @return {{ type: 'START_RESOLUTION', selectorName: string, args: unknown[] }} Action object.\n */\nexport function startResolution( selectorName, args ) {\n\treturn {\n\t\ttype: 'START_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that selector resolution has\n * completed.\n *\n * @param {string}    selectorName Name of selector for which resolver triggered.\n * @param {unknown[]} args         Arguments to associate for uniqueness.\n *\n * @return {{ type: 'FINISH_RESOLUTION', selectorName: string, args: unknown[] }} Action object.\n */\nexport function finishResolution( selectorName, args ) {\n\treturn {\n\t\ttype: 'FINISH_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that selector resolution has\n * failed.\n *\n * @param {string}        selectorName Name of selector for which resolver triggered.\n * @param {unknown[]}     args         Arguments to associate for uniqueness.\n * @param {Error|unknown} error        The error that caused the failure.\n *\n * @return {{ type: 'FAIL_RESOLUTION', selectorName: string, args: unknown[], error: Error|unknown }} Action object.\n */\nexport function failResolution( selectorName, args, error ) {\n\treturn {\n\t\ttype: 'FAIL_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t\terror,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a batch of selector resolutions has\n * started.\n *\n * @param {string}      selectorName Name of selector for which resolver triggered.\n * @param {unknown[][]} args         Array of arguments to associate for uniqueness, each item\n *                                   is associated to a resolution.\n *\n * @return {{ type: 'START_RESOLUTIONS', selectorName: string, args: unknown[][] }} Action object.\n */\nexport function startResolutions( selectorName, args ) {\n\treturn {\n\t\ttype: 'START_RESOLUTIONS',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a batch of selector resolutions has\n * completed.\n *\n * @param {string}      selectorName Name of selector for which resolver triggered.\n * @param {unknown[][]} args         Array of arguments to associate for uniqueness, each item\n *                                   is associated to a resolution.\n *\n * @return {{ type: 'FINISH_RESOLUTIONS', selectorName: string, args: unknown[][] }} Action object.\n */\nexport function finishResolutions( selectorName, args ) {\n\treturn {\n\t\ttype: 'FINISH_RESOLUTIONS',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a batch of selector resolutions has\n * completed and at least one of them has failed.\n *\n * @param {string}            selectorName Name of selector for which resolver triggered.\n * @param {unknown[]}         args         Array of arguments to associate for uniqueness, each item\n *                                         is associated to a resolution.\n * @param {(Error|unknown)[]} errors       Array of errors to associate for uniqueness, each item\n *                                         is associated to a resolution.\n * @return {{ type: 'FAIL_RESOLUTIONS', selectorName: string, args: unknown[], errors: Array<Error|unknown> }} Action object.\n */\nexport function failResolutions( selectorName, args, errors ) {\n\treturn {\n\t\ttype: 'FAIL_RESOLUTIONS',\n\t\tselectorName,\n\t\targs,\n\t\terrors,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that we should invalidate the resolution cache.\n *\n * @param {string}    selectorName Name of selector for which resolver should be invalidated.\n * @param {unknown[]} args         Arguments to associate for uniqueness.\n *\n * @return {{ type: 'INVALIDATE_RESOLUTION', selectorName: string, args: any[] }} Action object.\n */\nexport function invalidateResolution( selectorName, args ) {\n\treturn {\n\t\ttype: 'INVALIDATE_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the resolution\n * should be invalidated.\n *\n * @return {{ type: 'INVALIDATE_RESOLUTION_FOR_STORE' }} Action object.\n */\nexport function invalidateResolutionForStore() {\n\treturn {\n\t\ttype: 'INVALIDATE_RESOLUTION_FOR_STORE',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the resolution cache for a\n * given selectorName should be invalidated.\n *\n * @param {string} selectorName Name of selector for which all resolvers should\n *                              be invalidated.\n *\n * @return  {{ type: 'INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR', selectorName: string }} Action object.\n */\nexport function invalidateResolutionForStoreSelector( selectorName ) {\n\treturn {\n\t\ttype: 'INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR',\n\t\tselectorName,\n\t};\n}\n", "const coreDataStore = {\n\tname: 'core/data',\n\tinstantiate( registry ) {\n\t\tconst getCoreDataSelector =\n\t\t\t( selectorName ) =>\n\t\t\t( key, ...args ) => {\n\t\t\t\treturn registry.select( key )[ selectorName ]( ...args );\n\t\t\t};\n\n\t\tconst getCoreDataAction =\n\t\t\t( actionName ) =>\n\t\t\t( key, ...args ) => {\n\t\t\t\treturn registry.dispatch( key )[ actionName ]( ...args );\n\t\t\t};\n\n\t\treturn {\n\t\t\tgetSelectors() {\n\t\t\t\treturn Object.fromEntries(\n\t\t\t\t\t[\n\t\t\t\t\t\t'getIsResolving',\n\t\t\t\t\t\t'hasStartedResolution',\n\t\t\t\t\t\t'hasFinishedResolution',\n\t\t\t\t\t\t'isResolving',\n\t\t\t\t\t\t'getCachedResolvers',\n\t\t\t\t\t].map( ( selectorName ) => [\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\tgetCoreDataSelector( selectorName ),\n\t\t\t\t\t] )\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tgetActions() {\n\t\t\t\treturn Object.fromEntries(\n\t\t\t\t\t[\n\t\t\t\t\t\t'startResolution',\n\t\t\t\t\t\t'finishResolution',\n\t\t\t\t\t\t'invalidateResolution',\n\t\t\t\t\t\t'invalidateResolutionForStore',\n\t\t\t\t\t\t'invalidateResolutionForStoreSelector',\n\t\t\t\t\t].map( ( actionName ) => [\n\t\t\t\t\t\tactionName,\n\t\t\t\t\t\tgetCoreDataAction( actionName ),\n\t\t\t\t\t] )\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tsubscribe() {\n\t\t\t\t// There's no reasons to trigger any listener when we subscribe to this store\n\t\t\t\t// because there's no state stored in this store that need to retrigger selectors\n\t\t\t\t// if a change happens, the corresponding store where the tracking stated live\n\t\t\t\t// would have already triggered a \"subscribe\" call.\n\t\t\t\treturn () => () => {};\n\t\t\t},\n\t\t};\n\t},\n};\n\nexport default coreDataStore;\n", "export interface DataEmitter {\n\temit: VoidFunction;\n\tsubscribe: ( listener: VoidFunction ) => VoidFunction;\n\tpause: VoidFunction;\n\tresume: VoidFunction;\n\tisPaused: boolean;\n}\n\n/**\n * Create an event emitter.\n *\n * @return The event emitter.\n */\nexport function createEmitter(): DataEmitter {\n\tlet isPaused = false;\n\tlet isPending = false;\n\tconst listeners = new Set< VoidFunction >();\n\tconst notifyListeners = () =>\n\t\t// We use Array.from to clone the listeners Set\n\t\t// This ensures that we don't run a listener\n\t\t// that was added as a response to another listener.\n\t\tArray.from( listeners ).forEach( ( listener ) => listener() );\n\n\treturn {\n\t\tget isPaused() {\n\t\t\treturn isPaused;\n\t\t},\n\n\t\tsubscribe( listener ) {\n\t\t\tlisteners.add( listener );\n\t\t\treturn () => listeners.delete( listener );\n\t\t},\n\n\t\tpause() {\n\t\t\tisPaused = true;\n\t\t},\n\n\t\tresume() {\n\t\t\tisPaused = false;\n\t\t\tif ( isPending ) {\n\t\t\t\tisPending = false;\n\t\t\t\tnotifyListeners();\n\t\t\t}\n\t\t},\n\n\t\temit() {\n\t\t\tif ( isPaused ) {\n\t\t\t\tisPending = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnotifyListeners();\n\t\t},\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport createReduxStore from './redux-store';\nimport coreDataStore from './store';\nimport { createEmitter } from './utils/emitter';\nimport { lock, unlock } from './lock-unlock';\n\n/** @typedef {import('./types').StoreDescriptor} StoreDescriptor */\n\n/**\n * @typedef {Object} WPDataRegistry An isolated orchestrator of store registrations.\n *\n * @property {Function} registerGenericStore Given a namespace key and settings\n *                                           object, registers a new generic\n *                                           store.\n * @property {Function} registerStore        Given a namespace key and settings\n *                                           object, registers a new namespace\n *                                           store.\n * @property {Function} subscribe            Given a function callback, invokes\n *                                           the callback on any change to state\n *                                           within any registered store.\n * @property {Function} select               Given a namespace key, returns an\n *                                           object of the  store's registered\n *                                           selectors.\n * @property {Function} dispatch             Given a namespace key, returns an\n *                                           object of the store's registered\n *                                           action dispatchers.\n */\n\n/**\n * @typedef {Object} WPDataPlugin An object of registry function overrides.\n *\n * @property {Function} registerStore registers store.\n */\n\nfunction getStoreName( storeNameOrDescriptor ) {\n\treturn typeof storeNameOrDescriptor === 'string'\n\t\t? storeNameOrDescriptor\n\t\t: storeNameOrDescriptor.name;\n}\n/**\n * Creates a new store registry, given an optional object of initial store\n * configurations.\n *\n * @param {Object}  storeConfigs Initial store configurations.\n * @param {?Object} parent       Parent registry.\n *\n * @return {WPDataRegistry} Data registry.\n */\nexport function createRegistry( storeConfigs = {}, parent = null ) {\n\tconst stores = {};\n\tconst emitter = createEmitter();\n\tlet listeningStores = null;\n\n\t/**\n\t * Global listener called for each store's update.\n\t */\n\tfunction globalListener() {\n\t\temitter.emit();\n\t}\n\n\t/**\n\t * Subscribe to changes to any data, either in all stores in registry, or\n\t * in one specific store.\n\t *\n\t * @param {Function}                listener              Listener function.\n\t * @param {string|StoreDescriptor?} storeNameOrDescriptor Optional store name.\n\t *\n\t * @return {Function} Unsubscribe function.\n\t */\n\tconst subscribe = ( listener, storeNameOrDescriptor ) => {\n\t\t// subscribe to all stores\n\t\tif ( ! storeNameOrDescriptor ) {\n\t\t\treturn emitter.subscribe( listener );\n\t\t}\n\n\t\t// subscribe to one store\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.subscribe( listener );\n\t\t}\n\n\t\t// Trying to access a store that hasn't been registered,\n\t\t// this is a pattern rarely used but seen in some places.\n\t\t// We fallback to global `subscribe` here for backward-compatibility for now.\n\t\t// See https://github.com/WordPress/gutenberg/pull/27466 for more info.\n\t\tif ( ! parent ) {\n\t\t\treturn emitter.subscribe( listener );\n\t\t}\n\n\t\treturn parent.subscribe( listener, storeNameOrDescriptor );\n\t};\n\n\t/**\n\t * Calls a selector given the current state and extra arguments.\n\t *\n\t * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n\t *                                                       or the store descriptor.\n\t *\n\t * @return {*} The selector's returned value.\n\t */\n\tfunction select( storeNameOrDescriptor ) {\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tlisteningStores?.add( storeName );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.getSelectors();\n\t\t}\n\n\t\treturn parent?.select( storeName );\n\t}\n\n\tfunction __unstableMarkListeningStores( callback, ref ) {\n\t\tlisteningStores = new Set();\n\t\ttry {\n\t\t\treturn callback.call( this );\n\t\t} finally {\n\t\t\tref.current = Array.from( listeningStores );\n\t\t\tlisteningStores = null;\n\t\t}\n\t}\n\n\t/**\n\t * Given a store descriptor, returns an object containing the store's selectors pre-bound to\n\t * state so that you only need to supply additional arguments, and modified so that they return\n\t * promises that resolve to their eventual values, after any resolvers have ran.\n\t *\n\t * @param {StoreDescriptor|string} storeNameOrDescriptor The store descriptor. The legacy calling\n\t *                                                       convention of passing the store name is\n\t *                                                       also supported.\n\t *\n\t * @return {Object} Each key of the object matches the name of a selector.\n\t */\n\tfunction resolveSelect( storeNameOrDescriptor ) {\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tlisteningStores?.add( storeName );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.getResolveSelectors();\n\t\t}\n\n\t\treturn parent && parent.resolveSelect( storeName );\n\t}\n\n\t/**\n\t * Given a store descriptor, returns an object containing the store's selectors pre-bound to\n\t * state so that you only need to supply additional arguments, and modified so that they throw\n\t * promises in case the selector is not resolved yet.\n\t *\n\t * @param {StoreDescriptor|string} storeNameOrDescriptor The store descriptor. The legacy calling\n\t *                                                       convention of passing the store name is\n\t *                                                       also supported.\n\t *\n\t * @return {Object} Object containing the store's suspense-wrapped selectors.\n\t */\n\tfunction suspendSelect( storeNameOrDescriptor ) {\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tlisteningStores?.add( storeName );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.getSuspendSelectors();\n\t\t}\n\n\t\treturn parent && parent.suspendSelect( storeName );\n\t}\n\n\t/**\n\t * Returns the available actions for a part of the state.\n\t *\n\t * @param {string|StoreDescriptor} storeNameOrDescriptor Unique namespace identifier for the store\n\t *                                                       or the store descriptor.\n\t *\n\t * @return {*} The action's returned value.\n\t */\n\tfunction dispatch( storeNameOrDescriptor ) {\n\t\tconst storeName = getStoreName( storeNameOrDescriptor );\n\t\tconst store = stores[ storeName ];\n\t\tif ( store ) {\n\t\t\treturn store.getActions();\n\t\t}\n\n\t\treturn parent && parent.dispatch( storeName );\n\t}\n\n\t//\n\t// Deprecated\n\t// TODO: Remove this after `use()` is removed.\n\tfunction withPlugins( attributes ) {\n\t\treturn Object.fromEntries(\n\t\t\tObject.entries( attributes ).map( ( [ key, attribute ] ) => {\n\t\t\t\tif ( typeof attribute !== 'function' ) {\n\t\t\t\t\treturn [ key, attribute ];\n\t\t\t\t}\n\t\t\t\treturn [\n\t\t\t\t\tkey,\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\treturn registry[ key ].apply( null, arguments );\n\t\t\t\t\t},\n\t\t\t\t];\n\t\t\t} )\n\t\t);\n\t}\n\n\t/**\n\t * Registers a store instance.\n\t *\n\t * @param {string}   name        Store registry name.\n\t * @param {Function} createStore Function that creates a store object (getSelectors, getActions, subscribe).\n\t */\n\tfunction registerStoreInstance( name, createStore ) {\n\t\tif ( stores[ name ] ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error( 'Store \"' + name + '\" is already registered.' );\n\t\t\treturn stores[ name ];\n\t\t}\n\n\t\tconst store = createStore();\n\n\t\tif ( typeof store.getSelectors !== 'function' ) {\n\t\t\tthrow new TypeError( 'store.getSelectors must be a function' );\n\t\t}\n\t\tif ( typeof store.getActions !== 'function' ) {\n\t\t\tthrow new TypeError( 'store.getActions must be a function' );\n\t\t}\n\t\tif ( typeof store.subscribe !== 'function' ) {\n\t\t\tthrow new TypeError( 'store.subscribe must be a function' );\n\t\t}\n\t\t// The emitter is used to keep track of active listeners when the registry\n\t\t// get paused, that way, when resumed we should be able to call all these\n\t\t// pending listeners.\n\t\tstore.emitter = createEmitter();\n\t\tconst currentSubscribe = store.subscribe;\n\t\tstore.subscribe = ( listener ) => {\n\t\t\tconst unsubscribeFromEmitter = store.emitter.subscribe( listener );\n\t\t\tconst unsubscribeFromStore = currentSubscribe( () => {\n\t\t\t\tif ( store.emitter.isPaused ) {\n\t\t\t\t\tstore.emitter.emit();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlistener();\n\t\t\t} );\n\n\t\t\treturn () => {\n\t\t\t\tunsubscribeFromStore?.();\n\t\t\t\tunsubscribeFromEmitter?.();\n\t\t\t};\n\t\t};\n\t\tstores[ name ] = store;\n\t\tstore.subscribe( globalListener );\n\n\t\t// Copy private actions and selectors from the parent store.\n\t\tif ( parent ) {\n\t\t\ttry {\n\t\t\t\tunlock( store.store ).registerPrivateActions(\n\t\t\t\t\tunlock( parent ).privateActionsOf( name )\n\t\t\t\t);\n\t\t\t\tunlock( store.store ).registerPrivateSelectors(\n\t\t\t\t\tunlock( parent ).privateSelectorsOf( name )\n\t\t\t\t);\n\t\t\t} catch ( e ) {\n\t\t\t\t// unlock() throws if store.store was not locked.\n\t\t\t\t// The error indicates there's nothing to do here so let's\n\t\t\t\t// ignore it.\n\t\t\t}\n\t\t}\n\n\t\treturn store;\n\t}\n\n\t/**\n\t * Registers a new store given a store descriptor.\n\t *\n\t * @param {StoreDescriptor} store Store descriptor.\n\t */\n\tfunction register( store ) {\n\t\tregisterStoreInstance( store.name, () =>\n\t\t\tstore.instantiate( registry )\n\t\t);\n\t}\n\n\tfunction registerGenericStore( name, store ) {\n\t\tdeprecated( 'wp.data.registerGenericStore', {\n\t\t\tsince: '5.9',\n\t\t\talternative: 'wp.data.register( storeDescriptor )',\n\t\t} );\n\t\tregisterStoreInstance( name, () => store );\n\t}\n\n\t/**\n\t * Registers a standard `@wordpress/data` store.\n\t *\n\t * @param {string} storeName Unique namespace identifier.\n\t * @param {Object} options   Store description (reducer, actions, selectors, resolvers).\n\t *\n\t * @return {Object} Registered store object.\n\t */\n\tfunction registerStore( storeName, options ) {\n\t\tif ( ! options.reducer ) {\n\t\t\tthrow new TypeError( 'Must specify store reducer' );\n\t\t}\n\n\t\tconst store = registerStoreInstance( storeName, () =>\n\t\t\tcreateReduxStore( storeName, options ).instantiate( registry )\n\t\t);\n\n\t\treturn store.store;\n\t}\n\n\tfunction batch( callback ) {\n\t\t// If we're already batching, just call the callback.\n\t\tif ( emitter.isPaused ) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\n\t\temitter.pause();\n\t\tObject.values( stores ).forEach( ( store ) => store.emitter.pause() );\n\t\ttry {\n\t\t\tcallback();\n\t\t} finally {\n\t\t\temitter.resume();\n\t\t\tObject.values( stores ).forEach( ( store ) =>\n\t\t\t\tstore.emitter.resume()\n\t\t\t);\n\t\t}\n\t}\n\n\tlet registry = {\n\t\tbatch,\n\t\tstores,\n\t\tnamespaces: stores, // TODO: Deprecate/remove this.\n\t\tsubscribe,\n\t\tselect,\n\t\tresolveSelect,\n\t\tsuspendSelect,\n\t\tdispatch,\n\t\tuse,\n\t\tregister,\n\t\tregisterGenericStore,\n\t\tregisterStore,\n\t\t__unstableMarkListeningStores,\n\t};\n\n\t//\n\t// TODO:\n\t// This function will be deprecated as soon as it is no longer internally referenced.\n\tfunction use( plugin, options ) {\n\t\tif ( ! plugin ) {\n\t\t\treturn;\n\t\t}\n\n\t\tregistry = {\n\t\t\t...registry,\n\t\t\t...plugin( registry, options ),\n\t\t};\n\n\t\treturn registry;\n\t}\n\n\tregistry.register( coreDataStore );\n\n\tfor ( const [ name, config ] of Object.entries( storeConfigs ) ) {\n\t\tregistry.register( createReduxStore( name, config ) );\n\t}\n\n\tif ( parent ) {\n\t\tparent.subscribe( globalListener );\n\t}\n\n\tconst registryWithPlugins = withPlugins( registry );\n\tlock( registryWithPlugins, {\n\t\tprivateActionsOf: ( name ) => {\n\t\t\ttry {\n\t\t\t\treturn unlock( stores[ name ].store ).privateActions;\n\t\t\t} catch ( e ) {\n\t\t\t\t// unlock() throws an error the store was not locked â this means\n\t\t\t\t// there no private actions are available\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\tprivateSelectorsOf: ( name ) => {\n\t\t\ttry {\n\t\t\t\treturn unlock( stores[ name ].store ).privateSelectors;\n\t\t\t} catch ( e ) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t} );\n\treturn registryWithPlugins;\n}\n", "/**\n * Internal dependencies\n */\nimport { createRegistry } from './registry';\n\nexport default createRegistry();\n", "export { default as persistence } from './persistence';\n", "/**\n * External dependencies\n */\nimport { isPlainObject } from 'is-plain-object';\nimport deepmerge from 'deepmerge';\n\n/**\n * Internal dependencies\n */\nimport defaultStorage from './storage/default';\nimport { combineReducers } from '../../';\n\n/** @typedef {import('../../registry').WPDataRegistry} WPDataRegistry */\n\n/** @typedef {import('../../registry').WPDataPlugin} WPDataPlugin */\n\n/**\n * @typedef {Object} WPDataPersistencePluginOptions Persistence plugin options.\n *\n * @property {Storage} storage    Persistent storage implementation. This must\n *                                at least implement `getItem` and `setItem` of\n *                                the Web Storage API.\n * @property {string}  storageKey Key on which to set in persistent storage.\n */\n\n/**\n * Default plugin storage.\n *\n * @type {Storage}\n */\nconst DEFAULT_STORAGE = defaultStorage;\n\n/**\n * Default plugin storage key.\n *\n * @type {string}\n */\nconst DEFAULT_STORAGE_KEY = 'WP_DATA';\n\n/**\n * Higher-order reducer which invokes the original reducer only if state is\n * inequal from that of the action's `nextState` property, otherwise returning\n * the original state reference.\n *\n * @param {Function} reducer Original reducer.\n *\n * @return {Function} Enhanced reducer.\n */\nexport const withLazySameState = ( reducer ) => ( state, action ) => {\n\tif ( action.nextState === state ) {\n\t\treturn state;\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Creates a persistence interface, exposing getter and setter methods (`get`\n * and `set` respectively).\n *\n * @param {WPDataPersistencePluginOptions} options Plugin options.\n *\n * @return {Object} Persistence interface.\n */\nexport function createPersistenceInterface( options ) {\n\tconst { storage = DEFAULT_STORAGE, storageKey = DEFAULT_STORAGE_KEY } =\n\t\toptions;\n\n\tlet data;\n\n\t/**\n\t * Returns the persisted data as an object, defaulting to an empty object.\n\t *\n\t * @return {Object} Persisted data.\n\t */\n\tfunction getData() {\n\t\tif ( data === undefined ) {\n\t\t\t// If unset, getItem is expected to return null. Fall back to\n\t\t\t// empty object.\n\t\t\tconst persisted = storage.getItem( storageKey );\n\t\t\tif ( persisted === null ) {\n\t\t\t\tdata = {};\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse( persisted );\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\t// Similarly, should any error be thrown during parse of\n\t\t\t\t\t// the string (malformed JSON), fall back to empty object.\n\t\t\t\t\tdata = {};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t/**\n\t * Merges an updated reducer state into the persisted data.\n\t *\n\t * @param {string} key   Key to update.\n\t * @param {*}      value Updated value.\n\t */\n\tfunction setData( key, value ) {\n\t\tdata = { ...data, [ key ]: value };\n\t\tstorage.setItem( storageKey, JSON.stringify( data ) );\n\t}\n\n\treturn {\n\t\tget: getData,\n\t\tset: setData,\n\t};\n}\n\n/**\n * Data plugin to persist store state into a single storage key.\n *\n * @param {WPDataRegistry}                  registry      Data registry.\n * @param {?WPDataPersistencePluginOptions} pluginOptions Plugin options.\n *\n * @return {WPDataPlugin} Data plugin.\n */\nfunction persistencePlugin( registry, pluginOptions ) {\n\tconst persistence = createPersistenceInterface( pluginOptions );\n\n\t/**\n\t * Creates an enhanced store dispatch function, triggering the state of the\n\t * given store name to be persisted when changed.\n\t *\n\t * @param {Function}       getState  Function which returns current state.\n\t * @param {string}         storeName Store name.\n\t * @param {?Array<string>} keys      Optional subset of keys to save.\n\t *\n\t * @return {Function} Enhanced dispatch function.\n\t */\n\tfunction createPersistOnChange( getState, storeName, keys ) {\n\t\tlet getPersistedState;\n\t\tif ( Array.isArray( keys ) ) {\n\t\t\t// Given keys, the persisted state should by produced as an object\n\t\t\t// of the subset of keys. This implementation uses combineReducers\n\t\t\t// to leverage its behavior of returning the same object when none\n\t\t\t// of the property values changes. This allows a strict reference\n\t\t\t// equality to bypass a persistence set on an unchanging state.\n\t\t\tconst reducers = keys.reduce(\n\t\t\t\t( accumulator, key ) =>\n\t\t\t\t\tObject.assign( accumulator, {\n\t\t\t\t\t\t[ key ]: ( state, action ) => action.nextState[ key ],\n\t\t\t\t\t} ),\n\t\t\t\t{}\n\t\t\t);\n\n\t\t\tgetPersistedState = withLazySameState(\n\t\t\t\tcombineReducers( reducers )\n\t\t\t);\n\t\t} else {\n\t\t\tgetPersistedState = ( state, action ) => action.nextState;\n\t\t}\n\n\t\tlet lastState = getPersistedState( undefined, {\n\t\t\tnextState: getState(),\n\t\t} );\n\n\t\treturn () => {\n\t\t\tconst state = getPersistedState( lastState, {\n\t\t\t\tnextState: getState(),\n\t\t\t} );\n\t\t\tif ( state !== lastState ) {\n\t\t\t\tpersistence.set( storeName, state );\n\t\t\t\tlastState = state;\n\t\t\t}\n\t\t};\n\t}\n\n\treturn {\n\t\tregisterStore( storeName, options ) {\n\t\t\tif ( ! options.persist ) {\n\t\t\t\treturn registry.registerStore( storeName, options );\n\t\t\t}\n\n\t\t\t// Load from persistence to use as initial state.\n\t\t\tconst persistedState = persistence.get()[ storeName ];\n\t\t\tif ( persistedState !== undefined ) {\n\t\t\t\tlet initialState = options.reducer( options.initialState, {\n\t\t\t\t\ttype: '@@WP/PERSISTENCE_RESTORE',\n\t\t\t\t} );\n\n\t\t\t\tif (\n\t\t\t\t\tisPlainObject( initialState ) &&\n\t\t\t\t\tisPlainObject( persistedState )\n\t\t\t\t) {\n\t\t\t\t\t// If state is an object, ensure that:\n\t\t\t\t\t// - Other keys are left intact when persisting only a\n\t\t\t\t\t//   subset of keys.\n\t\t\t\t\t// - New keys in what would otherwise be used as initial\n\t\t\t\t\t//   state are deeply merged as base for persisted value.\n\t\t\t\t\tinitialState = deepmerge( initialState, persistedState, {\n\t\t\t\t\t\tisMergeableObject: isPlainObject,\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t// If there is a mismatch in object-likeness of default\n\t\t\t\t\t// initial or persisted state, defer to persisted value.\n\t\t\t\t\tinitialState = persistedState;\n\t\t\t\t}\n\n\t\t\t\toptions = {\n\t\t\t\t\t...options,\n\t\t\t\t\tinitialState,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst store = registry.registerStore( storeName, options );\n\n\t\t\tstore.subscribe(\n\t\t\t\tcreatePersistOnChange(\n\t\t\t\t\tstore.getState,\n\t\t\t\t\tstoreName,\n\t\t\t\t\toptions.persist\n\t\t\t\t)\n\t\t\t);\n\n\t\t\treturn store;\n\t\t},\n\t};\n}\n\npersistencePlugin.__unstableMigrate = () => {};\n\nexport default persistencePlugin;\n", "let objectStorage;\n\nconst storage = {\n\tgetItem( key ) {\n\t\tif ( ! objectStorage || ! objectStorage[ key ] ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn objectStorage[ key ];\n\t},\n\tsetItem( key, value ) {\n\t\tif ( ! objectStorage ) {\n\t\t\tstorage.clear();\n\t\t}\n\n\t\tobjectStorage[ key ] = String( value );\n\t},\n\tclear() {\n\t\tobjectStorage = Object.create( null );\n\t},\n};\n\nexport default storage;\n", "/**\n * Internal dependencies\n */\nimport objectStorage from './object';\n\nlet storage;\n\ntry {\n\t// Private Browsing in Safari 10 and earlier will throw an error when\n\t// attempting to set into localStorage. The test here is intentional in\n\t// causing a thrown error as condition for using fallback object storage.\n\tstorage = window.localStorage;\n\tstorage.setItem( '__wpDataTestLocalStorage', '' );\n\tstorage.removeItem( '__wpDataTestLocalStorage' );\n} catch ( error ) {\n\tstorage = objectStorage;\n}\n\nexport default storage;\n", "/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport defaultRegistry from '../../default-registry';\n\nexport const Context = createContext( defaultRegistry );\nContext.displayName = 'RegistryProviderContext';\n\nconst { Consumer, Provider } = Context;\n\n/**\n * A custom react Context consumer exposing the provided `registry` to\n * children components. Used along with the RegistryProvider.\n *\n * You can read more about the react context api here:\n * https://react.dev/learn/passing-data-deeply-with-context#step-3-provide-the-context\n *\n * @example\n * ```js\n * import {\n *   RegistryProvider,\n *   RegistryConsumer,\n *   createRegistry\n * } from '@wordpress/data';\n *\n * const registry = createRegistry( {} );\n *\n * const App = ( { props } ) => {\n *   return <RegistryProvider value={ registry }>\n *     <div>Hello There</div>\n *     <RegistryConsumer>\n *       { ( registry ) => (\n *         <ComponentUsingRegistry\n *         \t\t{ ...props }\n *         \t  registry={ registry }\n *       ) }\n *     </RegistryConsumer>\n *   </RegistryProvider>\n * }\n * ```\n */\nexport const RegistryConsumer = Consumer;\n\n/**\n * A custom Context provider for exposing the provided `registry` to children\n * components via a consumer.\n *\n * See <a name=\"#RegistryConsumer\">RegistryConsumer</a> documentation for\n * example.\n */\nexport default Provider;\n", "/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Context } from './context';\n\n/**\n * A custom react hook exposing the registry context for use.\n *\n * This exposes the `registry` value provided via the\n * <a href=\"#RegistryProvider\">Registry Provider</a> to a component implementing\n * this hook.\n *\n * It acts similarly to the `useContext` react hook.\n *\n * Note: Generally speaking, `useRegistry` is a low level hook that in most cases\n * won't be needed for implementation. Most interactions with the `@wordpress/data`\n * API can be performed via the `useSelect` hook,  or the `withSelect` and\n * `withDispatch` higher order components.\n *\n * @example\n * ```js\n * import {\n *   RegistryProvider,\n *   createRegistry,\n *   useRegistry,\n * } from '@wordpress/data';\n *\n * const registry = createRegistry( {} );\n *\n * const SomeChildUsingRegistry = ( props ) => {\n *   const registry = useRegistry();\n *   // ...logic implementing the registry in other react hooks.\n * };\n *\n *\n * const ParentProvidingRegistry = ( props ) => {\n *   return <RegistryProvider value={ registry }>\n *     <SomeChildUsingRegistry { ...props } />\n *   </RegistryProvider>\n * };\n * ```\n *\n * @return {Function}  A custom react hook exposing the registry context value.\n */\nexport default function useRegistry() {\n\treturn useContext( Context );\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\nexport const Context = createContext( false );\nContext.displayName = 'AsyncModeContext';\n\nconst { Consumer, Provider } = Context;\n\nexport const AsyncModeConsumer = Consumer;\n\n/**\n * Context Provider Component used to switch the data module component rerendering\n * between Sync and Async modes.\n *\n * @example\n *\n * ```js\n * import { useSelect, AsyncModeProvider } from '@wordpress/data';\n * import { store as blockEditorStore } from '@wordpress/block-editor';\n *\n * function BlockCount() {\n *   const count = useSelect( ( select ) => {\n *     return select( blockEditorStore ).getBlockCount()\n *   }, [] );\n *\n *   return count;\n * }\n *\n * function App() {\n *   return (\n *     <AsyncModeProvider value={ true }>\n *       <BlockCount />\n *     </AsyncModeProvider>\n *   );\n * }\n * ```\n *\n * In this example, the BlockCount component is rerendered asynchronously.\n * It means if a more critical task is being performed (like typing in an input),\n * the rerendering is delayed until the browser becomes IDLE.\n * It is possible to nest multiple levels of AsyncModeProvider to fine-tune the rendering behavior.\n *\n * @param {boolean} props.value Enable Async Mode.\n * @return {Component} The component to be rendered.\n */\nexport default Provider;\n", "/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Context } from './context';\n\nexport default function useAsyncMode() {\n\treturn useContext( Context );\n}\n", "/**\n * WordPress dependencies\n */\nimport { createQueue } from '@wordpress/priority-queue';\nimport {\n\tuseRef,\n\tuseCallback,\n\tuseMemo,\n\tuseSyncExternalStore,\n\tuseDebugValue,\n} from '@wordpress/element';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\n\n/**\n * Internal dependencies\n */\nimport useRegistry from '../registry-provider/use-registry';\nimport useAsyncMode from '../async-mode-provider/use-async-mode';\n\nconst renderQueue = createQueue();\n\nfunction warnOnUnstableReference( a, b ) {\n\tif ( ! a || ! b ) {\n\t\treturn;\n\t}\n\n\tconst keys =\n\t\ttypeof a === 'object' && typeof b === 'object'\n\t\t\t? Object.keys( a ).filter( ( k ) => a[ k ] !== b[ k ] )\n\t\t\t: [];\n\n\t// eslint-disable-next-line no-console\n\tconsole.warn(\n\t\t'The `useSelect` hook returns different values when called with the same state and parameters.\\n' +\n\t\t\t'This can lead to unnecessary re-renders and performance issues if not fixed.\\n\\n' +\n\t\t\t'Non-equal value keys: %s\\n\\n',\n\t\tkeys.join( ', ' )\n\t);\n}\n\n/**\n * @typedef {import('../../types').StoreDescriptor<C>} StoreDescriptor\n * @template {import('../../types').AnyConfig} C\n */\n/**\n * @typedef {import('../../types').ReduxStoreConfig<State,Actions,Selectors>} ReduxStoreConfig\n * @template State\n * @template {Record<string,import('../../types').ActionCreator>} Actions\n * @template Selectors\n */\n/** @typedef {import('../../types').MapSelect} MapSelect */\n/**\n * @typedef {import('../../types').UseSelectReturn<T>} UseSelectReturn\n * @template {MapSelect|StoreDescriptor<any>} T\n */\n\nfunction Store( registry, suspense ) {\n\tconst select = suspense ? registry.suspendSelect : registry.select;\n\tconst queueContext = {};\n\tlet lastMapSelect;\n\tlet lastMapResult;\n\tlet lastMapResultValid = false;\n\tlet lastIsAsync;\n\tlet subscriber;\n\tlet didWarnUnstableReference;\n\tconst storeStatesOnMount = new Map();\n\n\tfunction getStoreState( name ) {\n\t\t// If there's no store property (custom generic store), return an empty\n\t\t// object. When comparing the state, the empty objects will cause the\n\t\t// equality check to fail, setting `lastMapResultValid` to false.\n\t\treturn registry.stores[ name ]?.store?.getState?.() ?? {};\n\t}\n\n\tconst createSubscriber = ( stores ) => {\n\t\t// The set of stores the `subscribe` function is supposed to subscribe to. Here it is\n\t\t// initialized, and then the `updateStores` function can add new stores to it.\n\t\tconst activeStores = [ ...stores ];\n\n\t\t// The `subscribe` function, which is passed to the `useSyncExternalStore` hook, could\n\t\t// be called multiple times to establish multiple subscriptions. That's why we need to\n\t\t// keep a set of active subscriptions;\n\t\tconst activeSubscriptions = new Set();\n\n\t\tfunction subscribe( listener ) {\n\t\t\t// Maybe invalidate the value right after subscription was created.\n\t\t\t// React will call `getValue` after subscribing, to detect store\n\t\t\t// updates that happened in the interval between the `getValue` call\n\t\t\t// during render and creating the subscription, which is slightly\n\t\t\t// delayed. We need to ensure that this second `getValue` call will\n\t\t\t// compute a fresh value only if any of the store states have\n\t\t\t// changed in the meantime.\n\t\t\tif ( lastMapResultValid ) {\n\t\t\t\tfor ( const name of activeStores ) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tstoreStatesOnMount.get( name ) !== getStoreState( name )\n\t\t\t\t\t) {\n\t\t\t\t\t\tlastMapResultValid = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstoreStatesOnMount.clear();\n\n\t\t\tconst onStoreChange = () => {\n\t\t\t\t// Invalidate the value on store update, so that a fresh value is computed.\n\t\t\t\tlastMapResultValid = false;\n\t\t\t\tlistener();\n\t\t\t};\n\n\t\t\tconst onChange = () => {\n\t\t\t\tif ( lastIsAsync ) {\n\t\t\t\t\trenderQueue.add( queueContext, onStoreChange );\n\t\t\t\t} else {\n\t\t\t\t\tonStoreChange();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst unsubs = [];\n\t\t\tfunction subscribeStore( storeName ) {\n\t\t\t\tunsubs.push( registry.subscribe( onChange, storeName ) );\n\t\t\t}\n\n\t\t\tfor ( const storeName of activeStores ) {\n\t\t\t\tsubscribeStore( storeName );\n\t\t\t}\n\n\t\t\tactiveSubscriptions.add( subscribeStore );\n\n\t\t\treturn () => {\n\t\t\t\tactiveSubscriptions.delete( subscribeStore );\n\n\t\t\t\tfor ( const unsub of unsubs.values() ) {\n\t\t\t\t\t// The return value of the subscribe function could be undefined if the store is a custom generic store.\n\t\t\t\t\tunsub?.();\n\t\t\t\t}\n\t\t\t\t// Cancel existing store updates that were already scheduled.\n\t\t\t\trenderQueue.cancel( queueContext );\n\t\t\t};\n\t\t}\n\n\t\t// Check if `newStores` contains some stores we're not subscribed to yet, and add them.\n\t\tfunction updateStores( newStores ) {\n\t\t\tfor ( const newStore of newStores ) {\n\t\t\t\tif ( activeStores.includes( newStore ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// New `subscribe` calls will subscribe to `newStore`, too.\n\t\t\t\tactiveStores.push( newStore );\n\n\t\t\t\t// Add `newStore` to existing subscriptions.\n\t\t\t\tfor ( const subscription of activeSubscriptions ) {\n\t\t\t\t\tsubscription( newStore );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn { subscribe, updateStores };\n\t};\n\n\treturn ( mapSelect, isAsync ) => {\n\t\tfunction updateValue() {\n\t\t\t// If the last value is valid, and the `mapSelect` callback hasn't changed,\n\t\t\t// then we can safely return the cached value. The value can change only on\n\t\t\t// store update, and in that case value will be invalidated by the listener.\n\t\t\tif ( lastMapResultValid && mapSelect === lastMapSelect ) {\n\t\t\t\treturn lastMapResult;\n\t\t\t}\n\n\t\t\tconst listeningStores = { current: null };\n\t\t\tconst mapResult = registry.__unstableMarkListeningStores(\n\t\t\t\t() => mapSelect( select, registry ),\n\t\t\t\tlisteningStores\n\t\t\t);\n\n\t\t\tif ( globalThis.SCRIPT_DEBUG ) {\n\t\t\t\tif ( ! didWarnUnstableReference ) {\n\t\t\t\t\tconst secondMapResult = mapSelect( select, registry );\n\t\t\t\t\tif ( ! isShallowEqual( mapResult, secondMapResult ) ) {\n\t\t\t\t\t\twarnOnUnstableReference( mapResult, secondMapResult );\n\t\t\t\t\t\tdidWarnUnstableReference = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( ! subscriber ) {\n\t\t\t\tfor ( const name of listeningStores.current ) {\n\t\t\t\t\tstoreStatesOnMount.set( name, getStoreState( name ) );\n\t\t\t\t}\n\t\t\t\tsubscriber = createSubscriber( listeningStores.current );\n\t\t\t} else {\n\t\t\t\tsubscriber.updateStores( listeningStores.current );\n\t\t\t}\n\n\t\t\t// If the new value is shallow-equal to the old one, keep the old one so\n\t\t\t// that we don't trigger unwanted updates that do a `===` check.\n\t\t\tif ( ! isShallowEqual( lastMapResult, mapResult ) ) {\n\t\t\t\tlastMapResult = mapResult;\n\t\t\t}\n\t\t\tlastMapSelect = mapSelect;\n\t\t\tlastMapResultValid = true;\n\t\t}\n\n\t\tfunction getValue() {\n\t\t\t// Update the value in case it's been invalidated or `mapSelect` has changed.\n\t\t\tupdateValue();\n\t\t\treturn lastMapResult;\n\t\t}\n\n\t\t// When transitioning from async to sync mode, cancel existing store updates\n\t\t// that have been scheduled, and invalidate the value so that it's freshly\n\t\t// computed. It might have been changed by the update we just cancelled.\n\t\tif ( lastIsAsync && ! isAsync ) {\n\t\t\tlastMapResultValid = false;\n\t\t\trenderQueue.cancel( queueContext );\n\t\t}\n\n\t\tupdateValue();\n\n\t\tlastIsAsync = isAsync;\n\n\t\t// Return a pair of functions that can be passed to `useSyncExternalStore`.\n\t\treturn { subscribe: subscriber.subscribe, getValue };\n\t};\n}\n\nfunction _useStaticSelect( storeName ) {\n\treturn useRegistry().select( storeName );\n}\n\nfunction _useMappingSelect( suspense, mapSelect, deps ) {\n\tconst registry = useRegistry();\n\tconst isAsync = useAsyncMode();\n\tconst store = useMemo(\n\t\t() => Store( registry, suspense ),\n\t\t[ registry, suspense ]\n\t);\n\n\t// These are \"pass-through\" dependencies from the parent hook,\n\t// and the parent should catch any hook rule violations.\n\tconst selector = useCallback( mapSelect, deps );\n\tconst { subscribe, getValue } = store( selector, isAsync );\n\tconst result = useSyncExternalStore( subscribe, getValue, getValue );\n\tuseDebugValue( result );\n\treturn result;\n}\n\n/**\n * Custom react hook for retrieving props from registered selectors.\n *\n * In general, this custom React hook follows the\n * [rules of hooks](https://react.dev/reference/rules/rules-of-hooks).\n *\n * @template {MapSelect | StoreDescriptor<any>} T\n * @param {T}         mapSelect Function called on every state change. The returned value is\n *                              exposed to the component implementing this hook. The function\n *                              receives the `registry.select` method on the first argument\n *                              and the `registry` on the second argument.\n *                              When a store key is passed, all selectors for the store will be\n *                              returned. This is only meant for usage of these selectors in event\n *                              callbacks, not for data needed to create the element tree.\n * @param {unknown[]} deps      If provided, this memoizes the mapSelect so the same `mapSelect` is\n *                              invoked on every state change unless the dependencies change.\n *\n * @example\n * ```js\n * import { useSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * function HammerPriceDisplay( { currency } ) {\n *   const price = useSelect( ( select ) => {\n *     return select( myCustomStore ).getPrice( 'hammer', currency );\n *   }, [ currency ] );\n *   return new Intl.NumberFormat( 'en-US', {\n *     style: 'currency',\n *     currency,\n *   } ).format( price );\n * }\n *\n * // Rendered in the application:\n * // <HammerPriceDisplay currency=\"USD\" />\n * ```\n *\n * In the above example, when `HammerPriceDisplay` is rendered into an\n * application, the price will be retrieved from the store state using the\n * `mapSelect` callback on `useSelect`. If the currency prop changes then\n * any price in the state for that currency is retrieved. If the currency prop\n * doesn't change and other props are passed in that do change, the price will\n * not change because the dependency is just the currency.\n *\n * When data is only used in an event callback, the data should not be retrieved\n * on render, so it may be useful to get the selectors function instead.\n *\n * **Don't use `useSelect` this way when calling the selectors in the render\n * function because your component won't re-render on a data change.**\n *\n * ```js\n * import { useSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * function Paste( { children } ) {\n *   const { getSettings } = useSelect( myCustomStore );\n *   function onPaste() {\n *     // Do something with the settings.\n *     const settings = getSettings();\n *   }\n *   return <div onPaste={ onPaste }>{ children }</div>;\n * }\n * ```\n * @return {UseSelectReturn<T>} A custom react hook.\n */\nexport default function useSelect( mapSelect, deps ) {\n\t// On initial call, on mount, determine the mode of this `useSelect` call\n\t// and then never allow it to change on subsequent updates.\n\tconst staticSelectMode = typeof mapSelect !== 'function';\n\tconst staticSelectModeRef = useRef( staticSelectMode );\n\n\tif ( staticSelectMode !== staticSelectModeRef.current ) {\n\t\tconst prevMode = staticSelectModeRef.current ? 'static' : 'mapping';\n\t\tconst nextMode = staticSelectMode ? 'static' : 'mapping';\n\t\tthrow new Error(\n\t\t\t`Switching useSelect from ${ prevMode } to ${ nextMode } is not allowed`\n\t\t);\n\t}\n\n\t// `staticSelectMode` is not allowed to change during the hook instance's,\n\t// lifetime, so the rules of hooks are not really violated.\n\treturn staticSelectMode\n\t\t? _useStaticSelect( mapSelect )\n\t\t: _useMappingSelect( false, mapSelect, deps );\n}\n\n/**\n * A variant of the `useSelect` hook that has the same API, but is a compatible\n * Suspense-enabled data source.\n *\n * @template {MapSelect} T\n * @param {T}     mapSelect Function called on every state change. The\n *                          returned value is exposed to the component\n *                          using this hook. The function receives the\n *                          `registry.suspendSelect` method as the first\n *                          argument and the `registry` as the second one.\n * @param {Array} deps      A dependency array used to memoize the `mapSelect`\n *                          so that the same `mapSelect` is invoked on every\n *                          state change unless the dependencies change.\n *\n * @throws {Promise} A suspense Promise that is thrown if any of the called\n * selectors is in an unresolved state.\n *\n * @return {ReturnType<T>} Data object returned by the `mapSelect` function.\n */\nexport function useSuspenseSelect( mapSelect, deps ) {\n\treturn _useMappingSelect( true, mapSelect, deps );\n}\n", "/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent, pure } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport useSelect from '../use-select';\n\n/** @typedef {import('react').ComponentType} ComponentType */\n\n/**\n * Higher-order component used to inject state-derived props using registered\n * selectors.\n *\n * @param {Function} mapSelectToProps Function called on every state change,\n *                                    expected to return object of props to\n *                                    merge with the component's own props.\n *\n * @example\n * ```js\n * import { withSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * function PriceDisplay( { price, currency } ) {\n * \treturn new Intl.NumberFormat( 'en-US', {\n * \t\tstyle: 'currency',\n * \t\tcurrency,\n * \t} ).format( price );\n * }\n *\n * const HammerPriceDisplay = withSelect( ( select, ownProps ) => {\n * \tconst { getPrice } = select( myCustomStore );\n * \tconst { currency } = ownProps;\n *\n * \treturn {\n * \t\tprice: getPrice( 'hammer', currency ),\n * \t};\n * } )( PriceDisplay );\n *\n * // Rendered in the application:\n * //\n * //  <HammerPriceDisplay currency=\"USD\" />\n * ```\n * In the above example, when `HammerPriceDisplay` is rendered into an\n * application, it will pass the price into the underlying `PriceDisplay`\n * component and update automatically if the price of a hammer ever changes in\n * the store.\n *\n * @return {ComponentType} Enhanced component with merged state data props.\n */\nconst withSelect = ( mapSelectToProps ) =>\n\tcreateHigherOrderComponent(\n\t\t( WrappedComponent ) =>\n\t\t\tpure( ( ownProps ) => {\n\t\t\t\tconst mapSelect = ( select, registry ) =>\n\t\t\t\t\tmapSelectToProps( select, ownProps, registry );\n\t\t\t\tconst mergeProps = useSelect( mapSelect );\n\t\t\t\treturn <WrappedComponent { ...ownProps } { ...mergeProps } />;\n\t\t\t} ),\n\t\t'withSelect'\n\t);\n\nexport default withSelect;\n", "/**\n * Internal dependencies\n */\nimport useRegistry from '../registry-provider/use-registry';\n\n/**\n * @typedef {import('../../types').StoreDescriptor<StoreConfig>} StoreDescriptor\n * @template {import('../../types').AnyConfig} StoreConfig\n */\n/**\n * @typedef {import('../../types').UseDispatchReturn<StoreNameOrDescriptor>} UseDispatchReturn\n * @template StoreNameOrDescriptor\n */\n\n/**\n * A custom react hook returning the current registry dispatch actions creators.\n *\n * Note: The component using this hook must be within the context of a\n * RegistryProvider.\n *\n * @template {undefined | string | StoreDescriptor<any>} StoreNameOrDescriptor\n * @param {StoreNameOrDescriptor} [storeNameOrDescriptor] Optionally provide the name of the\n *                                                        store or its descriptor from which to\n *                                                        retrieve action creators. If not\n *                                                        provided, the registry.dispatch\n *                                                        function is returned instead.\n *\n * @example\n * This illustrates a pattern where you may need to retrieve dynamic data from\n * the server via the `useSelect` hook to use in combination with the dispatch\n * action.\n *\n * ```jsx\n * import { useCallback } from 'react';\n * import { useDispatch, useSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * function Button( { onClick, children } ) {\n *   return <button type=\"button\" onClick={ onClick }>{ children }</button>\n * }\n *\n * const SaleButton = ( { children } ) => {\n *   const { stockNumber } = useSelect(\n *     ( select ) => select( myCustomStore ).getStockNumber(),\n *     []\n *   );\n *   const { startSale } = useDispatch( myCustomStore );\n *   const onClick = useCallback( () => {\n *     const discountPercent = stockNumber > 50 ? 10: 20;\n *     startSale( discountPercent );\n *   }, [ stockNumber ] );\n *   return <Button onClick={ onClick }>{ children }</Button>\n * }\n *\n * // Rendered somewhere in the application:\n * //\n * // <SaleButton>Start Sale!</SaleButton>\n * ```\n * @return {UseDispatchReturn<StoreNameOrDescriptor>} A custom react hook.\n */\nconst useDispatch = ( storeNameOrDescriptor ) => {\n\tconst { dispatch } = useRegistry();\n\treturn storeNameOrDescriptor === void 0\n\t\t? dispatch\n\t\t: dispatch( storeNameOrDescriptor );\n};\n\nexport default useDispatch;\n", "/**\n * WordPress dependencies\n */\nimport { useMemo, useRef } from '@wordpress/element';\nimport { useIsomorphicLayoutEffect } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport useRegistry from '../registry-provider/use-registry';\n\n/**\n * Custom react hook for returning aggregate dispatch actions using the provided\n * dispatchMap.\n *\n * Currently this is an internal api only and is implemented by `withDispatch`\n *\n * @param {Function} dispatchMap Receives the `registry.dispatch` function as\n *                               the first argument and the `registry` object\n *                               as the second argument.  Should return an\n *                               object mapping props to functions.\n * @param {Array}    deps        An array of dependencies for the hook.\n * @return {Object}  An object mapping props to functions created by the passed\n *                   in dispatchMap.\n */\nconst useDispatchWithMap = ( dispatchMap, deps ) => {\n\tconst registry = useRegistry();\n\tconst currentDispatchMapRef = useRef( dispatchMap );\n\n\tuseIsomorphicLayoutEffect( () => {\n\t\tcurrentDispatchMapRef.current = dispatchMap;\n\t} );\n\n\treturn useMemo( () => {\n\t\tconst currentDispatchProps = currentDispatchMapRef.current(\n\t\t\tregistry.dispatch,\n\t\t\tregistry\n\t\t);\n\t\treturn Object.fromEntries(\n\t\t\tObject.entries( currentDispatchProps ).map(\n\t\t\t\t( [ propName, dispatcher ] ) => {\n\t\t\t\t\tif ( typeof dispatcher !== 'function' ) {\n\t\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t\t`Property ${ propName } returned from dispatchMap in useDispatchWithMap must be a function.`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn [\n\t\t\t\t\t\tpropName,\n\t\t\t\t\t\t( ...args ) =>\n\t\t\t\t\t\t\tcurrentDispatchMapRef\n\t\t\t\t\t\t\t\t.current( registry.dispatch, registry )\n\t\t\t\t\t\t\t\t[ propName ]( ...args ),\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t}, [ registry, ...deps ] );\n};\n\nexport default useDispatchWithMap;\n", "/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { useDispatchWithMap } from '../use-dispatch';\n\n/** @typedef {import('react').ComponentType} ComponentType */\n\n/**\n * Higher-order component used to add dispatch props using registered action\n * creators.\n *\n * @param {Function} mapDispatchToProps A function of returning an object of\n *                                      prop names where value is a\n *                                      dispatch-bound action creator, or a\n *                                      function to be called with the\n *                                      component's props and returning an\n *                                      action creator.\n *\n * @example\n * ```jsx\n * function Button( { onClick, children } ) {\n *     return <button type=\"button\" onClick={ onClick }>{ children }</button>;\n * }\n *\n * import { withDispatch } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * const SaleButton = withDispatch( ( dispatch, ownProps ) => {\n *     const { startSale } = dispatch( myCustomStore );\n *     const { discountPercent } = ownProps;\n *\n *     return {\n *         onClick() {\n *             startSale( discountPercent );\n *         },\n *     };\n * } )( Button );\n *\n * // Rendered in the application:\n * //\n * // <SaleButton discountPercent=\"20\">Start Sale!</SaleButton>\n * ```\n *\n * @example\n * In the majority of cases, it will be sufficient to use only two first params\n * passed to `mapDispatchToProps` as illustrated in the previous example.\n * However, there might be some very advanced use cases where using the\n * `registry` object might be used as a tool to optimize the performance of\n * your component. Using `select` function from the registry might be useful\n * when you need to fetch some dynamic data from the store at the time when the\n * event is fired, but at the same time, you never use it to render your\n * component. In such scenario, you can avoid using the `withSelect` higher\n * order component to compute such prop, which might lead to unnecessary\n * re-renders of your component caused by its frequent value change.\n * Keep in mind, that `mapDispatchToProps` must return an object with functions\n * only.\n *\n * ```jsx\n * function Button( { onClick, children } ) {\n *     return <button type=\"button\" onClick={ onClick }>{ children }</button>;\n * }\n *\n * import { withDispatch } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * const SaleButton = withDispatch( ( dispatch, ownProps, { select } ) => {\n *    // Stock number changes frequently.\n *    const { getStockNumber } = select( myCustomStore );\n *    const { startSale } = dispatch( myCustomStore );\n *    return {\n *        onClick() {\n *            const discountPercent = getStockNumber() > 50 ? 10 : 20;\n *            startSale( discountPercent );\n *        },\n *    };\n * } )( Button );\n *\n * // Rendered in the application:\n * //\n * //  <SaleButton>Start Sale!</SaleButton>\n * ```\n *\n * _Note:_ It is important that the `mapDispatchToProps` function always\n * returns an object with the same keys. For example, it should not contain\n * conditions under which a different value would be returned.\n *\n * @return {ComponentType} Enhanced component with merged dispatcher props.\n */\nconst withDispatch = ( mapDispatchToProps ) =>\n\tcreateHigherOrderComponent(\n\t\t( WrappedComponent ) => ( ownProps ) => {\n\t\t\tconst mapDispatch = ( dispatch, registry ) =>\n\t\t\t\tmapDispatchToProps( dispatch, ownProps, registry );\n\t\t\tconst dispatchProps = useDispatchWithMap( mapDispatch, [] );\n\t\t\treturn <WrappedComponent { ...ownProps } { ...dispatchProps } />;\n\t\t},\n\t\t'withDispatch'\n\t);\n\nexport default withDispatch;\n", "/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { RegistryConsumer } from '../registry-provider';\n\n/**\n * Higher-order component which renders the original component with the current\n * registry context passed as its `registry` prop.\n *\n * @param {Component} OriginalComponent Original component.\n *\n * @return {Component} Enhanced component.\n */\nconst withRegistry = createHigherOrderComponent(\n\t( OriginalComponent ) => ( props ) => (\n\t\t<RegistryConsumer>\n\t\t\t{ ( registry ) => (\n\t\t\t\t<OriginalComponent { ...props } registry={ registry } />\n\t\t\t) }\n\t\t</RegistryConsumer>\n\t),\n\t'withRegistry'\n);\n\nexport default withRegistry;\n", "/**\n * Internal dependencies\n */\nimport type { AnyConfig, StoreDescriptor, DispatchReturn } from './types';\nimport defaultRegistry from './default-registry';\n\n/**\n * Given a store descriptor, returns an object of the store's action creators.\n * Calling an action creator will cause it to be dispatched, updating the state value accordingly.\n *\n * Note: Action creators returned by the dispatch will return a promise when\n * they are called.\n *\n * @param storeNameOrDescriptor The store descriptor. The legacy calling convention of passing\n *                              the store name is also supported.\n *\n * @example\n * ```js\n * import { dispatch } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * dispatch( myCustomStore ).setPrice( 'hammer', 9.75 );\n * ```\n * @return Object containing the action creators.\n */\nexport function dispatch<\n\tStoreNameOrDescriptor extends StoreDescriptor< AnyConfig > | string,\n>(\n\tstoreNameOrDescriptor: StoreNameOrDescriptor\n): DispatchReturn< StoreNameOrDescriptor > {\n\treturn defaultRegistry.dispatch( storeNameOrDescriptor );\n}\n", "/**\n * Internal dependencies\n */\nimport type { AnyConfig, CurriedSelectorsOf, StoreDescriptor } from './types';\nimport defaultRegistry from './default-registry';\n\n/**\n * Given a store descriptor, returns an object of the store's selectors.\n * The selector functions are been pre-bound to pass the current state automatically.\n * As a consumer, you need only pass arguments of the selector, if applicable.\n *\n *\n * @param storeNameOrDescriptor The store descriptor. The legacy calling convention\n *                              of passing the store name is also supported.\n *\n * @example\n * ```js\n * import { select } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * select( myCustomStore ).getPrice( 'hammer' );\n * ```\n *\n * @return Object containing the store's selectors.\n */\nexport function select< T extends StoreDescriptor< AnyConfig > >(\n\tstoreNameOrDescriptor: string | T\n): CurriedSelectorsOf< T > {\n\treturn defaultRegistry.select( storeNameOrDescriptor );\n}\n", "/**\n * Internal dependencies\n */\nimport defaultRegistry from './default-registry';\nimport * as plugins from './plugins';\nimport { combineReducers as combineReducersModule } from './redux-store';\n\n/** @typedef {import('./types').StoreDescriptor} StoreDescriptor */\n\nexport { default as withSelect } from './components/with-select';\nexport { default as withDispatch } from './components/with-dispatch';\nexport { default as withRegistry } from './components/with-registry';\nexport {\n\tRegistryProvider,\n\tRegistryConsumer,\n\tuseRegistry,\n} from './components/registry-provider';\nexport {\n\tdefault as useSelect,\n\tuseSuspenseSelect,\n} from './components/use-select';\nexport { useDispatch } from './components/use-dispatch';\nexport { AsyncModeProvider } from './components/async-mode-provider';\nexport { createRegistry } from './registry';\nexport { createRegistrySelector, createRegistryControl } from './factory';\nexport { createSelector } from './create-selector';\nexport { controls } from './controls';\nexport { default as createReduxStore } from './redux-store';\nexport { dispatch } from './dispatch';\nexport { select } from './select';\n\n/**\n * Object of available plugins to use with a registry.\n *\n * @see [use](#use)\n *\n * @type {Object}\n */\nexport { plugins };\n\n/**\n * The combineReducers helper function turns an object whose values are different\n * reducing functions into a single reducing function you can pass to registerReducer.\n *\n * @type  {import('./types').combineReducers}\n * @param {Object} reducers An object whose values correspond to different reducing\n *                          functions that need to be combined into one.\n *\n * @example\n * ```js\n * import { combineReducers, createReduxStore, register } from '@wordpress/data';\n *\n * const prices = ( state = {}, action ) => {\n * \treturn action.type === 'SET_PRICE' ?\n * \t\t{\n * \t\t\t...state,\n * \t\t\t[ action.item ]: action.price,\n * \t\t} :\n * \t\tstate;\n * };\n *\n * const discountPercent = ( state = 0, action ) => {\n * \treturn action.type === 'START_SALE' ?\n * \t\taction.discountPercent :\n * \t\tstate;\n * };\n *\n * const store = createReduxStore( 'my-shop', {\n * \treducer: combineReducers( {\n * \t\tprices,\n * \t\tdiscountPercent,\n * \t} ),\n * } );\n * register( store );\n * ```\n *\n * @return {Function} A reducer that invokes every reducer inside the reducers\n *                    object, and constructs a state object with the same shape.\n */\nexport const combineReducers = combineReducersModule;\n\n/**\n * Given a store descriptor, returns an object containing the store's selectors pre-bound to state\n * so that you only need to supply additional arguments, and modified so that they return promises\n * that resolve to their eventual values, after any resolvers have ran.\n *\n * @param {StoreDescriptor|string} storeNameOrDescriptor The store descriptor. The legacy calling\n *                                                       convention of passing the store name is\n *                                                       also supported.\n *\n * @example\n * ```js\n * import { resolveSelect } from '@wordpress/data';\n * import { store as myCustomStore } from 'my-custom-store';\n *\n * resolveSelect( myCustomStore ).getPrice( 'hammer' ).then(console.log)\n * ```\n *\n * @return {Object} Object containing the store's promise-wrapped selectors.\n */\nexport const resolveSelect = defaultRegistry.resolveSelect;\n\n/**\n * Given a store descriptor, returns an object containing the store's selectors pre-bound to state\n * so that you only need to supply additional arguments, and modified so that they throw promises\n * in case the selector is not resolved yet.\n *\n * @param {StoreDescriptor|string} storeNameOrDescriptor The store descriptor. The legacy calling\n *                                                       convention of passing the store name is\n *                                                       also supported.\n *\n * @return {Object} Object containing the store's suspense-wrapped selectors.\n */\nexport const suspendSelect = defaultRegistry.suspendSelect;\n\n/**\n * Given a listener function, the function will be called any time the state value\n * of one of the registered stores has changed. If you specify the optional\n * `storeNameOrDescriptor` parameter, the listener function will be called only\n * on updates on that one specific registered store.\n *\n * This function returns an `unsubscribe` function used to stop the subscription.\n *\n * @param {Function}                listener              Callback function.\n * @param {string|StoreDescriptor?} storeNameOrDescriptor Optional store name.\n *\n * @example\n * ```js\n * import { subscribe } from '@wordpress/data';\n *\n * const unsubscribe = subscribe( () => {\n * \t// You could use this opportunity to test whether the derived result of a\n * \t// selector has subsequently changed as the result of a state update.\n * } );\n *\n * // Later, if necessary...\n * unsubscribe();\n * ```\n */\nexport const subscribe = defaultRegistry.subscribe;\n\n/**\n * Registers a generic store instance.\n *\n * @deprecated Use `register( storeDescriptor )` instead.\n *\n * @param {string} name  Store registry name.\n * @param {Object} store Store instance (`{ getSelectors, getActions, subscribe }`).\n */\nexport const registerGenericStore = defaultRegistry.registerGenericStore;\n\n/**\n * Registers a standard `@wordpress/data` store.\n *\n * @deprecated Use `register` instead.\n *\n * @param {string} storeName Unique namespace identifier for the store.\n * @param {Object} options   Store description (reducer, actions, selectors, resolvers).\n *\n * @return {Object} Registered store object.\n */\nexport const registerStore = defaultRegistry.registerStore;\n\n/**\n * Extends a registry to inherit functionality provided by a given plugin. A\n * plugin is an object with properties aligning to that of a registry, merged\n * to extend the default registry behavior.\n *\n * @param {Object} plugin Plugin object.\n */\nexport const use = defaultRegistry.use;\n\n/**\n * Registers a standard `@wordpress/data` store descriptor.\n *\n * @example\n * ```js\n * import { createReduxStore, register } from '@wordpress/data';\n *\n * const store = createReduxStore( 'demo', {\n *     reducer: ( state = 'OK' ) => state,\n *     selectors: {\n *         getValue: ( state ) => state,\n *     },\n * } );\n * register( store );\n * ```\n *\n * @param {StoreDescriptor} store Store descriptor.\n */\nexport const register = defaultRegistry.register;\n"],
  "mappings": "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,IAAK;AACvDL,iBAAWI;IACZ;EACD,CAAE;AAIF,aAAOE,4BAAe,OAAO;IAC5BC,yBAAyB;MAAEC,QAAQR;IAAQ;IAC3C,GAAGD;EACJ,CAAE;AACH;;;ACFA,IAAMU,cAAUC,4BAAeC,MAAU;AACzCF,QAAQG,cAAc;AA4BtB,IAAM;EAAEC;EAAUC;AAAS,IAAIL;AAE/B,IAAMM,iBAAaC,yBAAY,MAAM;AACpC,SAAO;AACR,CAAE;AAKF,IAAMC,mBAAmB,oBAAIC,IAAe,CAAE,UAAU,WAAW,QAAQ,CAAG;AAK9E,IAAMC,oBAAoB,oBAAID,IAAe,CAC5C,QACA,QACA,MACA,OACA,WACA,SACA,MACA,OACA,SACA,UACA,QACA,QACA,SACA,UACA,SACA,KAAK,CACJ;AAeF,IAAME,qBAAqB,oBAAIF,IAAe,CAC7C,mBACA,uBACA,kBACA,SACA,aACA,YACA,WACA,YACA,WACA,SACA,YACA,YACA,kBACA,UACA,SACA,aACA,QACA,YACA,SACA,YACA,cACA,QACA,eACA,YACA,YACA,YACA,YACA,eAAe,CACd;AAoBF,IAAMG,wBAAwB,oBAAIH,IAAe,CAChD,kBACA,gBACA,WACA,mBACA,eACA,YACA,OACA,aACA,WACA,eACA,cACA,cACA,aACA,QACA,UACA,WACA,SACA,SACA,cACA,aACA,QACA,MAAM,CACL;AAkBF,IAAMI,mCAAmC,oBAAIJ,IAAe,CAC3D,aACA,2BACA,iBACA,qBACA,oBACA,oBACA,eACA,MACA,MACA,eACA,YACA,cACA,gBACA,cACA,iBACA,mBACA,cACA,gBACA,cACA,WACA,SACA,WACA,KACA,MACA,MACA,uBACA,eACA,mBACA,oBACA,oBACA,iBACA,eACA,WACA,UACA,KACA,KACA,UACA,MAAM,CACL;AAQK,SAASK,UAAWC,QAAgBC,UAA8B;AACxE,SAAOA,SAASC,KAAQC,YAAYH,OAAOI,QAASD,MAAO,MAAM,CAAE;AACpE;AAOA,SAASE,oBAAqBC,WAA6B;AAC1D,SAAO,UAAUA,aAAa,eAAeA;AAC9C;AAOA,SAASC,wBAAyBD,WAAmBE,OAAkB;AACtE,UAASF,WAAS;IACjB,KAAK;AACJ,aAAOG,YAAaD,KAAM;EAC5B;AAEA,SAAOA;AACR;AAQA,IAAME,iCAA2D,CAChE,gBACA,qBACA,cACA,iBACA,aACA,YACA,YACA,sBACA,6BACA,gBACA,kBACA,oBACA,oBACA,eACA,YACA,cACA,gBACA,cACA,YACA,kBACA,eACA,aACA,eACA,cACA,aACA,8BACA,4BACA,aACA,gBACA,kBACA,iBACA,iBACA,aACA,aACA,eACA,oBACA,qBACA,cACA,WACA,iBACA,mBACA,kBACA,aACA,eACA,yBACA,0BACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,eACA,cACA,kBACA,iBACA,qBACA,sBACA,eACA,gBACA,cACA,eACA,YACA,gBACA,iBACA,gBACA,YACA,eACA,eACA,eACA,eACA,cACA,SAAS,EACRC,OACD,CAAEC,KAAKN,cAAe;AAErBM,MAAKN,UAAUO,YAAY,CAAC,IAAKP;AACjC,SAAOM;AACR,GACA,CAAC,CACF;AAQA,IAAME,gCAA0D,CAC/D,gBACA,iBACA,iBACA,eACA,iBACA,eACA,YACA,iBACA,qBACA,oBACA,mBACA,YACA,6BACA,aACA,eACA,YACA,qBACA,iBACA,gBACA,oBACA,aACA,cACA,YACA,gBACA,qBACA,gBACA,eACA,eACA,oBACA,aACA,cACA,cACA,uBACA,oBACA,gBACA,aACA,aACA,aACA,iBACA,uBACA,kBACA,QACA,QACA,eACA,aACA,sBACA,oBACA,oBACA,oBACA,gBACA,eACA,gBACA,eACA,kCACA,4BACA,gBACA,kBACA,eACA,WACA,WACA,cACA,WACA,cACA,oBACA,kBAAkB,EACjBH,OACD,CAAEC,KAAKN,cAAe;AAErBM,MAAKN,UAAUO,YAAY,CAAC,IAAKP;AACjC,SAAOM;AACR,GACA,CAAC,CACF;AAMA,IAAMG,6BAAuD,CAC5D,iBACA,iBACA,cACA,cACA,cACA,eACA,cACA,YACA,YACA,aACA,aAAa,EACZJ,OACD,CAAEC,KAAKN,cAAe;AACrBM,MAAKN,UAAUU,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",
  "names": ["obj", "EquivalentKeyMap", "all", "error", "fork", "join", "race", "delay", "invoke", "call", "apply", "cps", "subscribe", "createChannel", "next", "subscribe", "any", "error", "object", "gotResultSuccess", "gotResultError", "array", "iterator", "create", "controls", "runtime", "iterate", "yieldValue", "isError", "next", "createDispatcher", "subscribe", "listener", "dispatch", "promise", "fork", "join", "race", "success", "fail", "subscribe", "call", "cps", "__webpack_require__", "ClipboardActionCut", "isRTL", "fakeCopyAction", "ClipboardActionCopy", "_typeof", "obj", "ClipboardActionDefault", "_setPrototypeOf", "o", "p", "_getPrototypeOf", "Clipboard", "action", "module", "listener", "exports", "select", "window", "document", "undefined", "modifiers", "i", "Mousetrap", "method", "throttle", "debounce", "index", "isMergeableObject", "deepmerge", "logged", "Object", "create", "feature", "options", "since", "version", "alternative", "plugin", "link", "hint", "pluginMessage", "sinceMessage", "versionMessage", "useInsteadMessage", "linkMessage", "hintMessage", "message", "doAction", "console", "warn", "isPlainObject", "listener", "subscribe", "dispatch", "createStore", "dispatch", "import_equivalent_key_map", "object", "Symbol", "iterator", "next", "isAction", "object", "isPlainObject", "type", "isActionOfType", "expectedType", "controls", "dispatch", "rungenControls", "Object", "entries", "map", "actionType", "control", "value", "next", "iterate", "yieldNext", "yieldError", "isActionOfType", "routine", "isPromise", "then", "unhandledActionControl", "isAction", "push", "rungenRuntime", "create", "action", "Promise", "resolve", "reject", "result", "controls", "store", "runtime", "createRuntime", "dispatch", "next", "action", "isGenerator", "createHigherOrderComponent", "mapComponent", "modifierName", "Inner", "Outer", "displayName", "hocName", "name", "inner", "outer", "pascalCase", "debounce", "func", "wait", "options", "lastArgs", "lastThis", "maxWait", "result", "timerId", "lastCallTime", "lastInvokeTime", "leading", "maxing", "trailing", "undefined", "Math", "max", "invokeFunc", "time", "args", "thisArg", "apply", "startTimer", "pendingFunc", "waitTime", "setTimeout", "cancelTimer", "clearTimeout", "leadingEdge", "timerExpired", "getTimeSinceLastCall", "remainingWait", "timeSinceLastCall", "timeSinceLastInvoke", "timeWaiting", "min", "shouldInvoke", "Date", "now", "trailingEdge", "clearTimer", "cancel", "flush", "pending", "debounced", "isInvoking", "throttle", "func", "wait", "options", "leading", "trailing", "debounce", "maxWait", "observableMap", "map", "Map", "listeners", "callListeners", "name", "list", "get", "listener", "set", "value", "delete", "subscribe", "Set", "add", "size", "basePipe", "reverse", "funcs", "args", "functions", "flat", "reduce", "prev", "func", "pipe", "pipe", "compose", "basePipe", "ifCondition", "predicate", "createHigherOrderComponent", "WrappedComponent", "props", "_jsx", "a", "b", "aKeys", "Object", "keys", "bKeys", "length", "i", "key", "aValue", "undefined", "hasOwnProperty", "a", "b", "length", "i", "len", "a", "b", "constructor", "Object", "isShallowEqualObjects", "Array", "isArray", "isShallowEqualArrays", "isEmptyElement", "element", "valueOf", "Array", "isArray", "length", "Platform", "OS", "select", "spec", "web", "default", "isWeb", "children", "props", "rawHtml", "Children", "toArray", "forEach", "child", "trim", "createElement", "dangerouslySetInnerHTML", "__html", "Context", "createContext", "undefined", "displayName", "Provider", "Consumer", "ForwardRef", "forwardRef", "ATTRIBUTES_TYPES", "Set", "SELF_CLOSING_TAGS", "BOOLEAN_ATTRIBUTES", "ENUMERATED_ATTRIBUTES", "CSS_PROPERTIES_SUPPORTS_UNITLESS", "hasPrefix", "string", "prefixes", "some", "prefix", "indexOf", "isInternalAttribute", "attribute", "getNormalAttributeValue", "value", "renderStyle", "SVG_ATTRIBUTE_WITH_DASHES_LIST", "reduce", "map", "toLowerCase", "CASE_SENSITIVE_SVG_ATTRIBUTES", "SVG_ATTRIBUTES_WITH_COLONS", "replace", "getNormalAttributeName", "attributeLowerCase", "kebabCase", "getNormalStylePropertyName", "property", "startsWith", "getNormalStylePropertyValue", "has", "renderElement", "element", "context", "legacyContext", "Array", "isArray", "renderChildren", "escapeHTML", "toString", "type", "props", "StrictMode", "Fragment", "children", "RawHTML", "wrapperProps", "renderNativeComponent", "Object", "keys", "length", "dangerouslySetInnerHTML", "__html", "prototype", "render", "renderComponent", "$$typeof", "_currentValue", "content", "hasOwnProperty", "restProps", "attributes", "renderAttributes", "Component", "instance", "getChildContext", "assign", "html", "result", "childrenArray", "i", "child", "key", "isValidAttributeName", "isBooleanAttribute", "isMeaningfulAttribute", "escapeAttribute", "style", "isPlainObject", "styleObj", "normalName", "normalValue", "import_jsx_runtime", "pure", "createHigherOrderComponent", "WrappedComponent", "prototype", "Component", "shouldComponentUpdate", "nextProps", "nextState", "isShallowEqual", "props", "state", "render", "_jsx", "Listener", "constructor", "listeners", "handleEvent", "bind", "add", "eventType", "instance", "window", "addEventListener", "push", "remove", "filter", "listener", "length", "removeEventListener", "event", "type", "forEach", "import_jsx_runtime", "listener", "Listener", "instanceMap", "WeakMap", "createId", "object", "instances", "get", "set", "useInstanceId", "prefix", "preferredId", "useMemo", "id", "import_jsx_runtime", "withInstanceId", "createHigherOrderComponent", "WrappedComponent", "props", "instanceId", "useInstanceId", "_jsx", "import_jsx_runtime", "withSafeTimeout", "createHigherOrderComponent", "OriginalComponent", "WrappedComponent", "Component", "constructor", "props", "timeouts", "setTimeout", "bind", "clearTimeout", "componentWillUnmount", "forEach", "fn", "delay", "id", "push", "filter", "timeoutId", "render", "_jsx", "import_jsx_runtime", "buildSelector", "sequential", "join", "isVisible", "element", "offsetWidth", "offsetHeight", "getClientRects", "length", "isValidFocusableArea", "map", "closest", "img", "ownerDocument", "querySelector", "name", "find", "context", "elements", "querySelectorAll", "Array", "from", "filter", "nodeName", "find", "getTabIndex", "element", "tabIndex", "getAttribute", "parseInt", "isTabbableIndex", "createStatefulCollapseRadioGroup", "CHOSEN_RADIO_BY_NAME", "collapseRadioGroup", "result", "nodeName", "type", "checked", "name", "concat", "hasChosen", "hasOwnProperty", "isChosen", "hadChosenElement", "filter", "e", "mapElementToObjectTabbable", "index", "mapObjectTabbableToElement", "object", "compareObjectTabbables", "a", "b", "aTabIndex", "bTabIndex", "filterTabbable", "focusables", "map", "sort", "reduce", "find", "context", "findFocusable", "findPrevious", "ownerDocument", "body", "reverse", "focusable", "compareDocumentPosition", "DOCUMENT_POSITION_PRECEDING", "findNext", "DOCUMENT_POSITION_FOLLOWING", "assertIsDefined", "val", "name", "undefined", "Error", "range", "collapsed", "rects", "Array", "from", "getClientRects", "length", "filteredRects", "filter", "width", "getBoundingClientRect", "top", "furthestTop", "bottom", "furthestBottom", "left", "furthestLeft", "right", "furthestRight", "window", "DOMRect", "startContainer", "ownerDocument", "nodeName", "parentNode", "assertIsDefined", "index", "childNodes", "indexOf", "createRange", "setStart", "setEnd", "rect", "height", "padNode", "createTextNode", "cloneRange", "insertNode", "removeChild", "win", "selection", "getSelection", "assertIsDefined", "range", "rangeCount", "getRangeAt", "getRectangleFromRange", "doc", "assertIsDefined", "defaultView", "selection", "getSelection", "range", "rangeCount", "getRangeAt", "collapsed", "node", "nodeName", "node", "nonTextInputs", "isHTMLInputElement", "type", "includes", "nodeName", "contentEditable", "element", "isHTMLInputElement", "isTextField", "selectionStart", "selectionEnd", "error", "doc", "documentHasTextSelection", "activeElement", "inputFieldHasUncollapsedSelection", "doc", "activeElement", "isHTMLInputElement", "isTextField", "documentHasTextSelection", "element", "assertIsDefined", "ownerDocument", "defaultView", "getComputedStyle", "node", "direction", "undefined", "scrollHeight", "clientHeight", "overflowY", "getComputedStyle", "test", "scrollWidth", "clientWidth", "overflowX", "ownerDocument", "parentNode", "getScrollContainer", "element", "tagName", "element", "isInputOrTextArea", "selectionStart", "value", "length", "selectionEnd", "isContentEditable", "ownerDocument", "defaultView", "assertIsDefined", "selection", "getSelection", "range", "rangeCount", "getRangeAt", "startContainer", "endContainer", "startOffset", "endOffset", "childNodes", "lastChild", "endContainerContentLength", "nodeType", "TEXT_NODE", "data", "isDeepChild", "query", "container", "propName", "candidate", "element", "tagName", "checkForInputTextarea", "isInputOrTextArea", "element", "getComputedStyle", "direction", "range", "rects", "Array", "from", "getClientRects", "length", "highestTop", "Math", "min", "map", "top", "lowestBottom", "max", "bottom", "selection", "anchorNode", "focusNode", "anchorOffset", "focusOffset", "assertIsDefined", "position", "compareDocumentPosition", "DOCUMENT_POSITION_PRECEDING", "DOCUMENT_POSITION_FOLLOWING", "doc", "x", "y", "caretRangeFromPoint", "caretPositionFromPoint", "point", "range", "createRange", "setStart", "offsetNode", "offset", "collapse", "doc", "x", "y", "container", "originalZIndex", "style", "zIndex", "originalPosition", "position", "getComputedStyle", "range", "caretRangeFromPoint", "scrollIfNoRange", "container", "alignToTop", "callback", "range", "startContainer", "contains", "scrollIntoView", "container", "isReverse", "onlyVertical", "isInputOrTextArea", "selectionStart", "selectionEnd", "value", "length", "isContentEditable", "ownerDocument", "defaultView", "assertIsDefined", "selection", "getSelection", "rangeCount", "range", "getRangeAt", "collapsedRange", "cloneRange", "isForward", "isSelectionForward", "isCollapsed", "collapse", "collapsedRangeRect", "getRectangleFromRange", "rangeRect", "rangeHeight", "getRangeHeight", "height", "isReverseDir", "isRTL", "containerRect", "getBoundingClientRect", "x", "left", "right", "y", "top", "bottom", "testRange", "scrollIfNoRange", "hiddenCaretRangeFromPoint", "testRect", "verticalSide", "horizontalSide", "verticalDiff", "horizontalDiff", "hasVerticalDiff", "Math", "abs", "hasHorizontalDiff", "container", "isReverse", "isEdge", "container", "isReverse", "isEdge", "getRange", "container", "isReverse", "x", "ownerDocument", "isReverseDir", "isRTL", "containerRect", "getBoundingClientRect", "undefined", "right", "left", "y", "bottom", "top", "hiddenCaretRangeFromPoint", "focus", "isInputOrTextArea", "selectionStart", "value", "length", "selectionEnd", "isContentEditable", "range", "scrollIfNoRange", "defaultView", "assertIsDefined", "selection", "getSelection", "removeAllRanges", "addRange", "container", "isReverse", "placeCaretAtEdge", "undefined", "container", "isReverse", "rect", "placeCaretAtEdge", "left", "newNode", "referenceNode", "assertIsDefined", "parentNode", "insertBefore", "nextSibling", "node", "assertIsDefined", "parentNode", "removeChild", "processedNode", "newNode", "assertIsDefined", "parentNode", "insertAfter", "remove", "node", "parent", "parentNode", "assertIsDefined", "firstChild", "insertBefore", "removeChild", "node", "tagName", "newNode", "ownerDocument", "createElement", "firstChild", "appendChild", "assertIsDefined", "parentNode", "replaceChild", "newNode", "referenceNode", "assertIsDefined", "parentNode", "insertBefore", "appendChild", "html", "body", "document", "implementation", "createHTMLDocument", "innerHTML", "elements", "getElementsByTagName", "elementIndex", "length", "element", "tagName", "remove", "attributeIndex", "attributes", "name", "key", "startsWith", "removeAttribute", "html", "safeHTML", "doc", "document", "implementation", "createHTMLDocument", "body", "innerHTML", "textContent", "element", "nodeType", "TEXT_NODE", "test", "nodeValue", "ELEMENT_NODE", "hasAttributes", "hasChildNodes", "Array", "from", "childNodes", "every", "isEmpty", "textContentSchema", "strong", "em", "s", "del", "ins", "a", "attributes", "code", "abbr", "sub", "sup", "br", "small", "q", "dfn", "data", "time", "var", "samp", "kbd", "i", "b", "u", "mark", "ruby", "rt", "rp", "bdi", "bdo", "wbr", "excludedElements", "Object", "keys", "filter", "element", "includes", "forEach", "tag", "removedTag", "restSchema", "children", "embeddedContentSchema", "audio", "canvas", "embed", "img", "object", "video", "phrasingContentSchema", "getPhrasingContentSchema", "context", "remainingContentSchema", "isPhrasingContent", "node", "nodeName", "toLowerCase", "hasOwnProperty", "isTextContent", "node", "nodeType", "ELEMENT_NODE", "noop", "nodeList", "doc", "schema", "inline", "Array", "from", "forEach", "node", "tag", "nodeName", "toLowerCase", "hasOwnProperty", "isMatch", "isElement", "attributes", "classes", "children", "require", "allowEmpty", "isEmpty", "remove", "hasAttributes", "name", "includes", "removeAttribute", "classList", "length", "mattchers", "map", "item", "className", "RegExp", "test", "some", "hasChildNodes", "querySelector", "join", "cleanNodeList", "childNodes", "unwrap", "parentNode", "isPhrasingContent", "child", "firstChild", "nextElementSibling", "insertAfter", "createElement", "HTML", "schema", "inline", "doc", "document", "implementation", "createHTMLDocument", "body", "innerHTML", "cleanNodeList", "childNodes", "getFilesFromDataTransfer", "dataTransfer", "files", "Array", "from", "items", "forEach", "item", "file", "getAsFile", "find", "name", "type", "size", "push", "focus", "focusable", "tabbable", "callback", "dependencies", "cleanupRef", "useRef", "useCallback", "node", "current", "useConstrainedTabbing", "useRefEffect", "node", "onKeyDown", "event", "key", "shiftKey", "target", "action", "nextElement", "focus", "tabbable", "contains", "preventDefault", "domAction", "ownerDocument", "trap", "createElement", "tabIndex", "addEventListener", "removeChild", "removeEventListener", "import_clipboard", "useUpdatedRef", "value", "ref", "useRef", "useLayoutEffect", "current", "text", "onSuccess", "textRef", "onSuccessRef", "useRefEffect", "node", "clipboard", "Clipboard", "on", "clearSelection", "destroy", "isAppleOS", "_window", "window", "platform", "navigator", "indexOf", "includes", "BACKSPACE", "TAB", "ENTER", "ESCAPE", "SPACE", "PAGEUP", "PAGEDOWN", "END", "HOME", "LEFT", "UP", "RIGHT", "DOWN", "DELETE", "ALT", "CTRL", "COMMAND", "SHIFT", "capitaliseFirstCharacter", "string", "length", "toUpperCase", "charAt", "slice", "mapValues", "object", "mapFn", "Object", "fromEntries", "entries", "map", "key", "value", "modifiers", "primary", "_isApple", "COMMAND", "CTRL", "primaryShift", "SHIFT", "primaryAlt", "ALT", "secondary", "access", "ctrl", "alt", "ctrlShift", "shift", "shiftAlt", "undefined", "rawShortcut", "modifier", "character", "isAppleOS", "toLowerCase", "join", "displayShortcutList", "isApple", "replacementKeyMap", "modifierKeys", "reduce", "accumulator", "_replacementKeyMap$ke", "replacementKey", "displayShortcut", "shortcutList", "shortcutAriaLabel", "__", "_replacementKeyMap$ke2", "getEventModifiers", "event", "filter", "isKeyboardEvent", "getModifiers", "mods", "eventMods", "replacementWithShiftKeyMap", "Comma", "Backslash", "IntlRo", "IntlYen", "modsDiff", "mod", "includes", "eventModsDiff", "altKey", "String", "fromCharCode", "keyCode", "shiftKey", "code", "focusOnMount", "focusOnMountRef", "useRef", "setFocus", "target", "focus", "preventScroll", "timerIdRef", "useEffect", "current", "useRefEffect", "node", "_node$ownerDocument$a", "contains", "ownerDocument", "activeElement", "setTimeout", "firstTabbable", "tabbable", "find", "clearTimeout", "origin", "useFocusReturn", "onFocusReturn", "ref", "useRef", "focusedBeforeMount", "onFocusReturnRef", "useEffect", "current", "useCallback", "node", "_activeDocument$activ", "activeDocument", "ownerDocument", "activeElement", "window", "HTMLIFrameElement", "contentDocument", "isFocused", "contains", "isConnected", "_origin", "focus", "INPUT_BUTTON_TYPES", "isFocusNormalizedButton", "eventTarget", "window", "HTMLElement", "nodeName", "includes", "type", "onFocusOutside", "currentOnFocusOutsideRef", "useRef", "useEffect", "current", "preventBlurCheckRef", "blurCheckTimeoutIdRef", "cancelBlurCheck", "useCallback", "clearTimeout", "normalizeButtonFocus", "event", "target", "isInteractionEnd", "queueBlurCheck", "persist", "ignoreForRelatedTarget", "getAttribute", "relatedTarget", "closest", "setTimeout", "document", "hasFocus", "preventDefault", "onFocus", "onMouseDown", "onMouseUp", "onTouchStart", "onTouchEnd", "onBlur", "assignRef", "ref", "value", "hasOwnProperty", "current", "refs", "element", "useRef", "isAttachedRef", "didElementChangeRef", "previousRefsRef", "currentRefsRef", "useLayoutEffect", "forEach", "index", "previousRef", "useCallback", "refsToAssign", "useDialog", "options", "currentOptions", "useRef", "constrainTabbing", "focusOnMount", "useEffect", "current", "Object", "values", "constrainedTabbingRef", "useConstrainedTabbing", "focusOnMountRef", "useFocusOnMount", "focusReturnRef", "useFocusReturn", "focusOutsideProps", "useFocusOutside", "event", "__unstableOnClose", "onClose", "closeOnEscapeRef", "useCallback", "node", "addEventListener", "keyCode", "ESCAPE", "defaultPrevented", "preventDefault", "useMergeRefs", "tabIndex", "isDisabled", "isDisabledProp", "useRefEffect", "node", "defaultView", "ownerDocument", "updates", "disable", "childNodes", "forEach", "child", "HTMLElement", "getAttribute", "setAttribute", "push", "removeAttribute", "debouncedDisable", "debounce", "leading", "observer", "window", "MutationObserver", "observe", "childList", "disconnect", "cancel", "update", "callback", "ref", "useRef", "Error", "useInsertionEffect", "current", "useCallback", "args", "useIsomorphicLayoutEffect", "window", "useLayoutEffect", "useEffect", "onDragStart", "onDragMove", "onDragEnd", "isDragging", "setIsDragging", "useState", "eventsRef", "useRef", "useIsomorphicLayoutEffect", "current", "onMouseMove", "useCallback", "event", "endDrag", "document", "removeEventListener", "startDrag", "addEventListener", "useEffect", "Mousetrap", "useKeyboardShortcut", "shortcuts", "callback", "bindGlobal", "eventName", "isDisabled", "target", "currentCallbackRef", "useRef", "useEffect", "current", "mousetrap", "Mousetrap", "document", "shortcutsArray", "Array", "isArray", "forEach", "shortcut", "keys", "split", "modifiers", "Set", "filter", "value", "length", "hasAlt", "has", "hasShift", "isAppleOS", "size", "Error", "bindFn", "args", "reset", "matchMediaCache", "Map", "getMediaQueryList", "query", "match", "get", "window", "matchMedia", "set", "source", "useMemo", "mediaQueryList", "subscribe", "onStoreChange", "addEventListener", "_a", "removeEventListener", "getValue", "_mediaQueryList$match", "matches", "useSyncExternalStore", "value", "ref", "useRef", "useEffect", "current", "useReducedMotion", "useMediaQuery", "BREAKPOINTS", "xhuge", "huge", "wide", "xlarge", "large", "medium", "small", "mobile", "CONDITIONS", "OPERATOR_EVALUATORS", ">=", "breakpointValue", "width", "<", "ViewportMatchWidthContext", "createContext", "displayName", "useViewportMatch", "breakpoint", "operator", "simulatedWidth", "useContext", "mediaQuery", "mediaQueryResult", "useMediaQuery", "undefined", "__experimentalWidthProvider", "Provider", "useResizeObserver", "callback", "resizeObserverOptions", "callbackEvent", "useEvent", "observedElementRef", "useRef", "resizeObserverRef", "element", "_resizeObserverRef$cu", "current", "ResizeObserver", "resizeObserver", "unobserve", "observe", "import_jsx_runtime", "extractSize", "entry", "entrySize", "contentBoxSize", "contentRect", "width", "height", "inlineSize", "blockSize", "map", "d", "Math", "round", "RESIZE_ELEMENT_STYLES", "position", "top", "left", "right", "bottom", "pointerEvents", "opacity", "overflow", "zIndex", "ResizeElement", "onResize", "resizeElementRef", "useResizeObserver", "entries", "newSize", "at", "_jsx", "ref", "style", "sizeEquals", "a", "b", "NULL_SIZE", "size", "setSize", "useState", "previousSizeRef", "useRef", "handleResize", "useCallback", "current", "resizeElement", "useResizeObserver", "callback", "options", "_useResizeObserver", "_useLegacyResizeObserver", "createRequestIdleCallback", "window", "callback", "setTimeout", "Date", "now", "requestIdleCallback", "createQueue", "waitingList", "Map", "isRunning", "runWaitingList", "deadline", "nextElement", "callback", "delete", "timeRemaining", "size", "requestIdleCallback", "add", "element", "item", "set", "flush", "get", "undefined", "cancel", "reset", "clear", "getFirstItemsPresentInState", "list", "state", "firstItems", "i", "length", "item", "includes", "push", "useAsyncList", "config", "step", "current", "setCurrent", "useState", "useEffect", "concat", "slice", "asyncQueue", "createQueue", "add", "flushSync", "reset", "import_react", "fn", "wait", "options", "debounced", "useMemoOne", "debounce", "useEffect", "cancel", "defaultValue", "input", "setInput", "useState", "debouncedInput", "setDebouncedState", "setDebouncedInput", "useDebounce", "useEffect", "fn", "wait", "options", "throttled", "useMemoOne", "throttle", "useEffect", "cancel", "dropZoneElement", "isDisabled", "onDrop", "_onDrop", "onDragStart", "_onDragStart", "onDragEnter", "_onDragEnter", "onDragLeave", "_onDragLeave", "onDragEnd", "_onDragEnd", "onDragOver", "_onDragOver", "onDropEvent", "useEvent", "onDragStartEvent", "onDragEnterEvent", "onDragLeaveEvent", "onDragEndEvent", "onDragOverEvent", "useRefEffect", "elem", "element", "isDragging", "ownerDocument", "isElementInZone", "targetToCheck", "defaultView", "HTMLElement", "contains", "elementToCheck", "dataset", "isDropZone", "parentElement", "maybeDragStart", "event", "addEventListener", "maybeDragEnd", "preventDefault", "relatedTarget", "defaultPrevented", "dataTransfer", "files", "length", "removeEventListener", "setAttribute", "removeAttribute", "useRefEffect", "element", "ownerDocument", "defaultView", "checkFocus", "activeElement", "focus", "addEventListener", "removeEventListener", "DEFAULT_INIT_WINDOW_SIZE", "elementRef", "itemHeight", "totalItems", "options", "_options$initWindowSi", "_options$useWindowing", "initWindowSize", "useWindowing", "fixedListWindow", "setFixedListWindow", "useState", "visibleItems", "start", "end", "itemInView", "index", "useLayoutEffect", "scrollContainer", "getScrollContainer", "current", "measureWindow", "initRender", "_options$windowOversc", "Math", "ceil", "clientHeight", "windowOverscan", "firstViewableIndex", "floor", "scrollTop", "max", "min", "lastWindow", "nextWindow", "debounceMeasureList", "debounce", "addEventListener", "ownerDocument", "defaultView", "_a", "_b", "removeEventListener", "expandedState", "handleKeyDown", "event", "keyCode", "HOME", "scrollTo", "top", "END", "PAGEUP", "PAGEDOWN", "map", "name", "subscribe", "getValue", "useMemo", "listener", "get", "useSyncExternalStore", "combineReducers", "reducers", "keys", "Object", "combinedReducer", "state", "action", "nextState", "hasChanged", "key", "reducer", "prevStateForKey", "nextStateForKey", "createRegistrySelector", "registrySelector", "selectorsByRegistry", "WeakMap", "wrappedSelector", "args", "selector", "get", "registry", "select", "set", "isRegistrySelector", "createRegistryControl", "registryControl", "isRegistryControl", "SELECT", "RESOLVE_SELECT", "DISPATCH", "isObject", "object", "select", "storeNameOrDescriptor", "selectorName", "args", "type", "storeKey", "name", "resolveSelect", "dispatch", "actionName", "controls", "builtinControls", "createRegistryControl", "registry", "method", "hasResolver", "CORE_MODULES_USING_PRIVATE_APIS", "registeredPrivateApis", "requiredConsent", "allowReRegistration", "globalThis", "IS_WORDPRESS_CORE", "__dangerousOptInToUnstableAPIsOnlyForCoreModules", "consent", "moduleName", "includes", "Error", "push", "lock", "unlock", "object", "privateData", "_object", "__private", "lockedData", "set", "get", "WeakMap", "Symbol", "lock", "unlock", "__dangerousOptInToUnstableAPIsOnlyForCoreModules", "promiseMiddleware", "next", "action", "isPromise", "then", "resolvedAction", "createResolversCacheMiddleware", "registry", "storeName", "next", "action", "resolvers", "select", "getCachedResolvers", "resolverEntries", "Object", "entries", "forEach", "selectorName", "resolversByArgs", "resolver", "stores", "shouldInvalidate", "value", "args", "undefined", "status", "dispatch", "invalidateResolution", "args", "next", "action", "onSubKey", "actionProperty", "reducer", "state", "action", "key", "undefined", "nextKeyState", "selectorArgsToStateKey", "args", "len", "length", "idx", "slice", "subKeysIsResolved", "onSubKey", "state", "EquivalentKeyMap", "action", "type", "nextState", "set", "selectorArgsToStateKey", "args", "status", "error", "resolutionArgs", "forEach", "idx", "resolutionState", "undefined", "errors", "delete", "isResolved", "selectorName", "removedSelector", "restState", "isShallowEqual", "getResolutionState", "state", "selectorName", "args", "map", "get", "selectorArgsToStateKey", "getIsResolving", "deprecated", "since", "version", "alternative", "resolutionState", "status", "hasStartedResolution", "undefined", "hasFinishedResolution", "hasResolutionFailed", "getResolutionError", "error", "isResolving", "getCachedResolvers", "hasResolvingSelectors", "Object", "values", "some", "selectorState", "Array", "from", "_map", "resolution", "countSelectorsByStatus", "createSelector", "selectorsByStatus", "forEach", "_resolution$1$status", "currentStatus", "startResolution", "selectorName", "args", "type", "finishResolution", "failResolution", "error", "startResolutions", "finishResolutions", "failResolutions", "errors", "invalidateResolution", "invalidateResolutionForStore", "invalidateResolutionForStoreSelector", "trimUndefinedValues", "array", "result", "i", "length", "undefined", "splice", "mapValues", "obj", "callback", "Object", "fromEntries", "entries", "map", "key", "value", "devToolsReplacer", "state", "Map", "window", "HTMLElement", "createResolversCache", "cache", "isRunning", "selectorName", "args", "get", "clear", "delete", "markAsRunning", "EquivalentKeyMap", "set", "createBindingCache", "getItem", "bindItem", "WeakMap", "itemName", "item", "boundItem", "createPrivateProxy", "publicItems", "privateItems", "Proxy", "target", "Reflect", "options", "privateActions", "privateSelectors", "privateRegistrationFunctions", "registerPrivateActions", "actions", "assign", "registerPrivateSelectors", "selectors", "storeDescriptor", "name", "instantiate", "registry", "listeners", "Set", "reducer", "thunkArgs", "dispatch", "thunkDispatch", "select", "thunkSelect", "resolveSelect", "resolveSelectors", "store", "instantiateReduxStore", "lock", "resolversCache", "bindAction", "action", "Promise", "resolve", "metadataActions", "allActions", "resolvers", "mapResolver", "bindSelector", "selector", "isRegistrySelector", "boundSelector", "normalize", "__unstableOriginalGetState", "root", "__unstableNormalizeArgs", "resolver", "hasResolver", "mapSelectorWithResolver", "boundMetadataSelectors", "bindMetadataSelector", "metaDataSelector", "selectorArgs", "targetSelector", "metadata", "metadataSelectors", "boundSelectors", "boundPrivateSelectors", "allSelectors", "keys", "bindResolveSelector", "mapResolveSelector", "allResolveSelectors", "bindSuspendSelector", "mapSuspendSelector", "suspendSelectors", "allSuspendSelectors", "getSelectors", "getActions", "getResolveSelectors", "getSuspendSelectors", "getState", "subscribe", "listener", "add", "lastState", "hasChanged", "controls", "builtinControls", "normalizedControls", "control", "isRegistryControl", "middlewares", "createResolversCacheMiddleware", "promise", "createReduxRoutineMiddleware", "createThunkMiddleware", "enhancers", "applyMiddleware", "__REDUX_DEVTOOLS_EXTENSION__", "push", "instanceId", "serialize", "replacer", "initialState", "enhancedReducer", "combineReducers", "metadataReducer", "createStore", "compose", "apply", "reject", "hasFinished", "hasFinishedResolution", "finalize", "hasFailed", "hasResolutionFailed", "error", "getResolutionError", "getResult", "unsubscribe", "fulfill", "fulfillSelector", "isFulfilled", "hasStartedResolution", "setTimeout", "startResolution", "finishResolution", "failResolution", "selectorResolver", "coreDataStore", "name", "instantiate", "registry", "getCoreDataSelector", "selectorName", "key", "args", "select", "getCoreDataAction", "actionName", "dispatch", "getSelectors", "Object", "fromEntries", "map", "getActions", "subscribe", "createEmitter", "isPaused", "isPending", "listeners", "Set", "notifyListeners", "Array", "from", "forEach", "listener", "subscribe", "add", "delete", "pause", "resume", "emit", "getStoreName", "storeNameOrDescriptor", "name", "createRegistry", "storeConfigs", "parent", "stores", "emitter", "createEmitter", "listeningStores", "globalListener", "emit", "subscribe", "listener", "storeName", "store", "select", "add", "getSelectors", "__unstableMarkListeningStores", "callback", "ref", "Set", "call", "current", "Array", "from", "resolveSelect", "getResolveSelectors", "suspendSelect", "getSuspendSelectors", "dispatch", "getActions", "withPlugins", "attributes", "Object", "fromEntries", "entries", "map", "key", "attribute", "registry", "apply", "arguments", "registerStoreInstance", "createStore", "console", "error", "TypeError", "currentSubscribe", "unsubscribeFromEmitter", "unsubscribeFromStore", "isPaused", "unlock", "registerPrivateActions", "privateActionsOf", "registerPrivateSelectors", "privateSelectorsOf", "e", "register", "instantiate", "registerGenericStore", "deprecated", "since", "alternative", "registerStore", "options", "reducer", "createReduxStore", "batch", "pause", "values", "forEach", "resume", "namespaces", "use", "plugin", "coreDataStore", "config", "registryWithPlugins", "lock", "privateActions", "privateSelectors", "createRegistry", "objectStorage", "storage", "getItem", "key", "setItem", "value", "clear", "String", "Object", "create", "storage", "window", "localStorage", "setItem", "removeItem", "error", "objectStorage", "DEFAULT_STORAGE", "defaultStorage", "DEFAULT_STORAGE_KEY", "withLazySameState", "reducer", "state", "action", "nextState", "createPersistenceInterface", "options", "storage", "storageKey", "data", "getData", "undefined", "persisted", "getItem", "JSON", "parse", "error", "setData", "key", "value", "setItem", "stringify", "get", "set", "persistencePlugin", "registry", "pluginOptions", "persistence", "createPersistOnChange", "getState", "storeName", "keys", "getPersistedState", "Array", "isArray", "reducers", "reduce", "accumulator", "Object", "assign", "combineReducers", "lastState", "registerStore", "persist", "persistedState", "initialState", "type", "isPlainObject", "deepmerge", "isMergeableObject", "store", "subscribe", "__unstableMigrate", "Context", "createContext", "defaultRegistry", "displayName", "Consumer", "Provider", "RegistryConsumer", "useContext", "Context", "Context", "createContext", "displayName", "Consumer", "Provider", "context_default", "Provider", "useContext", "Context", "renderQueue", "createQueue", "warnOnUnstableReference", "a", "b", "keys", "Object", "filter", "k", "console", "warn", "join", "Store", "registry", "suspense", "select", "suspendSelect", "queueContext", "lastMapSelect", "lastMapResult", "lastMapResultValid", "lastIsAsync", "subscriber", "didWarnUnstableReference", "storeStatesOnMount", "Map", "getStoreState", "name", "_registry$stores$name", "stores", "store", "getState", "createSubscriber", "activeStores", "activeSubscriptions", "Set", "subscribe", "listener", "get", "clear", "onStoreChange", "onChange", "add", "unsubs", "subscribeStore", "storeName", "push", "delete", "unsub", "values", "cancel", "updateStores", "newStores", "newStore", "includes", "subscription", "mapSelect", "isAsync", "updateValue", "listeningStores", "current", "mapResult", "__unstableMarkListeningStores", "globalThis", "SCRIPT_DEBUG", "secondMapResult", "isShallowEqual", "set", "getValue", "_useStaticSelect", "useRegistry", "_useMappingSelect", "deps", "useAsyncMode", "useMemo", "selector", "useCallback", "result", "useSyncExternalStore", "useDebugValue", "staticSelectMode", "staticSelectModeRef", "useRef", "prevMode", "nextMode", "Error", "useSuspenseSelect", "import_jsx_runtime", "withSelect", "mapSelectToProps", "createHigherOrderComponent", "WrappedComponent", "pure", "ownProps", "mapSelect", "select", "registry", "mergeProps", "useSelect", "_jsx", "useDispatch", "storeNameOrDescriptor", "dispatch", "useRegistry", "useDispatchWithMap", "dispatchMap", "deps", "registry", "useRegistry", "currentDispatchMapRef", "useRef", "useIsomorphicLayoutEffect", "current", "useMemo", "currentDispatchProps", "dispatch", "Object", "fromEntries", "entries", "map", "propName", "dispatcher", "console", "warn", "args", "import_jsx_runtime", "withDispatch", "mapDispatchToProps", "createHigherOrderComponent", "WrappedComponent", "ownProps", "mapDispatch", "dispatch", "registry", "dispatchProps", "useDispatchWithMap", "_jsx", "import_jsx_runtime", "withRegistry", "createHigherOrderComponent", "OriginalComponent", "props", "_jsx", "RegistryConsumer", "children", "registry", "dispatch", "storeNameOrDescriptor", "defaultRegistry", "select", "storeNameOrDescriptor", "defaultRegistry", "combineReducers", "combineReducersModule", "resolveSelect", "defaultRegistry", "suspendSelect", "subscribe", "registerGenericStore", "registerStore", "use", "register"]
}
