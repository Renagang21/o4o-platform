/**
 * AI í˜ì´ì§€ ìƒì„± ë¬¸ì„œ ìë™ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸
 *
 * SimpleAIGeneratorì™€ block-registry-extractorë¥¼ ë¶„ì„í•˜ì—¬
 * docs/manual/ai-page-generation.md íŒŒì¼ì„ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€
 */

import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// AI ëª¨ë¸ ì •ì˜ (SimpleAIGenerator.tsì—ì„œ ì¶”ì¶œ)
const AI_MODELS = {
  // OpenAI GPT-5 ì‹œë¦¬ì¦ˆ (2025)
  'gpt-5': { name: 'GPT-5', description: 'ìµœì‹  ì¶”ë¡  ëª¨ë¸' },
  'gpt-5-mini': { name: 'GPT-5 Mini', description: 'ë¹ ë¥´ê³  ê²½ì œì ' },
  'gpt-5-nano': { name: 'GPT-5 Nano', description: 'ì´ˆê³ ì†' },
  'gpt-4.1': { name: 'GPT-4.1', description: 'ë³µì¡í•œ ì‘ì—…ìš©' },
  'gpt-4o': { name: 'GPT-4o', description: 'ë©€í‹°ëª¨ë‹¬' },

  // Google Gemini 2025
  'gemini-2.5-flash': { name: 'Gemini 2.5 Flash', description: 'ë¹ ë¥´ê³  ê°•ë ¥ (ê¶Œì¥)' },
  'gemini-2.5-pro': { name: 'Gemini 2.5 Pro', description: 'ìµœê°•ë ¥' },
  'gemini-2.0-flash': { name: 'Gemini 2.0 Flash', description: 'ë©€í‹°ëª¨ë‹¬' },

  // Claude 2025 (Anthropic)
  'claude-sonnet-4.5': { name: 'Claude Sonnet 4.5', description: 'ìµœì‹  ëª¨ë¸' },
  'claude-opus-4': { name: 'Claude Opus 4', description: 'ìµœê°•ë ¥' },
  'claude-sonnet-4': { name: 'Claude Sonnet 4', description: 'ì•ˆì •ì ' },
};

// í…œí”Œë¦¿ ì •ì˜
const TEMPLATES = {
  landing: {
    name: 'ëœë”© í˜ì´ì§€',
    description: 'ì œí’ˆ/ì„œë¹„ìŠ¤ ì†Œê°œ, ì „í™˜ìœ¨ ìµœì í™”',
    elements: [
      'íˆì–´ë¡œ ì„¹ì…˜ (Hero Section)',
      'ì£¼ìš” ê¸°ëŠ¥/íŠ¹ì§•',
      'ê³ ê° í›„ê¸° (Testimonials)',
      'ê°€ê²© í”Œëœ',
      'CTA (Call-to-Action) ë²„íŠ¼',
      'FAQ'
    ],
    examplePrompt: `AI ê¸°ë°˜ ë§ˆì¼€íŒ… ìë™í™” SaaS ì œí’ˆì˜ ëœë”© í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”.
- íƒ€ê²Ÿ: ì¤‘ì†Œê¸°ì—… ë§ˆì¼€íŒ… ë‹´ë‹¹ì
- ì£¼ìš” ê¸°ëŠ¥: ì´ë©”ì¼ ìë™í™”, SNS ì˜ˆì•½ ë°œí–‰, ì„±ê³¼ ë¶„ì„
- 3ê°€ì§€ ê°€ê²© í”Œëœ (Basic, Pro, Enterprise)`
  },
  about: {
    name: 'ì†Œê°œ í˜ì´ì§€',
    description: 'íšŒì‚¬/ê°œì¸/íŒ€ ì†Œê°œ',
    elements: [
      'íšŒì‚¬ ì†Œê°œ',
      'ë¹„ì „ ë° ë¯¸ì…˜',
      'í•µì‹¬ ê°€ì¹˜ 3-4ê°œ',
      'íŒ€ ì†Œê°œ',
      'ì—°í˜ (Timeline)',
      'ë¬¸í™” ë° ê°€ì¹˜'
    ],
    examplePrompt: `ì¹œí™˜ê²½ íŒ¨ì…˜ ë¸Œëœë“œì˜ About í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”.
- ì°½ë¦½: 2020ë…„, ì„œìš¸
- ë¯¸ì…˜: ì§€ì† ê°€ëŠ¥í•œ íŒ¨ì…˜ ìƒíƒœê³„ êµ¬ì¶•
- í•µì‹¬ ê°€ì¹˜: í™˜ê²½ ë³´í˜¸, ê³µì • ë¬´ì—­, ìœ¤ë¦¬ì  ìƒì‚°
- íŒ€: 3ëª…ì˜ ê³µë™ ì°½ì—…ì ì†Œê°œ`
  },
  product: {
    name: 'ìƒí’ˆ í˜ì´ì§€',
    description: 'ë‹¨ì¼ ìƒí’ˆ ìƒì„¸ ì„¤ëª…',
    elements: [
      'ìƒí’ˆ ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬',
      'ìƒí’ˆëª… ë° ê°€ê²©',
      'ìƒì„¸ ì„¤ëª…',
      'ìŠ¤í™ ë° ì˜µì…˜',
      'ë¦¬ë·°',
      'ê´€ë ¨ ìƒí’ˆ'
    ],
    examplePrompt: `í”„ë¦¬ë¯¸ì—„ ë¬´ì„  ì´ì–´í° ìƒí’ˆ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”.
- ìƒí’ˆëª…: AirPods Pro Max
- ê°€ê²©: 549,000ì›
- ì£¼ìš” ê¸°ëŠ¥: ANC, ê³µê°„ ìŒí–¥, 20ì‹œê°„ ë°°í„°ë¦¬
- ì»¬ëŸ¬: ì‹¤ë²„, ìŠ¤í˜ì´ìŠ¤ ê·¸ë ˆì´, ê³¨ë“œ`
  },
  blog: {
    name: 'ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸',
    description: 'ì •ë³´ì„± ì½˜í…ì¸ , íŠœí† ë¦¬ì–¼, ë‰´ìŠ¤',
    elements: [
      'ì œëª© ë° ì„œë¡ ',
      'ëª©ì°¨',
      'ë³¸ë¬¸ (ì†Œì œëª©ë³„ êµ¬ì¡°í™”)',
      'ì´ë¯¸ì§€ ë° ì½”ë“œ ë¸”ë¡',
      'ê²°ë¡ ',
      'ê´€ë ¨ ê¸€ ë§í¬'
    ],
    examplePrompt: `"React 19 ìƒˆë¡œìš´ ê¸°ëŠ¥ ì™„ë²½ ê°€ì´ë“œ" ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.
- ì£¼ìš” ë‚´ìš©: React Compiler, Server Components, Actions
- ë‚œì´ë„: ì¤‘ê¸‰ ê°œë°œì
- ì½”ë“œ ì˜ˆì‹œ í¬í•¨
- 1500-2000ì ë¶„ëŸ‰`
  }
};

// ë¸”ë¡ ì˜ˆì‹œ
const BLOCK_EXAMPLES = {
  'o4o/paragraph': {
    name: 'ë‹¨ë½',
    category: 'í…ìŠ¤íŠ¸',
    description: 'ì¼ë°˜ í…ìŠ¤íŠ¸ ë‹¨ë½',
    example: {
      type: 'o4o/paragraph',
      content: { text: 'ì—¬ê¸°ì— í…ìŠ¤íŠ¸ ë‚´ìš©ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.' }
    }
  },
  'o4o/heading': {
    name: 'ì œëª©',
    category: 'í…ìŠ¤íŠ¸',
    description: 'H1~H6 ì œëª© (level: 1-6)',
    example: {
      type: 'o4o/heading',
      content: { text: 'í˜ì´ì§€ ì œëª©' },
      attributes: { level: 1 }
    }
  },
  'o4o/list': {
    name: 'ë¦¬ìŠ¤íŠ¸',
    category: 'í…ìŠ¤íŠ¸',
    description: 'ìˆœì„œ ìˆëŠ”/ì—†ëŠ” ë¦¬ìŠ¤íŠ¸',
    example: {
      type: 'o4o/list',
      content: { items: ['í•­ëª© 1', 'í•­ëª© 2', 'í•­ëª© 3'] },
      attributes: { ordered: false }
    }
  },
  'o4o/quote': {
    name: 'ì¸ìš©êµ¬',
    category: 'í…ìŠ¤íŠ¸',
    example: {
      type: 'o4o/quote',
      content: { text: 'í›Œë¥­í•œ ì œí’ˆì€ ë””í…Œì¼ì—ì„œ ë‚˜ì˜¨ë‹¤.', citation: 'ìŠ¤í‹°ë¸Œ ì¡ìŠ¤' }
    }
  },
  'o4o/code': {
    name: 'ì½”ë“œ ë¸”ë¡',
    category: 'í…ìŠ¤íŠ¸',
    example: {
      type: 'o4o/code',
      content: { code: 'function greet() { return "Hello"; }', language: 'javascript' }
    }
  },
  'o4o/image': {
    name: 'ì´ë¯¸ì§€',
    category: 'ë¯¸ë””ì–´',
    description: '**ì¤‘ìš”**: AI ìƒì„± ì‹œ `src`ëŠ” ë¹„ì›Œë‘ê³  `alt`ë§Œ í¬í•¨',
    example: {
      type: 'o4o/image',
      content: { alt: 'ìŠ¤ë§ˆíŠ¸í°ì„ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒ' }
    }
  },
  'o4o/video': {
    name: 'ë¹„ë””ì˜¤',
    category: 'ë¯¸ë””ì–´',
    example: {
      type: 'o4o/video',
      content: { caption: 'ì œí’ˆ ì†Œê°œ ì˜ìƒ' }
    }
  },
  'o4o/gallery': {
    name: 'ê°¤ëŸ¬ë¦¬',
    category: 'ë¯¸ë””ì–´',
    example: {
      type: 'o4o/gallery',
      content: { images: [] }
    }
  },
  'o4o/button': {
    name: 'ë²„íŠ¼',
    category: 'ë””ìì¸',
    description: '**variant ì˜µì…˜**: `primary`, `secondary`, `outline`',
    example: {
      type: 'o4o/button',
      content: { text: 'ì§€ê¸ˆ ì‹œì‘í•˜ê¸°', url: '#' },
      attributes: { variant: 'primary' }
    }
  },
  'o4o/columns': {
    name: 'ë‹¤ë‹¨ ë ˆì´ì•„ì›ƒ',
    category: 'ë””ìì¸',
    example: {
      type: 'o4o/columns',
      content: {
        columns: [
          { blocks: [{ type: 'o4o/heading', content: { text: 'ì™¼ìª½ ì¹¼ëŸ¼' } }] },
          { blocks: [{ type: 'o4o/heading', content: { text: 'ì˜¤ë¥¸ìª½ ì¹¼ëŸ¼' } }] }
        ]
      }
    }
  },
  'o4o/separator': {
    name: 'êµ¬ë¶„ì„ ',
    category: 'ë””ìì¸',
    example: { type: 'o4o/separator' }
  }
};

/**
 * ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œ ìƒì„±
 */
function generateDocumentation(): string {
  const currentDate = new Date().toISOString().split('T')[0];

  let md = `# AI í˜ì´ì§€ ìë™ ìƒì„± ê¸°ëŠ¥ ë§¤ë‰´ì–¼

> ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: ${currentDate}
> ì´ ë¬¸ì„œëŠ” ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. ìˆ˜ë™ í¸ì§‘í•˜ì§€ ë§ˆì„¸ìš”.

## ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [ì‚¬ì „ ì¤€ë¹„](#ì‚¬ì „-ì¤€ë¹„)
3. [ì‚¬ìš© ë°©ë²•](#ì‚¬ìš©-ë°©ë²•)
4. [ì§€ì›í•˜ëŠ” AI ëª¨ë¸](#ì§€ì›í•˜ëŠ”-ai-ëª¨ë¸)
5. [í…œí”Œë¦¿ ì¢…ë¥˜](#í…œí”Œë¦¿-ì¢…ë¥˜)
6. [ì‚¬ìš© ê°€ëŠ¥í•œ ë¸”ë¡](#ì‚¬ìš©-ê°€ëŠ¥í•œ-ë¸”ë¡)
7. [ì‚¬ìš© ê°€ëŠ¥í•œ ìˆì½”ë“œ](#ì‚¬ìš©-ê°€ëŠ¥í•œ-ìˆì½”ë“œ)
8. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

---

## ê°œìš”

AI í˜ì´ì§€ ìë™ ìƒì„± ê¸°ëŠ¥ì€ ìµœì‹  AI ëª¨ë¸(GPT-5, Gemini 2.5, Claude 4.5 ë“±)ì„ í™œìš©í•˜ì—¬ ê°„ë‹¨í•œ í”„ë¡¬í”„íŠ¸ë§Œìœ¼ë¡œ ì „ë¬¸ì ì¸ ì›¹ í˜ì´ì§€ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥
- âœ¨ ìì—°ì–´ í”„ë¡¬í”„íŠ¸ë¡œ í˜ì´ì§€ ìƒì„±
- ğŸ¨ ë‹¤ì–‘í•œ í…œí”Œë¦¿ ì§€ì› (ëœë”©, ì†Œê°œ, ìƒí’ˆ, ë¸”ë¡œê·¸)
- ğŸ¤– ìµœì‹  AI ëª¨ë¸ ì§€ì› (2025ë…„ ê¸°ì¤€)
- ğŸ“¦ Gutenberg ë¸”ë¡ ìë™ ìƒì„±
- ğŸ”„ ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© í‘œì‹œ
- ğŸ’¾ API í‚¤ ìë™ ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸°

---

## ì‚¬ì „ ì¤€ë¹„

### 1. AI API í‚¤ ì„¤ì •

í˜ì´ì§€ ìƒì„± ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € AI API í‚¤ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

**ì„¤ì • ìœ„ì¹˜:** \`ì„¤ì • â†’ AI ì„¤ì •\` ë˜ëŠ” \`Settings â†’ AI Settings\`

#### OpenAI API í‚¤ ì„¤ì •
1. [OpenAI Platform](https://platform.openai.com/)ì— ë¡œê·¸ì¸
2. API Keys ë©”ë‰´ì—ì„œ ìƒˆ API í‚¤ ìƒì„±
3. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì˜ AI ì„¤ì • í˜ì´ì§€ì— í‚¤ ì…ë ¥ ë° ì €ì¥

#### Google Gemini API í‚¤ ì„¤ì •
1. [Google AI Studio](https://makersuite.google.com/)ì— ì ‘ì†
2. API í‚¤ ìƒì„±
3. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì˜ AI ì„¤ì • í˜ì´ì§€ì— í‚¤ ì…ë ¥ ë° ì €ì¥

#### Anthropic Claude API í‚¤ ì„¤ì •
1. [Anthropic Console](https://console.anthropic.com/)ì— ë¡œê·¸ì¸
2. API Keys ì„¹ì…˜ì—ì„œ í‚¤ ìƒì„±
3. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì˜ AI ì„¤ì • í˜ì´ì§€ì— í‚¤ ì…ë ¥ ë° ì €ì¥

**ğŸ’¡ íŒ**: API í‚¤ë¥¼ ë¯¸ë¦¬ ì €ì¥í•´ë‘ë©´ AI í˜ì´ì§€ ìƒì„± ëª¨ë‹¬ì—ì„œ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤!

### 2. ê¶Œí•œ í™•ì¸

AI í˜ì´ì§€ ìƒì„± ê¸°ëŠ¥ì€ ë‹¤ìŒ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤:
- í˜ì´ì§€ í¸ì§‘ ê¶Œí•œ (\`content:write\`)
- ë˜ëŠ” ê´€ë¦¬ì ê¶Œí•œ (\`system:admin\`)

---

## ì‚¬ìš© ë°©ë²•

### 1. AI í˜ì´ì§€ ìƒì„± ëª¨ë‹¬ ì—´ê¸°

#### ë°©ë²• 1: í¸ì§‘ê¸°ì—ì„œ
1. í˜ì´ì§€ ë˜ëŠ” í¬ìŠ¤íŠ¸ í¸ì§‘ í™”ë©´ ì§„ì…
2. ìƒë‹¨ ë„êµ¬ ëª¨ìŒì—ì„œ **"AI í˜ì´ì§€ ìƒì„±"** ë²„íŠ¼ í´ë¦­ (âš¡ Sparkles ì•„ì´ì½˜)

#### ë°©ë²• 2: ìƒˆ í˜ì´ì§€ ìƒì„± ì‹œ
1. \`í˜ì´ì§€ â†’ ìƒˆ í˜ì´ì§€ ì¶”ê°€\` ë©”ë‰´ ì„ íƒ
2. í¸ì§‘ê¸° ìƒë‹¨ì—ì„œ **"AI í˜ì´ì§€ ìƒì„±"** ë²„íŠ¼ í´ë¦­

### 2. ì„¤ì • ì„ íƒ

#### í…œí”Œë¦¿ ì„ íƒ
- **ëœë”© í˜ì´ì§€**: ì œí’ˆì´ë‚˜ ì„œë¹„ìŠ¤ë¥¼ ì†Œê°œí•˜ëŠ” í˜ì´ì§€
- **íšŒì‚¬ ì†Œê°œ**: íšŒì‚¬ë‚˜ íŒ€ì„ ì†Œê°œí•˜ëŠ” í˜ì´ì§€
- **ì œí’ˆ ì†Œê°œ**: ì œí’ˆì˜ íŠ¹ì§•ê³¼ ì¥ì ì„ ì„¤ëª…
- **ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸**: ë¸”ë¡œê·¸ í˜•ì‹ì˜ ê¸€

#### AI ì„œë¹„ìŠ¤ ì„ íƒ
- **Google Gemini (ê¶Œì¥)**: ë¹ ë¥´ê³  ì •í™•í•œ ìµœì‹  ëª¨ë¸
- **OpenAI GPT**: GPT-5 ì‹œë¦¬ì¦ˆ ì§€ì›
- **Anthropic Claude**: Claude 4 ì‹œë¦¬ì¦ˆ ì§€ì›

#### ëª¨ë¸ ì„ íƒ
- ê° AI ì„œë¹„ìŠ¤ë³„ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ ëª©ë¡ì´ ìë™ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤
- ê¶Œì¥ ëª¨ë¸: Gemini 2.5 Flash (ë¹ ë¥´ê³  ì •í™•)

#### API í‚¤
- ì„¤ì • í˜ì´ì§€ì—ì„œ ë¯¸ë¦¬ ì €ì¥í•œ ê²½ìš° ìë™ìœ¼ë¡œ ì…ë ¥ë©ë‹ˆë‹¤
- ë˜ëŠ” ì§ì ‘ ì…ë ¥ ê°€ëŠ¥ (ì…ë ¥í•œ í‚¤ëŠ” ì €ì¥ë˜ì§€ ì•ŠìŒ)

### 3. í”„ë¡¬í”„íŠ¸ ì‘ì„±

íš¨ê³¼ì ì¸ í”„ë¡¬í”„íŠ¸ ì‘ì„± íŒ:

#### âœ… ì¢‹ì€ ì˜ˆì‹œ
\`\`\`
ìŠ¤ë§ˆíŠ¸ í™ˆ IoT ì œí’ˆì„ íŒë§¤í•˜ëŠ” íšŒì‚¬ì˜ ëœë”© í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”.
ì£¼ìš” ë‚´ìš©:
- í—¤ë”: íšŒì‚¬ ë¡œê³ ì™€ ë©”ë‰´ (Home, Products, About, Contact)
- íˆì–´ë¡œ ì„¹ì…˜: "ìŠ¤ë§ˆíŠ¸ í™ˆ, ë” í¸ë¦¬í•˜ê²Œ" ìŠ¬ë¡œê±´ê³¼ CTA ë²„íŠ¼
- ì œí’ˆ ì†Œê°œ: 3ê°€ì§€ ì£¼ìš” ì œí’ˆ (ìŠ¤ë§ˆíŠ¸ ì¡°ëª…, ì˜¨ë„ ì¡°ì ˆê¸°, ë³´ì•ˆ ì¹´ë©”ë¼)
- íŠ¹ì§•: ê°„í¸í•œ ì„¤ì¹˜, AI ìë™í™”, ëª¨ë°”ì¼ ì œì–´
- ê³ ê° í›„ê¸° ì„¹ì…˜
- ë¬¸ì˜ í¼
\`\`\`

#### âŒ ë‚˜ìœ ì˜ˆì‹œ
\`\`\`
í™ˆí˜ì´ì§€ ë§Œë“¤ì–´ì¤˜
\`\`\`

**ğŸ’¡ íŒ**: "ì˜ˆì‹œ ì‚¬ìš©" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í…œí”Œë¦¿ë³„ ì˜ˆì‹œ í”„ë¡¬í”„íŠ¸ê°€ ìë™ìœ¼ë¡œ ì…ë ¥ë©ë‹ˆë‹¤!

### 4. ìƒì„± ë° ì™„ë£Œ

1. **"í˜ì´ì§€ ìƒì„±"** ë²„íŠ¼ í´ë¦­
2. **ì§„í–‰ ìƒí™© í™•ì¸**:
   - 10%: AI ëª¨ë¸ì— ì—°ê²° ì¤‘...
   - 30%: AI ì‘ë‹µ ìƒì„± ì¤‘...
   - 80%: ì‘ë‹µ ì²˜ë¦¬ ì¤‘...
   - 100%: í˜ì´ì§€ ìƒì„± ì™„ë£Œ!
3. **ê²°ê³¼ í™•ì¸**: ìƒì„±ëœ ë¸”ë¡ë“¤ì´ í¸ì§‘ê¸°ì— ìë™ ì‚½ì…
4. **ìˆ˜ì • ë° ì €ì¥**: í•„ìš”í•œ ë¶€ë¶„ ìˆ˜ì • í›„ í˜ì´ì§€ ì €ì¥

---

## ì§€ì›í•˜ëŠ” AI ëª¨ë¸

`;

  // OpenAI ëª¨ë¸
  md += `### OpenAI (2025)\n\n| ëª¨ë¸ | ì´ë¦„ | íŠ¹ì§• |\n|------|------|------|\n`;
  Object.entries(AI_MODELS)
    .filter(([key]) => key.startsWith('gpt-'))
    .forEach(([key, info]) => {
      md += `| \`${key}\` | ${info.name} | ${info.description} |\n`;
    });

  md += `\n`;

  // Gemini ëª¨ë¸
  md += `### Google Gemini (2025)\n\n| ëª¨ë¸ | ì´ë¦„ | íŠ¹ì§• |\n|------|------|------|\n`;
  Object.entries(AI_MODELS)
    .filter(([key]) => key.startsWith('gemini-'))
    .forEach(([key, info]) => {
      md += `| \`${key}\` | ${info.name} | ${info.description} |\n`;
    });

  md += `\n`;

  // Claude ëª¨ë¸
  md += `### Anthropic Claude (2025)\n\n| ëª¨ë¸ | ì´ë¦„ | íŠ¹ì§• |\n|------|------|------|\n`;
  Object.entries(AI_MODELS)
    .filter(([key]) => key.startsWith('claude-'))
    .forEach(([key, info]) => {
      md += `| \`${key}\` | ${info.name} | ${info.description} |\n`;
    });

  md += `\n---\n\n`;

  // í…œí”Œë¦¿ ì •ë³´
  md += `## í…œí”Œë¦¿ ì¢…ë¥˜\n\n`;
  Object.entries(TEMPLATES).forEach(([key, template]) => {
    md += `### ${key === 'landing' ? '1' : key === 'about' ? '2' : key === 'product' ? '3' : '4'}. ${template.name}\n\n`;
    md += `**ìš©ë„**: ${template.description}\n\n`;
    md += `**í¬í•¨ ìš”ì†Œ**:\n`;
    template.elements.forEach(el => md += `- ${el}\n`);
    md += `\n**ì˜ˆì‹œ í”„ë¡¬í”„íŠ¸**:\n\`\`\`\n${template.examplePrompt}\n\`\`\`\n\n`;
  });

  md += `---\n\n`;

  // ë¸”ë¡ ì •ë³´
  md += `## ì‚¬ìš© ê°€ëŠ¥í•œ ë¸”ë¡\n\n`;
  md += `AIê°€ ìƒì„±í•  ìˆ˜ ìˆëŠ” Gutenberg ë¸”ë¡ ëª©ë¡ì…ë‹ˆë‹¤.\n\n`;

  const blocksByCategory = Object.entries(BLOCK_EXAMPLES).reduce((acc, [key, block]) => {
    const category = block.category || 'ê¸°íƒ€';
    if (!acc[category]) acc[category] = [];
    acc[category].push({ key, ...block });
    return acc;
  }, {} as Record<string, any[]>);

  Object.entries(blocksByCategory).forEach(([category, blocks]) => {
    md += `### ${category} ë¸”ë¡\n\n`;
    blocks.forEach(block => {
      md += `#### ${block.key} (${block.name})\n`;
      if (block.description) {
        md += `${block.description}\n`;
      }
      md += `\`\`\`json\n${JSON.stringify(block.example, null, 2)}\n\`\`\`\n\n`;
    });
  });

  md += `---\n\n`;

  // ìˆì½”ë“œ ì •ë³´
  md += `## ì‚¬ìš© ê°€ëŠ¥í•œ ìˆì½”ë“œ\n\n`;
  md += `ìˆì½”ë“œëŠ” íŠ¹ìˆ˜ ê¸°ëŠ¥ì„ ê°„ë‹¨í•˜ê²Œ ì‚½ì…í•  ìˆ˜ ìˆëŠ” ì½”ë“œì…ë‹ˆë‹¤.\n\n`;
  md += `**ìì„¸í•œ ë‚´ìš©ì€ [ìˆì½”ë“œ ë ˆí¼ëŸ°ìŠ¤](./shortcode-reference.md) ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.**\n\n`;
  md += `### ì£¼ìš” ìˆì½”ë“œ ì˜ˆì‹œ\n\n`;
  md += `- \`[product id="123"]\`: ë‹¨ì¼ ìƒí’ˆ í‘œì‹œ\n`;
  md += `- \`[product_grid category="ì „ìì œí’ˆ" limit="8"]\`: ìƒí’ˆ ê·¸ë¦¬ë“œ\n`;
  md += `- \`[form id="contact-form"]\`: ë¬¸ì˜ í¼ ì‚½ì…\n`;
  md += `- \`[gallery ids="1,2,3" columns="3"]\`: ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬\n`;
  md += `- \`[partner_dashboard]\`: íŒŒíŠ¸ë„ˆ ëŒ€ì‹œë³´ë“œ\n`;
  md += `- \`[recent_posts limit="5"]\`: ìµœê·¼ ê²Œì‹œë¬¼\n\n`;

  md += `---\n\n`;

  // ë¬¸ì œ í•´ê²°
  md += `## ë¬¸ì œ í•´ê²°\n\n`;

  md += `### 1. API í‚¤ ì˜¤ë¥˜\n\n`;
  md += `**ë¬¸ì œ**: "API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" ì˜¤ë¥˜ ë°œìƒ\n\n`;
  md += `**í•´ê²° ë°©ë²•**:\n`;
  md += `1. AI ì„¤ì • í˜ì´ì§€ì—ì„œ API í‚¤ ì¬í™•ì¸\n`;
  md += `2. API í‚¤ì— ê³µë°±ì´ë‚˜ íŠ¹ìˆ˜ë¬¸ìê°€ ì—†ëŠ”ì§€ í™•ì¸\n`;
  md += `3. AI ì œê³µì í”Œë«í¼ì—ì„œ í‚¤ê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\n`;
  md += `4. ì‚¬ìš©ëŸ‰ í•œë„ë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸\n\n`;

  md += `### 2. ìƒì„± ì‹¤íŒ¨\n\n`;
  md += `**ë¬¸ì œ**: "AI í˜ì´ì§€ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€\n\n`;
  md += `**í•´ê²° ë°©ë²•**:\n`;
  md += `1. í”„ë¡¬í”„íŠ¸ê°€ ë„ˆë¬´ ê¸¸ê±°ë‚˜ ë³µì¡í•˜ì§€ ì•Šì€ì§€ í™•ì¸ (2000ì ì´í•˜ ê¶Œì¥)\n`;
  md += `2. ì¸í„°ë„· ì—°ê²° í™•ì¸\n`;
  md += `3. ë‹¤ë¥¸ AI ëª¨ë¸ë¡œ ì‹œë„ (ì˜ˆ: Gemini â†’ OpenAI)\n`;
  md += `4. ë¸Œë¼ìš°ì € ì½˜ì†”(F12)ì—ì„œ ìì„¸í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ í™•ì¸\n\n`;

  md += `### 3. ìƒì„±ëœ ì½˜í…ì¸ ê°€ ê¸°ëŒ€ì™€ ë‹¤ë¦„\n\n`;
  md += `**í•´ê²° ë°©ë²•**:\n\n`;
  md += `1. **ë” êµ¬ì²´ì ì¸ í”„ë¡¬í”„íŠ¸ ì‘ì„±**\n`;
  md += `   - âŒ "íšŒì‚¬ ì†Œê°œ í˜ì´ì§€ ë§Œë“¤ì–´ì¤˜"\n`;
  md += `   - âœ… "ì¹œí™˜ê²½ í™”ì¥í’ˆ ë¸Œëœë“œì˜ ì†Œê°œ í˜ì´ì§€. ë¹„ê±´ ì¸ì¦, ë™ë¬¼ì‹¤í—˜ ë°˜ëŒ€, ì¬í™œìš© ìš©ê¸° ì‚¬ìš© ê°•ì¡°"\n\n`;
  md += `2. **í…œí”Œë¦¿ ë³€ê²½**: ëª©ì ì— ë§ëŠ” í…œí”Œë¦¿ ì„ íƒ\n\n`;
  md += `3. **ëª¨ë¸ ë³€ê²½**: ì°½ì˜ì  ì½˜í…ì¸ ëŠ” Claude, êµ¬ì¡°í™”ëœ ì½˜í…ì¸ ëŠ” GPT, ë¹ ë¥¸ ìƒì„±ì€ Gemini\n\n`;

  md += `### 4. ì´ë¯¸ì§€ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ\n\n`;
  md += `**ì„¤ëª…**: ì´ê²ƒì€ ì •ìƒì…ë‹ˆë‹¤! AIëŠ” ì´ë¯¸ì§€ URLì„ ìƒì„±í•˜ì§€ ì•Šê³  \`alt\` í…ìŠ¤íŠ¸ë§Œ ì œê³µí•©ë‹ˆë‹¤.\n\n`;
  md += `**í•´ê²° ë°©ë²•**:\n`;
  md += `1. ê° ì´ë¯¸ì§€ ë¸”ë¡ì„ í´ë¦­\n`;
  md += `2. "Select image" ë²„íŠ¼ í´ë¦­\n`;
  md += `3. ë¯¸ë””ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì ì ˆí•œ ì´ë¯¸ì§€ ì„ íƒ\n\n`;

  md += `### 5. ê¶Œí•œ ì˜¤ë¥˜\n\n`;
  md += `**ë¬¸ì œ**: "í˜ì´ì§€ë¥¼ ìƒì„±í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤" ë©”ì‹œì§€\n\n`;
  md += `**í•´ê²° ë°©ë²•**:\n`;
  md += `1. ê´€ë¦¬ìì—ê²Œ \`content:write\` ê¶Œí•œ ìš”ì²­\n`;
  md += `2. ë˜ëŠ” \`system:admin\` ì—­í•  ë¶€ì—¬ ìš”ì²­\n\n`;

  md += `---\n\n`;

  // ì¶”ê°€ ë¦¬ì†ŒìŠ¤
  md += `## ì¶”ê°€ ë¦¬ì†ŒìŠ¤\n\n`;
  md += `### ê´€ë ¨ ë¬¸ì„œ\n`;
  md += `- [ìˆì½”ë“œ ë ˆí¼ëŸ°ìŠ¤](./shortcode-reference.md)\n`;
  md += `- [ê´€ë¦¬ì ë§¤ë‰´ì–¼](./admin-manual.md)\n`;
  md += `- [ì™¸ëª¨ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ì´ë“œ](./appearance-customize.md)\n\n`;

  md += `### ìë™ ì—…ë°ì´íŠ¸\n\n`;
  md += `ì´ ë¬¸ì„œëŠ” AI ìƒì„± ì‹œìŠ¤í…œì´ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ê°±ì‹ ë©ë‹ˆë‹¤.\n\n`;
  md += `\`\`\`bash\n`;
  md += `# ë¬¸ì„œ ì—…ë°ì´íŠ¸ ëª…ë ¹\n`;
  md += `npm run update:ai-page-docs\n`;
  md += `\`\`\`\n\n`;

  md += `---\n\n`;
  md += `**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: ${currentDate}\n`;
  md += `**ë²„ì „**: 2.0.0 (ìë™ ìƒì„±)\n`;
  md += `**ì ìš© ëŒ€ìƒ**: O4O Platform Admin Dashboard v3.0+\n`;

  return md;
}

/**
 * ë¬¸ì„œ íŒŒì¼ ì—…ë°ì´íŠ¸
 */
function updateDocumentation() {
  const docsPath = path.join(__dirname, '../../../../docs/manual/ai-page-generation.md');
  const content = generateDocumentation();

  try {
    fs.writeFileSync(docsPath, content, 'utf-8');
    process.stdout.write(`âœ… AI í˜ì´ì§€ ìƒì„± ë¬¸ì„œê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤: ${docsPath}\n`);
    process.stdout.write(`ğŸ“… ì—…ë°ì´íŠ¸ ì‹œê°„: ${new Date().toLocaleString('ko-KR')}\n`);
  } catch (error) {
    process.stderr.write(`âŒ ë¬¸ì„œ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨: ${error}\n`);
    process.exit(1);
  }
}

// ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
updateDocumentation();

export { updateDocumentation, generateDocumentation };
