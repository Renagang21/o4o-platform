<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>O4O Admin Dashboard</title>
    <script>
      // React 19 Compatibility - Initialize global React before any modules load
      window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.__REACT_DEVTOOLS_GLOBAL_HOOK__ || {};
      window.__REACT_DEVTOOLS_GLOBAL_HOOK__.isDisabled = false;
    </script>
    <script>
      // Initialize WordPress global object BEFORE page load
      window.wp = window.wp || {};
      
      // Pre-create all WordPress module namespaces to prevent initialization errors
      window.wp.hooks = window.wp.hooks || {};
      window.wp.i18n = window.wp.i18n || {};
      window.wp.data = window.wp.data || {};
      window.wp.element = window.wp.element || {};
      window.wp.blocks = window.wp.blocks || {};
      window.wp.components = window.wp.components || {};
      window.wp.blockEditor = window.wp.blockEditor || {};
      window.wp.domReady = window.wp.domReady || function(fn) {
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', fn);
        } else {
          fn();
        }
      };
    </script>
    <script type="module" crossorigin src="/assets/index-C0pqeszJ.js"></script>
    <link rel="modulepreload" crossorigin href="/assets/vendor-ui-BkLtITBR.js">
    <link rel="modulepreload" crossorigin href="/assets/vendor-monaco-cpVGocfO.js">
    <link rel="modulepreload" crossorigin href="/assets/vendor-react-LfmQXg7x.js">
    <link rel="modulepreload" crossorigin href="/assets/vendor-query-D_Ku9Rpr.js">
    <link rel="modulepreload" crossorigin href="/assets/vendor-utils-DQ8F5vJI.js">
  </head>
  <body>
    <div id="root"></div>
    <script>
      // WordPress polyfill - Additional initialization after DOM is ready
      (function() {
        window.wp = window.wp || {};
        
        // Pre-initialize i18n to prevent circular reference
        window.wp.i18n = window.wp.i18n || {
          __: (text) => text,
          _x: (text) => text,
          _n: (single, plural, number) => number === 1 ? single : plural,
          _nx: (single, plural, number) => number === 1 ? single : plural,
          sprintf: (format, ...args) => {
            let i = 0;
            return format.replace(/%[sdjf]/g, () => String(args[i++]));
          },
          isRTL: () => false,
          setLocaleData: () => {},
          getLocaleData: () => ({}),
          hasTranslation: () => false,
          subscribe: () => () => {}
        };
        
        // Initialize hooks (needed by other WP modules)
        const filters = {};
        const actions = {};
        
        window.wp.hooks = {
          addFilter: (hookName, namespace, callback, priority = 10) => {
            filters[hookName] = filters[hookName] || [];
            filters[hookName].push(callback);
          },
          applyFilters: (hookName, value, ...args) => {
            const callbacks = filters[hookName] || [];
            return callbacks.reduce((val, callback) => callback(val, ...args), value);
          },
          addAction: (hookName, namespace, callback, priority = 10) => {
            actions[hookName] = actions[hookName] || [];
            actions[hookName].push(callback);
          },
          doAction: (hookName, ...args) => {
            const callbacks = actions[hookName] || [];
            callbacks.forEach(callback => callback(...args));
          },
          removeFilter: () => 0,
          removeAction: () => 0,
          hasFilter: () => false,
          hasAction: () => false,
          removeAllFilters: () => 0,
          removeAllActions: () => 0,
          currentFilter: () => null,
          currentAction: () => null,
          doingFilter: () => false,
          doingAction: () => false,
          didFilter: () => 0,
          didAction: () => 0
        };
        
        // Initialize other core WP modules to prevent initialization errors
        window.wp.data = window.wp.data || {
          select: () => ({}),
          dispatch: () => ({}),
          subscribe: () => () => {},
          registerStore: () => {}
        };
        
        window.wp.element = window.wp.element || {
          createElement: () => null,
          render: () => null
        };
        
        window.wp.blocks = window.wp.blocks || {
          registerBlockType: () => {},
          getCategories: () => [],
          setCategories: () => {}
        };
        
        window.wp.domReady = window.wp.domReady || ((callback) => {
          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', callback);
          } else {
            callback();
          }
        });
        
        // All WordPress polyfills initialized successfully
      })();
    </script>
  </body>
</html>