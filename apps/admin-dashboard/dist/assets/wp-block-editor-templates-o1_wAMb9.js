import{r as e}from"./vendor-react-BQ6HOJoh.js";import{g as t}from"./wp-block-editor-api-Buev8_QU.js";import{O as o}from"./wp-blocks-core-6vwQKPfS.js";import{s as r}from"./wp-block-editor-store-B-g1aSix.js";import{u as s,b as n}from"./wp-block-editor-misc-pHCPYvR2.js";function c(c,l,i,a){const{getBlocks:u,getSelectedBlocksInitialCaretPosition:f,isBlockSelected:p}=s(r),{replaceInnerBlocks:k,__unstableMarkNextChangeAsNotPersistent:m}=n(r),g=e.useRef(null);e.useLayoutEffect(()=>{let e=!1;return window.queueMicrotask(()=>{if(e)return;const r=u(c),s=0===r.length||"all"===i||"contentOnly"===i,n=!t(l,g.current);if(!s||!n)return;g.current=l;const d=o(r,l);t(d,r)||(m(),k(c,d,0===r.length&&a&&0!==d.length&&p(c),f()))}),()=>{e=!0}},[l,i,c])}export{c as u};
