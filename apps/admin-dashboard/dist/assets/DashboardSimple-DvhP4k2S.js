const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-react-k21L8gyu.js","assets/vendor-ui-BkLtITBR.js","assets/vendor-monaco-cpVGocfO.js"])))=>i.map(i=>d[i]);
import{r as u,j as t,bK as n,P as v,F as f,bC as x,w as C,bs as E,Y as H,bA as W,c3 as I,J as K}from"./vendor-react-k21L8gyu.js";import{_ as V,B as j}from"./page-gutenberg-DfBK4wFH.js";import{a as m}from"./vendor-query-D5rBm9N_.js";import{u as y}from"./unified-client-DmXJv9mp.js";import{E as N}from"./ecommerceApi-DKUpzg0y.js";import{u as B,S as Y}from"./ScreenMeta-D7ak6rGp.js";import{b as z}from"./vendor-utils-DQ8F5vJI.js";import"./wp-block-editor-DM9yXXIa.js";import"./wp-i18n-DQMG9Moe.js";import"./wp-core-CTkjrE6Y.js";import"./wp-blocks-core-m9M-jdYH.js";import"./wp-misc-eJXghOJf.js";import"./wp-data-CiqFlSQ4.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-monaco-cpVGocfO.js";import"./wp-components-C7vO1IIk.js";import"./main-jxz3gomr.js";import"./vendor-socket-Ch6lN7-G.js";const h={async getStats(){let e=null,a=null,i=null;try{const[s,o]=await Promise.all([N.getDashboardStats(),y.raw.get("/api/users/stats").catch(()=>(V(async()=>{const{default:l}=await import("./vendor-react-k21L8gyu.js").then(c=>c.dv);return{default:l}},__vite__mapDeps([0,1,2])).then(({default:l})=>{l.error("사용자 통계를 불러올 수 없습니다")}),{data:{total:0,pending:0,todayCount:0,activeRate:0}}))]);e=null,a=null,i=null;const r=s.data;return{users:{total:r?.totalCustomers||o.data.total||0,pending:o.data.pending||0,today:o.data.todayCount||0,activeRate:o.data.activeRate||85,change:o.data.monthlyChange||12,trend:o.data.monthlyChange>=0?"up":"down"},sales:{today:r?.todaySales||0,changePercent:15.3,monthlyTotal:r?.todaySales?r.todaySales*30:0,monthlyTarget:5e7,trend:"up"},products:{active:r?.totalProducts||0,lowStock:r?.lowStockProducts||0,newThisWeek:5,bestsellers:[],change:8.2,trend:"up"},content:{publishedPages:45,draftContent:12,totalMedia:234,todayViews:1567,change:23.4,trend:"up"},partners:{active:0,pending:0,totalCommission:0,topPartners:[],change:0,trend:"up"},apps:{forum:e?{posts:e.totalPosts,activeUsers:e.activeUsers,pendingModeration:e.pendingModeration}:{posts:0,activeUsers:0,pendingModeration:0},signage:a?{displays:a.totalDisplays,activeDisplays:a.activeDisplays,content:a.totalContent}:{displays:0,activeDisplays:0,content:0},crowdfunding:i?{campaigns:i.totalCampaigns,totalRaised:i.totalRaised,backers:i.totalBackers}:{campaigns:0,totalRaised:0,backers:0}}}}catch{return{users:{total:0,pending:0,today:0,activeRate:0,change:0,trend:"up"},sales:{today:0,changePercent:0,monthlyTotal:0,monthlyTarget:5e7,trend:"up"},products:{active:0,lowStock:0,newThisWeek:0,bestsellers:[],change:0,trend:"up"},content:{publishedPages:0,draftContent:0,totalMedia:0,todayViews:0,change:0,trend:"up"},partners:{active:0,pending:0,totalCommission:0,topPartners:[],change:0,trend:"up"},apps:{forum:e?{posts:e.totalPosts,activeUsers:e.activeUsers,pendingModeration:e.pendingModeration}:{posts:0,activeUsers:0,pendingModeration:0},signage:a?{displays:a.totalDisplays,activeDisplays:a.activeDisplays,content:a.totalContent}:{displays:0,activeDisplays:0,content:0},crowdfunding:i?{campaigns:i.totalCampaigns,totalRaised:i.totalRaised,backers:i.totalBackers}:{campaigns:0,totalRaised:0,backers:0}}}}},async getChartData(){try{const[e,a]=await Promise.all([N.getSalesReport("month"),N.getOrders(1,100)]),s=(e.data?.salesByDay||[]).map(c=>({date:c.date,amount:c.sales||0,orders:c.orders||0})),o=a.data||[],r={};o.forEach(c=>{r[c.status]=(r[c.status]||0)+1});const l=[{status:"대기중",count:r.pending||0,color:"#f59e0b"},{status:"처리중",count:r.processing||0,color:"#3b82f6"},{status:"배송중",count:r.shipped||0,color:"#8b5cf6"},{status:"완료",count:r.completed||0,color:"#10b981"},{status:"취소",count:r.cancelled||0,color:"#ef4444"},{status:"환불",count:r.refunded||0,color:"#f97316"}].filter(c=>c.count>0);return{sales:s.length>0?s:this.getDefaultSalesData(),orders:l.length>0?l:this.getDefaultOrdersData(),users:this.getDefaultUsersData()}}catch{return{sales:this.getDefaultSalesData(),orders:this.getDefaultOrdersData(),users:this.getDefaultUsersData()}}},async getNotifications(){try{const a=(await y.raw.get("/admin/notifications?limit=20")).data.notifications||[],i=a.filter(o=>o.type==="urgent").length,s=a.filter(o=>o.type==="approval").length;return{items:a,total:a.length,urgent:i,approval:s}}catch{return{items:this.getDefaultNotifications(),total:4,urgent:2,approval:1}}},async getRecentActivities(){try{return(await y.raw.get("/admin/activities?limit=15")).data.activities||this.getDefaultActivities()}catch{return this.getDefaultActivities()}},async getSystemHealth(){try{return(await y.raw.get("/system/health")).data}catch{return this.getDefaultSystemHealth()}},getDefaultSalesData(){const e=[],a=new Date;for(let i=29;i>=0;i--){const s=new Date(a);s.setDate(s.getDate()-i),e.push({date:s.toISOString().split("T")[0],amount:Math.floor(Math.random()*5e5)+1e5,orders:Math.floor(Math.random()*50)+10})}return e},getDefaultOrdersData(){return[{status:"처리중",count:45,color:"#3b82f6"},{status:"배송중",count:23,color:"#f59e0b"},{status:"완료",count:67,color:"#10b981"},{status:"취소",count:5,color:"#ef4444"}]},getDefaultUsersData(){const e=[],a=new Date;for(let i=6;i>=0;i--){const s=new Date(a);s.setDate(s.getDate()-i),e.push({date:s.toISOString().split("T")[0],newUsers:Math.floor(Math.random()*20)+5,activeUsers:Math.floor(Math.random()*100)+50})}return e},getDefaultNotifications(){return[{id:"1",type:"urgent",title:"재고 부족 경고",message:"오메가3 제품의 재고가 5개 미만입니다.",time:"2분 전",read:!1,actionUrl:"/products/low-stock"},{id:"2",type:"approval",title:"사업자 승인 대기",message:"김사업자님의 사업자 등록 승인이 대기 중입니다.",time:"15분 전",read:!1,actionUrl:"/users/pending"},{id:"3",type:"success",title:"매출 목표 달성",message:"이번 주 매출 목표를 달성했습니다!",time:"1시간 전",read:!0},{id:"4",type:"info",title:"새로운 리뷰",message:"프리미엄 비타민 상품에 새 리뷰가 등록되었습니다.",time:"2시간 전",read:!0}]},getDefaultActivities(){return[{id:"1",type:"user",message:"새로운 사업자 회원이 가입했습니다",time:"2분 전",user:"김사업자",icon:"👤"},{id:"2",type:"order",message:"새 주문이 접수되었습니다 (#ORD-2025-001)",time:"15분 전",user:"이고객",icon:"🛒"},{id:"3",type:"product",message:"오메가3 상품의 재고가 부족합니다",time:"1시간 전",icon:"📦"},{id:"4",type:"content",message:"건강 가이드 페이지가 발행되었습니다",time:"2시간 전",user:"관리자",icon:"📄"},{id:"5",type:"order",message:"주문 #ORD-2024-156이 배송 완료되었습니다",time:"3시간 전",icon:"✅"}]},getDefaultSystemHealth(){return{api:{status:"healthy",responseTime:120,lastCheck:new Date().toISOString()},database:{status:"healthy",connections:8,lastCheck:new Date().toISOString()},storage:{status:"healthy",usage:2.4,total:10},memory:{status:"warning",usage:1.2,total:2}}}},Q=()=>{const[e,a]=u.useState(0),{data:i,isLoading:s,error:o,refetch:r}=m({queryKey:["dashboard","stats",e],queryFn:()=>h.getStats(),enabled:!0,staleTime:300*1e3,gcTime:600*1e3,retry:2}),{data:l,isLoading:c,error:P,refetch:p}=m({queryKey:["dashboard","charts",e],queryFn:async()=>{const d=await h.getChartData();return{sales:d.sales,orders:d.orders,users:d.users}},enabled:!0,staleTime:300*1e3,gcTime:600*1e3,retry:2}),{data:T,isLoading:w,refetch:g}=m({queryKey:["dashboard","notifications",e],queryFn:()=>h.getNotifications(),enabled:!0,staleTime:120*1e3,retry:2}),{data:M,isLoading:b,refetch:D}=m({queryKey:["dashboard","activities",e],queryFn:()=>h.getRecentActivities(),enabled:!0,staleTime:180*1e3,retry:2}),{data:R,isLoading:k,refetch:S}=m({queryKey:["dashboard","health",e],queryFn:()=>h.getSystemHealth(),enabled:!0,staleTime:30*1e3,retry:1}),q=s||c||w||b||k,A=o||P,U=u.useCallback(async()=>{const d=Date.now();a(d);const _=[r(),p(),g(),D(),S()];await Promise.allSettled(_)},[r,p,g,D,S]),L=u.useCallback(()=>r(),[r]),O=u.useCallback(()=>p(),[p]),F=u.useCallback(()=>g(),[g]);return{stats:i,chartData:l,notifications:T,activities:M,systemHealth:R,isLoading:q,error:A,refreshAllData:U,refreshStats:L,refreshCharts:O,refreshNotifications:F,loadingStates:{stats:s,charts:c,notifications:w,activities:b,health:k}}},$=()=>(B([{id:"overview",title:"Overview",content:`
        <p>Welcome to your WordPress Dashboard! This is the main hub of your site where you can access all administrative functions.</p>
        <p>The Dashboard provides a quick overview of your site's content and activity. You can see at a glance:</p>
        <ul>
          <li>Site statistics including posts, pages, and comments</li>
          <li>Recent activity on your site</li>
          <li>Quick actions to create new content</li>
          <li>Links to commonly used features</li>
        </ul>
        <p>The Dashboard is customizable. You can rearrange widgets, add or remove them, and adjust the layout to suit your workflow.</p>
      `},{id:"navigation",title:"Navigation",content:`
        <p>The left-hand navigation menu is your primary way to move around the WordPress admin area.</p>
        <p><strong>Main sections include:</strong></p>
        <ul>
          <li><strong>Posts</strong> - Create and manage blog posts</li>
          <li><strong>Media</strong> - Upload and manage images, videos, and documents</li>
          <li><strong>Pages</strong> - Create static pages like About or Contact</li>
          <li><strong>Comments</strong> - Moderate user comments</li>
          <li><strong>Appearance</strong> - Customize your site's look</li>
          <li><strong>Plugins</strong> - Add functionality to your site</li>
          <li><strong>Users</strong> - Manage user accounts and permissions</li>
          <li><strong>Tools</strong> - Import/export and other utilities</li>
          <li><strong>Settings</strong> - Configure site options</li>
        </ul>
      `},{id:"quick-actions",title:"Quick Actions",content:`
        <p>The Dashboard provides several quick action buttons at the top:</p>
        <ul>
          <li><strong>New Post</strong> - Start writing a new blog post</li>
          <li><strong>New Page</strong> - Create a new static page</li>
          <li><strong>Upload Media</strong> - Add images or files to your media library</li>
        </ul>
        <p>You can also access these actions from the admin bar at the top of every page when you hover over the "+ New" menu.</p>
      `}],{title:"For more information:",content:`
      <p><a href="https://wordpress.org/support/article/dashboard-screen/" target="_blank">Documentation on Dashboard</a></p>
      <p><a href="https://wordpress.org/support/" target="_blank">Support Forums</a></p>
      <p><a href="https://wordpress.org/support/article/wordpress-video-tutorials/" target="_blank">Video Tutorials</a></p>
    `}),null),pt=()=>{const{stats:e,isLoading:a}=Q(),i=[{id:"1",type:"post",title:"Welcome to WordPress!",author:"admin",date:new Date(Date.now()-1e3*60*30),icon:f},{id:"2",type:"comment",title:"Great article on React development",author:"John Doe",date:new Date(Date.now()-1e3*60*60*2),icon:x},{id:"3",type:"user",title:"New user registration",author:"jane.smith@example.com",date:new Date(Date.now()-1e3*60*60*5),icon:C}];return a?t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"wrap",children:[t.jsx($,{}),t.jsx(Y,{}),t.jsx("h1",{className:"wp-heading-inline",children:"Dashboard"}),t.jsxs("div",{className:"quick-actions-bar",children:[t.jsx(n,{to:"/posts/new",children:t.jsxs(j,{className:"button button-primary",children:[t.jsx(v,{className:"w-4 h-4 mr-1"}),"New Post"]})}),t.jsx(n,{to:"/pages/new",children:t.jsxs(j,{variant:"secondary",children:[t.jsx(v,{className:"w-4 h-4 mr-1"}),"New Page"]})}),t.jsx(n,{to:"/media/upload",children:t.jsxs(j,{variant:"secondary",children:[t.jsx(v,{className:"w-4 h-4 mr-1"}),"Upload Media"]})})]}),t.jsxs("div",{className:"dashboard-stats-grid",children:[t.jsx("div",{className:"stat-card",children:t.jsxs(n,{to:"/posts",className:"stat-card-link",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(f,{className:"w-8 h-8"})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:e?.posts||0}),t.jsx("div",{className:"stat-label",children:"Posts"})]})]})}),t.jsx("div",{className:"stat-card",children:t.jsxs(n,{to:"/pages",className:"stat-card-link",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(f,{className:"w-8 h-8"})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:e?.pages||0}),t.jsx("div",{className:"stat-label",children:"Pages"})]})]})}),t.jsx("div",{className:"stat-card",children:t.jsxs(n,{to:"/comments",className:"stat-card-link",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(x,{className:"w-8 h-8"})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:e?.comments?.total||0}),t.jsx("div",{className:"stat-label",children:"Comments"}),e?.comments&&e.comments.pending>0&&t.jsxs("div",{className:"stat-badge",children:[e.comments.pending," pending"]})]})]})}),t.jsx("div",{className:"stat-card",children:t.jsxs(n,{to:"/users",className:"stat-card-link",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(C,{className:"w-8 h-8"})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:typeof e?.users=="number"?e.users:e?.users?.total||0}),t.jsx("div",{className:"stat-label",children:"Users"})]})]})}),e?.products!==void 0&&t.jsx("div",{className:"stat-card",children:t.jsxs(n,{to:"/ecommerce/products",className:"stat-card-link",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(E,{className:"w-8 h-8"})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:typeof e.products=="number"?e.products:e.products?.active||0}),t.jsx("div",{className:"stat-label",children:"Products"})]})]})}),e?.views!==void 0&&t.jsx("div",{className:"stat-card",children:t.jsxs("div",{className:"stat-card-link",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(H,{className:"w-8 h-8"})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:e.views?.toLocaleString()||0}),t.jsx("div",{className:"stat-label",children:"Views Today"}),t.jsx(W,{className:"w-4 h-4 text-green-600 inline ml-1"})]})]})})]}),t.jsxs("div",{className:"dashboard-activity-section",children:[t.jsx("h2",{className:"section-title",children:"Recent Activity"}),t.jsx("div",{className:"activity-list",children:i.map(s=>{const o=s.icon;return t.jsxs("div",{className:"activity-item",children:[t.jsx("div",{className:"activity-icon",children:t.jsx(o,{className:"w-5 h-5"})}),t.jsxs("div",{className:"activity-content",children:[t.jsxs("div",{className:"activity-title",children:[s.type==="post"&&t.jsx(n,{to:`/posts/${s.id}/edit`,children:s.title}),s.type==="comment"&&t.jsxs(t.Fragment,{children:["Comment from ",t.jsx("strong",{children:s.author})," on ",t.jsx(n,{to:`/comments/${s.id}`,children:s.title})]}),s.type==="user"&&t.jsxs(t.Fragment,{children:[s.title,": ",t.jsx("strong",{children:s.author})]})]}),t.jsx("div",{className:"activity-time",children:z(s.date,{addSuffix:!0})})]}),t.jsxs("div",{className:"activity-actions",children:[s.type==="post"&&t.jsx(n,{to:`/posts/${s.id}/edit`,className:"activity-action",children:t.jsx(I,{className:"w-4 h-4"})}),s.type==="comment"&&t.jsx(n,{to:`/comments/${s.id}`,className:"activity-action",children:t.jsx(x,{className:"w-4 h-4"})})]})]},s.id)})}),t.jsx("div",{className:"activity-footer",children:t.jsx(n,{to:"/activity",className:"view-all-link",children:"View All Activity →"})})]}),t.jsxs("div",{className:"dashboard-quick-links",children:[t.jsx("h2",{className:"section-title",children:"Quick Links"}),t.jsxs("div",{className:"quick-links-grid",children:[t.jsxs(n,{to:"/themes/customize",className:"quick-link",children:[t.jsx(K,{className:"w-5 h-5 mr-2"}),"Customize Your Site"]}),t.jsx(n,{to:"/themes/menus",className:"quick-link",children:"Manage Menus"}),t.jsx(n,{to:"/themes/widgets",className:"quick-link",children:"Manage Widgets"}),t.jsx(n,{to:"/settings/general",className:"quick-link",children:"General Settings"})]})]})]})};export{pt as default};
