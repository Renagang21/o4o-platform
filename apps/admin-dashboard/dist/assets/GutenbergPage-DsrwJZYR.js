import{r as e,j as s,F as a,J as t,X as l,cM as i,c2 as n,Y as r,S as c,P as o,I as d,_ as m,d as x,c as h,u as p,U as u,e as g,L as j,ck as v,d3 as b,cc as N,D as f,d0 as y,s as w,d1 as C,bF as k,bx as S,cQ as P,w as z,cE as A,t as U,H as T,a as B,B as F,z as D,dx as L,bH as E,bB as O,dr as R,cn as I,bL as M,cF as H,a3 as G,a5 as q,cx as $,cy as V,a1 as W,E as J}from"./vendor-react-Bb0TGSr4.js";import{c as K,a as Q,b as Y,d as _,B as X,O as Z,e as ee,L as se,S as ae,f as te,g as le,h as ie,i as ne,I as re,T as ce,P as oe,w as de,x as me,y as xe,z as he,E as pe,F as ue,C as ge,k as je,l as ve,s as be,m as Ne,t as fe,Q as ye,U as we,D as Ce,n as ke,o as Se,r as Pe,q as ze,G as Ae}from"./page-gutenberg-CGPrHM9_.js";import{S as Ue}from"./page-template-editor-jCKIl0_P.js";import{C as Te}from"./checkbox-bN53xhY0.js";import"./vendor-monaco-BxJH8uUv.js";import"./vendor-ui-CrFdsnXa.js";import"./vendor-query-BEO_OofR.js";import"./vendor-utils-B-KQWpLj.js";import"./wp-foundation-Ht0JG6Uo.js";import"./wp-components-CoD93iDH.js";const Be=e.createContext(null),Fe=e.forwardRef(({open:a,defaultOpen:t=!1,onOpenChange:l,children:i,className:n,...r},c)=>{const[o,d]=e.useState(t),m=a??o;return s.jsx(Be.Provider,{value:{open:m,onOpenChange:e=>{void 0===a&&d(e),l?.(e)}},children:s.jsx("div",{ref:c,className:n,...r,children:i})})}),De=e.forwardRef(({onClick:a,...t},l)=>{const i=e.useContext(Be);if(!i)throw new Error("CollapsibleTrigger must be used within Collapsible");return s.jsx("button",{ref:l,onClick:e=>{a?.(e),i.onOpenChange(!i.open)},"aria-expanded":i.open,...t})}),Le=e.forwardRef(({className:a,style:t,children:l,...i},n)=>{const r=e.useContext(Be);if(!r)throw new Error("CollapsibleContent must be used within Collapsible");return r.open?s.jsx("div",{ref:n,className:K("overflow-hidden","data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up",a),"data-state":r.open?"open":"closed",style:{...t},...i,children:l}):null});Fe.displayName="Collapsible",De.displayName="CollapsibleTrigger",Le.displayName="CollapsibleContent";const Ee=({title:a,defaultOpen:t=!0,children:l})=>{const[i,n]=e.useState(t);return s.jsxs(Fe,{open:i,onOpenChange:n,children:[s.jsxs(De,{className:"flex items-center justify-between w-full p-4 hover:bg-gray-50 transition-colors",children:[s.jsx("h3",{className:"font-medium text-sm",children:a}),i?s.jsx(x,{className:"h-4 w-4 text-gray-500"}):s.jsx(h,{className:"h-4 w-4 text-gray-500"})]}),s.jsx(Le,{className:"px-4 pb-4",children:l})]})},Oe=({activeTab:x="document",postSettings:h,blockSettings:p,onPostSettingsChange:u,onBlockSettingsChange:g,onClose:j})=>{const[v,b]=e.useState(""),[N,f]=e.useState(!1),[y,w]=e.useState(""),C=()=>{v.trim()&&(u({tags:[...h.tags,v.trim()]}),b(""))};return s.jsxs("div",{className:"w-80 h-full bg-white border-l flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx(Q,{value:x,className:"w-full",children:s.jsxs(Y,{className:"grid w-full grid-cols-2",children:[s.jsxs(_,{value:"document",className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"Document"]}),s.jsxs(_,{value:"block",className:"flex items-center gap-2",children:[s.jsx(t,{className:"h-4 w-4"}),"Block"]})]})}),j&&s.jsx(X,{variant:"ghost",size:"icon",className:"ml-2",onClick:j,children:s.jsx(l,{className:"h-4 w-4"})})]}),s.jsx(Z,{className:"flex-1",children:s.jsxs(Q,{value:x,className:"w-full",children:[s.jsxs(ee,{value:"document",className:"m-0",children:[s.jsx(Ee,{title:"Status & visibility",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(se,{className:"text-xs",children:"Visibility"}),s.jsxs(ae,{value:h.visibility,onValueChange:e=>u({visibility:e}),children:[s.jsx(te,{className:"w-full mt-1",children:s.jsx(le,{})}),s.jsxs(ie,{children:[s.jsx(ne,{value:"public",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i,{className:"h-4 w-4"}),"Public"]})}),s.jsx(ne,{value:"private",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n,{className:"h-4 w-4"}),"Private"]})}),s.jsx(ne,{value:"password",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(r,{className:"h-4 w-4"}),"Password protected"]})})]})]})]}),s.jsxs("div",{children:[s.jsx(se,{className:"text-xs",children:"Publish"}),s.jsx(re,{type:"datetime-local",value:h.publishDate,onChange:e=>u({publishDate:e.target.value}),className:"mt-1"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{htmlFor:"sticky",className:"text-xs",children:"Stick to the top of the blog"}),s.jsx(Ue,{id:"sticky",checked:h.sticky,onCheckedChange:e=>u({sticky:e})})]}),s.jsx("div",{className:"pt-2 border-t",children:s.jsx(X,{variant:"link",className:"p-0 h-auto text-red-600 hover:text-red-700",children:"Move to trash"})})]})}),s.jsx(Ee,{title:"Permalink",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(se,{className:"text-xs",children:"URL Slug"}),s.jsx(re,{value:h.slug,onChange:e=>u({slug:e.target.value}),placeholder:"post-url-slug"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["The last part of the URL. Read more about ",s.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"permalinks"})]})]})}),s.jsx(Ee,{title:"Categories",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(X,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f(!N),children:[s.jsx(c,{className:"h-4 w-4 mr-2"}),"Search categories"]}),N&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-md shadow-lg z-10",children:s.jsx(re,{autoFocus:!0,placeholder:"Search...",value:y,onChange:e=>w(e.target.value),className:"border-0 focus-visible:ring-0"})})]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[{id:"1",name:"News",slug:"news"},{id:"2",name:"Tutorials",slug:"tutorials"},{id:"3",name:"Updates",slug:"updates"},{id:"4",name:"Announcements",slug:"announcements"}].filter(e=>e.name.toLowerCase().includes(y.toLowerCase())).map(e=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[s.jsx("input",{type:"checkbox",checked:h.categories.includes(e.id),onChange:()=>(e=>{const s=h.categories.includes(e);u(s?{categories:h.categories.filter(s=>s!==e)}:{categories:[...h.categories,e]})})(e.id),className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm",children:e.name})]},e.id))}),s.jsxs(X,{variant:"link",size:"sm",className:"p-0 h-auto",children:[s.jsx(o,{className:"h-4 w-4 mr-1"}),"Add New Category"]})]})}),s.jsx(Ee,{title:"Tags",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{placeholder:"Add new tag",value:v,onChange:e=>b(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),C())}}),s.jsx(X,{size:"sm",onClick:C,children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.tags.map(e=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-md text-sm",children:[e,s.jsx("button",{onClick:()=>{return s=e,void u({tags:h.tags.filter(e=>e!==s)});var s},className:"hover:text-red-600",children:s.jsx(l,{className:"h-3 w-3"})})]},e))})]})}),s.jsx(Ee,{title:"Featured image",children:s.jsx("div",{className:"space-y-3",children:h.featuredImage?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:h.featuredImage,alt:"Featured",className:"w-full rounded-md"}),s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md flex items-center justify-center gap-2",children:[s.jsx(X,{size:"sm",variant:"secondary",children:"Replace"}),s.jsx(X,{size:"sm",variant:"secondary",onClick:()=>u({featuredImage:void 0}),children:"Remove"})]})]}):s.jsxs(X,{variant:"outline",className:"w-full",children:[s.jsx(d,{className:"h-4 w-4 mr-2"}),"Set featured image"]})})}),s.jsx(Ee,{title:"Excerpt",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ce,{placeholder:"Write an excerpt (optional)",value:h.excerpt,onChange:e=>u({excerpt:e.target.value}),rows:4}),s.jsx("p",{className:"text-xs text-gray-500",children:"Write an excerpt (optional)"})]})}),s.jsx(Ee,{title:"Discussion",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{htmlFor:"comments",className:"text-xs",children:"Allow comments"}),s.jsx(Ue,{id:"comments",checked:h.commentStatus,onCheckedChange:e=>u({commentStatus:e})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{htmlFor:"pingbacks",className:"text-xs",children:"Allow pingbacks & trackbacks"}),s.jsx(Ue,{id:"pingbacks",checked:h.pingStatus,onCheckedChange:e=>u({pingStatus:e})})]})]})})]}),s.jsx(ee,{value:"block",className:"m-0",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ee,{title:"Block settings",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[s.jsx("p",{className:"text-sm font-medium",children:p.type}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Block ID: ",p.id]})]})})}),"heading"===p.type&&s.jsx(Ee,{title:"Typography",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(se,{className:"text-xs",children:"Level"}),s.jsxs(ae,{value:p.attributes?.level||"h2",onValueChange:e=>g?.({attributes:{...p.attributes,level:e}}),children:[s.jsx(te,{className:"w-full mt-1",children:s.jsx(le,{})}),s.jsxs(ie,{children:[s.jsx(ne,{value:"h1",children:"Heading 1"}),s.jsx(ne,{value:"h2",children:"Heading 2"}),s.jsx(ne,{value:"h3",children:"Heading 3"}),s.jsx(ne,{value:"h4",children:"Heading 4"}),s.jsx(ne,{value:"h5",children:"Heading 5"}),s.jsx(ne,{value:"h6",children:"Heading 6"})]})]})]}),s.jsxs("div",{children:[s.jsx(se,{className:"text-xs",children:"Alignment"}),s.jsx("div",{className:"flex gap-1 mt-1",children:["left","center","right"].map(e=>s.jsx(X,{variant:p.attributes?.align===e?"default":"outline",size:"sm",onClick:()=>g?.({attributes:{...p.attributes,align:e}}),children:e},e))})]})]})}),s.jsx(Ee,{title:"Advanced",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(se,{className:"text-xs",children:"Additional CSS class(es)"}),s.jsx(re,{placeholder:"custom-class",value:p.attributes?.className||"",onChange:e=>g?.({attributes:{...p.attributes,className:e.target.value}}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(se,{className:"text-xs",children:"HTML anchor"}),s.jsx(re,{placeholder:"anchor-id",value:p.attributes?.anchor||"",onChange:e=>g?.({attributes:{...p.attributes,anchor:e.target.value}}),className:"mt-1"})]})]})})]}):s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(m,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"Select a block to see its settings"})]})})]})})]})},Re=({mode:t="library",onSelect:i,multiple:n=!1,accept:m,onClose:x})=>{const[h,k]=e.useState("grid"),[S,P]=e.useState([]),[z,A]=e.useState(""),[U,T]=e.useState("all"),[B,F]=e.useState(null),[D,L]=e.useState(!1),[E,O]=e.useState(!1),[R,I]=e.useState(null),[M,H]=e.useState(0),[G,q]=e.useState(!1),[$,V]=e.useState([{id:"1",name:"product-image-1.jpg",url:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=200",type:"image",mimeType:"image/jpeg",size:1024e3,dimensions:{width:1920,height:1080},uploadedAt:new Date("2024-01-15"),uploadedBy:"Admin User",tags:["product","headphones"],alt:"Black headphones on yellow background"},{id:"2",name:"banner-hero.png",url:"https://images.unsplash.com/photo-1524634126442-357e0eac3c14?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1524634126442-357e0eac3c14?w=200",type:"image",mimeType:"image/png",size:2048e3,dimensions:{width:2560,height:1440},uploadedAt:new Date("2024-01-10"),uploadedBy:"Admin User",tags:["banner","hero"],alt:"Store banner image"}]),[W]=e.useState([{id:"folder-1",name:"Products",createdAt:new Date("2024-01-01"),itemCount:45},{id:"folder-2",name:"Banners",createdAt:new Date("2024-01-05"),itemCount:12}]),J=e.useCallback(e=>{q(!0),H(0);const s=setInterval(()=>{H(a=>{if(a>=100){clearInterval(s),q(!1);const a=e.map((e,s)=>({id:`new-${Date.now()}-${s}`,name:e.name,url:URL.createObjectURL(e),type:e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":"document",mimeType:e.type,size:e.size,uploadedAt:new Date,uploadedBy:"Current User",folderId:B||void 0}));return V(e=>[...a,...e]),100}return a+10})},200)},[B]),{getRootProps:Q,getInputProps:Y,isDragActive:_}=p({onDrop:J,accept:m?{[m]:[]}:void 0,multiple:n}),ee=$.filter(e=>{const s=e.name.toLowerCase().includes(z.toLowerCase())||e.alt?.toLowerCase().includes(z.toLowerCase())||e.tags?.some(e=>e.toLowerCase().includes(z.toLowerCase())),a="all"===U||e.type===U,t=!B||e.folderId===B;return s&&a&&t}),ce=e=>{"picker"===t&&P(n?s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]:[e])},ge=e=>{switch(e){case"image":return d;case"video":return C;case"audio":return w;case"document":return a;default:return y}},je=e=>{if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]};return s.jsxs("div",{className:"h-full flex flex-col bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>L(!0),children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"Upload"]}),"picker"===t&&s.jsxs(X,{size:"sm",onClick:()=>{const e=$.filter(e=>S.includes(e.id));i?.(e),x?.()},disabled:0===S.length,children:["Select ",S.length>0&&`(${S.length})`]}),x&&s.jsx(X,{variant:"ghost",size:"icon",onClick:x,children:s.jsx(l,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(re,{placeholder:"Search media...",value:z,onChange:e=>A(e.target.value),className:"pl-10 w-64"})]}),s.jsxs(ae,{value:U,onValueChange:T,children:[s.jsx(te,{className:"w-32",children:s.jsx(le,{})}),s.jsxs(ie,{children:[s.jsx(ne,{value:"all",children:"All types"}),s.jsx(ne,{value:"image",children:"Images"}),s.jsx(ne,{value:"video",children:"Videos"}),s.jsx(ne,{value:"audio",children:"Audio"}),s.jsx(ne,{value:"document",children:"Documents"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"grid"===h?"default":"ghost",size:"icon",onClick:()=>k("grid"),children:s.jsx(g,{className:"h-4 w-4"})}),s.jsx(X,{variant:"list"===h?"default":"ghost",size:"icon",onClick:()=>k("list"),children:s.jsx(j,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex-1 flex",children:[s.jsxs("div",{className:"w-64 border-r p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-medium text-sm",children:"Folders"}),s.jsx(X,{size:"icon",variant:"ghost",className:"h-6 w-6",children:s.jsx(o,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>F(null),className:K("w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm hover:bg-gray-100",!B&&"bg-gray-100"),children:[s.jsx(v,{className:"h-4 w-4"}),s.jsx("span",{children:"All Media"}),s.jsx("span",{className:"ml-auto text-xs text-gray-500",children:$.length})]}),W.map(e=>s.jsxs("button",{onClick:()=>F(e.id),className:K("w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm hover:bg-gray-100",B===e.id&&"bg-gray-100"),children:[B===e.id?s.jsx(b,{className:"h-4 w-4"}):s.jsx(v,{className:"h-4 w-4"}),s.jsx("span",{children:e.name}),s.jsx("span",{className:"ml-auto text-xs text-gray-500",children:e.itemCount})]},e.id))]}),s.jsxs("div",{className:"mt-8 pt-8 border-t",children:[s.jsx("h3",{className:"font-medium text-sm mb-4",children:"Storage"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Used"}),s.jsx("span",{className:"font-medium",children:"2.5 GB"})]}),s.jsx(oe,{value:25,className:"h-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"2.5 GB of 10 GB used"})]})]})]}),s.jsxs("div",{className:"flex-1 p-4",children:[G&&s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Uploading files..."}),s.jsxs("span",{className:"text-sm text-gray-600",children:[M,"%"]})]}),s.jsx(oe,{value:M,className:"h-2"})]}),s.jsx(Z,{className:"h-full",children:"grid"===h?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:ee.map(e=>{const a=ge(e.type),l=S.includes(e.id);return s.jsxs("div",{onClick:()=>ce(e.id),className:K("group relative cursor-pointer rounded-lg border-2 overflow-hidden transition-all",l?"border-blue-500 shadow-lg":"border-transparent hover:border-gray-300"),children:[s.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:["image"===e.type&&e.thumbnailUrl?s.jsx("img",{src:e.thumbnailUrl,alt:e.alt||e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(a,{className:"h-12 w-12 text-gray-400"})}),"picker"===t&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(Te,{checked:l,className:"bg-white"})}),s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[s.jsx(X,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:e=>{e.stopPropagation()},children:s.jsx(r,{className:"h-4 w-4"})}),s.jsx(X,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:s=>{s.stopPropagation(),I(e),O(!0)},children:s.jsx(N,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:e.name}),s.jsx("p",{className:"text-xs text-gray-500",children:je(e.size)})]})]},e.id)})}):s.jsx("div",{className:"space-y-2",children:ee.map(e=>{const a=ge(e.type),l=S.includes(e.id);return s.jsxs("div",{onClick:()=>ce(e.id),className:K("flex items-center gap-4 p-3 rounded-lg border cursor-pointer transition-all",l?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:["picker"===t&&s.jsx(Te,{checked:l}),s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:"image"===e.type&&e.thumbnailUrl?s.jsx("img",{src:e.thumbnailUrl,alt:e.alt||e.name,className:"w-full h-full object-cover rounded"}):s.jsx(a,{className:"h-6 w-6 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsx("span",{children:je(e.size)}),e.dimensions&&s.jsxs("span",{children:[e.dimensions.width," × ",e.dimensions.height]}),s.jsx("span",{children:new Date(e.uploadedAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:s=>{s.stopPropagation(),I(e),O(!0)},children:s.jsx(N,{className:"h-4 w-4"})}),s.jsx(X,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:e=>{e.stopPropagation()},children:s.jsx(f,{className:"h-4 w-4"})})]})]},e.id)})})})]})]}),s.jsx(de,{open:D,onOpenChange:L,children:s.jsxs(me,{className:"max-w-2xl",children:[s.jsxs(xe,{children:[s.jsx(he,{children:"Upload Files"}),s.jsx(pe,{children:"Drag and drop files here or click to browse"})]}),s.jsxs("div",{...Q(),className:K("border-2 border-dashed rounded-lg p-12 text-center cursor-pointer transition-colors",_?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[s.jsx("input",{...Y()}),s.jsx(u,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:_?"Drop files here":"Drag & drop files here"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse"}),s.jsx(X,{variant:"outline",children:"Select Files"})]}),s.jsx(ue,{children:s.jsx(X,{variant:"outline",onClick:()=>L(!1),children:"Cancel"})})]})}),s.jsx(de,{open:E,onOpenChange:O,children:s.jsxs(me,{className:"max-w-2xl",children:[s.jsx(xe,{children:s.jsx(he,{children:"Edit Media Details"})}),R&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx("div",{children:"image"===R.type?s.jsx("img",{src:R.url,alt:R.alt||R.name,className:"w-full rounded-lg"}):s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:e.createElement(ge(R.type),{className:"h-24 w-24 text-gray-400"})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(se,{children:"File name"}),s.jsx(re,{value:R.name,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(se,{children:"Alt text"}),s.jsx(re,{value:R.alt||"",placeholder:"Describe this media",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(se,{children:"Caption"}),s.jsx(re,{value:R.caption||"",placeholder:"Add a caption",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(se,{children:"Description"}),s.jsx("textarea",{value:R.description||"",placeholder:"Add a description",className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2",rows:3})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"File info"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("p",{children:["Type: ",R.mimeType]}),s.jsxs("p",{children:["Size: ",je(R.size)]}),R.dimensions&&s.jsxs("p",{children:["Dimensions: ",R.dimensions.width," × ",R.dimensions.height]}),s.jsxs("p",{children:["Uploaded: ",new Date(R.uploadedAt).toLocaleString()]}),s.jsxs("p",{children:["Uploaded by: ",R.uploadedBy]})]})]})]})]}),s.jsxs(ue,{children:[s.jsx(X,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),s.jsx(X,{onClick:()=>O(!1),children:"Save Changes"})]})]})})]})},Ie=[{id:"landing-1",name:"SaaS Landing Page",description:"Modern landing page for SaaS products with hero, features, pricing, and testimonials",category:"landing",icon:k,tags:["saas","startup","modern"],blocks:[{type:"hero",content:{title:"Build Better Products Faster"}},{type:"features",content:{columns:3}},{type:"pricing",content:{plans:3}},{type:"testimonials",content:{count:3}},{type:"cta",content:{title:"Start Your Free Trial"}}]},{id:"product-1",name:"Product Showcase",description:"Elegant product page with gallery, description, and purchase options",category:"product",icon:S,tags:["ecommerce","product","shop"],blocks:[{type:"breadcrumb",content:{}},{type:"product-gallery",content:{}},{type:"product-info",content:{}},{type:"product-tabs",content:{}},{type:"related-products",content:{}}]},{id:"blog-1",name:"Blog Article",description:"Clean blog post layout with sidebar and comments",category:"blog",icon:P,tags:["blog","article","content"],blocks:[{type:"post-header",content:{}},{type:"post-content",content:{}},{type:"author-bio",content:{}},{type:"related-posts",content:{}},{type:"comments",content:{}}]},{id:"about-1",name:"About Us",description:"Company about page with team, values, and history",category:"page",icon:z,tags:["about","company","team"],isPro:!0,blocks:[{type:"hero",content:{title:"Our Story"}},{type:"text-image",content:{}},{type:"team-grid",content:{}},{type:"values",content:{}},{type:"timeline",content:{}}]},{id:"contact-1",name:"Contact Page",description:"Contact page with form, map, and office locations",category:"page",icon:A,tags:["contact","form","location"],blocks:[{type:"contact-hero",content:{}},{type:"contact-form",content:{}},{type:"office-locations",content:{}},{type:"map",content:{}}]}],Me=[{id:"hero-1",name:"Hero with CTA",category:"hero",blocks:[{type:"heading",content:{text:"Welcome to Our Platform"}},{type:"paragraph",content:{text:"Build amazing things with our tools"}},{type:"buttons",content:{}}]},{id:"features-1",name:"3 Column Features",category:"features",blocks:[{type:"heading",content:{text:"Our Features"}},{type:"columns",content:{count:3}}]},{id:"cta-1",name:"Centered CTA",category:"cta",blocks:[{type:"cta",content:{alignment:"center"}}]},{id:"testimonial-1",name:"Testimonial Carousel",category:"testimonial",blocks:[{type:"testimonial-carousel",content:{}}]},{id:"pricing-1",name:"3 Tier Pricing",category:"pricing",blocks:[{type:"pricing-table",content:{plans:3}}]}],He=({onSelectTemplate:t,onSelectPattern:l,mode:i="both"})=>{const[n,d]=e.useState("templates"),[m,x]=e.useState(""),[h,p]=e.useState("all"),[u,g]=e.useState([]),[j,v]=e.useState(null),b=[{id:"all",name:"All Templates",icon:U},{id:"landing",name:"Landing Pages",icon:k},{id:"product",name:"Product Pages",icon:S},{id:"blog",name:"Blog Posts",icon:P},{id:"page",name:"Pages",icon:a}],N=[{id:"all",name:"All Patterns",icon:U},{id:"header",name:"Headers",icon:U},{id:"hero",name:"Hero Sections",icon:D},{id:"features",name:"Features",icon:S},{id:"cta",name:"Call to Action",icon:L},{id:"testimonial",name:"Testimonials",icon:E},{id:"pricing",name:"Pricing",icon:O},{id:"footer",name:"Footers",icon:U}],f=Ie.filter(e=>{const s=e.name.toLowerCase().includes(m.toLowerCase())||e.description.toLowerCase().includes(m.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(m.toLowerCase())),a="all"===h||e.category===h;return s&&a}),y=Me.filter(e=>{const s=e.name.toLowerCase().includes(m.toLowerCase()),a="all"===h||e.category===h;return s&&a});return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Content Templates & Patterns"}),s.jsx("p",{className:"text-gray-600",children:"Choose from pre-designed templates or mix and match patterns"})]}),s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"relative",children:[s.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(re,{placeholder:"Search templates and patterns...",value:m,onChange:e=>x(e.target.value),className:"pl-10"})]})}),s.jsxs(Q,{value:n,onValueChange:e=>d(e),className:"flex-1 flex flex-col",children:["both"===i&&s.jsxs(Y,{className:"mx-6",children:[s.jsx(_,{value:"templates",children:"Templates"}),s.jsx(_,{value:"patterns",children:"Patterns"})]}),s.jsxs(ee,{value:"templates",className:"flex-1 flex m-0",children:[s.jsxs("div",{className:"w-64 border-r p-4",children:[s.jsx("h3",{className:"font-medium text-sm mb-4",children:"Categories"}),s.jsx("div",{className:"space-y-1",children:b.map(e=>s.jsxs("button",{onClick:()=>p(e.id),className:K("w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",h===e.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100"),children:[s.jsx(e.icon,{className:"h-4 w-4"}),s.jsx("span",{children:e.name})]},e.id))})]}),s.jsx(Z,{className:"flex-1 p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(e=>{const a=e.icon,l=u.includes(e.id);return s.jsxs(ge,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx(je,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(a,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx(ve,{className:"text-lg",children:e.name}),e.isPro&&s.jsx(be,{variant:"secondary",className:"mt-1",children:"PRO"})]})]}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{return s=e.id,void g(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},children:s.jsx(T,{className:K("h-4 w-4",l&&"fill-red-500 text-red-500")})})]})}),s.jsxs(Ne,{children:[s.jsx(fe,{children:e.description}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:e.tags.map(e=>s.jsx(be,{variant:"outline",className:"text-xs",children:e},e))}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Contains:"}),s.jsxs("p",{className:"text-sm",children:[e.blocks.length," blocks"]})]})]}),s.jsxs(ye,{className:"gap-2",children:[s.jsx(X,{className:"flex-1",onClick:()=>t?.(e),children:"Use Template"}),s.jsx(X,{variant:"outline",size:"icon",onClick:()=>{},children:s.jsx(r,{className:"h-4 w-4"})}),s.jsx(X,{variant:"outline",size:"icon",onClick:()=>{return s=e.id,navigator.clipboard.writeText(s),v(s),void setTimeout(()=>v(null),2e3);var s},children:j===e.id?s.jsx(B,{className:"h-4 w-4 text-green-600"}):s.jsx(F,{className:"h-4 w-4"})})]})]},e.id)})})})]}),s.jsxs(ee,{value:"patterns",className:"flex-1 flex m-0",children:[s.jsxs("div",{className:"w-64 border-r p-4",children:[s.jsx("h3",{className:"font-medium text-sm mb-4",children:"Pattern Types"}),s.jsx("div",{className:"space-y-1",children:N.map(e=>s.jsxs("button",{onClick:()=>p(e.id),className:K("w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",h===e.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100"),children:[s.jsx(e.icon,{className:"h-4 w-4"}),s.jsx("span",{children:e.name})]},e.id))}),s.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[s.jsx(R,{className:"h-4 w-4"}),"Pro Tip"]}),s.jsx("p",{className:"text-xs text-gray-700",children:"Combine multiple patterns to create your own unique layouts. Patterns are reusable across all your pages."})]})]}),s.jsxs(Z,{className:"flex-1 p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(e=>s.jsx(ge,{className:"cursor-pointer hover:shadow-md transition-all hover:scale-105",onClick:()=>l?.(e),children:s.jsxs(Ne,{className:"p-6",children:[s.jsx("div",{className:"aspect-video bg-gray-100 rounded-md mb-4 flex items-center justify-center",children:s.jsx(U,{className:"h-12 w-12 text-gray-400"})}),s.jsx("h4",{className:"font-medium",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.blocks.length," blocks"]})]})},e.id))}),s.jsx(ge,{className:"mt-6 border-dashed",children:s.jsxs(Ne,{className:"p-12 text-center",children:[s.jsx(o,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Create Custom Pattern"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Save your own block combinations as reusable patterns"}),s.jsx(X,{variant:"outline",children:"Create Pattern"})]})})]})]})]})]})},Ge=({content:e,onUpdate:a,isEditing:t=!0})=>{const{title:l="Ready to Get Started?",description:i="Join thousands of satisfied customers and transform your business today.",buttonText:n="Get Started Now",backgroundColor:r="var(--primary-500)",textColor:c="white",buttonColor:o="white",alignment:d="center"}=e;return s.jsxs("div",{className:K("p-12 rounded-lg relative overflow-hidden","center"===d&&"text-center","left"===d&&"text-left","right"===d&&"text-right"),style:{backgroundColor:r,color:c},children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 rounded-full bg-white/20"}),s.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 rounded-full bg-white/20"})]}),s.jsx("div",{className:"relative z-10 max-w-3xl mx-auto",children:t?s.jsxs(s.Fragment,{children:[s.jsx(re,{className:"text-3xl font-bold mb-4 bg-transparent border-0 text-center placeholder-white/50",style:{color:c},placeholder:"Enter title...",value:l,onChange:s=>a({...e,title:s.target.value})}),s.jsx(ce,{className:"text-lg mb-8 bg-transparent border-0 text-center resize-none placeholder-white/50",style:{color:c},placeholder:"Enter description...",value:i,onChange:s=>a({...e,description:s.target.value}),rows:2}),s.jsx(re,{className:"inline-block px-8 py-3 text-lg font-medium rounded-md transition-all hover:scale-105 bg-white/20 border-2",style:{borderColor:o,color:c},placeholder:"Button text...",value:n,onChange:s=>a({...e,buttonText:s.target.value})})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:l}),s.jsx("p",{className:"text-lg mb-8",children:i}),s.jsxs(X,{size:"lg",className:"transition-all hover:scale-105",style:{backgroundColor:o,color:r},children:[n,s.jsx(H,{className:"ml-2 h-5 w-5"})]})]})})]})},qe=({content:e,onUpdate:a,isEditing:t=!0})=>{const l=e.plans||[{name:"Basic",price:"$9",period:"month",features:["10 GB Storage","100 GB Bandwidth","Email Support","Basic Analytics"],highlighted:!1},{name:"Pro",price:"$29",period:"month",features:["100 GB Storage","1 TB Bandwidth","Priority Support","Advanced Analytics","Custom Domain"],highlighted:!0},{name:"Enterprise",price:"$99",period:"month",features:["Unlimited Storage","Unlimited Bandwidth","24/7 Phone Support","Advanced Analytics","Custom Domain","API Access"],highlighted:!1}];return s.jsx("div",{className:"grid md:grid-cols-3 gap-8 py-8",children:l.map((i,n)=>s.jsxs("div",{className:K("relative p-8 rounded-lg border-2 transition-all hover:shadow-xl",i.highlighted?"border-primary-500 shadow-lg scale-105":"border-gray-200"),children:[i.highlighted&&s.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-primary-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),s.jsxs("div",{className:"text-center mb-8",children:[t?s.jsx(re,{className:"text-2xl font-bold mb-2 text-center border-0",placeholder:"Plan name",value:i.name,onChange:s=>{const t=[...l];t[n].name=s.target.value,a({...e,plans:t})}}):s.jsx("h3",{className:"text-2xl font-bold mb-2",children:i.name}),s.jsx("div",{className:"flex items-baseline justify-center gap-1",children:t?s.jsxs(s.Fragment,{children:[s.jsx(re,{className:"text-4xl font-bold w-24 text-right border-0 p-0",placeholder:"$0",value:i.price,onChange:s=>{const t=[...l];t[n].price=s.target.value,a({...e,plans:t})}}),s.jsx("span",{className:"text-gray-600",children:"/"}),s.jsx(re,{className:"text-gray-600 w-20 border-0 p-0",placeholder:"month",value:i.period,onChange:s=>{const t=[...l];t[n].period=s.target.value,a({...e,plans:t})}})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-4xl font-bold",children:i.price}),s.jsxs("span",{className:"text-gray-600",children:["/",i.period]})]})})]}),s.jsx("ul",{className:"space-y-3 mb-8",children:i.features.map((i,r)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(B,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),t?s.jsx(re,{className:"flex-1 border-0 p-0",placeholder:"Feature",value:i,onChange:s=>{const t=[...l];t[n].features[r]=s.target.value,a({...e,plans:t})}}):s.jsx("span",{children:i})]},r))}),s.jsx(X,{className:K("w-full",i.highlighted&&"bg-primary-500 hover:bg-primary-600"),variant:i.highlighted?"default":"outline",children:"Get Started"})]},n))})},$e=({content:e,onUpdate:a,isEditing:t=!0})=>{const{quote:l="This product has completely transformed how we do business. The results speak for themselves.",author:i="Jane Doe",position:n="CEO",company:r="Tech Company",image:c="",rating:o=5}=e;return s.jsxs("div",{className:"max-w-3xl mx-auto p-8 text-center",children:[s.jsx("div",{className:"flex justify-center gap-1 mb-6",children:[...Array(5)].map((l,i)=>s.jsx("button",{onClick:()=>t&&a({...e,rating:i+1}),className:K("transition-colors",t&&"cursor-pointer hover:scale-110"),children:s.jsx(D,{className:K("h-6 w-6",i<o?"fill-yellow-400 text-yellow-400":"text-gray-300")})},i))}),s.jsx("blockquote",{className:"mb-8",children:t?s.jsx(ce,{className:"text-2xl leading-relaxed text-gray-700 italic text-center border-0 resize-none",placeholder:"Enter testimonial quote...",value:l,onChange:s=>a({...e,quote:s.target.value}),rows:3}):s.jsxs("p",{className:"text-2xl leading-relaxed text-gray-700 italic",children:['"',l,'"']})}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[c?s.jsx("img",{src:c,alt:i,className:"w-16 h-16 rounded-full object-cover"}):s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-gray-500",children:i.charAt(0).toUpperCase()})}),s.jsx("div",{className:"text-left",children:t?s.jsxs(s.Fragment,{children:[s.jsx(re,{className:"font-semibold text-lg border-0 p-0 h-auto",placeholder:"Author name",value:i,onChange:s=>a({...e,author:s.target.value})}),s.jsxs("div",{className:"flex gap-2 text-gray-600",children:[s.jsx(re,{className:"border-0 p-0 h-auto text-sm",placeholder:"Position",value:n,onChange:s=>a({...e,position:s.target.value})}),s.jsx("span",{children:"at"}),s.jsx(re,{className:"border-0 p-0 h-auto text-sm",placeholder:"Company",value:r,onChange:s=>a({...e,company:s.target.value})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold text-lg",children:i}),s.jsxs("div",{className:"text-gray-600",children:[n," at ",r]})]})})]})]})},Ve=({content:e,onUpdate:a,isEditing:t=!0})=>{const{title:l="Rate this product",rating:i=4,maxRating:n=5,size:r="medium",color:c="#facc15",showNumber:o=!0}=e,d={small:"h-6 w-6",medium:"h-8 w-8",large:"h-10 w-10"};return s.jsxs("div",{className:"space-y-3",children:[l&&(t?s.jsx(re,{className:"font-medium text-lg border-0 p-0",placeholder:"Rating title...",value:l,onChange:s=>a({...e,title:s.target.value})}):s.jsx("h4",{className:"font-medium text-lg",children:l})),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex gap-1",children:[...Array(n)].map((l,n)=>s.jsx("button",{onClick:()=>t&&a({...e,rating:n+1}),className:K("transition-all",t&&"cursor-pointer hover:scale-110"),children:s.jsx(D,{className:K(d[r],n<i?"fill-current":"fill-none"),style:{color:n<i?c:"#e5e7eb"}})},n))}),o&&s.jsxs("span",{className:"text-lg font-medium text-gray-700",children:[i,"/",n]})]})]})},We=({content:e,onUpdate:a,isEditing:t=!0})=>{const{icon:l="mail",title:i="Contact Us",description:n="Get in touch with our team for any questions or support.",iconColor:r="var(--primary-500)",iconBackground:c="var(--primary-100)",alignment:o="center"}=e,d={mail:M,phone:A,mapPin:I,star:D,dollarSign:O,messageSquare:E}[l]||M;return s.jsxs("div",{className:K("p-6","center"===o&&"text-center","left"===o&&"text-left","right"===o&&"text-right"),children:[s.jsx("div",{className:K("w-16 h-16 rounded-lg flex items-center justify-center mb-4","center"===o&&"mx-auto","right"===o&&"ml-auto"),style:{backgroundColor:c},children:s.jsx(d,{className:"h-8 w-8",style:{color:r}})}),t?s.jsxs(s.Fragment,{children:[s.jsx(re,{className:K("text-xl font-semibold mb-2 border-0 p-0","center"===o&&"text-center","right"===o&&"text-right"),placeholder:"Enter title...",value:i,onChange:s=>a({...e,title:s.target.value})}),s.jsx(ce,{className:K("text-gray-600 border-0 p-0 resize-none","center"===o&&"text-center","right"===o&&"text-right"),placeholder:"Enter description...",value:n,onChange:s=>a({...e,description:s.target.value}),rows:2})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:i}),s.jsx("p",{className:"text-gray-600",children:n})]})]})},Je=({block:e,isEditing:a,onUpdate:t})=>{switch(e.type){case"cta":return s.jsx(Ge,{content:e.content,onUpdate:t,isEditing:a});case"pricing":return s.jsx(qe,{content:e.content,onUpdate:t,isEditing:a});case"testimonial":return s.jsx($e,{content:e.content,onUpdate:t,isEditing:a});case"rating":return s.jsx(Ve,{content:e.content,onUpdate:t,isEditing:a});case"infobox":return s.jsx(We,{content:e.content,onUpdate:t,isEditing:a});default:return null}},Ke=()=>{const i=G(),[n,c]=e.useState(""),[o,m]=e.useState([]),[x,h]=e.useState(!0),[p,u]=e.useState("document"),[g,j]=e.useState(null),[v,b]=e.useState(!1),[N,f]=e.useState(!1),[y,w]=e.useState(!1),[C,k]=e.useState(null),[S,P]=e.useState(!1);e.useEffect(()=>{we().then(()=>{P(!0)})},[]);const[z,A]=e.useState({status:"draft",visibility:"public",publishDate:(new Date).toISOString().slice(0,16),author:"Admin User",featuredImage:void 0,excerpt:"",slug:"",categories:[],tags:[],template:"default",commentStatus:!0,pingStatus:!0,sticky:!1,format:"standard"}),T=async(e=!1)=>{w(!0),setTimeout(()=>{w(!1),k(new Date),e&&A(e=>({...e,status:"publish"}))},1e3)};return S?s.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[s.jsxs("div",{className:"bg-white border-b px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>i(-1),children:s.jsx(q,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-5 w-5 text-gray-600"}),s.jsx(re,{placeholder:"Add title",value:n,onChange:e=>c(e.target.value),className:"text-2xl font-bold border-0 focus-visible:ring-0 p-0"})]}),s.jsx(be,{variant:"publish"===z.status?"default":"secondary",children:z.status}),C&&s.jsxs("span",{className:"text-sm text-gray-500",children:["Last saved: ",C.toLocaleTimeString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>f(!0),children:[s.jsx(U,{className:"h-4 w-4 mr-2"}),"Templates"]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>b(!0),children:[s.jsx(d,{className:"h-4 w-4 mr-2"}),"Media"]}),s.jsxs("div",{className:"flex items-center gap-1 px-2",children:[s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx($,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(V,{className:"h-4 w-4"})})]}),s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(r,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsx(X,{size:"sm",onClick:()=>T(!1),disabled:y,children:y?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(W,{className:"h-4 w-4 mr-2"}),"Save Draft"]})}),s.jsx(X,{size:"sm",variant:"default",onClick:()=>T(!0),disabled:y,children:"publish"===z.status?"Update":"Publish"}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(X,{variant:"ghost",size:"icon",children:s.jsx(J,{className:"h-4 w-4"})})}),s.jsxs(Se,{align:"end",children:[s.jsx(Pe,{children:"Copy all blocks"}),s.jsx(Pe,{children:"Export as HTML"}),s.jsx(ze,{}),s.jsx(Pe,{children:"Keyboard shortcuts"}),s.jsx(Pe,{children:"Help"})]})]}),s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>h(!x),children:x?s.jsx(l,{className:"h-4 w-4"}):s.jsx(t,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-auto",children:[s.jsx(Ae,{initialBlocks:o,onChange:m}),s.jsx("div",{className:"max-w-4xl mx-auto px-12 pb-8",children:o.map(e=>(e=>["cta","pricing","testimonial","rating","infobox"].includes(e.type)?s.jsx("div",{className:K("mb-4 transition-all",g?.id===e.id&&"ring-2 ring-blue-500 ring-offset-2 rounded-lg"),onClick:()=>{j(e),u("block")},children:s.jsx(Je,{block:e,isEditing:!0,onUpdate:s=>{m(o.map(a=>a.id===e.id?{...a,content:s}:a))}})},e.id):null)(e))})]}),x&&s.jsx(Oe,{activeTab:p,postSettings:z,blockSettings:g,onPostSettingsChange:e=>A(s=>({...s,...e})),onBlockSettingsChange:e=>{if(g){const s={...g,...e};m(o.map(e=>e.id===g.id?s:e)),j(s)}},onClose:()=>h(!1)})]}),s.jsx(de,{open:v,onOpenChange:b,children:s.jsx(me,{className:"max-w-6xl h-[80vh] p-0",children:s.jsx(Re,{mode:"picker",multiple:!1,accept:"image/*",onSelect:e=>{if(e.length>0&&g){const s={...g,content:{...g.content,url:e[0].url,alt:e[0].alt}};m(o.map(e=>e.id===g.id?s:e))}b(!1)},onClose:()=>b(!1)})})}),s.jsx(de,{open:N,onOpenChange:f,children:s.jsx(me,{className:"max-w-6xl h-[80vh] p-0",children:s.jsx(He,{onSelectTemplate:e=>{m(e.blocks),f(!1)},onSelectPattern:e=>{m(s=>[...s,...e.blocks]),f(!1)}})})})]}):s.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"loading-spinner mb-4"}),s.jsx("p",{className:"text-gray-600",children:"에디터를 초기화하는 중..."})]})})};export{Ke as default};
