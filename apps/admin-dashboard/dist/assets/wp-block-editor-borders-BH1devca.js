import{j as e,e as o,r}from"./vendor-react-BQ6HOJoh.js";import{S as t,y as s,_ as l,z as n,a,T as i,e as d,A as c,U as u,C as h,s as p,D as b,F as m,H as f,G as x,I as g,J as v,V as C,K as _,L as y,M as w,N as S,O as j,Q as N,W as B,X as k,Y as z,Z as I,u as L,$ as R}from"./wp-block-editor-misc-pHCPYvR2.js";import{r as M,C as D,e as V,q as A,t as F,v as P,w as $,x as U,y as W,z as T,A as O,B as H,a as E,D as K,m as q,E as G}from"./wp-block-editor-utils-M5qXzE1L.js";import{c as J}from"./vendor-ui-CrFdsnXa.js";import{d as Q}from"./wp-blocks-core-6vwQKPfS.js";import{C as X,i as Y,a as Z,g as ee,u as oe}from"./wp-block-editor-colors-D38h-Odz.js";import{s as re}from"./wp-block-editor-store-B-g1aSix.js";import"./wp-block-editor-a11y-DrduSWFW.js";import{T as te}from"./wp-block-editor-menus-BTQ2wZ-f.js";import{a as se,b as le,d as ne,e as ae,f as ie,g as de}from"./wp-block-editor-library-BpQvynjE.js";import{u as ce,b as ue,c as he}from"./wp-block-editor-global-styles-CV5-K6QF.js";import{a as pe,b as be}from"./wp-block-editor-dnd-BYoS8-II.js";import{u as me,c as fe}from"./wp-block-editor-api-Buev8_QU.js";const xe=e.jsx(t,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx(s,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zM9.8 7c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v3H9.8V7zm6.7 11.5h-9v-7h9v7z"})}),ge=e.jsx(t,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx(s,{d:"M12 8c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 6.5c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zM12.8 3h-1.5v3h1.5V3zm-1.6 18h1.5v-3h-1.5v3zm6.8-9.8v1.5h3v-1.5h-3zm-12 0H3v1.5h3v-1.5zm9.7 5.6 2.1 2.1 1.1-1.1-2.1-2.1-1.1 1.1zM8.3 7.2 6.2 5.1 5.1 6.2l2.1 2.1 1.1-1.1zM5.1 17.8l1.1 1.1 2.1-2.1-1.1-1.1-2.1 2.1zM18.9 6.2l-1.1-1.1-2.1 2.1 1.1 1.1 2.1-2.1z"})}),ve=o("",""),Ce={name:"bjn8wh",styles:"position:relative"},_e=e=>{const{color:o=X.gray[200],style:r="solid",width:t=D.borderWidth}=e||{};return`${o} ${!!t&&"0"!==t||!!o?r||"solid":r} ${t!==D.borderWidth?`clamp(1px, ${t}, 10px)`:t}`},ye={name:"1nwbfnf",styles:"grid-column:span 2;margin:0 auto"};function we(e){const{className:t,size:s="default",...l}=me(e,"BorderBoxControlLinkedButton"),n=V();return{...l,className:r.useMemo(()=>n((e=>o("position:absolute;top:","__unstable-large"===e?"8px":"3px",";",M({right:0})()," line-height:0;",""))(s),t),[t,n,s])}}const Se=fe((o,r)=>{const{className:t,isLinked:s,...i}=we(o),d=l(s?"Unlink sides":"Link sides");return e.jsx(te,{text:d,children:e.jsx(n,{className:t,children:e.jsx(a,{...i,size:"small",icon:s?se:le,iconSize:24,"aria-label":d,ref:r})})})},"BorderBoxControlLinkedButton");function je(e){const{className:t,value:s,size:l="default",...n}=me(e,"BorderBoxControlVisualizer"),a=V();return{...n,className:r.useMemo(()=>a(((e,r)=>o("position:absolute;top:","__unstable-large"===r?"20px":"15px",";right:","__unstable-large"===r?"39px":"29px",";bottom:","__unstable-large"===r?"20px":"15px",";left:","__unstable-large"===r?"39px":"29px",";border-top:",_e(e?.top),";border-bottom:",_e(e?.bottom),";",M({borderLeft:_e(e?.left)})()," ",M({borderRight:_e(e?.right)})(),";",""))(s,l),t),[a,t,s,l]),value:s}}const Ne=fe((o,r)=>{const{value:t,...s}=je(o);return e.jsx(n,{...s,ref:r})},"BorderBoxControlVisualizer"),Be=[{label:l("Solid"),icon:ne,value:"solid"},{label:l("Dashed"),icon:ae,value:"dashed"},{label:l("Dotted"),icon:ie,value:"dotted"}];const ke=fe(function({onChange:o,...r},t){return e.jsx(i,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,ref:t,isDeselectable:!0,onChange:e=>{o?.(e)},...r,children:Be.map(o=>e.jsx(d,{value:o.value,icon:o.icon,label:o.label},o.value))})},"BorderControlStylePicker"),ze=o("box-shadow:inset ",D.controlBoxShadowFocus,";",""),Ie=o("border:0;padding:0;margin:0;",A,";",""),Le=o(c,"{flex:0 0 auto;}",""),Re=o("background:#fff;&&>button{aspect-ratio:1;padding:0;display:flex;align-items:center;justify-content:center;",M({borderRadius:"2px 0 0 2px"},{borderRadius:"0 2px 2px 0"})()," border:",D.borderWidth," solid ",X.ui.border,";&:focus,&:hover:not( :disabled ){",ze," border-color:",X.ui.borderFocus,";z-index:1;position:relative;}}",""),Me=(e,r)=>{const{style:t}=e||{};return o("border-radius:",D.radiusFull,";border:2px solid transparent;",t?(e=>{const{color:r,style:t}=e||{},s=t&&"none"!==t?X.gray[300]:void 0;return o("border-style:","none"===t?"solid":t,";border-color:",r||s,";","")})(e):void 0," width:","__unstable-large"===r?"24px":"22px",";height:","__unstable-large"===r?"24px":"22px",";padding:","__unstable-large"===r?"2px":"1px",";&>span{height:",F(4),";width:",F(4),";background:linear-gradient(\n\t\t\t\t-45deg,\n\t\t\t\ttransparent 48%,\n\t\t\t\trgb( 0 0 0 / 20% ) 48%,\n\t\t\t\trgb( 0 0 0 / 20% ) 52%,\n\t\t\t\ttransparent 52%\n\t\t\t);}","")},De=o("width:",228,"px;>div:first-of-type>",h,"{margin-bottom:0;}&& ",h,"+button:not( .has-text ){min-width:24px;padding:0;}",""),Ve=o("",""),Ae=o("",""),Fe=o("justify-content:center;width:100%;&&{border-top:",D.borderWidth," solid ",X.gray[400],";border-top-left-radius:0;border-top-right-radius:0;}","");const Pe=e=>e.replace(/^var\((.+)\)$/,"$1"),$e=fe((o,t)=>{const{__experimentalIsRenderedInSidebar:s,border:n,colors:i,disableCustomColors:d,enableAlpha:c,enableStyle:u,indicatorClassName:h,indicatorWrapperClassName:f,isStyleSettable:x,onReset:g,onColorChange:v,onStyleChange:C,popoverContentClassName:_,popoverControlsClassName:y,resetButtonClassName:w,size:S,__unstablePopoverProps:j,...N}=function(e){const{border:o,className:t,colors:s=[],enableAlpha:l=!1,enableStyle:n=!0,onChange:a,previousStyleSelection:i,size:d="default",__experimentalIsRenderedInSidebar:c=!1,...u}=me(e,"BorderControlDropdown"),[h]=P(o?.width),p=0===h,b=V(),m=r.useMemo(()=>b(Re,t),[t,b]),f=r.useMemo(()=>b(Ae),[b]),x=r.useMemo(()=>b(Me(o,d)),[o,b,d]),g=r.useMemo(()=>b(De),[b]),v=r.useMemo(()=>b(Ve),[b]),C=r.useMemo(()=>b(Fe),[b]);return{...u,border:o,className:m,colors:s,enableAlpha:l,enableStyle:n,indicatorClassName:f,indicatorWrapperClassName:x,onColorChange:e=>{a({color:e,style:"none"===o?.style?i:o?.style,width:p&&e?"1px":o?.width})},onStyleChange:e=>{const r=p&&e?"1px":o?.width;a({...o,style:e,width:r})},onReset:()=>{a({...o,color:void 0,style:void 0})},popoverContentClassName:v,popoverControlsClassName:g,resetButtonClassName:C,size:d,__experimentalIsRenderedInSidebar:c}}(o),{color:B,style:k}=n||{},z=((e,o)=>{if(e&&o){if(Y(o)){let r;return o.some(o=>o.colors.some(o=>o.color===e&&(r=o,!0))),r}return o.find(o=>o.color===e)}})(B,i),I=((e,o,r,t)=>{if(t){if(o){const e=Pe(o.color);return r?p(l('Border color and style picker. The currently selected color is called "%1$s" and has a value of "%2$s". The currently selected style is "%3$s".'),o.name,e,r):p(l('Border color and style picker. The currently selected color is called "%1$s" and has a value of "%2$s".'),o.name,e)}if(e){const o=Pe(e);return r?p(l('Border color and style picker. The currently selected color has a value of "%1$s". The currently selected style is "%2$s".'),o,r):p(l('Border color and style picker. The currently selected color has a value of "%s".'),o)}return l("Border color and style picker.")}return o?p(l('Border color picker. The currently selected color is called "%1$s" and has a value of "%2$s".'),o.name,Pe(o.color)):e?p(l('Border color picker. The currently selected color has a value of "%s".'),Pe(e)):l("Border color picker.")})(B,z,k,u),L=B||k&&"none"!==k,R=s?"bottom left":void 0;return e.jsx(pe,{renderToggle:({onToggle:o})=>e.jsx(a,{onClick:o,variant:"tertiary","aria-label":I,tooltipPosition:R,label:l("Border color and style picker"),showTooltip:!0,__next40pxDefaultSize:"__unstable-large"===S,children:e.jsx("span",{className:f,children:e.jsx(m,{className:h,colorValue:B})})}),renderContent:({onClose:o})=>e.jsxs(e.Fragment,{children:[e.jsx(be,{paddingSize:"medium",children:e.jsxs(b,{className:y,spacing:6,children:[e.jsx(Z,{className:_,value:B,onChange:v,colors:i,disableCustomColors:d,__experimentalIsRenderedInSidebar:s,clearable:!1,enableAlpha:c}),u&&x&&e.jsx(ke,{label:l("Style"),value:k,onChange:C})]})}),L&&e.jsx(be,{paddingSize:"none",children:e.jsx(a,{className:w,variant:"tertiary",onClick:()=>{g(),o()},__next40pxDefaultSize:!0,children:l("Reset")})})]}),popoverProps:{...j},...N,ref:t})},"BorderControlDropdown"),Ue=e=>void 0!==e?.width&&""!==e.width||void 0!==e?.color;function We(e){const{className:t,colors:s=[],isCompact:l,onChange:n,enableAlpha:a=!0,enableStyle:i=!0,shouldSanitizeBorder:d=!0,size:h="default",value:p,width:b,__experimentalIsRenderedInSidebar:m=!1,__next40pxDefaultSize:f,__shouldNotWarnDeprecated36pxSize:x,...g}=me(e,"BorderControl");$({componentName:"BorderControl",__next40pxDefaultSize:f,size:h,__shouldNotWarnDeprecated36pxSize:x});const v="default"===h&&f?"__unstable-large":h,[C,_]=P(p?.width),y=_||"px",w=0===C,[S,j]=r.useState(),[N,B]=r.useState(),k=!d||Ue(p),z=r.useCallback(e=>{!d||Ue(e)?n(e):n(void 0)},[n,d]),I=r.useCallback(e=>{const o=""===e?void 0:e,[r]=P(e),t=0===r,s={...p,width:o};t&&!w&&(j(p?.color),B(p?.style),s.color=void 0,s.style="none"),!t&&w&&(void 0===s.color&&(s.color=S),"none"===s.style&&(s.style=N)),z(s)},[p,w,S,N,z]),L=r.useCallback(e=>{I(`${e}${y}`)},[I,y]),R=V(),D=r.useMemo(()=>R(Ie,t),[t,R]);let A=b;l&&(A="__unstable-large"===h?"116px":"90px");const U=r.useMemo(()=>{const e=!!A&&Le,r=(e=>o("height:","__unstable-large"===e?"40px":"30px",";",""))(v);return R(o(c,"{flex:1 1 40%;}&& ",u,"{min-height:0;}",""),e,r)},[A,R,v]),W=r.useMemo(()=>R(o("flex:1 1 60%;",M({marginRight:F(3)})(),";","")),[R]);return{...g,className:D,colors:s,enableAlpha:a,enableStyle:i,innerWrapperClassName:U,inputWidth:A,isStyleSettable:k,onBorderChange:z,onSliderChange:L,onWidthChange:I,previousStyleSelection:N,sliderClassName:W,value:p,widthUnit:y,widthValue:C,size:v,__experimentalIsRenderedInSidebar:m,__next40pxDefaultSize:f}}const Te=o=>{const{label:r,hideLabelFromVision:t}=o;return r?t?e.jsx(C,{as:"legend",children:r}):e.jsx(h,{as:"legend",children:r}):null},Oe=fe((o,r)=>{const{__next40pxDefaultSize:t=!1,colors:s,disableCustomColors:a,disableUnits:i,enableAlpha:d,enableStyle:c,hideLabelFromVision:u,innerWrapperClassName:h,inputWidth:p,isStyleSettable:b,label:m,onBorderChange:C,onSliderChange:_,onWidthChange:y,placeholder:w,__unstablePopoverProps:S,previousStyleSelection:j,showDropdownHeader:N,size:B,sliderClassName:k,value:z,widthUnit:I,widthValue:L,withSlider:R,__experimentalIsRenderedInSidebar:M,...D}=We(o);return e.jsxs(n,{as:"fieldset",...D,ref:r,children:[e.jsx(Te,{label:m,hideLabelFromVision:u}),e.jsxs(f,{spacing:4,className:h,children:[e.jsx(x,{prefix:e.jsx(g,{marginRight:1,marginBottom:0,children:e.jsx($e,{border:z,colors:s,__unstablePopoverProps:S,disableCustomColors:a,enableAlpha:d,enableStyle:c,isStyleSettable:b,onChange:C,previousStyleSelection:j,__experimentalIsRenderedInSidebar:M,size:B})}),label:l("Border width"),hideLabelFromVision:!0,min:0,onChange:y,value:z?.width||"",placeholder:w,disableUnits:i,__unstableInputWidth:p,size:B}),R&&e.jsx(v,{__nextHasNoMarginBottom:!0,label:l("Border width"),hideLabelFromVision:!0,className:k,initialPosition:0,max:100,min:0,onChange:_,step:["px","%"].includes(I)?1:.1,value:L||void 0,withInputField:!1,__next40pxDefaultSize:t,__shouldNotWarnDeprecated36pxSize:!0})]})]})},"BorderControl");function He(e){const{className:t,colors:s=[],enableAlpha:l=!1,enableStyle:n=!0,size:a="default",__experimentalIsRenderedInSidebar:i=!1,...d}=me(e,"BorderBoxControlSplitControls"),c=V(),u=r.useMemo(()=>c((e=>o("position:relative;flex:1;width:","__unstable-large"===e?void 0:"80%",";",""))(a),t),[c,t,a]);return{...d,centeredClassName:r.useMemo(()=>c(ye,t),[c,t]),className:u,colors:s,enableAlpha:l,enableStyle:n,rightAlignedClassName:r.useMemo(()=>c(o(M({marginLeft:"auto"})(),";",""),t),[c,t]),size:a,__experimentalIsRenderedInSidebar:i}}const Ee=fe((o,t)=>{const{centeredClassName:s,colors:n,disableCustomColors:a,enableAlpha:i,enableStyle:d,onChange:c,popoverPlacement:u,popoverOffset:h,rightAlignedClassName:p,size:b="default",value:m,__experimentalIsRenderedInSidebar:f,...x}=He(o),[g,v]=r.useState(null),C=r.useMemo(()=>u?{placement:u,offset:h,anchor:g,shift:!0}:void 0,[u,h,g]),y={colors:n,disableCustomColors:a,enableAlpha:i,enableStyle:d,isCompact:!0,__experimentalIsRenderedInSidebar:f,size:b,__shouldNotWarnDeprecated36pxSize:!0},w=U([v,t]);return e.jsxs(_,{...x,ref:w,gap:4,children:[e.jsx(Ne,{value:m,size:b}),e.jsx(Oe,{className:s,hideLabelFromVision:!0,label:l("Top border"),onChange:e=>c(e,"top"),__unstablePopoverProps:C,value:m?.top,...y}),e.jsx(Oe,{hideLabelFromVision:!0,label:l("Left border"),onChange:e=>c(e,"left"),__unstablePopoverProps:C,value:m?.left,...y}),e.jsx(Oe,{className:p,hideLabelFromVision:!0,label:l("Right border"),onChange:e=>c(e,"right"),__unstablePopoverProps:C,value:m?.right,...y}),e.jsx(Oe,{className:s,hideLabelFromVision:!0,label:l("Bottom border"),onChange:e=>c(e,"bottom"),__unstablePopoverProps:C,value:m?.bottom,...y})]})},"BorderBoxControlSplitControls"),Ke=["top","right","bottom","left"],qe=["color","style","width"],Ge=e=>!e||!qe.some(o=>void 0!==e[o]),Je=(e={})=>Object.keys(e).some(e=>-1!==Ke.indexOf(e)),Qe=e=>{if(!Je(e))return!1;const o=Ke.map(o=>Xe(e?.[o]));return!o.every(e=>e===o[0])},Xe=(e,o)=>{if(Ge(e))return o;const{color:r,style:t,width:s}={},{color:l=r,style:n=t,width:a=s}=e;return[a,!!a&&"0"!==a||!!l?n||"solid":n,l].filter(Boolean).join(" ")},Ye=e=>function(e){if(0===e.length)return;const o={};let r,t=0;return e.forEach(e=>{o[e]=void 0===o[e]?1:o[e]+1,o[e]>t&&(r=e,t=o[e])}),r}(e.map(e=>void 0===e?void 0:W(`${e}`)[1]).filter(e=>void 0!==e));function Ze(e){const{className:t,colors:s=[],onChange:l,enableAlpha:n=!1,enableStyle:a=!0,size:i="default",value:d,__experimentalIsRenderedInSidebar:c=!1,__next40pxDefaultSize:u,...h}=me(e,"BorderBoxControl");$({componentName:"BorderBoxControl",__next40pxDefaultSize:u,size:i});const p="default"===i&&u?"__unstable-large":i,b=Qe(d),m=Je(d),f=m?(e=>{if(!e)return;const o=[],r=[],t=[];Ke.forEach(s=>{o.push(e[s]?.color),r.push(e[s]?.style),t.push(e[s]?.width)});const s=o.every(e=>e===o[0]),l=r.every(e=>e===r[0]),n=t.every(e=>e===t[0]);return{color:s?o[0]:void 0,style:l?r[0]:void 0,width:n?t[0]:Ye(t)}})(d):d,x=m?d:(e=>{if(e&&!Ge(e))return{top:e,right:e,bottom:e,left:e}})(d),g=!isNaN(parseFloat(`${f?.width}`)),[v,C]=r.useState(!b),_=V(),y=r.useMemo(()=>_(ve,t),[_,t]),w=r.useMemo(()=>_(o("flex:1;",M({marginRight:"24px"})(),";","")),[_]),S=r.useMemo(()=>_(Ce),[_]);return{...h,className:y,colors:s,disableUnits:b&&!g,enableAlpha:n,enableStyle:a,hasMixedBorders:b,isLinked:v,linkedControlClassName:w,onLinkedChange:e=>{if(!e)return l(void 0);if(!b||(e=>!!e&&qe.every(o=>void 0!==e[o]))(e))return l(Ge(e)?void 0:e);const o=((e,o)=>{const r={};return e.color!==o.color&&(r.color=o.color),e.style!==o.style&&(r.style=o.style),e.width!==o.width&&(r.width=o.width),r})(f,e),r={top:{...d?.top,...o},right:{...d?.right,...o},bottom:{...d?.bottom,...o},left:{...d?.left,...o}};if(Qe(r))return l(r);const t=Ge(r.top)?void 0:r.top;l(t)},onSplitChange:(e,o)=>{const r={...x,[o]:e};Qe(r)?l(r):l(e)},toggleLinked:()=>C(!v),linkedValue:f,size:p,splitValue:x,wrapperClassName:S,__experimentalIsRenderedInSidebar:c}}const eo=o=>{const{label:r,hideLabelFromVision:t}=o;return r?t?e.jsx(C,{as:"label",children:r}):e.jsx(h,{children:r}):null},oo=fe((o,t)=>{const{className:s,colors:a,disableCustomColors:i,disableUnits:d,enableAlpha:c,enableStyle:u,hasMixedBorders:h,hideLabelFromVision:p,isLinked:b,label:m,linkedControlClassName:f,linkedValue:x,onLinkedChange:g,onSplitChange:v,popoverPlacement:C,popoverOffset:_,size:y,splitValue:w,toggleLinked:S,wrapperClassName:j,__experimentalIsRenderedInSidebar:N,...B}=Ze(o),[k,z]=r.useState(null),I=r.useMemo(()=>C?{placement:C,offset:_,anchor:k,shift:!0}:void 0,[C,_,k]),L=U([z,t]);return e.jsxs(n,{className:s,...B,ref:L,children:[e.jsx(eo,{label:m,hideLabelFromVision:p}),e.jsxs(n,{className:j,children:[b?e.jsx(Oe,{className:f,colors:a,disableUnits:d,disableCustomColors:i,enableAlpha:c,enableStyle:u,onChange:g,placeholder:h?l("Mixed"):void 0,__unstablePopoverProps:I,shouldSanitizeBorder:!1,value:x,withSlider:!0,width:"__unstable-large"===y?"116px":"110px",__experimentalIsRenderedInSidebar:N,__shouldNotWarnDeprecated36pxSize:!0,size:y}):e.jsx(Ee,{colors:a,disableCustomColors:i,enableAlpha:c,enableStyle:u,onChange:v,popoverPlacement:C,popoverOffset:_,value:w,__experimentalIsRenderedInSidebar:N,size:y}),e.jsx(Se,{onClick:S,isLinked:b,size:y})]})]})},"BorderBoxControl");function ro(e){return[...e].sort((o,r)=>e.filter(e=>e===r).length-e.filter(e=>e===o).length).shift()}function to(e={}){const{flat:o,...r}=e;return o||ro(Object.values(r).filter(Boolean))||"px"}function so(e={}){if("string"==typeof e)return e;const o=Object.values(e).map(e=>P(e)),r=o.map(e=>{var o;return null!==(o=e[0])&&void 0!==o?o:""}),t=o.map(e=>e[1]),s=r.every(e=>e===r[0])?r[0]:"",l=ro(t);return 0===s||s?`${s}${l}`:void 0}function lo(e={}){const o=so(e);return"string"!=typeof e&&isNaN(parseFloat(o))}function no(e){if(!e)return!1;if("string"==typeof e)return!0;return!!Object.values(e).filter(e=>!!e||0===e).length}function ao({onChange:o,selectedUnits:r,setSelectedUnits:t,values:s,...n}){let a=so(s);void 0===a&&(a=to(r));const i=no(s)&&lo(s),d=i?l("Mixed"):null;return e.jsx(x,{...n,"aria-label":l("Border radius"),disableUnits:i,isOnly:!0,value:a,onChange:e=>{const r=!isNaN(parseFloat(e));o(r?e:void 0)},onUnitChange:e=>{t({topLeft:e,topRight:e,bottomLeft:e,bottomRight:e})},placeholder:d,size:"__unstable-large"})}const io={topLeft:l("Top left"),topRight:l("Top right"),bottomLeft:l("Bottom left"),bottomRight:l("Bottom right")};function co({onChange:o,selectedUnits:r,setSelectedUnits:t,values:s,...l}){const n=e=>r=>{if(!o)return;const t=!isNaN(parseFloat(r))?r:void 0;o({...a,[e]:t})},a="string"!=typeof s?s:{topLeft:s,topRight:s,bottomLeft:s,bottomRight:s};return e.jsx("div",{className:"components-border-radius-control__input-controls-wrapper",children:Object.entries(io).map(([o,s])=>{const[i,d]=P(a[o]),c=a[o]?d:r[o]||r.flat;return e.jsx(te,{text:s,placement:"top",children:e.jsx("div",{className:"components-border-radius-control__tooltip-wrapper",children:e.jsx(x,{...l,"aria-label":s,value:[i,c].join(""),onChange:n(o),onUnitChange:(u=o,e=>{const o={...r};o[u]=e,t(o)}),size:"__unstable-large"})})},o);var u})})}function uo({isLinked:o,...r}){const t=l(o?"Unlink radii":"Link radii");return e.jsx(te,{text:t,children:e.jsx(a,{...r,className:"component-border-radius-control__linked-button",size:"small",icon:o?se:le,iconSize:24,"aria-label":t})})}const ho={topLeft:void 0,topRight:void 0,bottomLeft:void 0,bottomRight:void 0},po={px:100,em:20,rem:20};function bo({onChange:o,values:t}){const[s,n]=r.useState(!no(t)||!lo(t)),[a,i]=r.useState({flat:"string"==typeof t?P(t)[1]:void 0,topLeft:P(t?.topLeft)[1],topRight:P(t?.topRight)[1],bottomLeft:P(t?.bottomLeft)[1],bottomRight:P(t?.bottomRight)[1]}),[d]=y("spacing.units"),c=T({availableUnits:d||["px","em","rem"]}),u=to(a),h=c&&c.find(e=>e.value===u),p=h?.step||1,[b]=P(so(t));return e.jsxs("fieldset",{className:"components-border-radius-control",children:[e.jsx(w.VisualLabel,{as:"legend",children:l("Radius")}),e.jsxs("div",{className:"components-border-radius-control__wrapper",children:[s?e.jsxs(e.Fragment,{children:[e.jsx(ao,{className:"components-border-radius-control__unit-control",values:t,min:0,onChange:o,selectedUnits:a,setSelectedUnits:i,units:c}),e.jsx(v,{__next40pxDefaultSize:!0,label:l("Border radius"),hideLabelFromVision:!0,className:"components-border-radius-control__range-control",value:null!=b?b:"",min:0,max:po[u],initialPosition:0,withInputField:!1,onChange:e=>{o(void 0!==e?`${e}${u}`:void 0)},step:p,__nextHasNoMarginBottom:!0})]}):e.jsx(co,{min:0,onChange:o,selectedUnits:a,setSelectedUnits:i,values:t||ho,units:c}),e.jsx(uo,{onClick:()=>n(!s),isLinked:s})]})]})}const mo=[];function fo({shadow:o,onShadowChange:r,settings:t}){const s=_o(t);return e.jsx("div",{className:"block-editor-global-styles__shadow-popover-container",children:e.jsxs(b,{spacing:4,children:[e.jsx(N,{level:5,children:l("Drop shadow")}),e.jsx(xo,{presets:s,activeShadow:o,onSelect:r}),e.jsx("div",{className:"block-editor-global-styles__clear-shadow",children:e.jsx(a,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:()=>r(void 0),children:l("Clear")})})]})})}function xo({presets:o,activeShadow:r,onSelect:t}){return o?e.jsx(B,{role:"listbox",className:"block-editor-global-styles__shadow__list","aria-label":l("Drop shadows"),children:o.map(({name:o,slug:s,shadow:l})=>e.jsx(go,{label:o,isActive:l===r,type:"unset"===s?"unset":"preset",onSelect:()=>t(l===r?void 0:l),shadow:l},s))}):null}function go({type:o,label:r,isActive:t,onSelect:s,shadow:l}){return e.jsx(te,{text:r,children:e.jsx(B.Item,{role:"option","aria-label":r,"aria-selected":t,className:J("block-editor-global-styles__shadow__item",{"is-active":t}),render:e.jsx("button",{className:J("block-editor-global-styles__shadow-indicator",{unset:"unset"===o}),onClick:s,style:{boxShadow:l},"aria-label":r,children:t&&e.jsx(S,{icon:de})})})})}function vo({shadow:o,onShadowChange:r,settings:t}){return e.jsx(pe,{popoverProps:{placement:"left-start",offset:36,shift:!0},className:"block-editor-global-styles__shadow-dropdown",renderToggle:Co(),renderContent:()=>e.jsx(be,{paddingSize:"medium",children:e.jsx(fo,{shadow:o,onShadowChange:r,settings:t})})})}function Co(){return({onToggle:o,isOpen:r})=>{const t={onClick:o,className:J({"is-open":r}),"aria-expanded":r};return e.jsx(a,{__next40pxDefaultSize:!0,...t,children:e.jsxs(f,{justify:"flex-start",children:[e.jsx(S,{className:"block-editor-global-styles__toggle-icon",icon:ge,size:24}),e.jsx(j,{children:l("Drop shadow")})]})})}}function _o(e){return r.useMemo(()=>{var o;if(!e?.shadow)return mo;const r=e?.shadow?.defaultPresets,{default:t,theme:s,custom:n}=null!==(o=e?.shadow?.presets)&&void 0!==o?o:{},a={name:l("Unset"),slug:"unset",shadow:"none"},i=[...r&&t||mo,...s||mo,...n||mo];return i.length&&i.unshift(a),i},[e])}function yo(e){return Object.values(wo(e)).some(Boolean)}function wo(e){return{hasBorderColor:So(e),hasBorderRadius:jo(e),hasBorderStyle:No(e),hasBorderWidth:Bo(e),hasShadow:ko(e)}}function So(e){return e?.border?.color}function jo(e){return e?.border?.radius}function No(e){return e?.border?.style}function Bo(e){return e?.border?.width}function ko(e){const o=_o(e);return!!e?.shadow&&o.length>0}function zo({resetAllFilter:o,onChange:r,value:t,panelId:s,children:l,label:n}){const a=he();return e.jsx(I,{label:n,resetAll:()=>{const e=o(t);r(e)},panelId:s,dropdownMenuProps:a,children:l})}const Io={radius:!0,color:!0,width:!0,shadow:!0};function Lo({as:o=zo,value:t,onChange:s,inheritedValue:n=t,settings:a,panelId:i,name:d,defaultControls:c=Io}){var u,h,p,b;const m=ce(a),f=r.useCallback(e=>ue({settings:a},"",e),[a]),x=e=>{const o=m.flatMap(({colors:e})=>e).find(({color:o})=>o===e);return o?"var:preset|color|"+o.slug:e},g=r.useMemo(()=>{if(Je(n?.border)){const e={...n?.border};return["top","right","bottom","left"].forEach(o=>{e[o]={...e[o],color:f(e[o]?.color)}}),e}return{...n?.border,color:n?.border?.color?f(n?.border?.color):void 0}},[n?.border,f]),v=e=>s({...t,border:e}),C=So(a),_=No(a),y=Bo(a),S=jo(a),j=f(g?.radius),N=e=>v({...g,radius:e}),B=()=>{const e=t?.border?.radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},I=ko(a),L=f(n?.shadow),R=null!==(u=a?.shadow?.presets)&&void 0!==u?u:{},M=null!==(h=null!==(p=null!==(b=R.custom)&&void 0!==b?b:R.theme)&&void 0!==p?p:R.default)&&void 0!==h?h:[],D=e=>{const o=M?.find(({shadow:o})=>o===e)?.slug;s(O(t,["shadow"],o?`var:preset|shadow|${o}`:e||void 0))},V=r.useCallback(e=>({...e,border:void 0,shadow:void 0}),[]),A=c?.color||c?.width,F=C||_||y||S,P=To({blockName:d,hasShadowControl:I,hasBorderControl:F});return e.jsxs(o,{resetAllFilter:V,value:t,onChange:s,panelId:i,label:P,children:[(y||C)&&e.jsx(k,{hasValue:()=>(e=>{if(!e)return!1;if(Je(e))return!Ke.every(o=>Ge(e[o]));return!Ge(e)})(t?.border),label:l("Border"),onDeselect:()=>(()=>{if(B())return v({radius:t?.border?.radius});v(void 0)})(),isShownByDefault:A,panelId:i,children:e.jsx(oo,{colors:m,enableAlpha:!0,enableStyle:_,onChange:e=>{const o={...e};Je(o)?["top","right","bottom","left"].forEach(e=>{o[e]&&(o[e]={...o[e],color:x(o[e]?.color)})}):o&&(o.color=x(o.color)),v({radius:g?.radius,...o})},popoverOffset:40,popoverPlacement:"left-start",value:g,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large",hideLabelFromVision:!I,label:l("Border")})}),S&&e.jsx(k,{hasValue:B,label:l("Radius"),onDeselect:()=>N(void 0),isShownByDefault:c.radius,panelId:i,children:e.jsx(bo,{values:j,onChange:e=>{N(e||void 0)}})}),I&&e.jsxs(k,{label:l("Shadow"),hasValue:()=>!!t?.shadow,onDeselect:()=>D(void 0),isShownByDefault:c.shadow,panelId:i,children:[F?e.jsx(w.VisualLabel,{as:"legend",children:l("Shadow")}):null,e.jsx(z,{isBordered:!0,isSeparated:!0,children:e.jsx(vo,{shadow:L,onShadowChange:D,settings:a})})]})]})}const Ro="__experimentalBorder",Mo="shadow",Do=(e,o,r)=>{let t;return e.some(e=>e.colors.some(e=>e[o]===r&&(t=e,!0))),t},Vo=({colors:e,namedColor:o,customColor:r})=>{if(o){const r=Do(e,"slug",o);if(r)return r}if(!r)return{color:void 0};const t=Do(e,"color",r);return t||{color:r}};function Ao(e){const o=/var:preset\|color\|(.+)/.exec(e);return o&&o[1]?o[1]:null}function Fo(e){if(Je(e?.border))return{style:e,borderColor:void 0};const o=e?.border?.color,r=o?.startsWith("var:preset|color|")?o.substring(17):void 0,t={...e};return t.border={...t.border,color:r?void 0:o},{style:q(t),borderColor:r}}function Po(e){return Je(e.style?.border)?e.style:{...e.style,border:{...e.style?.border,color:e.borderColor?"var:preset|color|"+e.borderColor:e.style?.border?.color}}}function $o({label:o,children:t,resetAllFilter:s}){const l=r.useCallback(e=>{const o=Po(e),r=s(o);return{...e,...Fo(r)}},[s]);return e.jsx(R,{group:"border",resetAllFilter:l,label:o,children:t})}function Uo({clientId:o,name:t,setAttributes:s,settings:l}){const n=yo(l);const{style:a,borderColor:i}=L(function(e){const{style:r,borderColor:t}=e(re).getBlockAttributes(o)||{};return{style:r,borderColor:t}},[o]),d=r.useMemo(()=>Po({style:a,borderColor:i}),[a,i]);if(!n)return null;const c={...Q(t,[Ro,"__experimentalDefaultControls"]),...Q(t,[Mo,"__experimentalDefaultControls"])};return e.jsx(Lo,{as:$o,panelId:o,settings:l,value:d,onChange:e=>{s(Fo(e))},defaultControls:c})}function Wo(e,o="any"){const r=Q(e,Ro);return!0===r||("any"===o?!!(r?.color||r?.radius||r?.width||r?.style):!!r?.[o])}function To({blockName:e,hasBorderControl:o,hasShadowControl:r}={}){const t=wo(H(e));return o||r||!e||(o=t?.hasBorderColor||t?.hasBorderStyle||t?.hasBorderWidth||t?.hasBorderRadius,r=t?.hasShadow),l(o&&r?"Border & Shadow":r?"Shadow":"Border")}function Oo(e,o,r){if(!Wo(o,"color")||K(o,Ro,"color"))return e;const t=Ho(r),s=J(e.className,t);return e.className=s||void 0,e}function Ho(e){const{borderColor:o,style:r}=e,t=ee("border-color",o);return J({"has-border-color":o||r?.border?.color,[t]:!!t})}const Eo={useBlockProps:function({name:e,borderColor:o,style:r}){const{colors:t}=oe();if(!Wo(e,"color")||K(e,Ro,"color"))return{};const{color:s}=Vo({colors:t,namedColor:o}),{color:l}=Vo({colors:t,namedColor:Ao(r?.border?.top?.color)}),{color:n}=Vo({colors:t,namedColor:Ao(r?.border?.right?.color)}),{color:a}=Vo({colors:t,namedColor:Ao(r?.border?.bottom?.color)}),{color:i}=Vo({colors:t,namedColor:Ao(r?.border?.left?.color)});return Oo({style:q({borderTopColor:l||s,borderRightColor:n||s,borderBottomColor:a||s,borderLeftColor:i||s})||{}},e,{borderColor:o,style:r})},addSaveProps:Oo,attributeKeys:["borderColor","style"],hasSupport:e=>Wo(e,"color")};function Ko(e){const o=e.style?.border||{};return{className:Ho(e)||void 0,style:G({border:o})}}function qo(e){const{colors:o}=oe(),r=Ko(e),{borderColor:t}=e;if(t){const e=Vo({colors:o,namedColor:t});r.style.borderColor=e.color}return r}function Go(e){const o=e.style?.shadow||"";return{style:G({shadow:o})}}E("blocks.registerBlockType","core/border/addAttributes",function(e){return Wo(e,"color")?e.attributes.borderColor?e:{...e,attributes:{...e.attributes,borderColor:{type:"string"}}}:e});export{Lo as B,Mo as S,wo as a,To as b,qo as c,Go as d,bo as e,Ro as f,Ko as g,Uo as h,Eo as i,xe as l,yo as u};
