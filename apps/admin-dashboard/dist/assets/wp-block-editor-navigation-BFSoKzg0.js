import{r as e,e as t,ag as n,j as o}from"./vendor-react-BQ6HOJoh.js";import{g as a,z as r,i,w as c,aD as s,aX as u,ag as l,a as f,D as d,aN as p,o as m,u as h,b as v,a2 as g,O as x,B as N,a9 as T,a8 as w}from"./wp-block-editor-misc-pHCPYvR2.js";import"./wp-block-editor-a11y-DrduSWFW.js";import{e as I,X as y,x as S}from"./wp-block-editor-utils-M5qXzE1L.js";import{c as k,u as b}from"./wp-block-editor-api-Buev8_QU.js";import{s as A}from"./wp-block-editor-store-B-g1aSix.js";function E(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var o=e[n];if("*"!==o&&"+"!==o&&"?"!==o)if("\\"!==o)if("{"!==o)if("}"!==o)if(":"!==o)if("("!==o)t.push({type:"CHAR",index:n,value:e[n++]});else{var a=1,r="";if("?"===e[c=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(c));for(;c<e.length;)if("\\"!==e[c]){if(")"===e[c]){if(0===--a){c++;break}}else if("("===e[c]&&(a++,"?"!==e[c+1]))throw new TypeError("Capturing groups are not allowed at ".concat(c));r+=e[c++]}else r+=e[c++]+e[c++];if(a)throw new TypeError("Unbalanced pattern at ".concat(n));if(!r)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:r}),n=c}else{for(var i="",c=n+1;c<e.length;){var s=e.charCodeAt(c);if(!(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s))break;i+=e[c++]}if(!i)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:i}),n=c}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),o=t.prefixes,a=void 0===o?"./":o,r=t.delimiter,i=void 0===r?"/#?":r,c=[],s=0,u=0,l="",f=function(e){if(u<n.length&&n[u].type===e)return n[u++].value},d=function(e){var t=f(e);if(void 0!==t)return t;var o=n[u],a=o.type,r=o.index;throw new TypeError("Unexpected ".concat(a," at ").concat(r,", expected ").concat(e))},p=function(){for(var e,t="";e=f("CHAR")||f("ESCAPED_CHAR");)t+=e;return t},m=function(e){var t=c[c.length-1],n=e||(t&&"string"==typeof t?t:"");if(t&&!n)throw new TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!n||function(e){for(var t=0,n=i;t<n.length;t++){var o=n[t];if(e.indexOf(o)>-1)return!0}return!1}(n)?"[^".concat(P(i),"]+?"):"(?:(?!".concat(P(n),")[^").concat(P(i),"])+?")};u<n.length;){var h=f("CHAR"),v=f("NAME"),g=f("PATTERN");if(v||g){var x=h||"";-1===a.indexOf(x)&&(l+=x,x=""),l&&(c.push(l),l=""),c.push({name:v||s++,prefix:x,suffix:"",pattern:g||m(x),modifier:f("MODIFIER")||""})}else{var N=h||f("ESCAPED_CHAR");if(N)l+=N;else if(l&&(c.push(l),l=""),f("OPEN")){x=p();var T=f("NAME")||"",w=f("PATTERN")||"",I=p();d("CLOSE"),c.push({name:T||(w?s++:""),pattern:T&&!w?m(x):w,prefix:x,suffix:I,modifier:f("MODIFIER")||""})}else d("END")}}return c}function B(e,t){var n=[];return function(e,t,n){void 0===n&&(n={});var o=n.decode,a=void 0===o?function(e){return e}:o;return function(n){var o=e.exec(n);if(!o)return!1;for(var r=o[0],i=o.index,c=Object.create(null),s=function(e){if(void 0===o[e])return"continue";var n=t[e-1];"*"===n.modifier||"+"===n.modifier?c[n.name]=o[e].split(n.prefix+n.suffix).map(function(e){return a(e,n)}):c[n.name]=a(o[e],n)},u=1;u<o.length;u++)s(u);return{path:r,index:i,params:c}}}(C(e,n,t),n,t)}function P(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function O(e){return e&&e.sensitive?"":"i"}function j(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var o=n.strict,a=void 0!==o&&o,r=n.start,i=void 0===r||r,c=n.end,s=void 0===c||c,u=n.encode,l=void 0===u?function(e){return e}:u,f=n.delimiter,d=void 0===f?"/#?":f,p=n.endsWith,m="[".concat(P(void 0===p?"":p),"]|$"),h="[".concat(P(d),"]"),v=i?"^":"",g=0,x=e;g<x.length;g++){var N=x[g];if("string"==typeof N)v+=P(l(N));else{var T=P(l(N.prefix)),w=P(l(N.suffix));if(N.pattern)if(t&&t.push(N),T||w)if("+"===N.modifier||"*"===N.modifier){var I="*"===N.modifier?"?":"";v+="(?:".concat(T,"((?:").concat(N.pattern,")(?:").concat(w).concat(T,"(?:").concat(N.pattern,"))*)").concat(w,")").concat(I)}else v+="(?:".concat(T,"(").concat(N.pattern,")").concat(w,")").concat(N.modifier);else{if("+"===N.modifier||"*"===N.modifier)throw new TypeError('Can not repeat "'.concat(N.name,'" without a prefix and suffix'));v+="(".concat(N.pattern,")").concat(N.modifier)}else v+="(?:".concat(T).concat(w,")").concat(N.modifier)}}if(s)a||(v+="".concat(h,"?")),v+=n.endsWith?"(?=".concat(m,")"):"$";else{var y=e[e.length-1],S="string"==typeof y?h.indexOf(y[y.length-1])>-1:void 0===y;a||(v+="(?:".concat(h,"(?=").concat(m,"))?")),S||(v+="(?=".concat(h,"|").concat(m,")"))}return new RegExp(v,O(n))}(E(e,n),t,n)}function C(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,o=0,a=n.exec(e.source);a;)t.push({name:a[1]||o++,prefix:"",suffix:"",modifier:"",pattern:""}),a=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var o=e.map(function(e){return C(e,t,n).source});return new RegExp("(?:".concat(o.join("|"),")"),O(n))}(e,t,n):j(e,t,n)}function M(e,t){return B(t,{decode:decodeURIComponent})(e)}const R=e.createContext({location:{},goTo:()=>{},goBack:()=>{},goToParent:()=>{},addScreen:()=>{},removeScreen:()=>{},params:{}}),U={name:"1br0vvk",styles:"position:relative;overflow-x:clip;contain:layout;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;align-items:start"},L=n({from:{opacity:0}}),D=n({to:{opacity:0}}),_=n({from:{transform:"translateX(100px)"}}),G=n({to:{transform:"translateX(-80px)"}}),F=n({from:{transform:"translateX(-100px)"}}),$=n({to:{transform:"translateX(80px)"}}),z=70,H="linear",X={IN:70,OUT:40},W=300,q="cubic-bezier(0.33, 0, 0, 1)",J=Math.max(z+X.IN,W),K=Math.max(z+X.OUT,W),Q={end:{in:_.name,out:G.name},start:{in:F.name,out:$.name}},V={end:{in:t(z,"ms ",H," ",X.IN,"ms both ",L,",",W,"ms ",q," both ",_,";",""),out:t(z,"ms ",H," ",X.OUT,"ms both ",D,",",W,"ms ",q," both ",G,";","")},start:{in:t(z,"ms ",H," ",X.IN,"ms both ",L,",",W,"ms ",q," both ",F,";",""),out:t(z,"ms ",H," ",X.OUT,"ms both ",D,",",W,"ms ",q," both ",$,";","")}},Y=t("z-index:1;&[data-animation-type='out']{z-index:0;}@media not ( prefers-reduced-motion ){&:not( [data-skip-animation] ){",["start","end"].map(e=>["in","out"].map(n=>t("&[data-animation-direction='",e,"'][data-animation-type='",n,"']{animation:",V[e][n],";}",""))),";}}",""),Z={name:"14di7zd",styles:"overflow-x:auto;max-height:100%;box-sizing:border-box;position:relative;grid-column:1/-1;grid-row:1/-1"};function ee(e,t,n={}){var o;const{focusSelectors:a}=e,r={...e.currentLocation},{isBack:i=!1,skipFocus:c=!1,replace:s,focusTargetSelector:u,...l}=n;if(r.path===t)return{currentLocation:r,focusSelectors:a};let f,d;function p(){var t;return f=null!==(t=f)&&void 0!==t?t:new Map(e.focusSelectors),f}return u&&r.path&&p().set(r.path,u),a.get(t)&&(i&&(d=a.get(t)),p().delete(t)),{currentLocation:{...l,isInitial:!1,path:t,isBack:i,hasRestoredFocus:!1,focusTargetSelector:d,skipFocus:c},focusSelectors:null!==(o=f)&&void 0!==o?o:a}}function te(e,t={}){const{screens:n,focusSelectors:o}=e,a={...e.currentLocation},r=a.path;if(void 0===r)return{currentLocation:a,focusSelectors:o};const i=function(e,t){if(!e.startsWith("/"))return;const n=e.split("/");let o;for(;n.length>1&&void 0===o;){n.pop();const e=""===n.join("/")?"/":n.join("/");t.find(t=>!1!==M(e,t.path))&&(o=e)}return o}(r,n);return void 0===i?{currentLocation:a,focusSelectors:o}:ee(e,i,{...t,isBack:!0})}function ne(e,t){let{screens:n,currentLocation:o,matchedPath:a,focusSelectors:r,...s}=e;switch(t.type){case"add":n=function({screens:e},t){return e.some(e=>e.path===t.path)?(!0===globalThis.SCRIPT_DEBUG&&c(`Navigator: a screen with path ${t.path} already exists.\nThe screen with id ${t.id} will not be added.`),e):[...e,t]}(e,t.screen);break;case"remove":n=function({screens:e},t){return e.filter(e=>e.id!==t.id)}(e,t.screen);break;case"goto":({currentLocation:o,focusSelectors:r}=ee(e,t.path,t.options));break;case"gotoparent":({currentLocation:o,focusSelectors:r}=te(e,t.options))}if(n===e.screens&&o===e.currentLocation)return e;const u=o.path;return a=void 0!==u?function(e,t){for(const n of t){const t=M(e,n.path);if(t)return{params:t.params,id:n.id}}}(u,n):void 0,a&&e.matchedPath&&a.id===e.matchedPath.id&&i(a.params,e.matchedPath.params)&&(a=e.matchedPath),{...s,screens:n,currentLocation:o,matchedPath:a,focusSelectors:r}}const oe=k(function(t,n){const{initialPath:i,children:c,className:s,...u}=b(t,"Navigator"),[l,f]=e.useReducer(ne,i,e=>({screens:[],currentLocation:{path:e,isInitial:!0},matchedPath:void 0,focusSelectors:new Map,initialPath:i})),d=e.useMemo(()=>({goBack:e=>f({type:"gotoparent",options:e}),goTo:(e,t)=>f({type:"goto",path:e,options:t}),goToParent:e=>{a("wp.components.useNavigator().goToParent",{since:"6.7",alternative:"wp.components.useNavigator().goBack"}),f({type:"gotoparent",options:e})},addScreen:e=>f({type:"add",screen:e}),removeScreen:e=>f({type:"remove",screen:e})}),[]),{currentLocation:p,matchedPath:m}=l,h=e.useMemo(()=>{var e;return{location:p,params:null!==(e=m?.params)&&void 0!==e?e:{},match:m?.id,...d}},[p,m,d]),v=I(),g=e.useMemo(()=>v(U,s),[s,v]);return o.jsx(r,{ref:n,className:g,...u,children:o.jsx(R.Provider,{value:h,children:c})})},"Navigator");function ae({isMatch:t,skipAnimation:n,isBack:o,onAnimationEnd:a}){const r=s(),i=y(),[c,u]=e.useState("INITIAL"),l="ANIMATING_IN"!==c&&"IN"!==c&&t,f="ANIMATING_OUT"!==c&&"OUT"!==c&&!t;e.useLayoutEffect(()=>{l?u(n||i?"IN":"ANIMATING_IN"):f&&u(n||i?"OUT":"ANIMATING_OUT")},[l,f,n,i]);const d=r&&o||!r&&!o?"end":"start",p="ANIMATING_IN"===c,m="ANIMATING_OUT"===c;let h;p?h="in":m&&(h="out");const v=e.useCallback(e=>{a?.(e),((e,t,n)=>"ANIMATING_OUT"===t&&n===Q[e].out)(d,c,e.animationName)?u("OUT"):((e,t,n)=>"ANIMATING_IN"===t&&n===Q[e].in)(d,c,e.animationName)&&u("IN")},[a,c,d]);return e.useEffect(()=>{let e;return m?e=window.setTimeout(()=>{u("OUT"),e=void 0},1.2*K):p&&(e=window.setTimeout(()=>{u("IN"),e=void 0},1.2*J)),()=>{e&&(window.clearTimeout(e),e=void 0)}},[m,p]),{animationStyles:Y,shouldRenderScreen:t||"IN"===c||"ANIMATING_OUT"===c,screenProps:{onAnimationEnd:v,"data-animation-direction":d,"data-animation-type":h,"data-skip-animation":n||void 0}}}const re=k(function(t,n){/^\//.test(t.path)||!0===globalThis.SCRIPT_DEBUG&&c("wp.components.Navigator.Screen: the `path` should follow a URL-like scheme; it should start with and be separated by the `/` character.");const a=e.useId(),{children:i,className:s,path:f,onAnimationEnd:d,...p}=b(t,"Navigator.Screen"),{location:m,match:h,addScreen:v,removeScreen:g}=e.useContext(R),{isInitial:x,isBack:N,focusTargetSelector:T,skipFocus:w}=m,y=h===a,k=e.useRef(null),A=!!x&&!N;e.useEffect(()=>{const e={id:a,path:u(f)};return v(e),()=>g(e)},[a,f,v,g]);const{animationStyles:E,shouldRenderScreen:B,screenProps:P}=ae({isMatch:y,isBack:N,onAnimationEnd:d,skipAnimation:A}),O=I(),j=e.useMemo(()=>O(Z,E,s),[s,O,E]),C=e.useRef(m);e.useEffect(()=>{C.current=m},[m]),e.useEffect(()=>{const e=k.current;if(A||!y||!e||C.current.hasRestoredFocus||w)return;const t=e.ownerDocument.activeElement;if(e.contains(t))return;let n=null;if(N&&T&&(n=e.querySelector(T)),!n){const[t]=l.tabbable.find(e);n=null!=t?t:e}C.current.hasRestoredFocus=!0,n.focus()},[A,y,N,T,w]);const M=S([n,k]);return B?o.jsx(r,{ref:M,className:j,...P,...p,children:i}):null},"Navigator.Screen");function ie(){const{location:t,params:n,goTo:o,goBack:a,goToParent:r}=e.useContext(R);return{location:t,goTo:o,goBack:a,goToParent:r,params:n}}const ce=k(function(t,n){const a=function(t){const{path:n,onClick:o,as:a=f,attributeName:r="id",...i}=b(t,"Navigator.Button"),c=u(n),{goTo:s}=ie();return{as:a,onClick:e.useCallback(e=>{var t,n;e.preventDefault(),s(c,{focusTargetSelector:(t=r,n=c,`[${t}="${n}"]`)}),o?.(e)},[s,o,r,c]),...i,[r]:c}}(t);return o.jsx(r,{ref:n,...a})},"Navigator.Button");const se=k(function(t,n){const a=function(t){const{onClick:n,as:o=f,...a}=b(t,"Navigator.BackButton"),{goBack:r}=ie();return{as:o,onClick:e.useCallback(e=>{e.preventDefault(),r(),n?.(e)},[r,n]),...a}}(t);return o.jsx(r,{ref:n,...a})},"Navigator.BackButton"),ue=Object.assign(oe,{Screen:Object.assign(re,{displayName:"Navigator.Screen"}),Button:Object.assign(ce,{displayName:"Navigator.Button"}),BackButton:Object.assign(se,{displayName:"Navigator.BackButton"})});function le({clientIds:e,onSelect:t}){return e.length?o.jsx(d,{spacing:1,children:e.map(e=>o.jsx(fe,{onSelect:t,clientId:e},e))}):null}function fe({clientId:e,onSelect:t}){const n=p(e),a=m({clientId:e,context:"list-view"}),{isSelected:r}=h(t=>{const{isBlockSelected:n,hasSelectedInnerBlock:o}=t(A);return{isSelected:n(e)||o(e,!0)}},[e]),{selectBlock:i}=v(A);return o.jsx(f,{__next40pxDefaultSize:!0,isPressed:r,onClick:async()=>{await i(e),t&&t(e)},children:o.jsxs(g,{children:[o.jsx(x,{children:o.jsx(N,{icon:n?.icon})}),o.jsx(T,{style:{textAlign:"left"},children:o.jsx(w,{children:a})})]})})}export{le as B,ue as N,B as m};
