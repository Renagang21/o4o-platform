import{r as l,h as S,cb as A,z as a,j as e,a2 as L,T as h,bA as f,bv as P,aX as F,E as M,Q as T}from"./vendor-react-P__8vGRG.js";import{u as z}from"./index-C0gS3Jf3.js";import"./page-template-editor-BTdVTS-a.js";import"./vendor-query-CucHvDcH.js";import"./vendor-socket-DgcwqWsT.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-utils-dq2XMRwt.js";const U=()=>{const[i,o]=l.useState(""),[n,c]=l.useState(""),[d,p]=l.useState(!1),[g,w]=l.useState(!1),{login:j,isAuthenticated:m,isLoading:r,error:x,clearError:y,isAdmin:u}=z(),N=S(),[v]=A(),k=v.get("redirect")||"/home",C=N.state?.from||k;if(l.useEffect(()=>{m&&u&&a.success("이미 로그인되어 있습니다.")},[m,u]),m)return u?e.jsx(L,{to:C,replace:!0}):e.jsx("div",{className:"min-h-screen bg-wp-bg-secondary flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx(h,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-wp-text-primary",children:"접근 권한 없음"}),e.jsx("p",{className:"mt-2 text-center text-sm text-wp-text-secondary",children:"관리자 권한이 필요합니다"}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>window.location.href="/",className:"text-admin-blue hover:text-admin-blue-dark",children:"메인 사이트로 이동"})})]})})});const E=async s=>{if(s.preventDefault(),y(),!i||!n){a.error("이메일과 비밀번호를 입력해주세요.");return}try{await j({email:i,password:n}),a.success("관리자 로그인 성공!")}catch(b){let t=b instanceof Error?b.message:"로그인에 실패했습니다.";t.includes("Invalid credentials")?t="이메일 또는 비밀번호가 올바르지 않습니다.":t.includes("Account not active")?t="계정이 비활성화되었습니다. 관리자에게 문의하세요.":t.includes("insufficient_role")?t="관리자 권한이 없습니다.":t.includes("Account is temporarily locked")&&(t="계정이 임시로 잠겼습니다. 잠시 후 다시 시도하세요."),a.error(t)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6 relative",children:[e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob"}),e.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-cyan-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"relative text-center",children:[e.jsx("div",{className:"inline-flex h-16 w-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl items-center justify-center shadow-lg mb-4",children:e.jsx(f,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white",children:"O4O Admin"}),e.jsx("p",{className:"mt-2 text-sm text-blue-200",children:"관리자 계정으로 로그인하세요"}),e.jsxs("p",{className:"mt-1 text-xs text-green-400 font-bold",children:["✅ 배포 테스트 v3.0 - ",new Date().toLocaleString("ko-KR")]})]}),e.jsxs("form",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-2xl border border-white/20",onSubmit:E,children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-blue-200 mb-2",children:"이메일 주소"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"h-5 w-5 text-gray-500"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:s=>o(s.target.value),className:"block w-full pl-10 pr-3 py-3 bg-white/90 border border-gray-300 rounded-lg focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 focus:outline-none transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"admin@neture.co.kr",disabled:r})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-blue-200 mb-2",children:"비밀번호"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(f,{className:"h-5 w-5 text-gray-500"})}),e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:s=>c(s.target.value),className:"block w-full pl-10 pr-10 py-3 bg-white/90 border border-gray-300 rounded-lg focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 focus:outline-none transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"비밀번호를 입력하세요",disabled:r}),e.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:r,children:d?e.jsx(F,{className:"h-5 w-5 text-gray-600 hover:text-gray-900 transition-colors"}):e.jsx(M,{className:"h-5 w-5 text-gray-600 hover:text-gray-900 transition-colors"})})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:g,onChange:s=>w(s.target.checked),className:"h-4 w-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-offset-0",disabled:r}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-sm text-blue-200",children:"로그인 상태 유지"})]}),e.jsx(T,{to:"/forgot-password",className:"text-sm text-blue-300 hover:text-white transition-colors",children:"비밀번호 찾기"})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full mt-6 py-3 px-4 text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-slate-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"로그인 중..."]}):"로그인"})]}),x&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-200",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:x})]})}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[e.jsx("p",{className:"text-xs text-blue-300 mb-3 font-medium",children:"테스트 계정"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{o("admin@neture.co.kr"),c("Test@1234")},className:"text-xs bg-white/10 hover:bg-white/20 text-white px-3 py-2 rounded-lg transition-colors border border-white/10",children:"관리자"}),e.jsx("button",{type:"button",onClick:()=>{o("manager@neture.co.kr"),c("Test@1234")},className:"text-xs bg-white/10 hover:bg-white/20 text-white px-3 py-2 rounded-lg transition-colors border border-white/10",children:"일반 관리자"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"/",className:"text-sm text-blue-300 hover:text-white transition-colors",children:"메인 사이트로 돌아가기"})})]})})};export{U as default};
//# sourceMappingURL=Login-D0AEElim.js.map
