import{I as R,j as e}from"./vendor-react-D0umZ417.js";import{ar as _,as as b,at as h,au as B,av as H,aw as $,ax as u,ay as I,az as M,aA as v,aB as f,aC as O,aD as k,aE as D,aF as w}from"./wp-lazy-CvxKE3_Q.js";import"./vendor-monaco-cpVGocfO.js";import"./vendor-ui-BkLtITBR.js";const E=["image","video"];_("o4o/cover",{title:"Cover",description:"Add an image or video with a text overlay",category:"media",icon:R,supports:{align:["left","center","right","wide","full"],anchor:!0,color:{text:!1,background:!1},spacing:{padding:!0},html:!1},attributes:{url:{type:"string"},id:{type:"number"},alt:{type:"string",default:""},hasParallax:{type:"boolean",default:!1},isRepeated:{type:"boolean",default:!1},dimRatio:{type:"number",default:50},overlayColor:{type:"string"},customOverlayColor:{type:"string"},focalPoint:{type:"object",default:{x:.5,y:.5}},minHeight:{type:"number",default:450},minHeightUnit:{type:"string",default:"px"},contentPosition:{type:"string",default:"center center"},isDark:{type:"boolean",default:!0}},edit:function({attributes:i,setAttributes:o}){const{url:l,hasParallax:d,isRepeated:p,dimRatio:x,overlayColor:s,customOverlayColor:m,focalPoint:r,minHeight:n,minHeightUnit:g,contentPosition:t,isDark:c}=i,j=s||m||"rgba(0, 0, 0, 0.5)",C=b({className:`o4o-cover-block ${c?"is-dark":"is-light"} ${d?"has-parallax":""}`,style:{backgroundImage:l?`url(${l})`:void 0,backgroundPosition:r?`${r.x*100}% ${r.y*100}%`:void 0,backgroundSize:p?"auto":"cover",backgroundRepeat:p?"repeat":"no-repeat",backgroundAttachment:d?"fixed":void 0,minHeight:`${n}${g}`,position:"relative",display:"flex",alignItems:t?.includes("top")?"flex-start":t?.includes("bottom")?"flex-end":"center",justifyContent:t?.includes("left")?"flex-start":t?.includes("right")?"flex-end":"center",padding:"60px 30px"}}),P=a=>{o({url:a.url,id:a.id,alt:a.alt})},N=()=>{o({url:void 0,id:void 0,alt:""})};return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsx(H,{onChange:a=>{o({contentPosition:a==="top"?"top center":a==="bottom"?"bottom center":"center center"})},value:t?.includes("top")?"top":t?.includes("bottom")?"bottom":"center"})}),e.jsxs($,{children:[e.jsxs(u,{title:"Media Settings",initialOpen:!0,children:[e.jsx(I,{children:e.jsx(M,{onSelect:P,allowedTypes:E,value:i.id,render:({open:a})=>e.jsxs("div",{children:[!l&&e.jsx(v,{onClick:a,variant:"primary",className:"mb-2",children:"Select Media"}),l&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:l,alt:i.alt,className:"w-full mb-2"}),e.jsx(v,{onClick:a,variant:"secondary",className:"mr-2",children:"Replace"}),e.jsx(v,{onClick:N,variant:"secondary",isDestructive:!0,children:"Remove"})]})]})})}),l&&e.jsxs(e.Fragment,{children:[e.jsx(f,{label:"Fixed Background",checked:d,onChange:a=>o({hasParallax:a}),help:"Creates a parallax effect when scrolling",disabled:!1,className:"",__nextHasNoMarginBottom:!1}),e.jsx(f,{label:"Repeated Background",checked:p,onChange:a=>o({isRepeated:a}),disabled:!1,className:"",__nextHasNoMarginBottom:!1}),e.jsx(O,{label:"Focal Point",url:l,value:r||{x:.5,y:.5},onChange:a=>o({focalPoint:a})})]})]}),e.jsxs(u,{title:"Overlay",initialOpen:!1,children:[e.jsx(k,{label:"Opacity",value:x,onChange:a=>o({dimRatio:a||0}),min:0,max:100,step:10}),e.jsx("p",{className:"mb-2",children:"Overlay Color"}),e.jsx(D,{value:s||m,onChange:a=>o({customOverlayColor:a})}),e.jsx(f,{label:"Dark Text",checked:!c,onChange:a=>o({isDark:!a}),help:"Use dark text for light backgrounds",disabled:!1,className:"",__nextHasNoMarginBottom:!1})]}),e.jsx(u,{title:"Dimensions",initialOpen:!1,children:e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(k,{label:"Minimum Height",value:n,onChange:a=>o({minHeight:a||300}),min:50,max:1e3,step:10})}),e.jsx(w,{value:g,options:[{label:"px",value:"px"},{label:"vh",value:"vh"},{label:"%",value:"%"}],onChange:a=>o({minHeightUnit:a})})]})})]}),e.jsxs("div",{...C,children:[e.jsx("div",{className:"o4o-cover-block__overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:j,opacity:x/100,pointerEvents:"none"}}),e.jsx("div",{className:"o4o-cover-block__content",style:{position:"relative",zIndex:1,width:"100%",maxWidth:"800px"},children:e.jsx(h,{template:[["core/heading",{level:1,textAlign:"center",placeholder:"Add title...",style:{color:{text:c?"#ffffff":"#000000"}}}],["core/paragraph",{align:"center",placeholder:"Add description...",style:{color:{text:c?"#ffffff":"#000000"}}}]],renderAppender:h.ButtonBlockAppender})})]})]})},save:({attributes:y})=>{const{url:i,hasParallax:o,isRepeated:l,dimRatio:d,overlayColor:p,customOverlayColor:x,focalPoint:s,minHeight:m,minHeightUnit:r,contentPosition:n,isDark:g}=y,t=p||x||"rgba(0, 0, 0, 0.5)",c=b.save({className:`o4o-cover-block ${g?"is-dark":"is-light"} ${o?"has-parallax":""}`,style:{backgroundImage:i?`url(${i})`:void 0,backgroundPosition:s?`${s.x*100}% ${s.y*100}%`:void 0,backgroundSize:l?"auto":"cover",backgroundRepeat:l?"repeat":"no-repeat",backgroundAttachment:o?"fixed":void 0,minHeight:`${m}${r}`,position:"relative",display:"flex",alignItems:n?.includes("top")?"flex-start":n?.includes("bottom")?"flex-end":"center",justifyContent:n?.includes("left")?"flex-start":n?.includes("right")?"flex-end":"center",padding:"60px 30px"}});return e.jsxs("div",{...c,children:[e.jsx("div",{className:"o4o-cover-block__overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:t,opacity:d/100,pointerEvents:"none"}}),e.jsx("div",{className:"o4o-cover-block__content",style:{position:"relative",zIndex:1,width:"100%",maxWidth:"800px"},children:e.jsx(h.Content,{})})]})}});
