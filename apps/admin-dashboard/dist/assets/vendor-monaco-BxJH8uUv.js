function n(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function e(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function t(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach(function(e){n(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function r(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function a(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach(function(e){i(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function u(n){return function e(){for(var t=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=n.length?n.apply(this,o):function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(t,[].concat(o,r))}}}function l(n){return{}.toString.call(n).includes("Object")}function f(n){return"function"==typeof n}var s=u(function(n,e){throw new Error(n[e]||n.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),p={changes:function(n,e){return l(e)||s("changeType"),Object.keys(e).some(function(e){return t=n,r=e,!Object.prototype.hasOwnProperty.call(t,r);var t,r})&&s("changeField"),e},selector:function(n){f(n)||s("selectorType")},handler:function(n){f(n)||l(n)||s("handlerType"),l(n)&&Object.values(n).some(function(n){return!f(n)})&&s("handlersType")},initial:function(n){var e;n||s("initialIsRequired"),l(n)||s("initialType"),e=n,Object.keys(e).length||s("initialContent")}};function d(n,e){return f(e)?e(n.current):e}function y(n,e){return n.current=a(a({},n.current),e),e}function h(n,e,t){return f(e)?e(n.current):Object.keys(t).forEach(function(t){var r;return null===(r=e[t])||void 0===r?void 0:r.call(e,n.current[t])}),t}var g={create:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.initial(n),p.handler(e);var t={current:n},r=u(h)(t,e),o=u(y)(t),i=u(p.changes)(n),c=u(d)(t);return[function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(n){return n};return p.selector(n),n(t.current)},function(n){!function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(n){return e.reduceRight(function(n,e){return e(n)},n)}}(r,o,i,c)(n)}]}};var b,v=(b=function(n,e){throw new Error(n[e]||n.default)},function n(){for(var e=this,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return r.length>=b.length?b.apply(this,r):function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n.apply(e,[].concat(r,o))}})({configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "}),m={config:function(n){var e;return n||v("configIsRequired"),e=n,{}.toString.call(e).includes("Object")||v("configType"),n.urls?{paths:{vs:n.urls.monacoBase}}:n}};function j(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],j(n[t],e[t]))}),t(t({},n),e)}var O={type:"cancelation",msg:"operation is manually canceled"};function w(n){var e=!1,t=new Promise(function(t,r){n.then(function(n){return e?r(O):t(n)}),n.catch(r)});return t.cancel=function(){return e=!0},t}var P,I,S=g.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),k=(I=2,function(n){if(Array.isArray(n))return n}(P=S)||function(n,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var t=[],r=!0,o=!1,i=void 0;try{for(var c,a=n[Symbol.iterator]();!(r=(c=a.next()).done)&&(t.push(c.value),!e||t.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return t}}(P,I)||function(n,e){if(n){if("string"==typeof n)return o(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(n,e):void 0}}(P,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),T=k[0],A=k[1];function E(n){return document.body.appendChild(n)}function D(n){var e,t,r=T(function(n){return{config:n.config,reject:n.reject}}),o=(e="".concat(r.config.paths.vs,"/loader.js"),t=document.createElement("script"),e&&(t.src=e),t);return o.onload=function(){return n()},o.onerror=r.reject,o}function q(){var n=T(function(n){return{config:n.config,resolve:n.resolve,reject:n.reject}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(e){R(e),n.resolve(e)},function(e){n.reject(e)})}function R(n){T().monaco||A({monaco:n})}var z=new Promise(function(n,e){return A({resolve:n,reject:e})}),x={config:function(n){var e=m.config(n),t=e.monaco,o=r(e,["monaco"]);A(function(n){return{config:j(n.config,o),monaco:t}})},init:function(){var n=T(function(n){return{monaco:n.monaco,isInitialized:n.isInitialized,resolve:n.resolve}});if(!n.isInitialized){if(A({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),w(z);if(window.monaco&&window.monaco.editor)return R(window.monaco),n.resolve(window.monaco),w(z);!function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(n){return e.reduceRight(function(n,e){return e(n)},n)}}(E,D)(q)}return w(z)},__getMonacoInstance:function(){return T(function(n){return n.monaco})}};export{x as l};
