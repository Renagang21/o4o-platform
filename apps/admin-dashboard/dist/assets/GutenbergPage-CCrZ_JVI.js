import{r as d,j as e,F as Y,B as Ae,X as W,cT as qe,c7 as Ve,O as _,S as pe,x as ge,I as je,Y as We,c as $e,b as Qe,u as Je,U as fe,G as Ke,L as Xe,cp as ye,da as Ye,ch as we,z as _e,d7 as Ze,n as es,d8 as ss,bJ as De,bB as ce,cX as Be,s as as,cL as Fe,p as E,H as ts,C as Le,y as ls,w as Z,dz as rs,bL as Ie,bF as Me,dy as ns,ct as is,bP as Ce,cM as cs,a1 as os,a3 as ds,cE as ms,cF as hs,$ as xs,E as us}from"./vendor-react-D0umZ417.js";import{c as N,a as oe,b as Ue,d as $,B as x,O as Q,e as J,L as T,S as de,f as me,g as he,h as xe,i as P,I as v,T as ee,P as ke,w as K,x as X,y as Se,z as Te,E as ps,F as Pe,C as re,k as gs,l as js,s as ue,m as ne,t as vs,Q as Ns,U as bs,D as fs,n as ys,o as ws,r as V,q as Cs,G as ks}from"./page-gutenberg-Bk1xT4fF.js";import{S as ie}from"./page-template-editor-DtyZwqk5.js";import{C as ze}from"./checkbox-2upI78Ex.js";import"./wp-lazy-CvxKE3_Q.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-monaco-cpVGocfO.js";import"./vendor-query-CiZyx00p.js";import"./vendor-utils-DQ8F5vJI.js";const ve=d.createContext(null),Re=d.forwardRef(({open:r,defaultOpen:t=!1,onOpenChange:n,children:i,className:c,...o},g)=>{const[m,h]=d.useState(t),u=r??m,p=b=>{r===void 0&&h(b),n?.(b)};return e.jsx(ve.Provider,{value:{open:u,onOpenChange:p},children:e.jsx("div",{ref:g,className:c,...o,children:i})})}),Oe=d.forwardRef(({onClick:r,...t},n)=>{const i=d.useContext(ve);if(!i)throw new Error("CollapsibleTrigger must be used within Collapsible");return e.jsx("button",{ref:n,onClick:c=>{r?.(c),i.onOpenChange(!i.open)},"aria-expanded":i.open,...t})}),Ee=d.forwardRef(({className:r,style:t,children:n,...i},c)=>{const o=d.useContext(ve);if(!o)throw new Error("CollapsibleContent must be used within Collapsible");return o.open?e.jsx("div",{ref:c,className:N("overflow-hidden","data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up",r),"data-state":o.open?"open":"closed",style:{...t},...i,children:n}):null});Re.displayName="Collapsible";Oe.displayName="CollapsibleTrigger";Ee.displayName="CollapsibleContent";const M=({title:r,defaultOpen:t=!0,children:n})=>{const[i,c]=d.useState(t);return e.jsxs(Re,{open:i,onOpenChange:c,children:[e.jsxs(Oe,{className:"flex items-center justify-between w-full p-4 hover:bg-gray-50 transition-colors",children:[e.jsx("h3",{className:"font-medium text-sm",children:r}),i?e.jsx($e,{className:"h-4 w-4 text-gray-500"}):e.jsx(Qe,{className:"h-4 w-4 text-gray-500"})]}),e.jsx(Ee,{className:"px-4 pb-4",children:n})]})},Ss=({activeTab:r="document",postSettings:t,blockSettings:n,onPostSettingsChange:i,onBlockSettingsChange:c,onClose:o})=>{const[g,m]=d.useState(""),[h,u]=d.useState(!1),[p,b]=d.useState(""),A=[{id:"1",name:"News",slug:"news"},{id:"2",name:"Tutorials",slug:"tutorials"},{id:"3",name:"Updates",slug:"updates"},{id:"4",name:"Announcements",slug:"announcements"}],w=()=>{g.trim()&&(i({tags:[...t.tags,g.trim()]}),m(""))},D=l=>{i({tags:t.tags.filter(L=>L!==l)})},U=l=>{const L=t.categories.includes(l);i(L?{categories:t.categories.filter(B=>B!==l)}:{categories:[...t.categories,l]})};return e.jsxs("div",{className:"w-80 h-full bg-white border-l flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx(oe,{value:r,className:"w-full",children:e.jsxs(Ue,{className:"grid w-full grid-cols-2",children:[e.jsxs($,{value:"document",className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Document"]}),e.jsxs($,{value:"block",className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Block"]})]})}),o&&e.jsx(x,{variant:"ghost",size:"icon",className:"ml-2",onClick:o,children:e.jsx(W,{className:"h-4 w-4"})})]}),e.jsx(Q,{className:"flex-1",children:e.jsxs(oe,{value:r,className:"w-full",children:[e.jsxs(J,{value:"document",className:"m-0",children:[e.jsx(M,{title:"Status & visibility",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-xs",children:"Visibility"}),e.jsxs(de,{value:t.visibility,onValueChange:l=>i({visibility:l}),children:[e.jsx(me,{className:"w-full mt-1",children:e.jsx(he,{})}),e.jsxs(xe,{children:[e.jsx(P,{value:"public",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4"}),"Public"]})}),e.jsx(P,{value:"private",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4"}),"Private"]})}),e.jsx(P,{value:"password",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4"}),"Password protected"]})})]})]})]}),e.jsxs("div",{children:[e.jsx(T,{className:"text-xs",children:"Publish"}),e.jsx(v,{type:"datetime-local",value:t.publishDate,onChange:l=>i({publishDate:l.target.value}),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{htmlFor:"sticky",className:"text-xs",children:"Stick to the top of the blog"}),e.jsx(ie,{id:"sticky",checked:t.sticky,onCheckedChange:l=>i({sticky:l})})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsx(x,{variant:"link",className:"p-0 h-auto text-red-600 hover:text-red-700",children:"Move to trash"})})]})}),e.jsx(M,{title:"Permalink",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{className:"text-xs",children:"URL Slug"}),e.jsx(v,{value:t.slug,onChange:l=>i({slug:l.target.value}),placeholder:"post-url-slug"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["The last part of the URL. Read more about ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"permalinks"})]})]})}),e.jsx(M,{title:"Categories",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(x,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>u(!h),children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Search categories"]}),h&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-md shadow-lg z-10",children:e.jsx(v,{autoFocus:!0,placeholder:"Search...",value:p,onChange:l=>b(l.target.value),className:"border-0 focus-visible:ring-0"})})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:A.filter(l=>l.name.toLowerCase().includes(p.toLowerCase())).map(l=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[e.jsx("input",{type:"checkbox",checked:t.categories.includes(l.id),onChange:()=>U(l.id),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm",children:l.name})]},l.id))}),e.jsxs(x,{variant:"link",size:"sm",className:"p-0 h-auto",children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),"Add New Category"]})]})}),e.jsx(M,{title:"Tags",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{placeholder:"Add new tag",value:g,onChange:l=>m(l.target.value),onKeyPress:l=>{l.key==="Enter"&&(l.preventDefault(),w())}}),e.jsx(x,{size:"sm",onClick:w,children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(l=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-md text-sm",children:[l,e.jsx("button",{onClick:()=>D(l),className:"hover:text-red-600",children:e.jsx(W,{className:"h-3 w-3"})})]},l))})]})}),e.jsx(M,{title:"Featured image",children:e.jsx("div",{className:"space-y-3",children:t.featuredImage?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:t.featuredImage,alt:"Featured",className:"w-full rounded-md"}),e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md flex items-center justify-center gap-2",children:[e.jsx(x,{size:"sm",variant:"secondary",children:"Replace"}),e.jsx(x,{size:"sm",variant:"secondary",onClick:()=>i({featuredImage:void 0}),children:"Remove"})]})]}):e.jsxs(x,{variant:"outline",className:"w-full",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Set featured image"]})})}),e.jsx(M,{title:"Excerpt",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{placeholder:"Write an excerpt (optional)",value:t.excerpt,onChange:l=>i({excerpt:l.target.value}),rows:4}),e.jsx("p",{className:"text-xs text-gray-500",children:"Write an excerpt (optional)"})]})}),e.jsx(M,{title:"Discussion",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{htmlFor:"comments",className:"text-xs",children:"Allow comments"}),e.jsx(ie,{id:"comments",checked:t.commentStatus,onCheckedChange:l=>i({commentStatus:l})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{htmlFor:"pingbacks",className:"text-xs",children:"Allow pingbacks & trackbacks"}),e.jsx(ie,{id:"pingbacks",checked:t.pingStatus,onCheckedChange:l=>i({pingStatus:l})})]})]})})]}),e.jsx(J,{value:"block",className:"m-0",children:n?e.jsxs(e.Fragment,{children:[e.jsx(M,{title:"Block settings",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[e.jsx("p",{className:"text-sm font-medium",children:n.type}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Block ID: ",n.id]})]})})}),n.type==="heading"&&e.jsx(M,{title:"Typography",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-xs",children:"Level"}),e.jsxs(de,{value:n.attributes?.level||"h2",onValueChange:l=>c?.({attributes:{...n.attributes,level:l}}),children:[e.jsx(me,{className:"w-full mt-1",children:e.jsx(he,{})}),e.jsxs(xe,{children:[e.jsx(P,{value:"h1",children:"Heading 1"}),e.jsx(P,{value:"h2",children:"Heading 2"}),e.jsx(P,{value:"h3",children:"Heading 3"}),e.jsx(P,{value:"h4",children:"Heading 4"}),e.jsx(P,{value:"h5",children:"Heading 5"}),e.jsx(P,{value:"h6",children:"Heading 6"})]})]})]}),e.jsxs("div",{children:[e.jsx(T,{className:"text-xs",children:"Alignment"}),e.jsx("div",{className:"flex gap-1 mt-1",children:["left","center","right"].map(l=>e.jsx(x,{variant:n.attributes?.align===l?"default":"outline",size:"sm",onClick:()=>c?.({attributes:{...n.attributes,align:l}}),children:l},l))})]})]})}),e.jsx(M,{title:"Advanced",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-xs",children:"Additional CSS class(es)"}),e.jsx(v,{placeholder:"custom-class",value:n.attributes?.className||"",onChange:l=>c?.({attributes:{...n.attributes,className:l.target.value}}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(T,{className:"text-xs",children:"HTML anchor"}),e.jsx(v,{placeholder:"anchor-id",value:n.attributes?.anchor||"",onChange:l=>c?.({attributes:{...n.attributes,anchor:l.target.value}}),className:"mt-1"})]})]})})]}):e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx(We,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Select a block to see its settings"})]})})]})})]})},Ts=({mode:r="library",onSelect:t,multiple:n=!1,accept:i,onClose:c})=>{const[o,g]=d.useState("grid"),[m,h]=d.useState([]),[u,p]=d.useState(""),[b,A]=d.useState("all"),[w,D]=d.useState(null),[U,l]=d.useState(!1),[L,B]=d.useState(!1),[s,C]=d.useState(null),[y,I]=d.useState(0),[H,q]=d.useState(!1),[G,se]=d.useState([{id:"1",name:"product-image-1.jpg",url:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=200",type:"image",mimeType:"image/jpeg",size:1024e3,dimensions:{width:1920,height:1080},uploadedAt:new Date("2024-01-15"),uploadedBy:"Admin User",tags:["product","headphones"],alt:"Black headphones on yellow background"},{id:"2",name:"banner-hero.png",url:"https://images.unsplash.com/photo-1524634126442-357e0eac3c14?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1524634126442-357e0eac3c14?w=200",type:"image",mimeType:"image/png",size:2048e3,dimensions:{width:2560,height:1440},uploadedAt:new Date("2024-01-10"),uploadedBy:"Admin User",tags:["banner","hero"],alt:"Store banner image"}]),[ae]=d.useState([{id:"folder-1",name:"Products",createdAt:new Date("2024-01-01"),itemCount:45},{id:"folder-2",name:"Banners",createdAt:new Date("2024-01-05"),itemCount:12}]),j=d.useCallback(a=>{q(!0),I(0);const f=setInterval(()=>{I(k=>{if(k>=100){clearInterval(f),q(!1);const S=a.map((F,He)=>({id:`new-${Date.now()}-${He}`,name:F.name,url:URL.createObjectURL(F),type:F.type.startsWith("image/")?"image":F.type.startsWith("video/")?"video":F.type.startsWith("audio/")?"audio":"document",mimeType:F.type,size:F.size,uploadedAt:new Date,uploadedBy:"Current User",folderId:w||void 0}));return se(F=>[...S,...F]),100}return k+10})},200)},[w]),{getRootProps:z,getInputProps:R,isDragActive:O}=Je({onDrop:j,accept:i?{[i]:[]}:void 0,multiple:n}),Ne=G.filter(a=>{const f=a.name.toLowerCase().includes(u.toLowerCase())||a.alt?.toLowerCase().includes(u.toLowerCase())||a.tags?.some(F=>F.toLowerCase().includes(u.toLowerCase())),k=b==="all"||a.type===b,S=!w||a.folderId===w;return f&&k&&S}),be=a=>{r==="picker"&&h(n?f=>f.includes(a)?f.filter(k=>k!==a):[...f,a]:[a])},Ge=()=>{const a=G.filter(f=>m.includes(f.id));t?.(a),c?.()},te=a=>{switch(a){case"image":return je;case"video":return ss;case"audio":return es;case"document":return Y;default:return Ze}},le=a=>{if(a===0)return"0 Bytes";const f=1024,k=["Bytes","KB","MB","GB"],S=Math.floor(Math.log(a)/Math.log(f));return parseFloat((a/Math.pow(f,S)).toFixed(2))+" "+k[S]};return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>l(!0),children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Upload"]}),r==="picker"&&e.jsxs(x,{size:"sm",onClick:Ge,disabled:m.length===0,children:["Select ",m.length>0&&`(${m.length})`]}),c&&e.jsx(x,{variant:"ghost",size:"icon",onClick:c,children:e.jsx(W,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(v,{placeholder:"Search media...",value:u,onChange:a=>p(a.target.value),className:"pl-10 w-64"})]}),e.jsxs(de,{value:b,onValueChange:A,children:[e.jsx(me,{className:"w-32",children:e.jsx(he,{})}),e.jsxs(xe,{children:[e.jsx(P,{value:"all",children:"All types"}),e.jsx(P,{value:"image",children:"Images"}),e.jsx(P,{value:"video",children:"Videos"}),e.jsx(P,{value:"audio",children:"Audio"}),e.jsx(P,{value:"document",children:"Documents"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{variant:o==="grid"?"default":"ghost",size:"icon",onClick:()=>g("grid"),children:e.jsx(Ke,{className:"h-4 w-4"})}),e.jsx(x,{variant:o==="list"?"default":"ghost",size:"icon",onClick:()=>g("list"),children:e.jsx(Xe,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex-1 flex",children:[e.jsxs("div",{className:"w-64 border-r p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-sm",children:"Folders"}),e.jsx(x,{size:"icon",variant:"ghost",className:"h-6 w-6",children:e.jsx(ge,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>D(null),className:N("w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm hover:bg-gray-100",!w&&"bg-gray-100"),children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{children:"All Media"}),e.jsx("span",{className:"ml-auto text-xs text-gray-500",children:G.length})]}),ae.map(a=>e.jsxs("button",{onClick:()=>D(a.id),className:N("w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm hover:bg-gray-100",w===a.id&&"bg-gray-100"),children:[w===a.id?e.jsx(Ye,{className:"h-4 w-4"}):e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{children:a.name}),e.jsx("span",{className:"ml-auto text-xs text-gray-500",children:a.itemCount})]},a.id))]}),e.jsxs("div",{className:"mt-8 pt-8 border-t",children:[e.jsx("h3",{className:"font-medium text-sm mb-4",children:"Storage"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Used"}),e.jsx("span",{className:"font-medium",children:"2.5 GB"})]}),e.jsx(ke,{value:25,className:"h-2"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2.5 GB of 10 GB used"})]})]})]}),e.jsxs("div",{className:"flex-1 p-4",children:[H&&e.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Uploading files..."}),e.jsxs("span",{className:"text-sm text-gray-600",children:[y,"%"]})]}),e.jsx(ke,{value:y,className:"h-2"})]}),e.jsx(Q,{className:"h-full",children:o==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:Ne.map(a=>{const f=te(a.type),k=m.includes(a.id);return e.jsxs("div",{onClick:()=>be(a.id),className:N("group relative cursor-pointer rounded-lg border-2 overflow-hidden transition-all",k?"border-blue-500 shadow-lg":"border-transparent hover:border-gray-300"),children:[e.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[a.type==="image"&&a.thumbnailUrl?e.jsx("img",{src:a.thumbnailUrl,alt:a.alt||a.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(f,{className:"h-12 w-12 text-gray-400"})}),r==="picker"&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(ze,{checked:k,className:"bg-white"})}),e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[e.jsx(x,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:S=>{S.stopPropagation()},children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx(x,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:S=>{S.stopPropagation(),C(a),B(!0)},children:e.jsx(we,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"text-xs font-medium truncate",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:le(a.size)})]})]},a.id)})}):e.jsx("div",{className:"space-y-2",children:Ne.map(a=>{const f=te(a.type),k=m.includes(a.id);return e.jsxs("div",{onClick:()=>be(a.id),className:N("flex items-center gap-4 p-3 rounded-lg border cursor-pointer transition-all",k?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[r==="picker"&&e.jsx(ze,{checked:k}),e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:a.type==="image"&&a.thumbnailUrl?e.jsx("img",{src:a.thumbnailUrl,alt:a.alt||a.name,className:"w-full h-full object-cover rounded"}):e.jsx(f,{className:"h-6 w-6 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:a.name}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:le(a.size)}),a.dimensions&&e.jsxs("span",{children:[a.dimensions.width," × ",a.dimensions.height]}),e.jsx("span",{children:new Date(a.uploadedAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:S=>{S.stopPropagation(),C(a),B(!0)},children:e.jsx(we,{className:"h-4 w-4"})}),e.jsx(x,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:S=>{S.stopPropagation()},children:e.jsx(_e,{className:"h-4 w-4"})})]})]},a.id)})})})]})]}),e.jsx(K,{open:U,onOpenChange:l,children:e.jsxs(X,{className:"max-w-2xl",children:[e.jsxs(Se,{children:[e.jsx(Te,{children:"Upload Files"}),e.jsx(ps,{children:"Drag and drop files here or click to browse"})]}),e.jsxs("div",{...z(),className:N("border-2 border-dashed rounded-lg p-12 text-center cursor-pointer transition-colors",O?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[e.jsx("input",{...R()}),e.jsx(fe,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:O?"Drop files here":"Drag & drop files here"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse"}),e.jsx(x,{variant:"outline",children:"Select Files"})]}),e.jsx(Pe,{children:e.jsx(x,{variant:"outline",onClick:()=>l(!1),children:"Cancel"})})]})}),e.jsx(K,{open:L,onOpenChange:B,children:e.jsxs(X,{className:"max-w-2xl",children:[e.jsx(Se,{children:e.jsx(Te,{children:"Edit Media Details"})}),s&&e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx("div",{children:s.type==="image"?e.jsx("img",{src:s.url,alt:s.alt||s.name,className:"w-full rounded-lg"}):e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:d.createElement(te(s.type),{className:"h-24 w-24 text-gray-400"})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(T,{children:"File name"}),e.jsx(v,{value:s.name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(T,{children:"Alt text"}),e.jsx(v,{value:s.alt||"",placeholder:"Describe this media",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(T,{children:"Caption"}),e.jsx(v,{value:s.caption||"",placeholder:"Add a caption",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(T,{children:"Description"}),e.jsx("textarea",{value:s.description||"",placeholder:"Add a description",className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2",rows:3})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"File info"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:["Type: ",s.mimeType]}),e.jsxs("p",{children:["Size: ",le(s.size)]}),s.dimensions&&e.jsxs("p",{children:["Dimensions: ",s.dimensions.width," × ",s.dimensions.height]}),e.jsxs("p",{children:["Uploaded: ",new Date(s.uploadedAt).toLocaleString()]}),e.jsxs("p",{children:["Uploaded by: ",s.uploadedBy]})]})]})]})]}),e.jsxs(Pe,{children:[e.jsx(x,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),e.jsx(x,{onClick:()=>B(!1),children:"Save Changes"})]})]})})]})},Ps=[{id:"landing-1",name:"SaaS Landing Page",description:"Modern landing page for SaaS products with hero, features, pricing, and testimonials",category:"landing",icon:De,tags:["saas","startup","modern"],blocks:[{type:"hero",content:{title:"Build Better Products Faster"}},{type:"features",content:{columns:3}},{type:"pricing",content:{plans:3}},{type:"testimonials",content:{count:3}},{type:"cta",content:{title:"Start Your Free Trial"}}]},{id:"product-1",name:"Product Showcase",description:"Elegant product page with gallery, description, and purchase options",category:"product",icon:ce,tags:["ecommerce","product","shop"],blocks:[{type:"breadcrumb",content:{}},{type:"product-gallery",content:{}},{type:"product-info",content:{}},{type:"product-tabs",content:{}},{type:"related-products",content:{}}]},{id:"blog-1",name:"Blog Article",description:"Clean blog post layout with sidebar and comments",category:"blog",icon:Be,tags:["blog","article","content"],blocks:[{type:"post-header",content:{}},{type:"post-content",content:{}},{type:"author-bio",content:{}},{type:"related-posts",content:{}},{type:"comments",content:{}}]},{id:"about-1",name:"About Us",description:"Company about page with team, values, and history",category:"page",icon:as,tags:["about","company","team"],isPro:!0,blocks:[{type:"hero",content:{title:"Our Story"}},{type:"text-image",content:{}},{type:"team-grid",content:{}},{type:"values",content:{}},{type:"timeline",content:{}}]},{id:"contact-1",name:"Contact Page",description:"Contact page with form, map, and office locations",category:"page",icon:Fe,tags:["contact","form","location"],blocks:[{type:"contact-hero",content:{}},{type:"contact-form",content:{}},{type:"office-locations",content:{}},{type:"map",content:{}}]}],zs=[{id:"hero-1",name:"Hero with CTA",category:"hero",blocks:[{type:"heading",content:{text:"Welcome to Our Platform"}},{type:"paragraph",content:{text:"Build amazing things with our tools"}},{type:"buttons",content:{}}]},{id:"features-1",name:"3 Column Features",category:"features",blocks:[{type:"heading",content:{text:"Our Features"}},{type:"columns",content:{count:3}}]},{id:"cta-1",name:"Centered CTA",category:"cta",blocks:[{type:"cta",content:{alignment:"center"}}]},{id:"testimonial-1",name:"Testimonial Carousel",category:"testimonial",blocks:[{type:"testimonial-carousel",content:{}}]},{id:"pricing-1",name:"3 Tier Pricing",category:"pricing",blocks:[{type:"pricing-table",content:{plans:3}}]}],As=({onSelectTemplate:r,onSelectPattern:t,mode:n="both"})=>{const[i,c]=d.useState("templates"),[o,g]=d.useState(""),[m,h]=d.useState("all"),[u,p]=d.useState([]),[b,A]=d.useState(null),w=[{id:"all",name:"All Templates",icon:E},{id:"landing",name:"Landing Pages",icon:De},{id:"product",name:"Product Pages",icon:ce},{id:"blog",name:"Blog Posts",icon:Be},{id:"page",name:"Pages",icon:Y}],D=[{id:"all",name:"All Patterns",icon:E},{id:"header",name:"Headers",icon:E},{id:"hero",name:"Hero Sections",icon:Z},{id:"features",name:"Features",icon:ce},{id:"cta",name:"Call to Action",icon:rs},{id:"testimonial",name:"Testimonials",icon:Ie},{id:"pricing",name:"Pricing",icon:Me},{id:"footer",name:"Footers",icon:E}],U=Ps.filter(s=>{const C=s.name.toLowerCase().includes(o.toLowerCase())||s.description.toLowerCase().includes(o.toLowerCase())||s.tags.some(I=>I.toLowerCase().includes(o.toLowerCase())),y=m==="all"||s.category===m;return C&&y}),l=zs.filter(s=>{const C=s.name.toLowerCase().includes(o.toLowerCase()),y=m==="all"||s.category===m;return C&&y}),L=s=>{p(C=>C.includes(s)?C.filter(y=>y!==s):[...C,s])},B=s=>{navigator.clipboard.writeText(s),A(s),setTimeout(()=>A(null),2e3)};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Content Templates & Patterns"}),e.jsx("p",{className:"text-gray-600",children:"Choose from pre-designed templates or mix and match patterns"})]}),e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(v,{placeholder:"Search templates and patterns...",value:o,onChange:s=>g(s.target.value),className:"pl-10"})]})}),e.jsxs(oe,{value:i,onValueChange:s=>c(s),className:"flex-1 flex flex-col",children:[n==="both"&&e.jsxs(Ue,{className:"mx-6",children:[e.jsx($,{value:"templates",children:"Templates"}),e.jsx($,{value:"patterns",children:"Patterns"})]}),e.jsxs(J,{value:"templates",className:"flex-1 flex m-0",children:[e.jsxs("div",{className:"w-64 border-r p-4",children:[e.jsx("h3",{className:"font-medium text-sm mb-4",children:"Categories"}),e.jsx("div",{className:"space-y-1",children:w.map(s=>e.jsxs("button",{onClick:()=>h(s.id),className:N("w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",m===s.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100"),children:[e.jsx(s.icon,{className:"h-4 w-4"}),e.jsx("span",{children:s.name})]},s.id))})]}),e.jsx(Q,{className:"flex-1 p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(s=>{const C=s.icon,y=u.includes(s.id);return e.jsxs(re,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(gs,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(C,{className:"h-5 w-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx(js,{className:"text-lg",children:s.name}),s.isPro&&e.jsx(ue,{variant:"secondary",className:"mt-1",children:"PRO"})]})]}),e.jsx(x,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>L(s.id),children:e.jsx(ts,{className:N("h-4 w-4",y&&"fill-red-500 text-red-500")})})]})}),e.jsxs(ne,{children:[e.jsx(vs,{children:s.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:s.tags.map(I=>e.jsx(ue,{variant:"outline",className:"text-xs",children:I},I))}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Contains:"}),e.jsxs("p",{className:"text-sm",children:[s.blocks.length," blocks"]})]})]}),e.jsxs(Ns,{className:"gap-2",children:[e.jsx(x,{className:"flex-1",onClick:()=>r?.(s),children:"Use Template"}),e.jsx(x,{variant:"outline",size:"icon",onClick:()=>{},children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx(x,{variant:"outline",size:"icon",onClick:()=>B(s.id),children:b===s.id?e.jsx(Le,{className:"h-4 w-4 text-green-600"}):e.jsx(ls,{className:"h-4 w-4"})})]})]},s.id)})})})]}),e.jsxs(J,{value:"patterns",className:"flex-1 flex m-0",children:[e.jsxs("div",{className:"w-64 border-r p-4",children:[e.jsx("h3",{className:"font-medium text-sm mb-4",children:"Pattern Types"}),e.jsx("div",{className:"space-y-1",children:D.map(s=>e.jsxs("button",{onClick:()=>h(s.id),className:N("w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",m===s.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100"),children:[e.jsx(s.icon,{className:"h-4 w-4"}),e.jsx("span",{children:s.name})]},s.id))}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(ns,{className:"h-4 w-4"}),"Pro Tip"]}),e.jsx("p",{className:"text-xs text-gray-700",children:"Combine multiple patterns to create your own unique layouts. Patterns are reusable across all your pages."})]})]}),e.jsxs(Q,{className:"flex-1 p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(s=>e.jsx(re,{className:"cursor-pointer hover:shadow-md transition-all hover:scale-105",onClick:()=>t?.(s),children:e.jsxs(ne,{className:"p-6",children:[e.jsx("div",{className:"aspect-video bg-gray-100 rounded-md mb-4 flex items-center justify-center",children:e.jsx(E,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h4",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.blocks.length," blocks"]})]})},s.id))}),e.jsx(re,{className:"mt-6 border-dashed",children:e.jsxs(ne,{className:"p-12 text-center",children:[e.jsx(ge,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Create Custom Pattern"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Save your own block combinations as reusable patterns"}),e.jsx(x,{variant:"outline",children:"Create Pattern"})]})})]})]})]})]})},Ds=({content:r,onUpdate:t,isEditing:n=!0})=>{const{title:i="Ready to Get Started?",description:c="Join thousands of satisfied customers and transform your business today.",buttonText:o="Get Started Now",backgroundColor:g="var(--primary-500)",textColor:m="white",buttonColor:h="white",alignment:u="center"}=r;return e.jsxs("div",{className:N("p-12 rounded-lg relative overflow-hidden",u==="center"&&"text-center",u==="left"&&"text-left",u==="right"&&"text-right"),style:{backgroundColor:g,color:m},children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 rounded-full bg-white/20"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 rounded-full bg-white/20"})]}),e.jsx("div",{className:"relative z-10 max-w-3xl mx-auto",children:n?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"text-3xl font-bold mb-4 bg-transparent border-0 text-center placeholder-white/50",style:{color:m},placeholder:"Enter title...",value:i,onChange:p=>t({...r,title:p.target.value})}),e.jsx(ee,{className:"text-lg mb-8 bg-transparent border-0 text-center resize-none placeholder-white/50",style:{color:m},placeholder:"Enter description...",value:c,onChange:p=>t({...r,description:p.target.value}),rows:2}),e.jsx(v,{className:"inline-block px-8 py-3 text-lg font-medium rounded-md transition-all hover:scale-105 bg-white/20 border-2",style:{borderColor:h,color:m},placeholder:"Button text...",value:o,onChange:p=>t({...r,buttonText:p.target.value})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:i}),e.jsx("p",{className:"text-lg mb-8",children:c}),e.jsxs(x,{size:"lg",className:"transition-all hover:scale-105",style:{backgroundColor:h,color:g},children:[o,e.jsx(cs,{className:"ml-2 h-5 w-5"})]})]})})]})},Bs=({content:r,onUpdate:t,isEditing:n=!0})=>{const i=[{name:"Basic",price:"$9",period:"month",features:["10 GB Storage","100 GB Bandwidth","Email Support","Basic Analytics"],highlighted:!1},{name:"Pro",price:"$29",period:"month",features:["100 GB Storage","1 TB Bandwidth","Priority Support","Advanced Analytics","Custom Domain"],highlighted:!0},{name:"Enterprise",price:"$99",period:"month",features:["Unlimited Storage","Unlimited Bandwidth","24/7 Phone Support","Advanced Analytics","Custom Domain","API Access"],highlighted:!1}],c=r.plans||i;return e.jsx("div",{className:"grid md:grid-cols-3 gap-8 py-8",children:c.map((o,g)=>e.jsxs("div",{className:N("relative p-8 rounded-lg border-2 transition-all hover:shadow-xl",o.highlighted?"border-primary-500 shadow-lg scale-105":"border-gray-200"),children:[o.highlighted&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-primary-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),e.jsxs("div",{className:"text-center mb-8",children:[n?e.jsx(v,{className:"text-2xl font-bold mb-2 text-center border-0",placeholder:"Plan name",value:o.name,onChange:m=>{const h=[...c];h[g].name=m.target.value,t({...r,plans:h})}}):e.jsx("h3",{className:"text-2xl font-bold mb-2",children:o.name}),e.jsx("div",{className:"flex items-baseline justify-center gap-1",children:n?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"text-4xl font-bold w-24 text-right border-0 p-0",placeholder:"$0",value:o.price,onChange:m=>{const h=[...c];h[g].price=m.target.value,t({...r,plans:h})}}),e.jsx("span",{className:"text-gray-600",children:"/"}),e.jsx(v,{className:"text-gray-600 w-20 border-0 p-0",placeholder:"month",value:o.period,onChange:m=>{const h=[...c];h[g].period=m.target.value,t({...r,plans:h})}})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-4xl font-bold",children:o.price}),e.jsxs("span",{className:"text-gray-600",children:["/",o.period]})]})})]}),e.jsx("ul",{className:"space-y-3 mb-8",children:o.features.map((m,h)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(Le,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),n?e.jsx(v,{className:"flex-1 border-0 p-0",placeholder:"Feature",value:m,onChange:u=>{const p=[...c];p[g].features[h]=u.target.value,t({...r,plans:p})}}):e.jsx("span",{children:m})]},h))}),e.jsx(x,{className:N("w-full",o.highlighted&&"bg-primary-500 hover:bg-primary-600"),variant:o.highlighted?"default":"outline",children:"Get Started"})]},g))})},Fs=({content:r,onUpdate:t,isEditing:n=!0})=>{const{quote:i="This product has completely transformed how we do business. The results speak for themselves.",author:c="Jane Doe",position:o="CEO",company:g="Tech Company",image:m="",rating:h=5}=r;return e.jsxs("div",{className:"max-w-3xl mx-auto p-8 text-center",children:[e.jsx("div",{className:"flex justify-center gap-1 mb-6",children:[...Array(5)].map((u,p)=>e.jsx("button",{onClick:()=>n&&t({...r,rating:p+1}),className:N("transition-colors",n&&"cursor-pointer hover:scale-110"),children:e.jsx(Z,{className:N("h-6 w-6",p<h?"fill-yellow-400 text-yellow-400":"text-gray-300")})},p))}),e.jsx("blockquote",{className:"mb-8",children:n?e.jsx(ee,{className:"text-2xl leading-relaxed text-gray-700 italic text-center border-0 resize-none",placeholder:"Enter testimonial quote...",value:i,onChange:u=>t({...r,quote:u.target.value}),rows:3}):e.jsxs("p",{className:"text-2xl leading-relaxed text-gray-700 italic",children:['"',i,'"']})}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[m?e.jsx("img",{src:m,alt:c,className:"w-16 h-16 rounded-full object-cover"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-gray-500",children:c.charAt(0).toUpperCase()})}),e.jsx("div",{className:"text-left",children:n?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"font-semibold text-lg border-0 p-0 h-auto",placeholder:"Author name",value:c,onChange:u=>t({...r,author:u.target.value})}),e.jsxs("div",{className:"flex gap-2 text-gray-600",children:[e.jsx(v,{className:"border-0 p-0 h-auto text-sm",placeholder:"Position",value:o,onChange:u=>t({...r,position:u.target.value})}),e.jsx("span",{children:"at"}),e.jsx(v,{className:"border-0 p-0 h-auto text-sm",placeholder:"Company",value:g,onChange:u=>t({...r,company:u.target.value})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-semibold text-lg",children:c}),e.jsxs("div",{className:"text-gray-600",children:[o," at ",g]})]})})]})]})},Ls=({content:r,onUpdate:t,isEditing:n=!0})=>{const{title:i="Rate this product",rating:c=4,maxRating:o=5,size:g="medium",color:m="#facc15",showNumber:h=!0}=r,u={small:"h-6 w-6",medium:"h-8 w-8",large:"h-10 w-10"};return e.jsxs("div",{className:"space-y-3",children:[i&&(n?e.jsx(v,{className:"font-medium text-lg border-0 p-0",placeholder:"Rating title...",value:i,onChange:p=>t({...r,title:p.target.value})}):e.jsx("h4",{className:"font-medium text-lg",children:i})),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex gap-1",children:[...Array(o)].map((p,b)=>e.jsx("button",{onClick:()=>n&&t({...r,rating:b+1}),className:N("transition-all",n&&"cursor-pointer hover:scale-110"),children:e.jsx(Z,{className:N(u[g],b<c?"fill-current":"fill-none"),style:{color:b<c?m:"#e5e7eb"}})},b))}),h&&e.jsxs("span",{className:"text-lg font-medium text-gray-700",children:[c,"/",o]})]})]})},Is=({content:r,onUpdate:t,isEditing:n=!0})=>{const{icon:i="mail",title:c="Contact Us",description:o="Get in touch with our team for any questions or support.",iconColor:g="var(--primary-500)",iconBackground:m="var(--primary-100)",alignment:h="center"}=r,u={mail:Ce,phone:Fe,mapPin:is,star:Z,dollarSign:Me,messageSquare:Ie}[i]||Ce;return e.jsxs("div",{className:N("p-6",h==="center"&&"text-center",h==="left"&&"text-left",h==="right"&&"text-right"),children:[e.jsx("div",{className:N("w-16 h-16 rounded-lg flex items-center justify-center mb-4",h==="center"&&"mx-auto",h==="right"&&"ml-auto"),style:{backgroundColor:m},children:e.jsx(u,{className:"h-8 w-8",style:{color:g}})}),n?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:N("text-xl font-semibold mb-2 border-0 p-0",h==="center"&&"text-center",h==="right"&&"text-right"),placeholder:"Enter title...",value:c,onChange:p=>t({...r,title:p.target.value})}),e.jsx(ee,{className:N("text-gray-600 border-0 p-0 resize-none",h==="center"&&"text-center",h==="right"&&"text-right"),placeholder:"Enter description...",value:o,onChange:p=>t({...r,description:p.target.value}),rows:2})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:c}),e.jsx("p",{className:"text-gray-600",children:o})]})]})},Ms=({block:r,isEditing:t,onUpdate:n})=>{switch(r.type){case"cta":return e.jsx(Ds,{content:r.content,onUpdate:n,isEditing:t});case"pricing":return e.jsx(Bs,{content:r.content,onUpdate:n,isEditing:t});case"testimonial":return e.jsx(Fs,{content:r.content,onUpdate:n,isEditing:t});case"rating":return e.jsx(Ls,{content:r.content,onUpdate:n,isEditing:t});case"infobox":return e.jsx(Is,{content:r.content,onUpdate:n,isEditing:t});default:return null}},$s=()=>{const r=os(),[t,n]=d.useState(""),[i,c]=d.useState([]),[o,g]=d.useState(!0),[m,h]=d.useState("document"),[u,p]=d.useState(null),[b,A]=d.useState(!1),[w,D]=d.useState(!1),[U,l]=d.useState(!1),[L,B]=d.useState(null),[s,C]=d.useState(!1);d.useEffect(()=>{bs().then(()=>{C(!0)})},[]);const[y,I]=d.useState({status:"draft",visibility:"public",publishDate:new Date().toISOString().slice(0,16),author:"Admin User",featuredImage:void 0,excerpt:"",slug:"",categories:[],tags:[],template:"default",commentStatus:!0,pingStatus:!0,sticky:!1,format:"standard"}),H=async(j=!1)=>{l(!0),setTimeout(()=>{l(!1),B(new Date),j&&I(z=>({...z,status:"publish"}))},1e3)},q=j=>{c(j.blocks),D(!1)},G=j=>{c(z=>[...z,...j.blocks]),D(!1)},se=j=>{if(j.length>0&&u){const z={...u,content:{...u.content,url:j[0].url,alt:j[0].alt}};c(i.map(R=>R.id===u.id?z:R))}A(!1)},ae=j=>["cta","pricing","testimonial","rating","infobox"].includes(j.type)?e.jsx("div",{className:N("mb-4 transition-all",u?.id===j.id&&"ring-2 ring-blue-500 ring-offset-2 rounded-lg"),onClick:()=>{p(j),h("block")},children:e.jsx(Ms,{block:j,isEditing:!0,onUpdate:R=>{c(i.map(O=>O.id===j.id?{...O,content:R}:O))}})},j.id):null;return s?e.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[e.jsxs("div",{className:"bg-white border-b px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>r(-1),children:e.jsx(ds,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-gray-600"}),e.jsx(v,{placeholder:"Add title",value:t,onChange:j=>n(j.target.value),className:"text-2xl font-bold border-0 focus-visible:ring-0 p-0"})]}),e.jsx(ue,{variant:y.status==="publish"?"default":"secondary",children:y.status}),L&&e.jsxs("span",{className:"text-sm text-gray-500",children:["Last saved: ",L.toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>D(!0),children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Templates"]}),e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>A(!0),children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Media"]}),e.jsxs("div",{className:"flex items-center gap-1 px-2",children:[e.jsx(x,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(ms,{className:"h-4 w-4"})}),e.jsx(x,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(hs,{className:"h-4 w-4"})})]}),e.jsxs(x,{variant:"outline",size:"sm",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Preview"]}),e.jsx(x,{size:"sm",onClick:()=>H(!1),disabled:U,children:U?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xs,{className:"h-4 w-4 mr-2"}),"Save Draft"]})}),e.jsx(x,{size:"sm",variant:"default",onClick:()=>H(!0),disabled:U,children:y.status==="publish"?"Update":"Publish"}),e.jsxs(fs,{children:[e.jsx(ys,{children:e.jsx(x,{variant:"ghost",size:"icon",children:e.jsx(us,{className:"h-4 w-4"})})}),e.jsxs(ws,{align:"end",children:[e.jsx(V,{children:"Copy all blocks"}),e.jsx(V,{children:"Export as HTML"}),e.jsx(Cs,{}),e.jsx(V,{children:"Keyboard shortcuts"}),e.jsx(V,{children:"Help"})]})]}),e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>g(!o),children:o?e.jsx(W,{className:"h-4 w-4"}):e.jsx(Ae,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsx(ks,{initialBlocks:i,onChange:c}),e.jsx("div",{className:"max-w-4xl mx-auto px-12 pb-8",children:i.map(j=>ae(j))})]}),o&&e.jsx(Ss,{activeTab:m,postSettings:y,blockSettings:u,onPostSettingsChange:j=>I(z=>({...z,...j})),onBlockSettingsChange:j=>{if(u){const z={...u,...j};c(i.map(R=>R.id===u.id?z:R)),p(z)}},onClose:()=>g(!1)})]}),e.jsx(K,{open:b,onOpenChange:A,children:e.jsx(X,{className:"max-w-6xl h-[80vh] p-0",children:e.jsx(Ts,{mode:"picker",multiple:!1,accept:"image/*",onSelect:se,onClose:()=>A(!1)})})}),e.jsx(K,{open:w,onOpenChange:D,children:e.jsx(X,{className:"max-w-6xl h-[80vh] p-0",children:e.jsx(As,{onSelectTemplate:q,onSelectPattern:G})})})]}):e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"loading-spinner mb-4"}),e.jsx("p",{className:"text-gray-600",children:"에디터를 초기화하는 중..."})]})})};export{$s as default};
