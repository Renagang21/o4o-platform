import{a as e,e as t,w as n,h as r,b as o,K as i,L as s,M as l,N as c,c as a,t as u,f as d,u as g,x as f,d as p,O as I}from"./wp-blocks-core-NinAvWTg.js";import{u as k,b as _}from"./wp-block-editor-clipboard-DrG0xX4B.js";import{a8 as b,l as E,a9 as m,aa as B,ab as S,ac as y,ad as h,ae as T,af as C,ag as O,ah as v,b as L,ai as R,aj as A,u as N,a as M}from"./wp-block-editor-misc-De1L5-zR.js";import{f as w}from"./wp-block-editor-global-styles-DiR2HQC4.js";import{a as P,c as D,s as K,b as G}from"./wp-i18n-D6_Il8Rt.js";import{f as x,p as U,r as V}from"./wp-core-kvRrOm9B.js";import{d as H,B as j,ao as F,am as W,bu as z,N as Y,al as X,j as Z}from"./wp-misc-CVe7ECV4.js";import{aa as $,ab as q,ac as J,ad as Q,ae as ee,af as te,J as ne,ag as re,ah as oe,ai as ie,S as se,K as le,aj as ce}from"./wp-block-editor-utils-Bqn4TiQr.js";import{v as ae,x as ue}from"./wp-block-editor-ui-l6-7VhtF.js";import{d as de}from"./vendor-react-DqgGMt48.js";var ge,fe;var pe=function(){if(fe)return ge;function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}function n(e,t){var n=e._map,r=e._arrayTreeMap,o=e._objectTreeMap;if(n.has(t))return n.get(t);for(var i=Object.keys(t).sort(),s=Array.isArray(t)?r:o,l=0;l<i.length;l++){var c=i[l];if(void 0===(s=s.get(c)))return;var a=t[c];if(void 0===(s=s.get(a)))return}var u=s.get("_ekm_value");return u?(n.delete(u[0]),u[0]=t,s.set("_ekm_value",u),n.set(t,u),u):void 0}fe=1;var r=function(){function r(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.clear(),e instanceof r){var t=[];e.forEach(function(e,n){t.push([n,e])}),e=t}if(null!=e)for(var n=0;n<e.length;n++)this.set(e[n][0],e[n][1])}return t(r,[{key:"set",value:function(t,n){if(null===t||"object"!==e(t))return this._map.set(t,n),this;for(var o=Object.keys(t).sort(),i=[t,n],s=Array.isArray(t)?this._arrayTreeMap:this._objectTreeMap,l=0;l<o.length;l++){var c=o[l];s.has(c)||s.set(c,new r),s=s.get(c);var a=t[c];s.has(a)||s.set(a,new r),s=s.get(a)}var u=s.get("_ekm_value");return u&&this._map.delete(u[0]),s.set("_ekm_value",i),this._map.set(t,i),this}},{key:"get",value:function(t){if(null===t||"object"!==e(t))return this._map.get(t);var r=n(this,t);return r?r[1]:void 0}},{key:"has",value:function(t){return null===t||"object"!==e(t)?this._map.has(t):void 0!==n(this,t)}},{key:"delete",value:function(e){return!!this.has(e)&&(this.set(e,void 0),!0)}},{key:"forEach",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this._map.forEach(function(o,i){null!==i&&"object"===e(i)&&(o=o[1]),t.call(r,o,i,n)})}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}]),r}();return ge=r}();const Ie=de(pe);function ke(e){const t=Object.keys(e);return function(n={},r){const o={};let i=!1;for(const s of t){const t=e[s],l=n[s],c=t(l,r);o[s]=c,i=i||c!==l}return i?o:n}}function _e(e){return()=>t=>n=>"function"==typeof n?n(e):t(n)}const be=$("selectorName")((e=new Ie,t)=>{switch(t.type){case"START_RESOLUTION":{const n=new Ie(e);return n.set(q(t.args),{status:"resolving"}),n}case"FINISH_RESOLUTION":{const n=new Ie(e);return n.set(q(t.args),{status:"finished"}),n}case"FAIL_RESOLUTION":{const n=new Ie(e);return n.set(q(t.args),{status:"error",error:t.error}),n}case"START_RESOLUTIONS":{const n=new Ie(e);for(const e of t.args)n.set(q(e),{status:"resolving"});return n}case"FINISH_RESOLUTIONS":{const n=new Ie(e);for(const e of t.args)n.set(q(e),{status:"finished"});return n}case"FAIL_RESOLUTIONS":{const n=new Ie(e);return t.args.forEach((e,r)=>{const o={status:"error",error:void 0},i=t.errors[r];i&&(o.error=i),n.set(q(e),o)}),n}case"INVALIDATE_RESOLUTION":{const n=new Ie(e);return n.delete(q(t.args)),n}}return e}),Ee=(e={},t)=>{switch(t.type){case"INVALIDATE_RESOLUTION_FOR_STORE":return{};case"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR":if(t.selectorName in e){const{[t.selectorName]:n,...r}=e;return r}return e;case"START_RESOLUTION":case"FINISH_RESOLUTION":case"FAIL_RESOLUTION":case"START_RESOLUTIONS":case"FINISH_RESOLUTIONS":case"FAIL_RESOLUTIONS":case"INVALIDATE_RESOLUTION":return be(e,t)}return e};function me(e,t,n){const r=e[t];if(r)return r.get(q(n))}const Be=b(e=>{const t={};return Object.values(e).forEach(e=>Array.from(e._map.values()).forEach(e=>{var n;const r=null!==(n=e[1]?.status)&&void 0!==n?n:"error";t[r]||(t[r]=0),t[r]++})),t},e=>[e]),Se=Object.freeze(Object.defineProperty({__proto__:null,countSelectorsByStatus:Be,getCachedResolvers:function(e){return e},getIsResolving:function(e,t,n){H("wp.data.select( store ).getIsResolving",{since:"6.6",version:"6.8",alternative:"wp.data.select( store ).getResolutionState"});const r=me(e,t,n);return r&&"resolving"===r.status},getResolutionError:function(e,t,n){const r=me(e,t,n);return"error"===r?.status?r.error:null},getResolutionState:me,hasFinishedResolution:function(e,t,n){const r=me(e,t,n)?.status;return"finished"===r||"error"===r},hasResolutionFailed:function(e,t,n){return"error"===me(e,t,n)?.status},hasResolvingSelectors:function(e){return Object.values(e).some(e=>Array.from(e._map.values()).some(e=>"resolving"===e[1]?.status))},hasStartedResolution:function(e,t,n){return void 0!==me(e,t,n)},isResolving:function(e,t,n){return"resolving"===me(e,t,n)?.status}},Symbol.toStringTag,{value:"Module"}));function ye(e,t){return{type:"START_RESOLUTION",selectorName:e,args:t}}function he(e,t){return{type:"FINISH_RESOLUTION",selectorName:e,args:t}}function Te(e,t,n){return{type:"FAIL_RESOLUTION",selectorName:e,args:t,error:n}}const Ce=Object.freeze(Object.defineProperty({__proto__:null,failResolution:Te,failResolutions:function(e,t,n){return{type:"FAIL_RESOLUTIONS",selectorName:e,args:t,errors:n}},finishResolution:he,finishResolutions:function(e,t){return{type:"FINISH_RESOLUTIONS",selectorName:e,args:t}},invalidateResolution:function(e,t){return{type:"INVALIDATE_RESOLUTION",selectorName:e,args:t}},invalidateResolutionForStore:function(){return{type:"INVALIDATE_RESOLUTION_FOR_STORE"}},invalidateResolutionForStoreSelector:function(e){return{type:"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR",selectorName:e}},startResolution:ye,startResolutions:function(e,t){return{type:"START_RESOLUTIONS",selectorName:e,args:t}}},Symbol.toStringTag,{value:"Module"})),Oe=e=>{const t=[...e];for(let n=t.length-1;n>=0;n--)void 0===t[n]&&t.splice(n,1);return t},ve=(e,t)=>Object.fromEntries(Object.entries(null!=e?e:{}).map(([e,n])=>[e,t(n,e)])),Le=(e,t)=>t instanceof Map?Object.fromEntries(t):t instanceof window.HTMLElement?null:t;function Re(e,t){const n=new WeakMap;return{get(r){const o=e(r);if(!o)return null;let i=n.get(o);return i||(i=t(o,r),n.set(o,i)),i}}}function Ae(e,t){return new Proxy(e,{get:(e,n)=>t.get(n)||Reflect.get(e,n)})}function Ne(e,t){const n={},r={},o={privateActions:n,registerPrivateActions:e=>{Object.assign(n,e)},privateSelectors:r,registerPrivateSelectors:e=>{Object.assign(r,e)}},i={name:e,instantiate:i=>{const s=new Set,l=t.reducer,c=function(e,t,n,r){const o={...t.controls,...T},i=ve(o,e=>e.isRegistryControl?e(n):e),s=[B(n,e),S,y(i),_e(r)],l=[m(...s)];"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&l.push(window.__REDUX_DEVTOOLS_EXTENSION__({name:e,instanceId:e,serialize:{replacer:Le}}));const{reducer:c,initialState:a}=t,u=ke({metadata:Ee,root:c});return h(u,{root:a},x(l))}(e,t,i,{registry:i,get dispatch(){return f},get select(){return v},get resolveSelect(){return R}});E(c,o);const a=function(){const e={};return{isRunning:(t,n)=>e[t]&&e[t].get(Oe(n)),clear(t,n){e[t]&&e[t].delete(Oe(n))},markAsRunning(t,n){e[t]||(e[t]=new Ie),e[t].set(Oe(n),!0)}}}();function u(e){return(...t)=>Promise.resolve(c.dispatch(e(...t)))}const d={...ve(Ce,u),...ve(t.actions,u)},g=Ae(d,Re(e=>n[e],u)),f=new Proxy(e=>c.dispatch(e),{get:(e,t)=>g[t]});E(d,g);const p=t.resolvers?ve(t.resolvers,Me):{};function I(e,t){e.isRegistrySelector&&(e.registry=i);const n=(...t)=>{t=we(e,t);const n=c.__unstableOriginalGetState();return e.isRegistrySelector&&(e.registry=i),e(n.root,...t)};n.__unstableNormalizeArgs=e.__unstableNormalizeArgs;const r=p[t];return r?function(e,t,n,r,o,i){function s(e){const s=r.getState();o.isRunning(t,e)||"function"==typeof n.isFulfilled&&n.isFulfilled(s,...e)||i.hasStartedResolution(t,e)||(o.markAsRunning(t,e),setTimeout(async()=>{o.clear(t,e),r.dispatch(ye(t,e));try{const o=n.fulfill(...e);o&&await r.dispatch(o),r.dispatch(he(t,e))}catch(i){r.dispatch(Te(t,e,i))}},0))}const l=(...t)=>(s(t=we(e,t)),e(...t));return l.hasResolver=!0,l}(n,t,r,c,a,k):(n.hasResolver=!1,n)}const k=ve(Se,function(e){const n=(n,r,...o)=>{if(n){const e=t.selectors?.[n];e&&(r=we(e,r))}const i=c.__unstableOriginalGetState();return e(i.metadata,n,r,...o)};return n.hasResolver=!1,n}),_=ve(t.selectors,I),b={...k,..._},C=Re(e=>r[e],I),O=Ae(b,C);for(const e of Object.keys(r))C.get(e);const v=new Proxy(e=>e(c.__unstableOriginalGetState()),{get:(e,t)=>O[t]});E(b,O);const L=function(e,t){return(n,r)=>n.hasResolver?(...o)=>new Promise((i,s)=>{const l=()=>t.hasFinishedResolution(r,o),c=e=>{if(t.hasResolutionFailed(r,o)){const e=t.getResolutionError(r,o);s(e)}else i(e)},a=()=>n.apply(null,o),u=a();if(l())return c(u);const d=e.subscribe(()=>{l()&&(d(),c(a()))})}):async(...e)=>n.apply(null,e)}(c,k),R=ve(_,L),A=Ae(R,Re(e=>C.get(e),L));E(R,A);const N=function(e,t){return(n,r)=>n.hasResolver?(...o)=>{const i=n.apply(null,o);if(t.hasFinishedResolution(r,o)){if(t.hasResolutionFailed(r,o))throw t.getResolutionError(r,o);return i}throw new Promise(n=>{const i=e.subscribe(()=>{t.hasFinishedResolution(r,o)&&(n(),i())})})}:n}(c,k),M={...k,...ve(_,N)},w=Ae(M,Re(e=>C.get(e),N));E(M,w);c.__unstableOriginalGetState=c.getState,c.getState=()=>c.__unstableOriginalGetState().root;const P=c&&(e=>(s.add(e),()=>s.delete(e)));let D=c.__unstableOriginalGetState();return c.subscribe(()=>{const e=c.__unstableOriginalGetState(),t=e!==D;if(D=e,t)for(const n of s)n()}),{reducer:l,store:c,actions:d,selectors:b,resolvers:p,getSelectors:()=>b,getResolveSelectors:()=>R,getSuspendSelectors:()=>M,getActions:()=>d,subscribe:P}}};return E(i,o),i}function Me(e){return e.fulfill?e:{...e,fulfill:e}}function we(e,t){return e.__unstableNormalizeArgs&&"function"==typeof e.__unstableNormalizeArgs&&t?.length?e.__unstableNormalizeArgs(t):t}const Pe={name:"core/data",instantiate(e){const t=t=>(n,...r)=>e.select(n)[t](...r),n=t=>(n,...r)=>e.dispatch(n)[t](...r);return{getSelectors:()=>Object.fromEntries(["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"].map(e=>[e,t(e)])),getActions:()=>Object.fromEntries(["startResolution","finishResolution","invalidateResolution","invalidateResolutionForStore","invalidateResolutionForStoreSelector"].map(e=>[e,n(e)])),subscribe:()=>()=>()=>{}}}},De={insertUsage:{}},Ke={alignWide:!1,supportsLayout:!0,colors:[{name:P("Black"),slug:"black",color:"#000000"},{name:P("Cyan bluish gray"),slug:"cyan-bluish-gray",color:"#abb8c3"},{name:P("White"),slug:"white",color:"#ffffff"},{name:P("Pale pink"),slug:"pale-pink",color:"#f78da7"},{name:P("Vivid red"),slug:"vivid-red",color:"#cf2e2e"},{name:P("Luminous vivid orange"),slug:"luminous-vivid-orange",color:"#ff6900"},{name:P("Luminous vivid amber"),slug:"luminous-vivid-amber",color:"#fcb900"},{name:P("Light green cyan"),slug:"light-green-cyan",color:"#7bdcb5"},{name:P("Vivid green cyan"),slug:"vivid-green-cyan",color:"#00d084"},{name:P("Pale cyan blue"),slug:"pale-cyan-blue",color:"#8ed1fc"},{name:P("Vivid cyan blue"),slug:"vivid-cyan-blue",color:"#0693e3"},{name:P("Vivid purple"),slug:"vivid-purple",color:"#9b51e0"}],fontSizes:[{name:D("Small","font size name"),size:13,slug:"small"},{name:D("Normal","font size name"),size:16,slug:"normal"},{name:D("Medium","font size name"),size:20,slug:"medium"},{name:D("Large","font size name"),size:36,slug:"large"},{name:D("Huge","font size name"),size:42,slug:"huge"}],imageDefaultSize:"large",imageSizes:[{slug:"thumbnail",name:P("Thumbnail")},{slug:"medium",name:P("Medium")},{slug:"large",name:P("Large")},{slug:"full",name:P("Full Size")}],imageEditing:!0,maxWidth:580,allowedBlockTypes:!0,maxUploadFileSize:0,allowedMimeTypes:null,canLockBlocks:!0,enableOpenverseMediaCategory:!0,clearBlockSelection:!0,__experimentalCanUserUseUnfilteredHTML:!1,__experimentalBlockDirectory:!1,__mobileEnablePageTemplates:!1,__experimentalBlockPatterns:[],__experimentalBlockPatternCategories:[],__unstableIsPreviewMode:!1,blockInspectorAnimation:{animationParent:"core/navigation","core/navigation":{enterDirection:"leftToRight"},"core/navigation-submenu":{enterDirection:"rightToLeft"},"core/navigation-link":{enterDirection:"rightToLeft"},"core/search":{enterDirection:"rightToLeft"},"core/social-links":{enterDirection:"rightToLeft"},"core/page-list":{enterDirection:"rightToLeft"},"core/spacer":{enterDirection:"rightToLeft"},"core/home-link":{enterDirection:"rightToLeft"},"core/site-title":{enterDirection:"rightToLeft"},"core/site-logo":{enterDirection:"rightToLeft"}},generateAnchors:!1,gradients:[{name:P("Vivid cyan blue to vivid purple"),gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:P("Light green cyan to vivid green cyan"),gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:P("Luminous vivid amber to luminous vivid orange"),gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"},{name:P("Luminous vivid orange to vivid red"),gradient:"linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)",slug:"luminous-vivid-orange-to-vivid-red"},{name:P("Very light gray to cyan bluish gray"),gradient:"linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)",slug:"very-light-gray-to-cyan-bluish-gray"},{name:P("Cool to warm spectrum"),gradient:"linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)",slug:"cool-to-warm-spectrum"},{name:P("Blush light purple"),gradient:"linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)",slug:"blush-light-purple"},{name:P("Blush bordeaux"),gradient:"linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)",slug:"blush-bordeaux"},{name:P("Luminous dusk"),gradient:"linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)",slug:"luminous-dusk"},{name:P("Pale ocean"),gradient:"linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)",slug:"pale-ocean"},{name:P("Electric grass"),gradient:"linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)",slug:"electric-grass"},{name:P("Midnight"),gradient:"linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)",slug:"midnight"}],__unstableResolvedAssets:{styles:[],scripts:[]}};function Ge(e,t,n){return[...e.slice(0,n),...Array.isArray(t)?t:[t],...e.slice(n)]}function xe(e,t,n,r=1){const o=[...e];return o.splice(t,r),Ge(o,e.slice(t,t+r),n)}const Ue=e=>e;function Ve(e,t=""){const n=new Map,r=[];return n.set(t,r),e.forEach(e=>{const{clientId:t,innerBlocks:o}=e;r.push(t),Ve(o,t).forEach((e,t)=>{n.set(t,e)})}),n}function He(e,t=""){const n=[],r=[[t,e]];for(;r.length;){const[e,t]=r.shift();t.forEach(({innerBlocks:t,...o})=>{n.push([o.clientId,e]),t?.length&&r.push([o.clientId,t])})}return n}function je(e,t=Ue){const n=[],r=[...e];for(;r.length;){const{innerBlocks:e,...o}=r.shift();r.push(...e),n.push([o.clientId,t(o)])}return n}function Fe(e){return je(e,e=>{const{attributes:t,...n}=e;return n})}function We(e){return je(e,e=>e.attributes)}function ze(e,t){return"UPDATE_BLOCK_ATTRIBUTES"===e.type&&void 0!==t&&"UPDATE_BLOCK_ATTRIBUTES"===t.type&&w(e.clientIds,t.clientIds)&&(n=e.attributes,r=t.attributes,w(Object.keys(n),Object.keys(r)));var n,r}function Ye(e,t){const n=e.tree,r=[...t],o=[...t];for(;r.length;){const e=r.shift();r.push(...e.innerBlocks),o.push(...e.innerBlocks)}for(const i of o)n.set(i.clientId,{});for(const i of o)n.set(i.clientId,Object.assign(n.get(i.clientId),{...e.byClientId.get(i.clientId),attributes:e.attributes.get(i.clientId),innerBlocks:i.innerBlocks.map(e=>n.get(e.clientId))}))}function Xe(e,t,n=!1){const r=e.tree,o=new Set([]),i=new Set;for(const s of t){let t=n?s:e.parents.get(s);do{if(e.controlledInnerBlocks[t]){i.add(t);break}o.add(t),t=e.parents.get(t)}while(void 0!==t)}for(const s of o)r.set(s,{...r.get(s)});for(const s of o)r.get(s).innerBlocks=(e.order.get(s)||[]).map(e=>r.get(e));for(const s of i)r.set("controlled||"+s,{innerBlocks:(e.order.get(s)||[]).map(e=>r.get(e))})}const Ze=U(C,e=>(t,n)=>{if(t&&"SAVE_REUSABLE_BLOCK_SUCCESS"===n.type){const{id:e,updatedId:r}=n;if(e===r)return t;(t={...t}).attributes=new Map(t.attributes),t.attributes.forEach((n,o)=>{const{name:i}=t.byClientId.get(o);"core/block"===i&&n.ref===e&&t.attributes.set(o,{...n,ref:r})})}return e(t,n)},e=>(t={},n)=>{const r=e(t,n);if(r===t)return t;switch(r.tree=t.tree?t.tree:new Map,n.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":r.tree=new Map(r.tree),Ye(r,n.blocks),Xe(r,n.rootClientId?[n.rootClientId]:[""],!0);break;case"UPDATE_BLOCK":r.tree=new Map(r.tree),r.tree.set(n.clientId,{...r.tree.get(n.clientId),...r.byClientId.get(n.clientId),attributes:r.attributes.get(n.clientId)}),Xe(r,[n.clientId],!1);break;case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":r.tree=new Map(r.tree),n.clientIds.forEach(e=>{r.tree.set(e,{...r.tree.get(e),attributes:r.attributes.get(e)})}),Xe(r,n.clientIds,!1);break;case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const e=function(e){const t={},n=[...e];for(;n.length;){const{innerBlocks:e,...r}=n.shift();n.push(...e),t[r.clientId]=!0}return t}(n.blocks);r.tree=new Map(r.tree),n.replacedClientIds.forEach(t=>{r.tree.delete(t),e[t]||r.tree.delete("controlled||"+t)}),Ye(r,n.blocks),Xe(r,n.blocks.map(e=>e.clientId),!1);const o=[];for(const i of n.clientIds){const e=t.parents.get(i);void 0===e||""!==e&&!r.byClientId.get(e)||o.push(e)}Xe(r,o,!0);break}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":const e=[];for(const o of n.clientIds){const n=t.parents.get(o);void 0===n||""!==n&&!r.byClientId.get(n)||e.push(n)}r.tree=new Map(r.tree),n.removedClientIds.forEach(e=>{r.tree.delete(e),r.tree.delete("controlled||"+e)}),Xe(r,e,!0);break;case"MOVE_BLOCKS_TO_POSITION":{const e=[];n.fromRootClientId?e.push(n.fromRootClientId):e.push(""),n.toRootClientId&&e.push(n.toRootClientId),r.tree=new Map(r.tree),Xe(r,e,!0);break}case"MOVE_BLOCKS_UP":case"MOVE_BLOCKS_DOWN":{const e=[n.rootClientId?n.rootClientId:""];r.tree=new Map(r.tree),Xe(r,e,!0);break}case"SAVE_REUSABLE_BLOCK_SUCCESS":{const e=[];r.attributes.forEach((t,o)=>{"core/block"===r.byClientId.get(o).name&&t.ref===n.updatedId&&e.push(o)}),r.tree=new Map(r.tree),e.forEach(e=>{r.tree.set(e,{...r.byClientId.get(e),attributes:r.attributes.get(e),innerBlocks:r.tree.get(e).innerBlocks})}),Xe(r,e,!1)}}return r},e=>(t,n)=>{const r=e=>{let r=e;for(let o=0;o<r.length;o++)!t.order.get(r[o])||n.keepControlledInnerBlocks&&n.keepControlledInnerBlocks[r[o]]||(r===e&&(r=[...r]),r.push(...t.order.get(r[o])));return r};if(t)switch(n.type){case"REMOVE_BLOCKS":n={...n,type:"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN",removedClientIds:r(n.clientIds)};break;case"REPLACE_BLOCKS":n={...n,type:"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN",replacedClientIds:r(n.clientIds)}}return e(t,n)},e=>(t,n)=>{if("REPLACE_INNER_BLOCKS"!==n.type)return e(t,n);const r={};if(Object.keys(t.controlledInnerBlocks).length){const e=[...n.blocks];for(;e.length;){const{innerBlocks:n,...o}=e.shift();e.push(...n),t.controlledInnerBlocks[o.clientId]&&(r[o.clientId]=!0)}}let o=t;t.order.get(n.rootClientId)&&(o=e(o,{type:"REMOVE_BLOCKS",keepControlledInnerBlocks:r,clientIds:t.order.get(n.rootClientId)}));let i=o;if(n.blocks.length){i=e(i,{...n,type:"INSERT_BLOCKS",index:0});const o=new Map(i.order);Object.keys(r).forEach(e=>{t.order.get(e)&&o.set(e,t.order.get(e))}),i.order=o,i.tree=new Map(i.tree),Object.keys(r).forEach(e=>{const n=`controlled||${e}`;t.tree.has(n)&&i.tree.set(n,t.tree.get(n))})}return i},e=>(t,n)=>{if("RESET_BLOCKS"===n.type){const e={...t,byClientId:new Map(Fe(n.blocks)),attributes:new Map(We(n.blocks)),order:Ve(n.blocks),parents:new Map(He(n.blocks)),controlledInnerBlocks:{}};return e.tree=new Map(t?.tree),Ye(e,n.blocks),e.tree.set("",{innerBlocks:n.blocks.map(t=>e.tree.get(t.clientId))}),e}return e(t,n)},function(e){let t,n,r=!1;return(o,i)=>{let s,l=e(o,i);var c;"SET_EXPLICIT_PERSISTENT"===i.type&&(n=i.isPersistentChange,s=null===(c=o.isPersistentChange)||void 0===c||c);if(void 0!==n)return s=n,s===l.isPersistentChange?l:{...l,isPersistentChange:s};const a="MARK_LAST_CHANGE_AS_PERSISTENT"===i.type||r;var u;return o!==l||a?(l={...l,isPersistentChange:a?!r:!ze(i,t)},t=i,r="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===i.type,l):(r="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===i.type,s=null===(u=o?.isPersistentChange)||void 0===u||u,o.isPersistentChange===s?o:{...l,isPersistentChange:s})}},function(e){const t=new Set(["RECEIVE_BLOCKS"]);return(n,r)=>{const o=e(n,r);return o!==n&&(o.isIgnoredChange=t.has(r.type)),o}},e=>(t,n)=>{if("SET_HAS_CONTROLLED_INNER_BLOCKS"===n.type){const r=e(t,{type:"REPLACE_INNER_BLOCKS",rootClientId:n.clientId,blocks:[]});return e(r,n)}return e(t,n)})({byClientId(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const n=new Map(e);return Fe(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"UPDATE_BLOCK":{if(!e.has(t.clientId))return e;const{attributes:n,...r}=t.updates;if(0===Object.values(r).length)return e;const o=new Map(e);return o.set(t.clientId,{...e.get(t.clientId),...r}),o}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!t.blocks)return e;const n=new Map(e);return t.replacedClientIds.forEach(e=>{n.delete(e)}),Fe(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n}}return e},attributes(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const n=new Map(e);return We(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"UPDATE_BLOCK":{if(!e.get(t.clientId)||!t.updates.attributes)return e;const n=new Map(e);return n.set(t.clientId,{...e.get(t.clientId),...t.updates.attributes}),n}case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":{if(t.clientIds.every(t=>!e.get(t)))return e;let r=!1;const o=new Map(e);for(const i of t.clientIds){var n;const s=Object.entries(t.uniqueByBlock?t.attributes[i]:null!==(n=t.attributes)&&void 0!==n?n:{});if(0===s.length)continue;let l=!1;const c=e.get(i),a={};s.forEach(([e,t])=>{c[e]!==t&&(l=!0,a[e]=t)}),r=r||l,l&&o.set(i,{...c,...a})}return r?o:e}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!t.blocks)return e;const n=new Map(e);return t.replacedClientIds.forEach(e=>{n.delete(e)}),We(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n}}return e},order(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":{var n;const r=Ve(t.blocks),o=new Map(e);return r.forEach((e,t)=>{""!==t&&o.set(t,e)}),o.set("",(null!==(n=e.get(""))&&void 0!==n?n:[]).concat(r[""])),o}case"INSERT_BLOCKS":{const{rootClientId:n=""}=t,r=e.get(n)||[],o=Ve(t.blocks,n),{index:i=r.length}=t,s=new Map(e);return o.forEach((e,t)=>{s.set(t,e)}),s.set(n,Ge(r,o.get(n),i)),s}case"MOVE_BLOCKS_TO_POSITION":{var r;const{fromRootClientId:n="",toRootClientId:o="",clientIds:i}=t,{index:s=e.get(o).length}=t;if(n===o){const t=e.get(o).indexOf(i[0]),n=new Map(e);return n.set(o,xe(e.get(o),t,s,i.length)),n}const l=new Map(e);return l.set(n,null!==(r=e.get(n)?.filter(e=>!i.includes(e)))&&void 0!==r?r:[]),l.set(o,Ge(e.get(o),i,s)),l}case"MOVE_BLOCKS_UP":{const{clientIds:n,rootClientId:r=""}=t,o=n[0],i=e.get(r);if(!i.length||o===i[0])return e;const s=i.indexOf(o),l=new Map(e);return l.set(r,xe(i,s,s-1,n.length)),l}case"MOVE_BLOCKS_DOWN":{const{clientIds:n,rootClientId:r=""}=t,o=n[0],i=n[n.length-1],s=e.get(r);if(!s.length||i===s[s.length-1])return e;const l=s.indexOf(o),c=new Map(e);return c.set(r,xe(s,l,l+1,n.length)),c}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const{clientIds:n}=t;if(!t.blocks)return e;const r=Ve(t.blocks),o=new Map(e);return t.replacedClientIds.forEach(e=>{o.delete(e)}),r.forEach((e,t)=>{""!==t&&o.set(t,e)}),o.forEach((e,t)=>{const i=Object.values(e).reduce((e,t)=>t===n[0]?[...e,...r.get("")]:(-1===n.indexOf(t)&&e.push(t),e),[]);o.set(t,i)}),o}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n.forEach((e,r)=>{var o;const i=null!==(o=e?.filter(e=>!t.removedClientIds.includes(e)))&&void 0!==o?o:[];i.length!==e.length&&n.set(r,i)}),n}}return e},parents(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":{const n=new Map(e);return He(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"INSERT_BLOCKS":{const n=new Map(e);return He(t.blocks,t.rootClientId||"").forEach(([e,t])=>{n.set(e,t)}),n}case"MOVE_BLOCKS_TO_POSITION":{const n=new Map(e);return t.clientIds.forEach(e=>{n.set(e,t.toRootClientId||"")}),n}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.replacedClientIds.forEach(e=>{n.delete(e)}),He(t.blocks,e.get(t.clientIds[0])).forEach(([e,t])=>{n.set(e,t)}),n}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n}}return e},controlledInnerBlocks:(e={},{type:t,clientId:n,hasControlledInnerBlocks:r})=>"SET_HAS_CONTROLLED_INNER_BLOCKS"===t?{...e,[n]:r}:e});function $e(e={},t){switch(t.type){case"CLEAR_SELECTED_BLOCK":return e.clientId?{}:e;case"SELECT_BLOCK":return t.clientId===e.clientId?e:{clientId:t.clientId};case"REPLACE_INNER_BLOCKS":case"INSERT_BLOCKS":return t.updateSelection&&t.blocks.length?{clientId:t.blocks[0].clientId}:e;case"REMOVE_BLOCKS":return t.clientIds&&t.clientIds.length&&-1!==t.clientIds.indexOf(e.clientId)?{}:e;case"REPLACE_BLOCKS":{if(-1===t.clientIds.indexOf(e.clientId))return e;const n=t.blocks[t.indexToSelect]||t.blocks[t.blocks.length-1];return n?n.clientId===e.clientId?e:{clientId:n.clientId}:{}}}return e}const qe=function(e){return(t,n)=>{const r=e(t,n);return t?(r.automaticChangeStatus=t.automaticChangeStatus,"MARK_AUTOMATIC_CHANGE"===n.type?{...r,automaticChangeStatus:"pending"}:"MARK_AUTOMATIC_CHANGE_FINAL"===n.type&&"pending"===t.automaticChangeStatus?{...r,automaticChangeStatus:"final"}:r.blocks===t.blocks&&r.selection===t.selection||"final"!==r.automaticChangeStatus&&r.selection!==t.selection?r:{...r,automaticChangeStatus:void 0}):r}}(C({blocks:Ze,isDragging:function(e=!1,t){switch(t.type){case"START_DRAGGING":return!0;case"STOP_DRAGGING":return!1}return e},isTyping:function(e=!1,t){switch(t.type){case"START_TYPING":return!0;case"STOP_TYPING":return!1}return e},isBlockInterfaceHidden:function(e=!1,t){switch(t.type){case"HIDE_BLOCK_INTERFACE":return!0;case"SHOW_BLOCK_INTERFACE":return!1}return e},draggedBlocks:function(e=[],t){switch(t.type){case"START_DRAGGING_BLOCKS":return t.clientIds;case"STOP_DRAGGING_BLOCKS":return[]}return e},selection:function(e={},t){switch(t.type){case"SELECTION_CHANGE":return t.clientId?{selectionStart:{clientId:t.clientId,attributeKey:t.attributeKey,offset:t.startOffset},selectionEnd:{clientId:t.clientId,attributeKey:t.attributeKey,offset:t.endOffset}}:{selectionStart:t.start||e.selectionStart,selectionEnd:t.end||e.selectionEnd};case"RESET_SELECTION":const{selectionStart:n,selectionEnd:r}=t;return{selectionStart:n,selectionEnd:r};case"MULTI_SELECT":const{start:o,end:i}=t;return o===e.selectionStart?.clientId&&i===e.selectionEnd?.clientId?e:{selectionStart:{clientId:o},selectionEnd:{clientId:i}};case"RESET_BLOCKS":const s=e?.selectionStart?.clientId,l=e?.selectionEnd?.clientId;if(!s&&!l)return e;if(!t.blocks.some(e=>e.clientId===s))return{selectionStart:{},selectionEnd:{}};if(!t.blocks.some(e=>e.clientId===l))return{...e,selectionEnd:e.selectionStart}}const n=$e(e.selectionStart,t),r=$e(e.selectionEnd,t);return n===e.selectionStart&&r===e.selectionEnd?e:{selectionStart:n,selectionEnd:r}},isMultiSelecting:function(e=!1,t){switch(t.type){case"START_MULTI_SELECT":return!0;case"STOP_MULTI_SELECT":return!1}return e},isSelectionEnabled:function(e=!0,t){return"TOGGLE_SELECTION"===t.type?t.isSelectionEnabled:e},initialPosition:function(e=null,t){return"REPLACE_BLOCKS"===t.type&&void 0!==t.initialPosition||["MULTI_SELECT","SELECT_BLOCK","RESET_SELECTION","INSERT_BLOCKS","REPLACE_INNER_BLOCKS"].includes(t.type)?t.initialPosition:e},blocksMode:function(e={},t){if("TOGGLE_BLOCK_MODE"===t.type){const{clientId:n}=t;return{...e,[n]:e[n]&&"html"===e[n]?"visual":"html"}}return e},blockListSettings:(e={},t)=>{switch(t.type){case"REPLACE_BLOCKS":case"REMOVE_BLOCKS":return Object.fromEntries(Object.entries(e).filter(([e])=>!t.clientIds.includes(e)));case"UPDATE_BLOCK_LIST_SETTINGS":{const n="string"==typeof t.clientId?{[t.clientId]:t.settings}:t.clientId;for(const t in n)n[t]?w(e[t],n[t])&&delete n[t]:e[t]||delete n[t];if(0===Object.keys(n).length)return e;const r={...e,...n};for(const e in n)n[e]||delete r[e];return r}}return e},insertionPoint:function(e=null,t){switch(t.type){case"SET_INSERTION_POINT":return t.value;case"SELECT_BLOCK":return null}return e},insertionCue:function(e=null,t){switch(t.type){case"SHOW_INSERTION_POINT":{const{rootClientId:n,index:r,__unstableWithInserter:o,operation:i,nearestSide:s}=t,l={rootClientId:n,index:r,__unstableWithInserter:o,operation:i,nearestSide:s};return w(e,l)?e:l}case"HIDE_INSERTION_POINT":return null}return e},template:function(e={isValid:!0},t){return"SET_TEMPLATE_VALIDITY"===t.type?{...e,isValid:t.isValid}:e},settings:function(e=Ke,t){return"UPDATE_SETTINGS"===t.type?t.reset?{...Ke,...t.settings}:{...e,...t.settings}:e},preferences:function(t=De,n){switch(n.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":{const r=n.blocks.reduce((t,r)=>{const{attributes:o,name:i}=r;let s=i;const l=O(e).getActiveBlockVariation(i,o);return l?.name&&(s+="/"+l.name),"core/block"===i&&(s+="/"+o.ref),{...t,[s]:{time:n.time,count:t[s]?t[s].count+1:1}}},t.insertUsage);return{...t,insertUsage:r}}}return t},lastBlockAttributesChange:function(e=null,t){switch(t.type){case"UPDATE_BLOCK":if(!t.updates.attributes)break;return{[t.clientId]:t.updates.attributes};case"UPDATE_BLOCK_ATTRIBUTES":return t.clientIds.reduce((e,n)=>({...e,[n]:t.uniqueByBlock?t.attributes[n]:t.attributes}),{})}return e},lastFocus:function(e=!1,t){return"LAST_FOCUS"===t.type?t.lastFocus:e},editorMode:function(e="edit",t){return"SET_EDITOR_MODE"===t.type?t.mode:e},expandedBlock:function(e=null,t){switch(t.type){case"SET_BLOCK_EXPANDED_IN_LIST_VIEW":return t.clientId;case"SELECT_BLOCK":if(t.clientId!==e)return null}return e},highlightedBlock:function(e,t){switch(t.type){case"TOGGLE_BLOCK_HIGHLIGHT":const{clientId:n,isHighlighted:r}=t;return r?n:e===n?null:e;case"SELECT_BLOCK":if(t.clientId!==e)return null}return e},lastBlockInserted:function(e={},t){switch(t.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":if(!t.blocks.length)return e;const n=t.blocks.map(e=>e.clientId),r=t.meta?.source;return{clientIds:n,source:r};case"RESET_BLOCKS":return{}}return e},temporarilyEditingAsBlocks:function(e="",t){return"SET_TEMPORARILY_EDITING_AS_BLOCKS"===t.type?t.temporarilyEditingAsBlocks:e},temporarilyEditingFocusModeRevert:function(e="",t){return"SET_TEMPORARILY_EDITING_AS_BLOCKS"===t.type?t.focusModeToRevert:e},blockVisibility:function(e={},t){return"SET_BLOCK_VISIBILITY"===t.type?{...e,...t.updates}:e},blockEditingModes:function(e=new Map,t){switch(t.type){case"SET_BLOCK_EDITING_MODE":return new Map(e).set(t.clientId,t.mode);case"UNSET_BLOCK_EDITING_MODE":{const n=new Map(e);return n.delete(t.clientId),n}case"RESET_BLOCKS":return e.has("")?(new Map).set("",e.get("")):e}return e},styleOverrides:function(e=new Map,t){switch(t.type){case"SET_STYLE_OVERRIDE":return new Map(e).set(t.id,t.style);case"DELETE_STYLE_OVERRIDE":{const n=new Map(e);return n.delete(t.id),n}}return e},removalPromptData:function(e=!1,t){switch(t.type){case"DISPLAY_BLOCK_REMOVAL_PROMPT":const{clientIds:e,selectPrevious:n,message:r}=t;return{clientIds:e,selectPrevious:n,message:r};case"CLEAR_BLOCK_REMOVAL_PROMPT":return!1}return e},blockRemovalRules:function(e=!1,t){return"SET_BLOCK_REMOVAL_RULES"===t.type?t.rules:e},openedBlockSettingsMenu:function(e=null,t){var n;return"SET_OPENED_BLOCK_SETTINGS_MENU"===t.type?null!==(n=t?.clientId)&&void 0!==n?n:null:e},registeredInserterMediaCategories:function(e=[],t){return"REGISTER_INSERTER_MEDIA_CATEGORY"===t.type?[...e,t.category]:e},hoveredBlockClientId:function(e=!1,t){return"HOVER_BLOCK"===t.type?t.clientId:e},zoomLevel:function(e=100,t){switch(t.type){case"SET_ZOOM_LEVEL":return t.zoom;case"RESET_ZOOM_LEVEL":return 100}return e}})),Je=Symbol("globalStylesDataKey"),Qe=Symbol("globalStylesLinks"),et=Symbol("selectBlockPatternsKey"),tt=Symbol("reusableBlocksSelect"),nt=Symbol("sectionRootClientIdKey"),rt="core/block-editor";const ot=b(function e(t,n){const r=en(t,n),o=[];for(const i of r){const n=e(t,i);"disabled"!==Hn(t,i)?o.push({clientId:i,innerBlocks:n}):o.push(...n)}return o},e=>[e.blocks.order,e.blockEditingModes,e.settings.templateLock,e.blockListSettings,e.editorMode,Bt(e)]),it=b((e,t,n=!1)=>Ft(e,t,n).filter(t=>"disabled"!==Hn(e,t)),e=>[e.blocks.parents,e.blockEditingModes,e.settings.templateLock,e.blockListSettings]);const st=b(e=>{const t=Pt(e).reduce((e,t,n)=>(e[t]=n,e),{});return[...e.styleOverrides].sort((e,n)=>{var r,o;const[,{clientId:i}]=e,[,{clientId:s}]=n;return(null!==(r=t[i])&&void 0!==r?r:-1)-(null!==(o=t[s])&&void 0!==o?o:-1)})},e=>[e.blocks.order,e.styleOverrides]);const lt=b(e=>{const{settings:{inserterMediaCategories:t,allowedMimeTypes:n,enableOpenverseMediaCategory:r},registeredInserterMediaCategories:o}=e;if(!t&&!o.length||!n)return;const i=t?.map(({name:e})=>e)||[];return[...t||[],...(o||[]).filter(({name:e})=>!i.includes(e))].filter(e=>!(!r&&"openverse"===e.name)&&Object.values(n).some(t=>t.startsWith(`${e.mediaType}/`)))},e=>[e.settings.inserterMediaCategories,e.settings.allowedMimeTypes,e.settings.enableOpenverseMediaCategory,e.registeredInserterMediaCategories]),ct=v(e=>b((t,n=null)=>{const{getAllPatterns:r}=L(e(rt)),o=r(),{allowedBlockTypes:i}=Mn(t);return o.some(e=>{const{inserter:r=!0}=e;if(!r)return!1;const o=ee(e);return te(o,i)&&o.every(({name:e})=>dn(t,e,n))})},(t,n)=>[...J(e)(t),...Q(t,n)]));function at(e,t=[]){return{name:`core/block/${e.id}`,id:e.id,type:ae.user,title:e.title.raw,categories:e.wp_pattern_category.map(e=>{const n=t.find(({id:t})=>t===e);return n?n.slug:e}),content:e.content.raw,syncStatus:e.wp_pattern_sync_status}}const ut=v(e=>b((t,n)=>{var r,o;if(n?.startsWith("core/block/")){const r=parseInt(n.slice(11),10),o=L(e(rt)).getReusableBlocks().find(({id:e})=>e===r);return o?at(o,t.settings.__experimentalUserPatternCategories):null}return[...null!==(r=t.settings.__experimentalBlockPatterns)&&void 0!==r?r:[],...null!==(o=t.settings[et]?.(e))&&void 0!==o?o:[]].find(({name:e})=>e===n)},(t,n)=>n?.startsWith("core/block/")?[L(e(rt)).getReusableBlocks(),t.settings.__experimentalReusableBlocks]:[t.settings.__experimentalBlockPatterns,t.settings[et]?.(e)])),dt=v(e=>b(t=>{var n,r;return[...L(e(rt)).getReusableBlocks().map(e=>at(e,t.settings.__experimentalUserPatternCategories)),...null!==(n=t.settings.__experimentalBlockPatterns)&&void 0!==n?n:[],...null!==(r=t.settings[et]?.(e))&&void 0!==r?r:[]].filter((e,t,n)=>t===n.findIndex(t=>e.name===t.name))},J(e))),gt=v(e=>b(t=>{const n=t.settings[et],r=t.settings[tt];return!!n&&void 0===n(e)||!!r&&void 0===r(e)},J(e))),ft=[],pt=v(e=>t=>{var n;const r=t.settings[tt];return null!==(n=r?r(e):t.settings.__experimentalReusableBlocks)&&void 0!==n?n:ft});const It=(e,t)=>{let n,r=t;for(;!n&&(r=e.blocks.parents.get(r));)"contentOnly"===cn(e,r)&&(n=r);return n},kt=(e,t)=>{let n,r=t;for(;!n&&(r=e.blocks.parents.get(r));)_t(e,r)&&(n=r);return n};function _t(e,t){const n=en(e,Bt(e));return"core/block"===vt(e,t)||"contentOnly"===cn(e,t)||Dn(e)&&n.includes(t)}function bt(e){return e.temporarilyEditingAsBlocks}function Et(e){return e.temporarilyEditingFocusModeRevert}const mt=b((e,t)=>t.reduce((t,n)=>(t[n]=e.blocks.attributes.get(n)?.style,t),{}),(e,t)=>[...t.map(t=>e.blocks.attributes.get(t)?.style)]);function Bt(e){return e.settings?.[nt]}function St(e){return e.zoomLevel}function yt(e,t,n=""){const r=Array.isArray(t)?t:[t],o=t=>r.every(n=>dn(e,n,t));if(!n){if(o(n))return n;const t=Bt(e);return t&&o(t)?t:null}let i=n;for(;null!==i&&!o(i);){i=jt(e,i)}return i}const ht=Object.freeze(Object.defineProperty({__proto__:null,getAllPatterns:dt,getBlockRemovalRules:function(e){return e.blockRemovalRules},getBlockSettings:ue,getBlockStyles:mt,getBlockWithoutAttributes:function(e,t){return e.blocks.byClientId.get(t)},getClosestAllowedInsertionPoint:yt,getClosestAllowedInsertionPointForPattern:function(e,t,n){const{allowedBlockTypes:r}=Mn(e);return te(ee(t),r)?yt(e,ee(t).map(({blockName:e})=>e),n):null},getContentLockingParent:It,getEnabledBlockParents:it,getEnabledClientIdsTree:ot,getExpandedBlock:function(e){return e.expandedBlock},getInserterMediaCategories:lt,getInsertionPoint:function(e){return e.insertionPoint},getLastFocus:function(e){return e.lastFocus},getLastInsertedBlocksClientIds:function(e){return e?.lastBlockInserted?.clientIds},getOpenedBlockSettingsMenu:function(e){return e.openedBlockSettingsMenu},getParentSectionBlock:kt,getPatternBySlug:ut,getRegisteredInserterMediaCategories:function(e){return e.registeredInserterMediaCategories},getRemovalPromptData:function(e){return e.removalPromptData},getReusableBlocks:pt,getSectionRootClientId:Bt,getStyleOverrides:st,getTemporarilyEditingAsBlocks:bt,getTemporarilyEditingFocusModeToRevert:Et,getZoomLevel:St,hasAllowedPatterns:ct,isBlockInterfaceHidden:function(e){return e.isBlockInterfaceHidden},isBlockSubtreeDisabled:(e,t)=>{const n=t=>"disabled"===Hn(e,t)&&en(e,t).every(n);return en(e,t).every(n)},isDragging:function(e){return e.isDragging},isResolvingPatterns:gt,isSectionBlock:_t,isZoomOut:function(e){return St(e)<100},isZoomOutMode:function(e){return"zoom-out"===e.editorMode}},Symbol.toStringTag,{value:"Module"})),Tt=[],Ct=new Set,Ot={[oe]:!0};function vt(e,t){const n=e.blocks.byClientId.get(t);return n?n.name:null}function Lt(e,t){return e.blocks.byClientId.get(t)?e.blocks.attributes.get(t):null}function Rt(e,t){return e.blocks.byClientId.has(t)?e.blocks.tree.get(t):null}const At=b((e,t)=>{const n=e.blocks.byClientId.get(t);return n?{...n,attributes:Lt(e,t)}:null},(e,t)=>[e.blocks.byClientId.get(t),e.blocks.attributes.get(t)]);const Nt=b((e,t)=>(H("wp.data.select( 'core/block-editor' ).__unstableGetClientIdWithClientIdsTree",{since:"6.3",version:"6.5"}),{clientId:t,innerBlocks:Mt(e,t)}),e=>[e.blocks.order]),Mt=b((e,t="")=>(H("wp.data.select( 'core/block-editor' ).__unstableGetClientIdsTree",{since:"6.3",version:"6.5"}),en(e,t).map(t=>Nt(e,t))),e=>[e.blocks.order]),wt=b((e,t)=>{t=Array.isArray(t)?[...t]:[t];const n=[];for(const o of t){const t=e.blocks.order.get(o);t&&n.push(...t)}let r=0;for(;r<n.length;){const t=n[r],o=e.blocks.order.get(t);o&&n.splice(r+1,0,...o),r++}return n},e=>[e.blocks.order]),Pt=e=>wt(e,""),Dt=b((e,t)=>{const n=Pt(e);if(!t)return n.length;let r=0;for(const o of n){e.blocks.byClientId.get(o).name===t&&r++}return r},e=>[e.blocks.order,e.blocks.byClientId]),Kt=b((e,t)=>{if(!t)return Tt;const n=Array.isArray(t)?t:[t],r=Pt(e).filter(t=>{const r=e.blocks.byClientId.get(t);return n.includes(r.name)});return r.length>0?r:Tt},e=>[e.blocks.order,e.blocks.byClientId]);const Gt=b((e,t)=>(Array.isArray(t)?t:[t]).map(t=>Rt(e,t)),(e,t)=>(Array.isArray(t)?t:[t]).map(t=>e.blocks.tree.get(t))),xt=b((e,t)=>Gt(e,t).filter(Boolean).map(e=>e.name),(e,t)=>Gt(e,t));function Ut(e){return e.selection.selectionStart}function Vt(e){return e.selection.selectionEnd}function Ht(e){const{selectionStart:t,selectionEnd:n}=e.selection,{clientId:r}=t;return r&&r===n.clientId?r:null}function jt(e,t){var n;return null!==(n=e.blocks.parents.get(t))&&void 0!==n?n:null}const Ft=b((e,t,n=!1)=>{const r=[];let o=t;for(;o=e.blocks.parents.get(o);)r.push(o);return r.length?n?r:r.reverse():Tt},e=>[e.blocks.parents]),Wt=b((e,t,n,r=!1)=>{const o=Ft(e,t,r),i=Array.isArray(n)?e=>n.includes(e):e=>n===e;return o.filter(t=>i(vt(e,t)))},e=>[e.blocks.parents]);function zt(e,t,n=1){if(void 0===t&&(t=Ht(e)),void 0===t&&(t=n<0?$t(e):qt(e)),!t)return null;const r=jt(e,t);if(null===r)return null;const{order:o}=e.blocks,i=o.get(r),s=i.indexOf(t)+1*n;return s<0||s===i.length?null:i[s]}const Yt=b(e=>{const{selectionStart:t,selectionEnd:n}=e.selection;if(!t.clientId||!n.clientId)return Tt;if(t.clientId===n.clientId)return[t.clientId];const r=jt(e,t.clientId);if(null===r)return Tt;const o=en(e,r),i=o.indexOf(t.clientId),s=o.indexOf(n.clientId);return i>s?o.slice(s,i+1):o.slice(i,s+1)},e=>[e.blocks.order,e.selection.selectionStart.clientId,e.selection.selectionEnd.clientId]);function Xt(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId===n.clientId?Tt:Yt(e)}const Zt=b(e=>{const t=Xt(e);return t.length?t.map(t=>Rt(e,t)):Tt},e=>[...Yt.getDependants(e),e.blocks.byClientId,e.blocks.order,e.blocks.attributes]);function $t(e){return Xt(e)[0]||null}function qt(e){const t=Xt(e);return t[t.length-1]||null}function Jt(e,t){return-1!==Xt(e).indexOf(t)}const Qt=b((e,t)=>{let n=t,r=!1;for(;n&&!r;)n=jt(e,n),r=Jt(e,n);return r},e=>[e.blocks.order,e.selection.selectionStart.clientId,e.selection.selectionEnd.clientId]);function en(e,t){return e.blocks.order.get(t||"")||Tt}function tn(e,t){return en(e,jt(e,t)).indexOf(t)}function nn(e,t){const{selectionStart:n,selectionEnd:r}=e.selection;return n.clientId===r.clientId&&n.clientId===t}function rn(e,t,n=!1){const r=Yt(e);return!!r.length&&(n?r.some(n=>Ft(e,n,!0).includes(t)):r.some(n=>jt(e,n)===t))}function on(e){return!!e.draggedBlocks.length}function sn(e,t){return e.draggedBlocks.includes(t)}const ln=b(e=>{let t,n;const{insertionCue:r,selection:{selectionEnd:o}}=e;if(null!==r)return r;const{clientId:i}=o;return i?(t=jt(e,i)||void 0,n=tn(e,o.clientId)+1):n=en(e).length,{rootClientId:t,index:n}},e=>[e.insertionCue,e.selection.selectionEnd.clientId,e.blocks.parents,e.blocks.order]);function cn(e,t){var n,r;return t?null!==(n=Nn(e,t)?.templateLock)&&void 0!==n&&n:null!==(r=e.settings.templateLock)&&void 0!==r&&r}const an=(e,n)=>{let r,o;if(n&&"object"==typeof n?(r=n,o=n.name):(r=t(n),o=n),!r)return!1;const{allowedBlockTypes:i}=Mn(e);return!!re(i,o,!0)&&(!r.parent?.length||r.parent.some(t=>an(e,t)||"core/post-content"===t))},un=(e,n,r=null)=>{if(!an(e,n))return!1;let o;n&&"object"==typeof n?(o=n,n=o.name):o=t(n);if(!!cn(e,r))return!1;if(!!_t(e,r))return!1;if("disabled"===Hn(e,null!=r?r:""))return!1;const i=Nn(e,r);if(r&&void 0===i)return!1;const s=vt(e,r),l=t(s),c=l?.allowedBlocks;let a=re(c,n);if(!1!==a){const e=i?.allowedBlocks,t=re(e,n);null!==t&&(a=t)}const u=o.parent,d=re(u,s);let g=!0;const f=o.ancestor;if(f){g=[r,...Ft(e,r)].some(t=>re(f,vt(e,t)))}const p=g&&(null===a&&null===d||!0===a||!0===d);return p?V("blockEditor.__unstableCanInsertBlockType",p,o,r,{getBlock:Rt.bind(null,e),getBlockParentsByBlockName:Wt.bind(null,e)}):p},dn=b(un,(e,t,n)=>Q(e,n));function gn(e,t){const n=Lt(e,t);if(null===n)return!0;if(void 0!==n.lock?.remove)return!n.lock.remove;const r=jt(e,t);if(cn(e,r))return!1;return!!!kt(e,t)&&"disabled"!==Hn(e,r)}function fn(e,t){return t.every(t=>gn(e,t))}function pn(e,t){const n=Lt(e,t);if(null===n)return!0;if(void 0!==n.lock?.move)return!n.lock.move;const r=jt(e,t);return"all"!==cn(e,r)&&"disabled"!==Hn(e,r)}function In(e,t){const n=Lt(e,t);if(null===n)return!0;const{lock:r}=n;return!r?.edit}function kn(e,t){var n;return null!==(n=e.preferences.insertUsage?.[t])&&void 0!==n?n:null}const _n=(e,t,n)=>!!r(t,"inserter",!0)&&un(e,t.name,n),bn=(e,t)=>{if(!e)return t;const n=Date.now()-e;switch(!0){case n<36e5:return 4*t;case n<864e5:return 2*t;case n<6048e5:return t/2;default:return t/4}},En=(e,{buildScope:t="inserter"})=>n=>{const o=n.name;let i=!1;r(n.name,"multiple",!0)||(i=Gt(e,Pt(e)).some(({name:e})=>e===n.name));const{time:l,count:c=0}=kn(e,o)||{},a={id:o,name:n.name,title:n.title,icon:n.icon,isDisabled:i,frecency:bn(l,c)};if("transform"===t)return a;const u=s(n.name,"inserter");return{...a,initialAttributes:{},description:n.description,category:n.category,keywords:n.keywords,parent:n.parent,variations:u,example:n.example,utility:1}},mn=v(e=>b((t,n=null,i=Ot)=>{const s=un(t,"core/block",n)?L(e(rt)).getReusableBlocks().map(e=>{const n=e.wp_pattern_sync_status?z:{src:z,foreground:"var(--wp-block-synced-color)"},r=`core/block/${e.id}`,{time:o,count:i=0}=kn(t,r)||{},s=bn(o,i);return{id:r,name:"core/block",initialAttributes:{ref:e.id},title:e.title?.raw,icon:n,category:"reusable",keywords:["reusable"],isDisabled:!1,utility:1,frecency:s,content:e.content?.raw,syncStatus:e.wp_pattern_sync_status}}):[],l=En(t,{buildScope:"inserter"});let c=o().filter(e=>r(e,"inserter",!0)).map(l);c=!1!==i[oe]?c.filter(e=>_n(t,e,n)):c.filter(e=>an(t,e)).map(e=>({...e,isAllowedInCurrentRoot:_n(t,e,n)}));const a=c.reduce((e,n)=>{const{variations:r=[]}=n;if(r.some(({isDefault:e})=>e)||e.push(n),r.length){const o=((e,t)=>n=>{const r=`${t.id}/${n.name}`,{time:o,count:i=0}=kn(e,r)||{};return{...t,id:r,icon:n.icon||t.icon,title:n.title||t.title,description:n.description||t.description,category:n.category||t.category,example:n.hasOwnProperty("example")?n.example:t.example,initialAttributes:{...t.initialAttributes,...n.attributes},innerBlocks:n.innerBlocks,keywords:n.keywords||t.keywords,frecency:bn(o,i)}})(t,n);e.push(...r.map(o))}return e},[]),{core:u,noncore:d}=a.reduce((e,t)=>{const{core:n,noncore:r}=e;return(t.name.startsWith("core/")?n:r).push(t),e},{core:[],noncore:[]});return[...[...u,...d],...s]},(t,n)=>[o(),L(e(rt)).getReusableBlocks(),t.blocks.order,t.preferences.insertUsage,...Q(t,n)])),Bn=b((e,t,n=null)=>{const r=Array.isArray(t)?t:[t],s=En(e,{buildScope:"transform"}),l=o().filter(t=>_n(e,t,n)).map(s),c=Object.fromEntries(Object.entries(l).map(([,e])=>[e.name,e])),a=i(r).reduce((e,t)=>(c[t?.name]&&e.push(c[t.name]),e),[]);return ne(a,e=>c[e.name].frecency,"desc")},(e,t,n)=>[o(),e.preferences.insertUsage,...Q(e,n)]),Sn=v(e=>(t,n=null)=>{if(o().some(e=>_n(t,e,n)))return!0;return un(t,"core/block",n)&&L(e(rt)).getReusableBlocks().length>0}),yn=v(e=>b((t,n=null)=>{if(!n)return;const r=o().filter(e=>_n(t,e,n));return un(t,"core/block",n)&&L(e(rt)).getReusableBlocks().length>0&&r.push("core/block"),r},(t,n)=>[o(),L(e(rt)).getReusableBlocks(),...Q(t,n)])),hn=b((e,t=null)=>(H('wp.data.select( "core/block-editor" ).__experimentalGetAllowedBlocks',{alternative:'wp.data.select( "core/block-editor" ).getAllowedBlocks',since:"6.2",version:"6.4"}),yn(e,t)),(e,t)=>yn.getDependants(e,t));function Tn(e,t=null){var n;if(!t)return;const{defaultBlock:r,directInsert:o}=null!==(n=e.blockListSettings[t])&&void 0!==n?n:{};return r&&o?r:void 0}const Cn=v(e=>(t,n)=>{const r=L(e(rt)).getPatternBySlug(n);return r?ie(r):null}),On=e=>(t,n)=>[...J(e)(t),...Q(t,n)],vn=v(e=>b((t,n=null,r=Ot)=>{const{getAllPatterns:o}=L(e(rt)),i=o(),{allowedBlockTypes:s}=Mn(t);return i.filter(({inserter:e=!0})=>!!e).map(e=>({...e,get blocks(){return ie(e).blocks}})).filter(e=>te(ee(e),s)).filter(e=>ee(e).every(({blockName:e})=>!1!==r[oe]?dn(t,e,n):an(t,e)))},On(e))),Ln=v(e=>b((t,n,r=null)=>{if(!n)return Tt;const o=e(rt).__experimentalGetAllowedPatterns(r),i=Array.isArray(n)?n:[n],s=o.filter(e=>e?.blockTypes?.some?.(e=>i.includes(e)));return 0===s.length?Tt:s},(t,n,r)=>On(e)(t,r))),Rn=v(e=>(H('wp.data.select( "core/block-editor" ).__experimentalGetPatternsByBlockTypes',{alternative:'wp.data.select( "core/block-editor" ).getPatternsByBlockTypes',since:"6.2",version:"6.4"}),e(rt).getPatternsByBlockTypes)),An=v(e=>b((t,n,r=null)=>{if(!n)return Tt;if(n.some(({clientId:e,innerBlocks:n})=>n.length||Gn(t,e)))return Tt;const o=Array.from(new Set(n.map(({name:e})=>e)));return e(rt).getPatternsByBlockTypes(o,r)},(t,n,r)=>On(e)(t,r)));function Nn(e,t){return e.blockListSettings[t]}function Mn(e){return e.settings}const wn=b((e,t=[])=>t.reduce((t,n)=>e.blockListSettings[n]?{...t,[n]:e.blockListSettings[n]}:t,{}),e=>[e.blockListSettings]),Pn=v(e=>b((t,n)=>{H("wp.data.select( 'core/block-editor' ).__experimentalGetReusableBlockTitle",{since:"6.6",version:"6.8"});const r=L(e(rt)).getReusableBlocks().find(e=>e.id===n);return r?r.title?.raw:null},()=>[L(e(rt)).getReusableBlocks()]));function Dn(e){return"navigation"===e.editorMode}function Kn(e){return e.editorMode}function Gn(e,t){return!!e.blocks.controlledInnerBlocks[t]}const xn=b((e,t)=>{if(!t.length)return null;const n=Ht(e);if(t.includes(vt(e,n)))return n;const r=Xt(e),o=Wt(e,n||r[0],t);return o?o[o.length-1]:null},(e,t)=>[e.selection.selectionStart.clientId,e.selection.selectionEnd.clientId,t]);const Un=b(e=>{const t=new Set(Object.keys(e.blockVisibility).filter(t=>e.blockVisibility[t]));return 0===t.size?Ct:t},e=>[e.blockVisibility]);function Vn(e,t){if("default"!==Hn(e,t))return!1;if(!In(e,t))return!0;if("zoom-out"===Kn(e)){const n=Bt(e);if(n){const r=en(e,n);if(r?.includes(t))return!0}else if(t&&!jt(e,t))return!0}return!r(vt(e,t),"__experimentalDisableBlockOverlay",!1)&&Gn(e,t)&&!nn(e,t)&&!rn(e,t,!0)}const Hn=v(t=>(n,r="")=>{null===r&&(r="");const o=Kn(n);if("zoom-out"===o){const e=Bt(n);if(""===r)return e?"disabled":"contentOnly";if(r===e)return"contentOnly";const t=en(n,e);return t?.includes(r)?"contentOnly":"disabled"}if("navigation"===o){const o=Bt(n);if(r===o)return"default";if(en(n,o).includes(r))return"contentOnly";const i=function(e,t,n){let r=e.blocks.parents.get(t);for(;r&&r!==n;)r=e.blocks.parents.get(r);return r===n}(n,r,o);if(!i)return"disabled";const s=vt(n,r),{hasContentRoleAttribute:l}=L(t(e));return l(s)?"contentOnly":"disabled"}const i=n.blockEditingModes.get(r);if(i)return i;if(!r)return"default";const s=jt(n,r);if("contentOnly"===cn(n,s)){const o=vt(n,r),{hasContentRoleAttribute:i}=L(t(e));return i(o)?"contentOnly":"disabled"}const l=Hn(n,s);return"contentOnly"===l?"default":l}),jn=v(n=>(r,o="")=>{const i=o||Ht(r);if(!i)return!1;const{getGroupingBlockName:s}=n(e),l=Rt(r,i),c=s();return l&&(l.name===c||t(l.name)?.transforms?.ungroup)&&!!l.innerBlocks.length&&gn(r,i)}),Fn=v(t=>(n,r=Tt)=>{const{getGroupingBlockName:o}=t(e),i=o(),s=r?.length?r:Yt(n),l=s?.length?jt(n,s[0]):void 0;return dn(n,i,l)&&s.length&&fn(n,s)});const Wn=Object.freeze(Object.defineProperty({__proto__:null,__experimentalGetActiveBlockIdByBlockNames:xn,__experimentalGetAllowedBlocks:hn,__experimentalGetAllowedPatterns:vn,__experimentalGetBlockListSettingsForBlocks:wn,__experimentalGetDirectInsertBlock:function(e,t=null){return H('wp.data.select( "core/block-editor" ).__experimentalGetDirectInsertBlock',{alternative:'wp.data.select( "core/block-editor" ).getDirectInsertBlock',since:"6.3",version:"6.4"}),Tn(e,t)},__experimentalGetGlobalBlocksByName:function(e,t){return H("wp.data.select( 'core/block-editor' ).__experimentalGetGlobalBlocksByName",{since:"6.5",alternative:"wp.data.select( 'core/block-editor' ).getBlocksByName"}),Kt(e,t)},__experimentalGetLastBlockAttributeChanges:function(e){return e.lastBlockAttributesChange},__experimentalGetParsedPattern:Cn,__experimentalGetPatternTransformItems:An,__experimentalGetPatternsByBlockTypes:Rn,__experimentalGetReusableBlockTitle:Pn,__unstableGetBlockWithoutInnerBlocks:At,__unstableGetClientIdWithClientIdsTree:Nt,__unstableGetClientIdsTree:Mt,__unstableGetContentLockingParent:(e,t)=>(H("wp.data.select( 'core/block-editor' ).__unstableGetContentLockingParent",{since:"6.1",version:"6.7"}),It(e,t)),__unstableGetEditorMode:Kn,__unstableGetSelectedBlocksWithPartialSelection:e=>{const t=Ut(e),n=Vt(e);if(t.clientId===n.clientId)return Tt;if(!t.attributeKey||!n.attributeKey||void 0===t.offset||void 0===n.offset)return Tt;const r=jt(e,t.clientId);if(r!==jt(e,n.clientId))return Tt;const o=en(e,r),i=o.indexOf(t.clientId),s=o.indexOf(n.clientId),[l,c]=i>s?[n,t]:[t,n],a=Rt(e,l.clientId),u=Rt(e,c.clientId),d=a.attributes[l.attributeKey],g=u.attributes[c.attributeKey];let f=j({html:d}),p=j({html:g});return f=F(f,0,l.offset),p=F(p,c.offset,p.text.length),[{...a,attributes:{...a.attributes,[l.attributeKey]:W({value:f})}},{...u,attributes:{...u.attributes,[c.attributeKey]:W({value:p})}}]},__unstableGetTemporarilyEditingAsBlocks:function(e){return H("wp.data.select( 'core/block-editor' ).__unstableGetTemporarilyEditingAsBlocks",{since:"6.1",version:"6.7"}),bt(e)},__unstableGetTemporarilyEditingFocusModeToRevert:function(e){return H("wp.data.select( 'core/block-editor' ).__unstableGetTemporarilyEditingFocusModeToRevert",{since:"6.5",version:"6.7"}),Et(e)},__unstableGetVisibleBlocks:Un,__unstableHasActiveBlockOverlayActive:Vn,__unstableIsFullySelected:function(e){const t=Ut(e),n=Vt(e);return!t.attributeKey&&!n.attributeKey&&void 0===t.offset&&void 0===n.offset},__unstableIsLastBlockChangeIgnored:function(e){return e.blocks.isIgnoredChange},__unstableIsSelectionCollapsed:function(e){const t=Ut(e),n=Vt(e);return!!t&&!!n&&t.clientId===n.clientId&&t.attributeKey===n.attributeKey&&t.offset===n.offset},__unstableIsSelectionMergeable:function(e,r){const o=Ut(e),i=Vt(e);if(o.clientId===i.clientId)return!1;if(!o.attributeKey||!i.attributeKey||void 0===o.offset||void 0===i.offset)return!1;const s=jt(e,o.clientId);if(s!==jt(e,i.clientId))return!1;const l=en(e,s);let c,a;l.indexOf(o.clientId)>l.indexOf(i.clientId)?(c=i,a=o):(c=o,a=i);const u=r?a.clientId:c.clientId,d=r?c.clientId:a.clientId,g=vt(e,u);if(!t(g).merge)return!1;const f=Rt(e,d);if(f.name===g)return!0;const p=n(f,g);return p&&p.length},__unstableIsWithinBlockOverlay:function(e,t){let n=e.blocks.parents.get(t);for(;n;){if(Vn(e,n))return!0;n=e.blocks.parents.get(n)}return!1},__unstableSelectionHasUnmergeableBlock:function(e){return Yt(e).some(n=>{const r=vt(e,n);return!t(r).merge})},areInnerBlocksControlled:Gn,canEditBlock:In,canInsertBlockType:dn,canInsertBlocks:function(e,t,n=null){return t.every(t=>dn(e,vt(e,t),n))},canLockBlockType:function(e,t){return!!r(t,"lock",!0)&&!!e.settings?.canLockBlocks},canMoveBlock:pn,canMoveBlocks:function(e,t){return t.every(t=>pn(e,t))},canRemoveBlock:gn,canRemoveBlocks:fn,didAutomaticChange:function(e){return!!e.automaticChangeStatus},getAdjacentBlockClientId:zt,getAllowedBlocks:yn,getBlock:Rt,getBlockAttributes:Lt,getBlockCount:function(e,t){return en(e,t).length},getBlockEditingMode:Hn,getBlockHierarchyRootClientId:function(e,t){let n,r=t;do{n=r,r=e.blocks.parents.get(r)}while(r);return n},getBlockIndex:tn,getBlockInsertionPoint:ln,getBlockListSettings:Nn,getBlockMode:function(e,t){return e.blocksMode[t]||"visual"},getBlockName:vt,getBlockNamesByClientId:xt,getBlockOrder:en,getBlockParents:Ft,getBlockParentsByBlockName:Wt,getBlockRootClientId:jt,getBlockSelectionEnd:function(e){return e.selection.selectionEnd.clientId},getBlockSelectionStart:function(e){return e.selection.selectionStart.clientId},getBlockTransformItems:Bn,getBlocks:function(e,t){const n=t&&Gn(e,t)?"controlled||"+t:t||"";return e.blocks.tree.get(n)?.innerBlocks||Tt},getBlocksByClientId:Gt,getBlocksByName:Kt,getClientIdsOfDescendants:wt,getClientIdsWithDescendants:Pt,getDirectInsertBlock:Tn,getDraggedBlockClientIds:function(e){return e.draggedBlocks},getFirstMultiSelectedBlockClientId:$t,getGlobalBlockCount:Dt,getHoveredBlockClientId:function(e){return e.hoveredBlockClientId},getInserterItems:mn,getLastMultiSelectedBlockClientId:qt,getLowestCommonAncestorWithSelectedBlock:function(e,t){const n=Ht(e),r=[...Ft(e,t),t],o=[...Ft(e,n),n];let i;const s=Math.min(r.length,o.length);for(let l=0;l<s&&r[l]===o[l];l++)i=r[l];return i},getMultiSelectedBlockClientIds:Xt,getMultiSelectedBlocks:Zt,getMultiSelectedBlocksEndClientId:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId===n.clientId?null:n.clientId||null},getMultiSelectedBlocksStartClientId:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId===n.clientId?null:t.clientId||null},getNextBlockClientId:function(e,t){return zt(e,t,1)},getPatternsByBlockTypes:Ln,getPreviousBlockClientId:function(e,t){return zt(e,t,-1)},getSelectedBlock:function(e){const t=Ht(e);return t?Rt(e,t):null},getSelectedBlockClientId:Ht,getSelectedBlockClientIds:Yt,getSelectedBlockCount:function(e){const t=Xt(e).length;return t||(e.selection.selectionStart.clientId?1:0)},getSelectedBlocksInitialCaretPosition:function(e){return e.initialPosition},getSelectionEnd:Vt,getSelectionStart:Ut,getSettings:Mn,getTemplate:function(e){return e.settings.template},getTemplateLock:cn,hasBlockMovingClientId:function(){return H('wp.data.select( "core/block-editor" ).hasBlockMovingClientId',{since:"6.7",hint:"Block moving mode feature has been removed"}),!1},hasDraggedInnerBlock:function e(t,n,r=!1){return en(t,n).some(n=>sn(t,n)||r&&e(t,n,r))},hasInserterItems:Sn,hasMultiSelection:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId!==n.clientId},hasSelectedBlock:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return!!t.clientId&&t.clientId===n.clientId},hasSelectedInnerBlock:rn,isAncestorBeingDragged:function(e,t){return!!on(e)&&Ft(e,t).some(t=>sn(e,t))},isAncestorMultiSelected:Qt,isBlockBeingDragged:sn,isBlockHighlighted:function(e,t){return e.highlightedBlock===t},isBlockInsertionPointVisible:function(e){return null!==e.insertionCue},isBlockMultiSelected:Jt,isBlockSelected:nn,isBlockValid:function(e,t){const n=e.blocks.byClientId.get(t);return!!n&&n.isValid},isBlockVisible:function(e,t){var n;return null===(n=e.blockVisibility?.[t])||void 0===n||n},isBlockWithinSelection:function(e,t){if(!t)return!1;const n=Xt(e),r=n.indexOf(t);return r>-1&&r<n.length-1},isCaretWithinFormattedText:function(){return H('wp.data.select( "core/block-editor" ).isCaretWithinFormattedText',{since:"6.1",version:"6.3"}),!1},isDraggingBlocks:on,isFirstMultiSelectedBlock:function(e,t){return $t(e)===t},isGroupable:Fn,isLastBlockChangePersistent:function(e){return e.blocks.isPersistentChange},isMultiSelecting:function(e){return e.isMultiSelecting},isNavigationMode:Dn,isSelectionEnabled:function(e){return e.isSelectionEnabled},isTyping:function(e){return e.isTyping},isUngroupable:jn,isValidTemplate:function(e){return e.template.isValid},wasBlockJustInserted:function(e,t,n){const{lastBlockInserted:r}=e;return r.clientIds?.includes(t)&&r.source===n}},Symbol.toStringTag,{value:"Module"})),zn=["inserterMediaCategories","blockInspectorAnimation"];function Yn(e,{stripExperimentalSettings:t=!1,reset:n=!1}={}){let r=e;if(t&&"web"===R.OS){r={};for(const t in e)zn.includes(t)||(r[t]=e[t])}return{type:"UPDATE_SETTINGS",settings:r,reset:n}}const Xn=(e,t=!0,n=!1)=>({select:r,dispatch:o,registry:i})=>{if(!e||!e.length)return;var s;s=e,e=Array.isArray(s)?s:[s];if(!r.canRemoveBlocks(e))return;const l=!n&&r.getBlockRemovalRules();if(l){function c(e){const t=[],n=[...e];for(;n.length;){const{innerBlocks:e,...r}=n.shift();n.push(...e),t.push(r)}return t}const a=c(e.map(r.getBlock));let u;for(const d of l)if(u=d.callback(a),u)return void o($n(e,t,u))}t&&o.selectPreviousBlock(e[0],t),i.batch(()=>{o({type:"REMOVE_BLOCKS",clientIds:e}),o(Zn())})},Zn=()=>({select:e,dispatch:t})=>{if(e.getBlockCount()>0)return;const{__unstableHasCustomAppender:n}=e.getSettings();n||t.insertDefaultBlock()};function $n(e,t,n){return{type:"DISPLAY_BLOCK_REMOVAL_PROMPT",clientIds:e,selectPrevious:t,message:n}}const qn=Object.freeze(Object.defineProperty({__proto__:null,__experimentalUpdateSettings:Yn,clearBlockRemovalPrompt:function(){return{type:"CLEAR_BLOCK_REMOVAL_PROMPT"}},deleteStyleOverride:function(e){return{type:"DELETE_STYLE_OVERRIDE",id:e}},ensureDefaultBlock:Zn,expandBlock:function(e){return{type:"SET_BLOCK_EXPANDED_IN_LIST_VIEW",clientId:e}},hideBlockInterface:function(){return{type:"HIDE_BLOCK_INTERFACE"}},modifyContentLockBlock:e=>({select:t,dispatch:n})=>{n.selectBlock(e),n.__unstableMarkNextChangeAsNotPersistent(),n.updateBlockAttributes(e,{templateLock:void 0}),n.updateBlockListSettings(e,{...t.getBlockListSettings(e),templateLock:!1});const r=t.getSettings().focusMode;n.updateSettings({focusMode:!0}),n.__unstableSetTemporarilyEditingAsBlocks(e,r)},privateRemoveBlocks:Xn,resetZoomLevel:function(){return{type:"RESET_ZOOM_LEVEL"}},setBlockRemovalRules:function(e=!1){return{type:"SET_BLOCK_REMOVAL_RULES",rules:e}},setInsertionPoint:function(e){return{type:"SET_INSERTION_POINT",value:e}},setLastFocus:function(e=null){return{type:"LAST_FOCUS",lastFocus:e}},setOpenedBlockSettingsMenu:function(e){return{type:"SET_OPENED_BLOCK_SETTINGS_MENU",clientId:e}},setStyleOverride:function(e,t){return{type:"SET_STYLE_OVERRIDE",id:e,style:t}},setZoomLevel:function(e=100){return{type:"SET_ZOOM_LEVEL",zoom:e}},showBlockInterface:function(){return{type:"SHOW_BLOCK_INTERFACE"}},startDragging:function(){return{type:"START_DRAGGING"}},stopDragging:function(){return{type:"STOP_DRAGGING"}},stopEditingAsBlocks:function(e){return({select:t,dispatch:n,registry:r})=>{const o=L(r.select(ur)).getTemporarilyEditingFocusModeToRevert();n.__unstableMarkNextChangeAsNotPersistent(),n.updateBlockAttributes(e,{templateLock:"contentOnly"}),n.updateBlockListSettings(e,{...t.getBlockListSettings(e),templateLock:"contentOnly"}),n.updateSettings({focusMode:o}),n.__unstableSetTemporarilyEditingAsBlocks()}}},Symbol.toStringTag,{value:"Module"})),Jn=e=>Array.isArray(e)?e:[e],Qn=e=>({select:t,dispatch:n})=>{const r=t.getTemplate(),o=t.getTemplateLock(),i=!r||"all"!==o||l(e,r);if(i!==t.isValidTemplate())return n.setTemplateValidity(i),i};const er=(e,t,n,r=0,o)=>({select:i,dispatch:s,registry:l})=>{e=Jn(e),t=Jn(t);const c=i.getBlockRootClientId(e[0]);for(let e=0;e<t.length;e++){const n=t[e];if(!i.canInsertBlockType(n.name,c))return}l.batch(()=>{s({type:"REPLACE_BLOCKS",clientIds:e,blocks:t,time:Date.now(),indexToSelect:n,initialPosition:r,meta:o}),s.ensureDefaultBlock()})};const tr=e=>(t,n)=>({select:r,dispatch:o})=>{r.canMoveBlocks(t)&&o({type:e,clientIds:Jn(t),rootClientId:n})},nr=tr("MOVE_BLOCKS_DOWN"),rr=tr("MOVE_BLOCKS_UP"),or=(e,t="",n="",r)=>({select:o,dispatch:i})=>{if(o.canMoveBlocks(e)){if(t!==n){if(!o.canRemoveBlocks(e))return;if(!o.canInsertBlocks(e,n))return}i({type:"MOVE_BLOCKS_TO_POSITION",fromRootClientId:t,toRootClientId:n,clientIds:e,index:r})}};const ir=(e,t,n,r=!0,o=0,i)=>({select:s,dispatch:l})=>{null!==o&&"object"==typeof o&&(i=o,o=0,H("meta argument in wp.data.dispatch('core/block-editor')",{since:"5.8",hint:"The meta argument is now the 6th argument of the function"})),e=Jn(e);const c=[];for(const t of e){s.canInsertBlockType(t.name,n)&&c.push(t)}c.length&&l({type:"INSERT_BLOCKS",blocks:c,index:t,rootClientId:n,time:Date.now(),updateSelection:r,initialPosition:r?o:null,meta:i})};const sr=(e,t=!0)=>Xn(e,t);function lr(e,t){return{type:"TOGGLE_BLOCK_HIGHLIGHT",clientId:e,isHighlighted:t}}const cr=Object.freeze(Object.defineProperty({__proto__:null,__unstableDeleteSelection:e=>({registry:r,select:o,dispatch:i})=>{const s=o.getSelectionStart(),l=o.getSelectionEnd();if(s.clientId===l.clientId)return;if(!s.attributeKey||!l.attributeKey||void 0===s.offset||void 0===l.offset)return!1;const c=o.getBlockRootClientId(s.clientId);if(c!==o.getBlockRootClientId(l.clientId))return;const u=o.getBlockOrder(c);let d,g;u.indexOf(s.clientId)>u.indexOf(l.clientId)?(d=l,g=s):(d=s,g=l);const f=e?g:d,p=o.getBlock(f.clientId),I=t(p.name);if(!I.merge)return;const k=d,_=g,b=o.getBlock(k.clientId),E=o.getBlock(_.clientId),m=b.attributes[k.attributeKey],B=E.attributes[_.attributeKey];let S=j({html:m}),y=j({html:B});S=F(S,k.offset,S.text.length),y=X(y,se,0,_.offset);const h=a(b,{[k.attributeKey]:W({value:S})}),T=a(E,{[_.attributeKey]:W({value:y})}),C=e?h:T,O=b.name===E.name?[C]:n(C,I.name);if(!O||!O.length)return;let v;if(e){const e=O.pop();v=I.merge(e.attributes,T.attributes)}else{const e=O.shift();v=I.merge(h.attributes,e.attributes)}const L=le(v),R=v[L],A=j({html:R}),N=A.text.indexOf(se),M=F(A,N,N+1),w=W({value:M});v[L]=w;const P=o.getSelectedBlockClientIds(),D=[...e?O:[],{...p,attributes:{...p.attributes,...v}},...e?[]:O];r.batch(()=>{i.selectionChange(p.clientId,L,N,N),i.replaceBlocks(P,D,0,o.getSelectedBlocksInitialCaretPosition())})},__unstableExpandSelection:()=>({select:e,dispatch:t})=>{const n=e.getSelectionStart(),r=e.getSelectionEnd();t.selectionChange({start:{clientId:n.clientId},end:{clientId:r.clientId}})},__unstableMarkAutomaticChange:()=>({dispatch:e})=>{e({type:"MARK_AUTOMATIC_CHANGE"});const{requestIdleCallback:t=e=>setTimeout(e,100)}=window;t(()=>{e({type:"MARK_AUTOMATIC_CHANGE_FINAL"})})},__unstableMarkLastChangeAsPersistent:function(){return{type:"MARK_LAST_CHANGE_AS_PERSISTENT"}},__unstableMarkNextChangeAsNotPersistent:function(){return{type:"MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"}},__unstableSaveReusableBlock:function(e,t){return{type:"SAVE_REUSABLE_BLOCK_SUCCESS",id:e,updatedId:t}},__unstableSetEditorMode:e=>({dispatch:t,select:n})=>{if("zoom-out"===e){const e=n.getBlockSelectionStart(),r=n.getSectionRootClientId();if(e){let o;if(r){const t=n.getBlockOrder(r);o=t?.includes(e)?e:n.getBlockParents(e).find(e=>t.includes(e))}else o=n.getBlockHierarchyRootClientId(e);o?t.selectBlock(o):t.clearSelectedBlock()}}t({type:"SET_EDITOR_MODE",mode:e}),"navigation"===e?Y(P("You are currently in navigation mode. Navigate blocks using the Tab key and Arrow keys. Use Left and Right Arrow keys to move between nesting levels. To exit navigation mode and edit the selected block, press Enter.")):"edit"===e?Y(P("You are currently in edit mode. To return to the navigation mode, press Escape.")):"zoom-out"===e&&Y(P("You are currently in zoom-out mode."))},__unstableSetTemporarilyEditingAsBlocks:function(e,t){return{type:"SET_TEMPORARILY_EDITING_AS_BLOCKS",temporarilyEditingAsBlocks:e,focusModeToRevert:t}},__unstableSplitSelection:(e=[])=>({registry:r,select:o,dispatch:i})=>{const s=o.getSelectionStart(),l=o.getSelectionEnd(),c=o.getBlockRootClientId(s.clientId),a=o.getBlockRootClientId(l.clientId);if(c!==a)return;const p=o.getBlockOrder(c);let I,k;p.indexOf(s.clientId)>p.indexOf(l.clientId)?(I=l,k=s):(I=s,k=l);const _=I,b=k,E=o.getBlock(_.clientId),m=o.getBlock(b.clientId),B=t(E.name),S=t(m.name),y="string"==typeof _.attributeKey?_.attributeKey:ce(B),h="string"==typeof b.attributeKey?b.attributeKey:ce(S),T=o.getBlockAttributes(_.clientId),C=T?.metadata?.bindings;if(C?.[y]){if(e.length){const{createWarningNotice:z}=r.dispatch(Z);return void z(P("Blocks can't be inserted into other blocks with bindings"),{type:"snackbar"})}return void i.insertAfterBlock(_.clientId)}if(!y||!h||void 0===s.offset||void 0===l.offset)return;if(_.clientId===b.clientId&&y===h&&_.offset===b.offset)if(e.length){if(u(E))return void i.replaceBlocks([_.clientId],e,e.length-1,-1)}else if(!o.getBlockOrder(_.clientId).length){function Y(){const e=g();return o.canInsertBlockType(e,c)?d(e):d(o.getBlockName(_.clientId))}const X=T[y].length;if(0===_.offset&&X)return void i.insertBlocks([Y()],o.getBlockIndex(_.clientId),c,!1);if(_.offset===X)return void i.insertBlocks([Y()],o.getBlockIndex(_.clientId)+1,c)}const O=E.attributes[y],v=m.attributes[h];let L=j({html:O}),R=j({html:v});L=F(L,_.offset,L.text.length),R=F(R,0,b.offset);let A={...E,innerBlocks:E.clientId===m.clientId?[]:E.innerBlocks,attributes:{...E.attributes,[y]:W({value:L})}},N={...m,clientId:E.clientId===m.clientId?d(m.name).clientId:m.clientId,attributes:{...m.attributes,[h]:W({value:R})}};const M=g();if(E.clientId===m.clientId&&M&&N.name!==M&&o.canInsertBlockType(M,c)){const $=n(N,M);1===$?.length&&(N=$[0])}if(!e.length)return void i.replaceBlocks(o.getSelectedBlockClientIds(),[A,N]);let w;const D=[],K=[...e],G=K.shift(),x=t(A.name),U=x.merge&&G.name===x.name?[G]:n(G,x.name);if(U?.length){const q=U.shift();A={...A,attributes:{...A.attributes,...x.merge(A.attributes,q.attributes)}},D.push(A),w={clientId:A.clientId,attributeKey:y,offset:j({html:A.attributes[y]}).text.length},K.unshift(...U)}else f(A)||D.push(A),D.push(G);const V=K.pop(),H=t(N.name);if(K.length&&D.push(...K),V){const J=H.merge&&H.name===V.name?[V]:n(V,H.name);if(J?.length){const Q=J.pop();D.push({...N,attributes:{...N.attributes,...H.merge(Q.attributes,N.attributes)}}),D.push(...J),w={clientId:N.clientId,attributeKey:h,offset:j({html:Q.attributes[h]}).text.length}}else D.push(V),f(N)||D.push(N)}else f(N)||D.push(N);r.batch(()=>{i.replaceBlocks(o.getSelectedBlockClientIds(),D,D.length-1,0),w&&i.selectionChange(w.clientId,w.attributeKey,w.offset,w.offset)})},clearSelectedBlock:function(){return{type:"CLEAR_SELECTED_BLOCK"}},duplicateBlocks:(e,t=!0)=>({select:n,dispatch:o})=>{if(!e||!e.length)return;const i=n.getBlocksByClientId(e);if(i.some(e=>!e))return;if(i.map(e=>e.name).some(e=>!r(e,"multiple",!0)))return;const s=n.getBlockRootClientId(e[0]),l=Jn(e),c=n.getBlockIndex(l[l.length-1]),a=i.map(e=>I(e));return o.insertBlocks(a,c+1,s,t),a.length>1&&t&&o.multiSelect(a[0].clientId,a[a.length-1].clientId),a.map(e=>e.clientId)},enterFormattedText:function(){return H('wp.data.dispatch( "core/block-editor" ).enterFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}},exitFormattedText:function(){return H('wp.data.dispatch( "core/block-editor" ).exitFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}},flashBlock:e=>async({dispatch:t})=>{t(lr(e,!0)),await new Promise(e=>setTimeout(e,150)),t(lr(e,!1))},hideInsertionPoint:()=>({select:e,dispatch:t})=>{e.isBlockInsertionPointVisible()&&t({type:"HIDE_INSERTION_POINT"})},hoverBlock:function(e){return{type:"HOVER_BLOCK",clientId:e}},insertAfterBlock:e=>({select:t,dispatch:n})=>{if(!e)return;const r=t.getBlockRootClientId(e);if(t.getTemplateLock(r))return;const o=t.getBlockIndex(e),i=r?t.getDirectInsertBlock(r):null;if(!i)return n.insertDefaultBlock({},r,o+1);const s={};if(i.attributesToCopy){const n=t.getBlockAttributes(e);i.attributesToCopy.forEach(e=>{n[e]&&(s[e]=n[e])})}const l=d(i.name,{...i.attributes,...s});return n.insertBlock(l,o+1,r)},insertBeforeBlock:e=>({select:t,dispatch:n})=>{if(!e)return;const r=t.getBlockRootClientId(e);if(t.getTemplateLock(r))return;const o=t.getBlockIndex(e),i=r?t.getDirectInsertBlock(r):null;if(!i)return n.insertDefaultBlock({},r,o);const s={};if(i.attributesToCopy){const n=t.getBlockAttributes(e);i.attributesToCopy.forEach(e=>{n[e]&&(s[e]=n[e])})}const l=d(i.name,{...i.attributes,...s});return n.insertBlock(l,o,r)},insertBlock:function(e,t,n,r,o){return ir([e],t,n,r,0,o)},insertBlocks:ir,insertDefaultBlock:(e,t,n)=>({dispatch:r})=>{const o=g();if(!o)return;const i=d(o,e);return r.insertBlock(i,n,t)},mergeBlocks:(e,r)=>({registry:o,select:i,dispatch:s})=>{const l=e,c=r,d=i.getBlock(l),g=t(d.name);if(!g)return;const f=i.getBlock(c);if(!g.merge&&p(d.name,"__experimentalOnMerge")){const e=n(f,g.name);if(1!==e?.length)return void s.selectBlock(d.clientId);const[t]=e;return t.innerBlocks.length<1?void s.selectBlock(d.clientId):void o.batch(()=>{s.insertBlocks(t.innerBlocks,void 0,l),s.removeBlock(c),s.selectBlock(t.innerBlocks[0].clientId);const e=i.getNextBlockClientId(l);if(e&&i.getBlockName(l)===i.getBlockName(e)){const t=i.getBlockAttributes(l),n=i.getBlockAttributes(e);Object.keys(t).every(e=>t[e]===n[e])&&(s.moveBlocksToPosition(i.getBlockOrder(e),e,l),s.removeBlock(e,!1))}})}if(u(d))return void s.removeBlock(l,i.isBlockSelected(l));if(u(f))return void s.removeBlock(c,i.isBlockSelected(c));if(!g.merge)return void s.selectBlock(d.clientId);const I=t(f.name),{clientId:k,attributeKey:_,offset:b}=i.getSelectionStart(),E=(k===l?g:I).attributes[_],m=(k===l||k===c)&&void 0!==_&&void 0!==b&&!!E;E||("number"==typeof _?window.console.error("RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was "+typeof _):window.console.error("The RichText identifier prop does not match any attributes defined by the block."));const B=a(d),S=a(f);if(m){const e=k===l?B:S,t=e.attributes[_],n=X(j({html:t}),se,b,b);e.attributes[_]=W({value:n})}const y=d.name===f.name?[S]:n(S,d.name);if(!y||!y.length)return;const h=g.merge(B.attributes,y[0].attributes);if(m){const e=le(h),t=h[e],n=j({html:t}),r=n.text.indexOf(se),o=F(n,r,r+1),i=W({value:o});h[e]=i,s.selectionChange(d.clientId,e,r,r)}s.replaceBlocks([d.clientId,f.clientId],[{...d,attributes:{...d.attributes,...h}},...y.slice(1)],0)},moveBlockToPosition:function(e,t="",n="",r){return or([e],t,n,r)},moveBlocksDown:nr,moveBlocksToPosition:or,moveBlocksUp:rr,multiSelect:(e,t,n=0)=>({select:r,dispatch:o})=>{if(r.getBlockRootClientId(e)!==r.getBlockRootClientId(t))return;o({type:"MULTI_SELECT",start:e,end:t,initialPosition:n});const i=r.getSelectedBlockCount();Y(K(G("%s block selected.","%s blocks selected.",i),i),"assertive")},receiveBlocks:function(e){return H('wp.data.dispatch( "core/block-editor" ).receiveBlocks',{since:"5.9",alternative:"resetBlocks or insertBlocks"}),{type:"RECEIVE_BLOCKS",blocks:e}},registerInserterMediaCategory:e=>({select:t,dispatch:n})=>{if(!e||"object"!=typeof e)return;if(!e.name)return;if(!e.labels?.name)return;if(!["image","audio","video"].includes(e.mediaType))return;if(!e.fetch||"function"!=typeof e.fetch)return;const r=t.getRegisteredInserterMediaCategories();r.some(({name:t})=>t===e.name)||r.some(({labels:{name:t}={}})=>t===e.labels?.name)||n({type:"REGISTER_INSERTER_MEDIA_CATEGORY",category:{...e,isExternalResource:!0}})},removeBlock:function(e,t){return sr([e],t)},removeBlocks:sr,replaceBlock:function(e,t){return er(e,t)},replaceBlocks:er,replaceInnerBlocks:function(e,t,n=!1,r=0){return{type:"REPLACE_INNER_BLOCKS",rootClientId:e,blocks:t,updateSelection:n,initialPosition:n?r:null,time:Date.now()}},resetBlocks:e=>({dispatch:t})=>{t({type:"RESET_BLOCKS",blocks:e}),t(Qn(e))},resetSelection:function(e,t,n){return{type:"RESET_SELECTION",selectionStart:e,selectionEnd:t,initialPosition:n}},selectBlock:function(e,t=0){return{type:"SELECT_BLOCK",initialPosition:t,clientId:e}},selectNextBlock:e=>({select:t,dispatch:n})=>{const r=t.getNextBlockClientId(e);r&&n.selectBlock(r)},selectPreviousBlock:(e,t=!1)=>({select:n,dispatch:r})=>{const o=n.getPreviousBlockClientId(e);if(o)r.selectBlock(o,-1);else if(t){const t=n.getBlockRootClientId(e);t&&r.selectBlock(t,-1)}},selectionChange:function(e,t,n,r){return"string"==typeof e?{type:"SELECTION_CHANGE",clientId:e,attributeKey:t,startOffset:n,endOffset:r}:{type:"SELECTION_CHANGE",...e}},setBlockEditingMode:function(e="",t){return{type:"SET_BLOCK_EDITING_MODE",clientId:e,mode:t}},setBlockMovingClientId:function(){return H('wp.data.dispatch( "core/block-editor" ).setBlockMovingClientId',{since:"6.7",hint:"Block moving mode feature has been removed"}),{type:"DO_NOTHING"}},setBlockVisibility:function(e){return{type:"SET_BLOCK_VISIBILITY",updates:e}},setHasControlledInnerBlocks:function(e,t){return{type:"SET_HAS_CONTROLLED_INNER_BLOCKS",hasControlledInnerBlocks:t,clientId:e}},setNavigationMode:(e=!0)=>({dispatch:t})=>{t.__unstableSetEditorMode(e?"navigation":"edit")},setTemplateValidity:function(e){return{type:"SET_TEMPLATE_VALIDITY",isValid:e}},showInsertionPoint:function(e,t,n={}){const{__unstableWithInserter:r,operation:o,nearestSide:i}=n;return{type:"SHOW_INSERTION_POINT",rootClientId:e,index:t,__unstableWithInserter:r,operation:o,nearestSide:i}},startDraggingBlocks:function(e=[]){return{type:"START_DRAGGING_BLOCKS",clientIds:e}},startMultiSelect:function(){return{type:"START_MULTI_SELECT"}},startTyping:function(){return{type:"START_TYPING"}},stopDraggingBlocks:function(){return{type:"STOP_DRAGGING_BLOCKS"}},stopMultiSelect:function(){return{type:"STOP_MULTI_SELECT"}},stopTyping:function(){return{type:"STOP_TYPING"}},synchronizeTemplate:()=>({select:e,dispatch:t})=>{t({type:"SYNCHRONIZE_TEMPLATE"});const n=e.getBlocks(),r=e.getTemplate(),o=c(n,r);t.resetBlocks(o)},toggleBlockHighlight:lr,toggleBlockMode:function(e){return{type:"TOGGLE_BLOCK_MODE",clientId:e}},toggleSelection:function(e=!0){return{type:"TOGGLE_SELECTION",isSelectionEnabled:e}},unsetBlockEditingMode:function(e=""){return{type:"UNSET_BLOCK_EDITING_MODE",clientId:e}},updateBlock:function(e,t){return{type:"UPDATE_BLOCK",clientId:e,updates:t}},updateBlockAttributes:function(e,t,n=!1){return{type:"UPDATE_BLOCK_ATTRIBUTES",clientIds:Jn(e),attributes:t,uniqueByBlock:n}},updateBlockListSettings:function(e,t){return{type:"UPDATE_BLOCK_LIST_SETTINGS",clientId:e,settings:t}},updateSettings:function(e){return Yn(e,{stripExperimentalSettings:!0})},validateBlocksToTemplate:Qn},Symbol.toStringTag,{value:"Module"})),ar={reducer:qe,selectors:Wn,actions:cr},ur=Ne(rt,{...ar}),dr=A(rt,{...ar,persist:["preferences"]});function gr({clientIds:t,children:o,__experimentalUpdateSelection:i}){const{getDefaultBlockName:s,getGroupingBlockName:l}=N(e),c=N(e=>{const{canInsertBlockType:n,getBlockRootClientId:o,getBlocksByClientId:i,getDirectInsertBlock:l,canRemoveBlocks:c}=e(ur),a=i(t),u=o(t[0]),d=n(s(),u),g=u?l(u):null;return{canRemove:c(t),canInsertBlock:d||!!g,canCopyStyles:a.every(e=>!!e&&(r(e.name,"color")||r(e.name,"typography"))),canDuplicate:a.every(e=>!!e&&r(e.name,"multiple",!0)&&n(e.name,u))}},[t,s]),{getBlocksByClientId:a,getBlocks:u}=N(ur),{canRemove:d,canInsertBlock:g,canCopyStyles:f,canDuplicate:p}=c,{removeBlocks:I,replaceBlocks:b,duplicateBlocks:E,insertAfterBlock:m,insertBeforeBlock:B,flashBlock:S}=M(ur),y=k(),h=_();return o({canCopyStyles:f,canDuplicate:p,canInsertBlock:g,canRemove:d,onDuplicate:()=>E(t,i),onRemove:()=>I(t,i),onInsertBefore(){B(t[0])},onInsertAfter(){m(t[t.length-1])},onGroup(){if(!t.length)return;const e=l(),r=n(a(t),e);r&&b(t,r)},onUngroup(){if(!t.length)return;const e=u(t[0]);e.length&&b(t,e)},onCopy(){1===t.length&&S(t[0]),y("copy",t)},async onPasteStyles(){await h(a(t))}})}L(dr).registerPrivateActions(qn),L(dr).registerPrivateSelectors(ht),L(ur).registerPrivateActions(qn),L(ur).registerPrivateSelectors(ht);export{gr as B,Ie as E,rt as S,Ne as a,ar as b,Pe as c,nt as d,et as e,Qe as f,Je as g,ke as h,Ke as i,vt as j,Lt as k,Mn as l,Bt as m,tt as r,ur as s};
