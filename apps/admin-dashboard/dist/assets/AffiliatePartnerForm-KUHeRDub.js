import{a3 as e,a4 as a,r as i,V as r,j as o,a5 as m,a1 as s}from"./vendor-react-40ZmJ4HC.js";import{j as l,B as t,C as d,k as n,l as f,t as u,m as p,L as c,I as b,S as h,f as N,g as v,h as x,i as g,T as F}from"./page-gutenberg-CxDN_6a_.js";import{u as j,a as E,b as V}from"./vendor-query-DJJ0FlEA.js";import"./vendor-ui-CrFdsnXa.js";import"./vendor-utils-EdRAegAf.js";import"./wp-all-BeSh6B1c.js";const P=()=>{const P=e(),{id:D}=a(),A=j(),y=!!D,[w,C]=i.useState({name:"",email:"",website:"",type:"individual",commissionRate:10,paymentMethod:"bank",notes:""}),{data:k,isLoading:q}=E({queryKey:["affiliate-partner",D],queryFn:async()=>(await l.api.get(`/affiliate/partners/${D}`)).data,enabled:y}),M=k?.data,R=V({mutationFn:async e=>(await l.api.post("/affiliate/partners",e)).data,onSuccess:()=>{r.success("제휴사가 추가되었습니다"),A.invalidateQueries({queryKey:["affiliate-partners"]}),P("/affiliate/partners")},onError:()=>{r.error("제휴사 추가에 실패했습니다")}}),H=V({mutationFn:async e=>(await l.api.put(`/affiliate/partners/${D}`,e)).data,onSuccess:()=>{r.success("제휴사 정보가 수정되었습니다"),A.invalidateQueries({queryKey:["affiliate-partners"]}),A.invalidateQueries({queryKey:["affiliate-partner",D]}),P("/affiliate/partners")},onError:()=>{r.error("제휴사 수정에 실패했습니다")}});i.useEffect(()=>{M&&C({name:M.name,email:M.email,website:M.website||"",type:M.type,commissionRate:M.commissionRate,paymentMethod:M.paymentMethod,bankName:M.bankName||"",accountNumber:M.accountNumber||"",accountHolder:M.accountHolder||"",paypalEmail:M.paypalEmail||"",businessNumber:M.businessNumber||"",notes:M.notes||""})},[M]);const S=(e,a)=>{C(i=>({...i,[e]:a}))};return y&&q?o.jsxDEV("div",{className:"flex items-center justify-center h-96",children:o.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-modern-primary"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:145,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:144,columnNumber:7},void 0):o.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[o.jsxDEV("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxDEV(t,{variant:"ghost",size:"sm",onClick:()=>P("/affiliate/partners"),children:[o.jsxDEV(m,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:158,columnNumber:11},void 0),"제휴사 목록"]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:153,columnNumber:9},void 0),o.jsxDEV("h1",{className:"text-2xl font-bold text-modern-text-primary",children:y?"제휴사 수정":"새 제휴사 추가"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:161,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:152,columnNumber:7},void 0),o.jsxDEV("form",{onSubmit:e=>{e.preventDefault(),y?H.mutate(w):R.mutate(w)},children:[o.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxDEV(d,{children:[o.jsxDEV(n,{children:[o.jsxDEV(f,{children:"기본 정보"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:171,columnNumber:15},void 0),o.jsxDEV(u,{children:"제휴사의 기본 정보를 입력하세요"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:172,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:170,columnNumber:13},void 0),o.jsxDEV(p,{className:"space-y-4",children:[o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"name",children:"이름 *"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:178,columnNumber:17},void 0),o.jsxDEV(b,{id:"name",value:w.name,onChange:e=>S("name",e.target.value),placeholder:"예: 김인플루언서",required:!0},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:179,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:177,columnNumber:15},void 0),o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"email",children:"이메일 *"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:189,columnNumber:17},void 0),o.jsxDEV(b,{id:"email",type:"email",value:w.email,onChange:e=>S("email",e.target.value),placeholder:"partner@example.com",required:!0},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:190,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:188,columnNumber:15},void 0),o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"website",children:"웹사이트"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:201,columnNumber:17},void 0),o.jsxDEV(b,{id:"website",type:"url",value:w.website,onChange:e=>S("website",e.target.value),placeholder:"https://example.com"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:202,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:200,columnNumber:15},void 0),o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"type",children:"제휴사 유형 *"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:212,columnNumber:17},void 0),o.jsxDEV(h,{value:w.type,onValueChange:e=>S("type",e),children:[o.jsxDEV(N,{children:o.jsxDEV(v,{},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:218,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:217,columnNumber:19},void 0),o.jsxDEV(x,{children:[o.jsxDEV(g,{value:"individual",children:"개인"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:221,columnNumber:21},void 0),o.jsxDEV(g,{value:"influencer",children:"인플루언서"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:222,columnNumber:21},void 0),o.jsxDEV(g,{value:"blog",children:"블로그"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:223,columnNumber:21},void 0),o.jsxDEV(g,{value:"business",children:"비즈니스"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:224,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:220,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:213,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:211,columnNumber:15},void 0),"business"===w.type&&o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"businessNumber",children:"사업자번호"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:231,columnNumber:19},void 0),o.jsxDEV(b,{id:"businessNumber",value:w.businessNumber,onChange:e=>S("businessNumber",e.target.value),placeholder:"123-45-67890"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:232,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:230,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:176,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:169,columnNumber:11},void 0),o.jsxDEV(d,{children:[o.jsxDEV(n,{children:[o.jsxDEV(f,{children:"수수료 및 결제"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:246,columnNumber:15},void 0),o.jsxDEV(u,{children:"수수료율과 결제 정보를 설정하세요"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:247,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:245,columnNumber:13},void 0),o.jsxDEV(p,{className:"space-y-4",children:[o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"commissionRate",children:"수수료율 (%) *"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:253,columnNumber:17},void 0),o.jsxDEV(b,{id:"commissionRate",type:"number",min:"0",max:"100",step:"0.1",value:w.commissionRate,onChange:e=>S("commissionRate",parseFloat(e.target.value)),required:!0},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:254,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:252,columnNumber:15},void 0),o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"paymentMethod",children:"결제 방법 *"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:267,columnNumber:17},void 0),o.jsxDEV(h,{value:w.paymentMethod,onValueChange:e=>S("paymentMethod",e),children:[o.jsxDEV(N,{children:o.jsxDEV(v,{},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:273,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:272,columnNumber:19},void 0),o.jsxDEV(x,{children:[o.jsxDEV(g,{value:"bank",children:"계좌이체"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:276,columnNumber:21},void 0),o.jsxDEV(g,{value:"paypal",children:"페이팔"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:277,columnNumber:21},void 0),"business"===w.type&&o.jsxDEV(g,{value:"invoice",children:"세금계산서"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:279,columnNumber:23},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:275,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:268,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:266,columnNumber:15},void 0),"bank"===w.paymentMethod&&o.jsxDEV(o.Fragment,{children:[o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"bankName",children:"은행명"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:288,columnNumber:21},void 0),o.jsxDEV(b,{id:"bankName",value:w.bankName,onChange:e=>S("bankName",e.target.value),placeholder:"예: 국민은행"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:289,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:287,columnNumber:19},void 0),o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"accountNumber",children:"계좌번호"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:297,columnNumber:21},void 0),o.jsxDEV(b,{id:"accountNumber",value:w.accountNumber,onChange:e=>S("accountNumber",e.target.value),placeholder:"123-456-789012"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:298,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:296,columnNumber:19},void 0),o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"accountHolder",children:"예금주"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:306,columnNumber:21},void 0),o.jsxDEV(b,{id:"accountHolder",value:w.accountHolder,onChange:e=>S("accountHolder",e.target.value),placeholder:"예금주명"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:307,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:305,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:286,columnNumber:17},void 0),"paypal"===w.paymentMethod&&o.jsxDEV("div",{children:[o.jsxDEV(c,{htmlFor:"paypalEmail",children:"페이팔 이메일"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:319,columnNumber:19},void 0),o.jsxDEV(b,{id:"paypalEmail",type:"email",value:w.paypalEmail,onChange:e=>S("paypalEmail",e.target.value),placeholder:"paypal@example.com"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:320,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:318,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:244,columnNumber:11},void 0),o.jsxDEV(d,{className:"lg:col-span-2",children:[o.jsxDEV(n,{children:[o.jsxDEV(f,{children:"추가 정보"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:335,columnNumber:15},void 0),o.jsxDEV(u,{children:"메모나 특이사항을 입력하세요"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:336,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:334,columnNumber:13},void 0),o.jsxDEV(p,{children:o.jsxDEV(F,{value:w.notes,onChange:e=>S("notes",e.target.value),placeholder:"제휴사에 대한 메모나 특이사항을 입력하세요...",rows:4},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:341,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:340,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:333,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:167,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsxDEV(t,{type:"button",variant:"outline",onClick:()=>P("/affiliate/partners"),children:"취소"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:353,columnNumber:11},void 0),o.jsxDEV(t,{type:"submit",disabled:R.isPending||H.isPending,children:[o.jsxDEV(s,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:364,columnNumber:13},void 0),y?"수정하기":"추가하기"]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:360,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:352,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:166,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/pages/affiliate/AffiliatePartnerForm.tsx",lineNumber:151,columnNumber:5},void 0)};export{P as default};
//# sourceMappingURL=AffiliatePartnerForm-KUHeRDub.js.map
