import{r as e,j as s,bh as t,bS as a,A as l,bg as r,bq as n}from"./vendor-react-BqkIXTmC.js";import"./vendor-monaco-BxJH8uUv.js";const i=()=>{const[i,d]=e.useState(""),[c,m]=e.useState(!1),[o,x]=e.useState(!1),[u,h]=e.useState("");return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(t,{className:"mx-auto h-12 w-12 text-green-500"}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"이메일을 확인해주세요"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"입력하신 이메일 주소로 비밀번호 재설정 링크를 보내드렸습니다."}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"메일이 도착하지 않았다면 스팸 폴더를 확인해주세요."})]}),s.jsxs("div",{className:"mt-8 space-y-3",children:[s.jsxs(a,{to:"/login",className:"group relative w-full flex justify-center items-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-admin-blue",children:[s.jsx(l,{className:"h-4 w-4 mr-2"}),"로그인 페이지로 돌아가기"]}),s.jsx("button",{onClick:()=>{x(!1),d("")},className:"w-full text-sm text-admin-blue hover:text-admin-blue-dark",children:"다른 이메일로 재시도"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"비밀번호 재설정"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["가입하신 이메일 주소를 입력하시면",s.jsx("br",{}),"비밀번호 재설정 링크를 보내드립니다."]})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{e.preventDefault(),h(""),m(!0);try{const e="https://api.neture.co.kr/api/v1",s=await fetch(`${e}/auth/v2/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),t=await s.json();s.ok?x(!0):h(t.error||"비밀번호 재설정 요청에 실패했습니다.")}catch(s){h("서버와의 연결에 실패했습니다. 잠시 후 다시 시도해주세요.")}finally{m(!1)}},children:[u&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(r,{className:"h-5 w-5 text-red-400"}),s.jsx("div",{className:"ml-3",children:s.jsx("h3",{className:"text-sm font-medium text-red-800",children:u})})]})}),s.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"이메일 주소"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(n,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:e=>d(e.target.value),className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-admin-blue focus:border-admin-blue focus:z-10 sm:text-sm",placeholder:"이메일 주소",disabled:c})]})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:c||!i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-admin-blue hover:bg-admin-blue-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-admin-blue disabled:opacity-50 disabled:cursor-not-allowed",children:c?s.jsx("span",{children:"처리 중..."}):s.jsx("span",{children:"비밀번호 재설정 링크 보내기"})})}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(a,{to:"/login",className:"text-sm text-admin-blue hover:text-admin-blue-dark",children:[s.jsx(l,{className:"inline h-4 w-4 mr-1"}),"로그인으로 돌아가기"]})})]})]})})};export{i as default};
