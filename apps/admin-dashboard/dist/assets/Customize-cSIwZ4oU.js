import{r as p,j as e,X as G,A as Tt,a3 as zt,a4 as Ft,E as ze,i as Fe,c as $t,cR as Et,ay as Re,Z as Bt,aU as Rt,l as Pt,K as It,Y as Me,R as A,cm as Pe,cn as ct,co as Ie,a9 as Dt,aa as At,bq as le,aY as $e,T as Lt,H as Ot,bZ as U,cS as Mt,z as _,cT as _t,aO as dt,ae as Ht,b0 as X,au as ut,aK as Wt,a as ee,by as _e,I as He,cU as Ut,cV as qt,P as Gt,C as Vt,aw as pt,cW as Kt,cX as Jt,m as We,aH as Yt,ag as Qt,cY as Zt,M as Xt,b2 as es,aP as Ue,bx as qe,bk as ts,u as ss}from"./vendor-react-P__8vGRG.js";import{L as as}from"./index-C0gS3Jf3.js";import{_ as os,c as Y,a as ht}from"./page-template-editor-BTdVTS-a.js";import{u as j}from"./unified-client-DYKT-pLO.js";import{d as rs}from"./vendor-query-CucHvDcH.js";import"./vendor-socket-DgcwqWsT.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-utils-dq2XMRwt.js";const ne=()=>({siteIdentity:{logo:{desktop:null,mobile:null,width:{desktop:200,tablet:180,mobile:150}},siteTitle:{show:!0,text:"O4O Platform",color:{normal:"#000000",hover:"#0073aa"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:30,tablet:26,mobile:22},fontWeight:700,lineHeight:{desktop:1.2,tablet:1.2,mobile:1.2},letterSpacing:{desktop:0,tablet:0,mobile:0},textTransform:"none"}},tagline:{show:!0,text:"Optimize for Online",color:{normal:"#666666",hover:"#333333"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:14,tablet:13,mobile:12},fontWeight:400,lineHeight:{desktop:1.5,tablet:1.5,mobile:1.5},letterSpacing:{desktop:0,tablet:0,mobile:0},textTransform:"none"}},favicon:null},colors:{primaryColor:"#0073aa",secondaryColor:"#ff6b6b",textColor:"#333333",linkColor:{normal:"#0073aa",hover:"#005177"},borderColor:"#dddddd",bodyBackground:"#ffffff",contentBackground:"#ffffff",palette:{color1:"#0073aa",color2:"#ff6b6b",color3:"#4ecdc4",color4:"#f7b731",color5:"#5f27cd",color6:"#00d2d3",color7:"#ff9ff3",color8:"#54a0ff",color9:"#48dbfb"}},typography:{bodyFont:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:16,tablet:15,mobile:14},fontWeight:400,lineHeight:{desktop:1.65,tablet:1.6,mobile:1.5},letterSpacing:{desktop:0,tablet:0,mobile:0},textTransform:"none"},headings:{h1:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:48,tablet:40,mobile:32},fontWeight:700,lineHeight:{desktop:1.2,tablet:1.3,mobile:1.4},letterSpacing:{desktop:-1,tablet:-.5,mobile:0},textTransform:"none"},h2:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:36,tablet:32,mobile:28},fontWeight:700,lineHeight:{desktop:1.3,tablet:1.3,mobile:1.4},letterSpacing:{desktop:-.5,tablet:0,mobile:0},textTransform:"none"},h3:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:28,tablet:24,mobile:22},fontWeight:600,lineHeight:{desktop:1.4,tablet:1.4,mobile:1.4},letterSpacing:{desktop:0,tablet:0,mobile:0},textTransform:"none"},h4:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:22,tablet:20,mobile:18},fontWeight:600,lineHeight:{desktop:1.4,tablet:1.4,mobile:1.5},letterSpacing:{desktop:0,tablet:0,mobile:0},textTransform:"none"},h5:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:18,tablet:17,mobile:16},fontWeight:600,lineHeight:{desktop:1.5,tablet:1.5,mobile:1.5},letterSpacing:{desktop:0,tablet:0,mobile:0},textTransform:"none"},h6:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:16,tablet:15,mobile:14},fontWeight:600,lineHeight:{desktop:1.5,tablet:1.5,mobile:1.5},letterSpacing:{desktop:0,tablet:0,mobile:0},textTransform:"none"}},button:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:{desktop:14,tablet:14,mobile:13},fontWeight:500,lineHeight:{desktop:1,tablet:1,mobile:1},letterSpacing:{desktop:.5,tablet:.5,mobile:.5},textTransform:"uppercase"}},container:{layout:"boxed",width:{desktop:1200,tablet:992,mobile:544},padding:{desktop:{top:0,right:20,bottom:0,left:20},tablet:{top:0,right:20,bottom:0,left:20},mobile:{top:0,right:15,bottom:0,left:15}},margin:{desktop:{top:0,bottom:0},tablet:{top:0,bottom:0},mobile:{top:0,bottom:0}}},sidebar:{layout:"right-sidebar",width:{desktop:30,tablet:30,mobile:100},gap:{desktop:30,tablet:30,mobile:30}},header:{layout:"header-main-layout-1",sticky:!1,transparentHeader:!1,above:{enabled:!1,height:{desktop:40,tablet:40,mobile:40},background:"#f5f5f5",content:["menu","search"]},primary:{height:{desktop:80,tablet:70,mobile:60},background:"#ffffff",menuAlignment:"right"},below:{enabled:!1,height:{desktop:50,tablet:50,mobile:50},background:"#f5f5f5",content:["breadcrumb"]}},footer:{layout:"footer-layout-1",widgets:{enabled:!0,columns:{desktop:4,tablet:2,mobile:1},background:"#333333",textColor:"#ffffff",linkColor:{normal:"#ffffff",hover:"#0073aa"},padding:{desktop:{top:60,bottom:60},tablet:{top:50,bottom:50},mobile:{top:40,bottom:40}}},bottomBar:{enabled:!0,layout:"layout-1",section1:"© 2025 O4O Platform. All rights reserved.",section2:"",background:"#1a1a1a",textColor:"#999999",linkColor:{normal:"#999999",hover:"#ffffff"},padding:{desktop:{top:20,bottom:20},tablet:{top:20,bottom:20},mobile:{top:15,bottom:15}}}},blog:{archive:{layout:"blog-layout-1",columns:{desktop:3,tablet:2,mobile:1},contentWidth:"default",showFeaturedImage:!0,imagePosition:"top",imageSize:"medium",meta:{showAuthor:!0,showDate:!0,showCategory:!0,showComments:!1,showReadTime:!0},excerpt:{length:150,readMoreText:"Read More"}},single:{layout:"default",showFeaturedImage:!0,showBreadcrumb:!0,showPostNavigation:!0,showAuthorBox:!0,showRelatedPosts:!0,relatedPostsCount:3,meta:{showAuthor:!0,showDate:!0,showCategory:!0,showTags:!0,showComments:!0,showReadTime:!0}}},customCSS:"",_meta:{version:"1.0.0",lastModified:new Date().toISOString(),isDirty:!1}}),ns=Object.freeze(Object.defineProperty({__proto__:null,getDefaultSettings:ne},Symbol.toStringTag,{value:"Module"}));function ce(a){return a&&typeof a=="object"&&!Array.isArray(a)}function ie(a,t){const s={...a};return ce(a)&&ce(t)&&Object.keys(t).forEach(r=>{ce(t[r])?r in a?s[r]=ie(a[r]||{},t[r]||{}):Object.assign(s,{[r]:t[r]}):Object.assign(s,{[r]:t[r]})}),s}function is(a,t){return t.reduce((s,r)=>s?.[r],a)}function Ee(a,t){if(a===t)return!0;if(a==null||t==null||typeof a!=typeof t)return!1;if(typeof a!="object")return a===t;if(Array.isArray(a)!==Array.isArray(t))return!1;if(Array.isArray(a))return a.length!==t.length?!1:a.every((n,i)=>Ee(n,t[i]));const s=Object.keys(a),r=Object.keys(t);return s.length!==r.length?!1:s.every(n=>Ee(a[n],t[n]))}function Be(a){const t=[];return t.push(":root {"),t.push(...ls(a)),t.push(...cs(a)),t.push(...ds(a)),t.push("}"),t.push(...us(a)),t.push(...ps(a)),t.push(...hs(a)),t.push(...ms(a)),t.push(...gs(a)),t.push(...bs(a)),a.customCSS&&t.push(a.customCSS),t.join(`
`)}function ls(a){const t=[],{colors:s}=a;return t.push(`  --ast-primary-color: ${s.primaryColor};`),t.push(`  --ast-secondary-color: ${s.secondaryColor};`),t.push(`  --ast-text-color: ${s.textColor};`),t.push(`  --ast-link-color: ${s.linkColor.normal};`),t.push(`  --ast-link-hover-color: ${s.linkColor.hover||s.linkColor.normal};`),t.push(`  --ast-border-color: ${s.borderColor};`),t.push(`  --ast-body-bg: ${s.bodyBackground};`),t.push(`  --ast-content-bg: ${s.contentBackground};`),Object.entries(s.palette).forEach(([r,n])=>{t.push(`  --ast-palette-${r}: ${n};`)}),t}function cs(a){const t=[],{typography:s}=a;return t.push(`  --ast-body-font-family: ${s.bodyFont.fontFamily};`),t.push(`  --ast-body-font-weight: ${s.bodyFont.fontWeight};`),t.push(`  --ast-body-text-transform: ${s.bodyFont.textTransform};`),t.push(`  --ast-button-font-family: ${s.button.fontFamily};`),t.push(`  --ast-button-font-weight: ${s.button.fontWeight};`),t.push(`  --ast-button-text-transform: ${s.button.textTransform};`),t}function ds(a){const t=[],{container:s,sidebar:r}=a;return t.push(`  --ast-container-width-desktop: ${s.width.desktop}px;`),t.push(`  --ast-container-width-tablet: ${s.width.tablet}px;`),t.push(`  --ast-container-width-mobile: ${s.width.mobile}px;`),t.push(`  --ast-sidebar-width-desktop: ${r.width.desktop}%;`),t.push(`  --ast-sidebar-width-tablet: ${r.width.tablet}%;`),t.push(`  --ast-sidebar-width-mobile: ${r.width.mobile}%;`),t.push(`  --ast-sidebar-gap: ${r.gap.desktop}px;`),t}function us(a){const t=[],{typography:s,container:r}=a;return t.push("body {"),t.push(`  font-family: ${s.bodyFont.fontFamily};`),t.push(`  font-size: ${s.bodyFont.fontSize.desktop}px;`),t.push(`  font-weight: ${s.bodyFont.fontWeight};`),t.push(`  line-height: ${s.bodyFont.lineHeight.desktop};`),t.push(`  letter-spacing: ${s.bodyFont.letterSpacing.desktop}px;`),t.push("  color: var(--ast-text-color);"),t.push("  background-color: var(--ast-body-bg);"),t.push("}"),["h1","h2","h3","h4","h5","h6"].forEach(n=>{const i=s.headings[n];t.push(`${n} {`),t.push(`  font-family: ${i.fontFamily};`),t.push(`  font-size: ${i.fontSize.desktop}px;`),t.push(`  font-weight: ${i.fontWeight};`),t.push(`  line-height: ${i.lineHeight.desktop};`),t.push(`  letter-spacing: ${i.letterSpacing.desktop}px;`),t.push(`  text-transform: ${i.textTransform};`),t.push("}")}),t.push("a {"),t.push("  color: var(--ast-link-color);"),t.push("  text-decoration: none;"),t.push("  transition: color 0.2s;"),t.push("}"),t.push("a:hover {"),t.push("  color: var(--ast-link-hover-color);"),t.push("}"),t.push("@media (max-width: 992px) {"),t.push("  body {"),t.push(`    font-size: ${s.bodyFont.fontSize.tablet}px;`),t.push(`    line-height: ${s.bodyFont.lineHeight.tablet};`),t.push("  }"),["h1","h2","h3","h4","h5","h6"].forEach(n=>{const i=s.headings[n];t.push(`  ${n} {`),t.push(`    font-size: ${i.fontSize.tablet}px;`),t.push(`    line-height: ${i.lineHeight.tablet};`),t.push("  }")}),t.push("}"),t.push("@media (max-width: 576px) {"),t.push("  body {"),t.push(`    font-size: ${s.bodyFont.fontSize.mobile}px;`),t.push(`    line-height: ${s.bodyFont.lineHeight.mobile};`),t.push("  }"),["h1","h2","h3","h4","h5","h6"].forEach(n=>{const i=s.headings[n];t.push(`  ${n} {`),t.push(`    font-size: ${i.fontSize.mobile}px;`),t.push(`    line-height: ${i.lineHeight.mobile};`),t.push("  }")}),t.push("}"),t}function ps(a){const t=[],{header:s,siteIdentity:r}=a;return t.push(".ast-header {"),t.push(`  background: ${s.primary.background};`),t.push(`  height: ${s.primary.height.desktop}px;`),s.sticky&&(t.push("  position: sticky;"),t.push("  top: 0;"),t.push("  z-index: 999;")),t.push("}"),r.siteTitle.show&&(t.push(".site-title {"),t.push(`  color: ${r.siteTitle.color.normal};`),t.push(`  font-family: ${r.siteTitle.typography.fontFamily};`),t.push(`  font-size: ${r.siteTitle.typography.fontSize.desktop}px;`),t.push(`  font-weight: ${r.siteTitle.typography.fontWeight};`),t.push("}"),t.push(".site-title:hover {"),t.push(`  color: ${r.siteTitle.color.hover};`),t.push("}")),r.logo.desktop&&(t.push(".site-logo img {"),t.push(`  max-width: ${r.logo.width.desktop}px;`),t.push("}")),t.push(".ast-primary-menu {"),t.push(`  text-align: ${s.primary.menuAlignment};`),t.push("}"),t}function hs(a){const t=[],{footer:s}=a;return s.widgets.enabled&&(t.push(".ast-footer-widgets {"),t.push(`  background: ${s.widgets.background};`),t.push(`  color: ${s.widgets.textColor};`),t.push(`  padding-top: ${s.widgets.padding.desktop.top}px;`),t.push(`  padding-bottom: ${s.widgets.padding.desktop.bottom}px;`),t.push("}"),t.push(".ast-footer-widgets a {"),t.push(`  color: ${s.widgets.linkColor.normal};`),t.push("}"),t.push(".ast-footer-widgets a:hover {"),t.push(`  color: ${s.widgets.linkColor.hover};`),t.push("}"),t.push(".ast-footer-widget-area {"),t.push("  display: grid;"),t.push(`  grid-template-columns: repeat(${s.widgets.columns.desktop}, 1fr);`),t.push("  gap: 30px;"),t.push("}")),s.bottomBar.enabled&&(t.push(".ast-footer-bottom {"),t.push(`  background: ${s.bottomBar.background};`),t.push(`  color: ${s.bottomBar.textColor};`),t.push(`  padding-top: ${s.bottomBar.padding.desktop.top}px;`),t.push(`  padding-bottom: ${s.bottomBar.padding.desktop.bottom}px;`),t.push("}"),t.push(".ast-footer-bottom a {"),t.push(`  color: ${s.bottomBar.linkColor.normal};`),t.push("}"),t.push(".ast-footer-bottom a:hover {"),t.push(`  color: ${s.bottomBar.linkColor.hover};`),t.push("}")),t}function ms(a){const t=[],{container:s}=a;return t.push(".ast-container {"),s.layout==="boxed"?(t.push(`  max-width: ${s.width.desktop}px;`),t.push("  margin: 0 auto;")):s.layout==="full-width"?(t.push("  width: 100%;"),t.push("  max-width: 100%;")):s.layout==="fluid"&&(t.push("  width: 100%;"),t.push(`  max-width: ${s.width.desktop}px;`),t.push("  margin: 0 auto;")),t.push(`  padding-left: ${s.padding.desktop.left}px;`),t.push(`  padding-right: ${s.padding.desktop.right}px;`),t.push("}"),t.push("@media (max-width: 992px) {"),t.push("  .ast-container {"),t.push(`    max-width: ${s.width.tablet}px;`),t.push(`    padding-left: ${s.padding.tablet.left}px;`),t.push(`    padding-right: ${s.padding.tablet.right}px;`),t.push("  }"),t.push("}"),t.push("@media (max-width: 576px) {"),t.push("  .ast-container {"),t.push(`    max-width: ${s.width.mobile}px;`),t.push(`    padding-left: ${s.padding.mobile.left}px;`),t.push(`    padding-right: ${s.padding.mobile.right}px;`),t.push("  }"),t.push("}"),t}function gs(a){const t=[],{sidebar:s}=a;return s.layout!=="no-sidebar"&&(t.push(".ast-content-area {"),t.push("  display: flex;"),t.push(`  gap: ${s.gap.desktop}px;`),t.push("}"),t.push(".ast-primary-content {"),t.push(`  flex: 1 1 ${100-s.width.desktop}%;`),t.push("}"),t.push(".ast-sidebar {"),t.push(`  flex: 0 0 ${s.width.desktop}%;`),t.push("}"),s.layout==="left-sidebar"&&(t.push(".ast-sidebar {"),t.push("  order: -1;"),t.push("}")),t.push("@media (max-width: 768px) {"),t.push("  .ast-content-area {"),t.push("    flex-direction: column;"),t.push("  }"),t.push("  .ast-sidebar {"),t.push("    flex: 0 0 100%;"),t.push("  }"),t.push("}")),t}function bs(a){const t=[],{blog:s}=a;return t.push(".ast-blog-archive {"),t.push("  display: grid;"),t.push(`  grid-template-columns: repeat(${s.archive.columns.desktop}, 1fr);`),t.push("  gap: 30px;"),t.push("}"),t.push("@media (max-width: 992px) {"),t.push("  .ast-blog-archive {"),t.push(`    grid-template-columns: repeat(${s.archive.columns.tablet}, 1fr);`),t.push("  }"),t.push("}"),t.push("@media (max-width: 576px) {"),t.push("  .ast-blog-archive {"),t.push(`    grid-template-columns: repeat(${s.archive.columns.mobile}, 1fr);`),t.push("  }"),t.push("}"),s.single.layout==="narrow"&&(t.push(".ast-single-post {"),t.push("  max-width: 720px;"),t.push("  margin: 0 auto;"),t.push("}")),t.push(".ast-excerpt {"),t.push("  display: -webkit-box;"),t.push(`  -webkit-line-clamp: ${Math.floor(s.archive.excerpt.length/50)};`),t.push("  -webkit-box-orient: vertical;"),t.push("  overflow: hidden;"),t.push("}"),t}const mt=p.createContext(void 0),fs=(a,t)=>{switch(t.type){case"UPDATE_SETTING":{const s={...a.settings};if(t.path&&t.path.length>0){let r=s[t.section];for(let n=0;n<t.path.length-1;n++)r=r[t.path[n]];r[t.path[t.path.length-1]]=t.value}else s[t.section]=ie(s[t.section],t.value);return s._meta={...s._meta,lastModified:new Date().toISOString(),isDirty:!0},{...a,settings:s,isDirty:!0,saveStatus:"unsaved"}}case"SET_SETTINGS":return{...a,settings:t.settings,isDirty:!1,saveStatus:"saved"};case"SET_PREVIEW_DEVICE":return{...a,previewDevice:t.device};case"SET_SAVE_STATUS":return{...a,saveStatus:t.status};case"SET_ACTIVE_SECTION":return{...a,activeSection:t.section};case"SET_PREVIEW_URL":return{...a,previewUrl:t.url};case"MARK_DIRTY":return{...a,isDirty:t.isDirty};case"ADD_TO_HISTORY":{const s=a.history.slice(0,a.historyIndex+1);return s.push(t.settings),s.length>50&&s.shift(),{...a,history:s,historyIndex:s.length-1}}case"UNDO":{if(a.historyIndex>0){const s=a.historyIndex-1;return{...a,settings:a.history[s],historyIndex:s,isDirty:!0,saveStatus:"unsaved"}}return a}case"REDO":{if(a.historyIndex<a.history.length-1){const s=a.historyIndex+1;return{...a,settings:a.history[s],historyIndex:s,isDirty:!0,saveStatus:"unsaved"}}return a}case"RESET_TO_DEFAULT":{const s=ne();return{...a,settings:s,isDirty:!0,saveStatus:"unsaved",history:[s],historyIndex:0}}default:return a}},xs=({children:a,initialSettings:t,previewUrl:s="/",eventHandlers:r})=>{const n=ne(),i=t?ie(n,t):n,[l,o]=p.useReducer(fs,{settings:i,previewDevice:"desktop",saveStatus:"saved",activeSection:null,previewUrl:s,isDirty:!1,history:[i],historyIndex:0}),c=p.useRef(null),d=p.useRef(l.settings),g=p.useCallback((x,y,b)=>{o({type:"UPDATE_SETTING",section:x,value:y,path:b}),setTimeout(()=>{d.current!==l.settings&&(o({type:"ADD_TO_HISTORY",settings:l.settings}),d.current=l.settings)},500),x==="siteIdentity"&&b&&b[0]==="logo"&&setTimeout(()=>{const m=document.getElementById("customizer-preview-iframe");m?.contentWindow&&m.contentWindow.postMessage({type:"update-logo",settings:l.settings},"*")},100),r?.onSettingChange?.(x,y)},[l.settings,r]);p.useEffect(()=>{const x=y=>{if(y.data.type==="preview-ready"&&c.current?.contentWindow){const b=Be(l.settings);c.current.contentWindow.postMessage({type:"setting-change",payload:{settings:l.settings,css:b}},"*")}};return window.addEventListener("message",x),()=>window.removeEventListener("message",x)},[l.settings]),p.useEffect(()=>{if(c.current?.contentWindow){const x=Be(l.settings);c.current.contentWindow.postMessage({type:"setting-change",payload:{settings:l.settings,css:x}},"*")}},[l.settings]);const v=p.useCallback(async()=>{o({type:"SET_SAVE_STATUS",status:"saving"});try{await r?.onSave?.(l.settings),o({type:"SET_SAVE_STATUS",status:"saved"}),o({type:"MARK_DIRTY",isDirty:!1})}catch{o({type:"SET_SAVE_STATUS",status:"error"})}},[l.settings,r]),f=p.useCallback(async()=>{o({type:"SET_SAVE_STATUS",status:"saving"});try{await v(),await r?.onPublish?.(l.settings),o({type:"SET_SAVE_STATUS",status:"saved"}),o({type:"MARK_DIRTY",isDirty:!1})}catch{o({type:"SET_SAVE_STATUS",status:"error"})}},[v]),k={state:l,updateSetting:g,setSettings:x=>o({type:"SET_SETTINGS",settings:x}),setPreviewDevice:x=>{o({type:"SET_PREVIEW_DEVICE",device:x}),r?.onDeviceChange?.(x)},setActiveSection:x=>o({type:"SET_ACTIVE_SECTION",section:x}),setPreviewUrl:x=>o({type:"SET_PREVIEW_URL",url:x}),saveSettings:v,resetSettings:()=>{o({type:"RESET_TO_DEFAULT"}),r?.onReset?.()},publishSettings:f,undo:()=>o({type:"UNDO"}),redo:()=>o({type:"REDO"}),canUndo:l.historyIndex>0,canRedo:l.historyIndex<l.history.length-1,eventHandlers:r};return p.useEffect(()=>{const x=document.querySelector("#customizer-preview-iframe");x&&(c.current=x)},[]),e.jsx(mt.Provider,{value:k,children:a})},Q=()=>{const a=p.useContext(mt);if(!a)throw new Error("useCustomizer must be used within CustomizerProvider");return a};function V(a={}){const{debounceMs:t=500,autoSave:s=!1,autoSaveInterval:r=6e4}=a,{state:n,updateSetting:i,setPreviewDevice:l,saveSettings:o,resetSettings:c,undo:d,redo:g,canUndo:v,canRedo:f}=Q(),[k,x]=p.useState(null),[y,b]=p.useState(!1),m=p.useRef(),u=p.useRef(),N=p.useRef(n.settings),w=p.useCallback((B,T,O)=>{m.current&&clearTimeout(m.current),i(B,T,O),s&&(m.current=setTimeout(async()=>{b(!0);try{await o(),x(new Date)}finally{b(!1)}},t))},[i,o,s,t]),S=p.useCallback((B,T)=>{const O=n.settings[B];return T&&T.length>0?is(O,T):O},[n.settings]),z=p.useCallback(B=>{os(async()=>{const{getDefaultSettings:T}=await Promise.resolve().then(()=>ns);return{getDefaultSettings:T}},void 0).then(({getDefaultSettings:T})=>{const O=T();i(B,O[B])})},[i]),L=p.useCallback(()=>{c()},[c]);return p.useEffect(()=>{if(s&&n.isDirty)return u.current&&clearTimeout(u.current),u.current=setTimeout(async()=>{if(n.isDirty){b(!0);try{await o(),x(new Date)}finally{b(!1)}}},r),()=>{u.current&&clearTimeout(u.current)}},[s,r,n.isDirty,o]),p.useEffect(()=>{Ee(N.current,n.settings)||(N.current=n.settings)},[n.settings]),p.useEffect(()=>()=>{m.current&&clearTimeout(m.current),u.current&&clearTimeout(u.current)},[]),{settings:n.settings,updateSetting:w,getSetting:S,resetSection:z,resetAll:L,isDirty:n.isDirty,isSaving:y,lastSaved:k,previewDevice:n.previewDevice,setPreviewDevice:l,undo:d,redo:g,canUndo:v,canRedo:f}}const ys=({onClose:a,siteName:t="O4O Platform"})=>{const{state:s,saveSettings:r,publishSettings:n}=Q(),{isDirty:i,isSaving:l,undo:o,redo:c,canUndo:d,canRedo:g}=V(),v=()=>{i&&!window.confirm("변경사항이 저장되지 않았습니다. 종료하시겠습니까?")||a()},f=async()=>{await r()},k=async()=>{await n(),a()};return e.jsxs("header",{className:"wp-customizer-header",children:[e.jsxs("div",{className:"wp-customizer-title",children:[e.jsx("button",{onClick:a,className:"wp-customizer-close",title:"Close Customizer",children:e.jsx(G,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{children:"Customizing"}),e.jsx("span",{className:"wp-customizer-site-name",children:t})]})]}),e.jsxs("div",{className:"wp-customizer-actions",children:[e.jsxs("button",{onClick:v,className:"wp-button wp-button-secondary",title:"관리자로 돌아가기",children:[e.jsx(Tt,{size:16,style:{marginRight:4}}),"관리자로 돌아가기"]}),e.jsxs("div",{className:"wp-customizer-history",children:[e.jsx("button",{onClick:o,disabled:!d,className:"wp-button-icon",title:"Undo",children:e.jsx(zt,{size:16})}),e.jsx("button",{onClick:c,disabled:!g,className:"wp-button-icon",title:"Redo",children:e.jsx(Ft,{size:16})})]}),e.jsxs("a",{href:s.previewUrl,target:"_blank",rel:"noopener noreferrer",className:"wp-button wp-button-secondary",title:"Preview in new tab",children:[e.jsx(ze,{size:16,style:{marginRight:4}}),"Preview"]}),i&&e.jsx("span",{className:"wp-customizer-status",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{size:14,className:"spin"}),"Saving..."]}):e.jsx("span",{className:"unsaved",children:"Unsaved changes"})}),e.jsxs("button",{onClick:f,disabled:!i||l,className:"wp-button wp-button-secondary",children:[e.jsx($t,{size:16,style:{marginRight:4}}),"Save Draft"]}),e.jsx("button",{onClick:k,disabled:l,className:"wp-customizer-publish",children:l?"Publishing...":"Publish"})]})]})};var de,Ge;function gt(){if(Ge)return de;Ge=1;function a(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}return de=a,de}var ue,Ve;function vs(){if(Ve)return ue;Ve=1;var a=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;return ue=a,ue}var pe,Ke;function bt(){if(Ke)return pe;Ke=1;var a=vs(),t=typeof self=="object"&&self&&self.Object===Object&&self,s=a||t||Function("return this")();return pe=s,pe}var he,Je;function js(){if(Je)return he;Je=1;var a=bt(),t=function(){return a.Date.now()};return he=t,he}var me,Ye;function ws(){if(Ye)return me;Ye=1;var a=/\s/;function t(s){for(var r=s.length;r--&&a.test(s.charAt(r)););return r}return me=t,me}var ge,Qe;function Ns(){if(Qe)return ge;Qe=1;var a=ws(),t=/^\s+/;function s(r){return r&&r.slice(0,a(r)+1).replace(t,"")}return ge=s,ge}var be,Ze;function ft(){if(Ze)return be;Ze=1;var a=bt(),t=a.Symbol;return be=t,be}var fe,Xe;function ks(){if(Xe)return fe;Xe=1;var a=ft(),t=Object.prototype,s=t.hasOwnProperty,r=t.toString,n=a?a.toStringTag:void 0;function i(l){var o=s.call(l,n),c=l[n];try{l[n]=void 0;var d=!0}catch{}var g=r.call(l);return d&&(o?l[n]=c:delete l[n]),g}return fe=i,fe}var xe,et;function Ss(){if(et)return xe;et=1;var a=Object.prototype,t=a.toString;function s(r){return t.call(r)}return xe=s,xe}var ye,tt;function Cs(){if(tt)return ye;tt=1;var a=ft(),t=ks(),s=Ss(),r="[object Null]",n="[object Undefined]",i=a?a.toStringTag:void 0;function l(o){return o==null?o===void 0?n:r:i&&i in Object(o)?t(o):s(o)}return ye=l,ye}var ve,st;function Ts(){if(st)return ve;st=1;function a(t){return t!=null&&typeof t=="object"}return ve=a,ve}var je,at;function zs(){if(at)return je;at=1;var a=Cs(),t=Ts(),s="[object Symbol]";function r(n){return typeof n=="symbol"||t(n)&&a(n)==s}return je=r,je}var we,ot;function Fs(){if(ot)return we;ot=1;var a=Ns(),t=gt(),s=zs(),r=NaN,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=parseInt;function c(d){if(typeof d=="number")return d;if(s(d))return r;if(t(d)){var g=typeof d.valueOf=="function"?d.valueOf():d;d=t(g)?g+"":g}if(typeof d!="string")return d===0?d:+d;d=a(d);var v=i.test(d);return v||l.test(d)?o(d.slice(2),v?2:8):n.test(d)?r:+d}return we=c,we}var Ne,rt;function $s(){if(rt)return Ne;rt=1;var a=gt(),t=js(),s=Fs(),r="Expected a function",n=Math.max,i=Math.min;function l(o,c,d){var g,v,f,k,x,y,b=0,m=!1,u=!1,N=!0;if(typeof o!="function")throw new TypeError(r);c=s(c)||0,a(d)&&(m=!!d.leading,u="maxWait"in d,f=u?n(s(d.maxWait)||0,c):f,N="trailing"in d?!!d.trailing:N);function w(C){var E=g,J=v;return g=v=void 0,b=C,k=o.apply(J,E),k}function S(C){return b=C,x=setTimeout(B,c),m?w(C):k}function z(C){var E=C-y,J=C-b,te=c-E;return u?i(te,f-J):te}function L(C){var E=C-y,J=C-b;return y===void 0||E>=c||E<0||u&&J>=f}function B(){var C=t();if(L(C))return T(C);x=setTimeout(B,z(C))}function T(C){return x=void 0,N&&g?w(C):(g=v=void 0,k)}function O(){x!==void 0&&clearTimeout(x),b=0,g=y=v=x=void 0}function K(){return x===void 0?k:T(t())}function W(){var C=t(),E=L(C);if(g=arguments,v=this,y=C,E){if(x===void 0)return S(y);if(u)return clearTimeout(x),x=setTimeout(B,c),w(y)}return x===void 0&&(x=setTimeout(B,c)),k}return W.cancel=O,W.flush=K,W}return Ne=l,Ne}var Es=$s();const xt=Et(Es),nt=[{id:"siteIdentity",title:"Site Identity",description:"Logo, Site Title & Tagline",keywords:["logo","title","tagline","brand","identity","site name","favicon","icon"],category:"global",path:["Site Identity"],popularity:95},{id:"colors",title:"Colors",description:"Base colors, Link colors, Background",keywords:["color","theme","palette","background","text","link","accent","primary","secondary"],category:"global",path:["Global","Colors"],popularity:90},{id:"typography",title:"Typography",description:"Body, Headings, Buttons",keywords:["font","text","heading","h1","h2","h3","paragraph","size","weight","family"],category:"global",path:["Global","Typography"],popularity:85},{id:"container",title:"Container",description:"Layout width and spacing",keywords:["width","container","layout","spacing","padding","margin","boxed","fullwidth"],category:"layout",path:["Global","Container"],popularity:70},{id:"header",title:"Header",description:"Site header layout and styling",keywords:["header","navigation","menu","top","sticky","transparent","navbar"],category:"header",path:["Header"],popularity:88},{id:"footer",title:"Footer",description:"Site footer layout and styling",keywords:["footer","bottom","widgets","copyright","credits","social"],category:"footer",path:["Footer"],popularity:75},{id:"sidebar",title:"Sidebar",description:"Sidebar layout and position",keywords:["sidebar","widget","aside","left","right","position"],category:"layout",path:["Sidebar"],popularity:65},{id:"blog",title:"Blog",description:"Blog archive and single post settings",keywords:["blog","post","article","archive","category","tag","excerpt","author"],category:"content",path:["Blog"],popularity:80}],Bs=({onSelect:a,className:t=""})=>{const[s,r]=p.useState(""),[n,i]=p.useState(!1),[l,o]=p.useState(0),[c,d]=p.useState([]),g=p.useRef(null),v=p.useMemo(()=>xt(y=>{r(y)},150),[]),f=p.useMemo(()=>{if(!s.trim())return nt.sort((m,u)=>(u.popularity||0)-(m.popularity||0)).slice(0,5);const y=s.toLowerCase(),b=y.split(" ").filter(m=>m.length>0);return nt.map(m=>{let u=0;return m.title.toLowerCase()===y&&(u+=100),m.title.toLowerCase().includes(y)&&(u+=50),m.description.toLowerCase().includes(y)&&(u+=30),b.forEach(N=>{m.keywords.forEach(w=>{w.toLowerCase().includes(N)&&(u+=20)})}),u+=(m.popularity||0)/10,{...m,score:u}}).filter(m=>m.score>0).sort((m,u)=>u.score-m.score).slice(0,8)},[s]);p.useEffect(()=>{const y=b=>{if(n)switch(b.key){case"ArrowDown":b.preventDefault(),o(m=>m<f.length-1?m+1:0);break;case"ArrowUp":b.preventDefault(),o(m=>m>0?m-1:f.length-1);break;case"Enter":b.preventDefault(),f[l]&&k(f[l].id);break;case"Escape":i(!1),g.current?.blur();break}};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n,f,l]);const k=y=>{const b=[s,...c.filter(m=>m!==s)].slice(0,5);d(b),r(""),i(!1),a(y)},x=(y,b)=>{if(!b)return y;const m=new RegExp(`(${b})`,"gi"),u=y.split(m);return e.jsx(e.Fragment,{children:Array.isArray(u)&&u.map((N,w)=>m.test(N)?e.jsx("mark",{className:"wp-customizer-search-highlight",children:N},w):N)})};return e.jsxs("div",{className:`wp-customizer-enhanced-search ${t}`,children:[e.jsxs("div",{className:"wp-customizer-search-input-wrapper",children:[e.jsx(Re,{className:"wp-customizer-search-icon",size:16}),e.jsx("input",{ref:g,type:"text",placeholder:"Search settings... (Ctrl+F)",value:s,onChange:y=>{r(y.target.value),v(y.target.value)},onFocus:()=>i(!0),className:"wp-customizer-search-input"}),s&&e.jsx("button",{onClick:()=>{r(""),g.current?.focus()},className:"wp-customizer-search-clear",children:e.jsx(G,{size:14})})]}),n&&e.jsxs("div",{className:"wp-customizer-search-dropdown",children:[!s&&c.length>0&&e.jsxs("div",{className:"wp-customizer-search-section",children:[e.jsxs("h4",{children:[e.jsx(Bt,{size:14}),"Recent Searches"]}),e.jsx("ul",{children:Array.isArray(c)&&c.map((y,b)=>e.jsx("li",{onClick:()=>{r(y),v(y)},children:y},b))})]}),!s&&e.jsx("div",{className:"wp-customizer-search-section",children:e.jsxs("h4",{children:[e.jsx(Rt,{size:14}),"Popular Settings"]})}),Array.isArray(f)&&f.length>0?e.jsx("ul",{className:"wp-customizer-search-results",children:f.map((y,b)=>e.jsx("li",{className:`wp-customizer-search-result ${b===l?"selected":""}`,onClick:()=>k(y.id),onMouseEnter:()=>o(b),children:e.jsxs("div",{className:"wp-customizer-search-result-content",children:[e.jsx("h5",{children:x(y.title,s)}),e.jsx("p",{children:x(y.description,s)}),e.jsxs("div",{className:"wp-customizer-search-result-meta",children:[e.jsx("span",{className:"wp-customizer-search-path",children:y.path.join(" › ")}),Array.isArray(y.keywords)&&y.keywords.slice(0,3).map(m=>e.jsxs("span",{className:"wp-customizer-search-tag",children:[e.jsx(Pt,{size:10}),m]},m))]})]})},y.id))}):s?e.jsxs("div",{className:"wp-customizer-search-empty",children:[e.jsxs("p",{children:['No settings found for "',s,'"']}),e.jsx("p",{className:"wp-customizer-search-hint",children:"Try searching for: colors, typography, header, footer"})]}):null]})]})},oe=[{id:"siteIdentity",title:"Site Identity",description:"Logo, Site Title & Tagline"},{id:"colors",title:"Global",children:[{id:"colors",title:"Colors",description:"Base colors, Link colors, Background"},{id:"typography",title:"Typography",description:"Body, Headings, Buttons"},{id:"container",title:"Container",description:"Layout width and spacing"}]},{id:"header",title:"Header",description:"Site header layout and styling",children:[{id:"header",title:"Header Builder",description:"Drag & drop header elements"}]},{id:"footer",title:"Footer",description:"Site footer layout and styling",children:[{id:"footer",title:"Footer Builder",description:"Widgets and bottom bar"}]},{id:"sidebar",title:"Sidebar",description:"Sidebar layout and position"},{id:"blog",title:"Blog",description:"Blog archive and single post settings"}],Rs=({activePanel:a,onPanelSelect:t})=>{const{state:s,setActiveSection:r}=Q(),[n,i]=p.useState([]),[l,o]=p.useState(""),[c,d]=p.useState("main"),[g,v]=p.useState(null),f=u=>{i(N=>N.includes(u)?N.filter(w=>w!==u):[...N,u])},k=u=>{u.children&&u.children.length>0?f(u.id):(v(u.id),d("section"),r(u.id),t(u.id))},x=()=>{d("main"),v(null),r(null)},y=u=>l?u.filter(N=>{const w=N.title.toLowerCase().includes(l.toLowerCase())||N.description?.toLowerCase().includes(l.toLowerCase());if(N.children){const S=y(N.children);return w||S.length>0}return w}):u,b=y(oe),m=(u,N=0)=>{const w=n.includes(u.id),S=u.children&&u.children.length>0,z=a===u.id;return e.jsxs("div",{className:"wp-customizer-panel-wrapper",children:[e.jsxs("div",{className:`wp-customizer-panel ${z?"active":""} level-${N}`,onClick:()=>k(u),style:{paddingLeft:`${20+N*15}px`},children:[e.jsxs("div",{className:"wp-customizer-panel-content",children:[e.jsx("h3",{className:"wp-customizer-panel-title",children:u.title}),u.description&&e.jsx("p",{className:"wp-customizer-panel-description",children:u.description})]}),S&&e.jsx("span",{className:"wp-customizer-panel-arrow",children:w?e.jsx(Me,{size:16}):e.jsx(Me,{size:16})})]}),S&&w&&e.jsx("div",{className:"wp-customizer-subpanels",children:Array.isArray(u.children)&&u.children.map(L=>m(L,N+1))})]},u.id)};if(c==="section"&&g){const u=Array.isArray(oe)?oe.find(N=>N.id===g)||oe.flatMap(N=>N.children||[]).find(N=>N.id===g):void 0;return e.jsxs("div",{className:"wp-customizer-sidebar",children:[e.jsxs("div",{className:"wp-customizer-section-header",children:[e.jsxs("button",{onClick:x,className:"wp-customizer-back-button",children:[e.jsx(It,{size:20}),e.jsx("span",{children:"Customizing"})]}),e.jsx("h2",{children:u?.title})]}),e.jsx("div",{className:"wp-customizer-section-content",children:e.jsx("div",{className:"wp-customizer-section-placeholder",children:e.jsxs("p",{children:["Loading ",u?.title," settings..."]})})})]})}return e.jsxs("div",{className:"wp-customizer-sidebar",children:[e.jsx(Bs,{onSelect:u=>{v(u),d("section"),r(u),t(u)}}),e.jsx("div",{className:"wp-customizer-panels",children:Array.isArray(b)&&b.length>0?b.map(u=>m(u)):e.jsx("div",{className:"wp-customizer-no-results",children:e.jsxs("p",{children:['No options found for "',l,'"']})})}),e.jsx("div",{className:"wp-customizer-additional",children:e.jsxs("div",{className:`wp-customizer-panel ${a==="customCSS"?"active":""}`,onClick:()=>{v("customCSS"),d("section"),r("customCSS"),t("customCSS")},children:[e.jsx("h3",{className:"wp-customizer-panel-title",children:"Additional CSS"}),e.jsx("p",{className:"wp-customizer-panel-description",children:"Add your own custom CSS"})]})})]})};function P(...a){return a.filter(Boolean).join(" ")}const Ps=p.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:P("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t}));Ps.displayName="Card";const Is=p.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:P("flex flex-col space-y-1.5 p-6",a),...t}));Is.displayName="CardHeader";const Ds=p.forwardRef(({className:a,...t},s)=>e.jsx("h3",{ref:s,className:P("text-2xl font-semibold leading-none tracking-tight",a),...t}));Ds.displayName="CardTitle";const As=p.forwardRef(({className:a,...t},s)=>e.jsx("p",{ref:s,className:P("text-sm text-muted-foreground",a),...t}));As.displayName="CardDescription";const Ls=p.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:P("p-6 pt-0",a),...t}));Ls.displayName="CardContent";const Os=p.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:P("flex items-center p-6 pt-0",a),...t}));Os.displayName="CardFooter";const Ms=(a="default")=>({default:"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-md hover:from-blue-700 hover:to-blue-800 hover:shadow-lg focus-visible:ring-blue-500",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-md hover:from-red-700 hover:to-red-800 hover:shadow-lg focus-visible:ring-red-500",outline:"border-2 border-gray-300 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-400 focus-visible:ring-gray-500",secondary:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 shadow-sm hover:from-gray-200 hover:to-gray-300 focus-visible:ring-gray-500",ghost:"text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus-visible:ring-gray-500",link:"text-blue-600 underline-offset-4 hover:underline hover:text-blue-800 focus-visible:ring-blue-500",primary:"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-md hover:from-blue-700 hover:to-blue-800 hover:shadow-lg transform hover:-translate-y-0.5 focus-visible:ring-blue-500",success:"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-md hover:from-green-700 hover:to-green-800 hover:shadow-lg focus-visible:ring-green-500"})[a],_s=(a="default")=>({default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-md px-8 text-base",icon:"h-10 w-10"})[a],re=p.forwardRef(({className:a,variant:t="default",size:s="default",...r},n)=>e.jsx("button",{className:P("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 transform active:scale-95",Ms(t),_s(s),a),ref:n,...r}));re.displayName="Button";const Hs=p.forwardRef(({className:a,variant:t="default",...s},r)=>e.jsx("div",{ref:r,role:"alert",className:P("relative w-full rounded-lg border p-4",t==="default"&&"bg-background text-foreground",t==="destructive"&&"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",a),...s}));Hs.displayName="Alert";const Ws=p.forwardRef(({className:a,...t},s)=>e.jsx("h5",{ref:s,className:P("mb-1 font-medium leading-none tracking-tight",a),...t}));Ws.displayName="AlertTitle";const Us=p.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:P("text-sm [&_p]:leading-relaxed",a),...t}));Us.displayName="AlertDescription";const qs=p.forwardRef(({className:a,type:t,...s},r)=>e.jsx("input",{type:t,className:P("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...s}));qs.displayName="Input";const Gs=p.forwardRef(({className:a,...t},s)=>e.jsx("label",{ref:s,className:P("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...t}));Gs.displayName="Label";const Vs={default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"},Ks=p.forwardRef(({className:a,variant:t="default",...s},r)=>e.jsx("div",{ref:r,className:P("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",Vs[t],a),...s}));Ks.displayName="Badge";const Js=A.forwardRef(({className:a,...t},s)=>e.jsx("textarea",{ref:s,className:P("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...t}));Js.displayName="Textarea";const Ys=A.forwardRef(({className:a,children:t,...s},r)=>e.jsx("select",{ref:r,className:P("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:t}));Ys.displayName="Select";const Qs=A.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:P(a),...t}));Qs.displayName="Tabs";const Zs=A.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:P("flex gap-2",a),...t}));Zs.displayName="TabsList";const Xs=A.forwardRef(({className:a,...t},s)=>e.jsx("button",{ref:s,className:P("inline-flex items-center justify-center whitespace-nowrap rounded-md border px-3 py-1 text-sm",a),...t}));Xs.displayName="TabsTrigger";const ea=A.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:P(a),...t}));ea.displayName="TabsContent";const ke={desktop:{width:0,height:0},tablet:{width:768,height:1024},mobile:{width:375,height:667}},ta=({url:a="/",onLoad:t})=>{const{state:s,setPreviewDevice:r}=Q(),n=p.useRef(null),i=p.useRef(null),[l,o]=p.useState("initial"),[c,d]=p.useState(""),[g,v]=p.useState(!1),[f,k]=p.useState(1),[x,y]=p.useState(0),b=p.useRef(),m=p.useRef(),{previewDevice:u}=s,N=p.useMemo(()=>Be(s.settings),[s.settings]),S=p.useCallback(()=>{try{return a.startsWith("http")?a:`${window.location.origin}${a.startsWith("/")?a:"/"+a}`}catch{return"/"}},[a])(),z=p.useMemo(()=>xt(()=>{if(n.current?.contentWindow){try{const C=n.current.contentDocument;if(C){let E=C.getElementById("astra-customizer-css");E||(E=C.createElement("style"),E.id="astra-customizer-css",C.head?.appendChild(E)),E&&(E.textContent=N)}}catch{}n.current?.contentWindow&&n.current.contentWindow.postMessage({type:"customizer-update",settings:s.settings,css:N},"*")}},100),[N,s.settings]),L=p.useCallback(()=>{clearTimeout(b.current);try{const C=n.current?.contentDocument;if(C&&(C.body?.innerHTML||"").length>100||n.current?.contentWindow)o("loaded"),y(0),z(),t?.();else throw new Error("Empty iframe content")}catch{o("loaded"),z(),t?.()}},[z,t]),B=p.useCallback(C=>{clearTimeout(b.current),x<2?setTimeout(()=>{y(E=>E+1),o("loading"),n.current&&(n.current.src=S)},1e3*(x+1)):(o("error"),d(C||"Failed to load preview. The site may be blocking embedded frames."))},[S,x]);p.useEffect(()=>{if(n.current)return o("loading"),b.current=setTimeout(()=>{l==="loading"&&B("Preview loading timeout")},1e4),()=>{clearTimeout(b.current),clearTimeout(m.current)}},[S]),p.useEffect(()=>{l==="loaded"&&z()},[N,l,z]);const T=C=>{if(r(C),n.current&&C!=="desktop"){const E=`width=${ke[C].width}`;n.current.contentWindow?.postMessage({type:"viewport-change",viewport:E},"*")}},O=p.useCallback(()=>{i.current&&(g?document.fullscreenElement&&document.exitFullscreen():i.current.requestFullscreen&&i.current.requestFullscreen(),v(!g))},[g]),K=()=>{y(0),o("loading"),d(""),n.current&&(n.current.src=S)},W=()=>l==="loaded"?null:e.jsxs("div",{className:"wp-customizer-preview-overlay",children:[l==="loading"&&e.jsxs("div",{className:"wp-customizer-preview-loading",children:[e.jsx($e,{className:"wp-customizer-preview-spinner",size:32}),e.jsx("p",{children:"Loading preview..."}),x>0&&e.jsxs("p",{className:"wp-customizer-preview-retry",children:["Retry attempt ",x,"/2"]})]}),l==="error"&&e.jsxs("div",{className:"wp-customizer-preview-error",children:[e.jsx(Lt,{size:48}),e.jsx("h3",{children:"Preview Error"}),e.jsx("p",{children:c}),e.jsxs("div",{className:"wp-customizer-preview-error-actions",children:[e.jsxs(re,{onClick:K,variant:"primary",children:[e.jsx(Fe,{size:16}),"Try Again"]}),e.jsxs(re,{onClick:()=>window.open(S,"_blank"),variant:"secondary",children:[e.jsx(le,{size:16}),"Open in New Tab"]})]}),e.jsxs("details",{className:"wp-customizer-preview-error-details",children:[e.jsx("summary",{children:"Technical Details"}),e.jsx("p",{children:"This error often occurs when the site blocks embedding in iframes (X-Frame-Options or CSP headers). Try opening the preview in a new tab."})]})]}),l==="blocked"&&e.jsxs("div",{className:"wp-customizer-preview-blocked",children:[e.jsx(Ot,{size:48}),e.jsx("h3",{children:"Security Block"}),e.jsx("p",{children:"The preview cannot be displayed due to security restrictions."}),e.jsxs(re,{onClick:()=>window.open(S,"_blank"),variant:"primary",children:[e.jsx(le,{size:16}),"Open in New Tab"]})]})]});return e.jsxs("div",{className:"wp-customizer-preview",ref:i,children:[e.jsxs("div",{className:"wp-customizer-preview-header",children:[e.jsxs("div",{className:"wp-customizer-preview-devices",children:[e.jsx("button",{className:`wp-customizer-device-button ${u==="desktop"?"active":""}`,onClick:()=>T("desktop"),title:"Desktop view",children:e.jsx(Pe,{size:20})}),e.jsx("button",{className:`wp-customizer-device-button ${u==="tablet"?"active":""}`,onClick:()=>T("tablet"),title:"Tablet view",children:e.jsx(ct,{size:20})}),e.jsx("button",{className:`wp-customizer-device-button ${u==="mobile"?"active":""}`,onClick:()=>T("mobile"),title:"Mobile view",children:e.jsx(Ie,{size:20})})]}),e.jsx("div",{className:"wp-customizer-preview-url",children:e.jsx("input",{type:"text",value:S,readOnly:!0,className:"wp-customizer-preview-url-input"})}),e.jsxs("div",{className:"wp-customizer-preview-actions",children:[e.jsx("button",{onClick:K,className:"wp-customizer-preview-action",title:"Refresh preview",disabled:l==="loading",children:e.jsx(Fe,{size:18,className:l==="loading"?"spin":""})}),e.jsx("button",{onClick:O,className:"wp-customizer-preview-action",title:g?"Exit fullscreen":"Enter fullscreen",children:g?e.jsx(Dt,{size:18}):e.jsx(At,{size:18})}),e.jsx("button",{onClick:()=>window.open(S,"_blank"),className:"wp-customizer-preview-action",title:"Open in new tab",children:e.jsx(le,{size:18})})]})]}),e.jsx("div",{className:`wp-customizer-preview-frame wp-customizer-preview-${u}`,children:e.jsxs("div",{className:"wp-customizer-preview-wrapper",children:[W(),e.jsx("iframe",{ref:n,src:S,className:"wp-customizer-preview-iframe",onLoad:L,onError:()=>B(),style:{width:u==="desktop"?"100%":`${ke[u].width}px`,height:u==="desktop"?"100%":`${ke[u].height}px`,transform:`scale(${f})`,transformOrigin:"top center"}})]})})]})},sa=(a={})=>{const{state:t,saveSettings:s,resetSettings:r}=Q(),n=p.useRef(null),i=p.useRef(!1);return p.useEffect(()=>{const l=async o=>{const c=o.target,d=c.tagName==="INPUT"||c.tagName==="TEXTAREA"||c.contentEditable==="true";if(o.ctrlKey||o.metaKey)switch(o.key.toLowerCase()){case"s":if(o.preventDefault(),!i.current){i.current=!0;try{a.onSave?a.onSave():(await s(),U.success("Settings saved! (Ctrl+S)",{duration:2e3,position:"bottom-center"}))}catch{U.error("Failed to save settings")}finally{i.current=!1}}break;case"z":o.shiftKey?(o.preventDefault(),a.onRedo&&(a.onRedo(),U.success("Redo (Ctrl+Shift+Z)",{duration:1500,position:"bottom-center"}))):(o.preventDefault(),a.onUndo&&(a.onUndo(),U.success("Undo (Ctrl+Z)",{duration:1500,position:"bottom-center"})));break;case"f":if(!d)if(o.preventDefault(),a.onSearch)a.onSearch();else{const g=document.querySelector(".wp-customizer-search-input");g&&(g.focus(),g.select())}break;case"r":o.shiftKey&&(o.preventDefault(),a.onReset?a.onReset():window.confirm("Reset all settings to default? This cannot be undone.")&&(r(),U.success("Settings reset to defaults",{duration:3e3,position:"bottom-center"})));break;case"p":o.preventDefault(),a.onPreview&&(a.onPreview(),U.success("Preview mode toggled (Ctrl+P)",{duration:1500,position:"bottom-center"}));break;case"enter":if(o.shiftKey)if(o.preventDefault(),a.onPublish)a.onPublish();else try{await s(),U.success("Settings published!",{duration:2e3,position:"bottom-center"}),setTimeout(()=>{a.onClose?.()},1e3)}catch{U.error("Failed to publish settings")}break}if(!d)switch(o.key){case"?":o.shiftKey&&(o.preventDefault(),aa());break;case"/":o.preventDefault();const g=document.querySelector(".wp-customizer-search-input");g&&(g.focus(),g.select());break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(o.altKey){o.preventDefault();const v=parseInt(o.key)-1,f=document.querySelectorAll(".wp-customizer-panel");f[v]&&f[v].click()}break}};return document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}},[a,t,s,r]),{searchInputRef:n}};function aa(){const a=[{keys:"Ctrl+S",description:"Save settings"},{keys:"Ctrl+Z",description:"Undo last change"},{keys:"Ctrl+Shift+Z",description:"Redo"},{keys:"Ctrl+F",description:"Focus search"},{keys:"Ctrl+Shift+R",description:"Reset to defaults"},{keys:"Ctrl+P",description:"Toggle preview"},{keys:"Ctrl+Shift+Enter",description:"Save and close"},{keys:"ESC",description:"Close customizer"},{keys:"/",description:"Quick search"},{keys:"?",description:"Show this help"},{keys:"Alt+1-9",description:"Quick navigate to sections"}],t=document.createElement("div");t.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100000;
    animation: fadeIn 0.2s ease;
  `;const s=document.createElement("div");s.style.cssText=`
    background: white;
    border-radius: 8px;
    padding: 24px;
    max-width: 500px;
    max-height: 70vh;
    overflow-y: auto;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  `,s.innerHTML=`
    <h2 style="margin: 0 0 16px 0; font-size: 20px; color: #1e1e1e;">
      ⌨️ Keyboard Shortcuts
    </h2>
    <table style="width: 100%; border-collapse: collapse;">
      ${a.map(l=>`
        <tr style="border-bottom: 1px solid #f0f0f1;">
          <td style="padding: 8px 16px 8px 0; font-weight: 600; font-family: monospace; font-size: 13px; color: #007cba;">
            ${l.keys}
          </td>
          <td style="padding: 8px 0; font-size: 13px; color: #50575e;">
            ${l.description}
          </td>
        </tr>
      `).join("")}
    </table>
    <p style="margin: 16px 0 0 0; font-size: 12px; color: #8c8f94; text-align: center;">
      Press ESC or click outside to close
    </p>
  `,t.appendChild(s),document.body.appendChild(t);const r=()=>{t.style.animation="fadeOut 0.2s ease",setTimeout(()=>{document.body.removeChild(t)},200)};t.addEventListener("click",l=>{l.target===t&&r()});const n=l=>{l.key==="Escape"&&(r(),document.removeEventListener("keydown",n))};document.addEventListener("keydown",n);const i=document.createElement("style");i.textContent=`
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
  `,document.head.appendChild(i)}class it{static async getPosts(t=1,s=20,r){const n={page:t,pageSize:s,...r};return(await j.content.posts.list(n)).data}static async getPost(t){return(await j.content.posts.get(t)).data}static async createPost(t){return(await j.content.posts.create(t)).data}static async updatePost(t,s){return(await j.content.posts.update(t,s)).data}static async deletePost(t){return(await j.content.posts.delete(t)).data}static async clonePost(t){return(await j.raw.post(`/v1/content/posts/${t}/clone`)).data}static async bulkUpdatePosts(t,s){return(await j.raw.patch("/v1/content/posts/bulk",{ids:t,data:s})).data}static async bulkDeletePosts(t){return(await j.raw.delete("/v1/content/posts/bulk",{data:{ids:t}})).data}static async getPostPreview(t){return(await j.raw.get(`/v1/content/posts/${t}/preview`)).data}static async savePostDraft(t,s){return(await j.raw.post(`/v1/content/posts/${t}/autosave`,{content:s})).data}static async getPostRevisions(t){return(await j.raw.get(`/v1/content/posts/${t}/revisions`)).data}static async restorePostRevision(t,s){return(await j.raw.post(`/v1/content/posts/${t}/revisions/${s}/restore`)).data}static async getPages(t=1,s=20,r){const n={page:t,pageSize:s,...r};return(await j.raw.get("/v1/content/pages",{params:n})).data}static async getPage(t){return(await j.raw.get(`/v1/content/pages/${t}`)).data}static async createPage(t){return(await j.raw.post("/v1/content/pages",t)).data}static async updatePage(t,s){return(await j.raw.put(`/v1/content/pages/${t}`,s)).data}static async deletePage(t){return(await j.raw.delete(`/v1/content/pages/${t}`)).data}static async clonePage(t){return(await j.raw.post(`/v1/content/pages/${t}/clone`)).data}static async bulkUpdatePages(t,s){return(await j.raw.patch("/v1/content/pages/bulk",{ids:t,data:s})).data}static async bulkDeletePages(t){return(await j.raw.delete("/v1/content/pages/bulk",{data:{ids:t}})).data}static async savePageDraft(t,s){return(await j.raw.post(`/v1/content/pages/${t}/autosave`,{content:s})).data}static async getPagePreview(t){return(await j.raw.get(`/v1/content/pages/${t}/preview`)).data}static async getPageRevisions(t){return(await j.raw.get(`/v1/content/pages/${t}/revisions`)).data}static async restorePageRevision(t,s){return(await j.raw.post(`/v1/content/pages/${t}/revisions/${s}/restore`)).data}static async getPageTree(){return(await j.raw.get("/v1/content/pages/tree")).data}static async getCategories(t=!0){return(await j.content.categories.list({hierarchical:t})).data}static async getCategory(t){return(await j.content.categories.get(t)).data}static async createCategory(t){return(await j.content.categories.create(t)).data}static async updateCategory(t,s){return(await j.content.categories.update(t,s)).data}static async deleteCategory(t){return(await j.content.categories.delete(t)).data}static async reorderCategories(t){return(await j.raw.patch("/admin/categories/reorder",{categories:t})).data}static async getTags(){return(await j.raw.get("/api/tags")).data}static async getTag(t){return(await j.raw.get(`/api/tags/${t}`)).data}static async createTag(t){return(await j.raw.post("/api/tags",t)).data}static async updateTag(t,s){return(await j.raw.put(`/api/tags/${t}`,s)).data}static async deleteTag(t){return(await j.raw.delete(`/api/tags/${t}`)).data}static async mergeTags(t,s){return(await j.raw.post(`/admin/tags/${t}/merge/${s}`)).data}static async getMediaFiles(t=1,s=50,r,n,i){const l={page:t,pageSize:s,...r&&{folderId:r},...n&&{type:n},...i&&{search:i}};return(await j.content.media.list(l)).data}static async getMediaFile(t){return(await j.content.media.get(t)).data}static async uploadFiles(t,s,r){const n=new FormData;return t.forEach(l=>{n.append("files",l)}),s&&n.append("folderId",s),(await j.raw.post("/v1/content/media/upload",n,{headers:{"Content-Type":"multipart/form-data"}})).data}static async updateMediaFile(t,s){return(await j.content.media.update(t,s)).data}static async deleteMediaFile(t){return(await j.content.media.delete(t)).data}static async bulkDeleteMediaFiles(t){return(await j.raw.delete("/v1/content/media/bulk",{data:{ids:t}})).data}static async getMediaFolders(){return(await j.raw.get("/v1/content/media/folders")).data}static async createMediaFolder(t){return(await j.raw.post("/v1/content/media/folders",t)).data}static async updateMediaFolder(t,s){return(await j.raw.put(`/v1/content/media/folders/${t}`,s)).data}static async deleteMediaFolder(t){return(await j.raw.delete(`/v1/content/media/folders/${t}`)).data}static async getFieldGroups(){return(await j.raw.get("/admin/custom-fields/groups")).data}static async getFieldGroup(t){return(await j.raw.get(`/admin/custom-fields/groups/${t}`)).data}static async createFieldGroup(t){return(await j.raw.post("/admin/custom-fields/groups",t)).data}static async updateFieldGroup(t,s){return(await j.raw.put(`/admin/custom-fields/groups/${t}`,s)).data}static async deleteFieldGroup(t){return(await j.raw.delete(`/admin/custom-fields/groups/${t}`)).data}static async exportFieldGroups(t){return(await j.raw.post("/admin/custom-fields/export",{ids:t})).data}static async importFieldGroups(t){return(await j.raw.post("/admin/custom-fields/import",t)).data}static async getTemplates(t){const s=t?`?type=${t}`:"";return(await j.raw.get(`/admin/templates${s}`)).data}static async getTemplate(t){return(await j.raw.get(`/admin/templates/${t}`)).data}static async createTemplate(t){return(await j.raw.post("/admin/templates",t)).data}static async updateTemplate(t,s){return(await j.raw.put(`/admin/templates/${t}`,s)).data}static async deleteTemplate(t){return(await j.raw.delete(`/admin/templates/${t}`)).data}static async getMenus(){return(await j.raw.get("/admin/menus")).data}static async getMenu(t){return(await j.raw.get(`/admin/menus/${t}`)).data}static async createMenu(t){return(await j.raw.post("/admin/menus",t)).data}static async updateMenu(t,s){return(await j.raw.put(`/admin/menus/${t}`,s)).data}static async deleteMenu(t){return(await j.raw.delete(`/admin/menus/${t}`)).data}static async getAuthors(){return(await j.content.authors.list()).data}static async generateSlug(t,s="post"){return(await j.raw.post("/admin/utils/generate-slug",{title:t,type:s})).data}static async validateSlug(t,s="post",r){const n=new URLSearchParams({slug:t,type:s});return r&&n.append("excludeId",r),(await j.raw.get(`/admin/utils/validate-slug?${n}`)).data}static async searchContent(t,s){const r=new URLSearchParams({query:t});return s&&s.forEach(i=>r.append("types",i)),(await j.raw.get(`/admin/search?${r}`)).data}static async getContentStats(){return(await j.raw.get("/admin/stats")).data}}const oa=a=>{if(a===0)return"0 Bytes";const t=1024,s=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(a)/Math.log(t));return parseFloat((a/Math.pow(t,r)).toFixed(2))+" "+s[r]},ra=({isOpen:a,onClose:t,onSelect:s,multiple:r=!1,acceptedTypes:n=["image","video"],selectedItems:i=[],maxSelection:l=r?50:1,title:o="미디어 선택",className:c})=>{const[d,g]=p.useState(i.map(h=>h.id)),[v,f]=p.useState("grid"),[k,x]=p.useState({searchTerm:"",fileType:n.length===1?n[0]:"all"}),[y,b]=p.useState(!1),[m,u]=p.useState([]),[N,w]=p.useState(!1),[S,z]=p.useState(null),{ref:L,inView:B}=Mt(),T=p.useRef(null),O=h=>({id:h.id,url:h.url,type:h.type==="image"?"image":h.type==="video"?"video":"image",title:h.name,alt:h.altText||h.name,width:h.dimensions?.width,height:h.dimensions?.height,fileSize:h.size,mimeType:h.mimeType,thumbnailUrl:h.thumbnailUrl,caption:h.caption,uploadedAt:h.uploadedAt}),{data:K,fetchNextPage:W,hasNextPage:C,isFetchingNextPage:E,isLoading:J,refetch:te,error:yt}=rs({queryKey:["mediaFiles",k],queryFn:async({pageParam:h=1})=>await it.getMediaFiles(h,50,void 0,k.fileType==="all"?void 0:k.fileType,k.searchTerm),getNextPageParam:h=>{const{pagination:F}=h;if(F&&F.currentPage<F.totalPages)return F.currentPage+1},initialPageParam:1,enabled:a});p.useEffect(()=>{B&&C&&!E&&W()},[B,C,E,W]),p.useEffect(()=>{a&&g(i.map(h=>h.id))},[a,i]),p.useEffect(()=>{const h=F=>{if(a)switch(F.key){case"Escape":F.preventDefault(),t();break;case"Enter":F.preventDefault(),d.length>0&&Ae();break;case"a":(F.ctrlKey||F.metaKey)&&(F.preventDefault(),De());break}};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[a,d,t]);const H=K?.pages.flatMap(h=>h.data?.map(O)||[])||[],se=H.filter(h=>d.includes(h.id)),ae=p.useCallback(h=>{g(r?F=>F.includes(h)?F.filter(I=>I!==h):F.length>=l?(_.error(`최대 ${l}개까지 선택할 수 있습니다.`),F):[...F,h]:[h])},[r,l]),De=p.useCallback(()=>{if(d.length===H.length)g([]);else{const h=H.slice(0,l).map(F=>F.id);g(h),H.length>l&&_.error(`최대 ${l}개까지 선택할 수 있습니다.`)}},[d.length,H,l]),Ae=p.useCallback(()=>{r?s(se):se.length>0&&s(se[0]),t()},[r,se,s,t]),Le=p.useCallback((h,F)=>{x(I=>({...I,[h]:F}))},[]),vt=p.useCallback(h=>{b(!0),Oe(h)},[]),{getRootProps:jt,getInputProps:wt,isDragActive:Nt}=_t({onDrop:vt,accept:n.reduce((h,F)=>(h[`${F}/*`]=[],h),{}),maxFiles:10,maxSize:100*1024*1024,noClick:!0}),Oe=async h=>{w(!0);const F=h.map(I=>({file:I,progress:0,status:"uploading"}));u(F);try{const I=setInterval(()=>{u(D=>D.map(Z=>({...Z,progress:Math.min(Z.progress+Math.random()*20,90)})))},500);await it.uploadFiles(h),clearInterval(I),u(D=>D.map(Z=>({...Z,progress:100,status:"success"}))),_.success(`${h.length}개 파일이 업로드되었습니다.`),setTimeout(()=>{te(),b(!1),u([])},1e3)}catch(I){u(D=>D.map(Z=>({...Z,status:"error",error:I.message||"업로드에 실패했습니다."}))),_.error("업로드에 실패했습니다.")}finally{w(!1)}},kt=(h,F)=>{const I=d.includes(h.id);return v==="list"?e.jsxs("div",{className:Y("flex items-center gap-4 p-3 rounded-lg border cursor-pointer transition-all",I?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),onClick:()=>ae(h.id),role:"button",tabIndex:0,"aria-label":`Select ${h.title}`,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),ae(h.id))},children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden bg-gray-100",children:h.type==="image"?e.jsx("img",{src:h.thumbnailUrl||h.url,alt:h.alt||h.title,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(_e,{className:"w-6 h-6 text-purple-500"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:h.title}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[e.jsx("span",{className:"capitalize",children:h.type}),h.fileSize&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:oa(h.fileSize)})]}),h.width&&h.height&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:[h.width," × ",h.height]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:D=>{D.stopPropagation(),z(h)},className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"미리보기",children:e.jsx(ze,{className:"w-4 h-4"})}),I&&e.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ee,{className:"w-3 h-3 text-white"})})]})]},h.id):e.jsxs("div",{className:Y("relative aspect-square rounded-lg overflow-hidden cursor-pointer transition-all group",I?"ring-2 ring-blue-500 ring-offset-2":"hover:ring-2 hover:ring-gray-300 hover:ring-offset-1"),onClick:()=>ae(h.id),role:"button",tabIndex:0,"aria-label":`Select ${h.title}`,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),ae(h.id))},children:[h.type==="image"?e.jsx("img",{src:h.thumbnailUrl||h.url,alt:h.alt||h.title,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center",children:e.jsx(_e,{className:"w-8 h-8 text-white opacity-80"})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity"}),e.jsx("div",{className:"absolute top-2 right-2",children:I?e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ee,{className:"w-4 h-4 text-white"})}):e.jsx("div",{className:"w-6 h-6 border-2 border-white rounded-full bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 transition-opacity"})}),e.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:D=>{D.stopPropagation(),z(h)},className:"p-1 bg-black bg-opacity-50 text-white rounded hover:bg-opacity-70",title:"미리보기",children:e.jsx(ze,{className:"w-4 h-4"})})}),h.type==="video"&&e.jsx("div",{className:"absolute bottom-2 left-2",children:e.jsx("div",{className:"px-2 py-1 bg-black bg-opacity-70 text-white text-xs rounded",children:"비디오"})})]},h.id)},St=()=>y?e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center z-10",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"파일 업로드"}),e.jsx("button",{onClick:()=>b(!1),disabled:N,className:"text-gray-400 hover:text-gray-600",children:e.jsx(G,{className:"w-5 h-5"})})]}),m.length>0&&e.jsx("div",{className:"space-y-3",children:m.map((h,F)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm truncate",children:h.file.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(h.progress),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:Y("h-2 rounded-full transition-all",h.status==="error"?"bg-red-500":"bg-blue-500"),style:{width:`${h.progress}%`}})}),h.error&&e.jsx("p",{className:"text-xs text-red-600",children:h.error})]},F))})]})}):null,Ct=()=>S?e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-90 flex items-center justify-center z-20",onClick:()=>z(null),children:e.jsxs("div",{className:"max-w-4xl max-h-screen p-8 relative",children:[e.jsx("button",{onClick:()=>z(null),className:"absolute -top-4 -right-4 p-2 bg-white rounded-full text-gray-600 hover:text-gray-800",children:e.jsx(G,{className:"w-5 h-5"})}),S.type==="image"?e.jsx("img",{src:S.url,alt:S.alt||S.title,className:"max-w-full max-h-full object-contain",onClick:h=>h.stopPropagation()}):e.jsx("video",{src:S.url,controls:!0,className:"max-w-full max-h-full",onClick:h=>h.stopPropagation()}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black to-transparent text-white",children:[e.jsx("h3",{className:"font-medium",children:S.title}),S.caption&&e.jsx("p",{className:"text-sm opacity-80 mt-1",children:S.caption})]})]})}):null;return a?e.jsx("div",{className:Y("fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",c),role:"dialog","aria-modal":"true","aria-labelledby":"media-selector-title",...jt(),children:e.jsxs("div",{className:"bg-white rounded-lg max-w-6xl w-full mx-4 h-[90vh] overflow-hidden flex flex-col",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{id:"media-selector-title",className:"text-xl font-semibold text-gray-900",children:o}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1 rounded","aria-label":"닫기",children:e.jsx(G,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"파일명으로 검색...",value:k.searchTerm,onChange:h=>Le("searchTerm",h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"검색"})]})}),e.jsxs("div",{className:"flex gap-2",children:[n.length>1&&e.jsxs("select",{value:k.fileType,onChange:h=>Le("fileType",h.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"파일 타입 필터",children:[e.jsx("option",{value:"all",children:"모든 파일"}),n.map(h=>e.jsx("option",{value:h,children:h==="image"?"이미지":"비디오"},h))]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>f("grid"),className:Y("p-2 rounded transition-colors",v==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-500"),title:"그리드 뷰","aria-label":"그리드 뷰",children:e.jsx(dt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f("list"),className:Y("p-2 rounded transition-colors",v==="list"?"bg-white shadow-sm text-blue-600":"text-gray-500"),title:"리스트 뷰","aria-label":"리스트 뷰",children:e.jsx(Ht,{className:"w-4 h-4"})})]}),e.jsx("input",{...wt()}),e.jsxs("button",{onClick:()=>{const h=document.createElement("input");h.type="file",h.multiple=!0,h.accept=n.map(F=>`${F}/*`).join(","),h.onchange=F=>{const I=Array.from(F.target.files||[]);I.length>0&&(b(!0),Oe(I))},h.click()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2","aria-label":"파일 업로드",children:[e.jsx(X,{className:"w-4 h-4"}),"업로드"]}),r&&H.length>0&&e.jsx("button",{onClick:De,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm","aria-label":d.length===H.length?"전체 선택 해제":"전체 선택",children:d.length===H.length?"전체 해제":"전체 선택"})]})]}),Nt&&e.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 border-2 border-dashed border-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"text-blue-600 text-lg font-medium",children:"파일을 여기에 놓으세요"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",ref:T,children:J?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx($e,{className:"w-8 h-8 animate-spin text-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"미디어를 불러오는 중..."})]}):yt?e.jsxs("div",{className:"flex items-center justify-center h-64 text-red-600",children:[e.jsx(ut,{className:"w-8 h-8 mr-2"}),e.jsx("span",{children:"미디어를 불러오는데 실패했습니다."})]}):H.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[e.jsx(Wt,{className:"w-16 h-16 mb-4"}),e.jsx("span",{className:"text-lg font-medium mb-2",children:"미디어 파일이 없습니다"}),e.jsx("span",{className:"text-sm",children:"파일을 업로드하거나 검색 조건을 변경해보세요"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Y(v==="grid"?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4":"space-y-2"),children:H.map((h,F)=>kt(h))}),C&&e.jsx("div",{ref:L,className:"flex justify-center py-8",children:E&&e.jsx($e,{className:"w-6 h-6 animate-spin text-blue-500"})})]})}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600",children:d.length>0?e.jsxs("span",{children:[d.length,"개 선택됨",r&&l>1&&` (최대 ${l}개)`]}):e.jsx("span",{children:"파일을 선택하세요"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),e.jsxs("button",{onClick:Ae,disabled:d.length===0,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"선택 완료"]})]})]})}),e.jsx(St,{}),e.jsx(Ct,{})]})}):null},Se=({label:a,value:t,onChange:s,description:r,accept:n="image/*",maxSize:i=5,preview:l=!0})=>{const[o,c]=p.useState(!1),[d,g]=p.useState(null),v=x=>{const y=Array.isArray(x)?x[0]:x;if(y){const b=`${y.url}${y.url.includes("?")?"&":"?"}t=${Date.now()}`;s(b);const m=document.getElementById("customizer-preview-iframe");m&&(m.contentWindow?.postMessage({type:"update-logo",url:b},"*"),setTimeout(()=>{m.src=m.src},500))}c(!1)},f=()=>{s(null),g(null)},k=()=>{c(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-control astra-image-uploader",children:[e.jsxs("div",{className:"astra-control-header",children:[e.jsx("label",{className:"astra-control-label",children:a}),r&&e.jsx("span",{className:"astra-control-description",children:r})]}),e.jsx("div",{className:`astra-upload-area ${t?"has-image":""}`,children:t&&l?e.jsxs("div",{className:"astra-upload-preview",children:[e.jsx("img",{src:t,alt:"Preview",className:"astra-upload-image"}),e.jsx("button",{onClick:f,className:"astra-upload-remove",title:"Remove image",children:e.jsx(G,{size:16})})]}):e.jsxs("div",{className:"astra-upload-placeholder",children:[e.jsx(He,{size:32,className:"astra-upload-icon"}),e.jsx("p",{className:"astra-upload-text",children:"Click to select an image from Media Library"}),e.jsxs("button",{onClick:k,className:"astra-upload-button",type:"button",children:[e.jsx(X,{size:16}),"Open Media Library"]})]})}),d&&e.jsx("div",{className:"astra-control-error",children:d}),t&&!l&&e.jsxs("div",{className:"astra-upload-filename",children:[e.jsx(He,{size:14}),e.jsx("span",{children:"Image selected"}),e.jsx("button",{onClick:f,className:"astra-upload-clear",children:e.jsx(G,{size:14})})]})]}),e.jsx(ra,{isOpen:o,onClose:()=>c(!1),onSelect:v,multiple:!1,acceptedTypes:["image"],title:"Select Image"})]})},$=({label:a,value:t,onChange:s,min:r=0,max:n=100,step:i=1,unit:l="px",description:o,responsive:c=!1,defaultUnit:d="px"})=>{const{state:g}=Q(),v=g.previewDevice,[f,k]=p.useState(d),[x,y]=p.useState(!0),b=Array.isArray(l)?l:[l],m=()=>typeof t=="number"?t:t[v],u=(T,O)=>{if(!c||typeof t=="number"){s(T);return}s(x?{desktop:T,tablet:T,mobile:T}:{...t,[O||v]:T})},N=()=>{switch(f){case"%":case"vh":case"vw":return 100;case"em":case"rem":return 10;default:return n}},w=()=>{switch(f){case"em":case"rem":return .1;default:return i}},S=()=>{if(!c||typeof t=="number")return null;const T=t;return e.jsxs("div",{className:"astra-slider-devices",children:[e.jsxs("div",{className:"astra-device-buttons",children:[e.jsx("button",{className:`astra-device-button ${v==="desktop"?"active":""}`,onClick:()=>u(T.desktop,"desktop"),title:"Desktop",children:e.jsx(Pe,{size:14})}),e.jsx("button",{className:`astra-device-button ${v==="tablet"?"active":""}`,onClick:()=>u(T.tablet,"tablet"),title:"Tablet",children:e.jsx(ct,{size:14})}),e.jsx("button",{className:`astra-device-button ${v==="mobile"?"active":""}`,onClick:()=>u(T.mobile,"mobile"),title:"Mobile",children:e.jsx(Ie,{size:14})})]}),e.jsx("button",{onClick:()=>y(!x),className:`astra-link-button ${x?"linked":""}`,title:x?"Unlink values":"Link values",children:"🔗"})]})},z=m(),L=N(),B=w();return e.jsxs("div",{className:"astra-control astra-slider",children:[e.jsxs("div",{className:"astra-control-header",children:[e.jsx("label",{className:"astra-control-label",children:a}),S()]}),o&&e.jsx("span",{className:"astra-control-description",children:o}),e.jsxs("div",{className:"astra-slider-container",children:[e.jsx("div",{className:"astra-slider-track-wrapper",children:e.jsx("input",{type:"range",min:r,max:L,step:B,value:z,onChange:T=>u(parseFloat(T.target.value)),className:"astra-slider-track",style:{background:`linear-gradient(to right, #0073aa 0%, #0073aa ${(z-r)/(L-r)*100}%, #ddd ${(z-r)/(L-r)*100}%, #ddd 100%)`}})}),e.jsxs("div",{className:"astra-slider-input-group",children:[e.jsx("input",{type:"number",min:r,max:L,step:B,value:z,onChange:T=>u(parseFloat(T.target.value)||0),className:"astra-slider-input"}),b.length>1?e.jsx("select",{value:f,onChange:T=>k(T.target.value),className:"astra-slider-unit",children:b.map(T=>e.jsx("option",{value:T,children:T},T))}):e.jsx("span",{className:"astra-slider-unit-label",children:b[0]})]})]}),c&&typeof t!="number"&&!x&&e.jsxs("div",{className:"astra-slider-values",children:[e.jsxs("span",{children:["D: ",t.desktop,f]}),e.jsxs("span",{children:["T: ",t.tablet,f]}),e.jsxs("span",{children:["M: ",t.mobile,f]})]})]})},q=({label:a,value:t,onChange:s,description:r,disabled:n=!1})=>e.jsx("div",{className:"astra-control astra-toggle",children:e.jsxs("div",{className:"astra-toggle-container",children:[e.jsxs("div",{className:"astra-toggle-content",children:[e.jsx("label",{className:"astra-control-label",children:a}),r&&e.jsx("span",{className:"astra-control-description",children:r})]}),e.jsx("button",{onClick:()=>!n&&s(!t),className:`astra-toggle-switch ${t?"active":""} ${n?"disabled":""}`,disabled:n,role:"switch","aria-checked":t,"aria-label":a,children:e.jsx("span",{className:"astra-toggle-slider"})})]})}),R=({label:a,value:t,onChange:s,description:r,hasHover:n=!1,clearable:i=!0})=>{const[l,o]=p.useState(!1),[c,d]=p.useState("normal"),g=p.useRef(null),v=typeof t=="string"?{normal:t,hover:void 0}:t,f=(b,m)=>{s(n?{...v,[m]:b}:b)},k=b=>{s(n?{...v,[b]:b==="hover"?void 0:""}:"")},x=["#000000","#FFFFFF","#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E"];p.useEffect(()=>{const b=m=>{g.current&&!g.current.contains(m.target)&&o(!1)};return l&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[l]);const y=b=>{const m=b==="normal"?v.normal:v.hover;return e.jsxs("div",{className:"astra-color-input-group",children:[e.jsxs("div",{className:"astra-color-input-wrapper",children:[e.jsx("input",{type:"text",value:m||"",onChange:u=>f(u.target.value,b),placeholder:"#000000",className:"astra-color-input"}),e.jsx("input",{type:"color",value:m||"#000000",onChange:u=>f(u.target.value,b),className:"astra-color-native-picker"})]}),i&&m&&e.jsx("button",{onClick:()=>k(b),className:"astra-color-clear",title:"Clear color",children:e.jsx(G,{size:14})})]})};return e.jsxs("div",{className:"astra-control astra-color-picker",children:[e.jsxs("div",{className:"astra-control-header",children:[e.jsx("label",{className:"astra-control-label",children:a}),r&&e.jsx("span",{className:"astra-control-description",children:r})]}),e.jsxs("div",{className:"astra-color-picker-container",ref:g,children:[e.jsx("button",{onClick:()=>o(!l),className:"astra-color-preview-button",style:{background:n&&c==="hover"?v.hover||"transparent":v.normal||"transparent"},children:e.jsx(Ut,{size:16})}),l&&e.jsxs("div",{className:"astra-color-picker-dropdown",children:[n&&e.jsxs("div",{className:"astra-color-tabs",children:[e.jsx("button",{onClick:()=>d("normal"),className:`astra-color-tab ${c==="normal"?"active":""}`,children:"Normal"}),e.jsx("button",{onClick:()=>d("hover"),className:`astra-color-tab ${c==="hover"?"active":""}`,children:"Hover"})]}),e.jsxs("div",{className:"astra-color-picker-content",children:[y(n?c:"normal"),e.jsx("div",{className:"astra-color-palette",children:x.map(b=>e.jsx("button",{onClick:()=>f(b,n?c:"normal"),className:"astra-color-palette-item",style:{background:b},title:b},b))})]})]})]})]})},na=()=>{const{settings:a,updateSetting:t}=V(),s=a.siteIdentity,[r,n]=A.useState("desktop");return e.jsxs("div",{className:"astra-section site-identity-section",children:[e.jsx("div",{className:"astra-section-title",children:"Site Identity"}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Logo"}),e.jsxs("div",{className:"astra-tabs",children:[e.jsxs("button",{onClick:()=>n("desktop"),className:`astra-tab ${r==="desktop"?"active":""}`,children:[e.jsx(Pe,{size:14}),"Desktop Logo"]}),e.jsxs("button",{onClick:()=>n("mobile"),className:`astra-tab ${r==="mobile"?"active":""}`,children:[e.jsx(Ie,{size:14}),"Mobile Logo"]})]}),r==="desktop"?e.jsx(Se,{label:"Desktop Logo",value:s.logo.desktop,onChange:i=>t("siteIdentity",i,["logo","desktop"]),description:"The logo will be displayed in the header on desktop devices"}):e.jsx(Se,{label:"Mobile Logo",value:s.logo.mobile,onChange:i=>t("siteIdentity",i,["logo","mobile"]),description:"Optional: Different logo for mobile devices"}),e.jsx($,{label:"Logo Width",value:s.logo.width,onChange:i=>t("siteIdentity",i,["logo","width"]),min:50,max:600,unit:"px",responsive:!0,description:"Set the width of your logo"})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Site Title"}),e.jsx(q,{label:"Display Site Title",value:s.siteTitle.show,onChange:i=>t("siteIdentity",i,["siteTitle","show"]),description:"Show or hide the site title in the header"}),s.siteTitle.show&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-control",children:[e.jsx("label",{className:"astra-control-label",children:"Site Title Text"}),e.jsx("input",{type:"text",value:s.siteTitle.text,onChange:i=>t("siteIdentity",i.target.value,["siteTitle","text"]),className:"astra-text-input",placeholder:"Enter your site title"})]}),e.jsx(R,{label:"Title Color",value:s.siteTitle.color,onChange:i=>t("siteIdentity",i,["siteTitle","color"]),hasHover:!0,description:"Set the color for your site title"}),e.jsx($,{label:"Title Font Size",value:s.siteTitle.typography.fontSize,onChange:i=>t("siteIdentity",i,["siteTitle","typography","fontSize"]),min:10,max:60,unit:"px",responsive:!0}),e.jsxs("div",{className:"astra-control",children:[e.jsx("label",{className:"astra-control-label",children:"Font Weight"}),e.jsxs("select",{value:s.siteTitle.typography.fontWeight,onChange:i=>t("siteIdentity",Number(i.target.value),["siteTitle","typography","fontWeight"]),className:"astra-select-input",children:[e.jsx("option",{value:300,children:"Light (300)"}),e.jsx("option",{value:400,children:"Normal (400)"}),e.jsx("option",{value:500,children:"Medium (500)"}),e.jsx("option",{value:600,children:"Semi Bold (600)"}),e.jsx("option",{value:700,children:"Bold (700)"}),e.jsx("option",{value:800,children:"Extra Bold (800)"}),e.jsx("option",{value:900,children:"Black (900)"})]})]})]})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Tagline"}),e.jsx(q,{label:"Display Tagline",value:s.tagline.show,onChange:i=>t("siteIdentity",i,["tagline","show"]),description:"Show or hide the site tagline"}),s.tagline.show&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-control",children:[e.jsx("label",{className:"astra-control-label",children:"Tagline Text"}),e.jsx("input",{type:"text",value:s.tagline.text,onChange:i=>t("siteIdentity",i.target.value,["tagline","text"]),className:"astra-text-input",placeholder:"Enter your tagline"})]}),e.jsx(R,{label:"Tagline Color",value:s.tagline.color,onChange:i=>t("siteIdentity",i,["tagline","color"]),hasHover:!0,description:"Set the color for your tagline"}),e.jsx($,{label:"Tagline Font Size",value:s.tagline.typography.fontSize,onChange:i=>t("siteIdentity",i,["tagline","typography","fontSize"]),min:8,max:30,unit:"px",responsive:!0})]})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Site Icon"}),e.jsx(Se,{label:"Favicon",value:s.favicon,onChange:i=>t("siteIdentity",i,["favicon"]),description:"Site icon should be a square image at least 512×512 pixels",accept:"image/png,image/jpeg,image/x-icon"}),e.jsx("p",{className:"astra-help-text",children:"The site icon is used as a browser and app icon for your site. Icons must be square, and at least 512 pixels wide and tall."})]})]})},ia=()=>{const{settings:a,updateSetting:t}=V(),s=a.colors,[r,n]=A.useState("theme");return e.jsxs("div",{className:"astra-section colors-section",children:[e.jsx("div",{className:"astra-section-title",children:"Colors"}),e.jsxs("div",{className:"astra-tabs",children:[e.jsxs("button",{onClick:()=>n("theme"),className:`astra-tab ${r==="theme"?"active":""}`,children:[e.jsx(qt,{size:14}),"Theme Colors"]}),e.jsxs("button",{onClick:()=>n("palette"),className:`astra-tab ${r==="palette"?"active":""}`,children:[e.jsx(Gt,{size:14}),"Color Palette"]})]}),r==="theme"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Primary Colors"}),e.jsx(R,{label:"Primary Color",value:s.primaryColor,onChange:i=>t("colors",i,["primaryColor"]),description:"Main brand color used for buttons, links, and accents"}),e.jsx(R,{label:"Secondary Color",value:s.secondaryColor,onChange:i=>t("colors",i,["secondaryColor"]),description:"Secondary brand color for additional accents"})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Text Colors"}),e.jsx(R,{label:"Text Color",value:s.textColor,onChange:i=>t("colors",i,["textColor"]),description:"Default text color for body content"}),e.jsx(R,{label:"Link Color",value:s.linkColor,onChange:i=>t("colors",i,["linkColor"]),hasHover:!0,description:"Color for links and hover state"})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Background Colors"}),e.jsx(R,{label:"Body Background",value:s.bodyBackground,onChange:i=>t("colors",i,["bodyBackground"]),description:"Main background color of the site"}),e.jsx(R,{label:"Content Background",value:s.contentBackground,onChange:i=>t("colors",i,["contentBackground"]),description:"Background color for content areas"})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Border & Dividers"}),e.jsx(R,{label:"Border Color",value:s.borderColor,onChange:i=>t("colors",i,["borderColor"]),description:"Color for borders and divider lines"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Global Color Palette"}),e.jsx("p",{className:"astra-control-description",children:"Define a color palette that can be used throughout your site. These colors will be available in all color pickers."}),e.jsx("div",{className:"astra-color-palette-grid",children:Object.entries(s.palette).map(([i,l],o)=>e.jsxs("div",{className:"astra-color-palette-item",children:[e.jsxs("span",{className:"astra-color-palette-label",children:["Color ",o+1]}),e.jsx(R,{label:"",value:l,onChange:c=>{const d={...s.palette};d[i]=c,t("colors",d,["palette"])},clearable:!1})]},i))}),e.jsx("button",{onClick:()=>{const i=`color${Object.keys(s.palette).length+1}`,l={...s.palette,[i]:"#000000"};t("colors",l,["palette"])},className:"astra-button secondary",children:"+ Add Color"})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Preset Color Schemes"}),e.jsxs("div",{className:"astra-layout-options",children:[e.jsxs("button",{onClick:()=>{t("colors",{primaryColor:"#0073aa",secondaryColor:"#ff6b6b",textColor:"#333333",linkColor:{normal:"#0073aa",hover:"#005177"},borderColor:"#dddddd",bodyBackground:"#ffffff",contentBackground:"#ffffff"},[])},className:"astra-layout-option",children:[e.jsx("div",{className:"astra-layout-option-icon",style:{background:"#0073aa"}}),e.jsx("span",{className:"astra-layout-option-label",children:"Default"})]}),e.jsxs("button",{onClick:()=>{t("colors",{primaryColor:"#1e1e1e",secondaryColor:"#646970",textColor:"#e0e0e0",linkColor:{normal:"#4ecdc4",hover:"#45b7aa"},borderColor:"#333333",bodyBackground:"#121212",contentBackground:"#1e1e1e"},[])},className:"astra-layout-option",children:[e.jsx("div",{className:"astra-layout-option-icon",style:{background:"#1e1e1e"}}),e.jsx("span",{className:"astra-layout-option-label",children:"Dark"})]}),e.jsxs("button",{onClick:()=>{t("colors",{primaryColor:"#ff6b6b",secondaryColor:"#4ecdc4",textColor:"#2c3e50",linkColor:{normal:"#ff6b6b",hover:"#ff5252"},borderColor:"#ecf0f1",bodyBackground:"#f8f9fa",contentBackground:"#ffffff"},[])},className:"astra-layout-option",children:[e.jsx("div",{className:"astra-layout-option-icon",style:{background:"#ff6b6b"}}),e.jsx("span",{className:"astra-layout-option-label",children:"Vibrant"})]}),e.jsxs("button",{onClick:()=>{t("colors",{primaryColor:"#27ae60",secondaryColor:"#e67e22",textColor:"#34495e",linkColor:{normal:"#27ae60",hover:"#229954"},borderColor:"#bdc3c7",bodyBackground:"#ecf0f1",contentBackground:"#ffffff"},[])},className:"astra-layout-option",children:[e.jsx("div",{className:"astra-layout-option-icon",style:{background:"#27ae60"}}),e.jsx("span",{className:"astra-layout-option-label",children:"Nature"})]})]})]})]})]})},la=["System Default","Arial","Helvetica","Georgia","Times New Roman","Roboto","Open Sans","Lato","Montserrat","Oswald","Raleway","Poppins","Inter","Nunito","Playfair Display","Merriweather","Ubuntu","Mukta","Rubik","Work Sans","Roboto Condensed","Noto Sans","PT Sans","Roboto Slab","Josefin Sans","Libre Baskerville","Karla","Dancing Script","Bebas Neue","Anton","Pacifico","Indie Flower","Caveat","Quicksand","Hind","Bitter","Source Code Pro","Fira Sans","Barlow","IBM Plex Sans","Crimson Text","Archivo","Arimo","Kanit","Heebo","Oxygen","Prompt","Catamaran","Dosis","Libre Franklin","Cabin","EB Garamond"],lt={"Sans Serif":["System Default","Arial","Helvetica","Roboto","Open Sans","Lato","Montserrat","Raleway","Poppins","Inter","Nunito","Ubuntu","Mukta","Rubik","Work Sans","Noto Sans","PT Sans","Josefin Sans","Karla","Quicksand","Hind","Fira Sans","Barlow","IBM Plex Sans","Archivo","Arimo","Kanit","Heebo","Oxygen","Prompt","Catamaran","Dosis","Libre Franklin","Cabin"],Serif:["Georgia","Times New Roman","Playfair Display","Merriweather","Roboto Slab","Libre Baskerville","Bitter","Crimson Text","EB Garamond"],Display:["Oswald","Bebas Neue","Anton"],Handwriting:["Dancing Script","Pacifico","Indie Flower","Caveat"],Monospace:["Source Code Pro"]},Ce=({label:a,value:t,onChange:s,description:r,showPreview:n=!0})=>{const[i,l]=p.useState(!1),[o,c]=p.useState(""),[d,g]=p.useState("all"),[v,f]=p.useState(new Set),k=p.useMemo(()=>{let m=la;return d!=="all"&&(m=m.filter(u=>lt[d]?.includes(u))),o&&(m=m.filter(u=>u.toLowerCase().includes(o.toLowerCase()))),m},[o,d]),x=m=>{if(v.has(m)||m==="System Default")return;const u=document.createElement("link");u.href=`https://fonts.googleapis.com/css2?family=${m.replace(" ","+")}:wght@300;400;500;600;700&display=swap`,u.rel="stylesheet",document.head.appendChild(u),f(N=>new Set(N).add(m))};p.useEffect(()=>{t&&t!=="System Default"&&x(t)},[t]);const y=m=>m==="System Default"?'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif':`"${m}", sans-serif`,b=m=>{s(m),l(!1),c("")};return p.useEffect(()=>{const m=u=>{u.target.closest(".google-font-selector")||l(!1)};return i&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[i]),e.jsxs("div",{className:"astra-control google-font-selector",children:[e.jsxs("div",{className:"astra-control-header",children:[e.jsx("label",{className:"astra-control-label",children:a}),r&&e.jsx("span",{className:"astra-control-description",children:r})]}),e.jsxs("div",{className:"google-font-selector-container",children:[e.jsxs("button",{onClick:()=>l(!i),className:"google-font-selector-trigger",style:{fontFamily:y(t)},children:[e.jsx("span",{className:"google-font-selector-value",children:t||"Select Font"}),e.jsx("span",{className:"google-font-selector-arrow",children:"▼"})]}),n&&t&&e.jsx("div",{className:"google-font-preview",style:{fontFamily:y(t)},children:"The quick brown fox jumps over the lazy dog"}),i&&e.jsxs("div",{className:"google-font-dropdown",children:[e.jsxs("div",{className:"google-font-header",children:[e.jsxs("div",{className:"google-font-search",children:[e.jsx(Re,{size:14}),e.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value),placeholder:"Search fonts...",className:"google-font-search-input",autoFocus:!0})]}),e.jsxs("div",{className:"google-font-categories",children:[e.jsx("button",{onClick:()=>g("all"),className:`google-font-category ${d==="all"?"active":""}`,children:"All"}),Object.keys(lt).map(m=>e.jsx("button",{onClick:()=>g(m),className:`google-font-category ${d===m?"active":""}`,children:m},m))]})]}),e.jsx("div",{className:"google-font-list",children:k.length>0?k.map(m=>{const u=()=>{m!=="System Default"&&x(m)};return e.jsx("button",{onClick:()=>b(m),onMouseEnter:u,className:`google-font-option ${m===t?"selected":""}`,style:{fontFamily:v.has(m)?y(m):"inherit"},children:m},m)}):e.jsx("div",{className:"google-font-empty",children:"No fonts found"})})]})]})]})},M=({label:a,value:t,onChange:s,options:r,description:n,placeholder:i="Select an option",disabled:l=!1,searchable:o=!1})=>{const[c,d]=A.useState(!1),[g,v]=A.useState(""),f=A.useRef(null),k=r.map(w=>typeof w=="string"?{value:w,label:w}:w),x=k.reduce((w,S)=>{const z=S.group||"default";return w[z]||(w[z]=[]),w[z].push(S),w},{}),y=g?k.filter(w=>w.label.toLowerCase().includes(g.toLowerCase())):k,m=k.find(w=>w.value===t)?.label||i;A.useEffect(()=>{const w=S=>{f.current&&!f.current.contains(S.target)&&(d(!1),v(""))};return c&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[c]);const u=w=>{s(w),d(!1),v("")},N=()=>Object.keys(x).length===1&&x.default?y.map(w=>e.jsx("button",{onClick:()=>u(w.value),className:`astra-select-option ${w.value===t?"selected":""} ${w.disabled?"disabled":""}`,disabled:w.disabled,children:w.label},w.value)):Object.entries(x).map(([w,S])=>e.jsxs("div",{className:"astra-select-group",children:[w!=="default"&&e.jsx("div",{className:"astra-select-group-label",children:w}),S.filter(z=>!g||y.includes(z)).map(z=>e.jsx("button",{onClick:()=>u(z.value),className:`astra-select-option ${z.value===t?"selected":""} ${z.disabled?"disabled":""}`,disabled:z.disabled,children:z.label},z.value))]},w));return e.jsxs("div",{className:"astra-control astra-select",ref:f,children:[e.jsxs("div",{className:"astra-control-header",children:[e.jsx("label",{className:"astra-control-label",children:a}),n&&e.jsx("span",{className:"astra-control-description",children:n})]}),e.jsxs("div",{className:"astra-select-container",children:[e.jsxs("button",{onClick:()=>!l&&d(!c),className:`astra-select-trigger ${c?"open":""} ${l?"disabled":""}`,disabled:l,children:[e.jsx("span",{className:"astra-select-value",children:m}),e.jsx(Vt,{size:16,className:"astra-select-icon"})]}),c&&e.jsxs("div",{className:"astra-select-dropdown",children:[o&&e.jsx("div",{className:"astra-select-search",children:e.jsx("input",{type:"text",value:g,onChange:w=>v(w.target.value),placeholder:"Search...",className:"astra-select-search-input",autoFocus:!0})}),e.jsx("div",{className:"astra-select-options",children:y.length>0?N():e.jsx("div",{className:"astra-select-empty",children:"No options found"})})]})]})]})},ca=()=>{const{settings:a,updateSetting:t}=V(),s=a.typography,[r,n]=A.useState("body"),[i,l]=A.useState(null),o=[{value:"100",label:"Thin (100)"},{value:"200",label:"Extra Light (200)"},{value:"300",label:"Light (300)"},{value:"400",label:"Normal (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi Bold (600)"},{value:"700",label:"Bold (700)"},{value:"800",label:"Extra Bold (800)"},{value:"900",label:"Black (900)"}],c=[{value:"none",label:"None"},{value:"capitalize",label:"Capitalize"},{value:"uppercase",label:"UPPERCASE"},{value:"lowercase",label:"lowercase"}];return e.jsxs("div",{className:"astra-section typography-section",children:[e.jsx("div",{className:"astra-section-title",children:"Typography"}),e.jsxs("div",{className:"astra-tabs",children:[e.jsxs("button",{onClick:()=>n("body"),className:`astra-tab ${r==="body"?"active":""}`,children:[e.jsx(pt,{size:14}),"Body"]}),e.jsxs("button",{onClick:()=>n("headings"),className:`astra-tab ${r==="headings"?"active":""}`,children:[e.jsx(Kt,{size:14}),"Headings"]}),e.jsxs("button",{onClick:()=>n("buttons"),className:`astra-tab ${r==="buttons"?"active":""}`,children:[e.jsx(Jt,{size:14}),"Buttons"]})]}),r==="body"&&e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Body Typography"}),e.jsx(Ce,{label:"Font Family",value:s.bodyFont.fontFamily,onChange:d=>t("typography",d,["bodyFont","fontFamily"]),description:"Choose the main font for your site's body text"}),e.jsx($,{label:"Font Size",value:s.bodyFont.fontSize,onChange:d=>t("typography",d,["bodyFont","fontSize"]),min:10,max:30,unit:"px",responsive:!0,description:"Base font size for body text"}),e.jsx(M,{label:"Font Weight",value:String(s.bodyFont.fontWeight),onChange:d=>t("typography",Number(d),["bodyFont","fontWeight"]),options:o,description:"Weight of the body font"}),e.jsx($,{label:"Line Height",value:s.bodyFont.lineHeight,onChange:d=>t("typography",d,["bodyFont","lineHeight"]),min:1,max:3,step:.1,unit:"em",responsive:!0,description:"Space between lines of text"}),e.jsx($,{label:"Letter Spacing",value:s.bodyFont.letterSpacing,onChange:d=>t("typography",d,["bodyFont","letterSpacing"]),min:-2,max:5,step:.1,unit:"px",responsive:!0,description:"Space between individual letters"}),e.jsx(M,{label:"Text Transform",value:s.bodyFont.textTransform,onChange:d=>t("typography",d,["bodyFont","textTransform"]),options:c,description:"Transform text case"})]}),r==="headings"&&e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Heading Typography"}),["h1","h2","h3","h4","h5","h6"].map(d=>{const g=s.headings[d],v=i===d;return e.jsxs("div",{className:"astra-accordion",children:[e.jsxs("button",{onClick:()=>l(v?null:d),className:`astra-accordion-header ${v?"active":""}`,children:[e.jsxs("span",{children:[d.toUpperCase()," - Heading"]}),e.jsx("span",{className:"astra-accordion-icon",children:"▼"})]}),v&&e.jsxs("div",{className:"astra-accordion-content",children:[e.jsx(Ce,{label:"Font Family",value:g.fontFamily,onChange:f=>t("typography",f,["headings",d,"fontFamily"]),showPreview:!1}),e.jsxs("div",{className:"astra-typography-group",children:[e.jsx($,{label:"Font Size",value:g.fontSize,onChange:f=>t("typography",f,["headings",d,"fontSize"]),min:10,max:80,unit:"px",responsive:!0}),e.jsx(M,{label:"Font Weight",value:String(g.fontWeight),onChange:f=>t("typography",Number(f),["headings",d,"fontWeight"]),options:o})]}),e.jsxs("div",{className:"astra-typography-group",children:[e.jsx($,{label:"Line Height",value:g.lineHeight,onChange:f=>t("typography",f,["headings",d,"lineHeight"]),min:.5,max:3,step:.1,unit:"em",responsive:!0}),e.jsx($,{label:"Letter Spacing",value:g.letterSpacing,onChange:f=>t("typography",f,["headings",d,"letterSpacing"]),min:-5,max:10,step:.1,unit:"px",responsive:!0})]}),e.jsx(M,{label:"Text Transform",value:g.textTransform,onChange:f=>t("typography",f,["headings",d,"textTransform"]),options:c})]})]},d)})]}),r==="buttons"&&e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Button Typography"}),e.jsx(Ce,{label:"Font Family",value:s.button.fontFamily,onChange:d=>t("typography",d,["button","fontFamily"]),description:"Font for buttons and call-to-action elements"}),e.jsx($,{label:"Font Size",value:s.button.fontSize,onChange:d=>t("typography",d,["button","fontSize"]),min:10,max:24,unit:"px",responsive:!0,description:"Button text size"}),e.jsx(M,{label:"Font Weight",value:String(s.button.fontWeight),onChange:d=>t("typography",Number(d),["button","fontWeight"]),options:o,description:"Button font weight"}),e.jsx($,{label:"Letter Spacing",value:s.button.letterSpacing,onChange:d=>t("typography",d,["button","letterSpacing"]),min:0,max:5,step:.1,unit:"px",responsive:!0,description:"Space between button text letters"}),e.jsx(M,{label:"Text Transform",value:s.button.textTransform,onChange:d=>t("typography",d,["button","textTransform"]),options:c,description:"Button text transformation"})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Preview"}),e.jsxs("div",{className:"astra-typography-preview",children:[e.jsx("h1",{style:{fontFamily:s.headings.h1.fontFamily,fontSize:`${s.headings.h1.fontSize.desktop}px`,fontWeight:s.headings.h1.fontWeight,lineHeight:s.headings.h1.lineHeight.desktop,letterSpacing:`${s.headings.h1.letterSpacing.desktop}px`,textTransform:s.headings.h1.textTransform},children:"Heading 1 Example"}),e.jsx("h2",{style:{fontFamily:s.headings.h2.fontFamily,fontSize:`${s.headings.h2.fontSize.desktop}px`,fontWeight:s.headings.h2.fontWeight,lineHeight:s.headings.h2.lineHeight.desktop,letterSpacing:`${s.headings.h2.letterSpacing.desktop}px`,textTransform:s.headings.h2.textTransform},children:"Heading 2 Example"}),e.jsx("p",{style:{fontFamily:s.bodyFont.fontFamily,fontSize:`${s.bodyFont.fontSize.desktop}px`,fontWeight:s.bodyFont.fontWeight,lineHeight:s.bodyFont.lineHeight.desktop,letterSpacing:`${s.bodyFont.letterSpacing.desktop}px`,textTransform:s.bodyFont.textTransform},children:"This is a paragraph of body text. The quick brown fox jumps over the lazy dog. This preview shows how your typography settings will look on the actual site."}),e.jsx("button",{style:{fontFamily:s.button.fontFamily,fontSize:`${s.button.fontSize.desktop}px`,fontWeight:s.button.fontWeight,letterSpacing:`${s.button.letterSpacing.desktop}px`,textTransform:s.button.textTransform,padding:"10px 20px",background:a.colors.primaryColor,color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Button Example"})]})]})]})},Te=()=>{const{settings:a,updateSetting:t}=V(),s=a.container,r=a.sidebar,[n,i]=A.useState("container"),l=[{value:"no-sidebar",label:"No Sidebar"},{value:"left-sidebar",label:"Left Sidebar"},{value:"right-sidebar",label:"Right Sidebar"},{value:"both-sidebars",label:"Both Sidebars"}];return e.jsxs("div",{className:"astra-section container-section",children:[e.jsx("div",{className:"astra-section-title",children:"Layout"}),e.jsxs("div",{className:"astra-tabs",children:[e.jsxs("button",{onClick:()=>i("container"),className:`astra-tab ${n==="container"?"active":""}`,children:[e.jsx(We,{size:14}),"Container"]}),e.jsxs("button",{onClick:()=>i("sidebar"),className:`astra-tab ${n==="sidebar"?"active":""}`,children:[e.jsx(Yt,{size:14}),"Sidebar"]})]}),n==="container"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Container Layout"}),e.jsxs("div",{className:"astra-control",children:[e.jsx("label",{className:"astra-control-label",children:"Layout Style"}),e.jsxs("div",{className:"astra-layout-options",children:[e.jsxs("button",{onClick:()=>t("container","boxed",["layout"]),className:`astra-layout-option ${s.layout==="boxed"?"selected":""}`,children:[e.jsx("div",{className:"astra-layout-option-icon",children:e.jsx(Qt,{size:20})}),e.jsx("span",{className:"astra-layout-option-label",children:"Boxed"})]}),e.jsxs("button",{onClick:()=>t("container","full-width",["layout"]),className:`astra-layout-option ${s.layout==="full-width"?"selected":""}`,children:[e.jsx("div",{className:"astra-layout-option-icon",children:e.jsx(Zt,{size:20})}),e.jsx("span",{className:"astra-layout-option-label",children:"Full Width"})]}),e.jsxs("button",{onClick:()=>t("container","fluid",["layout"]),className:`astra-layout-option ${s.layout==="fluid"?"selected":""}`,children:[e.jsx("div",{className:"astra-layout-option-icon",children:e.jsx(We,{size:20})}),e.jsx("span",{className:"astra-layout-option-label",children:"Fluid"})]})]}),e.jsx("p",{className:"astra-control-description",children:"Choose how your content will be contained within the browser window"})]}),s.layout!=="full-width"&&e.jsx($,{label:"Container Width",value:s.width,onChange:o=>t("container",o,["width"]),min:768,max:1920,unit:"px",responsive:!0,description:"Maximum width of the content container"})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Container Spacing"}),e.jsxs("div",{className:"astra-responsive-controls",children:[e.jsx("div",{className:"astra-responsive-header",children:e.jsx("span",{className:"astra-responsive-label",children:"Padding"})}),e.jsxs("div",{className:"astra-typography-group",children:[e.jsx($,{label:"Top",value:{desktop:s.padding.desktop.top,tablet:s.padding.tablet.top,mobile:s.padding.mobile.top},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("container",c,["padding","desktop","top"]),typeof o!="number"&&(t("container",o.tablet,["padding","tablet","top"]),t("container",o.mobile,["padding","mobile","top"]))},min:0,max:100,unit:"px",responsive:!0}),e.jsx($,{label:"Bottom",value:{desktop:s.padding.desktop.bottom,tablet:s.padding.tablet.bottom,mobile:s.padding.mobile.bottom},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("container",c,["padding","desktop","bottom"]),typeof o!="number"&&(t("container",o.tablet,["padding","tablet","bottom"]),t("container",o.mobile,["padding","mobile","bottom"]))},min:0,max:100,unit:"px",responsive:!0})]}),e.jsxs("div",{className:"astra-typography-group",children:[e.jsx($,{label:"Left",value:{desktop:s.padding.desktop.left,tablet:s.padding.tablet.left,mobile:s.padding.mobile.left},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("container",c,["padding","desktop","left"]),typeof o!="number"&&(t("container",o.tablet,["padding","tablet","left"]),t("container",o.mobile,["padding","mobile","left"]))},min:0,max:100,unit:"px",responsive:!0}),e.jsx($,{label:"Right",value:{desktop:s.padding.desktop.right,tablet:s.padding.tablet.right,mobile:s.padding.mobile.right},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("container",c,["padding","desktop","right"]),typeof o!="number"&&(t("container",o.tablet,["padding","tablet","right"]),t("container",o.mobile,["padding","mobile","right"]))},min:0,max:100,unit:"px",responsive:!0})]})]}),e.jsxs("div",{className:"astra-responsive-controls",children:[e.jsx("div",{className:"astra-responsive-header",children:e.jsx("span",{className:"astra-responsive-label",children:"Margin"})}),e.jsxs("div",{className:"astra-typography-group",children:[e.jsx($,{label:"Top",value:{desktop:s.margin.desktop.top,tablet:s.margin.tablet.top,mobile:s.margin.mobile.top},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("container",c,["margin","desktop","top"]),typeof o!="number"&&(t("container",o.tablet,["margin","tablet","top"]),t("container",o.mobile,["margin","mobile","top"]))},min:0,max:200,unit:"px",responsive:!0}),e.jsx($,{label:"Bottom",value:{desktop:s.margin.desktop.bottom,tablet:s.margin.tablet.bottom,mobile:s.margin.mobile.bottom},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("container",c,["margin","desktop","bottom"]),typeof o!="number"&&(t("container",o.tablet,["margin","tablet","bottom"]),t("container",o.mobile,["margin","mobile","bottom"]))},min:0,max:200,unit:"px",responsive:!0})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Sidebar Layout"}),e.jsx(M,{label:"Sidebar Position",value:r.layout,onChange:o=>t("sidebar",o,["layout"]),options:l,description:"Choose where to display the sidebar"}),r.layout!=="no-sidebar"&&e.jsxs(e.Fragment,{children:[e.jsx($,{label:"Sidebar Width",value:r.width,onChange:o=>t("sidebar",o,["width"]),min:15,max:50,unit:"%",responsive:!0,description:"Width of the sidebar relative to the container"}),e.jsx($,{label:"Content Gap",value:r.gap,onChange:o=>t("sidebar",o,["gap"]),min:0,max:100,unit:"px",responsive:!0,description:"Space between content and sidebar"})]})]}),r.layout!=="no-sidebar"&&e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Responsive Behavior"}),e.jsx("p",{className:"astra-control-description",children:"On mobile devices, the sidebar will automatically move below the main content for better readability."}),e.jsx("div",{className:"astra-help-text",children:"💡 Tip: You can set different sidebar widths for tablet and mobile devices using the responsive controls above."})]})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Layout Preview"}),e.jsx("div",{className:"astra-layout-preview",children:e.jsx("div",{className:"astra-layout-preview-container",style:{maxWidth:s.layout==="full-width"?"100%":`${s.width.desktop}px`,margin:"0 auto",padding:`${s.padding.desktop.top}px ${s.padding.desktop.right}px ${s.padding.desktop.bottom}px ${s.padding.desktop.left}px`},children:e.jsxs("div",{className:"astra-layout-preview-content",style:{display:"flex",gap:r.layout!=="no-sidebar"?`${r.gap.desktop}px`:0,flexDirection:r.layout==="left-sidebar"?"row-reverse":"row"},children:[e.jsx("div",{className:"astra-layout-preview-main",style:{flex:r.layout!=="no-sidebar"?`1 1 ${100-r.width.desktop}%`:"1 1 100%",background:"#e0e0e0",padding:"20px",borderRadius:"4px",minHeight:"100px"},children:"Main Content"}),r.layout!=="no-sidebar"&&e.jsx("div",{className:"astra-layout-preview-sidebar",style:{flex:`0 0 ${r.width.desktop}%`,background:"#f0f0f0",padding:"20px",borderRadius:"4px",minHeight:"100px"},children:"Sidebar"})]})})})]})]})},da=()=>{const{settings:a,updateSetting:t}=V(),s=a.header,[r,n]=A.useState("general"),i=[{value:"header-main-layout-1",label:"Layout 1 - Logo Left, Menu Right"},{value:"header-main-layout-2",label:"Layout 2 - Logo Center, Menu Below"},{value:"header-main-layout-3",label:"Layout 3 - Logo Right, Menu Left"}],l=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}],o=[{value:"menu",label:"Navigation Menu"},{value:"search",label:"Search Box"},{value:"account",label:"Account"},{value:"cart",label:"Cart"},{value:"breadcrumb",label:"Breadcrumb"},{value:"custom-html",label:"Custom HTML"}];return e.jsxs("div",{className:"astra-section header-section",children:[e.jsx("div",{className:"astra-section-title",children:"Header"}),e.jsxs("div",{className:"astra-tabs",children:[e.jsxs("button",{onClick:()=>n("general"),className:`astra-tab ${r==="general"?"active":""}`,children:[e.jsx(Xt,{size:14}),"General"]}),e.jsxs("button",{onClick:()=>n("primary"),className:`astra-tab ${r==="primary"?"active":""}`,children:[e.jsx(es,{size:14}),"Primary Header"]}),e.jsxs("button",{onClick:()=>n("above"),className:`astra-tab ${r==="above"?"active":""}`,children:[e.jsx(Ue,{size:14}),"Above Header"]}),e.jsxs("button",{onClick:()=>n("below"),className:`astra-tab ${r==="below"?"active":""}`,children:[e.jsx(Ue,{size:14}),"Below Header"]})]}),r==="general"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Header Layout"}),e.jsx(M,{label:"Header Layout",value:s.layout,onChange:c=>t("header",c,["layout"]),options:i,description:"Choose the header layout structure"})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Header Behavior"}),e.jsx(q,{label:"Sticky Header",value:s.sticky,onChange:c=>t("header",c,["sticky"]),description:"Keep header visible when scrolling"}),e.jsx(q,{label:"Transparent Header",value:s.transparentHeader,onChange:c=>t("header",c,["transparentHeader"]),description:"Make header transparent on homepage"})]})]}),r==="primary"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Primary Header"}),e.jsx($,{label:"Header Height",value:s.primary.height,onChange:c=>t("header",c,["primary","height"]),min:30,max:200,unit:"px",responsive:!0,description:"Height of the primary header area"}),e.jsx(R,{label:"Background Color",value:s.primary.background,onChange:c=>t("header",c,["primary","background"]),description:"Primary header background color"}),e.jsx(M,{label:"Menu Alignment",value:s.primary.menuAlignment,onChange:c=>t("header",c,["primary","menuAlignment"]),options:l,description:"Alignment of the navigation menu"})]})}),r==="above"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Above Header"}),e.jsx(q,{label:"Enable Above Header",value:s.above.enabled,onChange:c=>t("header",c,["above","enabled"]),description:"Add an additional header section above the main header"}),s.above.enabled&&e.jsxs(e.Fragment,{children:[e.jsx($,{label:"Height",value:s.above.height,onChange:c=>t("header",c,["above","height"]),min:20,max:100,unit:"px",responsive:!0}),e.jsx(R,{label:"Background Color",value:s.above.background,onChange:c=>t("header",c,["above","background"])}),e.jsxs("div",{className:"astra-control",children:[e.jsx("label",{className:"astra-control-label",children:"Content Elements"}),e.jsx("p",{className:"astra-control-description",children:"Select elements to display in the above header section"}),e.jsx("div",{className:"astra-checkbox-group",children:o.slice(0,4).map(c=>e.jsxs("label",{className:"astra-checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:s.above.content.includes(c.value),onChange:d=>{const g=d.target.checked?[...s.above.content,c.value]:s.above.content.filter(v=>v!==c.value);t("header",g,["above","content"])}}),c.label]},c.value))})]})]})]})}),r==="below"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Below Header"}),e.jsx(q,{label:"Enable Below Header",value:s.below.enabled,onChange:c=>t("header",c,["below","enabled"]),description:"Add an additional header section below the main header"}),s.below.enabled&&e.jsxs(e.Fragment,{children:[e.jsx($,{label:"Height",value:s.below.height,onChange:c=>t("header",c,["below","height"]),min:20,max:100,unit:"px",responsive:!0}),e.jsx(R,{label:"Background Color",value:s.below.background,onChange:c=>t("header",c,["below","background"])}),e.jsxs("div",{className:"astra-control",children:[e.jsx("label",{className:"astra-control-label",children:"Content Elements"}),e.jsx("p",{className:"astra-control-description",children:"Select elements to display in the below header section"}),e.jsx("div",{className:"astra-checkbox-group",children:[o[0],o[1],o[4],o[5]].map(c=>e.jsxs("label",{className:"astra-checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:s.below.content.includes(c.value),onChange:d=>{const g=d.target.checked?[...s.below.content,c.value]:s.below.content.filter(v=>v!==c.value);t("header",g,["below","content"])}}),c.label]},c.value))})]})]})]})}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Header Preview"}),e.jsxs("div",{className:"astra-header-preview",children:[s.above.enabled&&e.jsxs("div",{className:"astra-header-preview-above",style:{height:`${s.above.height.desktop}px`,background:s.above.background,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",color:"#646970"},children:["Above Header - ",s.above.content.join(", ")||"No content"]}),e.jsxs("div",{className:"astra-header-preview-primary",style:{height:`${s.primary.height.desktop}px`,background:s.primary.background,display:"flex",alignItems:"center",padding:"0 20px",borderTop:s.above.enabled?"1px solid #e0e0e0":"none",borderBottom:s.below.enabled?"1px solid #e0e0e0":"none"},children:[e.jsx("div",{style:{flex:1},children:e.jsx("div",{style:{width:"120px",height:"30px",background:"#e0e0e0",borderRadius:"3px"}})}),e.jsx("div",{style:{flex:2,textAlign:s.primary.menuAlignment,fontSize:"11px",color:"#646970"},children:"Navigation Menu"})]}),s.below.enabled&&e.jsxs("div",{className:"astra-header-preview-below",style:{height:`${s.below.height.desktop}px`,background:s.below.background,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",color:"#646970"},children:["Below Header - ",s.below.content.join(", ")||"No content"]})]})]})]})},ua=()=>{const{settings:a,updateSetting:t}=V(),s=a.footer,[r,n]=A.useState("widgets"),i=[{value:"footer-layout-1",label:"Layout 1 - Equal Columns"},{value:"footer-layout-2",label:"Layout 2 - Wide First Column"},{value:"footer-layout-3",label:"Layout 3 - Wide Last Column"}],l=[{value:"layout-1",label:"Layout 1 - Text Left, Menu Right"},{value:"layout-2",label:"Layout 2 - Centered Text"}];return e.jsxs("div",{className:"astra-section footer-section",children:[e.jsx("div",{className:"astra-section-title",children:"Footer"}),e.jsxs("div",{className:"astra-tabs",children:[e.jsxs("button",{onClick:()=>n("widgets"),className:`astra-tab ${r==="widgets"?"active":""}`,children:[e.jsx(dt,{size:14}),"Footer Widgets"]}),e.jsxs("button",{onClick:()=>n("bottom"),className:`astra-tab ${r==="bottom"?"active":""}`,children:[e.jsx(pt,{size:14}),"Bottom Bar"]})]}),r==="widgets"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Footer Widgets"}),e.jsx(q,{label:"Enable Footer Widgets",value:s.widgets.enabled,onChange:o=>t("footer",o,["widgets","enabled"]),description:"Display widget areas in the footer"}),s.widgets.enabled&&e.jsxs(e.Fragment,{children:[e.jsx(M,{label:"Footer Layout",value:s.layout,onChange:o=>t("footer",o,["layout"]),options:i,description:"Choose footer widget layout"}),e.jsx($,{label:"Number of Columns",value:s.widgets.columns,onChange:o=>t("footer",o,["widgets","columns"]),min:1,max:6,step:1,responsive:!0,description:"Number of widget columns"}),e.jsx(R,{label:"Background Color",value:s.widgets.background,onChange:o=>t("footer",o,["widgets","background"]),description:"Footer widgets background color"}),e.jsx(R,{label:"Text Color",value:s.widgets.textColor,onChange:o=>t("footer",o,["widgets","textColor"]),description:"Footer widgets text color"}),e.jsx(R,{label:"Link Color",value:s.widgets.linkColor,onChange:o=>t("footer",o,["widgets","linkColor"]),hasHover:!0,description:"Footer widgets link color"})]})]}),s.widgets.enabled&&e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Widget Area Spacing"}),e.jsxs("div",{className:"astra-typography-group",children:[e.jsx($,{label:"Padding Top",value:{desktop:s.widgets.padding.desktop.top,tablet:s.widgets.padding.tablet.top,mobile:s.widgets.padding.mobile.top},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("footer",c,["widgets","padding","desktop","top"]),typeof o!="number"&&(t("footer",o.tablet,["widgets","padding","tablet","top"]),t("footer",o.mobile,["widgets","padding","mobile","top"]))},min:0,max:200,unit:"px",responsive:!0}),e.jsx($,{label:"Padding Bottom",value:{desktop:s.widgets.padding.desktop.bottom,tablet:s.widgets.padding.tablet.bottom,mobile:s.widgets.padding.mobile.bottom},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("footer",c,["widgets","padding","desktop","bottom"]),typeof o!="number"&&(t("footer",o.tablet,["widgets","padding","tablet","bottom"]),t("footer",o.mobile,["widgets","padding","mobile","bottom"]))},min:0,max:200,unit:"px",responsive:!0})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Bottom Bar"}),e.jsx(q,{label:"Enable Bottom Bar",value:s.bottomBar.enabled,onChange:o=>t("footer",o,["bottomBar","enabled"]),description:"Display copyright/bottom bar section"}),s.bottomBar.enabled&&e.jsxs(e.Fragment,{children:[e.jsx(M,{label:"Bottom Bar Layout",value:s.bottomBar.layout,onChange:o=>t("footer",o,["bottomBar","layout"]),options:l,description:"Choose bottom bar layout"}),e.jsxs("div",{className:"astra-control",children:[e.jsx("label",{className:"astra-control-label",children:"Copyright Text"}),e.jsx("textarea",{value:s.bottomBar.section1,onChange:o=>t("footer",o.target.value,["bottomBar","section1"]),className:"astra-textarea",placeholder:"© 2024 Your Company. All rights reserved.",rows:3}),e.jsx("span",{className:"astra-control-description",children:"You can use HTML and shortcodes here"})]}),s.bottomBar.layout==="layout-1"&&e.jsxs("div",{className:"astra-control",children:[e.jsx("label",{className:"astra-control-label",children:"Right Section Content"}),e.jsx("input",{type:"text",value:s.bottomBar.section2,onChange:o=>t("footer",o.target.value,["bottomBar","section2"]),className:"astra-text-input",placeholder:"Privacy Policy | Terms of Service"}),e.jsx("span",{className:"astra-control-description",children:"Additional content for the right section"})]}),e.jsx(R,{label:"Background Color",value:s.bottomBar.background,onChange:o=>t("footer",o,["bottomBar","background"]),description:"Bottom bar background color"}),e.jsx(R,{label:"Text Color",value:s.bottomBar.textColor,onChange:o=>t("footer",o,["bottomBar","textColor"]),description:"Bottom bar text color"}),e.jsx(R,{label:"Link Color",value:s.bottomBar.linkColor,onChange:o=>t("footer",o,["bottomBar","linkColor"]),hasHover:!0,description:"Bottom bar link color"})]})]}),s.bottomBar.enabled&&e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Bottom Bar Spacing"}),e.jsxs("div",{className:"astra-typography-group",children:[e.jsx($,{label:"Padding Top",value:{desktop:s.bottomBar.padding.desktop.top,tablet:s.bottomBar.padding.tablet.top,mobile:s.bottomBar.padding.mobile.top},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("footer",c,["bottomBar","padding","desktop","top"]),typeof o!="number"&&(t("footer",o.tablet,["bottomBar","padding","tablet","top"]),t("footer",o.mobile,["bottomBar","padding","mobile","top"]))},min:0,max:100,unit:"px",responsive:!0}),e.jsx($,{label:"Padding Bottom",value:{desktop:s.bottomBar.padding.desktop.bottom,tablet:s.bottomBar.padding.tablet.bottom,mobile:s.bottomBar.padding.mobile.bottom},onChange:o=>{const c=typeof o=="number"?o:o.desktop;t("footer",c,["bottomBar","padding","desktop","bottom"]),typeof o!="number"&&(t("footer",o.tablet,["bottomBar","padding","tablet","bottom"]),t("footer",o.mobile,["bottomBar","padding","mobile","bottom"]))},min:0,max:100,unit:"px",responsive:!0})]})]})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Footer Preview"}),e.jsxs("div",{className:"astra-footer-preview",children:[s.widgets.enabled&&e.jsx("div",{className:"astra-footer-preview-widgets",style:{background:s.widgets.background,color:s.widgets.textColor,padding:`${s.widgets.padding.desktop.top}px 20px ${s.widgets.padding.desktop.bottom}px`},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${s.widgets.columns.desktop}, 1fr)`,gap:"30px"},children:Array.from({length:s.widgets.columns.desktop},(o,c)=>e.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",padding:"15px",borderRadius:"3px",minHeight:"80px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",opacity:.7},children:["Widget ",c+1]},c))})}),s.bottomBar.enabled&&e.jsx("div",{className:"astra-footer-preview-bottom",style:{background:s.bottomBar.background,color:s.bottomBar.textColor,padding:`${s.bottomBar.padding.desktop.top}px 20px ${s.bottomBar.padding.desktop.bottom}px`,borderTop:s.widgets.enabled?"1px solid rgba(255,255,255,0.1)":"none"},children:s.bottomBar.layout==="layout-1"?e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{style:{fontSize:"12px"},children:s.bottomBar.section1||"© 2024 Your Company"}),e.jsx("div",{style:{fontSize:"12px"},children:s.bottomBar.section2||"Privacy | Terms"})]}):e.jsx("div",{style:{textAlign:"center",fontSize:"12px"},children:s.bottomBar.section1||"© 2024 Your Company"})})]})]})]})},pa=()=>{const{state:a,setSettings:t,resetSettings:s}=Q(),[r,n]=p.useState("export"),[i,l]=p.useState(""),[o,c]=p.useState(!1),[d,g]=p.useState(null),[v,f]=p.useState(null),k=p.useRef(null),x=()=>{const u=JSON.stringify(a.settings,null,2),N="data:application/json;charset=utf-8,"+encodeURIComponent(u),w=`astra-customizer-settings-${new Date().toISOString().split("T")[0]}.json`,S=document.createElement("a");S.setAttribute("href",N),S.setAttribute("download",w),S.click(),f("Settings exported successfully!"),setTimeout(()=>f(null),3e3)},y=async()=>{try{await navigator.clipboard.writeText(JSON.stringify(a.settings,null,2)),c(!0),setTimeout(()=>c(!1),2e3)}catch{g("Failed to copy to clipboard"),setTimeout(()=>g(null),3e3)}},b=()=>{try{const u=JSON.parse(i);if(!u||typeof u!="object")throw new Error("Invalid settings format");const N=ne(),w=ie(N,u);w._meta={...w._meta,lastModified:new Date().toISOString(),isDirty:!0},t(w),f("Settings imported successfully!"),l(""),setTimeout(()=>f(null),3e3)}catch{g("Invalid JSON format. Please check your settings data."),setTimeout(()=>g(null),5e3)}},m=u=>{const N=u.target.files?.[0];if(!N)return;const w=new FileReader;w.onload=S=>{const z=S.target?.result;l(z),f("File loaded. Click Import to apply settings."),setTimeout(()=>f(null),3e3)},w.onerror=()=>{g("Failed to read file"),setTimeout(()=>g(null),3e3)},w.readAsText(N)};return e.jsxs("div",{className:"astra-section import-export-section",children:[e.jsx("div",{className:"astra-section-title",children:"Import / Export Settings"}),e.jsxs("div",{className:"astra-tabs",children:[e.jsxs("button",{onClick:()=>n("export"),className:`astra-tab ${r==="export"?"active":""}`,children:[e.jsx(qe,{size:14}),"Export"]}),e.jsxs("button",{onClick:()=>n("import"),className:`astra-tab ${r==="import"?"active":""}`,children:[e.jsx(X,{size:14}),"Import"]})]}),d&&e.jsxs("div",{className:"astra-notification error",children:[e.jsx(ut,{size:16}),d]}),v&&e.jsxs("div",{className:"astra-notification success",children:[e.jsx(ee,{size:16}),v]}),r==="export"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Export Current Settings"}),e.jsx("p",{className:"astra-control-description",children:"Export your customizer settings to a JSON file or copy to clipboard. You can use this to backup your settings or transfer them to another site."}),e.jsxs("div",{className:"astra-button-group",children:[e.jsxs("button",{onClick:x,className:"astra-button",children:[e.jsx(qe,{size:16}),"Download JSON File"]}),e.jsxs("button",{onClick:y,className:"astra-button secondary",children:[o?e.jsx(ee,{size:16}):e.jsx(ts,{size:16}),o?"Copied!":"Copy to Clipboard"]})]})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Current Settings Preview"}),e.jsx("div",{className:"astra-code-block",children:e.jsxs("pre",{children:[JSON.stringify(a.settings,null,2).slice(0,500),"..."]})}),e.jsx("p",{className:"astra-help-text",children:"This is a preview of your current settings in JSON format."})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"astra-section-group",children:[e.jsx("h4",{className:"astra-group-title",children:"Import Settings"}),e.jsx("p",{className:"astra-control-description",children:"Import customizer settings from a JSON file or paste JSON data directly. This will override your current settings."}),e.jsxs("div",{className:"astra-import-options",children:[e.jsx("input",{ref:k,type:"file",accept:".json,application/json",onChange:m,style:{display:"none"}}),e.jsxs("button",{onClick:()=>k.current?.click(),className:"astra-button secondary",children:[e.jsx(X,{size:16}),"Choose JSON File"]})]}),e.jsxs("div",{className:"astra-control",children:[e.jsx("label",{className:"astra-control-label",children:"Or Paste JSON Data"}),e.jsx("textarea",{value:i,onChange:u=>l(u.target.value),className:"astra-textarea",placeholder:"Paste your settings JSON here...",rows:10,style:{fontFamily:"monospace",fontSize:"12px"}})]}),e.jsxs("div",{className:"astra-button-group",children:[e.jsxs("button",{onClick:b,disabled:!i,className:"astra-button",children:[e.jsx(X,{size:16}),"Import Settings"]}),e.jsx("button",{onClick:()=>{l(""),g(null),f(null)},className:"astra-button secondary",children:"Clear"})]})]}),e.jsxs("div",{className:"astra-section-group",children:[e.jsxs("div",{className:"astra-help-text",children:["⚠️ ",e.jsx("strong",{children:"Warning:"})," Importing settings will replace all your current customizer settings. Make sure to export your current settings first if you want to keep a backup."]}),e.jsx("button",{onClick:s,className:"astra-button secondary",children:"Reset to Default Settings"})]})]})]})},ha=({onClose:a,siteName:t,previewUrl:s,onSaveHandler:r})=>{const[n,i]=p.useState(null),{isDirty:l,undo:o,redo:c,settings:d,resetAll:g}=V();sa({onSave:async()=>{await r(d)},onUndo:o,onRedo:c,onClose:a,onReset:g}),p.useEffect(()=>{const f=k=>{if(k.key==="Escape"){if(typeof document<"u"&&document.fullscreenElement||l&&!window.confirm("변경사항이 저장되지 않았습니다. 종료하시겠습니까?"))return;a()}};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[a,l]),p.useEffect(()=>{const f=k=>{l&&(k.preventDefault(),k.returnValue="")};return window.addEventListener("beforeunload",f),()=>window.removeEventListener("beforeunload",f)},[l]),p.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const v=()=>{if(!n)return e.jsxs("div",{className:"wp-customizer-welcome",children:[e.jsx("h2",{children:"Welcome to Astra Customizer"}),e.jsx("p",{children:"Select a section from the left panel to start customizing your site."}),e.jsxs("ul",{children:[e.jsxs("li",{children:["🎨 ",e.jsx("strong",{children:"Colors"})," - Customize your site's color scheme"]}),e.jsxs("li",{children:["📝 ",e.jsx("strong",{children:"Typography"})," - Set fonts and text styles"]}),e.jsxs("li",{children:["📐 ",e.jsx("strong",{children:"Layout"})," - Control container widths and spacing"]}),e.jsxs("li",{children:["🔝 ",e.jsx("strong",{children:"Header"})," - Design your site header"]}),e.jsxs("li",{children:["🔻 ",e.jsx("strong",{children:"Footer"})," - Customize footer widgets and content"]}),e.jsxs("li",{children:["📰 ",e.jsx("strong",{children:"Blog"})," - Configure blog layout and post display"]})]})]});switch(n){case"siteIdentity":return e.jsx(na,{});case"colors":return e.jsx(ia,{});case"typography":return e.jsx(ca,{});case"container":return e.jsx(Te,{});case"header":return e.jsx(da,{});case"footer":return e.jsx(ua,{});case"sidebar":return e.jsx(Te,{});case"blog":return e.jsx(Te,{});case"customCSS":return e.jsx(pa,{});default:return e.jsx("div",{children:"Section not found"})}};return e.jsxs("div",{className:"wp-customizer",children:[e.jsx(ys,{onClose:a,siteName:t}),e.jsxs("div",{className:"wp-customizer-body",children:[e.jsx(Rs,{activePanel:n,onPanelSelect:i}),n&&e.jsx("div",{className:"wp-customizer-section-panel",children:v()}),e.jsx(ta,{url:s})]})]})},ma=({onClose:a,initialSettings:t,previewUrl:s="/",siteName:r="O4O Platform",onSave:n})=>{const i=async l=>{if(n)await n(l);else try{(await ht.api.post("/api/v1/themes/customizer/settings",{themeId:"default",settings:l})).data?.success&&_.success("Settings saved successfully")}catch(o){throw _.error(o?.response?.data?.message||"Failed to save settings"),o}};return e.jsx(xs,{initialSettings:t,previewUrl:s,eventHandlers:{onSave:i,onSettingChange:(l,o)=>{},onDeviceChange:l=>{},onReset:()=>{}},children:e.jsx(ha,{onClose:a,siteName:r,previewUrl:s,onSaveHandler:i})})},Na=()=>{const a=ss(),{enter:t,exit:s}=as();p.useEffect(()=>(document.body.classList.add("customizer-fullscreen"),t("customize"),()=>{document.body.classList.remove("customizer-fullscreen"),s()}),[t,s]);const r=()=>{a("/admin")},n=async i=>{try{return(await ht.api.post("/v1/settings/customizer",{settings:i,type:"astra-customizer"})).data?.success?(_.success("설정이 저장되었습니다."),!0):!1}catch(l){const o=l?.response?.status,c=l?.response?.data?.code;if(o===401||o===403)c==="USER_NOT_AUTHENTICATED"?(_.error("세션이 만료되었습니다. 다시 로그인해주세요."),setTimeout(()=>{a("/login")},2e3)):c==="INSUFFICIENT_PERMISSIONS"?_.error("설정을 저장할 권한이 없습니다."):_.error("인증 오류가 발생했습니다.");else{const d=l?.response?.data?.message||"설정 저장 중 오류가 발생했습니다.";_.error(d)}return!1}};return e.jsx(ma,{onClose:r,previewUrl:window.location.origin,siteName:"Neture Platform",onSave:n})};export{Na as default};
//# sourceMappingURL=Customize-cSIwZ4oU.js.map
