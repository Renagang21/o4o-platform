import{u as j,r as i,j as e,z as f,c6 as y,c7 as r}from"./vendor-react-P__8vGRG.js";import{A as v,M as u}from"./index-C0gS3Jf3.js";import{a as N}from"./page-template-editor-BTdVTS-a.js";import"./vendor-query-CucHvDcH.js";import"./vendor-socket-DgcwqWsT.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-utils-dq2XMRwt.js";const x=()=>{const h=j(),[n,l]=i.useState(!1),[d,c]=i.useState(!1),p=i.useRef(null),g=async a=>{a.preventDefault(),l(!1);const t=Array.from(a.dataTransfer.files);t.length>0&&await m(t)},b=async a=>{if(a.target.files){const t=Array.from(a.target.files);await m(t)}},m=async a=>{c(!0);let t=0;for(const o of a)try{const s=new FormData;s.append("file",o),s.append("title",o.name.replace(/\.[^/.]+$/,"")),await N.api.post("/v1/content/media/upload",s,{headers:{"Content-Type":"multipart/form-data"}}),t++}catch{f.error(`Failed to upload ${o.name}`)}c(!1),t>0&&(f.success(`${t} file${t>1?"s":""} uploaded`),setTimeout(()=>h("/media"),1e3))};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b px-8 py-3",children:e.jsx(v,{items:[{label:"Dashboard",path:"/"},{label:"Media",path:"/media"},{label:"Add New"}]})}),e.jsxs("div",{className:"px-8 py-6",children:[e.jsx("h1",{className:"text-2xl font-normal mb-6",children:"Upload New Media"}),e.jsxs("div",{onDrop:g,onDragOver:a=>{a.preventDefault(),l(!0)},onDragLeave:()=>l(!1),className:"bg-white border-4 border-dashed rounded-lg p-24 text-center transition-colors",style:{borderColor:n?"#2563eb":"#d1d5db",backgroundColor:n?"#f0f9ff":"#fff"},children:[e.jsx("h2",{className:"text-xl font-normal mb-4",children:"Drop files to upload"}),e.jsx("p",{className:"text-lg mb-6 text-gray-600",children:"or"}),e.jsx("button",{onClick:()=>p.current?.click(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:d,children:d?"Uploading...":"Select Files"}),e.jsx("p",{className:"mt-8 text-sm text-gray-500",children:"Maximum upload file size: 50 MB"})]}),e.jsx("input",{ref:p,type:"file",multiple:!0,className:"hidden",onChange:b,accept:"image/*,video/*,audio/*,application/pdf,.txt,.md,.json,.doc,.docx,.csv"})]})]})},S=()=>e.jsxs(y,{children:[e.jsx(r,{path:"/",element:e.jsx(u,{})}),e.jsx(r,{path:"/library",element:e.jsx(u,{})}),e.jsx(r,{path:"/upload",element:e.jsx(x,{})}),e.jsx(r,{path:"/new",element:e.jsx(x,{})})]});export{S as default};
//# sourceMappingURL=Media--wF89kmR.js.map
