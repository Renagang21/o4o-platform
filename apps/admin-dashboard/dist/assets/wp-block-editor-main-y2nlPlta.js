import{_ as e,d as t,r as n,m as o,w as l,e as s,T as i,f as r,h as a,i as c,k as d,l as u,j as p,n as g,o as m,p as h,q as f,t as b}from"./vendor-react-BoWgD0Bu.js";import{_ as k,g as x,h as v,a as y,u as _,b as C,c as j,d as S,p as w,e as I,f as B,i as N,j as E,k as D,l as P,m as T,n as L,o as M,q as R,r as A,t as z,R as O,v as F,w as V,x as $,y as H,z as U,A as G,B as W,C as K,D as q,E as Z,F as Y,G as X,H as J,I as Q,J as ee,K as te,L as ne,M as oe,P as le,N as se,O as ie,Q as re,S as ae,T as ce,U as de,V as ue,s as pe,W as ge,X as me,Y as he,Z as fe,$ as be,a0 as ke,a1 as xe,a2 as ve,a3 as ye,a4 as _e,a5 as Ce,a6 as je,a7 as Se,a8 as we,a9 as Ie,aa as Be,ab as Ne,ac as Ee,ad as De,ae as Pe,af as Te,ag as Le,ah as Me,ai as Re,aj as Ae,ak as ze,al as Oe,am as Fe,an as Ve}from"./wp-foundation-BzBJX52f.js";import{m as $e,d as He,a as Ue,b as Ge,c as We,e as Ke,f as qe,I as Ze,p as Ye,g as Xe,h as Je,j as Qe,i as et,k as tt,l as nt,n as ot,o as lt,q as st,r as it,s as rt,t as at,u as ct,v as dt,w as ut,x as pt,y as gt,z as mt,A as ht,B as ft,C as bt,D as kt,E as xt,F as vt,G as yt,H as _t,J as Ct,K as jt,L as St,M as wt,N as It,O as Bt,P as Nt,Q as Et,R as Dt,S as Pt,T as Tt,U as Lt,V as Mt,X as Rt,Y as At,Z as zt,_ as Ot,$ as Ft,a0 as Vt,a1 as $t,a2 as Ht,a3 as Ut,a4 as Gt,a5 as Wt,a6 as Kt,a7 as qt,a8 as Zt,a9 as Yt,aa as Xt,ab as Jt,ac as Qt,ad as en,ae as tn,af as nn,ag as on,ah as ln,ai as sn,aj as rn,ak as an,al as cn,am as dn,an as un,ao as pn,ap as gn,aq as mn,ar as hn,as as fn,at as bn,au as kn,av as xn,aw as vn,ax as yn,ay as _n,az as Cn,aA as jn,aB as Sn,aC as wn,aD as In,aE as Bn,aF as Nn,aG as En,aH as Dn,aI as Pn,aJ as Tn,aK as Ln,aL as Mn,aM as Rn,aN as An,aO as zn,aP as On,aQ as Fn,aR as Vn,aS as $n,aT as Hn,aU as Un,aV as Gn,aW as Wn,aX as Kn,aY as qn,aZ as Zn,a_ as Yn,a$ as Xn,b0 as Jn,b1 as Qn,b2 as eo,b3 as to,b4 as no,b5 as oo,b6 as lo,b7 as so,b8 as io,b9 as ro,ba as ao,bb as co,bc as uo,bd as po,be as go,bf as mo,bg as ho,bh as fo,bi as bo,bj as ko,bk as xo,bl as vo,bm as yo,bn as _o,bo as Co,bp as jo,bq as So,br as wo,bs as Io,bt as Bo,bu as No,bv as Eo,bw as Do,bx as Po}from"./wp-misc-fiKRzvVp.js";import{_ as To,i as Lo,a as Mo,s as Ro,b as Ao}from"./wp-i18n-BPC8WmOV.js";import{s as zo,S as Oo,a as Fo,B as Vo,g as $o,b as Ho,c as Uo,r as Go,d as Wo,e as Ko}from"./wp-block-editor-store-PPID3vJI.js";import{g as qo,a as Zo,b as Yo,c as Xo,d as Jo,e as Qo,u as el,o as tl,f as nl,s as ol,h as ll,i as sl,j as il,k as rl,l as al,m as cl,n as dl,p as ul,q as pl,r as gl,t as ml,v as hl,w as fl,I as bl,x as kl,y as xl,z as vl,A as yl,B as _l,C as Cl,D as jl,E as Sl,F as wl,G as Il,H as Bl,J as Nl,K as El,L as Dl,M as Pl,N as Tl,O as Ll,P as Ml,Q as Rl,R as Al,S as zl,T as Ol,U as Fl,V as Vl,W as $l,X as Hl,Y as Ul,Z as Gl,_ as Wl,$ as Kl,a0 as ql,a1 as Zl,a2 as Yl,a3 as Xl,a4 as Jl,a5 as Ql,a6 as es,a7 as ts,a8 as ns,a9 as os,aa as ls,ab as ss,ac as is,ad as rs,ae as as,af as cs,ag as ds,ah as us,ai as ps,aj as gs,ak as ms,al as hs,am as fs,an as bs,ao as ks,ap as xs,aq as vs,ar as ys,as as _s,at as Cs,au as js,av as Ss,aw as ws,ax as Is,ay as Bs,az as Ns,aA as Es,aB as Ds,aC as Ps,aD as Ts,aE as Ls,aF as Ms,aG as Rs,aH as As,aI as zs,aJ as Os,aK as Fs,aL as Vs,aM as $s,aN as Hs,aO as Us,aP as Gs,aQ as Ws,aR as Ks,aS as qs,aT as Zs,aU as Ys,aV as Xs,aW as Js,aX as Qs,aY as ei,aZ as ti,a_ as ni,a$ as oi,b0 as li,b1 as si,b2 as ii,b3 as ri,b4 as ai,b5 as ci,b6 as di,b7 as ui,b8 as pi,b9 as gi,ba as mi,bb as hi,bc as fi,bd as bi,be as ki,bf as xi,bg as vi,bh as yi,bi as _i,bj as Ci,bk as ji,bl as Si,bm as wi,bn as Ii,bo as Bi,bp as Ni,bq as Ei,br as Di,bs as Pi}from"./wp-block-editor-utils-C52tDze8.js";import{c as Ti}from"./vendor-ui-CrFdsnXa.js";import{w as Li,D as Mi,M as Ri,a as Ai,B as zi,p as Oi,F as Fi,T as Vi,b as $i,I as Hi,A as Ui,u as Gi,c as Wi,d as Ki,e as qi,f as Zi,g as Yi,h as Xi,V as Ji,U as Qi,i as er,j as tr,k as nr,N as or,R as lr,l as sr,m as ir,n as rr,o as ar,q as cr,r as dr,s as ur,P as pr,S as gr,t as mr,C as hr,v as fr,x as br,y as kr,H as xr,z as vr,E as yr,G as _r,J as Cr,K as jr,L as Sr,O as wr,Q as Ir,W as Br,X as Nr,Y as Er,Z as Dr,_ as Pr,$ as Tr,a0 as Lr,a1 as Mr,a2 as Rr,a3 as Ar,a4 as zr,a5 as Or,a6 as Fr,a7 as Vr,a8 as $r,a9 as Hr,aa as Ur,ab as Gr,ac as Wr,ad as Kr,ae as qr,af as Zr,ag as Yr,ah as Xr,ai as Jr,aj as Qr,ak as ea,al as ta,am as na,an as oa,ao as la,ap as sa,aq as ia,ar as ra,as as aa,at as ca,au as da,av as ua,aw as pa,ax as ga,ay as ma,az as ha,aA as fa,aB as ba,aC as ka,aD as xa,aE as va,aF as ya,aG as _a,aH as Ca,aI as ja,aJ as Sa,aK as wa}from"./wp-components-CKWj6dcl.js";function Ia(e){return e.toLowerCase()}var Ba,Na,Ea,Da,Pa=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Ta=/[^A-Z0-9]+/gi;function La(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,o=void 0===n?Pa:n,l=t.stripRegexp,s=void 0===l?Ta:l,i=t.transform,r=void 0===i?Ia:i,a=t.delimiter,c=void 0===a?" ":a,d=Ma(Ma(e,o,"$1\0$2"),s,"\0"),u=0,p=d.length;"\0"===d.charAt(u);)u++;for(;"\0"===d.charAt(p-1);)p--;return d.slice(u,p).split("\0").map(r).join(c)}function Ma(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(e,t){return e.replace(t,n)},e)}function Ra(e,t){var n=e.charAt(0),o=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+o:""+n.toUpperCase()+o}function Aa(t,n){return void 0===n&&(n={}),La(t,e({delimiter:"",transform:Ra},n))}function za(e,t){return 0===t?e.toLowerCase():Ra(e,t)}function Oa(t,n){return void 0===n&&(n={}),Aa(t,e({transform:za},n))}function Fa(t,n){return void 0===n&&(n={}),function(t,n){return void 0===n&&(n={}),La(t,e({delimiter:"."},n))}(t,e({delimiter:"-"},n))}Ba={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},Na=["(","?"],Ea={")":["("],":":["?","?:"]},Da=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var Va={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,n){if(e)throw t;return n}};function $a(e){var t=function(e){for(var t,n,o,l,s=[],i=[];t=e.match(Da);){for(n=t[0],(o=e.substr(0,t.index).trim())&&s.push(o);l=i.pop();){if(Ea[n]){if(Ea[n][0]===l){n=Ea[n][1]||n;break}}else if(Na.indexOf(l)>=0||Ba[l]<Ba[n]){i.push(l);break}s.push(l)}Ea[n]||i.push(n),e=e.substr(t.index+n.length)}return(e=e.trim())&&s.push(e),s.concat(i.reverse())}(e);return function(e){return function(e,t){var n,o,l,s,i,r,a=[];for(n=0;n<e.length;n++){if(i=e[n],s=Va[i]){for(o=s.length,l=Array(o);o--;)l[o]=a.pop();try{r=s.apply(null,l)}catch(c){return c}}else r=t.hasOwnProperty(i)?t[i]:+i;a.push(r)}return a[0]}(t,e)}}var Ha={contextDelimiter:"",onMissingKey:null};function Ua(e,t){var n;for(n in this.data=e,this.pluralForms={},this.options={},Ha)this.options[n]=void 0!==t&&n in t?t[n]:Ha[n]}function Ga(e,t){var n,o,l=0;function s(){var s,i,r=n,a=arguments.length;e:for(;r;){if(r.args.length===arguments.length){for(i=0;i<a;i++)if(r.args[i]!==arguments[i]){r=r.next;continue e}return r!==n&&(r===o&&(o=r.prev),r.prev.next=r.next,r.next&&(r.next.prev=r.prev),r.next=n,r.prev=null,n.prev=r,n=r),r.val}r=r.next}for(s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r={args:s,val:e.apply(null,s)},n?(n.prev=r,r.next=n):o=r,l===t.maxSize?(o=o.prev).next=null:l++,n=r,r.val}return t=t||{},s.clear=function(){n=null,o=null,l=0},s}Ua.prototype.getPluralForm=function(e,t){var n,o,l,s=this.pluralForms[e];return s||("function"!=typeof(l=(n=this.data[e][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(o=function(e){var t,n,o;for(t=e.split(";"),n=0;n<t.length;n++)if(0===(o=t[n].trim()).indexOf("plural="))return o.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),l=function(e){var t=$a(e);return function(e){return+t({n:e})}}(o)),s=this.pluralForms[e]=l),s(t)},Ua.prototype.dcnpgettext=function(e,t,n,o,l){var s,i,r;return s=void 0===l?0:this.getPluralForm(e,l),i=n,t&&(i=t+this.options.contextDelimiter+n),(r=this.data[e][i])&&r[s]?r[s]:(this.options.onMissingKey&&this.options.onMissingKey(n,e),0===s?n:o)};var Wa={grad:.9,turn:360,rad:360/(2*Math.PI)},Ka=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},qa=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Za=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Ya=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Xa=function(e){return{r:Za(e.r,0,255),g:Za(e.g,0,255),b:Za(e.b,0,255),a:Za(e.a)}},Ja=function(e){return{r:qa(e.r),g:qa(e.g),b:qa(e.b),a:qa(e.a,3)}},Qa=/^#([0-9a-f]{3,8})$/i,ec=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},tc=function(e){var t=e.r,n=e.g,o=e.b,l=e.a,s=Math.max(t,n,o),i=s-Math.min(t,n,o),r=i?s===t?(n-o)/i:s===n?2+(o-t)/i:4+(t-n)/i:0;return{h:60*(r<0?r+6:r),s:s?i/s*100:0,v:s/255*100,a:l}},nc=function(e){var t=e.h,n=e.s,o=e.v,l=e.a;t=t/360*6,n/=100,o/=100;var s=Math.floor(t),i=o*(1-n),r=o*(1-(t-s)*n),a=o*(1-(1-t+s)*n),c=s%6;return{r:255*[o,r,i,i,a,o][c],g:255*[a,o,o,r,i,i][c],b:255*[i,i,a,o,o,r][c],a:l}},oc=function(e){return{h:Ya(e.h),s:Za(e.s,0,100),l:Za(e.l,0,100),a:Za(e.a)}},lc=function(e){return{h:qa(e.h),s:qa(e.s),l:qa(e.l),a:qa(e.a,3)}},sc=function(e){return nc((n=(t=e).s,{h:t.h,s:(n*=((o=t.l)<50?o:100-o)/100)>0?2*n/(o+n)*100:0,v:o+n,a:t.a}));var t,n,o},ic=function(e){return{h:(t=tc(e)).h,s:(l=(200-(n=t.s))*(o=t.v)/100)>0&&l<200?n*o/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,n,o,l},rc=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ac=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cc=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,dc=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,uc={string:[[function(e){var t=Qa.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?qa(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?qa(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=cc.exec(e)||dc.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Xa({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=rc.exec(e)||ac.exec(e);if(!t)return null;var n,o,l=oc({h:(n=t[1],o=t[2],void 0===o&&(o="deg"),Number(n)*(Wa[o]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return sc(l)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,o=e.b,l=e.a,s=void 0===l?1:l;return Ka(t)&&Ka(n)&&Ka(o)?Xa({r:Number(t),g:Number(n),b:Number(o),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,n=e.s,o=e.l,l=e.a,s=void 0===l?1:l;if(!Ka(t)||!Ka(n)||!Ka(o))return null;var i=oc({h:Number(t),s:Number(n),l:Number(o),a:Number(s)});return sc(i)},"hsl"],[function(e){var t=e.h,n=e.s,o=e.v,l=e.a,s=void 0===l?1:l;if(!Ka(t)||!Ka(n)||!Ka(o))return null;var i=function(e){return{h:Ya(e.h),s:Za(e.s,0,100),v:Za(e.v,0,100),a:Za(e.a)}}({h:Number(t),s:Number(n),v:Number(o),a:Number(s)});return nc(i)},"hsv"]]},pc=function(e,t){for(var n=0;n<t.length;n++){var o=t[n][0](e);if(o)return[o,t[n][1]]}return[null,void 0]},gc=function(e,t){var n=ic(e);return{h:n.h,s:Za(n.s+100*t,0,100),l:n.l,a:n.a}},mc=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},hc=function(e,t){var n=ic(e);return{h:n.h,s:n.s,l:Za(n.l+100*t,0,100),a:n.a}},fc=function(){function e(e){this.parsed=function(e){return"string"==typeof e?pc(e.trim(),uc.string):"object"==typeof e&&null!==e?pc(e,uc.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return qa(mc(this.rgba),2)},e.prototype.isDark=function(){return mc(this.rgba)<.5},e.prototype.isLight=function(){return mc(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=Ja(this.rgba)).r,n=e.g,o=e.b,s=(l=e.a)<1?ec(qa(255*l)):"","#"+ec(t)+ec(n)+ec(o)+s;var e,t,n,o,l,s},e.prototype.toRgb=function(){return Ja(this.rgba)},e.prototype.toRgbString=function(){return t=(e=Ja(this.rgba)).r,n=e.g,o=e.b,(l=e.a)<1?"rgba("+t+", "+n+", "+o+", "+l+")":"rgb("+t+", "+n+", "+o+")";var e,t,n,o,l},e.prototype.toHsl=function(){return lc(ic(this.rgba))},e.prototype.toHslString=function(){return t=(e=lc(ic(this.rgba))).h,n=e.s,o=e.l,(l=e.a)<1?"hsla("+t+", "+n+"%, "+o+"%, "+l+")":"hsl("+t+", "+n+"%, "+o+"%)";var e,t,n,o,l},e.prototype.toHsv=function(){return e=tc(this.rgba),{h:qa(e.h),s:qa(e.s),v:qa(e.v),a:qa(e.a,3)};var e},e.prototype.invert=function(){return bc({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),bc(gc(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),bc(gc(this.rgba,-e))},e.prototype.grayscale=function(){return bc(gc(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),bc(hc(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),bc(hc(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?bc({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):qa(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=ic(this.rgba);return"number"==typeof e?bc({h:e,s:t.s,l:t.l,a:t.a}):qa(t.h)},e.prototype.isEqual=function(e){return this.toHex()===bc(e).toHex()},e}(),bc=function(e){return e instanceof fc?e:new fc(e)},kc=[],xc=function(e){e.forEach(function(e){kc.indexOf(e)<0&&(e(fc,uc),kc.push(e))})};function vc(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},o={};for(var l in n)o[n[l]]=l;var s={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,i,r=o[this.toHex()];if(r)return r;if(null==t?void 0:t.closest){var a=this.toRgb(),c=1/0,d="black";if(!s.length)for(var u in n)s[u]=new e(n[u]).toRgb();for(var p in n){var g=(l=a,i=s[p],Math.pow(l.r-i.r,2)+Math.pow(l.g-i.g,2)+Math.pow(l.b-i.b,2));g<c&&(c=g,d=p)}return d}},t.string.push([function(t){var o=t.toLowerCase(),l="transparent"===o?"#0000":n[o];return l?new e(l).toRgb():null},"name"])}var yc=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},_c=function(e){return.2126*yc(e.r)+.7152*yc(e.g)+.0722*yc(e.b)};function Cc(e){e.prototype.luminance=function(){return e=_c(this.rgba),void 0===(t=2)&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},e.prototype.contrast=function(t){void 0===t&&(t="#FFF");var n,o,l,s,i,r,a,c=t instanceof e?t:new e(t);return s=this.rgba,i=c.toRgb(),n=(r=_c(s))>(a=_c(i))?(r+.05)/(a+.05):(a+.05)/(r+.05),void 0===(o=2)&&(o=0),void 0===l&&(l=Math.pow(10,o)),Math.floor(l*n)/l+0},e.prototype.isReadable=function(e,t){return void 0===e&&(e="#FFF"),void 0===t&&(t={}),this.contrast(e)>=(i=void 0===(s=(n=t).size)?"normal":s,"AAA"===(l=void 0===(o=n.level)?"AA":o)&&"normal"===i?7:"AA"===l&&"large"===i?3:4.5);var n,o,l,s,i}}var jc,Sc={exports:{}};var wc=function(){if(jc)return Sc.exports;jc=1;var e={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ấ":"A","Ắ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Æ":"AE","Ầ":"A","Ằ":"A","Ȃ":"A","Ả":"A","Ạ":"A","Ẩ":"A","Ẫ":"A","Ậ":"A","Ç":"C","Ḉ":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ế":"E","Ḗ":"E","Ề":"E","Ḕ":"E","Ḝ":"E","Ȇ":"E","Ẻ":"E","Ẽ":"E","Ẹ":"E","Ể":"E","Ễ":"E","Ệ":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ḯ":"I","Ȋ":"I","Ỉ":"I","Ị":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ố":"O","Ṍ":"O","Ṓ":"O","Ȏ":"O","Ỏ":"O","Ọ":"O","Ổ":"O","Ỗ":"O","Ộ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ớ":"O","Ợ":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ủ":"U","Ụ":"U","Ử":"U","Ữ":"U","Ự":"U","Ý":"Y","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ấ":"a","ắ":"a","ẳ":"a","ẵ":"a","ặ":"a","æ":"ae","ầ":"a","ằ":"a","ȃ":"a","ả":"a","ạ":"a","ẩ":"a","ẫ":"a","ậ":"a","ç":"c","ḉ":"c","è":"e","é":"e","ê":"e","ë":"e","ế":"e","ḗ":"e","ề":"e","ḕ":"e","ḝ":"e","ȇ":"e","ẻ":"e","ẽ":"e","ẹ":"e","ể":"e","ễ":"e","ệ":"e","ì":"i","í":"i","î":"i","ï":"i","ḯ":"i","ȋ":"i","ỉ":"i","ị":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ố":"o","ṍ":"o","ṓ":"o","ȏ":"o","ỏ":"o","ọ":"o","ổ":"o","ỗ":"o","ộ":"o","ờ":"o","ở":"o","ỡ":"o","ớ":"o","ợ":"o","ù":"u","ú":"u","û":"u","ü":"u","ủ":"u","ụ":"u","ử":"u","ữ":"u","ự":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","C̆":"C","c̆":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","Ǵ":"G","ĝ":"g","ǵ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ḫ":"H","ḫ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","Ḱ":"K","ḱ":"k","K̆":"K","k̆":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"l","ł":"l","Ḿ":"M","ḿ":"m","M̆":"M","m̆":"m","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","N̆":"N","n̆":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","P̆":"P","p̆":"p","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","R̆":"R","r̆":"r","Ȓ":"R","ȓ":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","Ș":"S","ș":"s","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","ț":"t","Ț":"T","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","T̆":"T","t̆":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ȗ":"U","ȗ":"u","V̆":"V","v̆":"v","Ŵ":"W","ŵ":"w","Ẃ":"W","ẃ":"w","X̆":"X","x̆":"x","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Y̆":"Y","y̆":"y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u","Ứ":"U","ứ":"u","Ṹ":"U","ṹ":"u","Ǻ":"A","ǻ":"a","Ǽ":"AE","ǽ":"ae","Ǿ":"O","ǿ":"o","Þ":"TH","þ":"th","Ṕ":"P","ṕ":"p","Ṥ":"S","ṥ":"s","X́":"X","x́":"x","Ѓ":"Г","ѓ":"г","Ќ":"К","ќ":"к","A̋":"A","a̋":"a","E̋":"E","e̋":"e","I̋":"I","i̋":"i","Ǹ":"N","ǹ":"n","Ồ":"O","ồ":"o","Ṑ":"O","ṑ":"o","Ừ":"U","ừ":"u","Ẁ":"W","ẁ":"w","Ỳ":"Y","ỳ":"y","Ȁ":"A","ȁ":"a","Ȅ":"E","ȅ":"e","Ȉ":"I","ȉ":"i","Ȍ":"O","ȍ":"o","Ȑ":"R","ȑ":"r","Ȕ":"U","ȕ":"u","B̌":"B","b̌":"b","Č̣":"C","č̣":"c","Ê̌":"E","ê̌":"e","F̌":"F","f̌":"f","Ǧ":"G","ǧ":"g","Ȟ":"H","ȟ":"h","J̌":"J","ǰ":"j","Ǩ":"K","ǩ":"k","M̌":"M","m̌":"m","P̌":"P","p̌":"p","Q̌":"Q","q̌":"q","Ř̩":"R","ř̩":"r","Ṧ":"S","ṧ":"s","V̌":"V","v̌":"v","W̌":"W","w̌":"w","X̌":"X","x̌":"x","Y̌":"Y","y̌":"y","A̧":"A","a̧":"a","B̧":"B","b̧":"b","Ḑ":"D","ḑ":"d","Ȩ":"E","ȩ":"e","Ɛ̧":"E","ɛ̧":"e","Ḩ":"H","ḩ":"h","I̧":"I","i̧":"i","Ɨ̧":"I","ɨ̧":"i","M̧":"M","m̧":"m","O̧":"O","o̧":"o","Q̧":"Q","q̧":"q","U̧":"U","u̧":"u","X̧":"X","x̧":"x","Z̧":"Z","z̧":"z","й":"и","Й":"И","ё":"е","Ё":"Е"},t=Object.keys(e).join("|"),n=new RegExp(t,"g"),o=new RegExp(t,"");function l(t){return e[t]}var s=function(e){return e.replace(n,l)};return Sc.exports=s,Sc.exports.has=function(e){return!!e.match(o)},Sc.exports.remove=s,Sc.exports}();const Ic=t(wc);var Bc,Nc;var Ec=(Nc||(Nc=1,Bc=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,l,s;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(l=o;0!==l--;)if(!e(t[l],n[l]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(l of t.entries())if(!n.has(l[0]))return!1;for(l of t.entries())if(!e(l[1],n.get(l[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(l of t.entries())if(!n.has(l[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((o=t.length)!=n.length)return!1;for(l=o;0!==l--;)if(t[l]!==n[l])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(n,s[l]))return!1;for(l=o;0!==l--;){var i=s[l];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}),Bc);const Dc=t(Ec);function Pc(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Tc=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Lc=()=>Math.random().toString(36).substring(7).split("").join("."),Mc={INIT:`@@redux/INIT${Lc()}`,REPLACE:`@@redux/REPLACE${Lc()}`};function Rc(e,t,n){if("function"!=typeof e)throw new Error(Pc(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Pc(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Pc(1));return n(Rc)(e,t)}let o=e,l=t,s=new Map,i=s,r=0,a=!1;function c(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function d(){if(a)throw new Error(Pc(3));return l}function u(e){if("function"!=typeof e)throw new Error(Pc(4));if(a)throw new Error(Pc(5));let t=!0;c();const n=r++;return i.set(n,e),function(){if(t){if(a)throw new Error(Pc(6));t=!1,c(),i.delete(n),s=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(Pc(7));if(void 0===e.type)throw new Error(Pc(8));if("string"!=typeof e.type)throw new Error(Pc(17));if(a)throw new Error(Pc(9));try{a=!0,l=o(l,e)}finally{a=!1}return(s=i).forEach(e=>{e()}),e}p({type:Mc.INIT});return{dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Pc(10));o=e,p({type:Mc.REPLACE})},[Tc]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Pc(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[Tc](){return this}}}}}function Ac(...e){return t=>(n,o)=>{const l=t(n,o);let s=()=>{throw new Error(Pc(15))};const i={getState:l.getState,dispatch:(e,...t)=>s(e,...t)},r=e.map(e=>e(i));return s=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}(...r)(l.dispatch),{...l,dispatch:s}}}const zc=Symbol("mayDisplayControls"),Oc=Symbol("mayDisplayParentControls"),Fc=Symbol("blockEditingMode"),Vc=Symbol("blockBindings"),$c=Symbol("isPreviewMode"),Hc={name:"",isSelected:!1},Uc=n.createContext(Hc),{Provider:Gc}=Uc;function Wc(){return n.useContext(Uc)}var Kc=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qc=o(function(e){return Kc.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),Zc=function(e){return"theme"!==e},Yc=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?qc:Zc},Xc=function(e,t,n){var o;if(t){var l=t.shouldForwardProp;o=e.__emotion_forwardProp&&l?function(t){return e.__emotion_forwardProp(t)&&l(t)}:l}return"function"!=typeof o&&n&&(o=e.__emotion_forwardProp),o},Jc=function(e){var t=e.cache,n=e.serialized,o=e.isStringTag;return c(t,n,o),d(function(){return u(t,n,o)}),null},Qc=function e(t,o){var c,d,u=t.__emotion_real===t,p=u&&t.__emotion_base||t;void 0!==o&&(c=o.label,d=o.target);var g=Xc(t,o,u),m=g||Yc(p),h=!m("as");return function(){var f=arguments,b=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==c&&b.push("label:"+c+";"),null==f[0]||void 0===f[0].raw)b.push.apply(b,f);else{var k=f[0];b.push(k[0]);for(var x=f.length,v=1;v<x;v++)b.push(f[v],k[v])}var y=l(function(e,t,o){var l=h&&e.as||p,s="",c=[],u=e;if(null==e.theme){for(var f in u={},e)u[f]=e[f];u.theme=n.useContext(i)}"string"==typeof e.className?s=r(t.registered,c,e.className):null!=e.className&&(s=e.className+" ");var k=a(b.concat(c),t.registered,u);s+=t.key+"-"+k.name,void 0!==d&&(s+=" "+d);var x=h&&void 0===g?Yc(l):m,v={};for(var y in e)h&&"as"===y||x(y)&&(v[y]=e[y]);return v.className=s,o&&(v.ref=o),n.createElement(n.Fragment,null,n.createElement(Jc,{cache:t,serialized:k,isStringTag:"string"==typeof l}),n.createElement(l,v))});return y.displayName=void 0!==c?c:"Styled("+("string"==typeof p?p:p.displayName||p.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=p,y.__emotion_styles=b,y.__emotion_forwardProp=g,Object.defineProperty(y,"toString",{value:function(){return"."+d}}),y.withComponent=function(t,n){return e(t,s({},o,n,{shouldForwardProp:Xc(y,n,!0)})).apply(void 0,b)},y}};const{lock:ed,unlock:td}=k("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/block-editor"),nd=n.createContext({});function od({value:e,children:t}){const o=n.useContext(nd),l=n.useMemo(()=>({...o,...e}),[o,e]);return p.jsx(nd.Provider,{value:l,children:t})}const ld={},sd=Li("editor.BlockEdit")(e=>{const{name:t}=e,n=x(t);if(!n)return null;const o=n.edit||n.save;return p.jsx(o,{...e})}),id=e=>{const{attributes:t={},name:o}=e,l=x(o),s=n.useContext(nd),i=n.useMemo(()=>l&&l.usesContext?Object.fromEntries(Object.entries(s).filter(([e])=>l.usesContext.includes(e))):ld,[l,s]);if(!l)return null;if(l.apiVersion>1)return p.jsx(sd,{...e,context:i});const r=v(l,"className",!0)?y(o):null,a=Ti(r,t.className,e.className);return p.jsx(sd,{...e,context:i,className:a})};function rd({className:e,actions:t,children:o,secondaryActions:l}){return p.jsx("div",{style:{display:"contents",all:"initial"},children:p.jsx("div",{className:Ti(e,"block-editor-warning"),children:p.jsxs("div",{className:"block-editor-warning__contents",children:[p.jsx("p",{className:"block-editor-warning__message",children:o}),(n.Children.count(t)>0||l)&&p.jsxs("div",{className:"block-editor-warning__actions",children:[n.Children.count(t)>0&&n.Children.map(t,(e,t)=>p.jsx("span",{className:"block-editor-warning__action",children:e},t)),l&&p.jsx(Mi,{className:"block-editor-warning__secondary",icon:$e,label:To("More options"),popoverProps:{position:"bottom left",className:"block-editor-warning__dropdown"},noIcons:!0,children:()=>p.jsx(Ri,{children:l.map((e,t)=>p.jsx(Ai,{onClick:e.onClick,children:e.title},t))})})]})]})})})}function ad({originalBlockClientId:e,name:t,onReplace:n}){const{selectBlock:o}=_(zo),l=x(t);return p.jsxs(rd,{actions:[p.jsx(zi,{__next40pxDefaultSize:!0,variant:"secondary",onClick:()=>o(e),children:To("Find original")},"find-original"),p.jsx(zi,{__next40pxDefaultSize:!0,variant:"secondary",onClick:()=>n([]),children:To("Remove")},"remove")],children:[p.jsxs("strong",{children:[l?.title,": "]}),To("This block can only be used once.")]})}const cd=n.createContext({});function dd({mayDisplayControls:e,mayDisplayParentControls:t,blockEditingMode:o,isPreviewMode:l,...s}){const{name:i,isSelected:r,clientId:a,attributes:c={},__unstableLayoutClassNames:d}=s,{layout:u=null,metadata:g={}}=c,{bindings:m}=g,h=v(i,"layout",!1)||v(i,"__experimentalLayout",!1),{originalBlockClientId:f}=n.useContext(cd);return p.jsxs(Gc,{value:n.useMemo(()=>({name:i,isSelected:r,clientId:a,layout:h?u:null,__unstableLayoutClassNames:d,[zc]:e,[Oc]:t,[Fc]:o,[Vc]:m,[$c]:l}),[i,r,a,h,u,d,e,t,o,m,l]),children:[p.jsx(id,{...s}),f&&p.jsx(ad,{originalBlockClientId:f,name:i,onReplace:s.onReplace})]})}function ud(...e){const{clientId:t=null}=Wc();return C(n=>td(n(zo)).getBlockSettings(t,...e),[t,...e])}const{kebabCase:pd}=td(Oi),gd=([e,...t])=>e.toUpperCase()+t.join("");function md(e,t){const o=e.reduce((e,t)=>({...e,..."string"==typeof t?{[t]:pd(t)}:t}),{});return S([t,e=>class extends n.Component{constructor(e){super(e),this.setters=this.createSetters(),this.colorUtils={getMostReadableColor:this.getMostReadableColor.bind(this)},this.state={}}getMostReadableColor(e){const{colors:t}=this.props;return qo(t,e)}createSetters(){return Object.keys(o).reduce((e,t)=>{const n=gd(t),o=`custom${n}`;return e[`set${n}`]=this.createSetColor(t,o),e},{})}createSetColor(e,t){return n=>{const o=Zo(this.props.colors,n);this.props.setAttributes({[e]:o&&o.slug?o.slug:void 0,[t]:o&&o.slug?void 0:n})}}static getDerivedStateFromProps({attributes:e,colors:t},n){return Object.entries(o).reduce((o,[l,s])=>{const i=Yo(t,e[l],e[`custom${gd(l)}`]),r=n[l],a=r?.color;return a===i.color&&r?o[l]=r:o[l]={...i,class:Xo(s,i.slug)},o},{})}render(){return p.jsx(e,{...this.props,colors:void 0,...this.state,...this.setters,colorUtils:this.colorUtils})}}])}function hd(e){if(e)return`has-${e}-gradient-background`}function fd(e,t){const n=e?.find(e=>e.slug===t);return n&&n.gradient}function bd(e,t){const n=e?.find(e=>e.gradient===t);return n}function kd(e,t){const n=bd(e,t);return n&&n.slug}const xd=[],vd=([e,...t])=>e.toUpperCase()+t.join(""),yd=[{icon:Ue,title:To("Align text left"),align:"left"},{icon:Ge,title:To("Align text center"),align:"center"},{icon:We,title:To("Align text right"),align:"right"}],_d={placement:"bottom-start"};function Cd({value:e,onChange:t,alignmentControls:n=yd,label:o=To("Align text"),description:l=To("Change text alignment"),isCollapsed:s=!0,isToolbar:i}){function r(n){return()=>t(e===n?void 0:n)}const a=n.find(t=>t.align===e);const c=i?Vi:$i,d=i?{isCollapsed:s}:{toggleProps:{description:l},popoverProps:_d};return p.jsx(c,{icon:a?a.icon:Lo()?We:Ue,label:o,controls:n.map(t=>{const{align:n}=t,o=e===n;return{...t,isActive:o,role:s?"menuitemradio":void 0,onClick:r(n)}}),...d})}const jd=e=>p.jsx(Cd,{...e,isToolbar:!1}),Sd=e=>e.name||"",wd=e=>e.title,Id=e=>e.description||"",Bd=e=>e.keywords||[],Nd=e=>e.category,Ed=()=>null,Dd=[/([\p{Ll}\p{Lo}\p{N}])([\p{Lu}\p{Lt}])/gu,/([\p{Lu}\p{Lt}])([\p{Lu}\p{Lt}][\p{Ll}\p{Lo}])/gu],Pd=/(\p{C}|\p{P}|\p{S})+/giu,Td=new Map,Ld=new Map;function Md(e=""){if(Td.has(e))return Td.get(e);const t=La(e,{splitRegexp:Dd,stripRegexp:Pd}).split(" ").filter(Boolean);return Td.set(e,t),t}function Rd(e=""){if(Ld.has(e))return Ld.get(e);let t=Ic(e);return t=t.replace(/^\//,""),t=t.toLowerCase(),Ld.set(e,t),t}const Ad=(e="")=>Md(Rd(e)),zd=(e,t,n,o)=>{if(0===Ad(o).length)return e;return Od(e,o,{getCategory:e=>t.find(({slug:t})=>t===e.category)?.title,getCollection:e=>n[e.name.split("/")[0]]?.title})},Od=(e=[],t="",n={})=>{if(0===Ad(t).length)return e;const o=e.map(e=>[e,Fd(e,t,n)]).filter(([,e])=>e>0);return o.sort(([,e],[,t])=>t-e),o.map(([e])=>e)};function Fd(e,t,n={}){const{getName:o=Sd,getTitle:l=wd,getDescription:s=Id,getKeywords:i=Bd,getCategory:r=Nd,getCollection:a=Ed}=n,c=o(e),d=l(e),u=s(e),p=i(e),g=r(e),m=a(e),h=Rd(t),f=Rd(d);let b=0;if(h===f)b+=30;else if(f.startsWith(h))b+=20;else{const e=[c,d,u,...p,g,m].join(" ");0===((e,t)=>e.filter(e=>!Ad(t).some(t=>t.includes(e))))(Md(h),e).length&&(b+=10)}if(0!==b&&c.startsWith("core/")){b+=c!==e.id?1:2}return b}const Vd=n.memo(function({icon:e,showColors:t=!1,className:n,context:o}){"block-default"===e?.src&&(e={src:Ke});const l=p.jsx(Hi,{icon:e&&e.src?e.src:e,context:o}),s=t?{backgroundColor:e&&e.background,color:e&&e.foreground}:{};return p.jsx("span",{style:s,className:Ti("block-editor-block-icon",n,{"has-colors":t}),children:l})}),$d=()=>{};const Hd={name:"blocks",className:"block-editor-autocompleters__block",triggerPrefix:"/",useItems(e){const{rootClientId:t,selectedBlockName:o,prioritizedBlocks:l}=C(e=>{const{getSelectedBlockClientId:t,getBlockName:n,getBlockListSettings:o,getBlockRootClientId:l}=e(zo),s=t(),i=l(s);return{selectedBlockName:s?n(s):null,rootClientId:i,prioritizedBlocks:o(i)?.prioritizedInserterBlocks}},[]),[s,i,r]=el(t,$d,!0),a=n.useMemo(()=>(e.trim()?zd(s,i,r,e):tl(nl(s,"frecency","desc"),l)).filter(e=>e.name!==o).slice(0,9),[e,o,s,i,r,l]);return[n.useMemo(()=>a.map(e=>{const{title:t,icon:n,isDisabled:o}=e;return{key:`block-${e.id}`,value:e,label:p.jsxs(p.Fragment,{children:[p.jsx(Vd,{icon:n,showColors:!0},"icon"),t]}),isDisabled:o}}),[a])]},allowContext:(e,t)=>!(/\S/.test(e)||/\S/.test(t)),getOptionCompletion(e){const{name:t,initialAttributes:n,innerBlocks:o,syncStatus:l,content:s}=e;return{action:"replace",value:"unsynced"===l?w(s,{__unstableSkipMigrationLogs:!0}):I(t,n,B(o))}}};const Ud={name:"links",className:"block-editor-autocompleters__link",triggerPrefix:"[[",options:async e=>{let t=await N({path:Je("/wp/v2/search",{per_page:10,search:e,type:"post",order_by:"menu_order"})});return t=t.filter(e=>""!==e.title),t},getOptionKeywords:e=>[...e.title.split(/\s+/)],getOptionLabel:e=>p.jsxs(p.Fragment,{children:[p.jsx(Ze,{icon:"page"===e.subtype?Ye:Xe},"icon"),qe(e.title)]}),getOptionCompletion:e=>p.jsx("a",{href:e.url,children:e.title})},Gd=[];function Wd({completers:e=Gd}){const{name:t}=Wc();return n.useMemo(()=>{let n=[...e,Ud];return(t===E()||D(t,"__experimentalSlashInserter",!1))&&(n=[...n,Hd]),P("editor.Autocomplete.completers")&&(n===e&&(n=n.map(e=>({...e}))),n=T("editor.Autocomplete.completers",n,t)),n},[e,t])}const Kd={default:{name:"default",slug:"flow",className:"is-layout-flow",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}}],spacingStyles:[{selector:" > :first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},constrained:{name:"constrained",slug:"constrained",className:"is-layout-constrained",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > :where(:not(.alignleft):not(.alignright):not(.alignfull))",rules:{"max-width":"var(--wp--style--global--content-size)","margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > .alignwide",rules:{"max-width":"var(--wp--style--global--wide-size)"}}],spacingStyles:[{selector:" > :first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},flex:{name:"flex",slug:"flex",className:"is-layout-flex",displayMode:"flex",baseStyles:[{selector:"",rules:{"flex-wrap":"wrap","align-items":"center"}},{selector:" > :is(*, div)",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]},grid:{name:"grid",slug:"grid",className:"is-layout-grid",displayMode:"grid",baseStyles:[{selector:" > :is(*, div)",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]}},qd={left:"flex-start",right:"flex-end",center:"center","space-between":"space-between"},Zd={left:"flex-start",right:"flex-end",center:"center",stretch:"stretch"},Yd={top:"flex-start",center:"center",bottom:"flex-end",stretch:"stretch","space-between":"space-between"},Xd=["wrap","nowrap"],Jd={name:"flex",label:To("Flex"),inspectorControls:function({layout:e={},onChange:t,layoutBlockSupport:n={}}){const{allowOrientation:o=!0}=n;return p.jsxs(p.Fragment,{children:[p.jsxs(Wi,{children:[p.jsx(Ki,{children:p.jsx(tu,{layout:e,onChange:t})}),p.jsx(Ki,{children:o&&p.jsx(ou,{layout:e,onChange:t})})]}),p.jsx(nu,{layout:e,onChange:t})]})},toolBarControls:function({layout:e={},onChange:t,layoutBlockSupport:n}){if(n?.allowSwitching)return null;const{allowVerticalAlignment:o=!0}=n;return p.jsxs(Pf,{group:"block",__experimentalShareWithChildBlocks:!0,children:[p.jsx(tu,{layout:e,onChange:t,isToolbar:!0}),o&&p.jsx(Qd,{layout:e,onChange:t})]})},getLayoutStyle:function({selector:e,layout:t,style:n,blockName:o,hasBlockGapSupport:l,layoutDefinitions:s=Kd}){const{orientation:i="horizontal"}=t,r=n?.spacing?.blockGap&&!ol(o,"spacing","blockGap")?ll(n?.spacing?.blockGap,"0.5em"):void 0,a=qd[t.justifyContent],c=Xd.includes(t.flexWrap)?t.flexWrap:"wrap",d=Yd[t.verticalAlignment],u=Zd[t.justifyContent]||Zd.left;let p="";const g=[];return c&&"wrap"!==c&&g.push(`flex-wrap: ${c}`),"horizontal"===i?(d&&g.push(`align-items: ${d}`),a&&g.push(`justify-content: ${a}`)):(d&&g.push(`justify-content: ${d}`),g.push("flex-direction: column"),g.push(`align-items: ${u}`)),g.length&&(p=`${sl(e)} {\n\t\t\t\t${g.join("; ")};\n\t\t\t}`),l&&r&&(p+=il(e,s,"flex",r)),p},getOrientation(e){const{orientation:t="horizontal"}=e;return t},getAlignments:()=>[]};function Qd({layout:e,onChange:t}){const{orientation:n="horizontal"}=e,o="horizontal"===n?Yd.center:Yd.top,{verticalAlignment:l=o}=e;return p.jsx(Vk,{onChange:n=>{t({...e,verticalAlignment:n})},value:l,controls:"horizontal"===n?["top","center","bottom","stretch"]:["top","center","bottom","space-between"]})}const eu={placement:"bottom-start"};function tu({layout:e,onChange:t,isToolbar:n=!1}){const{justifyContent:o="left",orientation:l="horizontal"}=e,s=n=>{t({...e,justifyContent:n})},i=["left","center","right"];if("horizontal"===l?i.push("space-between"):i.push("stretch"),n)return p.jsx(Ux,{allowedControls:i,value:o,onChange:s,popoverProps:eu});const r=[{value:"left",icon:Qe,label:To("Justify items left")},{value:"center",icon:et,label:To("Justify items center")},{value:"right",icon:tt,label:To("Justify items right")}];return"horizontal"===l?r.push({value:"space-between",icon:nt,label:To("Space between items")}):r.push({value:"stretch",icon:ot,label:To("Stretch items")}),p.jsx(qi,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:To("Justification"),value:o,onChange:s,className:"block-editor-hooks__flex-layout-justification-controls",children:r.map(({value:e,icon:t,label:n})=>p.jsx(Zi,{value:e,icon:t,label:n},e))})}function nu({layout:e,onChange:t}){const{flexWrap:n="wrap"}=e;return p.jsx(Yi,{__nextHasNoMarginBottom:!0,label:To("Allow to wrap to multiple lines"),onChange:n=>{t({...e,flexWrap:n?"wrap":"nowrap"})},checked:"wrap"===n})}function ou({layout:e,onChange:t}){const{orientation:n="horizontal",verticalAlignment:o,justifyContent:l}=e;return p.jsxs(qi,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,className:"block-editor-hooks__flex-layout-orientation-controls",label:To("Orientation"),value:n,onChange:n=>{let s=o,i=l;return"horizontal"===n?("space-between"===o&&(s="center"),"stretch"===l&&(i="left")):("stretch"===o&&(s="top"),"space-between"===l&&(i="left")),t({...e,orientation:n,verticalAlignment:s,justifyContent:i})},children:[p.jsx(Zi,{icon:lt,value:"horizontal",label:To("Horizontal")}),p.jsx(Zi,{icon:st,value:"vertical",label:To("Vertical")})]})}const lu={name:"default",label:To("Flow"),inspectorControls:function(){return null},toolBarControls:function(){return null},getLayoutStyle:function({selector:e,style:t,blockName:n,hasBlockGapSupport:o,layoutDefinitions:l=Kd}){const s=ll(t?.spacing?.blockGap);let i="";ol(n,"spacing","blockGap")||(s?.top?i=ll(s?.top):"string"==typeof s&&(i=ll(s)));let r="";return o&&i&&(r+=il(e,l,"default",i)),r},getOrientation:()=>"vertical",getAlignments(e,t){const n=rl(e);if(void 0!==e.alignments)return e.alignments.includes("none")||e.alignments.unshift("none"),e.alignments.map(e=>({name:e,info:n[e]}));const o=[{name:"left"},{name:"center"},{name:"right"}];if(!t){const{contentSize:t,wideSize:l}=e;t&&o.unshift({name:"full"}),l&&o.unshift({name:"wide",info:n.wide})}return o.unshift({name:"none",info:n.none}),o}},su={name:"constrained",label:To("Constrained"),inspectorControls:function({layout:e,onChange:t,layoutBlockSupport:n={}}){const{wideSize:o,contentSize:l,justifyContent:s="center"}=e,{allowJustification:i=!0,allowCustomContentAndWideSize:r=!0}=n,a=[{value:"left",icon:Qe,label:To("Justify items left")},{value:"center",icon:et,label:To("Justify items center")},{value:"right",icon:tt,label:To("Justify items right")}],[c]=ud("spacing.units"),d=Xi({availableUnits:c||["%","px","em","rem","vw"]});return p.jsxs(Ji,{spacing:4,className:"block-editor-hooks__layout-constrained",children:[r&&p.jsxs(p.Fragment,{children:[p.jsx(Qi,{__next40pxDefaultSize:!0,label:To("Content width"),labelPosition:"top",value:l||o||"",onChange:n=>{n=0>parseFloat(n)?"0":n,t({...e,contentSize:n})},units:d,prefix:p.jsx(er,{variant:"icon",children:p.jsx(Ze,{icon:rt})})}),p.jsx(Qi,{__next40pxDefaultSize:!0,label:To("Wide width"),labelPosition:"top",value:o||l||"",onChange:n=>{n=0>parseFloat(n)?"0":n,t({...e,wideSize:n})},units:d,prefix:p.jsx(er,{variant:"icon",children:p.jsx(Ze,{icon:at})})}),p.jsx("p",{className:"block-editor-hooks__layout-constrained-helptext",children:To("Customize the width for all elements that are assigned to the center or wide columns.")})]}),i&&p.jsx(qi,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:To("Justification"),value:s,onChange:n=>{t({...e,justifyContent:n})},children:a.map(({value:e,icon:t,label:n})=>p.jsx(Zi,{value:e,icon:t,label:n},e))})]})},toolBarControls:function({layout:e={},onChange:t,layoutBlockSupport:n}){const{allowJustification:o=!0}=n;return o?p.jsx(Pf,{group:"block",__experimentalShareWithChildBlocks:!0,children:p.jsx(ru,{layout:e,onChange:t})}):null},getLayoutStyle:function({selector:e,layout:t={},style:n,blockName:o,hasBlockGapSupport:l,layoutDefinitions:s=Kd}){const{contentSize:i,wideSize:r,justifyContent:a}=t,c=ll(n?.spacing?.blockGap);let d="";ol(o,"spacing","blockGap")||(c?.top?d=ll(c?.top):"string"==typeof c&&(d=ll(c)));const u="left"===a?"0 !important":"auto !important",p="right"===a?"0 !important":"auto !important";let g=i||r?`\n\t\t\t\t\t${sl(e,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")} {\n\t\t\t\t\t\tmax-width: ${null!=i?i:r};\n\t\t\t\t\t\tmargin-left: ${u};\n\t\t\t\t\t\tmargin-right: ${p};\n\t\t\t\t\t}\n\t\t\t\t\t${sl(e,"> .alignwide")}  {\n\t\t\t\t\t\tmax-width: ${null!=r?r:i};\n\t\t\t\t\t}\n\t\t\t\t\t${sl(e,"> .alignfull")} {\n\t\t\t\t\t\tmax-width: none;\n\t\t\t\t\t}\n\t\t\t\t`:"";if("left"===a?g+=`${sl(e,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-left: ${u}; }`:"right"===a&&(g+=`${sl(e,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-right: ${p}; }`),n?.spacing?.padding){it(n).forEach(t=>{if("paddingRight"===t.key){const n="0"===t.value?"0px":t.value;g+=`\n\t\t\t\t\t${sl(e,"> .alignfull")} {\n\t\t\t\t\t\tmargin-right: calc(${n} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`}else if("paddingLeft"===t.key){const n="0"===t.value?"0px":t.value;g+=`\n\t\t\t\t\t${sl(e,"> .alignfull")} {\n\t\t\t\t\t\tmargin-left: calc(${n} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`}})}return l&&d&&(g+=il(e,s,"constrained",d)),g},getOrientation:()=>"vertical",getAlignments(e){const t=rl(e);if(void 0!==e.alignments)return e.alignments.includes("none")||e.alignments.unshift("none"),e.alignments.map(e=>({name:e,info:t[e]}));const{contentSize:n,wideSize:o}=e,l=[{name:"left"},{name:"center"},{name:"right"}];return n&&l.unshift({name:"full"}),o&&l.unshift({name:"wide",info:t.wide}),l.unshift({name:"none",info:t.none}),l}},iu={placement:"bottom-start"};function ru({layout:e,onChange:t}){const{justifyContent:n="center"}=e;return p.jsx(Ux,{allowedControls:["left","center","right"],value:n,onChange:n=>{t({...e,justifyContent:n})},popoverProps:iu})}const au={px:600,"%":100,vw:100,vh:100,em:38,rem:38,svw:100,lvw:100,dvw:100,svh:100,lvh:100,dvh:100,vi:100,svi:100,lvi:100,dvi:100,vb:100,svb:100,lvb:100,dvb:100,vmin:100,svmin:100,lvmin:100,dvmin:100,vmax:100,svmax:100,lvmax:100,dvmax:100},cu=[{value:"px",label:"px",default:0},{value:"rem",label:"rem",default:0},{value:"em",label:"em",default:0}],du={name:"grid",label:To("Grid"),inspectorControls:function({layout:e={},onChange:t,layoutBlockSupport:n={}}){const{allowSizingOnChildren:o=!1}=n,l=window.__experimentalEnableGridInteractivity||!!e?.columnCount,s=window.__experimentalEnableGridInteractivity||!e?.columnCount;return p.jsxs(p.Fragment,{children:[p.jsx(gu,{layout:e,onChange:t}),p.jsxs(Ji,{spacing:4,children:[l&&p.jsx(pu,{layout:e,onChange:t,allowSizingOnChildren:o}),s&&p.jsx(uu,{layout:e,onChange:t})]})]})},toolBarControls:function(){return null},getLayoutStyle:function({selector:e,layout:t,style:n,blockName:o,hasBlockGapSupport:l,layoutDefinitions:s=Kd}){const{minimumColumnWidth:i=null,columnCount:r=null,rowCount:a=null}=t,c=n?.spacing?.blockGap&&!ol(o,"spacing","blockGap")?ll(n?.spacing?.blockGap,"0.5em"):void 0;let d="";const u=[];if(i&&r>0){const e=`max(${i}, ( 100% - (${c||"1.2rem"}*${r-1}) ) / ${r})`;u.push(`grid-template-columns: repeat(auto-fill, minmax(${e}, 1fr))`,"container-type: inline-size"),a&&u.push(`grid-template-rows: repeat(${a}, minmax(1rem, auto))`)}else r?(u.push(`grid-template-columns: repeat(${r}, minmax(0, 1fr))`),a&&u.push(`grid-template-rows: repeat(${a}, minmax(1rem, auto))`)):u.push(`grid-template-columns: repeat(auto-fill, minmax(min(${i||"12rem"}, 100%), 1fr))`,"container-type: inline-size");return u.length&&(d=`${sl(e)} { ${u.join("; ")}; }`),l&&c&&(d+=il(e,s,"grid",c)),d},getOrientation:()=>"horizontal",getAlignments:()=>[]};function uu({layout:e,onChange:t}){const{minimumColumnWidth:n,columnCount:o,isManualPlacement:l}=e,s=n||(l||o?null:"12rem"),[i,r="rem"]=sr(s);return p.jsxs("fieldset",{children:[p.jsx(nr.VisualLabel,{as:"legend",children:To("Minimum column width")}),p.jsxs(Wi,{gap:4,children:[p.jsx(Ki,{isBlock:!0,children:p.jsx(Qi,{size:"__unstable-large",onChange:n=>{t({...e,minimumColumnWidth:""===n?void 0:n})},onUnitChange:n=>{let o;["em","rem"].includes(n)&&"px"===r?o=(i/16).toFixed(2)+n:["em","rem"].includes(r)&&"px"===n&&(o=Math.round(16*i)+n),t({...e,minimumColumnWidth:o})},value:s,units:cu,min:0,label:To("Minimum column width"),hideLabelFromVision:!0})}),p.jsx(Ki,{isBlock:!0,children:p.jsx(lr,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:n=>{t({...e,minimumColumnWidth:[n,r].join("")})},value:i||0,min:0,max:au[r]||600,withInputField:!1,label:To("Minimum column width"),hideLabelFromVision:!0})})]})]})}function pu({layout:e,onChange:t,allowSizingOnChildren:n}){const o=window.__experimentalEnableGridInteractivity?void 0:3,{columnCount:l=o,rowCount:s,isManualPlacement:i}=e;return p.jsx(p.Fragment,{children:p.jsxs("fieldset",{children:[(!window.__experimentalEnableGridInteractivity||!i)&&p.jsx(nr.VisualLabel,{as:"legend",children:To("Columns")}),p.jsxs(Wi,{gap:4,children:[p.jsx(Ki,{isBlock:!0,children:p.jsx(or,{size:"__unstable-large",onChange:n=>{if(window.__experimentalEnableGridInteractivity){const o=""===n||"0"===n?i?1:void 0:parseInt(n,10);t({...e,columnCount:o})}else{const o=""===n||"0"===n?1:parseInt(n,10);t({...e,columnCount:o})}},value:l,min:1,label:To("Columns"),hideLabelFromVision:!window.__experimentalEnableGridInteractivity||!i})}),p.jsx(Ki,{isBlock:!0,children:window.__experimentalEnableGridInteractivity&&n&&i?p.jsx(or,{size:"__unstable-large",onChange:n=>{const o=""===n||"0"===n?1:parseInt(n,10);t({...e,rowCount:o})},value:s,min:1,label:To("Rows")}):p.jsx(lr,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,value:null!=l?l:1,onChange:n=>t({...e,columnCount:""===n||"0"===n?1:n}),min:1,max:16,withInputField:!1,label:To("Columns"),hideLabelFromVision:!0})})]})]})})}function gu({layout:e,onChange:t}){const{columnCount:o,rowCount:l,minimumColumnWidth:s,isManualPlacement:i}=e,[r,a]=n.useState(o||3),[c,d]=n.useState(l),[u,g]=n.useState(s||"12rem"),m=i||o&&!window.__experimentalEnableGridInteractivity?"manual":"auto",h=To("manual"===m?"Grid items can be manually placed in any position on the grid.":"Grid items are placed automatically depending on their order.");return p.jsxs(qi,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:To("Grid item position"),value:m,onChange:n=>{"manual"===n?g(s||"12rem"):(a(o||3),d(l)),t({...e,columnCount:"manual"===n?r:null,rowCount:"manual"===n&&window.__experimentalEnableGridInteractivity?c:void 0,isManualPlacement:!("manual"!==n||!window.__experimentalEnableGridInteractivity)||void 0,minimumColumnWidth:"auto"===n?u:null})},isBlock:!0,help:window.__experimentalEnableGridInteractivity?h:void 0,children:[p.jsx(tr,{value:"auto",label:To("Auto")},"auto"),p.jsx(tr,{value:"manual",label:To("Manual")},"manual")]})}const mu=[lu,Jd,su,du];function hu(e="default"){return mu.find(t=>t.name===e)}function fu(){return mu}const bu={type:"default"},ku=n.createContext(bu),xu=ku.Provider;function vu(){return n.useContext(ku)}const yu=[],_u=["none","left","center","right","wide","full"],Cu=["wide","full"];function ju(e=_u){e.includes("none")||(e=["none",...e]);const t=1===e.length&&"none"===e[0],[n,o,l]=C(e=>{var n;if(t)return[!1,!1,!1];const o=e(zo).getSettings();return[null!==(n=o.alignWide)&&void 0!==n&&n,o.supportsLayout,o.__unstableIsBlockBasedTheme]},[t]),s=vu();if(t)return yu;const i=hu(s?.type);if(o){const t=i.getAlignments(s,l).filter(t=>e.includes(t.name));return 1===t.length&&"none"===t[0].name?yu:t}if("default"!==i.name&&"constrained"!==i.name)return yu;const r=e.filter(e=>s.alignments?s.alignments.includes(e):!(!n&&Cu.includes(e))&&_u.includes(e)).map(e=>({name:e}));return 1===r.length&&"none"===r[0].name?yu:r}const Su={none:{icon:rt,title:Mo("None","Alignment option")},left:{icon:pt,title:To("Align left")},center:{icon:ut,title:To("Align center")},right:{icon:dt,title:To("Align right")},wide:{icon:at,title:To("Wide width")},full:{icon:ct,title:To("Full width")}};function wu({value:e,onChange:t,controls:n,isToolbar:o,isCollapsed:l=!0}){const s=ju(n);if(!!!s.length)return null;function i(n){t([e,"none"].includes(n)?void 0:n)}const r=Su[e],a=Su.none,c=o?Vi:$i,d={icon:r?r.icon:a.icon,label:To("Align")},u=o?{isCollapsed:l,controls:s.map(({name:t})=>({...Su[t],isActive:e===t||!e&&"none"===t,role:l?"menuitemradio":void 0,onClick:()=>i(t)}))}:{toggleProps:{description:To("Change alignment")},children:({onClose:t})=>p.jsx(p.Fragment,{children:p.jsx(Ri,{className:"block-editor-block-alignment-control__menu-group",children:s.map(({name:n,info:o})=>{const{icon:l,title:s}=Su[n],r=n===e||!e&&"none"===n;return p.jsx(Ai,{icon:l,iconPosition:"left",className:Ti("components-dropdown-menu__menu-item",{"is-active":r}),isSelected:r,onClick:()=>{i(n),t()},role:"menuitemradio",info:o,children:s},n)})})})};return p.jsx(c,{...d,...u})}const Iu=e=>p.jsx(wu,{...e,isToolbar:!1});const Bu={plural_forms:e=>1===e?0:1},Nu=/^i18n\.(n?gettext|has_translation)(_|$)/,Eu=((e,t,n)=>{const o=new Ua({}),l=new Set,s=()=>{l.forEach(e=>e())},i=(e,t="default")=>{o.data[t]={...o.data[t],...e},o.data[t][""]={...Bu,...o.data[t]?.[""]},delete o.pluralForms[t]},r=(e,t)=>{i(e,t),s()},a=(e="default",t,n,l,s)=>(o.data[e]||i(void 0,e),o.dcnpgettext(e,t,n,l,s)),c=e=>e||"default",d=(e,t,o)=>{let l=a(o,t,e);return n?(l=n.applyFilters("i18n.gettext_with_context",l,e,t,o),n.applyFilters("i18n.gettext_with_context_"+c(o),l,e,t,o)):l};if(n){const e=e=>{Nu.test(e)&&s()};n.addAction("hookAdded","core/i18n",e),n.addAction("hookRemoved","core/i18n",e)}return{getLocaleData:(e="default")=>o.data[e],setLocaleData:r,addLocaleData:(e,t="default")=>{o.data[t]={...o.data[t],...e,"":{...Bu,...o.data[t]?.[""],...e?.[""]}},delete o.pluralForms[t],s()},resetLocaleData:(e,t)=>{o.data={},o.pluralForms={},r(e,t)},subscribe:e=>(l.add(e),()=>l.delete(e)),__:(e,t)=>{let o=a(t,void 0,e);return n?(o=n.applyFilters("i18n.gettext",o,e,t),n.applyFilters("i18n.gettext_"+c(t),o,e,t)):o},_x:d,_n:(e,t,o,l)=>{let s=a(l,void 0,e,t,o);return n?(s=n.applyFilters("i18n.ngettext",s,e,t,o,l),n.applyFilters("i18n.ngettext_"+c(l),s,e,t,o,l)):s},_nx:(e,t,o,l,s)=>{let i=a(s,l,e,t,o);return n?(i=n.applyFilters("i18n.ngettext_with_context",i,e,t,o,l,s),n.applyFilters("i18n.ngettext_with_context_"+c(s),i,e,t,o,l,s)):i},isRTL:()=>"rtl"===d("ltr","text direction"),hasTranslation:(e,t,l)=>{const s=t?t+""+e:e;let i=!!o.data?.[null!=l?l:"default"]?.[s];return n&&(i=n.applyFilters("i18n.has_translation",i,e,t,l),i=n.applyFilters("i18n.has_translation_"+c(l),i,e,t,l)),i}}})(0,0,L);function Du(e){if(!e){if("undefined"==typeof window)return!1;e=window}const{platform:t}=e.navigator;return-1!==t.indexOf("Mac")||["iPad","iPhone"].includes(t)}Eu.getLocaleData.bind(Eu),Eu.setLocaleData.bind(Eu),Eu.resetLocaleData.bind(Eu),Eu.subscribe.bind(Eu),Eu.__.bind(Eu),Eu._x.bind(Eu),Eu._n.bind(Eu),Eu._nx.bind(Eu),Eu.isRTL.bind(Eu),Eu.hasTranslation.bind(Eu);const Pu=8,Tu=13,Lu=38,Mu=40,Ru=46,Au="alt",zu="ctrl",Ou="meta",Fu="shift";function Vu(e,t){return Object.fromEntries(Object.entries(e).map(([e,n])=>[e,t(n)]))}const $u={primary:e=>e()?[Ou]:[zu],primaryShift:e=>e()?[Fu,Ou]:[zu,Fu],primaryAlt:e=>e()?[Au,Ou]:[zu,Au],secondary:e=>e()?[Fu,Au,Ou]:[zu,Fu,Au],access:e=>e()?[zu,Au]:[Fu,Au],ctrl:()=>[zu],alt:()=>[Au],ctrlShift:()=>[zu,Fu],shift:()=>[Fu],shiftAlt:()=>[Fu,Au],undefined:()=>[]},Hu=Vu($u,e=>(t,n=Du)=>{const o=n(),l={[Au]:o?"⌥":"Alt",[zu]:o?"⌃":"Ctrl",[Ou]:"⌘",[Fu]:o?"⇧":"Shift"};return[...e(n).reduce((e,t)=>{var n;const s=null!==(n=l[t])&&void 0!==n?n:t;return o?[...e,s]:[...e,s,"+"]},[]),(s=t,s.length<2?s.toUpperCase():s.charAt(0).toUpperCase()+s.slice(1))];var s}),Uu=Vu(Hu,e=>(t,n=Du)=>e(t,n).join(""));const Gu=Vu($u,e=>(t,n,o=Du)=>{const l=e(o),s=function(e){return[Au,zu,Ou,Fu].filter(t=>e[`${t}Key`])}(t),i={Comma:",",Backslash:"\\",IntlRo:"\\",IntlYen:"\\"},r=l.filter(e=>!s.includes(e)),a=s.filter(e=>!l.includes(e));if(r.length>0||a.length>0)return!1;let c=t.key.toLowerCase();return n?(t.altKey&&1===n.length&&(c=String.fromCharCode(t.keyCode).toLowerCase()),t.shiftKey&&1===n.length&&i[t.code]&&(c=i[t.code]),"del"===n&&(n="delete"),c===n.toLowerCase()):l.includes(c)}),Wu=()=>{};function Ku({clientId:e,maximumLength:t,context:n}){const o=C(t=>{if(!e)return null;const{getBlockName:o,getBlockAttributes:l}=t(zo),{getBlockType:s,getActiveBlockVariation:i}=t(M),r=o(e),a=s(r);if(!a)return null;const c=l(e),d=R(a,c,n);if(d!==a.title)return d;const u=i(r,c);return u?.title||a.title},[e,n]);if(!o)return null;if(t&&t>0&&o.length>t){const e="...";return o.slice(0,t-e.length)+e}return o}function qu({clientId:e,maximumLength:t,context:n}){return Ku({clientId:e,maximumLength:t,context:n})}const Zu=n.createContext({refsMap:A()});function Yu({children:e}){const t=n.useMemo(()=>({refsMap:A()}),[]);return p.jsx(Zu.Provider,{value:t,children:e})}function Xu(e){const{refsMap:t}=n.useContext(Zu);return z(n=>(t.set(e,n),()=>t.delete(e)),[e])}function Ju(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function Qu(e,t){const{refsMap:o}=n.useContext(Zu);n.useLayoutEffect(()=>{Ju(t,o.get(e));const n=o.subscribe(e,()=>Ju(t,o.get(e)));return()=>{n(),Ju(t,null)}},[o,e,t])}function ep(e){const[t,o]=n.useState(null);return Qu(e,o),t}var tp,np,op={},lp={};var sp=function(){if(np)return op;np=1,Object.defineProperty(op,"__esModule",{value:!0}),op.diffChars=function(e,t,o){return n.diff(e,t,o)},op.characterDiff=void 0;var e,t=(e=function(){if(tp)return lp;function e(){}function t(e,t,n,o,l){for(var s=0,i=t.length,r=0,a=0;s<i;s++){var c=t[s];if(c.removed){if(c.value=e.join(o.slice(a,a+c.count)),a+=c.count,s&&t[s-1].added){var d=t[s-1];t[s-1]=t[s],t[s]=d}}else{if(!c.added&&l){var u=n.slice(r,r+c.count);u=u.map(function(e,t){var n=o[a+t];return n.length>e.length?n:e}),c.value=e.join(u)}else c.value=e.join(n.slice(r,r+c.count));r+=c.count,c.added||(a+=c.count)}}var p=t[i-1];return i>1&&"string"==typeof p.value&&(p.added||p.removed)&&e.equals("",p.value)&&(t[i-2].value+=p.value,t.pop()),t}function n(e){return{newPos:e.newPos,components:e.components.slice(0)}}return tp=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.default=e,e.prototype={diff:function(e,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=l.callback;"function"==typeof l&&(s=l,l={}),this.options=l;var i=this;function r(e){return s?(setTimeout(function(){s(void 0,e)},0),!0):e}e=this.castInput(e),o=this.castInput(o),e=this.removeEmpty(this.tokenize(e));var a=(o=this.removeEmpty(this.tokenize(o))).length,c=e.length,d=1,u=a+c,p=[{newPos:-1,components:[]}],g=this.extractCommon(p[0],o,e,0);if(p[0].newPos+1>=a&&g+1>=c)return r([{value:this.join(o),count:o.length}]);function m(){for(var l=-1*d;l<=d;l+=2){var s=void 0,u=p[l-1],g=p[l+1],m=(g?g.newPos:0)-l;u&&(p[l-1]=void 0);var h=u&&u.newPos+1<a,f=g&&0<=m&&m<c;if(h||f){if(!h||f&&u.newPos<g.newPos?(s=n(g),i.pushComponent(s.components,void 0,!0)):((s=u).newPos++,i.pushComponent(s.components,!0,void 0)),m=i.extractCommon(s,o,e,l),s.newPos+1>=a&&m+1>=c)return r(t(i,s.components,o,e,i.useLongestToken));p[l]=s}else p[l]=void 0}d++}if(s)!function e(){setTimeout(function(){if(d>u)return s();m()||e()},0)}();else for(;d<=u;){var h=m();if(h)return h}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var l=t.length,s=n.length,i=e.newPos,r=i-o,a=0;i+1<l&&r+1<s&&this.equals(t[i+1],n[r+1]);)i++,r++,a++;return a&&e.components.push({count:a}),e.newPos=i,r},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}},lp}(),e&&e.__esModule?e:{default:e}),n=new t.default;return op.characterDiff=n,op}();function ip({title:e,rawContent:t,renderedContent:n,action:o,actionText:l,className:s}){return p.jsxs("div",{className:s,children:[p.jsxs("div",{className:"block-editor-block-compare__content",children:[p.jsx("h2",{className:"block-editor-block-compare__heading",children:e}),p.jsx("div",{className:"block-editor-block-compare__html",children:t}),p.jsx("div",{className:"block-editor-block-compare__preview edit-post-visual-editor",children:p.jsx(O,{children:ht(n)})})]}),p.jsx("div",{className:"block-editor-block-compare__action",children:p.jsx(zi,{__next40pxDefaultSize:!0,variant:"secondary",tabIndex:"0",onClick:o,children:l})})]})}function rp({block:e,onKeep:t,onConvert:n,convertor:o,convertButtonText:l}){const s=(i=o(e),(Array.isArray(i)?i:[i]).map(e=>F(e.name,e.attributes,e.innerBlocks)).join(""));var i;const r=(a=e.originalContent,c=s,sp.diffChars(a,c).map((e,t)=>{const n=Ti({"block-editor-block-compare__added":e.added,"block-editor-block-compare__removed":e.removed});return p.jsx("span",{className:n,children:e.value},t)}));var a,c;return p.jsxs("div",{className:"block-editor-block-compare__wrapper",children:[p.jsx(ip,{title:To("Current"),className:"block-editor-block-compare__current",action:t,actionText:To("Convert to HTML"),rawContent:e.originalContent,renderedContent:e.originalContent}),p.jsx(ip,{title:To("After Conversion"),className:"block-editor-block-compare__converted",action:n,actionText:l,rawContent:r,renderedContent:s})]})}const ap=e=>V({HTML:e.originalContent});function cp({clientId:e}){const{block:t,canInsertHTMLBlock:o,canInsertClassicBlock:l}=C(t=>{const{canInsertBlockType:n,getBlock:o,getBlockRootClientId:l}=t(zo),s=l(e);return{block:o(e),canInsertHTMLBlock:n("core/html",s),canInsertClassicBlock:n("core/freeform",s)}},[e]),{replaceBlock:s}=_(zo),[i,r]=n.useState(!1),a=n.useCallback(()=>r(!1),[]),c=n.useMemo(()=>({toClassic(){const e=I("core/freeform",{content:t.originalContent});return s(t.clientId,e)},toHTML(){const e=I("core/html",{content:t.originalContent});return s(t.clientId,e)},toBlocks(){const e=ap(t);return s(t.clientId,e)},toRecoveredBlock(){const e=I(t.name,t.attributes,t.innerBlocks);return s(t.clientId,e)}}),[t,s]),d=n.useMemo(()=>[{title:Mo("Resolve","imperative verb"),onClick:()=>r(!0)},o&&{title:To("Convert to HTML"),onClick:c.toHTML},l&&{title:To("Convert to Classic Block"),onClick:c.toClassic}].filter(Boolean),[o,l,c]);return p.jsxs(p.Fragment,{children:[p.jsx(rd,{actions:[p.jsx(zi,{__next40pxDefaultSize:!0,onClick:c.toRecoveredBlock,variant:"primary",children:To("Attempt recovery")},"recover")],secondaryActions:d,children:To("Block contains unexpected or invalid content.")}),i&&p.jsx(cr,{title:To("Resolve Block"),onRequestClose:a,className:"block-editor-block-compare",children:p.jsx(rp,{block:t,onKeep:c.toHTML,onConvert:c.toBlocks,convertor:ap,convertButtonText:To("Convert to Blocks")})})]})}const dp=p.jsx(rd,{className:"block-editor-block-list__block-crash-warning",children:To("This block has encountered an error and cannot be previewed.")}),up=()=>dp;class pp extends n.Component{constructor(){super(...arguments),this.state={hasError:!1}}componentDidCatch(){this.setState({hasError:!0})}render(){return this.state.hasError?this.props.fallback:this.props.children}}function gp({clientId:e}){const[t,o]=n.useState(""),l=C(t=>t(zo).getBlock(e),[e]),{updateBlock:s}=_(zo);return n.useEffect(()=>{o($(l))},[l]),p.jsx(g,{className:"block-editor-block-list__block-html-textarea",value:t,onBlur:()=>{const n=x(l.name);if(!n)return;const i=H(n,t,l.attributes),r=t||F(n,i),[a]=t?U({...l,attributes:i,originalContent:r}):[!0];s(e,{attributes:i,originalContent:r,isValid:a}),t||o(r)},onChange:e=>o(e.target.value)})}function mp(e){return{top:e.offsetTop,left:e.offsetLeft}}function hp({triggerAnimationOnChange:e,clientId:t}){const o=n.useRef(),{isTyping:l,getGlobalBlockCount:s,isBlockSelected:i,isFirstMultiSelectedBlock:r,isBlockMultiSelected:a,isAncestorMultiSelected:c}=C(zo),{previous:d,prevRect:u}=n.useMemo(()=>({previous:o.current&&mp(o.current),prevRect:o.current&&o.current.getBoundingClientRect()}),[e]);return n.useLayoutEffect(()=>{if(!d||!o.current)return;const e=ft(o.current),n=i(t),p=n||r(t);function g(){if(p&&u){const t=o.current.getBoundingClientRect().top-u.top;t&&(e.scrollTop+=t)}}if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||l()||s()>200)return void g();const h=n||a(t)||c(t)?"1":"",f=new m({x:0,y:0,config:{mass:5,tension:2e3,friction:200},onChange({value:e}){if(!o.current)return;let{x:t,y:n}=e;t=Math.round(t),n=Math.round(n);const l=0===t&&0===n;o.current.style.transformOrigin="center center",o.current.style.transform=l?null:`translate3d(${t}px,${n}px,0)`,o.current.style.zIndex=h,g()}});o.current.style.transform=void 0;const b=mp(o.current),k=Math.round(d.left-b.left),x=Math.round(d.top-b.top);return f.start({x:0,y:0,from:{x:k,y:x}}),()=>{f.stop(),f.set({x:0,y:0})}},[d,u,t,l,s,i,r,a,c]),o}function fp({clientId:e,initialPosition:t}){const o=n.useRef(),{isBlockSelected:l,isMultiSelecting:s,__unstableGetEditorMode:i}=C(zo);return n.useEffect(()=>{if(!l(e)||s()||"zoom-out"===i())return;if(null==t)return;if(!o.current)return;const{ownerDocument:n}=o.current;if(cl(o.current,n.activeElement))return;const r=bt.tabbable.find(o.current).filter(e=>kt(e)),a=-1===t,c=r[a?r.length-1:0]||o.current;if(cl(o.current,c)){if(!o.current.getAttribute("contenteditable")){const e=bt.tabbable.findNext(o.current);if(e&&cl(o.current,e)&&xt(e))return void e.focus()}vt(c,a)}else o.current.focus()},[t,e]),o}function bp({clientId:e}){const{hoverBlock:t}=_(zo);function n(n){if(n.defaultPrevented)return;const o="mouseover"===n.type?"add":"remove";n.preventDefault(),n.currentTarget.classList[o]("is-hovered"),t("add"===o?e:null)}return z(e=>(e.addEventListener("mouseout",n),e.addEventListener("mouseover",n),()=>{e.removeEventListener("mouseout",n),e.removeEventListener("mouseover",n),e.classList.remove("is-hovered"),t(null)}),[])}function kp(e){const{isBlockSelected:t}=C(zo),{selectBlock:n,selectionChange:o}=_(zo);return z(l=>{function s(s){l.parentElement.closest('[contenteditable="true"]')||(t(e)?s.target.isContentEditable||o(e):cl(l,s.target)&&n(e))}return l.addEventListener("focusin",s),()=>{l.removeEventListener("focusin",s)}},[t,n])}function xp({clientId:e,isSelected:t}){const{getBlockRootClientId:n,getBlockIndex:o}=C(zo),{insertAfterBlock:l,removeBlock:s}=_(zo);return z(n=>{if(t)return n.addEventListener("keydown",o),n.addEventListener("dragstart",i),()=>{n.removeEventListener("keydown",o),n.removeEventListener("dragstart",i)};function o(t){const{keyCode:o,target:i}=t;o!==Tu&&o!==Pu&&o!==Ru||i!==n||kt(i)||(t.preventDefault(),o===Tu?l(e):s(e))}function i(e){e.preventDefault()}},[e,t,n,o,l,s])}function vp(){const{getSettings:e,isZoomOut:t,__unstableGetEditorMode:n}=td(C(zo)),{__unstableSetEditorMode:o,resetZoomLevel:l}=td(_(zo));return z(s=>{function i(s){if("zoom-out"===n()&&t()&&!s.defaultPrevented){s.preventDefault();const{__experimentalSetIsInserterOpened:t}=e();"function"==typeof t&&t(!1),o("edit"),l()}}return s.addEventListener("dblclick",i),()=>{s.removeEventListener("dblclick",i)}},[e,o,n,t,l])}function yp(){const e=n.useContext(gh);return z(t=>{if(e)return e.observe(t),()=>{e.unobserve(t)}},[e])}function _p({isSelected:e}){const t=G();return z(n=>{if(e){const{ownerDocument:e}=n,{defaultView:o}=e;if(!o.IntersectionObserver)return;const l=new o.IntersectionObserver(e=>{e[0].isIntersecting||n.scrollIntoView({behavior:t?"instant":"smooth"}),l.disconnect()});return l.observe(n),()=>{l.disconnect()}}},[e])}function Cp({clientId:e="",isEnabled:t=!0}={}){const{getEnabledClientIdsTree:n}=td(C(zo));return z(o=>{if(!t)return;const l=t=>{(t.target===o||t.target.classList.contains("is-root-container"))&&(t.defaultPrevented||(t.preventDefault(),n(e).forEach(({clientId:e})=>{const t=o.querySelector(`[data-block="${e}"]`);t&&(t.classList.remove("has-editable-outline"),t.offsetWidth,t.classList.add("has-editable-outline"))})))};return o.addEventListener("click",l),()=>o.removeEventListener("click",l)},[t])}function jp(e){if(e.includes(" "))return!1;const t=yt(e),n=Ct(t),o=function(e,t=6){const n=e.split(/[?#]/)[0];return new RegExp(`(?<=\\S)\\.(?:[a-zA-Z_]{2,${t}})(?:\\/|$)`).test(n)}(e),l=e?.startsWith("www."),s=e?.startsWith("#")&&_t(e);return n||l||s||o}function Sp(e={},{__unstableIsHtml:t}={}){const{clientId:o,className:l,wrapperProps:s={},isAligned:i,index:r,mode:a,name:c,blockApiVersion:d,blockTitle:u,isSelected:p,isSubtreeDisabled:g,hasOverlay:m,initialPosition:h,blockEditingMode:f,isHighlighted:b,isMultiSelected:k,isPartiallySelected:x,isReusable:v,isDragging:y,hasChildSelected:_,isEditingDisabled:C,hasEditableOutline:j,isTemporarilyEditingAsBlocks:S,defaultClassName:w,isSectionBlock:I}=n.useContext(cd),B=Ro(To("Block: %s"),u),N="html"!==a||t?"":"-visual",E=W([e.ref,fp({clientId:o,initialPosition:h}),Xu(o),kp(o),xp({clientId:o,isSelected:p}),vp(),bp({clientId:o}),yp(),hp({triggerAnimationOnChange:r,clientId:o}),K({isDisabled:!m}),Cp({clientId:o,isEnabled:I}),_p({isSelected:p})]),D=Wc(),P=!!D[Vc]&&dl(c)?{"--wp-admin-theme-color":"var(--wp-block-synced-color)","--wp-admin-theme-color--rgb":"var(--wp-block-synced-color--rgb)"}:{};d<2&&o===D.clientId&&!0===globalThis.SCRIPT_DEBUG&&jt(`Block type "${c}" must support API version 2 or higher to work correctly with "useBlockProps" method.`);let T=!1;return"-"!==s?.style?.marginTop?.charAt(0)&&"-"!==s?.style?.marginBottom?.charAt(0)&&"-"!==s?.style?.marginLeft?.charAt(0)&&"-"!==s?.style?.marginRight?.charAt(0)||(T=!0),{tabIndex:"disabled"===f?-1:0,...s,...e,ref:E,id:`block-${o}${N}`,role:"document","aria-label":B,"data-block":o,"data-type":c,"data-title":u,inert:g?"true":void 0,className:Ti("block-editor-block-list__block",{"wp-block":!i,"has-block-overlay":m,"is-selected":p,"is-highlighted":b,"is-multi-selected":k,"is-partially-selected":x,"is-reusable":v,"is-dragging":y,"has-child-selected":_,"is-editing-disabled":C,"has-editable-outline":j,"has-negative-margin":T,"is-content-locked-temporarily-editing-as-blocks":S},l,e.className,s.className,w),style:{...s.style,...e.style,...P}}}Sp.save=q;const{isUnmodifiedBlockContent:wp}=td(X);function Ip({children:e,isHtml:t,...n}){return p.jsx("div",{...Sp(n,{__unstableIsHtml:t}),children:e})}function Bp({block:{__unstableBlockSource:e},mode:t,isLocked:o,canRemove:l,clientId:s,isSelected:i,isSelectionEnabled:r,className:a,__unstableLayoutClassNames:c,name:d,isValid:u,attributes:g,wrapperProps:m,setAttributes:h,onReplace:f,onInsertBlocksAfter:b,onMerge:k,toggleSelection:v}){var y;const{mayDisplayControls:C,mayDisplayParentControls:j,themeSupportsLayout:S,...w}=n.useContext(cd),{removeBlock:I}=_(zo),B=n.useCallback(()=>I(s),[s,I]),N=vu()||{};let E=p.jsx(dd,{name:d,isSelected:i,attributes:g,setAttributes:h,insertBlocksAfter:o?void 0:b,onReplace:l?f:void 0,onRemove:l?B:void 0,mergeBlocks:l?k:void 0,clientId:s,isSelectionEnabled:r,toggleSelection:v,__unstableLayoutClassNames:c,__unstableParentLayout:Object.keys(N).length?N:void 0,mayDisplayControls:C,mayDisplayParentControls:j,blockEditingMode:w.blockEditingMode,isPreviewMode:w.isPreviewMode});const D=x(d);D?.getEditWrapperProps&&(m=function(e,t){const n={...e,...t};return e?.hasOwnProperty("className")&&t?.hasOwnProperty("className")&&(n.className=Ti(e.className,t.className)),e?.hasOwnProperty("style")&&t?.hasOwnProperty("style")&&(n.style={...e.style,...t.style}),n}(m,D.getEditWrapperProps(g)));const P=m&&!!m["data-align"]&&!S,T=a?.includes("is-position-sticky");let L;if(P&&(E=p.jsx("div",{className:Ti("wp-block",T&&a),"data-align":m["data-align"],children:E})),u)L="html"===t?p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{display:"none"},children:E}),p.jsx(Ip,{isHtml:!0,children:p.jsx(gp,{clientId:s})})]}):D?.apiVersion>1?E:p.jsx(Ip,{children:E});else{const t=e?Y(e):F(D,g);L=p.jsxs(Ip,{className:"has-warning",children:[p.jsx(cp,{clientId:s}),p.jsx(O,{children:ht(t)})]})}const{"data-align":M,...R}=null!==(y=m)&&void 0!==y?y:{},A={...R,className:Ti(R.className,M&&S&&`align${M}`,!(M&&T)&&a)};return p.jsx(cd.Provider,{value:{wrapperProps:A,isAligned:P,...w},children:p.jsx(pp,{fallback:p.jsx(Ip,{className:"has-warning",children:p.jsx(up,{})}),children:L})})}const Np=J((e,t,n)=>{const{updateBlockAttributes:o,insertBlocks:l,mergeBlocks:s,replaceBlocks:i,toggleSelection:r,__unstableMarkLastChangeAsPersistent:a,moveBlocksToPosition:c,removeBlock:d,selectBlock:u}=e(zo);return{setAttributes(e){const{getMultiSelectedBlockClientIds:l}=n.select(zo),s=l(),{clientId:i}=t,r=s.length?s:[i];o(r,e)},onInsertBlocks(e,n){const{rootClientId:o}=t;l(e,n,o)},onInsertBlocksAfter(e){const{clientId:o,rootClientId:s}=t,{getBlockIndex:i}=n.select(zo),r=i(o);l(e,r+1,s)},onMerge(e){const{clientId:o,rootClientId:r}=t,{getPreviousBlockClientId:a,getNextBlockClientId:p,getBlock:g,getBlockAttributes:m,getBlockName:h,getBlockOrder:f,getBlockIndex:b,getBlockRootClientId:k,canInsertBlockType:x}=n.select(zo);function v(){const e=g(o),t=E();if(h(o)!==t){const n=ee(e,t);n&&n.length&&i(o,n)}else if(Q(e)){const e=p(o);e&&n.batch(()=>{d(o),u(e)})}}function y(e,t=!0){const s=k(e),r=f(e),[a]=r;1===r.length&&te(g(a))?d(e):n.batch(()=>{const n=g(a),r=wp(n),m=E(),h=ee(n,m),k=!!h?.length&&h.every(t=>x(t.name,e));if(r&&k)i(a,h,t);else if(r&&n.name===m){d(a);const e=p(o);e&&u(e)}else if(x(n.name,s))c([a],e,s,b(e));else{!!h?.length&&h.every(e=>x(e.name,s))?(l(h,b(e),s,t),d(a,!1)):v()}!f(e).length&&te(g(e))&&d(e,!1)})}if(e){if(r){const e=p(r);if(e){if(h(r)!==h(e))return void s(r,e);{const t=m(r),o=m(e);if(Object.keys(t).every(e=>t[e]===o[e]))return void n.batch(()=>{c(f(e),e,r),d(e,!1)})}}}const e=p(o);if(!e)return;f(e).length?y(e,!1):s(o,e)}else{const e=a(o);if(e)s(e,o);else if(r){const e=a(r);if(e&&h(r)===h(e)){const t=m(r),o=m(e);if(Object.keys(t).every(e=>t[e]===o[e]))return void n.batch(()=>{c(f(r),r,e),d(r,!1)})}y(r)}else v()}},onReplace(e,n,o){e.length&&!Q(e[e.length-1])&&a();const l=1===e?.length&&Array.isArray(e[0])?e[0]:e;i([t.clientId],l,n,o)},toggleSelection(e){r(e)}}});Bp=S(Np,Li("editor.BlockListBlock"))(Bp);const Ep=n.memo(function(e){const{clientId:t,rootClientId:o}=e,l=C(e=>{const{isBlockSelected:n,getBlockMode:l,isSelectionEnabled:s,getTemplateLock:i,isSectionBlock:r,getBlockWithoutAttributes:a,getBlockAttributes:c,canRemoveBlock:d,canMoveBlock:u,getSettings:p,getTemporarilyEditingAsBlocks:g,getBlockEditingMode:m,getBlockName:h,isFirstMultiSelectedBlock:f,getMultiSelectedBlockClientIds:b,hasSelectedInnerBlock:k,getBlocksByName:_,getBlockIndex:C,isBlockMultiSelected:j,isBlockSubtreeDisabled:S,isBlockHighlighted:w,__unstableIsFullySelected:I,__unstableSelectionHasUnmergeableBlock:B,isBlockBeingDragged:N,isDragging:E,__unstableHasActiveBlockOverlayActive:D,getSelectedBlocksInitialCaretPosition:P}=td(e(zo)),T=a(t);if(!T)return;const{hasBlockSupport:L,getActiveBlockVariation:R}=e(M),A=c(t),{name:z,isValid:O}=T,F=x(z),{supportsLayout:V,__unstableIsPreviewMode:$}=p(),H=F?.apiVersion>1,U={isPreviewMode:$,blockWithoutAttributes:T,name:z,attributes:A,isValid:O,themeSupportsLayout:V,index:C(t),isReusable:Z(F),className:H?A.className:void 0,defaultClassName:H?y(z):void 0,blockTitle:F?.title};if($)return U;const G=n(t),W=d(t),K=u(t),q=R(z,A),Y=j(t),X=k(t,!0),J=m(t),Q=v(z,"multiple",!0)?[]:_(z),ee=Q.length&&Q[0]!==t;return{...U,mode:l(t),isSelectionEnabled:s(),isLocked:!!i(o),isSectionBlock:r(t),canRemove:W,canMove:K,isSelected:G,isTemporarilyEditingAsBlocks:g()===t,blockEditingMode:J,mayDisplayControls:G||f(t)&&b().every(e=>h(e)===z),mayDisplayParentControls:L(h(t),"__experimentalExposeControlsToChildren",!1)&&k(t),blockApiVersion:F?.apiVersion||1,blockTitle:q?.title||F?.title,isSubtreeDisabled:"disabled"===J&&S(t),hasOverlay:D(t)&&!E(),initialPosition:G?P():void 0,isHighlighted:w(t),isMultiSelected:Y,isPartiallySelected:Y&&!I()&&!B(),isDragging:N(t),hasChildSelected:X,isEditingDisabled:"disabled"===J,hasEditableOutline:"disabled"!==J&&"disabled"===m(o),originalBlockClientId:!!ee&&Q[0]}},[t,o]),{isPreviewMode:s,mode:i="visual",isSelectionEnabled:r=!1,isLocked:a=!1,canRemove:c=!1,canMove:d=!1,blockWithoutAttributes:u,name:g,attributes:m,isValid:h,isSelected:f=!1,themeSupportsLayout:b,isTemporarilyEditingAsBlocks:k,blockEditingMode:_,mayDisplayControls:j,mayDisplayParentControls:S,index:w,blockApiVersion:I,blockTitle:B,isSubtreeDisabled:N,hasOverlay:E,initialPosition:D,isHighlighted:P,isMultiSelected:T,isPartiallySelected:L,isReusable:R,isDragging:A,hasChildSelected:z,isSectionBlock:O,isEditingDisabled:F,hasEditableOutline:V,className:$,defaultClassName:H,originalBlockClientId:U}=l,G=n.useMemo(()=>({...u,attributes:m}),[u,m]);if(!l)return null;const W={isPreviewMode:s,clientId:t,className:$,index:w,mode:i,name:g,blockApiVersion:I,blockTitle:B,isSelected:f,isSubtreeDisabled:N,hasOverlay:E,initialPosition:D,blockEditingMode:_,isHighlighted:P,isMultiSelected:T,isPartiallySelected:L,isReusable:R,isDragging:A,hasChildSelected:z,isSectionBlock:O,isEditingDisabled:F,hasEditableOutline:V,isTemporarilyEditingAsBlocks:k,defaultClassName:H,mayDisplayControls:j,mayDisplayParentControls:S,originalBlockClientId:U,themeSupportsLayout:b};return p.jsx(cd.Provider,{value:W,children:p.jsx(Bp,{...e,mode:i,isSelectionEnabled:r,isLocked:a,canRemove:c,canMove:d,block:G,name:g,attributes:m,isValid:h,isSelected:f})})}),Dp=[ne(To("While writing, you can press <kbd>/</kbd> to quickly insert new blocks."),{kbd:p.jsx("kbd",{})}),ne(To("Indent a list by pressing <kbd>space</kbd> at the beginning of a line."),{kbd:p.jsx("kbd",{})}),ne(To("Outdent a list by pressing <kbd>backspace</kbd> at the beginning of a line."),{kbd:p.jsx("kbd",{})}),To("Drag files into the editor to automatically insert media blocks."),To("Change a block's type by pressing the block icon on the toolbar.")];function Pp(){const[e]=n.useState(Math.floor(Math.random()*Dp.length));return p.jsx(dr,{children:Dp[e]})}function Tp({title:e,icon:t,description:n,blockType:o,className:l,name:s}){o&&(He("`blockType` property in `BlockCard component`",{since:"5.7",alternative:"`title, icon and description` properties"}),({title:e,icon:t,description:n}=o));const{parentNavBlockClientId:i}=C(e=>{const{getSelectedBlockClientId:t,getBlockParentsByBlockName:n}=e(zo);return{parentNavBlockClientId:n(t(),"core/navigation",!0)[0]}},[]),{selectBlock:r}=_(zo);return p.jsxs("div",{className:Ti("block-editor-block-card",l),children:[i&&p.jsx(zi,{onClick:()=>r(i),label:To("Go to parent Navigation block"),style:{minWidth:24,padding:0},icon:Lo()?St:wt,size:"small"}),p.jsx(Vd,{icon:t,showColors:!0}),p.jsxs(Ji,{spacing:1,children:[p.jsx("h2",{className:"block-editor-block-card__title",children:s?.length?Ro(To("%1$s (%2$s)"),s,e):e}),n&&p.jsx(ur,{className:"block-editor-block-card__description",children:n})]})]})}const Lp=j(e=>({useSubRegistry:t=!0,...o})=>{const l=oe(),[s]=n.useState(()=>new WeakMap),i=function(e,t,n){if(!n)return t;let o=e.get(t);return o||(o=se({},t),o.registerStore(Oo,Fo),e.set(t,o)),o}(s,l,t);return i===l?p.jsx(e,{registry:l,...o}):p.jsx(le,{value:i,children:p.jsx(e,{registry:i,...o})})},"withRegistryProvider"),Mp=()=>{};function Rp({clientId:e=null,value:t,selection:o,onChange:l=Mp,onInput:s=Mp}){const i=oe(),{resetBlocks:r,resetSelection:a,replaceInnerBlocks:c,setHasControlledInnerBlocks:d,__unstableMarkNextChangeAsNotPersistent:u}=i.dispatch(zo),{getBlockName:p,getBlocks:g,getSelectionStart:m,getSelectionEnd:h}=i.select(zo),f=C(t=>!e||t(zo).areInnerBlocksControlled(e),[e]),b=n.useRef({incoming:null,outgoing:[]}),k=n.useRef(!1),x=()=>{t&&(u(),e?i.batch(()=>{d(e,!0);const n=t.map(e=>ie(e));k.current&&(b.current.incoming=n),u(),c(e,n)}):(k.current&&(b.current.incoming=t),r(t)))},v=n.useRef(s),y=n.useRef(l);n.useEffect(()=>{v.current=s,y.current=l},[s,l]),n.useEffect(()=>{b.current.outgoing.includes(t)?b.current.outgoing[b.current.outgoing.length-1]===t&&(b.current.outgoing=[]):g(e)!==t&&(b.current.outgoing=[],x(),o&&a(o.selectionStart,o.selectionEnd,o.initialPosition))},[t,e]);const _=n.useRef(!1);n.useEffect(()=>{_.current?f||(b.current.outgoing=[],x()):_.current=!0},[f]),n.useEffect(()=>{const{getSelectedBlocksInitialCaretPosition:t,isLastBlockChangePersistent:n,__unstableIsLastBlockChangeIgnored:o,areInnerBlocksControlled:l}=i.select(zo);let s=g(e),r=n(),a=!1;k.current=!0;const c=i.subscribe(()=>{if(null!==e&&null===p(e))return;if(!(!e||l(e)))return;const i=n(),c=g(e),d=c!==s;if(s=c,d&&(b.current.incoming||o()))return b.current.incoming=null,void(r=i);if(d||a&&!d&&i&&!r){r=i,b.current.outgoing.push(s);(r?y.current:v.current)(s,{selection:{selectionStart:m(),selectionEnd:h(),initialPosition:t()}})}a=d},zo);return()=>{k.current=!1,c()}},[i,e]),n.useEffect(()=>()=>{u(),e?(d(e,!1),u(),c(e,[])):r([])},[])}function Ap(){return null}Ap.Register=function(){const{registerShortcut:e}=_(It);return n.useEffect(()=>{e({name:"core/block-editor/duplicate",category:"block",description:To("Duplicate the selected block(s)."),keyCombination:{modifier:"primaryShift",character:"d"}}),e({name:"core/block-editor/remove",category:"block",description:To("Remove the selected block(s)."),keyCombination:{modifier:"access",character:"z"}}),e({name:"core/block-editor/insert-before",category:"block",description:To("Insert a new block before the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"t"}}),e({name:"core/block-editor/insert-after",category:"block",description:To("Insert a new block after the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"y"}}),e({name:"core/block-editor/delete-multi-selection",category:"block",description:To("Delete selection."),keyCombination:{character:"del"},aliases:[{character:"backspace"}]}),e({name:"core/block-editor/select-all",category:"selection",description:To("Select all text when typing. Press again to select all blocks."),keyCombination:{modifier:"primary",character:"a"}}),e({name:"core/block-editor/unselect",category:"selection",description:To("Clear selection."),keyCombination:{character:"escape"}}),e({name:"core/block-editor/multi-text-selection",category:"selection",description:To("Select text across multiple blocks."),keyCombination:{modifier:"shift",character:"arrow"}}),e({name:"core/block-editor/focus-toolbar",category:"global",description:To("Navigate to the nearest toolbar."),keyCombination:{modifier:"alt",character:"F10"}}),e({name:"core/block-editor/move-up",category:"block",description:To("Move the selected block(s) up."),keyCombination:{modifier:"secondary",character:"t"}}),e({name:"core/block-editor/move-down",category:"block",description:To("Move the selected block(s) down."),keyCombination:{modifier:"secondary",character:"y"}}),e({name:"core/block-editor/collapse-list-view",category:"list-view",description:To("Collapse all other items."),keyCombination:{modifier:"alt",character:"l"}}),e({name:"core/block-editor/group",category:"block",description:To("Create a group block from the selected multiple blocks."),keyCombination:{modifier:"primary",character:"g"}})},[e]),null};const zp=Lp(e=>{const{children:t,settings:o,stripExperimentalSettings:l=!1}=e,{__experimentalUpdateSettings:s}=td(_(zo));return n.useEffect(()=>{s({...o,__internalIsInitialized:!0},{stripExperimentalSettings:l,reset:!0})},[o,l,s]),Rp(e),p.jsxs(pr,{passthrough:!0,children:[!o?.__unstableIsPreviewMode&&p.jsx(Ap.Register,{}),p.jsx(Yu,{children:t})]})}),Op=e=>p.jsx(zp,{...e,stripExperimentalSettings:!0,children:e.children});function Fp(){const{getSettings:e,hasSelectedBlock:t,hasMultiSelection:n}=C(zo),{clearSelectedBlock:o}=_(zo),{clearBlockSelection:l}=e();return z(e=>{if(l)return e.addEventListener("mousedown",s),()=>{e.removeEventListener("mousedown",s)};function s(l){(t()||n())&&l.target===e&&o()}},[t,n,o,l])}function Vp(e){const{isMultiSelecting:t,getMultiSelectedBlockClientIds:n,hasMultiSelection:o,getSelectedBlockClientId:l,getSelectedBlocksInitialCaretPosition:s,__unstableIsFullySelected:i}=e(zo);return{isMultiSelecting:t(),multiSelectedBlockClientIds:n(),hasMultiSelection:o(),selectedBlockClientId:l(),initialPosition:s(),isFullSelection:i()}}function $p(){const{initialPosition:e,isMultiSelecting:t,multiSelectedBlockClientIds:n,hasMultiSelection:o,selectedBlockClientId:l,isFullSelection:s}=C(Vp,[]);return z(l=>{const{ownerDocument:i}=l,{defaultView:r}=i;if(null==e)return;if(!o||t)return;const{length:a}=n;a<2||s&&(l.contentEditable=!0,l.focus(),r.getSelection().removeAllRanges())},[o,t,n,l,e,s])}function Hp(e,t,n,o){let l,s=bt.focusable.find(n);return t&&s.reverse(),s=s.slice(s.indexOf(e)+1),o&&(l=e.getBoundingClientRect()),s.find(function(e){if(!(e.closest("[inert]")||1===e.children.length&&ul(e,e.firstElementChild)&&"true"===e.firstElementChild.getAttribute("contenteditable"))){if(!bt.tabbable.isTabbableIndex(e))return!1;if(e.isContentEditable&&"true"!==e.contentEditable)return!1;if(o){const t=e.getBoundingClientRect();if(t.left>=l.right||t.right<=l.left)return!1}return!0}})}function Up(){const{getMultiSelectedBlocksStartClientId:e,getMultiSelectedBlocksEndClientId:t,getSettings:n,hasMultiSelection:o,__unstableIsFullySelected:l}=C(zo),{selectBlock:s}=_(zo);return z(i=>{let r;function a(){r=null}function c(a){if(a.defaultPrevented)return;const{keyCode:c,target:d,shiftKey:u,ctrlKey:p,altKey:g,metaKey:m}=a,h=c===Lu,f=37===c,b=h||f,k=f||39===c,x=h||c===Mu,v=k||x,y=u||p||g||m,_=x?Et:Dt,{ownerDocument:C}=i,{defaultView:j}=C;if(!v)return;if(o()){if(u)return;if(!l())return;return a.preventDefault(),void(b?s(e()):s(t(),-1))}if(!function(e,t,n){const o=t===Lu||t===Mu,{tagName:l}=e,s=e.getAttribute("type");if(o&&!n)return"INPUT"!==l||!["date","datetime-local","month","number","range","time","week"].includes(s);if("INPUT"===l)return["button","checkbox","number","color","file","image","radio","reset","submit"].includes(s);return"TEXTAREA"!==l}(d,c,y))return;x?r||(r=Bt(j)):r=null;const S=Nt(d)?!b:b,{keepCaretInsideBlock:w}=n();if(u)(function(e,t){const n=Hp(e,t,i);return n&&pl(n)})(d,b)&&_(d,b)&&(i.contentEditable=!0,i.focus());else if(!x||!Et(d,b)||g&&!Dt(d,S)||w){if(k&&j.getSelection().isCollapsed&&Dt(d,S)&&!w){const e=Hp(d,S,i);vt(e,b),a.preventDefault()}}else{const e=Hp(d,b,i,!0);e&&(Pt(e,g?!b:b,g?void 0:r),a.preventDefault())}}return i.addEventListener("mousedown",a),i.addEventListener("keydown",c),()=>{i.removeEventListener("mousedown",a),i.removeEventListener("keydown",c)}},[])}function Gp(){const{getBlockOrder:e,getSelectedBlockClientIds:t,getBlockRootClientId:n}=C(zo),{multiSelect:o,selectBlock:l}=_(zo),s=Tt();return z(i=>{function r(r){if(!s("core/block-editor/select-all",r))return;const a=t();if(a.length<2&&!Lt(r.target))return;r.preventDefault();const[c]=a,d=n(c),u=e(d);a.length!==u.length?o(u[0],u[u.length-1]):d&&(i.ownerDocument.defaultView.getSelection().removeAllRanges(),l(d))}return i.addEventListener("keydown",r),()=>{i.removeEventListener("keydown",r)}},[])}function Wp(e,t){e.contentEditable=t,t&&e.focus()}function Kp(){const{startMultiSelect:e,stopMultiSelect:t}=_(zo),{isSelectionEnabled:n,hasSelectedBlock:o,isDraggingBlocks:l,isMultiSelecting:s}=C(zo);return z(i=>{const{ownerDocument:r}=i,{defaultView:a}=r;let c,d;function u(){t(),a.removeEventListener("mouseup",u),d=a.requestAnimationFrame(()=>{if(!o())return;Wp(i,!1);const e=a.getSelection();if(e.rangeCount){const t=e.getRangeAt(0),{commonAncestorContainer:n}=t,o=t.cloneRange();c.contains(n)&&(c.focus(),e.removeAllRanges(),e.addRange(o))}})}function p({buttons:t,target:o,relatedTarget:r}){o.contains(r)||l()||1===t&&(s()||i!==o&&"true"===o.getAttribute("contenteditable")&&n()&&(c=o,e(),a.addEventListener("mouseup",u),Wp(i,!0)))}return i.addEventListener("mouseout",p),()=>{i.removeEventListener("mouseout",p),a.removeEventListener("mouseup",u),a.cancelAnimationFrame(d)}},[e,t,n,o])}function qp(e,t){e.contentEditable!==String(t)&&(e.contentEditable=t)}function Zp(e){const t=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;return t?.closest("[data-wp-block-attribute-key]")}function Yp(){const{multiSelect:e,selectBlock:t,selectionChange:n}=_(zo),{getBlockParents:o,getBlockSelectionStart:l,isMultiSelecting:s}=C(zo);return z(i=>{const{ownerDocument:r}=i,{defaultView:a}=r;function c(r){const c=a.getSelection();if(!c.rangeCount)return;const d=function(e){const{anchorNode:t,anchorOffset:n}=e;return t.nodeType===t.TEXT_NODE||0===n?t:t.childNodes[n-1]}(c),u=function(e){const{focusNode:t,focusOffset:n}=e;return t.nodeType===t.TEXT_NODE||n===t.childNodes.length?t:0===n&&Rt(e)?null!==(o=t.previousSibling)&&void 0!==o?o:t.parentElement:t.childNodes[n];var o}(c);if(!i.contains(d)||!i.contains(u))return;const p=r.shiftKey&&"mouseup"===r.type;if(c.isCollapsed&&!p){if("true"===i.contentEditable&&!s()){qp(i,!1);let e=d.nodeType===d.ELEMENT_NODE?d:d.parentElement;e=e?.closest("[contenteditable]"),e?.focus()}return}let g=pl(d),m=pl(u);if(p){const e=l(),t=pl(r.target),n=t!==m;(g===m&&c.isCollapsed||!m||n)&&(m=t),g!==e&&(g=e)}if(void 0===g&&void 0===m)return void qp(i,!1);if(g===m)s()?e(g,g):t(g);else{const t=[...o(g),g],l=[...o(m),m],s=function(e,t){let n=0;for(;e[n]===t[n];)n++;return n}(t,l);if(t[s]!==g||l[s]!==m)return void e(t[s],l[s]);const i=Zp(d),r=Zp(u);if(i&&r){var h,f;const e=c.getRangeAt(0),t=Mt({element:i,range:e,__unstableIsEditableTree:!0}),o=Mt({element:r,range:e,__unstableIsEditableTree:!0}),l=null!==(h=t.start)&&void 0!==h?h:t.end,s=null!==(f=o.start)&&void 0!==f?f:o.end;n({start:{clientId:g,attributeKey:i.dataset.wpBlockAttributeKey,offset:l},end:{clientId:m,attributeKey:r.dataset.wpBlockAttributeKey,offset:s}})}else e(g,m)}}return r.addEventListener("selectionchange",c),a.addEventListener("mouseup",c),()=>{r.removeEventListener("selectionchange",c),a.removeEventListener("mouseup",c)}},[e,t,n,o])}function Xp(){const{selectBlock:e}=_(zo),{isSelectionEnabled:t,getBlockSelectionStart:n,hasMultiSelection:o}=C(zo);return z(l=>{function s(s){if(!t()||0!==s.button)return;const i=n(),r=pl(s.target);s.shiftKey?i!==r&&(l.contentEditable=!0,l.focus()):o()&&e(r)}return l.addEventListener("mousedown",s),()=>{l.removeEventListener("mousedown",s)}},[e,t,n,o])}function Jp(){const{__unstableIsFullySelected:e,getSelectedBlockClientIds:t,getSelectedBlockClientId:n,__unstableIsSelectionMergeable:o,hasMultiSelection:l,getBlockName:s,canInsertBlockType:i,getBlockRootClientId:r,getSelectionStart:a,getSelectionEnd:c,getBlockAttributes:d}=C(zo),{replaceBlocks:u,__unstableSplitSelection:p,removeBlocks:g,__unstableDeleteSelection:m,__unstableExpandSelection:h,__unstableMarkAutomaticChange:f}=_(zo);return z(b=>{function k(e){"true"===b.contentEditable&&e.preventDefault()}function x(k){if(!k.defaultPrevented)if(l())k.keyCode===Tu?(b.contentEditable=!1,k.preventDefault(),e()?u(t(),I(E())):p()):k.keyCode===Pu||k.keyCode===Ru?(b.contentEditable=!1,k.preventDefault(),e()?g(t()):o()?m(k.keyCode===Ru):h()):1!==k.key.length||k.metaKey||k.ctrlKey||(b.contentEditable=!1,o()?m(k.keyCode===Ru):(k.preventDefault(),b.ownerDocument.defaultView.getSelection().removeAllRanges()));else if(k.keyCode===Tu){if(k.shiftKey||e())return;const t=n(),o=s(t),l=a(),g=c();if(l.attributeKey===g.attributeKey){const e=d(t)[l.attributeKey],n=re("from").filter(({type:e})=>"enter"===e),o=ae(n,t=>t.regExp.test(e));if(o)return u(t,o.transform({content:e})),void f()}if(!v(o,"splitting",!1)&&!k.__deprecatedOnSplit)return;i(o,r(t))&&(p(),k.preventDefault())}}function y(e){l()&&(b.contentEditable=!1,o()?m():(e.preventDefault(),b.ownerDocument.defaultView.getSelection().removeAllRanges()))}return b.addEventListener("beforeinput",k),b.addEventListener("keydown",x),b.addEventListener("compositionstart",y),()=>{b.removeEventListener("beforeinput",k),b.removeEventListener("keydown",x),b.removeEventListener("compositionstart",y)}},[])}function Qp(){const e=oe(),{getBlocksByClientId:t,getSelectedBlockClientIds:n,hasMultiSelection:o,getSettings:l,getBlockName:s,__unstableIsFullySelected:i,__unstableIsSelectionCollapsed:r,__unstableIsSelectionMergeable:a,__unstableGetSelectedBlocksWithPartialSelection:c,canInsertBlockType:d,getBlockRootClientId:u}=C(zo),{flashBlock:p,removeBlocks:g,replaceBlocks:m,__unstableDeleteSelection:h,__unstableExpandSelection:f,__unstableSplitSelection:b}=_(zo),k=gl();return z(x=>{function y(y){if(y.defaultPrevented)return;const _=n();if(0===_.length)return;if(!o()){const{target:e}=y,{ownerDocument:t}=e;if("copy"===y.type||"cut"===y.type?At(t):zt(t)&&!t.activeElement.isContentEditable)return}const{activeElement:C}=y.target.ownerDocument;if(!x.contains(C))return;const j=a(),S=r()||i(),w=!S&&!j;if("copy"===y.type||"cut"===y.type)if(y.preventDefault(),1===_.length&&p(_[0]),w)f();else{let n;if(k(y.type,_),S)n=t(_);else{const[e,o]=c();n=[e,...t(_.slice(1,_.length-1)),o]}ml(y,n,e)}if("cut"===y.type)S&&!w?g(_):(y.target.ownerDocument.activeElement.contentEditable=!1,h());else if("paste"===y.type){const{__experimentalCanUserUseUnfilteredHTML:e}=l();if("true"===y.clipboardData.getData("rich-text"))return;const{plainText:t,html:n,files:r}=hl(y),a=i();let c=[];if(r.length){const e=re("from");c=r.reduce((t,n)=>{const o=ae(e,e=>"files"===e.type&&e.isMatch([n]));return o&&t.push(o.transform([n])),t},[]).flat()}else c=ce({HTML:n,plainText:t,mode:a?"BLOCKS":"AUTO"});if("string"==typeof c)return;if(a)return m(_,c,c.length-1,-1),void y.preventDefault();if(!o()&&!v(s(_[0]),"splitting",!1)&&!y.__deprecatedOnSplit)return;const[p]=_,g=u(p),h=[];for(const o of c)if(d(o.name,g))h.push(o);else{const e=s(g),t=o.name!==e?ee(o,e):[o];if(!t)return;for(const n of t)for(const e of n.innerBlocks)h.push(e)}b(h),y.preventDefault()}}return x.ownerDocument.addEventListener("copy",y),x.ownerDocument.addEventListener("cut",y),x.ownerDocument.addEventListener("paste",y),()=>{x.ownerDocument.removeEventListener("copy",y),x.ownerDocument.removeEventListener("cut",y),x.ownerDocument.removeEventListener("paste",y)}},[])}function eg(){const[e,t,o]=function(){const e=n.useRef(),t=n.useRef(),o=n.useRef(),{hasMultiSelection:l,getSelectedBlockClientId:s,getBlockCount:i}=C(zo),{setLastFocus:r}=td(_(zo)),{getLastFocus:a}=td(C(zo)),c=n.useRef();function d(t){if(c.current)c.current=null;else if(l())e.current.focus();else if(s())a()?.current?a().current.focus():e.current.querySelector(`[data-block="${s()}"]`).focus();else{const n=e.current.ownerDocument===t.target.ownerDocument?e.current:e.current.ownerDocument.defaultView.frameElement,o=t.target.compareDocumentPosition(n)&t.target.DOCUMENT_POSITION_FOLLOWING,l=bt.tabbable.find(e.current);l.length&&(o?l[0]:l[l.length-1]).focus()}}const u=p.jsx("div",{ref:t,tabIndex:"0",onFocus:d}),g=p.jsx("div",{ref:o,tabIndex:"0",onFocus:d}),m=z(n=>{function l(e){if(e.defaultPrevented)return;if(9!==e.keyCode)return;const n=e.shiftKey,l=n?"findPrevious":"findNext",s=bt.tabbable[l](e.target),i=e.target.closest("[data-block]"),r=i&&s&&(ul(i,s)||cl(i,s));if(xt(s)&&r)return;const a=n?t:o;c.current=!0,a.current.focus({preventScroll:!0})}function s(e){r({...a(),current:e.target});const{ownerDocument:t}=n;e.relatedTarget||t.activeElement!==t.body||0!==i()||n.focus()}function d(n){if(9!==n.keyCode)return;if("region"===n.target?.getAttribute("role"))return;if(e.current===n.target)return;const l=n.shiftKey?"findPrevious":"findNext",s=bt.tabbable[l](n.target);s!==t.current&&s!==o.current||(n.preventDefault(),s.focus({preventScroll:!0}))}const{ownerDocument:u}=n,{defaultView:p}=u;return p.addEventListener("keydown",d),n.addEventListener("keydown",l),n.addEventListener("focusout",s),()=>{p.removeEventListener("keydown",d),n.removeEventListener("keydown",l),n.removeEventListener("focusout",s)}},[]);return[u,W([e,m]),g]}(),l=C(e=>e(zo).hasMultiSelection(),[]);return[e,W([t,Qp(),Jp(),Kp(),Yp(),Xp(),$p(),Gp(),Up(),z(e=>{if(e.tabIndex=0,l)return e.classList.add("has-multi-selection"),e.setAttribute("aria-label",To("Multiple selected blocks")),()=>{e.classList.remove("has-multi-selection"),e.removeAttribute("aria-label")}},[l])]),o]}const tg=n.forwardRef(function({children:e,...t},n){const[o,l,s]=eg();return p.jsxs(p.Fragment,{children:[o,p.jsx("div",{...t,ref:W([l,n]),className:Ti(t.className,"block-editor-writing-flow"),children:e}),s]})});let ng=null;function og(e,t,n){const o={};for(const s in e)o[s]=e[s];if(e instanceof n.contentDocument.defaultView.MouseEvent){const e=n.getBoundingClientRect();o.clientX+=e.left,o.clientY+=e.top}const l=new t(e.type,o);o.defaultPrevented&&l.preventDefault();!n.dispatchEvent(l)&&e.preventDefault()}function lg(e){return z(()=>{const{defaultView:t}=e;if(!t)return;const{frameElement:n}=t,o=e.documentElement,l=["dragover","mousemove"],s={};for(const e of l)s[e]=e=>{const t=Object.getPrototypeOf(e).constructor.name;og(e,window[t],n)},o.addEventListener(e,s[e]);return()=>{for(const e of l)o.removeEventListener(e,s[e])}})}function sg({contentRef:e,children:t,tabIndex:o=0,scale:l=1,frameSize:s=0,readonly:i,forwardedRef:r,title:a=To("Editor canvas"),...c}){const{resolvedAssets:d,isPreviewMode:u}=C(e=>{const{getSettings:t}=e(zo),n=t();return{resolvedAssets:n.__unstableResolvedAssets,isPreviewMode:n.__unstableIsPreviewMode}},[]),{styles:g="",scripts:m=""}=d,[f,b]=n.useState(),k=n.useRef(),[x,v]=n.useState([]),y=Fp(),[_,j,S]=eg(),[w,{height:I}]=de(),[B,{width:N}]=de(),E=z(e=>{let t;function n(e){e.preventDefault()}function o(){const{contentDocument:o,ownerDocument:l}=e,{documentElement:s}=o;t=o,s.classList.add("block-editor-iframe__html"),y(s),v(Array.from(l.body.classList).filter(e=>e.startsWith("admin-color-")||e.startsWith("post-type-")||"wp-embed-responsive"===e)),o.dir=l.dir;for(const e of ng||(ng=Array.from(document.styleSheets).reduce((e,t)=>{try{t.cssRules}catch(Za){return e}const{ownerNode:n,cssRules:o}=t;if(null===n)return e;if(!o)return e;if(["wp-reset-editor-styles-css","wp-reset-editor-styles-rtl-css"].includes(n.id))return e;if(!n.id)return e;if(function e(t){return Array.from(t).find(({selectorText:t,conditionText:n,cssRules:o})=>n?e(o):t&&(t.includes(".editor-styles-wrapper")||t.includes(".wp-block")))}(o)){const t="STYLE"===n.tagName;if(t){const t=n.id.replace("-inline-css","-css"),o=document.getElementById(t);o&&e.push(o.cloneNode(!0))}if(e.push(n.cloneNode(!0)),!t){const t=n.id.replace("-css","-inline-css"),o=document.getElementById(t);o&&e.push(o.cloneNode(!0))}}return e},[]),ng))o.getElementById(e.id)||o.head.appendChild(e.cloneNode(!0));t.addEventListener("dragover",n,!1),t.addEventListener("drop",n,!1)}return e._load=()=>{b(e.contentDocument)},e.addEventListener("load",o),()=>{delete e._load,e.removeEventListener("load",o),t?.removeEventListener("dragover",n),t?.removeEventListener("drop",n)}},[]),[D,P]=n.useState(),T=z(e=>{const t=e.ownerDocument.defaultView;P(t.innerHeight);const n=()=>{P(t.innerHeight)};return t.addEventListener("resize",n),()=>{t.removeEventListener("resize",n)}},[]),[L,M]=n.useState(),R=z(e=>{const t=e.ownerDocument.defaultView;M(t.innerWidth);const n=()=>{M(t.innerWidth)};return t.addEventListener("resize",n),()=>{t.removeEventListener("resize",n)}},[]),A=1!==l;n.useEffect(()=>{A||(k.current=N)},[N,A]);const O=K({isDisabled:!i}),F=W([lg(f),e,y,j,O,A?T:null]),V=`<!doctype html>\n<html>\n\t<head>\n\t\t<meta charset="utf-8">\n\t\t<script>window.frameElement._load()<\/script>\n\t\t<style>\n\t\t\thtml{\n\t\t\t\theight: auto !important;\n\t\t\t\tmin-height: 100%;\n\t\t\t}\n\t\t\t/* Lowest specificity to not override global styles */\n\t\t\t:where(body) {\n\t\t\t\tmargin: 0;\n\t\t\t\t/* Default background color in case zoom out mode background\n\t\t\t\tcolors the html element */\n\t\t\t\tbackground-color: white;\n\t\t\t}\n\t\t</style>\n\t\t${g}\n\t\t${m}\n\t</head>\n\t<body>\n\t\t<script>document.currentScript.parentElement.remove()<\/script>\n\t</body>\n</html>`,[$,H]=n.useMemo(()=>{const e=URL.createObjectURL(new window.Blob([V],{type:"text/html"}));return[e,()=>URL.revokeObjectURL(e)]},[V]);n.useEffect(()=>H,[H]),n.useEffect(()=>{if(!f||!A)return;f.documentElement.classList.add("is-zoomed-out");return f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-scale","default"===l?Math.min(N,750)/k.current:l),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-frame-size","number"==typeof s?`${s}px`:s),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-content-height",`${I}px`),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-inner-height",`${D}px`),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-container-width",`${N}px`),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-prev-container-width",`${k.current}px`),()=>{f.documentElement.classList.remove("is-zoomed-out"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-scale"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-frame-size"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-content-height"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-inner-height"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-container-width"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-prev-container-width")}},[l,s,f,D,I,N,L,A]);const U=o>=0&&!u,G=p.jsxs(p.Fragment,{children:[U&&_,p.jsx("iframe",{...c,style:{...c.style,height:c.style?.height},ref:W([r,E]),tabIndex:o,src:$,title:a,onKeyDown:e=>{if(c.onKeyDown&&c.onKeyDown(e),e.currentTarget.ownerDocument!==e.target.ownerDocument){const{stopPropagation:t}=e.nativeEvent;e.nativeEvent.stopPropagation=()=>{},e.stopPropagation(),e.nativeEvent.stopPropagation=t,og(e,window.KeyboardEvent,e.currentTarget)}},children:f&&h.createPortal(p.jsxs("body",{ref:F,className:Ti("block-editor-iframe__body","editor-styles-wrapper",...x),children:[w,p.jsx(gr,{document:f,children:t})]}),f.documentElement)}),U&&S]});return p.jsxs("div",{className:"block-editor-iframe__container",ref:R,children:[B,p.jsx("div",{className:Ti("block-editor-iframe__scale-container",A&&"is-zoomed-out"),style:{"--wp-block-editor-iframe-zoom-out-container-width":A&&`${N}px`,"--wp-block-editor-iframe-zoom-out-prev-container-width":A&&`${k.current}px`},children:G})]})}const ig=n.forwardRef(function(e,t){return C(e=>e(zo).getSettings().__internalIsInitialized,[])?p.jsx(sg,{...e,forwardedRef:t}):null});function rg(e,t){return n.useCallback(e=>{if(!e)return;const{ownerDocument:n}=e,{defaultView:o,body:l}=n,s=t?n.querySelector(t):l;let i;if(s)i=o?.getComputedStyle(s,null).getPropertyValue("background-color");else{const e=n.createElement("div");e.classList.add("editor-styles-wrapper"),l.appendChild(e),i=o?.getComputedStyle(e,null).getPropertyValue("background-color"),l.removeChild(e)}const r=bc(i);r.luminance()>.5||0===r.alpha()?l.classList.remove("is-dark-theme"):l.classList.add("is-dark-theme")},[e,t])}xc([vc,Cc]);const ag=n.memo(function({styles:e,scope:t,transformOptions:o}){const l=C(e=>td(e(zo)).getStyleOverrides(),[]),[s,i]=n.useMemo(()=>{const n=Object.values(null!=e?e:[]);for(const[e,t]of l){const o=n.findIndex(({id:t})=>e===t),l={...t,id:e};-1===o?n.push(l):n[o]=l}return[fl(n.filter(e=>e?.css),t,o),n.filter(e=>"svgs"===e.__unstableType).map(e=>e.assets).join("")]},[e,l,t,o]);return p.jsxs(p.Fragment,{children:[p.jsx("style",{ref:rg(s,t)}),s.map((e,t)=>p.jsx("style",{children:e},t)),p.jsx(Ot,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 0 0",width:"0",height:"0",role:"none",style:{visibility:"hidden",position:"absolute",left:"-9999px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:i}})]})});let cg;const dg=2e3,ug=[];function pg({viewportWidth:e,containerWidth:t,minHeight:o,additionalStyles:l=ug}){e||(e=t);const[s,{height:i}]=de(),{styles:r}=C(e=>({styles:e(zo).getSettings().styles}),[]),a=n.useMemo(()=>r?[...r,{css:"body{height:auto;overflow:hidden;border:none;padding:0;}",__unstableType:"presets"},...l]:r,[r,l]);cg=cg||n.memo(bh);const c=t/e,d=i?t/(i*c):0;return p.jsx(mr,{className:"block-editor-block-preview__content",style:{transform:`scale(${c})`,aspectRatio:d,maxHeight:i>dg?dg*c:void 0,minHeight:o},children:p.jsxs(ig,{contentRef:z(e=>{const{ownerDocument:{documentElement:t}}=e;t.classList.add("block-editor-block-preview__content-iframe"),t.style.position="absolute",t.style.width="100%",e.style.boxSizing="border-box",e.style.position="absolute",e.style.width="100%"},[]),"aria-hidden":!0,tabIndex:-1,style:{position:"absolute",width:e,height:i,pointerEvents:"none",maxHeight:dg,minHeight:0!==c&&c<1&&o?o/c:o},children:[p.jsx(ag,{styles:a}),s,p.jsx(cg,{renderAppender:!1})]})})}function gg(e){const[t,{width:n}]=de();return p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{position:"relative",width:"100%",height:0},children:t}),p.jsx("div",{className:"block-editor-block-preview__container",children:!!n&&p.jsx(pg,{...e,containerWidth:n})})]})}const mg=[];const hg=n.memo(function({blocks:e,viewportWidth:t=1200,minHeight:o,additionalStyles:l=mg,__experimentalMinHeight:s,__experimentalPadding:i}){s&&(o=s,He("The __experimentalMinHeight prop",{since:"6.2",version:"6.4",alternative:"minHeight"})),i&&(l=[...l,{css:`body { padding: ${i}px; }`}],He("The __experimentalPadding prop of BlockPreview",{since:"6.2",version:"6.4",alternative:"additionalStyles"}));const r=C(e=>e(zo).getSettings(),[]),a=n.useMemo(()=>({...r,focusMode:!1,__unstableIsPreviewMode:!0}),[r]),c=n.useMemo(()=>Array.isArray(e)?e:[e],[e]);return e&&0!==e.length?p.jsx(zp,{value:c,settings:a,children:p.jsx(gg,{viewportWidth:t,minHeight:o,additionalStyles:l})}):null});function fg({item:e}){var t;const{name:o,title:l,icon:s,description:i,initialAttributes:r,example:a}=e,c=Z(e),d=n.useMemo(()=>a?ue(o,{attributes:{...a.attributes,...r},innerBlocks:a.innerBlocks}):I(o,r),[o,a,r]),u=144,g=null!==(t=a?.viewportWidth)&&void 0!==t?t:500,m=280/g,h=0!==m&&m<1?u/m:u;return p.jsxs("div",{className:"block-editor-inserter__preview-container",children:[p.jsx("div",{className:"block-editor-inserter__preview",children:c||a?p.jsx("div",{className:"block-editor-inserter__preview-content",children:p.jsx(hg,{blocks:d,viewportWidth:g,minHeight:u,additionalStyles:[{css:`\n\t\t\t\t\t\t\t\t\t\tbody { \n\t\t\t\t\t\t\t\t\t\t\tpadding: 24px;\n\t\t\t\t\t\t\t\t\t\t\tmin-height:${Math.round(h)}px;\n\t\t\t\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t.is-root-container { width: 100%; }\n\t\t\t\t\t\t\t\t\t`}]})}):p.jsx("div",{className:"block-editor-inserter__preview-content-missing",children:To("No preview available.")})}),!c&&p.jsx(Tp,{title:l,icon:s,description:i})]})}const bg=n.forwardRef(function(e,t){const[o,l]=n.useState(!1);return n.useEffect(()=>{o&&Ft(To("Use left and right arrow keys to move through blocks"))},[o]),p.jsx("div",{ref:t,role:"listbox","aria-orientation":"horizontal",onFocus:()=>{l(!0)},onBlur:e=>{!e.currentTarget.contains(e.relatedTarget)&&l(!1)},...e})});const kg=n.forwardRef(function(e,t){return p.jsx(hr.Group,{role:"presentation",ref:t,...e})});const xg=n.forwardRef(function({isFirst:e,as:t,children:n,...o},l){return p.jsx(hr.Item,{ref:l,role:"option",accessibleWhenDisabled:!0,...o,render:o=>{const l={...o,tabIndex:e?0:o.tabIndex};return t?p.jsx(t,{...l,children:n}):"function"==typeof n?n(l):p.jsx(zi,{__next40pxDefaultSize:!0,...l,children:n})}})});function vg({children:e}){return p.jsx(hr,{focusShift:!0,focusWrap:"horizontal",render:p.jsx(p.Fragment,{}),children:e})}function yg({count:e,icon:t,isPattern:n,fadeWhenDisabled:o}){const l=n&&To("Pattern");return p.jsx("div",{className:"block-editor-block-draggable-chip-wrapper",children:p.jsx("div",{className:"block-editor-block-draggable-chip","data-testid":"block-draggable-chip",children:p.jsxs(Wi,{justify:"center",className:"block-editor-block-draggable-chip__content",children:[p.jsx(Ki,{children:t?p.jsx(Vd,{icon:t}):l||Ro(Ao("%d block","%d blocks",e),e)}),p.jsx(Ki,{children:p.jsx(Vd,{icon:Vt})}),o&&p.jsx(Ki,{className:"block-editor-block-draggable-chip__disabled",children:p.jsx("span",{className:"block-editor-block-draggable-chip__disabled-icon"})})]})})})}const _g=({isEnabled:e,blocks:t,icon:n,children:o,pattern:l})=>{const s={type:"inserter",blocks:t},i=C(e=>{const{getBlockType:n}=e(M);return 1===t.length&&n(t[0].name)?.icon},[t]),{startDragging:r,stopDragging:a}=td(_(zo));return e?p.jsx(fr,{__experimentalTransferDataType:"wp-blocks",transferData:s,onDragStart:e=>{r();const n=l?.type===bl.user&&"unsynced"!==l?.syncStatus?[I("core/block",{ref:l.id})]:t;e.dataTransfer.setData("text/html",pe(n))},onDragEnd:()=>{a()},__experimentalDragComponent:p.jsx(yg,{count:t.length,icon:n||!l&&i,isPattern:!!l}),children:({onDraggableStart:e,onDraggableEnd:t})=>o({draggable:!0,onDragStart:e,onDragEnd:t})}):o({draggable:!1,onDragStart:void 0,onDragEnd:void 0})};const Cg=n.memo(function({className:e,isFirst:t,item:o,onSelect:l,onHover:s,isDraggable:i,...r}){const a=n.useRef(!1),c=o.icon?{backgroundColor:o.icon.background,color:o.icon.foreground}:{},d=n.useMemo(()=>[I(o.name,o.initialAttributes,B(o.innerBlocks))],[o.name,o.initialAttributes,o.innerBlocks]),u=Z(o)&&"unsynced"!==o.syncStatus||ge(o);return p.jsx(_g,{isEnabled:i&&!o.isDisabled,blocks:d,icon:o.icon,children:({draggable:n,onDragStart:i,onDragEnd:d})=>p.jsx("div",{className:Ti("block-editor-block-types-list__list-item",{"is-synced":u}),draggable:n,onDragStart:e=>{a.current=!0,i&&(s(null),i(e))},onDragEnd:e=>{a.current=!1,d&&d(e)},children:p.jsxs(xg,{isFirst:t,className:Ti("block-editor-block-types-list__item",e),disabled:o.isDisabled,onClick:e=>{e.preventDefault(),l(o,Du()?e.metaKey:e.ctrlKey),s(null)},onKeyDown:e=>{const{keyCode:t}=e;t===Tu&&(e.preventDefault(),l(o,Du()?e.metaKey:e.ctrlKey),s(null))},onMouseEnter:()=>{a.current||s(o)},onMouseLeave:()=>s(null),...r,children:[p.jsx("span",{className:"block-editor-block-types-list__item-icon",style:c,children:p.jsx(Vd,{icon:o.icon,showColors:!0})}),p.jsx("span",{className:"block-editor-block-types-list__item-title",children:p.jsx(br,{numberOfLines:3,children:o.title})})]})})})});function jg(e,t){const n=[];for(let o=0,l=e.length;o<l;o+=t)n.push(e.slice(o,o+t));return n}function Sg({items:e=[],onSelect:t,onHover:n=()=>{},children:o,label:l,isDraggable:s=!0}){const i="block-editor-block-types-list",r=me(Sg,i);return p.jsxs(bg,{className:i,"aria-label":l,children:[jg(e,3).map((e,o)=>p.jsx(kg,{children:e.map((e,l)=>p.jsx(Cg,{item:e,className:he(e.id),onSelect:t,onHover:n,isDraggable:s&&!e.isDisabled,isFirst:0===o&&0===l,rowId:`${r}-${o}`},e.id))},o)),o]})}function wg({title:e,icon:t,children:n}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"block-editor-inserter__panel-header",children:[p.jsx("h2",{className:"block-editor-inserter__panel-title",children:e}),p.jsx(Hi,{icon:t})]}),p.jsx("div",{className:"block-editor-inserter__panel-content",children:n})]})}function Ig(){return p.jsxs("div",{className:"block-editor-inserter__no-results",children:[p.jsx(Ze,{className:"block-editor-inserter__no-results-icon",icon:Ke}),p.jsx("p",{children:To("No results found.")})]})}const Bg=[];function Ng({items:e,collections:t,categories:o,onSelectItem:l,onHover:s,showMostUsedBlocks:i,className:r}){const a=n.useMemo(()=>nl(e,"frecency","desc").slice(0,6),[e]),c=n.useMemo(()=>e.filter(e=>!e.category),[e]),d=n.useMemo(()=>{const n={...t};return Object.keys(t).forEach(t=>{n[t]=e.filter(e=>(e=>e.name.split("/")[0])(e)===t),0===n[t].length&&delete n[t]}),n},[e,t]);n.useEffect(()=>()=>s(null),[]);const u=fe(o),g=o.length===u.length,m=n.useMemo(()=>Object.entries(t),[t]),h=fe(g?m:Bg);return p.jsxs("div",{className:r,children:[i&&e.length>3&&!!a.length&&p.jsx(wg,{title:Mo("Most used","blocks"),children:p.jsx(Sg,{items:a,onSelect:l,onHover:s,label:Mo("Most used","blocks")})}),u.map(t=>{const n=e.filter(e=>e.category===t.slug);return n&&n.length?p.jsx(wg,{title:t.title,icon:t.icon,children:p.jsx(Sg,{items:n,onSelect:l,onHover:s,label:t.title})},t.slug):null}),g&&c.length>0&&p.jsx(wg,{className:"block-editor-inserter__uncategorized-blocks-panel",title:To("Uncategorized"),children:p.jsx(Sg,{items:c,onSelect:l,onHover:s,label:To("Uncategorized")})}),h.map(([e,t])=>{const n=d[e];return n&&n.length?p.jsx(wg,{title:t.title,icon:t.icon,children:p.jsx(Sg,{items:n,onSelect:l,onHover:s,label:t.title})},e):null})]})}const Eg=n.forwardRef(function({rootClientId:e,onInsert:t,onHover:n,showMostUsedBlocks:o},l){const[s,i,r,a]=el(e,t);if(!s.length)return p.jsx(Ig,{});const c=[],d=[];for(const u of s)"reusable"!==u.category&&(e&&u.isAllowedInCurrentRoot?c.push(u):d.push(u));return p.jsx(vg,{children:p.jsxs("div",{ref:l,children:[!!c.length&&p.jsx(p.Fragment,{children:p.jsx(Ng,{items:c,categories:i,collections:r,onSelectItem:a,onHover:n,showMostUsedBlocks:o,className:"block-editor-inserter__insertable-blocks-at-selection"})}),p.jsx(Ng,{items:d,categories:i,collections:r,onSelectItem:a,onHover:n,showMostUsedBlocks:o,className:"block-editor-inserter__all-blocks"})]})})});function Dg({selectedCategory:e,patternCategories:t,onClickCategory:n}){const o="block-editor-block-patterns-explorer__sidebar";return p.jsx("div",{className:`${o}__categories-list`,children:t.map(({name:t,label:l})=>p.jsx(zi,{__next40pxDefaultSize:!0,label:l,className:`${o}__categories-list__item`,isPressed:e===t,onClick:()=>{n(t)},children:l},t))})}function Pg({searchValue:e,setSearchValue:t}){return p.jsx("div",{className:"block-editor-block-patterns-explorer__search",children:p.jsx(kr,{__nextHasNoMarginBottom:!0,onChange:t,value:e,label:To("Search for patterns"),placeholder:To("Search")})})}function Tg({selectedCategory:e,patternCategories:t,onClickCategory:n,searchValue:o,setSearchValue:l}){return p.jsxs("div",{className:"block-editor-block-patterns-explorer__sidebar",children:[p.jsx(Pg,{searchValue:o,setSearchValue:l}),!o&&p.jsx(Dg,{selectedCategory:e,patternCategories:t,onClickCategory:n})]})}function Lg({currentPage:e,numPages:t,changePage:n,totalItems:o}){return p.jsxs(Ji,{className:"block-editor-patterns__grid-pagination-wrapper",children:[p.jsx(ur,{variant:"muted",children:Ro(Ao("%s item","%s items",o),o)}),t>1&&p.jsxs(xr,{expanded:!1,spacing:3,justify:"flex-start",className:"block-editor-patterns__grid-pagination",children:[p.jsxs(xr,{expanded:!1,spacing:1,className:"block-editor-patterns__grid-pagination-previous",children:[p.jsx(zi,{variant:"tertiary",onClick:()=>n(1),disabled:1===e,"aria-label":To("First page"),size:"compact",accessibleWhenDisabled:!0,className:"block-editor-patterns__grid-pagination-button",children:p.jsx("span",{children:"«"})}),p.jsx(zi,{variant:"tertiary",onClick:()=>n(e-1),disabled:1===e,"aria-label":To("Previous page"),size:"compact",accessibleWhenDisabled:!0,className:"block-editor-patterns__grid-pagination-button",children:p.jsx("span",{children:"‹"})})]}),p.jsx(ur,{variant:"muted",children:Ro(Mo("%1$s of %2$s","paging"),e,t)}),p.jsxs(xr,{expanded:!1,spacing:1,className:"block-editor-patterns__grid-pagination-next",children:[p.jsx(zi,{variant:"tertiary",onClick:()=>n(e+1),disabled:e===t,"aria-label":To("Next page"),size:"compact",accessibleWhenDisabled:!0,className:"block-editor-patterns__grid-pagination-button",children:p.jsx("span",{children:"›"})}),p.jsx(zi,{variant:"tertiary",onClick:()=>n(t),disabled:e===t,"aria-label":To("Last page"),size:"compact",accessibleWhenDisabled:!0,className:"block-editor-patterns__grid-pagination-button",children:p.jsx("span",{children:"»"})})]})]})]})}const Mg=({showTooltip:e,title:t,children:n})=>e?p.jsx(yr,{text:t,children:n}):p.jsx(p.Fragment,{children:n});function Rg({id:e,isDraggable:t,pattern:o,onClick:l,onHover:s,showTitle:i=!0,showTooltip:r,category:a}){const[c,d]=n.useState(!1),{blocks:u,viewportWidth:g}=o,m=`block-editor-block-patterns-list__item-description-${me(Rg)}`,h=n.useMemo(()=>a&&t?(null!=u?u:[]).map(e=>{const t=ie(e);return t.attributes.metadata?.categories?.includes(a)&&(t.attributes.metadata.categories=[a]),t}):u,[u,t,a]);return p.jsx(_g,{isEnabled:t,blocks:h,pattern:o,children:({draggable:t,onDragStart:n,onDragEnd:a})=>p.jsx("div",{className:"block-editor-block-patterns-list__list-item",draggable:t,onDragStart:e=>{d(!0),n&&(s?.(null),n(e))},onDragEnd:e=>{d(!1),a&&a(e)},children:p.jsx(Mg,{showTooltip:r&&!o.type!==bl.user,title:o.title,children:p.jsxs(hr.Item,{render:p.jsx("div",{role:"option","aria-label":o.title,"aria-describedby":o.description?m:void 0,className:Ti("block-editor-block-patterns-list__item",{"block-editor-block-patterns-list__list-item-synced":o.type===bl.user&&!o.syncStatus})}),id:e,onClick:()=>{l(o,u),s?.(null)},onMouseEnter:()=>{c||s?.(o)},onMouseLeave:()=>s?.(null),children:[p.jsx(hg,{blocks:u,viewportWidth:g}),i&&p.jsxs(xr,{className:"block-editor-patterns__pattern-details",spacing:2,children:[o.type===bl.user&&!o.syncStatus&&p.jsx("div",{className:"block-editor-patterns__pattern-icon-wrapper",children:p.jsx(Ze,{className:"block-editor-patterns__pattern-icon",icon:$t})}),(!r||o.type===bl.user)&&p.jsx("div",{className:"block-editor-block-patterns-list__item-title",children:o.title})]}),!!o.description&&p.jsx(vr,{id:m,children:o.description})]})})})})}function Ag(){return p.jsx("div",{className:"block-editor-block-patterns-list__item is-placeholder"})}const zg=n.forwardRef(function({isDraggable:e,blockPatterns:t,shownPatterns:o,onHover:l,onClickPattern:s,orientation:i,label:r=To("Block patterns"),category:a,showTitle:c=!0,showTitlesAsTooltip:d,pagingProps:u},g){const[m,h]=n.useState(void 0);return n.useEffect(()=>{const e=t.find(e=>o.includes(e))?.name;h(e)},[o,t]),p.jsxs(hr,{orientation:i,activeId:m,setActiveId:h,role:"listbox",className:"block-editor-block-patterns-list","aria-label":r,ref:g,children:[t.map(t=>o.includes(t)?p.jsx(Rg,{id:t.name,pattern:t,onClick:s,onHover:l,isDraggable:e,showTitle:c,showTooltip:d,category:a},t.name):p.jsx(Ag,{},t.name)),u&&p.jsx(Lg,{...u})]})});function Og({filterValue:e,filteredBlockPatternsLength:t}){return e?p.jsx(_r,{level:2,lineHeight:"48px",className:"block-editor-block-patterns-explorer__search-results-count",children:Ro(Ao("%d pattern found","%d patterns found",t),t)}):null}function Fg({searchValue:e,selectedCategory:t,patternCategories:o,rootClientId:l}){const s=n.useRef(),i=be(Ft,500),[r,a]=kl({rootClientId:l,shouldFocusBlock:!0}),[c,,d]=xl(a,r,t),u=n.useMemo(()=>o.map(e=>e.name),[o]),g=n.useMemo(()=>{const n=c.filter(e=>{if(t===vl.name)return!0;if(t===yl.name&&e.type===bl.user)return!0;if("uncategorized"===t){const t=e.categories.some(e=>u.includes(e));return!e.categories?.length||!t}return e.categories?.includes(t)});return e?Od(n,e):n},[e,c,t,u]);n.useEffect(()=>{if(!e)return;const t=g.length,n=Ro(Ao("%d result found.","%d results found.",t),t);i(n)},[e,i,g.length]);const m=_l(g,t,s),[h,f]=n.useState(e);e!==h&&(f(e),m.changePage(1));const b=!!g?.length;return p.jsxs("div",{className:"block-editor-block-patterns-explorer__list",ref:s,children:[p.jsx(Og,{filterValue:e,filteredBlockPatternsLength:g.length}),p.jsx(vg,{children:b&&p.jsxs(p.Fragment,{children:[p.jsx(zg,{shownPatterns:m.categoryPatternsAsyncList,blockPatterns:m.categoryPatterns,onClickPattern:d,isDraggable:!1}),p.jsx(Lg,{...m})]})})]})}function Vg(e,t="all"){const[o,l]=xl(void 0,e),s=n.useMemo(()=>"all"===t?o:o.filter(e=>!Cl(e,t)),[t,o]),i=n.useMemo(()=>{const e=l.filter(e=>s.some(t=>t.categories?.includes(e.name))).sort((e,t)=>e.label.localeCompare(t.label));return s.some(e=>!function(e,t){return!(!e.categories||!e.categories.length)&&e.categories.some(e=>t.some(t=>t.name===e))}(e,l))&&!e.find(e=>"uncategorized"===e.name)&&e.push({name:"uncategorized",label:Mo("Uncategorized")}),s.some(e=>e.type===bl.user)&&e.unshift(yl),s.length>0&&e.unshift({name:vl.name,label:vl.label}),Ft(Ro(Ao("%d category button displayed.","%d category buttons displayed.",e.length),e.length)),e},[l,s]);return i}function $g({initialCategory:e,rootClientId:t}){const[o,l]=n.useState(""),[s,i]=n.useState(e?.name),r=Vg(t);return p.jsxs("div",{className:"block-editor-block-patterns-explorer",children:[p.jsx(Tg,{selectedCategory:s,patternCategories:r,onClickCategory:i,searchValue:o,setSearchValue:l}),p.jsx(Fg,{searchValue:o,selectedCategory:s,patternCategories:r,rootClientId:t})]})}function Hg({onModalClose:e,...t}){return p.jsx(cr,{title:To("Patterns"),onRequestClose:e,isFullScreen:!0,children:p.jsx($g,{...t})})}function Ug({title:e}){return p.jsx(Ji,{spacing:0,children:p.jsx(Ir,{children:p.jsx(Br,{marginBottom:0,paddingX:4,paddingY:3,children:p.jsxs(xr,{spacing:2,children:[p.jsx(Cr.BackButton,{style:{minWidth:24,padding:0},icon:Lo()?St:wt,size:"small",label:To("Back")}),p.jsx(Br,{children:p.jsx(_r,{level:5,children:e})})]})})})})}function Gg({categories:e,children:t}){return p.jsxs(Cr,{initialPath:"/",className:"block-editor-inserter__mobile-tab-navigation",children:[p.jsx(Cr.Screen,{path:"/",children:p.jsx(jr,{children:e.map(e=>p.jsx(Cr.Button,{path:`/category/${e.name}`,as:Sr,isAction:!0,children:p.jsxs(xr,{children:[p.jsx(wr,{children:e.label}),p.jsx(Ze,{icon:Lo()?wt:St})]})},e.name))})}),e.map(e=>p.jsxs(Cr.Screen,{path:`/category/${e.name}`,children:[p.jsx(Ug,{title:To("Back")}),t(e)]},e.name))]})}const Wg=e=>"all"!==e&&"user"!==e,Kg=[{value:"all",label:Mo("All","patterns")},{value:bl.directory,label:To("Pattern Directory")},{value:bl.theme,label:To("Theme & Plugins")},{value:bl.user,label:To("User")}];function qg({setPatternSyncFilter:e,setPatternSourceFilter:t,patternSyncFilter:o,patternSourceFilter:l,scrollContainerRef:s,category:i}){const r=i.name===yl.name?bl.user:l,a=Wg(r),c=(e=>e.name===yl.name)(i),d=n.useMemo(()=>[{value:"all",label:Mo("All","patterns")},{value:jl.full,label:Mo("Synced","patterns"),disabled:a},{value:jl.unsynced,label:Mo("Not synced","patterns"),disabled:a}],[a]);return p.jsx(p.Fragment,{children:p.jsx(Mi,{popoverProps:{placement:"right-end"},label:To("Filter patterns"),toggleProps:{size:"compact"},icon:p.jsx(Ze,{icon:p.jsx(Ot,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx(Ht,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z",fill:"currentColor"})})}),children:()=>p.jsxs(p.Fragment,{children:[!c&&p.jsx(Ri,{label:To("Source"),children:p.jsx(Nr,{choices:Kg,onSelect:n=>{var o;t(o=n),Wg(o)&&e("all"),s.current?.scrollTo(0,0)},value:r})}),p.jsx(Ri,{label:To("Type"),children:p.jsx(Nr,{choices:d,onSelect:t=>{e(t),s.current?.scrollTo(0,0)},value:o})}),p.jsx("div",{className:"block-editor-tool-selector__help",children:ne(To("Patterns are available from the <Link>WordPress.org Pattern Directory</Link>, bundled in the active theme, or created by users on this site. Only patterns created on this site can be synced."),{Link:p.jsx(Er,{href:To("https://wordpress.org/patterns/")})})})]})})})}const Zg=()=>{};function Yg({rootClientId:e,onInsert:t,onHover:o=Zg,category:l,showTitlesAsTooltip:s}){const i=C(e=>"zoom-out"===e(zo).__unstableGetEditorMode(),[]),[r,,a]=xl(t,e,l?.name),[c,d]=n.useState("all"),[u,g]=n.useState("all"),m=Vg(e,u),h=n.useRef(),f=n.useMemo(()=>r.filter(e=>!Cl(e,u,c)&&(l.name===vl.name||(l.name===yl.name&&e.type===bl.user||("uncategorized"===l.name?!e.categories||!e.categories.some(e=>m.some(t=>t.name===e)):e.categories?.includes(l.name))))),[r,m,l.name,u,c]),b=_l(f,l,h),{changePage:k}=b;n.useEffect(()=>()=>o(null),[]);const x=n.useCallback(e=>{d(e),k(1)},[d,k]),v=n.useCallback(e=>{g(e),k(1)},[g,k]);return p.jsxs(p.Fragment,{children:[p.jsxs(Ji,{spacing:2,className:"block-editor-inserter__patterns-category-panel-header",children:[p.jsxs(xr,{children:[p.jsx(wr,{children:p.jsx(_r,{className:"block-editor-inserter__patterns-category-panel-title",size:13,level:4,as:"div",children:l.label})}),p.jsx(qg,{patternSyncFilter:c,patternSourceFilter:u,setPatternSyncFilter:x,setPatternSourceFilter:v,scrollContainerRef:h,category:l})]}),!f.length&&p.jsx(ur,{variant:"muted",className:"block-editor-inserter__patterns-category-no-results",children:To("No results found")})]}),f.length>0&&p.jsxs(p.Fragment,{children:[i&&p.jsx(ur,{size:"12",as:"p",className:"block-editor-inserter__help-text",children:To("Drag and drop patterns into the canvas.")}),p.jsx(zg,{ref:h,shownPatterns:b.categoryPatternsAsyncList,blockPatterns:b.categoryPatterns,onClickPattern:a,onHover:o,label:l.label,orientation:"vertical",category:l.name,isDraggable:!0,showTitlesAsTooltip:s,patternFilter:u,pagingProps:b})]})]})}const{Tabs:Xg}=td(Oi);function Jg({categories:e,selectedCategory:t,onSelectCategory:n,children:o}){const l={type:"tween",duration:G()?0:.25,ease:[.6,0,.4,1]},s=ke(t);return p.jsxs(Xg,{className:"block-editor-inserter__category-tabs",selectOnMove:!1,selectedTabId:t?t.name:null,orientation:"vertical",onSelect:t=>{n(e.find(e=>e.name===t))},children:[p.jsx(Xg.TabList,{className:"block-editor-inserter__category-tablist",children:e.map(e=>p.jsx(Xg.Tab,{tabId:e.name,className:"block-editor-inserter__category-tab","aria-label":e.label,"aria-current":e===t?"true":void 0,children:p.jsxs(xr,{children:[p.jsx(wr,{children:e.label}),p.jsx(Ze,{icon:Lo()?wt:St})]})},e.name))}),e.map(e=>p.jsx(Xg.TabPanel,{tabId:e.name,focusable:!1,children:p.jsx(Dr.div,{className:"block-editor-inserter__category-panel",initial:s?"open":"closed",animate:"open",variants:{open:{transform:"translateX( 0 )",transitionEnd:{zIndex:"1"}},closed:{transform:"translateX( -100% )",zIndex:"-1"}},transition:l,children:o})},e.name))]})}function Qg({onSelectCategory:e,selectedCategory:t,onInsert:o,rootClientId:l,children:s}){const[i,r]=n.useState(!1),a=Vg(l),c=xe("medium","<");return C(e=>td(e(zo)).isResolvingPatterns(),[])?p.jsx("div",{className:"block-editor-inserter__patterns-loading",children:p.jsx(Pr,{})}):a.length?p.jsxs(p.Fragment,{children:[!c&&p.jsxs("div",{className:"block-editor-inserter__block-patterns-tabs-container",children:[p.jsx(Jg,{categories:a,selectedCategory:t,onSelectCategory:e,children:s}),p.jsx(zi,{__next40pxDefaultSize:!0,className:"block-editor-inserter__patterns-explore-button",onClick:()=>r(!0),variant:"secondary",children:To("Explore all patterns")})]}),c&&p.jsx(Gg,{categories:a,children:e=>p.jsx("div",{className:"block-editor-inserter__category-panel",children:p.jsx(Yg,{onInsert:o,rootClientId:l,category:e,showTitlesAsTooltip:!1},e.name)})}),i&&p.jsx(Hg,{initialCategory:t||a[0],patternCategories:a,onModalClose:()=>r(!1),rootClientId:l})]}):p.jsx(Ig,{})}const em=["image"],tm={position:"bottom left",className:"block-editor-inserter__media-list__item-preview-options__popover"};function nm({category:e,media:t}){if(!e.getReportUrl)return null;const n=e.getReportUrl(t);return p.jsx(Mi,{className:"block-editor-inserter__media-list__item-preview-options",label:To("Options"),popoverProps:tm,icon:$e,children:()=>p.jsx(Ri,{children:p.jsx(Ai,{onClick:()=>window.open(n,"_blank").focus(),icon:Kt,children:Ro(To("Report %s"),e.mediaType)})})})}function om({onClose:e,onSubmit:t}){return p.jsxs(cr,{title:To("Insert external image"),onRequestClose:e,className:"block-editor-inserter-media-tab-media-preview-inserter-external-image-modal",children:[p.jsxs(Ji,{spacing:3,children:[p.jsx("p",{children:To("This image cannot be uploaded to your Media Library, but it can still be inserted as an external image.")}),p.jsx("p",{children:To("External images can be removed by the external provider without warning and could even have legal compliance issues related to privacy legislation.")})]}),p.jsxs(Wi,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:!1,children:[p.jsx(Ki,{children:p.jsx(zi,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:e,children:To("Cancel")})}),p.jsx(Ki,{children:p.jsx(zi,{__next40pxDefaultSize:!0,variant:"primary",onClick:t,children:To("Insert")})})]})]})}function lm({media:e,onClick:t,category:o}){const[l,s]=n.useState(!1),[i,r]=n.useState(!1),[a,c]=n.useState(!1),[d,u]=n.useMemo(()=>Sl(e,o.mediaType),[e,o.mediaType]),{createErrorNotice:g,createSuccessNotice:m}=_(Ut),{getSettings:h,getBlock:f}=C(zo),{updateBlockAttributes:b}=_(zo),k=n.useCallback(e=>{if(a)return;const n=h(),o=ie(e),{id:l,url:i,caption:r}=o.attributes;l||n.mediaUpload?l?t(o):(c(!0),window.fetch(i).then(e=>e.blob()).then(e=>{const l=Gt(i)||"image.jpg",s=new File([e],l,{type:e.type});n.mediaUpload({filesList:[s],additionalData:{caption:r},onFileChange([e]){Wt(e.url)||(f(o.clientId)?b(o.clientId,{...o.attributes,id:e.id,url:e.url}):(t({...o,attributes:{...o.attributes,id:e.id,url:e.url}}),m(To("Image uploaded and inserted."),{type:"snackbar",id:"inserter-notice"})),c(!1))},allowedTypes:em,onError(e){g(e,{type:"snackbar",id:"inserter-notice"}),c(!1)}})}).catch(()=>{s(!0),c(!1)})):s(!0)},[a,h,t,m,b,g,f]),x="string"==typeof e.title?e.title:e.title?.rendered||To("no title");let v;if(x.length>25){const e="...";v=x.slice(0,25-e.length)+e}const y=n.useCallback(()=>r(!0),[]),j=n.useCallback(()=>r(!1),[]);return p.jsxs(p.Fragment,{children:[p.jsx(_g,{isEnabled:!0,blocks:[d],children:({draggable:t,onDragStart:n,onDragEnd:l})=>p.jsx("div",{className:Ti("block-editor-inserter__media-list__list-item",{"is-hovered":i}),draggable:t,onDragStart:n,onDragEnd:l,children:p.jsxs("div",{onMouseEnter:y,onMouseLeave:j,children:[p.jsx(yr,{text:v||x,children:p.jsx(hr.Item,{render:p.jsx("div",{"aria-label":x,role:"option",className:"block-editor-inserter__media-list__item"}),onClick:()=>k(d),children:p.jsxs("div",{className:"block-editor-inserter__media-list__item-preview",children:[u,a&&p.jsx("div",{className:"block-editor-inserter__media-list__item-preview-spinner",children:p.jsx(Pr,{})})]})})}),!a&&p.jsx(nm,{category:o,media:e})]})})}),l&&p.jsx(om,{onClose:()=>s(!1),onSubmit:()=>{t(ie(d)),m(To("Image inserted."),{type:"snackbar",id:"inserter-notice"}),s(!1)}})]})}function sm({mediaList:e,category:t,onClick:n,label:o=To("Media List")}){return p.jsx(hr,{role:"listbox",className:"block-editor-inserter__media-list","aria-label":o,children:e.map((e,o)=>p.jsx(lm,{media:e,category:t,onClick:n},e.id||e.sourceId||o))})}function im({rootClientId:e,onInsert:t,category:n}){const[o,l,s]=ve(),{mediaList:i,isLoading:r}=wl(n,{per_page:s?20:10,search:s}),a="block-editor-inserter__media-panel",c=n.labels.search_items||To("Search");return p.jsxs("div",{className:a,children:[p.jsx(kr,{__nextHasNoMarginBottom:!0,className:`${a}-search`,onChange:l,value:o,label:c,placeholder:c}),r&&p.jsx("div",{className:`${a}-spinner`,children:p.jsx(Pr,{})}),!r&&!i?.length&&p.jsx(Ig,{}),!r&&!!i?.length&&p.jsx(sm,{rootClientId:e,onClick:t,mediaList:i,category:n})]})}function rm({fallback:e=null,children:t}){const n=C(e=>{const{getSettings:t}=e(zo);return!!t().mediaUpload},[]);return n?t:e}const am=Li("editor.MediaUpload")(()=>null),cm=["image","video","audio"];function dm({rootClientId:e,selectedCategory:t,onSelectCategory:o,onInsert:l,children:s}){const i=Il(e),r=xe("medium","<"),a=n.useCallback(e=>{if(!e?.url)return;const[t]=Sl(e,e.type);l(t)},[l]),c=n.useMemo(()=>i.map(e=>({...e,label:e.labels.name})),[i]);return c.length?p.jsxs(p.Fragment,{children:[!r&&p.jsxs("div",{className:"block-editor-inserter__media-tabs-container",children:[p.jsx(Jg,{categories:c,selectedCategory:t,onSelectCategory:o,children:s}),p.jsx(rm,{children:p.jsx(am,{multiple:!1,onSelect:a,allowedTypes:cm,render:({open:e})=>p.jsx(zi,{__next40pxDefaultSize:!0,onClick:t=>{t.target.focus(),e()},className:"block-editor-inserter__media-library-button",variant:"secondary","data-unstable-ignore-focus-outside-for-relatedtarget":".media-modal",children:To("Open Media Library")})})})]}),r&&p.jsx(Gg,{categories:c,children:t=>p.jsx(im,{onInsert:l,rootClientId:e,category:t})})]}):p.jsx(Ig,{})}const{Fill:um,Slot:pm}=Tr("__unstableInserterMenuExtension");um.Slot=pm;const gm=[];function mm({filterValue:e,onSelect:t,onHover:o,onHoverPattern:l,rootClientId:s,clientId:i,isAppender:r,__experimentalInsertionIndex:a,maxBlockPatterns:c,maxBlockTypes:d,showBlockDirectory:u=!1,isDraggable:g=!0,shouldFocusBlock:m=!0,prioritizePatterns:h,selectBlockOnInsert:f,isQuick:b}){const k=be(Ft,500),{prioritizedBlocks:x}=C(e=>{const t=e(zo).getBlockListSettings(s);return{prioritizedBlocks:t?.prioritizedInserterBlocks||gm}},[s]),[v,y]=kl({onSelect:t,rootClientId:s,clientId:i,isAppender:r,insertionIndex:a,shouldFocusBlock:m,selectBlockOnInsert:f}),[_,j,S,w]=el(v,y,b),[I,,B]=xl(y,v),N=n.useMemo(()=>{if(0===c)return[];const t=Od(I,e);return void 0!==c?t.slice(0,c):t},[e,I,c]);let E=d;h&&N.length>2&&(E=0);const D=n.useMemo(()=>{if(0===E)return[];const t=_.filter(e=>"core/block"!==e.name);let n=nl(t,"frecency","desc");!e&&x.length&&(n=tl(n,x));const o=zd(n,j,S,e);return void 0!==E?o.slice(0,E):o},[e,_,j,S,E,x]);n.useEffect(()=>{if(!e)return;const t=D.length+N.length,n=Ro(Ao("%d result found.","%d results found.",t),t);k(n)},[e,k,D,N]);const P=fe(D,{step:9}),T=fe(P.length===D.length?N:gm),L=D.length>0||N.length>0,M=!!D.length&&p.jsx(wg,{title:p.jsx(vr,{children:To("Blocks")}),children:p.jsx(Sg,{items:P,onSelect:w,onHover:o,label:To("Blocks"),isDraggable:g})}),R=!!N.length&&p.jsx(wg,{title:p.jsx(vr,{children:To("Block patterns")}),children:p.jsx("div",{className:"block-editor-inserter__quick-inserter-patterns",children:p.jsx(zg,{shownPatterns:T,blockPatterns:N,onClickPattern:B,onHover:l,isDraggable:g})})});return p.jsxs(vg,{children:[!u&&!L&&p.jsx(Ig,{}),h?R:M,!!D.length&&!!N.length&&p.jsx("div",{className:"block-editor-inserter__quick-inserter-separator"}),h?M:R,u&&p.jsx(um.Slot,{fillProps:{onSelect:w,onHover:o,filterValue:e,hasItems:L,rootClientId:v},children:e=>e.length?e:L?null:p.jsx(Ig,{})})]})}const{Tabs:hm}=td(Oi);const fm=n.forwardRef(function({defaultTabId:e,onClose:t,onSelect:n,selectedTab:o,tabs:l,closeButtonLabel:s},i){return p.jsx("div",{className:"block-editor-tabbed-sidebar",children:p.jsxs(hm,{selectOnMove:!1,defaultTabId:e,onSelect:n,selectedTabId:o,children:[p.jsxs("div",{className:"block-editor-tabbed-sidebar__tablist-and-close-button",children:[p.jsx(zi,{className:"block-editor-tabbed-sidebar__close-button",icon:qt,label:s,onClick:()=>t(),size:"small"}),p.jsx(hm.TabList,{className:"block-editor-tabbed-sidebar__tablist",ref:i,children:l.map(e=>p.jsx(hm.Tab,{tabId:e.name,className:"block-editor-tabbed-sidebar__tab",children:e.title},e.name))})]}),l.map(e=>p.jsx(hm.TabPanel,{tabId:e.name,focusable:!1,className:"block-editor-tabbed-sidebar__tabpanel",ref:e.panelRef,children:e.panel},e.name))]})})}),bm=()=>{};const km=n.forwardRef(function({rootClientId:e,clientId:t,isAppender:o,__experimentalInsertionIndex:l,onSelect:s,showInserterHelpPanel:i,showMostUsedBlocks:r,__experimentalFilterValue:a="",shouldFocusBlock:c=!0,onPatternCategorySelection:d,onClose:u,__experimentalInitialTab:g,__experimentalInitialCategory:m},h){const f=C(e=>"zoom-out"===e(zo).__unstableGetEditorMode(),[]),[b,k,x]=ve(a),[v,y]=n.useState(null),[_,j]=n.useState(m),[S,w]=n.useState("all"),[I,B]=n.useState(null),[N,E]=n.useState(g||(f?"patterns":void 0)),[D,P,T]=kl({rootClientId:e,clientId:t,isAppender:o,insertionIndex:l,shouldFocusBlock:c}),L=n.useRef(),M=n.useCallback((e,t,n,o)=>{P(e,t,n,o),s(e),window.requestAnimationFrame(()=>{c||L.current?.contains(h.current.ownerDocument.activeElement)||L.current?.querySelector("button").focus()})},[P,s,c]),R=n.useCallback((e,t,...n)=>{T(!1),P(e,{patternName:t},...n),s()},[P,s]),A=n.useCallback(e=>{T(e),y(e)},[T,y]),z=n.useCallback((e,t)=>{j(e),w(t),d?.()},[j,d]),O="patterns"===N&&!x&&!!_,F="media"===N&&!!I,V=n.useMemo(()=>"media"===N?null:p.jsxs(p.Fragment,{children:[p.jsx(kr,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",onChange:e=>{v&&y(null),k(e)},value:b,label:To("Search for blocks and patterns"),placeholder:To("Search")}),!!x&&p.jsx(mm,{filterValue:x,onSelect:s,onHover:A,rootClientId:e,clientId:t,isAppender:o,__experimentalInsertionIndex:l,showBlockDirectory:!0,shouldFocusBlock:c,prioritizePatterns:"patterns"===N})]}),[N,v,y,k,b,x,s,A,c,t,e,l,o]),$=n.useMemo(()=>p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"block-editor-inserter__block-list",children:p.jsx(Eg,{ref:L,rootClientId:D,onInsert:M,onHover:A,showMostUsedBlocks:r})}),i&&p.jsxs("div",{className:"block-editor-inserter__tips",children:[p.jsx(vr,{as:"h2",children:To("A tip for using the block editor")}),p.jsx(Pp,{})]})]}),[D,M,A,r,i]),H=n.useMemo(()=>p.jsx(Qg,{rootClientId:D,onInsert:R,onSelectCategory:z,selectedCategory:_,children:O&&p.jsx(Yg,{rootClientId:D,onInsert:R,category:_,patternFilter:S,showTitlesAsTooltip:!0})}),[D,R,z,S,_,O]),U=n.useMemo(()=>p.jsx(dm,{rootClientId:D,selectedCategory:I,onSelectCategory:B,onInsert:M,children:F&&p.jsx(im,{rootClientId:D,onInsert:M,category:I})}),[D,M,I,B,F]),G=n.useRef();return n.useLayoutEffect(()=>{G.current&&window.requestAnimationFrame(()=>{G.current.querySelector('[role="tab"][aria-selected="true"]')?.focus()})},[]),p.jsxs("div",{className:Ti("block-editor-inserter__menu",{"show-panel":O||F,"is-zoom-out":f}),ref:h,children:[p.jsx("div",{className:"block-editor-inserter__main-area",children:p.jsx(fm,{ref:G,onSelect:e=>{"patterns"!==e&&j(null),E(e)},onClose:u,selectedTab:N,closeButtonLabel:To("Close block inserter"),tabs:[{name:"blocks",title:To("Blocks"),panel:p.jsxs(p.Fragment,{children:[V,"blocks"===N&&!x&&$]})},{name:"patterns",title:To("Patterns"),panel:p.jsxs(p.Fragment,{children:[V,"patterns"===N&&!x&&H]})},{name:"media",title:To("Media"),panel:p.jsxs(p.Fragment,{children:[V,U]})}]})}),i&&v&&p.jsx(Lr,{className:"block-editor-inserter__preview-container__popover",placement:"right-start",offset:16,focusOnMount:!1,animate:!1,children:p.jsx(fg,{item:v})})]})});const xm=n.forwardRef(function(e,t){return p.jsx(km,{...e,onPatternCategorySelection:bm,ref:t})});function vm({onSelect:e,rootClientId:t,clientId:o,isAppender:l,prioritizePatterns:s,selectBlockOnInsert:i,hasSearch:r=!0}){const[a,c]=n.useState(""),[d,u]=kl({onSelect:e,rootClientId:t,clientId:o,isAppender:l,selectBlockOnInsert:i}),[g]=el(d,u,!0),[m]=xl(u,d,void 0,!0),{setInserterIsOpened:h,insertionIndex:f}=C(e=>{const{getSettings:t,getBlockIndex:n,getBlockCount:l}=e(zo),s=t(),i=n(o),r=l();return{setInserterIsOpened:s.__experimentalSetIsInserterOpened,insertionIndex:-1===i?r:i}},[o]),b=m.length&&(!!a||s),k=r&&(b&&m.length>6||g.length>6);n.useEffect(()=>{h&&h(!1)},[h]);let x=0;return b&&(x=s?4:2),p.jsxs("div",{className:Ti("block-editor-inserter__quick-inserter",{"has-search":k,"has-expand":h}),children:[k&&p.jsx(kr,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",value:a,onChange:e=>{c(e)},label:To("Search for blocks and patterns"),placeholder:To("Search")}),p.jsx("div",{className:"block-editor-inserter__quick-inserter-results",children:p.jsx(mm,{filterValue:a,onSelect:e,rootClientId:t,clientId:o,isAppender:l,maxBlockPatterns:x,maxBlockTypes:6,isDraggable:!1,prioritizePatterns:s,selectBlockOnInsert:i,isQuick:!0})}),h&&p.jsx(zi,{__next40pxDefaultSize:!0,className:"block-editor-inserter__quick-inserter-expand",onClick:()=>{h({filterValue:a,onSelect:e,rootClientId:t,insertionIndex:f})},"aria-label":To("Browse all. This will open the main inserter panel in the editor toolbar."),children:To("Browse all")})]})}const ym=({onToggle:e,disabled:t,isOpen:n,blockTitle:o,hasSingleBlockType:l,toggleProps:s={},prioritizePatterns:i})=>{const{as:r=zi,label:a,onClick:c,...d}=s;let u=a;return!u&&l?u=Ro(Mo("Add %s","directly add the only allowed block"),o):!u&&i?u=To("Add pattern"):u||(u=Mo("Add block","Generic label for block inserter button")),p.jsx(r,{icon:Zt,label:u,tooltipPosition:"bottom",onClick:function(t){e&&e(t),c&&c(t)},className:"block-editor-inserter__toggle","aria-haspopup":!l&&"true","aria-expanded":!l&&n,disabled:t,...d})};class _m extends n.Component{constructor(){super(...arguments),this.onToggle=this.onToggle.bind(this),this.renderToggle=this.renderToggle.bind(this),this.renderContent=this.renderContent.bind(this)}onToggle(e){const{onToggle:t}=this.props;t&&t(e)}renderToggle({onToggle:e,isOpen:t}){const{disabled:n,blockTitle:o,hasSingleBlockType:l,directInsertBlock:s,toggleProps:i,hasItems:r,renderToggle:a=ym,prioritizePatterns:c}=this.props;return a({onToggle:e,isOpen:t,disabled:n||!r,blockTitle:o,hasSingleBlockType:l,directInsertBlock:s,toggleProps:i,prioritizePatterns:c})}renderContent({onClose:e}){const{rootClientId:t,clientId:n,isAppender:o,showInserterHelpPanel:l,__experimentalIsQuick:s,prioritizePatterns:i,onSelectOrClose:r,selectBlockOnInsert:a}=this.props;return s?p.jsx(vm,{onSelect:t=>{const n=Array.isArray(t)&&t?.length?t[0]:t;r&&"function"==typeof r&&r(n),e()},rootClientId:t,clientId:n,isAppender:o,prioritizePatterns:i,selectBlockOnInsert:a}):p.jsx(xm,{onSelect:()=>{e()},rootClientId:t,clientId:n,isAppender:o,showInserterHelpPanel:l})}render(){const{position:e,hasSingleBlockType:t,directInsertBlock:n,insertOnlyAllowedBlock:o,__experimentalIsQuick:l,onSelectOrClose:s}=this.props;return t||n?this.renderToggle({onToggle:o}):p.jsx(ar,{className:"block-editor-inserter",contentClassName:Ti("block-editor-inserter__popover",{"is-quick":l}),popoverProps:{position:e,shift:!0},onToggle:this.onToggle,expandOnMobile:!0,headerTitle:To("Add a block"),renderToggle:this.renderToggle,renderContent:this.renderContent,onClose:s})}}const Cm=S([ye((e,{clientId:t,rootClientId:n,shouldDirectInsert:o=!0})=>{const{getBlockRootClientId:l,hasInserterItems:s,getAllowedBlocks:i,getDirectInsertBlock:r,getSettings:a}=e(zo),{getBlockVariations:c}=e(M),d=i(n=n||l(t)||void 0),u=o&&r(n),p=a(),g=1===d?.length&&0===c(d[0].name,"inserter")?.length;let m=!1;return g&&(m=d[0]),{hasItems:s(n),hasSingleBlockType:g,blockTitle:m?m.title:"",allowedBlockType:m,directInsertBlock:u,rootClientId:n,prioritizePatterns:p.__experimentalPreferPatternsOnRoot&&!n}}),J((e,t,{select:n})=>({insertOnlyAllowedBlock(){const{rootClientId:o,clientId:l,isAppender:s,hasSingleBlockType:i,allowedBlockType:r,directInsertBlock:a,onSelectOrClose:c,selectBlockOnInsert:d}=t;if(!i&&!a)return;const{insertBlock:u}=e(zo);let p;if(a){const e=function(e){const{getBlock:t,getPreviousBlockClientId:s}=n(zo);if(!e||!l&&!o)return{};const i={};let r={};if(l){const e=t(l),n=t(s(l));e?.name===n?.name&&(r=n?.attributes||{})}else{const e=t(o);if(e?.innerBlocks?.length){const t=e.innerBlocks[e.innerBlocks.length-1];a&&a?.name===t.name&&(r=t.attributes)}}return e.forEach(e=>{r.hasOwnProperty(e)&&(i[e]=r[e])}),i}(a.attributesToCopy);p=I(a.name,{...a.attributes||{},...e})}else p=I(r.name);u(p,function(){const{getBlockIndex:e,getBlockSelectionEnd:t,getBlockOrder:i,getBlockRootClientId:r}=n(zo);if(l)return e(l);const a=t();return!s&&a&&r(a)===o?e(a)+1:i(o).length}(),o,d),c&&c({clientId:p?.clientId});const g=Ro(To("%s block added"),r.title);Ft(g)}})),_e(({hasItems:e,isAppender:t,rootClientId:n,clientId:o})=>e||!t&&!n&&!o)])(_m),jm="\ufeff";function Sm({rootClientId:e}){const{showPrompt:t,isLocked:n,placeholder:o,isManualGrid:l}=C(t=>{const{getBlockCount:n,getSettings:o,getTemplateLock:l,getBlockAttributes:s}=t(zo),i=!n(e),{bodyPlaceholder:r}=o();return{showPrompt:i,isLocked:!!l(e),placeholder:r,isManualGrid:s(e)?.layout?.isManualPlacement}},[e]),{insertDefaultBlock:s,startTyping:i}=_(zo);if(n||l)return null;const r=qe(o)||To("Type / to choose a block"),a=()=>{s(void 0,e),i()};return p.jsxs("div",{"data-root-client-id":e||"",className:Ti("block-editor-default-block-appender",{"has-visible-prompt":t}),children:[p.jsx("p",{tabIndex:"0",role:"button","aria-label":To("Add default block"),className:"block-editor-default-block-appender__content",onKeyDown:e=>{Tu!==e.keyCode&&32!==e.keyCode||a()},onClick:()=>a(),onFocus:()=>{t&&a()},children:t?r:jm}),p.jsx(Cm,{rootClientId:e,position:"bottom right",isAppender:!0,__experimentalIsQuick:!0})]})}function wm({rootClientId:e,className:t,onFocus:o,tabIndex:l,onSelect:s},i){const r=n.useRef(),a=W([r,i]);return p.jsx(Cm,{position:"bottom center",rootClientId:e,__experimentalIsQuick:!0,onSelectOrClose:(...e)=>{s&&"function"==typeof s&&s(...e),r.current?.focus()},renderToggle:({onToggle:e,disabled:n,isOpen:s,blockTitle:i,hasSingleBlockType:r})=>{const c=!r,d=r?Ro(Mo("Add %s","directly add the only allowed block"),i):Mo("Add block","Generic label for block inserter button");return p.jsx(zi,{__next40pxDefaultSize:!0,ref:a,onFocus:o,tabIndex:l,className:Ti(t,"block-editor-button-block-appender"),onClick:e,"aria-haspopup":c?"true":void 0,"aria-expanded":c?s:void 0,disabled:n,label:d,showTooltip:!0,children:p.jsx(Ze,{icon:Zt})})},isAppender:!0})}const Im=n.forwardRef((e,t)=>(He("wp.blockEditor.ButtonBlockerAppender",{alternative:"wp.blockEditor.ButtonBlockAppender",since:"5.9"}),wm(e,t))),Bm=n.forwardRef(wm);function Nm({rootClientId:e}){return C(t=>t(zo).canInsertBlockType(E(),e))?p.jsx(Sm,{rootClientId:e}):p.jsx(Bm,{rootClientId:e,className:"block-list-appender__toggle"})}function Em({rootClientId:e,CustomAppender:t,className:n,tagName:o="div"}){const l=C(t=>{const{getBlockInsertionPoint:n,isBlockInsertionPointVisible:o,getBlockCount:l}=t(zo),s=n();return o()&&e===s?.rootClientId&&0===l(e)},[e]);return p.jsx(o,{tabIndex:-1,className:Ti("block-list-appender wp-block",n,{"is-drag-over":l}),contentEditable:!1,"data-block":!0,children:t?p.jsx(t,{}):p.jsx(Nm,{rootClientId:e})})}function Dm(e){return z(t=>{if(!e)return;function n(t){const{deltaX:n,deltaY:o}=t;e.current.scrollBy(n,o)}const o={passive:!0};return t.addEventListener("wheel",n,o),()=>{t.removeEventListener("wheel",n,o)}},[e])}const Pm=Number.MAX_SAFE_INTEGER;function Tm({previousClientId:e,nextClientId:t,children:o,__unstablePopoverSlot:l,__unstableContentRef:s,operation:i="insert",nearestSide:r="right",...a}){const[c,d]=n.useReducer(e=>(e+1)%Pm,0),{orientation:u,rootClientId:g,isVisible:m}=C(n=>{const{getBlockListSettings:o,getBlockRootClientId:l,isBlockVisible:s}=n(zo),i=l(null!=e?e:t);return{orientation:o(i)?.orientation||"vertical",rootClientId:i,isVisible:s(e)&&s(t)}},[e,t]),h=ep(e),f=ep(t),b="vertical"===u,k=n.useMemo(()=>{if(c<0||!h&&!f||!m)return;return{contextElement:"group"===i?f||h:h||f,getBoundingClientRect(){const e=h?h.getBoundingClientRect():null,t=f?f.getBoundingClientRect():null;let n=0,o=0,l=0,s=0;if("group"===i){const i=t||e;o=i.top,l=0,s=i.bottom-i.top,n="left"===r?i.left-2:i.right-2}else b?(o=e?e.bottom:t.top,l=e?e.width:t.width,s=t&&e?t.top-e.bottom:0,n=e?e.left:t.left):(o=e?e.top:t.top,s=e?e.height:t.height,Lo()?(n=t?t.right:e.left,l=e&&t?e.left-t.right:0):(n=e?e.right:t.left,l=e&&t?t.left-e.right:0));return new window.DOMRect(n,o,l,s)}}},[h,f,c,b,m,i,r]),x=Dm(s);return n.useLayoutEffect(()=>{if(!h)return;const e=new window.MutationObserver(d);return e.observe(h,{attributes:!0}),()=>{e.disconnect()}},[h]),n.useLayoutEffect(()=>{if(!f)return;const e=new window.MutationObserver(d);return e.observe(f,{attributes:!0}),()=>{e.disconnect()}},[f]),n.useLayoutEffect(()=>{if(h)return h.ownerDocument.defaultView.addEventListener("resize",d),()=>{h.ownerDocument.defaultView?.removeEventListener("resize",d)}},[h]),(h||f)&&m?p.jsx(Lr,{ref:x,animate:!1,anchor:k,focusOnMount:!1,__unstableSlotName:l,inline:!l,...a,className:Ti("block-editor-block-popover","block-editor-block-popover__inbetween",a.className),resize:!1,flip:!1,placement:"overlay",variant:"unstyled",children:p.jsx("div",{className:"block-editor-block-popover__inbetween-container",children:o})},t+"--"+g):null}n.createContext();const Lm=Number.MAX_SAFE_INTEGER;const Mm=n.forwardRef(function({clientId:e,bottomClientId:t,children:o,__unstablePopoverSlot:l,__unstableContentRef:s,shift:i=!0,...r},a){const c=ep(e),d=ep(null!=t?t:e),u=W([a,Dm(s)]),[g,m]=n.useReducer(e=>(e+1)%Lm,0);n.useLayoutEffect(()=>{if(!c)return;const e=new window.MutationObserver(m);return e.observe(c,{attributes:!0}),()=>{e.disconnect()}},[c]);const h=n.useMemo(()=>{if(!(g<0||!c||t&&!d))return{getBoundingClientRect:()=>d?Bl(Nl(c),Nl(d)):Nl(c),contextElement:c}},[t,d,c,g]);return!c||t&&!d?null:p.jsx(Lr,{ref:u,animate:!1,focusOnMount:!1,anchor:h,__unstableSlotName:l,inline:!l,placement:"top-start",resize:!1,flip:!1,shift:i,...r,className:Ti("block-editor-block-popover",r.className),variant:"unstyled",children:o})}),Rm=n.forwardRef(({clientId:e,bottomClientId:t,children:n,...o},l)=>p.jsx(Mm,{...o,bottomClientId:t,clientId:e,__unstableContentRef:void 0,__unstablePopoverSlot:void 0,ref:l,children:n}));function Am({selectedElement:e,additionalStyles:t={},children:o}){const[l,s]=n.useState(e.offsetWidth),[i,r]=n.useState(e.offsetHeight);n.useEffect(()=>{const t=new window.ResizeObserver(()=>{s(e.offsetWidth),r(e.offsetHeight)});return t.observe(e,{box:"border-box"}),()=>t.disconnect()},[e]);const a=n.useMemo(()=>({position:"absolute",width:l,height:i,...t}),[l,i,t]);return p.jsx("div",{style:a,children:o})}const zm=n.forwardRef(function({clientId:e,bottomClientId:t,children:n,shift:o=!1,additionalStyles:l,...s},i){var r;null!==(r=t)&&void 0!==r||(t=e);const a=ep(e);return p.jsx(Mm,{ref:i,clientId:e,bottomClientId:t,shift:o,...s,children:a&&e===t?p.jsx(Am,{selectedElement:a,additionalStyles:l,children:n}):n})}),Om={hide:{opacity:0,scaleY:.75},show:{opacity:1,scaleY:1},exit:{opacity:0,scaleY:.9}};function Fm({__unstablePopoverSlot:e,__unstableContentRef:t}){const{clientId:n}=C(e=>{const{getBlockOrder:t,getBlockInsertionPoint:n}=e(zo),o=n(),l=t(o.rootClientId);return l.length?{clientId:l[o.index]}:{}},[]),o=G();return p.jsx(zm,{clientId:n,__unstablePopoverSlot:e,__unstableContentRef:t,className:"block-editor-block-popover__drop-zone",children:p.jsx(Dr.div,{"data-testid":"block-popover-drop-zone",initial:o?Om.show:Om.hide,animate:Om.show,exit:o?Om.show:Om.exit,className:"block-editor-block-popover__drop-zone-foreground"})})}const Vm=n.createContext();function $m({__unstablePopoverSlot:e,__unstableContentRef:t,operation:o="insert",nearestSide:l="right"}){const{selectBlock:s,hideInsertionPoint:i}=_(zo),r=n.useContext(Vm),a=n.useRef(),{orientation:c,previousClientId:d,nextClientId:u,rootClientId:g,isInserterShown:m,isDistractionFree:h,isZoomOutMode:f}=C(e=>{const{getBlockOrder:t,getBlockListSettings:n,getBlockInsertionPoint:o,isBlockBeingDragged:l,getPreviousBlockClientId:s,getNextBlockClientId:i,getSettings:r,__unstableGetEditorMode:a}=e(zo),c=o(),d=t(c.rootClientId);if(!d.length)return{};let u=d[c.index-1],p=d[c.index];for(;l(u);)u=s(u);for(;l(p);)p=i(p);const g=r();return{previousClientId:u,nextClientId:p,orientation:n(c.rootClientId)?.orientation||"vertical",rootClientId:c.rootClientId,isDistractionFree:g.isDistractionFree,isInserterShown:c?.__unstableWithInserter,isZoomOutMode:"zoom-out"===a()}},[]),{getBlockEditingMode:b}=C(zo),k=G();const x={start:{opacity:0,scale:0},rest:{opacity:1,scale:1,transition:{delay:m?.5:0,type:"tween"}},hover:{opacity:1,scale:1,transition:{delay:.5,type:"tween"}}},v={start:{scale:k?1:0},rest:{scale:1,transition:{delay:.4,type:"tween"}}};if(h)return null;if(f&&"insert"!==o)return null;const y=Ti("block-editor-block-list__insertion-point","horizontal"===c||"group"===o?"is-horizontal":"is-vertical");return p.jsx(Tm,{previousClientId:d,nextClientId:u,__unstablePopoverSlot:e,__unstableContentRef:t,operation:o,nearestSide:l,children:p.jsxs(Dr.div,{layout:!k,initial:k?"rest":"start",animate:"rest",whileHover:"hover",whileTap:"pressed",exit:"start",ref:a,tabIndex:-1,onClick:function(e){e.target===a.current&&u&&"disabled"!==b(u)&&s(u,-1)},onFocus:function(e){e.target!==a.current&&(r.current=!0)},className:Ti(y,{"is-with-inserter":m}),onHoverEnd:function(e){e.target!==a.current||r.current||i()},children:[p.jsx(Dr.div,{variants:x,className:"block-editor-block-list__insertion-point-indicator","data-testid":"block-list-insertion-point-indicator"}),m&&p.jsx(Dr.div,{variants:v,className:Ti("block-editor-block-list__insertion-point-inserter"),children:p.jsx(Cm,{position:"bottom center",clientId:u,rootClientId:g,__experimentalIsQuick:!0,onToggle:e=>{r.current=e},onSelectOrClose:()=>{r.current=!1}})})]})})}function Hm(e){const{insertionPoint:t,isVisible:n,isBlockListEmpty:o}=C(e=>{const{getBlockInsertionPoint:t,isBlockInsertionPointVisible:n,getBlockCount:o}=e(zo),l=t();return{insertionPoint:l,isVisible:n(),isBlockListEmpty:0===o(l?.rootClientId)}},[]);return!n||o?null:"replace"===t.operation?p.jsx(Fm,{...e},`${t.rootClientId}-${t.index}`):p.jsx($m,{operation:t.operation,nearestSide:t.nearestSide,...e})}function Um(){const e=n.useContext(Vm),t=C(e=>e(zo).getSettings().isDistractionFree||"zoom-out"===e(zo).__unstableGetEditorMode(),[]),{getBlockListSettings:o,getBlockIndex:l,isMultiSelecting:s,getSelectedBlockClientIds:i,getSettings:r,getTemplateLock:a,__unstableIsWithinBlockOverlay:c,getBlockEditingMode:d,getBlockName:u,getBlockAttributes:p,getParentSectionBlock:g}=td(C(zo)),{showInsertionPoint:m,hideInsertionPoint:h}=_(zo);return z(n=>{if(!t)return n.addEventListener("mousemove",f),()=>{n.removeEventListener("mousemove",f)};function f(t){if(void 0===e||e.current)return;if(t.target.nodeType===t.target.TEXT_NODE)return;if(s())return;if(!t.target.classList.contains("block-editor-block-list__layout"))return void h();let n;if(!t.target.classList.contains("is-root-container")){n=(t.target.getAttribute("data-block")?t.target:t.target.closest("[data-block]")).getAttribute("data-block")}if(a(n)||"disabled"===d(n)||"core/block"===u(n)||n&&p(n).layout?.isManualPlacement)return;const f=o(n),b=f?.orientation||"vertical",k=!!f?.__experimentalCaptureToolbars,x=t.clientY,v=t.clientX;let y=Array.from(t.target.children).find(e=>{const t=e.getBoundingClientRect();return e.classList.contains("wp-block")&&"vertical"===b&&t.top>x||e.classList.contains("wp-block")&&"horizontal"===b&&(Lo()?t.right<v:t.left>v)});if(!y)return void h();if(!y.id&&(y=y.firstElementChild,!y))return void h();const _=y.id.slice(6);if(!_||c(_)||g(_))return;if(i().includes(_)&&"vertical"===b&&!k&&!r().hasFixedToolbar)return;const C=y.getBoundingClientRect();if("horizontal"===b&&(t.clientY>C.bottom||t.clientY<C.top)||"vertical"===b&&(t.clientX>C.right||t.clientX<C.left))return void h();const j=l(_);0!==j?m(n,j,{__unstableWithInserter:!0}):h()}},[e,o,l,s,m,h,i,t])}const Gm=new WeakMap;function Wm(e,t,o,l,s,i,r,a,c,d,u,p){const g=oe(),m=function(e){const[t,o]=n.useState(e);return Yt(t,e)||o(e),t}(o),h=n.useMemo(()=>l,l),f=void 0===c||"contentOnly"===t?t:c;n.useLayoutEffect(()=>{const t={allowedBlocks:m,prioritizedInserterBlocks:h,templateLock:f};if(void 0!==d&&(t.__experimentalCaptureToolbars=d),void 0!==u)t.orientation=u;else{const e=hu(p?.type);t.orientation=e.getOrientation(p)}void 0!==r&&(He("__experimentalDefaultBlock",{alternative:"defaultBlock",since:"6.3",version:"6.4"}),t.defaultBlock=r),void 0!==s&&(t.defaultBlock=s),void 0!==a&&(He("__experimentalDirectInsert",{alternative:"directInsert",since:"6.3",version:"6.4"}),t.directInsert=a),void 0!==i&&(t.directInsert=i),void 0!==t.directInsert&&"boolean"!=typeof t.directInsert&&He("Using `Function` as a `directInsert` argument",{alternative:"`boolean` values",since:"6.5"}),Gm.get(g)||Gm.set(g,{}),Gm.get(g)[e]=t,window.queueMicrotask(()=>{const e=Gm.get(g);if(Object.keys(e).length){const{updateBlockListSettings:t}=g.dispatch(zo);t(e),Gm.set(g,{})}})},[e,m,h,f,s,i,r,a,d,u,p,g])}function Km(e,t,n,o,l,s,i,r,a){return c=>{const{srcRootClientId:d,srcClientIds:u,type:p,blocks:g}=function(e){let t={srcRootClientId:null,srcClientIds:null,srcIndex:null,type:null,blocks:null};if(!e.dataTransfer)return t;try{t=Object.assign(t,JSON.parse(e.dataTransfer.getData("wp-blocks")))}catch(n){return t}return t}(c);if("inserter"===p){i();const e=g.map(e=>ie(e));s(e,!0,null)}if("block"===p){const i=n(u[0]);if(d===e&&i===t)return;if(u.includes(e)||o(u).some(t=>t===e))return;if("group"===r){const e=u.map(e=>a(e));return void s(e,!0,null,u)}const c=d===e,p=u.length;l(u,d,c&&i<t?t-p:t)}}}function qm(e,t,o={}){const{operation:l="insert",nearestSide:s="right"}=o,{canInsertBlockType:i,getBlockIndex:r,getClientIdsOfDescendants:a,getBlockOrder:c,getBlocksByClientId:d,getSettings:u,getBlock:p}=C(zo),{getGroupingBlockName:g}=C(M),{insertBlocks:m,moveBlocksToPosition:h,updateBlockAttributes:f,clearSelectedBlock:b,replaceBlocks:k,removeBlocks:x}=_(zo),v=oe(),y=n.useCallback((n,o=!0,r=0,a=[])=>{Array.isArray(n)||(n=[n]);const d=c(e)[t];if("replace"===l)k(d,n,void 0,r);else if("group"===l){const t=p(d);"left"===s?n.push(t):n.unshift(t);const o=n.map(e=>I(e.name,e.attributes,e.innerBlocks)),l=n.every(e=>"core/image"===e.name),c=i("core/gallery",e),u=I(l&&c?"core/gallery":g(),{layout:{type:"flex",flexWrap:l&&c?null:"nowrap"}},o);k([d,...a],u,void 0,r)}else m(n,t,e,o,r)},[c,e,t,l,k,p,s,i,g,m]),j=n.useCallback((n,o,s)=>{if("replace"===l){const o=d(n),l=c(e)[t];v.batch(()=>{x(n,!1),k(l,o,void 0,0)})}else h(n,o,e,s)},[l,c,d,h,v,x,k,t,e]),S=Km(e,t,r,a,j,y,b,l,p),w=function(e,t,n,o,l){return s=>{if(!t().mediaUpload)return;const i=ae(re("from"),t=>"files"===t.type&&o(t.blockName,e)&&t.isMatch(s));if(i){const e=i.transform(s,n);l(e)}}}(e,u,f,i,y),B=function(e){return t=>{const n=ce({HTML:t,mode:"BLOCKS"});n.length&&e(n)}}(y);return e=>{const t=Xt(e.dataTransfer),n=e.dataTransfer.getData("text/html");n?B(n):t.length?w(t):S(e)}}const Zm=30,Ym=120,Xm=120;function Jm(e,t,n,o){let l=!0;if(t){const e=t?.map(({name:e})=>e);l=n.every(t=>e?.includes(t))}const s=n.map(t=>e(t)).every(e=>{const[t]=e?.parent||[];return!t||t===o});return l&&s}function Qm(e,t){const{defaultView:n}=t;return!!(n&&e instanceof n.HTMLElement&&e.dataset.isInsertionPoint)}function eh({dropZoneElement:e,rootClientId:t="",parentClientId:o="",isDisabled:l=!1}={}){const s=oe(),[i,r]=n.useState({index:null,operation:"insert"}),{getBlockType:a,getBlockVariations:c,getGroupingBlockName:d}=C(M),{canInsertBlockType:u,getBlockListSettings:p,getBlocks:g,getBlockIndex:m,getDraggedBlockClientIds:h,getBlockNamesByClientId:f,getAllowedBlocks:b,isDragging:k,isGroupable:x,isZoomOutMode:v,getSectionRootClientId:y}=td(C(zo)),{showInsertionPoint:j,hideInsertionPoint:S,startDragging:w,stopDragging:I}=td(_(zo)),B=qm("before"===i.operation||"after"===i.operation?o:t,i.index,{operation:i.operation,nearestSide:i.nearestSide}),N=je(n.useCallback((n,l)=>{k()||w();const i=b(t),_=f([t])[0],C=f(h());if(!Jm(a,i,C,_))return;const S=y();if(v()&&S!==t)return;const I=g(t);if(0===I.length)return void s.batch(()=>{r({index:0,operation:"insert"}),j(t,0,{operation:"insert"})});const B=function(e,t,n="vertical",o={}){const l="horizontal"===n?["left","right"]:["top","bottom"];let s=0,i="before",r=1/0,a=null,c="right";const{dropZoneElement:d,parentBlockOrientation:u,rootBlockIndex:p=0}=o;if(d&&"horizontal"!==u){const e=d.getBoundingClientRect(),[n,o]=El(t,e,["top","bottom"]);if(e.height>Ym&&n<Zm){if("top"===o)return[p,"before"];if("bottom"===o)return[p+1,"after"]}}const g=Lo();if(d&&"horizontal"===u){const e=d.getBoundingClientRect(),[n,o]=El(t,e,["left","right"]);if(e.width>Xm&&n<Zm){if(g&&"right"===o||!g&&"left"===o)return[p,"before"];if(g&&"left"===o||!g&&"right"===o)return[p+1,"after"]}}e.forEach(({isUnmodifiedDefaultBlock:e,getBoundingClientRect:o,blockIndex:d,blockOrientation:u})=>{const p=o();let[m,h]=El(t,p,l);const[f,b]=El(t,p,["left","right"]),k=Dl(t,p);e&&k?m=0:"vertical"===n&&"horizontal"!==u&&(k&&f<Zm||!k&&Pl(t,p))&&(a=d,c=b),m<r&&(i="bottom"===h||!g&&"right"===h||g&&"left"===h?"after":"before",r=m,s=d)});const m=s+("after"===i?1:-1),h=!!e[s]?.isUnmodifiedDefaultBlock,f=!!e[m]?.isUnmodifiedDefaultBlock;if(null!==a)return[a,"group",c];if(!h&&!f)return["after"===i?s+1:s,"insert"];return[h?s:m,"replace"]}(I.map(e=>{const t=e.clientId;return{isUnmodifiedDefaultBlock:Q(e),getBoundingClientRect:()=>l.getElementById(`block-${t}`).getBoundingClientRect(),blockIndex:m(t),blockOrientation:p(t)?.orientation}}),{x:n.clientX,y:n.clientY},p(t)?.orientation,{dropZoneElement:e,parentBlockOrientation:o?p(o)?.orientation:void 0,rootBlockIndex:m(t)}),[N,E,D]=B;if(!v()||"insert"===E){if("group"===E){const e=I[N],n=[e.name,...C].every(e=>"core/image"===e),o=u("core/gallery",t),l=x([e.clientId,h()]),s=c(d(),"block"),i=s&&s.find(({name:e})=>"group-row"===e);if(n&&!o&&(!l||!i))return;if(!(n||l&&i))return}s.batch(()=>{r({index:N,operation:E,nearestSide:D});const e=["before","after"].includes(E)?o:t;j(e,N,{operation:E,nearestSide:D})})}},[k,b,t,f,h,a,y,v,g,p,e,o,m,s,w,j,u,x,c,d]),200);return Se({dropZoneElement:e,isDisabled:l,onDrop:B,onDragOver(e){N(e,e.currentTarget.ownerDocument)},onDragLeave(e){const{ownerDocument:t}=e.currentTarget;Qm(e.relatedTarget,t)||Qm(e.target,t)||(N.cancel(),S())},onDragEnd(){N.cancel(),I(),S()}})}const th={};function nh({children:e,clientId:t}){const n=function(e){return C(t=>{const n=t(zo).getBlock(e);if(!n)return;const o=t(M).getBlockType(n.name);return o&&0!==Object.keys(o.providesContext).length?Object.fromEntries(Object.entries(o.providesContext).map(([e,t])=>[e,n.attributes[t]])):void 0},[e])}(t);return p.jsx(od,{value:n,children:e})}const oh=n.memo(yh);function lh(e){const{clientId:t,allowedBlocks:o,prioritizedInserterBlocks:l,defaultBlock:s,directInsert:i,__experimentalDefaultBlock:r,__experimentalDirectInsert:a,template:c,templateLock:d,wrapperRef:u,templateInsertUpdatesSelection:g,__experimentalCaptureToolbars:m,__experimentalAppenderTagName:h,renderAppender:f,orientation:b,placeholder:k,layout:x,name:v,blockType:y,parentLock:j,defaultLayout:S}=e;Wm(t,j,o,l,s,i,r,a,d,m,b,x),function(e,t,o,l){const{getBlocks:s,getSelectedBlocksInitialCaretPosition:i,isBlockSelected:r}=C(zo),{replaceInnerBlocks:a,__unstableMarkNextChangeAsNotPersistent:c}=_(zo),d=n.useRef(null);n.useLayoutEffect(()=>{let n=!1;return window.queueMicrotask(()=>{if(n)return;const u=s(e),p=0===u.length||"all"===o||"contentOnly"===o,g=!Dc(t,d.current);if(!p||!g)return;d.current=t;const m=Ce(u,t);Dc(m,u)||(c(),a(e,m,0===u.length&&l&&0!==m.length&&r(e),i()))}),()=>{n=!0}},[t,o,e])}(t,c,d,g);const w=D(v,"layout")||D(v,"__experimentalLayout")||th,{allowSizingOnChildren:I=!1}=w,B=x||w,N=n.useMemo(()=>({...S,...B,...I&&{allowSizingOnChildren:!0}}),[S,B,I]),E=p.jsx(oh,{rootClientId:t,renderAppender:f,__experimentalAppenderTagName:h,layout:N,wrapperRef:u,placeholder:k});return y?.providesContext&&0!==Object.keys(y.providesContext).length?p.jsx(nh,{clientId:t,children:E}):E}function sh(e){return Rp(e),p.jsx(lh,{...e})}const ih=n.forwardRef((e,t)=>{const n=rh({ref:t},e);return p.jsx("div",{className:"block-editor-inner-blocks",children:p.jsx("div",{...n})})});function rh(e={},t={}){const{__unstableDisableLayoutClassNames:n,__unstableDisableDropZone:o,dropZoneElement:l}=t,{clientId:s,layout:i=null,__unstableLayoutClassNames:r=""}=Wc(),a=C(e=>{const{getBlockName:t,__unstableGetEditorMode:n,getTemplateLock:o,getBlockRootClientId:l,getBlockEditingMode:i,getBlockSettings:r,getSectionRootClientId:a}=td(e(zo));let c;if(!s)return{isDropZoneDisabled:c};const{hasBlockSupport:d,getBlockType:u}=e(M),p=t(s),g=i(s),m=l(s),[h]=r(s,"layout");if(c="disabled"===g,"zoom-out"===n()){const e=a();c=s!==e}return{__experimentalCaptureToolbars:d(p,"__experimentalExposeControlsToChildren",!1),name:p,blockType:u(p),parentLock:o(m),parentClientId:m,isDropZoneDisabled:c,defaultLayout:h}},[s]),{__experimentalCaptureToolbars:c,name:d,blockType:u,parentLock:g,parentClientId:m,isDropZoneDisabled:h,defaultLayout:f}=a,b=eh({dropZoneElement:l,rootClientId:s,parentClientId:m}),k=W([e.ref,o||h||i?.isManualPlacement&&window.__experimentalEnableGridInteractivity?null:b]),x={__experimentalCaptureToolbars:c,layout:i,name:d,blockType:u,parentLock:g,defaultLayout:f,...t},v=x.value&&x.onChange?sh:lh;return{...e,ref:k,className:Ti(e.className,"block-editor-block-list__layout",n?"":r),children:s?p.jsx(v,{...x,clientId:s}):p.jsx(yh,{...t})}}rh.save=we,ih.DefaultBlockAppender=function(){const{clientId:e}=Wc();return p.jsx(Sm,{rootClientId:e})},ih.ButtonBlockAppender=function({showSeparator:e,isFloating:t,onAddBlock:n,isToggle:o}){const{clientId:l}=Wc();return p.jsx(Bm,{className:Ti({"block-list-appender__toggle":o}),rootClientId:l,showSeparator:e,isFloating:t,onAddBlock:n})},ih.Content=()=>rh.save().children;const ah=new Set([Lu,39,Mu,37,Tu,Pu]);function ch(){const e=C(e=>e(zo).isTyping(),[]),{stopTyping:t}=_(zo);return z(n=>{if(!e)return;const{ownerDocument:o}=n;let l,s;function i(e){const{clientX:n,clientY:o}=e;l&&s&&(l!==n||s!==o)&&t(),l=n,s=o}return o.addEventListener("mousemove",i),()=>{o.removeEventListener("mousemove",i)}},[e,t])}function dh(){const{isTyping:e}=C(e=>{const{isTyping:t}=e(zo);return{isTyping:t()}},[]),{startTyping:t,stopTyping:n}=_(zo),o=ch(),l=z(o=>{const{ownerDocument:l}=o,{defaultView:s}=l,i=s.getSelection();if(e){let a;function c(e){const{target:t}=e;a=s.setTimeout(()=>{kt(t)||n()})}function d(e){const{keyCode:t}=e;27!==t&&9!==t||n()}function u(){i.isCollapsed||n()}return o.addEventListener("focus",c),o.addEventListener("keydown",d),l.addEventListener("selectionchange",u),()=>{s.clearTimeout(a),o.removeEventListener("focus",c),o.removeEventListener("keydown",d),l.removeEventListener("selectionchange",u)}}function r(e){const{type:n,target:l}=e;kt(l)&&o.contains(l)&&("keydown"!==n||function(e){const{keyCode:t,shiftKey:n}=e;return!n&&ah.has(t)}(e))&&t()}return o.addEventListener("keypress",r),o.addEventListener("keydown",r),()=>{o.removeEventListener("keypress",r),o.removeEventListener("keydown",r)}},[e,t,n]);return W([o,l])}function uh({children:e}){return p.jsx("div",{ref:dh(),children:e})}function ph({clientId:e,rootClientId:t="",position:o="top"}){const[l,s]=n.useState(!1),{sectionRootClientId:i,sectionClientIds:r,insertionPoint:a,blockInsertionPointVisible:c,blockInsertionPoint:d}=C(e=>{const{getInsertionPoint:t,getBlockOrder:n,getSectionRootClientId:o,isBlockInsertionPointVisible:l,getBlockInsertionPoint:s}=td(e(zo)),i=o();return{sectionRootClientId:i,sectionClientIds:n(i),blockOrder:n(i),insertionPoint:t(),blockInsertionPoint:s(),blockInsertionPointVisible:l()}},[]),u=G();if(!e)return;let g=!1;if(!(t===i&&r&&r.includes(e)))return null;const m=0===a?.index&&e===r[a.index],h=a&&a.hasOwnProperty("index")&&e===r[a.index-1];return"top"===o&&(g=m||c&&0===d.index&&e===r[d.index]),"bottom"===o&&(g=h||c&&e===r[d.index-1]),p.jsx(Mr,{children:g&&p.jsx(Dr.div,{as:"button",layout:!u,initial:{height:0},animate:{height:"120px"},exit:{height:0},transition:{type:"tween",duration:.2,ease:[.6,0,.4,1]},className:Ti("block-editor-block-list__zoom-out-separator",{"is-dragged-over":l}),"data-is-insertion-point":"true",onDragOver:()=>s(!0),onDragLeave:()=>s(!1),children:p.jsx(Dr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.1},children:To("Drop pattern.")})})})}const gh=n.createContext(),mh=new WeakMap;function hh({className:e,...t}){const o=xe("medium"),{isOutlineMode:l,isFocusMode:s,temporarilyEditingAsBlocks:i}=C(e=>{const{getSettings:t,getTemporarilyEditingAsBlocks:n,isTyping:o}=td(e(zo)),{outlineMode:l,focusMode:s}=t();return{isOutlineMode:l&&!o(),isFocusMode:s,temporarilyEditingAsBlocks:n()}},[]),r=oe(),{setBlockVisibility:a}=_(zo),c=be(n.useCallback(()=>{const e={};mh.get(r).forEach(([t,n])=>{e[t]=n}),a(e)},[r]),300,{trailing:!0}),d=n.useMemo(()=>{const{IntersectionObserver:e}=window;if(e)return new e(e=>{mh.get(r)||mh.set(r,[]);for(const t of e){const e=t.target.getAttribute("data-block");mh.get(r).push([e,t.isIntersecting])}c()})},[]),u=rh({ref:W([Fp(),Um(),dh()]),className:Ti("is-root-container",e,{"is-outline-mode":l,"is-focus-mode":s&&o})},t);return p.jsxs(gh.Provider,{value:d,children:[p.jsx("div",{...u}),!!i&&p.jsx(fh,{clientId:i})]})}function fh({clientId:e}){const{stopEditingAsBlocks:t}=td(_(zo)),o=C(t=>{const{isBlockSelected:n,hasSelectedInnerBlock:o}=t(zo);return n(e)||o(e,!0)},[e]);return n.useEffect(()=>{o||t(e)},[o,e,t]),null}function bh(e){return p.jsx(Gc,{value:Hc,children:p.jsx(hh,{...e})})}const kh=[],xh=new Set;function vh({placeholder:e,rootClientId:t,renderAppender:n,__experimentalAppenderTagName:o,layout:l=bu}){const s=!1!==n,i=!!n,{order:r,isZoomOut:a,selectedBlocks:c,visibleBlocks:d,shouldRenderAppender:u}=C(e=>{const{getSettings:n,getBlockOrder:o,getSelectedBlockClientId:l,getSelectedBlockClientIds:r,__unstableGetVisibleBlocks:a,getTemplateLock:c,getBlockEditingMode:d,__unstableGetEditorMode:u,isSectionBlock:p}=td(e(zo)),g=o(t);if(n().__unstableIsPreviewMode)return{order:g,selectedBlocks:kh,visibleBlocks:xh};const m=l();return{order:g,selectedBlocks:r(),visibleBlocks:a(),isZoomOut:"zoom-out"===u(),shouldRenderAppender:!p(t)&&"disabled"!==d(t)&&!c(t)&&s&&"zoom-out"!==u()&&(i||t===m||!t&&!m&&!g.length)}},[t,s,i]);return p.jsxs(xu,{value:l,children:[r.map(e=>p.jsxs(Ie,{value:!d.has(e)&&!c.includes(e),children:[a&&p.jsx(ph,{clientId:e,rootClientId:t,position:"top"}),p.jsx(Ep,{rootClientId:t,clientId:e}),a&&p.jsx(ph,{clientId:e,rootClientId:t,position:"bottom"})]},e)),r.length<1&&e,u&&p.jsx(Em,{tagName:o,rootClientId:t,CustomAppender:n})]})}function yh(e){return p.jsx(Ie,{value:!1,children:p.jsx(vh,{...e})})}const _h=Tr("InspectorControls"),Ch=Tr("InspectorAdvancedControls"),jh=Tr("InspectorControlsBindings"),Sh=Tr("InspectorControlsBackground"),wh=Tr("InspectorControlsBorder"),Ih=Tr("InspectorControlsColor"),Bh=Tr("InspectorControlsFilter"),Nh=Tr("InspectorControlsDimensions"),Eh=Tr("InspectorControlsPosition"),Dh=Tr("InspectorControlsTypography"),Ph=Tr("InspectorControlsListView"),Th=Tr("InspectorControlsStyles"),Lh={default:_h,advanced:Ch,background:Sh,bindings:jh,border:wh,color:Ih,dimensions:Nh,effects:Tr("InspectorControlsEffects"),filter:Bh,list:Ph,position:Eh,settings:_h,styles:Th,typography:Dh};function Mh({children:e,group:t="default",__experimentalGroup:n,resetAllFilter:o}){n&&(He("`__experimentalGroup` property in `InspectorControlsFill`",{since:"6.2",version:"6.4",alternative:"`group`"}),t=n);const l=Wc(),s=Lh[t]?.Fill;return s?l[zc]?p.jsx(gr,{document:document,children:p.jsx(s,{children:t=>p.jsx(Ah,{fillProps:t,children:e,resetAllFilter:o})})}):null:(!0===globalThis.SCRIPT_DEBUG&&jt(`Unknown InspectorControls group "${t}" provided.`),null)}function Rh({resetAllFilter:e,children:t}){const{registerResetAllFilter:o,deregisterResetAllFilter:l}=n.useContext(Rr);return n.useEffect(()=>{if(e&&o&&l)return o(e),()=>{l(e)}},[e,o,l]),t}function Ah({children:e,resetAllFilter:t,fillProps:n}){const{forwardedContext:o=[]}=n,l=p.jsx(Rh,{resetAllFilter:t,children:e});return o.reduce((e,[t,n])=>p.jsx(t,{...n,children:e}),l)}function zh({children:e,group:t,label:o}){const{updateBlockAttributes:l}=_(zo),{getBlockAttributes:s,getMultiSelectedBlockClientIds:i,getSelectedBlockClientId:r,hasMultiSelection:a}=C(zo),c=Tl(),d=r(),u=n.useCallback((e=[])=>{const t={},n=a()?i():[d];n.forEach(n=>{const{style:o}=s(n);let l={style:o};e.forEach(e=>{l={...l,...e(l)}}),l={...l,style:Ll(l.style)},t[n]=l}),l(n,t,!0)},[s,i,a,d,l]);return p.jsx(Ar,{className:`${t}-block-support-panel`,label:o,resetAll:u,panelId:d,hasInnerWrapper:!0,shouldRenderPlaceholderItems:!0,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",dropdownMenuProps:c,children:e},d)}function Oh({Slot:e,fillProps:t,...o}){const l=n.useContext(Rr),s=n.useMemo(()=>{var e;return{...null!=t?t:{},forwardedContext:[...null!==(e=t?.forwardedContext)&&void 0!==e?e:[],[Rr.Provider,{value:l}]]}},[l,t]);return p.jsx(e,{...o,fillProps:s,bubblesVirtually:!0})}function Fh({__experimentalGroup:e,group:t="default",label:o,fillProps:l,...s}){e&&(He("`__experimentalGroup` property in `InspectorControlsSlot`",{since:"6.2",version:"6.4",alternative:"`group`"}),t=e);const i=Lh[t]?.Slot,r=zr(i?.__unstableName),a=n.useContext(Or),c=n.useMemo(()=>{var e;return{...null!=l?l:{},forwardedContext:[...null!==(e=l?.forwardedContext)&&void 0!==e?e:[],[Or.Provider,{value:a}]]}},[a,l]);return i?r?.length?o?p.jsx(zh,{group:t,label:o,children:p.jsx(Oh,{...s,fillProps:c,Slot:i})}):p.jsx(i,{...s,fillProps:c,bubblesVirtually:!0}):null:(!0===globalThis.SCRIPT_DEBUG&&jt(`Unknown InspectorControls group "${t}" provided.`),null)}const Vh=Mh;Vh.Slot=Fh;const $h=e=>p.jsx(Mh,{...e,group:"advanced"});function Hh(e){return C(t=>{if(!e)return null;const{getBlockName:n,getBlockAttributes:o}=t(zo),{getBlockType:l,getActiveBlockVariation:s}=t(M),i=n(e),r=l(i);if(!r)return null;const a=o(e),c=s(i,a),d=Z(r)||ge(r),u=(d?R(r,a):void 0)||r.title,p=function(e){const t=e?.style?.position?.type;return"sticky"===t?To("Sticky"):"fixed"===t?To("Fixed"):null}(a),g={isSynced:d,title:u,icon:r.icon,description:r.description,anchor:a?.anchor,positionLabel:p,positionType:a?.style?.position?.type,name:a?.metadata?.name};return c?{isSynced:d,title:c.title||r.title,icon:c.icon||r.icon,description:c.description||r.description,anchor:a?.anchor,positionLabel:p,positionType:a?.style?.position?.type,name:a?.metadata?.name}:g},[e])}$h.Slot=e=>p.jsx(Fh,{...e,group:"advanced"}),$h.slotName="InspectorAdvancedControls";const Uh={placement:"top-start"},Gh={...Uh,flip:!1,shift:!0},Wh={...Uh,flip:!0,shift:!1};function Kh(e,t,n,o,l){if(!e||!t)return Gh;const s=n?.scrollTop||0,i=Nl(t),r=s+e.getBoundingClientRect().top,a=e.ownerDocument.documentElement.clientHeight,c=r+o,d=i.top>c,u=i.height>a-o;return l||!d&&!u?Wh:Gh}function qh({contentElement:e,clientId:t}){const o=ep(t),[l,s]=n.useState(0),{blockIndex:i,isSticky:r}=C(e=>{const{getBlockIndex:n,getBlockAttributes:o}=e(zo);return{blockIndex:n(t),isSticky:Ml(o(t))}},[t]),a=n.useMemo(()=>{if(e)return ft(e)},[e]),[c,d]=n.useState(()=>Kh(e,o,a,l,r)),u=z(e=>{s(e.offsetHeight)},[]),p=n.useCallback(()=>d(Kh(e,o,a,l,r)),[e,o,a,l]);return n.useLayoutEffect(p,[i,p]),n.useLayoutEffect(()=>{if(!e||!o)return;const t=e?.ownerDocument?.defaultView;let n;t?.addEventHandler?.("resize",p);const l=o?.ownerDocument?.defaultView;return l.ResizeObserver&&(n=new l.ResizeObserver(p),n.observe(o)),()=>{t?.removeEventHandler?.("resize",p),n&&n.disconnect()}},[p,e,o]),{...c,ref:u}}function Zh(e){return C(t=>{const{getBlockRootClientId:n,getBlockParents:o,__experimentalGetBlockListSettingsForBlocks:l,isBlockInsertionPointVisible:s,getBlockInsertionPoint:i,getBlockOrder:r,hasMultiSelection:a,getLastMultiSelectedBlockClientId:c}=t(zo),d=o(e),u=l(d),p=d.find(e=>u[e]?.__experimentalCaptureToolbars);let g=!1;if(s()){const t=i();g=r(t.rootClientId)[t.index]===e}return{capturingClientId:p,isInsertionPointVisible:g,lastClientId:a()?c():null,rootClientId:n(e)}},[e])}function Yh({clientId:e,__unstableContentRef:t}){const{capturingClientId:n,isInsertionPointVisible:o,lastClientId:l,rootClientId:s}=Zh(e),i=qh({contentElement:t?.current,clientId:e});return p.jsx(zm,{clientId:n||e,bottomClientId:l,className:Ti("block-editor-block-list__block-side-inserter-popover",{"is-insertion-point-visible":o}),__unstableContentRef:t,...i,children:p.jsx("div",{className:"block-editor-block-list__empty-block-inserter",children:p.jsx(Cm,{position:"bottom right",rootClientId:s,clientId:e,__experimentalIsQuick:!0})})})}const Xh=({appendToOwnerDocument:e,children:t,clientIds:o,cloneClassname:l,elementId:s,onDragStart:i,onDragEnd:r,fadeWhenDisabled:a=!1,dragComponent:c})=>{const{srcRootClientId:d,isDraggable:u,icon:g,visibleInserter:m,getBlockType:h}=C(e=>{const{canMoveBlocks:t,getBlockRootClientId:n,getBlockName:l,getBlockAttributes:s,isBlockInsertionPointVisible:i}=e(zo),{getBlockType:r,getActiveBlockVariation:a}=e(M),c=n(o[0]),d=l(o[0]),u=a(d,s(o[0]));return{srcRootClientId:c,isDraggable:t(o),icon:u?.icon||r(d)?.icon,visibleInserter:i(),getBlockType:r}},[o]),f=n.useRef(!1),[b,k,x]=function(){const e=n.useRef(null),t=n.useRef(null),o=n.useRef(null),l=n.useRef(null);return n.useEffect(()=>()=>{l.current&&(clearInterval(l.current),l.current=null)},[]),[n.useCallback(n=>{e.current=n.clientY,o.current=ft(n.target),l.current=setInterval(()=>{if(o.current&&t.current){const e=o.current.scrollTop+t.current;o.current.scroll({top:e})}},25)},[]),n.useCallback(n=>{if(!o.current)return;const l=o.current.offsetHeight,s=e.current-o.current.offsetTop,i=n.clientY-o.current.offsetTop;if(n.clientY>s){const e=Math.max(l-s-50,0),n=Math.max(i-s-50,0),o=0===e||0===n?0:n/e;t.current=25*o}else if(n.clientY<s){const e=Math.max(s-50,0),n=Math.max(s-i-50,0),o=0===e||0===n?0:n/e;t.current=-25*o}else t.current=0},[]),()=>{e.current=null,o.current=null,l.current&&(clearInterval(l.current),l.current=null)}]}(),{getAllowedBlocks:v,getBlockNamesByClientId:y,getBlockRootClientId:j}=C(zo),{startDraggingBlocks:S,stopDraggingBlocks:w}=_(zo);n.useEffect(()=>()=>{f.current&&w()},[]);const I=ep(o[0]),B=I?.closest("body");if(n.useEffect(()=>{if(!B||!a)return;const e=Be(e=>{if(!e.target.closest("[data-block]"))return;const t=y(o),n=e.target.closest("[data-block]").getAttribute("data-block"),l=v(n),s=y([n])[0];let i;if(0===l?.length){const e=j(n),o=y([e])[0],l=v(e);i=Jm(h,l,t,o)}else i=Jm(h,l,t,s);i||m?window?.document?.body?.classList?.remove("block-draggable-invalid-drag-token"):window?.document?.body?.classList?.add("block-draggable-invalid-drag-token")},200);return B.addEventListener("dragover",e),()=>{B.removeEventListener("dragover",e)}},[o,B,a,v,y,j,h,m]),!u)return t({draggable:!1});const N={type:"block",srcClientIds:o,srcRootClientId:d};return p.jsx(fr,{appendToOwnerDocument:e,cloneClassname:l,__experimentalTransferDataType:"wp-blocks",transferData:N,onDragStart:e=>{window.requestAnimationFrame(()=>{S(o),f.current=!0,b(e),i&&i()})},onDragOver:k,onDragEnd:()=>{w(),f.current=!1,x(),r&&r()},__experimentalDragComponent:void 0!==c?c:p.jsx(yg,{count:o.length,icon:g,fadeWhenDisabled:!0}),elementId:s,children:({onDraggableStart:e,onDraggableEnd:n})=>t({draggable:!0,onDragStart:e,onDragEnd:n})})},Jh=(e,t)=>"up"===e?"horizontal"===t?Lo()?"right":"left":"up":"down"===e?"horizontal"===t?Lo()?"left":"right":"down":null;function Qh(e,t,n,o,l,s,i){const r=n+1;if(e>1)return function(e,t,n,o,l,s){const i=t+1;if(n&&o)return To("All blocks are selected, and cannot be moved");if(l>0&&!o){const t=Jh("down",s);if("down"===t)return Ro(To("Move %1$d blocks from position %2$d down by one place"),e,i);if("left"===t)return Ro(To("Move %1$d blocks from position %2$d left by one place"),e,i);if("right"===t)return Ro(To("Move %1$d blocks from position %2$d right by one place"),e,i)}if(l>0&&o){const e=Jh("down",s);if("down"===e)return To("Blocks cannot be moved down as they are already at the bottom");if("left"===e)return To("Blocks cannot be moved left as they are already are at the leftmost position");if("right"===e)return To("Blocks cannot be moved right as they are already are at the rightmost position")}if(l<0&&!n){const t=Jh("up",s);if("up"===t)return Ro(To("Move %1$d blocks from position %2$d up by one place"),e,i);if("left"===t)return Ro(To("Move %1$d blocks from position %2$d left by one place"),e,i);if("right"===t)return Ro(To("Move %1$d blocks from position %2$d right by one place"),e,i)}if(l<0&&n){const e=Jh("up",s);if("up"===e)return To("Blocks cannot be moved up as they are already at the top");if("left"===e)return To("Blocks cannot be moved left as they are already are at the leftmost position");if("right"===e)return To("Blocks cannot be moved right as they are already are at the rightmost position")}}(e,n,o,l,s,i);if(o&&l)return Ro(To("Block %s is the only block, and cannot be moved"),t);if(s>0&&!l){const e=Jh("down",i);if("down"===e)return Ro(To("Move %1$s block from position %2$d down to position %3$d"),t,r,r+1);if("left"===e)return Ro(To("Move %1$s block from position %2$d left to position %3$d"),t,r,r+1);if("right"===e)return Ro(To("Move %1$s block from position %2$d right to position %3$d"),t,r,r+1)}if(s>0&&l){const e=Jh("down",i);if("down"===e)return Ro(To("Block %1$s is at the end of the content and can’t be moved down"),t);if("left"===e)return Ro(To("Block %1$s is at the end of the content and can’t be moved left"),t);if("right"===e)return Ro(To("Block %1$s is at the end of the content and can’t be moved right"),t)}if(s<0&&!o){const e=Jh("up",i);if("up"===e)return Ro(To("Move %1$s block from position %2$d up to position %3$d"),t,r,r-1);if("left"===e)return Ro(To("Move %1$s block from position %2$d left to position %3$d"),t,r,r-1);if("right"===e)return Ro(To("Move %1$s block from position %2$d right to position %3$d"),t,r,r-1)}if(s<0&&o){const e=Jh("up",i);if("up"===e)return Ro(To("Block %1$s is at the beginning of the content and can’t be moved up"),t);if("left"===e)return Ro(To("Block %1$s is at the beginning of the content and can’t be moved left"),t);if("right"===e)return Ro(To("Block %1$s is at the beginning of the content and can’t be moved right"),t)}}const ef=(e,t)=>"up"===e?"horizontal"===t?Lo()?St:wt:Jt:"down"===e?"horizontal"===t?Lo()?wt:St:Qt:null,tf=(e,t)=>"up"===e?"horizontal"===t?Lo()?To("Move right"):To("Move left"):To("Move up"):"down"===e?"horizontal"===t?Lo()?To("Move left"):To("Move right"):To("Move down"):null,nf=n.forwardRef(({clientIds:e,direction:t,orientation:n,...o},l)=>{const s=me(nf),i=Array.isArray(e)?e:[e],r=i.length,{disabled:a}=o,{blockType:c,isDisabled:d,rootClientId:u,isFirst:g,isLast:m,firstIndex:h,orientation:f="vertical"}=C(e=>{const{getBlockIndex:o,getBlockRootClientId:l,getBlockOrder:s,getBlock:r,getBlockListSettings:c}=e(zo),d=i[0],u=l(d),p=o(d),g=o(i[i.length-1]),m=s(u),h=r(d),f=0===p,b=g===m.length-1,{orientation:k}=c(u)||{};return{blockType:h?x(h.name):null,isDisabled:a||("up"===t?f:b),rootClientId:u,firstIndex:p,isFirst:f,isLast:b,orientation:n||k}},[e,t]),{moveBlocksDown:b,moveBlocksUp:k}=_(zo),v="up"===t?k:b,y=`block-editor-block-mover-button__description-${s}`;return p.jsxs(p.Fragment,{children:[p.jsx(zi,{__next40pxDefaultSize:!0,ref:l,className:Ti("block-editor-block-mover-button",`is-${t}-button`),icon:ef(t,f),label:tf(t,f),"aria-describedby":y,...o,onClick:d?null:t=>{v(e,u),o.onClick&&o.onClick(t)},disabled:d,accessibleWhenDisabled:!0}),p.jsx(vr,{id:y,children:Qh(r,c&&c.title,h,g,m,"up"===t?-1:1,f)})]})}),of=n.forwardRef((e,t)=>p.jsx(nf,{direction:"up",ref:t,...e})),lf=n.forwardRef((e,t)=>p.jsx(nf,{direction:"down",ref:t,...e}));function sf({clientIds:e,hideDragHandle:t,isBlockMoverUpButtonDisabled:n,isBlockMoverDownButtonDisabled:o}){const{canMove:l,rootClientId:s,isFirst:i,isLast:r,orientation:a,isManualGrid:c}=C(t=>{var n;const{getBlockIndex:o,getBlockListSettings:l,canMoveBlocks:s,getBlockOrder:i,getBlockRootClientId:r,getBlockAttributes:a}=t(zo),c=Array.isArray(e)?e:[e],d=c[0],u=r(d),p=o(d),g=o(c[c.length-1]),m=i(u),{layout:h={}}=null!==(n=a(u))&&void 0!==n?n:{};return{canMove:s(e),rootClientId:u,isFirst:0===p,isLast:g===m.length-1,orientation:l(u)?.orientation,isManualGrid:"grid"===h.type&&h.isManualPlacement&&window.__experimentalEnableGridInteractivity}},[e]);return!l||i&&r&&!s||t&&c?null:p.jsxs(Vi,{className:Ti("block-editor-block-mover",{"is-horizontal":"horizontal"===a}),children:[!t&&p.jsx(Xh,{clientIds:e,fadeWhenDisabled:!0,children:e=>p.jsx(zi,{__next40pxDefaultSize:!0,icon:Vt,className:"block-editor-block-mover__drag-handle",label:To("Drag"),tabIndex:"-1",...e})}),!c&&p.jsxs("div",{className:"block-editor-block-mover__move-button-container",children:[p.jsx(Fr,{children:t=>p.jsx(of,{disabled:n,clientIds:e,...t})}),p.jsx(Fr,{children:t=>p.jsx(lf,{disabled:o,clientIds:e,...t})})]})]})}function rf(){const{selectBlock:e}=_(zo),{parentClientId:t,isVisible:o}=C(e=>{const{getBlockName:t,getBlockParents:n,getSelectedBlockClientId:o,getBlockEditingMode:l,getParentSectionBlock:s}=td(e(zo)),{hasBlockSupport:i}=e(M),r=o(),a=s(r),c=n(r),d=null!=a?a:c[c.length-1],u=t(d),p=x(u);return{parentClientId:d,isVisible:d&&"disabled"!==l(d)&&i(p,"__experimentalParentSelector",!0)}},[]),l=Hh(t),s=n.useRef(),i=Rl({ref:s,highlightParent:!0});return o?p.jsx("div",{className:"block-editor-block-parent-selector",ref:s,...i,children:p.jsx(ir,{className:"block-editor-block-parent-selector__button",onClick:()=>e(t),label:Ro(To("Select parent block: %s"),l?.title),showTooltip:!0,icon:p.jsx(Vd,{icon:l?.icon})})},t):null}function af({blocks:e}){return xe("medium","<")?null:p.jsx("div",{className:"block-editor-block-switcher__popover-preview-container",children:p.jsx(Lr,{className:"block-editor-block-switcher__popover-preview",placement:"right-start",focusOnMount:!1,offset:16,children:p.jsxs("div",{className:"block-editor-block-switcher__preview",children:[p.jsx("div",{className:"block-editor-block-switcher__preview-title",children:To("Preview")}),p.jsx(hg,{viewportWidth:500,blocks:e})]})})})}const cf={};const df=({transformations:e,onSelect:t,blocks:o})=>{const[l,s]=n.useState();return p.jsxs(p.Fragment,{children:[l&&p.jsx(af,{blocks:ie(o[0],e.find(({name:e})=>e===l).attributes)}),e?.map(e=>p.jsx(uf,{item:e,onSelect:t,setHoveredTransformItemName:s},e.name))]})};function uf({item:e,onSelect:t,setHoveredTransformItemName:n}){const{name:o,icon:l,title:s}=e;return p.jsxs(Ai,{className:he(o),onClick:e=>{e.preventDefault(),t(o)},onMouseLeave:()=>n(null),onMouseEnter:()=>n(o),children:[p.jsx(Vd,{icon:l,showColors:!0}),s]})}const pf=({className:e,possibleBlockTransformations:t,possibleBlockVariationTransformations:o,onSelect:l,onSelectVariation:s,blocks:i})=>{const[r,a]=n.useState(),{priorityTextTransformations:c,restTransformations:d}=function(e){const t={"core/paragraph":1,"core/heading":2,"core/list":3,"core/quote":4},o=n.useMemo(()=>{const n=Object.keys(t),o=e.reduce((e,t)=>{const{name:o}=t;return n.includes(o)?e.priorityTextTransformations.push(t):e.restTransformations.push(t),e},{priorityTextTransformations:[],restTransformations:[]});if(1===o.priorityTextTransformations.length&&"core/quote"===o.priorityTextTransformations[0].name){const e=o.priorityTextTransformations.pop();o.restTransformations.push(e)}return o},[e]);return o.priorityTextTransformations.sort(({name:e},{name:n})=>t[e]<t[n]?-1:1),o}(t),u=c.length&&d.length,g=!!d.length&&p.jsx(gf,{restTransformations:d,onSelect:l,setHoveredTransformItemName:a});return p.jsxs(p.Fragment,{children:[p.jsxs(Ri,{label:To("Transform to"),className:e,children:[r&&p.jsx(af,{blocks:ee(i,r)}),!!o?.length&&p.jsx(df,{transformations:o,blocks:i,onSelect:s}),c.map(e=>p.jsx(mf,{item:e,onSelect:l,setHoveredTransformItemName:a},e.name)),!u&&g]}),!!u&&p.jsx(Ri,{className:e,children:g})]})};function gf({restTransformations:e,onSelect:t,setHoveredTransformItemName:n}){return e.map(e=>p.jsx(mf,{item:e,onSelect:t,setHoveredTransformItemName:n},e.name))}function mf({item:e,onSelect:t,setHoveredTransformItemName:n}){const{name:o,icon:l,title:s,isDisabled:i}=e;return p.jsxs(Ai,{className:he(o),onClick:e=>{e.preventDefault(),t(o)},disabled:i,onMouseLeave:()=>n(null),onMouseEnter:()=>n(o),children:[p.jsx(Vd,{icon:l,showColors:!0}),s]})}function hf({clientId:e,onSwitch:t}){const{styles:o,block:l,blockType:s,className:i}=C(t=>{const{getBlock:n}=t(zo),o=n(e);if(!o)return{};const l=x(o.name),{getBlockStyles:s}=t(M);return{block:o,blockType:l,styles:s(o.name),className:o.attributes.className||""}},[e]),{updateBlockAttributes:r}=_(zo),a=Al(o),c=zl(a,i),d=function(e,t){return n.useMemo(()=>{const n=t?.example,o=t?.name;return n&&o?ue(o,{attributes:n.attributes,innerBlocks:n.innerBlocks}):e?ie(e):void 0},[t?.example?e?.name:e,t])}(l,s);return{onSelect:n=>{const o=Ol(i,c,n);r(e,{className:o}),t()},stylesToRender:a,activeStyle:c,genericPreviewBlock:d,className:i}}const ff=()=>{};function bf({clientId:e,onSwitch:t=ff}){const{onSelect:n,stylesToRender:o,activeStyle:l}=hf({clientId:e,onSwitch:t});return o&&0!==o.length?p.jsx(p.Fragment,{children:o.map(e=>{const t=e.label||e.name;return p.jsx(Ai,{icon:l.name===e.name?en:null,onClick:()=>n(e),children:p.jsx(ur,{as:"span",limit:18,ellipsizeMode:"tail",truncate:!0,children:t})},e.name)})}):null}function kf({hoveredBlock:e,onSwitch:t}){const{clientId:n}=e;return p.jsx(Ri,{label:To("Styles"),className:"block-editor-block-switcher__styles__menugroup",children:p.jsx(bf,{clientId:n,onSwitch:t})})}const xf=(e,t)=>{const n=Vl(t.name,t.attributes);e.attributes={...e.attributes,...n}},vf=(e,t)=>n.useMemo(()=>e.reduce((e,n)=>{const o=((e,t)=>{const n=t.map(e=>ie(e)),o=new Set;for(const l of e){let e=!1;for(const t of n){const n=Fl(t,l.name,o);if(n){e=!0,o.add(n.clientId),xf(n,l);break}}if(!e)return}return n})(t,n.blocks);return o&&e.push({...n,transformedBlocks:o}),e},[]),[e,t]);function yf({blocks:e,patterns:t,onSelect:o}){const[l,s]=n.useState(!1),i=vf(t,e);return i.length?p.jsxs(Ri,{className:"block-editor-block-switcher__pattern__transforms__menugroup",children:[l&&p.jsx(_f,{patterns:i,onSelect:o}),p.jsx(Ai,{onClick:e=>{e.preventDefault(),s(!l)},icon:St,children:To("Patterns")})]}):null}function _f({patterns:e,onSelect:t}){const n=xe("medium","<");return p.jsx("div",{className:"block-editor-block-switcher__popover-preview-container",children:p.jsx(Lr,{className:"block-editor-block-switcher__popover-preview",placement:n?"bottom":"right-start",offset:16,children:p.jsx("div",{className:"block-editor-block-switcher__preview is-pattern-list-preview",children:p.jsx(Cf,{patterns:e,onSelect:t})})})})}function Cf({patterns:e,onSelect:t}){return p.jsx(hr,{role:"listbox",className:"block-editor-block-switcher__preview-patterns-container","aria-label":To("Patterns list"),children:e.map(e=>p.jsx(jf,{pattern:e,onSelect:t},e.name))})}function jf({pattern:e,onSelect:t}){const n="block-editor-block-switcher__preview-patterns-container",o=me(jf,`${n}-list__item-description`);return p.jsxs("div",{className:`${n}-list__list-item`,children:[p.jsxs(hr.Item,{render:p.jsx("div",{role:"option","aria-label":e.title,"aria-describedby":e.description?o:void 0,className:`${n}-list__item`}),onClick:()=>t(e.transformedBlocks),children:[p.jsx(hg,{blocks:e.transformedBlocks,viewportWidth:e.viewportWidth||500}),p.jsx("div",{className:`${n}-list__item-title`,children:e.title})]}),!!e.description&&p.jsx(vr,{id:o,children:e.description})]})}function Sf({onClose:e,clientIds:t,hasBlockStyles:o,canRemove:l}){const{replaceBlocks:s,multiSelect:i,updateBlockAttributes:r}=_(zo),{possibleBlockTransformations:a,patterns:c,blocks:d,isUsingBindings:u}=C(e=>{const{getBlockAttributes:n,getBlocksByClientId:o,getBlockRootClientId:l,getBlockTransformItems:s,__experimentalGetPatternTransformItems:i}=e(zo),r=l(t[0]),a=o(t);return{blocks:a,possibleBlockTransformations:s(a,r),patterns:i(a,r),isUsingBindings:t.every(e=>!!n(e)?.metadata?.bindings)}},[t]),g=function({clientIds:e,blocks:t}){const{activeBlockVariation:o,blockVariationTransformations:l}=C(n=>{const{getBlockAttributes:o,canRemoveBlocks:l}=n(zo),{getActiveBlockVariation:s,getBlockVariations:i}=n(M),r=l(e);if(1!==t.length||!r)return cf;const[a]=t;return{blockVariationTransformations:i(a.name,"transform"),activeBlockVariation:s(a.name,o(a.clientId))}},[e,t]);return n.useMemo(()=>l?.filter(({name:e})=>e!==o?.name),[l,o])}({clientIds:t,blocks:d});function m(e){e.length>1&&i(e[0].clientId,e[e.length-1].clientId)}const h=1===d.length,f=h&&ge(d[0]),b=!!a.length&&l&&!f,k=!!g?.length,x=!!c?.length&&l,v=b||k;if(!(o||v||x))return p.jsx("p",{className:"block-editor-block-switcher__no-transforms",children:To("No transforms.")});const y=Mo(h?"This block is connected.":"These blocks are connected.","block toolbar button label and description");return p.jsxs("div",{className:"block-editor-block-switcher__container",children:[x&&p.jsx(yf,{blocks:d,patterns:c,onSelect:n=>{!function(e){s(t,e),m(e)}(n),e()}}),v&&p.jsx(pf,{className:"block-editor-block-switcher__transforms__menugroup",possibleBlockTransformations:a,possibleBlockVariationTransformations:g,blocks:d,onSelect:n=>{!function(e){const n=ee(d,e);s(t,n),m(n)}(n),e()},onSelectVariation:t=>{!function(e){r(d[0].clientId,{...g.find(({name:t})=>t===e).attributes})}(t),e()}}),o&&p.jsx(kf,{hoveredBlock:d[0],onSwitch:e}),u&&p.jsx(Ri,{children:p.jsx(ur,{className:"block-editor-block-switcher__binding-indicator",children:y})})]})}const wf=({icon:e,showTitle:t,blockTitle:n})=>p.jsxs(p.Fragment,{children:[p.jsx(Vd,{className:"block-editor-block-switcher__toggle",icon:e,showColors:!0}),t&&n&&p.jsx("span",{className:"block-editor-block-switcher__toggle-text",children:n})]}),If=({clientIds:e})=>{const{hasContentOnlyLocking:t,canRemove:n,hasBlockStyles:o,icon:l,invalidBlocks:s,isReusable:i,isTemplate:r,isDisabled:a}=C(t=>{const{getTemplateLock:n,getBlocksByClientId:o,getBlockAttributes:l,canRemoveBlocks:s,getBlockEditingMode:i}=t(zo),{getBlockStyles:r,getBlockType:a,getActiveBlockVariation:c}=t(M),d=o(e);if(!d.length||d.some(e=>!e))return{invalidBlocks:!0};const[{name:u}]=d,p=1===d.length,g=a(u),m=i(e[0]);let h,f;if(p){const t=c(u,l(e[0]));h=t?.icon||g.icon,f="contentOnly"===n(e[0])}else{const t=1===new Set(d.map(({name:e})=>e)).size;f=e.some(e=>"contentOnly"===n(e)),h=t?g.icon:tn}return{canRemove:s(e),hasBlockStyles:p&&!!r(u)?.length,icon:h,isReusable:p&&Z(d[0]),isTemplate:p&&ge(d[0]),hasContentOnlyLocking:f,isDisabled:"default"!==m}},[e]),c=Ku({clientId:e?.[0],maximumLength:35});if(s)return null;const d=1===e.length,u=d?c:To("Multiple blocks selected");if(a||!o&&!n||t)return p.jsx(Vi,{children:p.jsx(ir,{disabled:!0,className:"block-editor-block-switcher__no-switcher-icon",title:u,icon:p.jsx(wf,{icon:l,showTitle:i||r,blockTitle:c})})});const g=d?To("Change block type or style"):Ro(Ao("Change type of %d block","Change type of %d blocks",e.length),e.length);return p.jsx(Vi,{children:p.jsx(Fr,{children:t=>p.jsx(Mi,{className:"block-editor-block-switcher",label:u,popoverProps:{placement:"bottom-start",className:"block-editor-block-switcher__popover"},icon:p.jsx(wf,{icon:l,showTitle:i||r,blockTitle:c}),toggleProps:{description:g,...t},menuProps:{orientation:"both"},children:({onClose:t})=>p.jsx(Sf,{onClose:t,clientIds:e,hasBlockStyles:o,canRemove:n})})})})},Bf={default:Tr("BlockControls"),block:Tr("BlockControlsBlock"),inline:Tr("BlockFormatControls"),other:Tr("BlockControlsOther"),parent:Tr("BlockControlsParent")};function Nf({group:e="default",controls:t,children:n,__experimentalShareWithChildBlocks:o=!1}){const l=function(e,t){const n=Wc();return n[zc]?Bf[e]?.Fill:n[Oc]&&t?Bf.parent.Fill:null}(e,o);if(!l)return null;const s=p.jsxs(p.Fragment,{children:["default"===e&&p.jsx(Vi,{controls:t}),n]});return p.jsx(gr,{document:document,children:p.jsx(l,{children:e=>{const{forwardedContext:t=[]}=e;return t.reduce((e,[t,n])=>p.jsx(t,{...n,children:e}),s)}})})}const{ComponentsContext:Ef}=td(Oi);function Df({group:e="default",...t}){const o=n.useContext(Vr),l=n.useContext(Ef),s=n.useMemo(()=>({forwardedContext:[[Vr.Provider,{value:o}],[Ef.Provider,{value:l}]]}),[o,l]),i=Bf[e]?.Slot,r=zr(i?.__unstableName);if(!i)return!0===globalThis.SCRIPT_DEBUG&&jt(`Unknown BlockControls group "${e}" provided.`),null;if(!r?.length)return null;const a=p.jsx(i,{...t,bubblesVirtually:!0,fillProps:s});return"default"===e?a:p.jsx(Vi,{children:a})}const Pf=Nf;Pf.Slot=Df;const Tf=e=>p.jsx(Nf,{group:"inline",...e});Tf.Slot=e=>p.jsx(Df,{group:"inline",...e});const{Fill:Lf,Slot:Mf}=Tr("__unstableBlockToolbarLastItem");Lf.Slot=Mf;const Rf={align:Jl,borderColor:e=>Xl(e,"color"),backgroundColor:Yl,textAlign:Zl,textColor:ql,gradient:Kl,className:Wl,fontFamily:Gl,fontSize:Ul,layout:Hl,style:$l};function Af(e,t){return Object.entries(Rf).reduce((n,[o,l])=>(l(e.name)&&l(t.name)&&(n[o]=e.attributes[o]),n),{})}function zf(e,t,n){for(let o=0;o<Math.min(t.length,e.length);o+=1)n(e[o].clientId,Af(t[o],e[o])),zf(e[o].innerBlocks,t[o].innerBlocks,n)}function Of(){const e=oe(),{updateBlockAttributes:t}=_(zo),{createSuccessNotice:o,createWarningNotice:l,createErrorNotice:s}=_(Ut);return n.useCallback(async n=>{let i="";try{if(!window.navigator.clipboard)return void s(To("Unable to paste styles. This feature is only available on secure (https) sites in supporting browsers."),{type:"snackbar"});i=await window.navigator.clipboard.readText()}catch(a){return void s(To("Unable to paste styles. Please allow browser clipboard permissions before continuing."),{type:"snackbar"})}if(!i||!function(e){try{const t=w(e,{__unstableSkipMigrationLogs:!0,__unstableSkipAutop:!0});return 1!==t.length||"core/freeform"!==t[0].name}catch(t){return!1}}(i))return void l(To("Unable to paste styles. Block styles couldn't be found within the copied content."),{type:"snackbar"});const r=w(i);if(1===r.length?e.batch(()=>{zf(n,n.map(()=>r[0]),t)}):e.batch(()=>{zf(n,r,t)}),1===n.length){const e=x(n[0].name)?.title;o(Ro(To("Pasted styles to %s."),e),{type:"snackbar"})}else o(Ro(To("Pasted styles to %d blocks."),n.length),{type:"snackbar"})},[e.batch,t,o,l,s])}function Ff({clientId:e}){const t=C(t=>t(zo).getBlock(e),[e]),{replaceBlocks:n}=_(zo);return t&&"core/html"===t.name?p.jsx(Ai,{onClick:()=>n(e,V({HTML:$(t)})),children:To("Convert to Blocks")}):null}const{Fill:Vf,Slot:$f}=Tr("__unstableBlockSettingsMenuFirstItem");function Hf(e){return C(t=>{const{getBlocksByClientId:n,getSelectedBlockClientIds:o,isUngroupable:l,isGroupable:s}=t(zo),{getGroupingBlockName:i,getBlockType:r}=t(M),a=e?.length?e:o(),c=n(a),[d]=c,u=1===a.length&&l(a[0]);return{clientIds:a,isGroupable:s(a),isUngroupable:u,blocksSelection:c,groupingBlockName:i(),onUngroup:u&&r(d.name)?.transforms?.ungroup}},[e])}Vf.Slot=$f;const Uf={group:{type:"constrained"},row:{type:"flex",flexWrap:"nowrap"},stack:{type:"flex",orientation:"vertical"},grid:{type:"grid"}};function Gf(){const{blocksSelection:e,clientIds:t,groupingBlockName:n,isGroupable:o}=Hf(),{replaceBlocks:l}=_(zo),{canRemove:s,variations:i}=C(e=>{const{canRemoveBlocks:o}=e(zo),{getBlockVariations:l}=e(M);return{canRemove:o(t),variations:l(n,"transform")}},[t,n]),r=o=>{const s=ee(e,n);"string"!=typeof o&&(o="group"),s&&s.length>0&&(s[0].attributes.layout=Uf[o],l(t,s))};if(!o||!s)return null;const a=!!i.find(({name:e})=>"group-row"===e),c=!!i.find(({name:e})=>"group-stack"===e),d=!!i.find(({name:e})=>"group-grid"===e);return p.jsxs(Vi,{children:[p.jsx(ir,{icon:nn,label:Mo("Group","verb"),onClick:r}),a&&p.jsx(ir,{icon:on,label:Mo("Row","single horizontal line"),onClick:()=>r("row")}),c&&p.jsx(ir,{icon:ln,label:Mo("Stack","verb"),onClick:()=>r("stack")}),d&&p.jsx(ir,{icon:sn,label:Mo("Grid","verb"),onClick:()=>r("grid")})]})}function Wf({clientIds:e,isGroupable:t,isUngroupable:n,onUngroup:o,blocksSelection:l,groupingBlockName:s,onClose:i=()=>{}}){const{getSelectedBlockClientIds:r}=C(zo),{replaceBlocks:a}=_(zo);if(!t&&!n)return null;const c=r();return p.jsxs(p.Fragment,{children:[t&&p.jsx(Ai,{shortcut:c.length>1?Uu.primary("g"):void 0,onClick:()=>{(()=>{const t=ee(l,s);t&&a(e,t)})(),i()},children:Mo("Group","verb")}),n&&p.jsx(Ai,{onClick:()=>{(()=>{let t=l[0].innerBlocks;t.length&&(o&&(t=o(l[0].attributes,l[0].innerBlocks)),a(e,t))})(),i()},children:Mo("Ungroup","Ungrouping blocks from within a grouping block back into individual blocks within the Editor")})]})}function Kf(e){return C(t=>{const{canEditBlock:n,canMoveBlock:o,canRemoveBlock:l,canLockBlockType:s,getBlockName:i,getTemplateLock:r}=t(zo),a=n(e),c=o(e),d=l(e);return{canEdit:a,canMove:c,canRemove:d,canLock:s(i(e)),isContentLocked:"contentOnly"===r(e),isLocked:!a||!c||!d}},[e])}const qf=["core/block","core/navigation"];function Zf(e){return e.remove&&e.move?"all":!(!e.remove||e.move)&&"insert"}function Yf({clientId:e,onClose:t}){const[o,l]=n.useState({move:!1,remove:!1}),{canEdit:s,canMove:i,canRemove:r}=Kf(e),{allowsEditLocking:a,templateLock:c,hasTemplateLock:d}=C(t=>{const{getBlockName:n,getBlockAttributes:o}=t(zo),l=n(e),s=x(l);return{allowsEditLocking:qf.includes(l),templateLock:o(e)?.templateLock,hasTemplateLock:!!s?.attributes?.templateLock}},[e]),[u,g]=n.useState(!!c),{updateBlockAttributes:m}=_(zo),h=Hh(e);n.useEffect(()=>{l({move:!i,remove:!r,...a?{edit:!s}:{}})},[s,i,r,a]);const f=Object.values(o).every(Boolean),b=Object.values(o).some(Boolean)&&!f;return p.jsx(cr,{title:Ro(To("Lock %s"),h.title),overlayClassName:"block-editor-block-lock-modal",onRequestClose:t,children:p.jsxs("form",{onSubmit:n=>{n.preventDefault(),m([e],{lock:o,templateLock:u?Zf(o):void 0}),t()},children:[p.jsxs("fieldset",{className:"block-editor-block-lock-modal__options",children:[p.jsx("legend",{children:To("Choose specific attributes to restrict or lock all available options.")}),p.jsx("ul",{role:"list",className:"block-editor-block-lock-modal__checklist",children:p.jsxs("li",{children:[p.jsx($r,{__nextHasNoMarginBottom:!0,className:"block-editor-block-lock-modal__options-all",label:To("Lock all"),checked:f,indeterminate:b,onChange:e=>l({move:e,remove:e,...a?{edit:e}:{}})}),p.jsxs("ul",{role:"list",className:"block-editor-block-lock-modal__checklist",children:[a&&p.jsxs("li",{className:"block-editor-block-lock-modal__checklist-item",children:[p.jsx($r,{__nextHasNoMarginBottom:!0,label:To("Restrict editing"),checked:!!o.edit,onChange:e=>l(t=>({...t,edit:e}))}),p.jsx(Hi,{className:"block-editor-block-lock-modal__lock-icon",icon:o.edit?rn:an})]}),p.jsxs("li",{className:"block-editor-block-lock-modal__checklist-item",children:[p.jsx($r,{__nextHasNoMarginBottom:!0,label:To("Disable movement"),checked:o.move,onChange:e=>l(t=>({...t,move:e}))}),p.jsx(Hi,{className:"block-editor-block-lock-modal__lock-icon",icon:o.move?rn:an})]}),p.jsxs("li",{className:"block-editor-block-lock-modal__checklist-item",children:[p.jsx($r,{__nextHasNoMarginBottom:!0,label:To("Prevent removal"),checked:o.remove,onChange:e=>l(t=>({...t,remove:e}))}),p.jsx(Hi,{className:"block-editor-block-lock-modal__lock-icon",icon:o.remove?rn:an})]})]})]})}),d&&p.jsx(Yi,{__nextHasNoMarginBottom:!0,className:"block-editor-block-lock-modal__template-lock",label:To("Apply to all blocks inside"),checked:u,disabled:o.move&&!o.remove,onChange:()=>g(!u)})]}),p.jsxs(Wi,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:!1,children:[p.jsx(Ki,{children:p.jsx(zi,{variant:"tertiary",onClick:t,__next40pxDefaultSize:!0,children:To("Cancel")})}),p.jsx(Ki,{children:p.jsx(zi,{variant:"primary",type:"submit",__next40pxDefaultSize:!0,children:To("Apply")})})]})]})})}function Xf({clientId:e}){const{canLock:t,isLocked:o}=Kf(e),[l,s]=n.useReducer(e=>!e,!1);if(!t)return null;const i=To(o?"Unlock":"Lock");return p.jsxs(p.Fragment,{children:[p.jsx(Ai,{icon:o?an:cn,onClick:s,"aria-expanded":l,"aria-haspopup":"dialog",children:i}),l&&p.jsx(Yf,{clientId:e,onClose:s})]})}function Jf({clientId:e}){const{canLock:t,isLocked:o}=Kf(e),[l,s]=n.useReducer(e=>!e,!1),i=n.useRef(!1);if(n.useEffect(()=>{o&&(i.current=!0)},[o]),!o&&!i.current)return null;let r=To(o?"Unlock":"Lock");return!t&&o&&(r=To("Locked")),p.jsxs(p.Fragment,{children:[p.jsx(Vi,{className:"block-editor-block-lock-toolbar",children:p.jsx(ir,{disabled:!t,icon:o?rn:an,label:r,onClick:s,"aria-expanded":l,"aria-haspopup":"dialog"})}),l&&p.jsx(Yf,{clientId:e,onClose:s})]})}const Qf=()=>{};function eb({clientId:e,onToggle:t=Qf}){const{blockType:n,mode:o,isCodeEditingEnabled:l}=C(t=>{const{getBlock:n,getBlockMode:o,getSettings:l}=t(zo),s=n(e);return{mode:o(e),blockType:s?x(s.name):null,isCodeEditingEnabled:l().codeEditingEnabled}},[e]),{toggleBlockMode:s}=_(zo);if(!n||!v(n,"html",!0)||!l)return null;const i=To("visual"===o?"Edit as HTML":"Edit visually");return p.jsx(Ai,{onClick:()=>{s(e),t()},children:i})}function tb({clientId:e,onClose:t}){const{templateLock:n,isLockedByParent:o,isEditingAsBlocks:l}=C(t=>{const{getContentLockingParent:n,getTemplateLock:o,getTemporarilyEditingAsBlocks:l}=td(t(zo));return{templateLock:o(e),isLockedByParent:!!n(e),isEditingAsBlocks:l()===e}},[e]),s=_(zo),i=!o&&"contentOnly"===n;if(!i&&!l)return null;const{modifyContentLockBlock:r}=td(s);return!l&&i&&p.jsx(Ai,{onClick:()=>{r(e),t()},children:Mo("Modify","Unlock content locked blocks")})}function nb(e){return 0===e?.trim()?.length}function ob({blockName:e,originalBlockName:t,onClose:o,onSave:l,hasOverridesWarning:s}){const[i,r]=n.useState(e),a=i!==e,c=i===t,d=nb(i),u=a||c;return p.jsx(cr,{title:To("Rename"),onRequestClose:o,overlayClassName:"block-editor-block-rename-modal",focusOnMount:"firstContentElement",size:"small",children:p.jsx("form",{onSubmit:e=>{e.preventDefault(),u&&(()=>{const e=Ro(To(c||d?'Block name reset to: "%s".':'Block name changed to: "%s".'),i);Ft(e,"assertive"),l(i),o()})()},children:p.jsxs(Ji,{spacing:"3",children:[p.jsx(Hr,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,value:i,label:To("Name"),help:s?To("This block allows overrides. Changing the name can cause problems with content entered into instances of this pattern."):void 0,placeholder:t,onChange:r,onFocus:e=>e.target.select()}),p.jsxs(xr,{justify:"right",children:[p.jsx(zi,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:o,children:To("Cancel")}),p.jsx(zi,{__next40pxDefaultSize:!0,"aria-disabled":!u,variant:"primary",type:"submit",children:To("Save")})]})]})})})}function lb({clientId:e}){const[t,o]=n.useState(!1),{metadata:l}=C(t=>{const{getBlockAttributes:n}=t(zo),o=n(e)?.metadata;return{metadata:o}},[e]),{updateBlockAttributes:s}=_(zo),i=l?.name,r=!!i&&!!l?.bindings&&Object.values(l.bindings).some(e=>"core/pattern-overrides"===e.source);const a=Hh(e);return p.jsxs(p.Fragment,{children:[p.jsx(Ai,{onClick:()=>{o(!0)},"aria-expanded":t,"aria-haspopup":"dialog",children:To("Rename")}),t&&p.jsx(ob,{blockName:i||"",originalBlockName:a?.title,hasOverridesWarning:r,onClose:()=>o(!1),onSave:t=>{(t===a?.title||nb(t))&&(t=void 0),function(t){s([e],{metadata:{...l,name:t}})}(t)}})]})}const{Fill:sb,Slot:ib}=Tr("BlockSettingsMenuControls");function rb({...e}){return p.jsx(gr,{document:document,children:p.jsx(sb,{...e})})}function ab({parentClientId:e,parentBlockType:t}){const o=xe("medium","<"),{selectBlock:l}=_(zo),s=n.useRef(),i=Rl({ref:s,highlightParent:!0});return o?p.jsx(Ai,{...i,ref:s,icon:p.jsx(Vd,{icon:t.icon}),onClick:()=>l(e),children:Ro(To("Select parent block (%s)"),t.title)}):null}rb.Slot=({fillProps:e,clientIds:t=null})=>{const{selectedBlocks:n,selectedClientIds:o,isContentOnly:l}=C(e=>{const{getBlockNamesByClientId:n,getSelectedBlockClientIds:o,getBlockEditingMode:l}=e(zo),s=null!==t?t:o();return{selectedBlocks:n(s),selectedClientIds:s,isContentOnly:"contentOnly"===l(s[0])}},[t]),{canLock:s}=Kf(o[0]),{canRename:i}=(r=n[0],{canRename:D(r,"renaming",!0)});var r;const a=1===o.length&&s&&!l,c=1===o.length&&i&&!l,d=Hf(o),{isGroupable:u,isUngroupable:g}=d,m=u||g;return p.jsx(ib,{fillProps:{...e,selectedBlocks:n,selectedClientIds:o},children:t=>!t?.length>0&&!m&&!a?null:p.jsxs(Ri,{children:[m&&p.jsx(Wf,{...d,onClose:e?.onClose}),a&&p.jsx(Xf,{clientId:o[0]}),c&&p.jsx(lb,{clientId:o[0]}),t,1===o.length&&p.jsx(tb,{clientId:o[0],onClose:e?.onClose}),1===e?.count&&!l&&p.jsx(eb,{clientId:e?.firstBlockClientId,onToggle:e?.onClose})]})})};const cb={className:"block-editor-block-settings-menu__popover",placement:"bottom-start"};function db({clientIds:e,onCopy:t,label:n,shortcut:o}){const{getBlocksByClientId:l}=C(zo),s=Ee(()=>pe(l(e)),t),i=n||To("Copy");return p.jsx(Ai,{ref:s,shortcut:o,children:i})}function ub({block:e,clientIds:t,children:o,__experimentalSelectBlock:l,...s}){const i=e?.clientId,r=t.length,a=t[0],{firstParentClientId:c,parentBlockType:d,previousBlockClientId:u,selectedBlockClientIds:g,openedBlockSettingsMenu:m,isContentOnly:h}=C(e=>{const{getBlockName:t,getBlockRootClientId:n,getPreviousBlockClientId:o,getSelectedBlockClientIds:l,getBlockAttributes:s,getOpenedBlockSettingsMenu:i,getBlockEditingMode:r}=td(e(zo)),{getActiveBlockVariation:c}=e(M),d=n(a),u=d&&t(d);return{firstParentClientId:d,parentBlockType:d&&(c(u,s(d))||x(u)),previousBlockClientId:o(a),selectedBlockClientIds:l(),openedBlockSettingsMenu:i(),isContentOnly:"contentOnly"===r(a)}},[a]),{getBlockOrder:f,getSelectedBlockClientIds:b}=C(zo),{setOpenedBlockSettingsMenu:k}=td(_(zo)),v=C(e=>{const{getShortcutRepresentation:t}=e(It);return{duplicate:t("core/block-editor/duplicate"),remove:t("core/block-editor/remove"),insertAfter:t("core/block-editor/insert-after"),insertBefore:t("core/block-editor/insert-before")}},[]),y=g.length>0;async function j(e){if(!l)return;const t=await e;t&&t[0]&&l(t[0],!1)}function S(){if(!l)return;let e=u||c;e||(e=f()[0]);const t=y&&0===b().length;l(e,t)}const w=g?.includes(c),I=i?m===i||!1:void 0;function B(e){e&&m!==i?k(i):!e&&m&&m===i&&k(void 0)}const N=!w&&!!c;return p.jsx(Vo,{clientIds:t,__experimentalUpdateSelection:!l,children:({canCopyStyles:e,canDuplicate:l,canInsertBlock:i,canRemove:u,onDuplicate:g,onInsertAfter:m,onInsertBefore:f,onRemove:b,onCopy:k,onPasteStyles:x})=>!u&&!l&&!i&&h?null:p.jsx(Mi,{icon:$e,label:To("Options"),className:"block-editor-block-settings-menu",popoverProps:cb,open:I,onToggle:B,noIcons:!0,...s,children:({onClose:s})=>p.jsxs(p.Fragment,{children:[p.jsxs(Ri,{children:[p.jsx(Vf.Slot,{fillProps:{onClose:s}}),N&&p.jsx(ab,{parentClientId:c,parentBlockType:d}),1===r&&p.jsx(Ff,{clientId:a}),!h&&p.jsx(db,{clientIds:t,onCopy:k,shortcut:Uu.primary("c")}),l&&p.jsx(Ai,{onClick:Ne(s,g,j),shortcut:v.duplicate,children:To("Duplicate")}),i&&!h&&p.jsxs(p.Fragment,{children:[p.jsx(Ai,{onClick:Ne(s,f),shortcut:v.insertBefore,children:To("Add before")}),p.jsx(Ai,{onClick:Ne(s,m),shortcut:v.insertAfter,children:To("Add after")})]})]}),e&&!h&&p.jsxs(Ri,{children:[p.jsx(db,{clientIds:t,onCopy:k,label:To("Copy styles")}),p.jsx(Ai,{onClick:x,children:To("Paste styles")})]}),p.jsx(rb.Slot,{fillProps:{onClose:s,count:r,firstBlockClientId:a},clientIds:t}),"function"==typeof o?o({onClose:s}):n.Children.map(e=>n.cloneElement(e,{onClose:s})),u&&p.jsx(Ri,{children:p.jsx(Ai,{onClick:Ne(s,b,S),shortcut:v.remove,children:To("Delete")})})]})})})}function pb({clientIds:e,...t}){return p.jsx(Vi,{children:p.jsx(Fr,{children:n=>p.jsx(ub,{clientIds:e,toggleProps:n,...t})})})}function gb({clientIds:e}){const t=1===e.length?e[0]:void 0,n=C(e=>!!t&&"html"===e(zo).getBlockMode(t),[t]),{toggleBlockMode:o}=_(zo);return n?p.jsx(Vi,{children:p.jsx(ir,{onClick:()=>{o(t)},children:To("Edit visually")})}):null}const mb=n.createContext("");function hb(e){return Array.from(e.querySelectorAll("[data-toolbar-item]:not([disabled])"))}function fb(e){return e.contains(e.ownerDocument.activeElement)}function bb({toolbarRef:e,focusOnMount:t,isAccessibleToolbar:o,defaultIndex:l,onIndexChange:s,shouldUseKeyboardFocusShortcut:i,focusEditorOnEscape:r}){const[a]=n.useState(t),[c]=n.useState(l),d=n.useCallback(()=>{!function(e){const[t]=bt.tabbable.find(e);t&&t.focus({preventScroll:!0})}(e.current)},[e]);dn("core/block-editor/focus-toolbar",()=>{i&&d()}),n.useEffect(()=>{a&&d()},[o,a,d]),n.useEffect(()=>{const t=e.current;let n=0;return a||fb(t)||(n=window.requestAnimationFrame(()=>{const e=hb(t),n=c||0;e[n]&&fb(t)&&e[n].focus({preventScroll:!0})})),()=>{if(window.cancelAnimationFrame(n),!s||!t)return;const e=hb(t).findIndex(e=>0===e.tabIndex);s(e)}},[c,a,s,e]);const{getLastFocus:u}=td(C(zo));n.useEffect(()=>{const t=e.current;if(r){const e=e=>{const t=u();27===e.keyCode&&t?.current&&(e.preventDefault(),t.current.focus())};return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}},[r,u,e])}function kb({children:e,focusOnMount:t,focusEditorOnEscape:o=!1,shouldUseKeyboardFocusShortcut:l=!0,__experimentalInitialIndex:s,__experimentalOnIndexChange:i,orientation:r="horizontal",...a}){const c=n.useRef(),d=function(e){const[t,o]=n.useState(!0),l=n.useCallback(()=>{const t=!bt.tabbable.find(e.current).some(e=>!("toolbarItem"in e.dataset));t||He("Using custom components as toolbar controls",{since:"5.6",alternative:"ToolbarItem, ToolbarButton or ToolbarDropdownMenu components",link:"https://developer.wordpress.org/block-editor/components/toolbar-button/#inside-blockcontrols"}),o(t)},[e]);return n.useLayoutEffect(()=>{const t=new window.MutationObserver(l);return t.observe(e.current,{childList:!0,subtree:!0}),()=>t.disconnect()},[l,t,e]),t}(c);return bb({toolbarRef:c,focusOnMount:t,defaultIndex:s,onIndexChange:i,isAccessibleToolbar:d,shouldUseKeyboardFocusShortcut:l,focusEditorOnEscape:o}),d?p.jsx(Ur,{label:a["aria-label"],ref:c,orientation:r,...a,children:e}):p.jsx(Gr,{orientation:r,role:"toolbar",ref:c,...a,children:e})}function xb(){const{isToolbarEnabled:e,isBlockDisabled:t}=C(e=>{const{getBlockEditingMode:t,getBlockName:n,getBlockSelectionStart:o}=e(zo),l=o(),s=l&&x(n(l));return{isToolbarEnabled:s&&v(s,"__experimentalToolbar",!0),isBlockDisabled:"disabled"===t(l)}},[]);return!(!e||t)}function vb({hideDragHandle:e,focusOnMount:t,__experimentalInitialIndex:o,__experimentalOnIndexChange:l,variant:s="unstyled"}){const{blockClientId:i,blockClientIds:r,isDefaultEditingMode:a,blockType:c,toolbarKey:d,shouldShowVisualToolbar:u,showParentSelector:g,isUsingBindings:m,hasParentPattern:h,hasContentOnlyLocking:f}=C(e=>{const{getBlockName:t,getBlockMode:n,getBlockParents:o,getSelectedBlockClientIds:l,isBlockValid:s,getBlockEditingMode:i,getBlockAttributes:r,getBlockParentsByBlockName:a,getTemplateLock:c,getParentSectionBlock:d}=td(e(zo)),u=l(),p=u[0],g=o(p),m=d(p),h=null!=m?m:g[g.length-1],f=t(h),b=x(f),k="default"===i(p),y=t(p),_=u.every(e=>s(e)),C=u.every(e=>"visual"===n(e)),j=u.every(e=>!!r(e)?.metadata?.bindings),S=u.every(e=>a(e,"core/block",!0).length>0),w=u.some(e=>"contentOnly"===c(e));return{blockClientId:p,blockClientIds:u,isDefaultEditingMode:k,blockType:p&&x(y),shouldShowVisualToolbar:_&&C,toolbarKey:`${p}${h}`,showParentSelector:b&&"disabled"!==i(h)&&v(b,"__experimentalParentSelector",!0)&&1===u.length,isUsingBindings:j,hasParentPattern:S,hasContentOnlyLocking:w}},[]),b=n.useRef(null),k=n.useRef(),y=Rl({ref:k}),_=!xe("medium","<");if(!xb())return null;const j=r.length>1,S=Z(c)||ge(c),w=Ti("block-editor-block-contextual-toolbar",{"has-parent":g}),I=Ti("block-editor-block-toolbar",{"is-synced":S,"is-connected":m});return p.jsx(kb,{focusEditorOnEscape:!0,className:w,"aria-label":To("Block tools"),variant:"toolbar"===s?void 0:s,focusOnMount:t,__experimentalInitialIndex:o,__experimentalOnIndexChange:l,children:p.jsxs("div",{ref:b,className:I,children:[!j&&_&&p.jsx(rf,{}),(u||j)&&!h&&p.jsx("div",{ref:k,...y,children:p.jsxs(Vi,{className:"block-editor-block-toolbar__block-controls",children:[p.jsx(If,{clientIds:r}),!j&&a&&p.jsx(Jf,{clientId:i}),p.jsx(sf,{clientIds:r,hideDragHandle:e})]})}),!f&&u&&j&&p.jsx(Gf,{}),u&&p.jsxs(p.Fragment,{children:[p.jsx(Pf.Slot,{group:"parent",className:"block-editor-block-toolbar__slot"}),p.jsx(Pf.Slot,{group:"block",className:"block-editor-block-toolbar__slot"}),p.jsx(Pf.Slot,{className:"block-editor-block-toolbar__slot"}),p.jsx(Pf.Slot,{group:"inline",className:"block-editor-block-toolbar__slot"}),p.jsx(Pf.Slot,{group:"other",className:"block-editor-block-toolbar__slot"}),p.jsx(mb.Provider,{value:c?.name,children:p.jsx(Lf.Slot,{})})]}),p.jsx(gb,{clientIds:r}),p.jsx(pb,{clientIds:r})]})},d)}function yb({hideDragHandle:e,variant:t}){return p.jsx(vb,{hideDragHandle:e,variant:t,focusOnMount:void 0,__experimentalInitialIndex:void 0,__experimentalOnIndexChange:void 0})}function _b({clientId:e,isTyping:t,__unstableContentRef:o}){const{capturingClientId:l,isInsertionPointVisible:s,lastClientId:i}=Zh(e),r=n.useRef();n.useEffect(()=>{r.current=void 0},[e]);const{stopTyping:a}=_(zo),c=n.useRef(!1);dn("core/block-editor/focus-toolbar",()=>{c.current=!0,a(!0)}),n.useEffect(()=>{c.current=!1});const d=l||e,u=qh({contentElement:o?.current,clientId:d});return!t&&p.jsx(Rm,{clientId:d,bottomClientId:i,className:Ti("block-editor-block-list__block-popover",{"is-insertion-point-visible":s}),resize:!1,...u,children:p.jsx(vb,{focusOnMount:c.current,__experimentalInitialIndex:r.current,__experimentalOnIndexChange:e=>{r.current=e},variant:"toolbar"})})}const Cb=[];function jb(e){return p.jsx(Vi,{children:p.jsx(ir,{...e})})}function Sb({clientId:e,as:t=jb}){const{categories:o,patterns:l,patternName:s}=C(t=>{const{getBlockAttributes:n,getBlockRootClientId:o,__experimentalGetAllowedPatterns:l}=t(zo),s=n(e),i=s?.metadata?.categories||Cb,r=s?.metadata?.patternName,a=o(e);return{categories:i,patterns:i.length>0?l(a):Cb,patternName:r}},[e]),{replaceBlocks:i}=_(zo),r=n.useMemo(()=>0!==o.length&&l&&0!==l.length?l.filter(e=>{const t="core"===e.source||e.source?.startsWith("pattern-directory")&&"pattern-directory/theme"!==e.source;return 1===e.blocks.length&&!t&&e.categories?.some(e=>o.includes(e))&&("unsynced"===e.syncStatus||!e.id)}):Cb,[o,l]);if(r.length<2)return null;const a=t;return p.jsx(a,{label:To("Shuffle"),icon:un,className:"block-editor-block-toolbar-shuffle",onClick:()=>{const t=function(){const e=r.length,t=r.findIndex(({name:e})=>e===s);return r[t+1<e?t+1:0]}();t.blocks[0].attributes={...t.blocks[0].attributes,metadata:{...t.blocks[0].attributes.metadata,categories:o}},i(e,t.blocks)}})}function wb({clientId:e,__unstableContentRef:t}){const n=C(t=>{const{getBlock:n,getNextBlockClientId:o,getPreviousBlockClientId:l,canRemoveBlock:s,canMoveBlock:i,getSettings:r}=t(zo),{__experimentalSetIsInserterOpened:a}=r(),{getBlockType:c}=t(M),{name:d}=n(e),u=c(d),p="core/template-part"===u?.name;let g=!1;const m=o();if(m){const{name:e}=n(m),t=c(e);g="core/template-part"===t?.name}let h=!1;const f=l();if(f){const{name:e}=n(f),t=c(e);h="core/template-part"===t?.name}return{isBlockTemplatePart:p,isNextBlockTemplatePart:g,isPrevBlockTemplatePart:h,canRemove:s(e),canMove:i(e),setIsInserterOpened:a}},[e]),{isBlockTemplatePart:o,isNextBlockTemplatePart:l,isPrevBlockTemplatePart:s,canRemove:i,canMove:r,setIsInserterOpened:a}=n,{removeBlock:c,__unstableSetEditorMode:d,resetZoomLevel:u}=td(_(zo)),g=r&&!o;return p.jsxs(kb,{className:"zoom-out-toolbar","aria-label":To("Block tools"),variant:"unstyled",orientation:"vertical",children:[g&&p.jsx(Xh,{clientIds:[e],children:e=>p.jsx(zi,{icon:Vt,className:"block-selection-button_drag-handle zoom-out-toolbar-button",label:To("Drag"),iconSize:24,size:"compact",tabIndex:"-1",...e})}),!o&&p.jsx(sf,{clientIds:[e],hideDragHandle:!0,isBlockMoverUpButtonDisabled:s,isBlockMoverDownButtonDisabled:l,iconSize:24,size:"compact"}),r&&i&&p.jsx(Sb,{clientId:e,as:ir}),!o&&p.jsx(ir,{className:"zoom-out-toolbar-button",icon:pn,label:To("Edit"),onClick:()=>{"function"==typeof a&&a(!1),d("edit"),u(),t.current?.focus()}}),i&&!o&&p.jsx(ir,{className:"zoom-out-toolbar-button",icon:gn,label:To("Delete"),onClick:()=>{c(e),t.current?.focus()}})]})}function Ib({clientId:e,__unstableContentRef:t}){const{capturingClientId:n,isInsertionPointVisible:o,lastClientId:l}=Zh(e),s={...qh({contentElement:t?.current,clientId:e}),placement:"left-start",flip:!1,shift:!0};return p.jsx(Rm,{clientId:n||e,bottomClientId:l,className:Ti("zoom-out-toolbar-popover",{"is-insertion-point-visible":o}),resize:!1,...s,children:p.jsx(wb,{__unstableContentRef:t,clientId:e})})}function Bb({onClick:e}){return p.jsx(zi,{variant:"primary",icon:Zt,size:"compact",className:Ti("block-editor-button-pattern-inserter__button","block-editor-block-tools__zoom-out-mode-inserter-button"),onClick:e,label:Mo("Add pattern","Generic label for pattern inserter button")})}function Nb(){const[e,t]=n.useState(!1),{hasSelection:o,insertionPoint:l,blockOrder:s,blockInsertionPointVisible:i,setInserterIsOpened:r,sectionRootClientId:a,selectedBlockClientId:c}=C(e=>{const{getSettings:t,getInsertionPoint:n,getBlockOrder:o,getSelectionStart:l,getSelectedBlockClientId:s,getSectionRootClientId:i,isBlockInsertionPointVisible:r}=td(e(zo)),a=i();return{hasSelection:!!l().clientId,insertionPoint:n(),blockOrder:o(a),blockInsertionPointVisible:r(),sectionRootClientId:a,setInserterIsOpened:t().__experimentalSetIsInserterOpened,selectedBlockClientId:s()}},[]),{showInsertionPoint:d}=td(_(zo));return n.useEffect(()=>{const e=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(e)}},[]),e&&o?[void 0,...s].map((e,t)=>{const n=i&&l?.index===t,o=e,u=s[t],g=c===o||c===u;return p.jsx(Tm,{previousClientId:o,nextClientId:u,children:!n&&g&&p.jsx(Bb,{onClick:()=>{r({rootClientId:a,insertionIndex:t,tab:"patterns",category:"all"}),d(a,t,{operation:"insert"})}})},t)}):null}function Eb(e){const{getSelectedBlockClientId:t,getFirstMultiSelectedBlockClientId:n,getSettings:o,__unstableGetEditorMode:l,isTyping:s,isDragging:i}=td(e(zo)),r=t()||n(),a=l();return{clientId:r,hasFixedToolbar:o().hasFixedToolbar,isTyping:s(),isZoomOutMode:"zoom-out"===a,isDragging:i()}}function Db({children:e,__unstableContentRef:t,...o}){const{clientId:l,hasFixedToolbar:s,isTyping:i,isZoomOutMode:r,isDragging:a}=C(Eb,[]),c=Tt(),{getBlocksByClientId:d,getSelectedBlockClientIds:u,getBlockRootClientId:g,isGroupable:m}=C(zo),{getGroupingBlockName:h}=C(M),{showEmptyBlockSideInserter:f,showBlockToolbarPopover:b,showZoomOutToolbar:k}=C(e=>{const{getSelectedBlockClientId:t,getFirstMultiSelectedBlockClientId:n,getBlock:o,getBlockMode:l,getSettings:s,__unstableGetEditorMode:i,isTyping:r}=e(zo),a=t()||n(),c=o(a),d=i(),u=!!a&&!!c,p=u&&Q(c)&&"html"!==l(a),g=a&&!r()&&"edit"===d&&p,m="zoom-out"===d&&"full"===c?.attributes?.align&&!g;return{showEmptyBlockSideInserter:g,showBlockToolbarPopover:!m&&!s().hasFixedToolbar&&!g&&u&&!p,showZoomOutToolbar:m}},[]),{clearSelectedBlock:x,duplicateBlocks:v,removeBlocks:y,replaceBlocks:j,insertAfterBlock:S,insertBeforeBlock:w,selectBlock:I,moveBlocksUp:B,moveBlocksDown:N,expandBlock:E}=td(_(zo)),D=n.useRef();const P=Dm(t),T=Dm(t);return p.jsx("div",{...o,onKeyDown:function(e){if(!e.defaultPrevented)if(c("core/block-editor/move-up",e)){const t=u();if(t.length){e.preventDefault();const n=g(t[0]);B(t,n)}}else if(c("core/block-editor/move-down",e)){const t=u();if(t.length){e.preventDefault();const n=g(t[0]);N(t,n)}}else if(c("core/block-editor/duplicate",e)){const t=u();t.length&&(e.preventDefault(),v(t))}else if(c("core/block-editor/remove",e)){const t=u();t.length&&(e.preventDefault(),y(t))}else if(c("core/block-editor/insert-after",e)){const t=u();t.length&&(e.preventDefault(),S(t[t.length-1]))}else if(c("core/block-editor/insert-before",e)){const t=u();t.length&&(e.preventDefault(),w(t[0]))}else if(c("core/block-editor/unselect",e)){if(e.target.closest("[role=toolbar]"))return;const n=u();n.length>1?(e.preventDefault(),I(n[0])):1===n.length&&e.target===D?.current&&(e.preventDefault(),x(),al(t.current)?.focus())}else if(c("core/block-editor/collapse-list-view",e)){if(kt(e.target)||kt(e.target?.contentWindow?.document?.activeElement))return;e.preventDefault(),E(l)}else if(c("core/block-editor/group",e)){const t=u();if(t.length>1&&m(t)){e.preventDefault();const n=d(t),o=h(),l=ee(n,o);j(t,l),Ft(To("Selected blocks are grouped."))}}},children:p.jsxs(Vm.Provider,{value:n.useRef(!1),children:[!i&&!r&&p.jsx(Hm,{__unstableContentRef:t}),f&&p.jsx(Yh,{__unstableContentRef:t,clientId:l}),b&&p.jsx(_b,{__unstableContentRef:t,clientId:l,isTyping:i}),k&&p.jsx(Ib,{__unstableContentRef:t,clientId:l}),!r&&!s&&p.jsx(Lr.Slot,{name:"block-toolbar",ref:P}),e,p.jsx(Lr.Slot,{name:"__unstable-block-tools-after",ref:T}),r&&!a&&p.jsx(Nb,{__unstableContentRef:t})]})})}const Pb=()=>{const{replaceBlocks:e,multiSelect:t}=_(zo),{blocks:n,clientIds:o,canRemove:l,possibleBlockTransformations:s,invalidSelection:i}=C(e=>{const{getBlockRootClientId:t,getBlockTransformItems:n,getSelectedBlockClientIds:o,getBlocksByClientId:l,canRemoveBlocks:s}=e(zo),i=o(),r=l(i);if(r.filter(e=>!e).length>0)return{invalidSelection:!0};return{blocks:r,clientIds:i,possibleBlockTransformations:n(r,t(i[0])),canRemove:s(i),invalidSelection:!1}},[]);if(i)return{isLoading:!1,commands:[]};const r=1===n.length&&ge(n[0]);function a(l){const s=ee(n,l);var i;e(o,s),(i=s).length>1&&t(i[0].clientId,i[i.length-1].clientId)}const c=!!s.length&&l&&!r;if(!o||o.length<1||!c)return{isLoading:!1,commands:[]};return{isLoading:!1,commands:s.map(e=>{const{name:t,title:n,icon:o}=e;return{name:"core/block-editor/transform-to-"+t.replace("/","-"),label:Ro(To("Transform to %s"),n),icon:p.jsx(Vd,{icon:o}),callback:({close:e})=>{a(t),e()}}})}},Tb=()=>{const{clientIds:e,isUngroupable:t,isGroupable:n}=C(e=>{const{getSelectedBlockClientIds:t,isUngroupable:n,isGroupable:o}=e(zo);return{clientIds:t(),isUngroupable:n(),isGroupable:o()}},[]),{canInsertBlockType:o,getBlockRootClientId:l,getBlocksByClientId:s,canRemoveBlocks:i}=C(zo),{getDefaultBlockName:r,getGroupingBlockName:a}=C(M),c=s(e),{removeBlocks:d,replaceBlocks:u,duplicateBlocks:p,insertAfterBlock:g,insertBeforeBlock:m}=_(zo),h=()=>{if(!c.length)return;const t=a(),n=ee(c,t);n&&u(e,n)},f=()=>{if(!c.length)return;const t=c[0].innerBlocks;t.length&&u(e,t)};if(!e||e.length<1)return{isLoading:!1,commands:[]};const b=l(e[0]),k=o(r(),b),x=c.every(e=>!!e&&v(e.name,"multiple",!0)&&o(e.name,b)),y=i(e),j=[];return x&&j.push({name:"duplicate",label:To("Duplicate"),callback:()=>p(e,!0),icon:tn}),k&&j.push({name:"add-before",label:To("Add before"),callback:()=>{const t=Array.isArray(e)?e[0]:t;m(t)},icon:Zt},{name:"add-after",label:To("Add after"),callback:()=>{const t=Array.isArray(e)?e[e.length-1]:t;g(t)},icon:Zt}),n&&j.push({name:"Group",label:To("Group"),callback:h,icon:nn}),t&&j.push({name:"ungroup",label:To("Ungroup"),callback:f,icon:hn}),y&&j.push({name:"remove",label:To("Delete"),callback:()=>d(e,!0),icon:gn}),{isLoading:!1,commands:j.map(e=>({...e,name:"core/block-editor/action-"+e.name,callback:({close:t})=>{e.callback(),t()}}))}},Lb=()=>{mn({name:"core/block-editor/blockTransforms",hook:Pb}),mn({name:"core/block-editor/blockQuickActions",hook:Tb,context:"block-selection-edit"})},Mb={ignoredSelectors:[/\.editor-styles-wrapper/gi]};function Rb({shouldIframe:e=!0,height:t="300px",children:o=p.jsx(bh,{}),styles:l,contentRef:s,iframeProps:i}){Lb();const r=ch(),a=Fp(),c=n.useRef(),d=W([s,a,c]);return e?p.jsx(Db,{__unstableContentRef:c,style:{height:t,display:"flex"},children:p.jsxs(ig,{...i,ref:r,contentRef:d,style:{...i?.style},name:"editor-canvas",children:[p.jsx(ag,{styles:l}),o]})}):p.jsxs(Db,{__unstableContentRef:c,style:{height:t,display:"flex"},children:[p.jsx(ag,{styles:l,scope:":where(.editor-styles-wrapper)",transformOptions:Mb}),p.jsx(tg,{ref:d,className:"editor-styles-wrapper",tabIndex:-1,style:{height:"100%",width:"100%"},children:o})]})}const Ab=()=>p.jsx(Ot,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:p.jsx(Ht,{d:"M7.434 5l3.18 9.16H8.538l-.692-2.184H4.628l-.705 2.184H2L5.18 5h2.254zm-1.13 1.904h-.115l-1.148 3.593H7.44L6.304 6.904zM14.348 7.006c1.853 0 2.9.876 2.9 2.374v4.78h-1.79v-.914h-.114c-.362.64-1.123 1.022-2.031 1.022-1.346 0-2.292-.826-2.292-2.108 0-1.27.972-2.006 2.71-2.107l1.696-.102V9.38c0-.584-.42-.914-1.18-.914-.667 0-1.112.228-1.264.647h-1.701c.12-1.295 1.307-2.107 3.066-2.107zm1.079 4.1l-1.416.09c-.793.056-1.18.342-1.18.844 0 .52.45.837 1.091.837.857 0 1.505-.545 1.505-1.256v-.515z"})}),zb=({style:e,className:t})=>p.jsx("div",{className:"block-library-colors-selector__icon-container",children:p.jsx("div",{className:`${t} block-library-colors-selector__state-selection`,style:e,children:p.jsx(Ab,{})})}),Ob=({TextColor:e,BackgroundColor:t})=>({onToggle:n,isOpen:o})=>p.jsx(Vi,{children:p.jsx(ir,{className:"components-toolbar__control block-library-colors-selector__toggle",label:To("Open Colors Selector"),onClick:n,onKeyDown:e=>{o||e.keyCode!==Mu||(e.preventDefault(),n())},icon:p.jsx(t,{children:p.jsx(e,{children:p.jsx(zb,{})})})})}),Fb=n.createContext({}),Vb=()=>n.useContext(Fb);function $b({children:e,...t}){const o=n.useRef();return n.useEffect(()=>{o.current&&(o.current.textContent=o.current.textContent)},[e]),p.jsx("div",{hidden:!0,...t,ref:o,children:e})}const Hb=n.forwardRef(({nestingLevel:e,blockCount:t,clientId:o,...l},s)=>{const{insertedBlock:i,setInsertedBlock:r}=Vb(),a=me(Hb),c=C(e=>{const{getTemplateLock:t,__unstableGetEditorMode:n}=e(zo);return!!t(o)||"zoom-out"===n()},[o]),d=Ku({clientId:o,context:"list-view"}),u=Ku({clientId:i?.clientId,context:"list-view"});if(n.useEffect(()=>{u?.length&&Ft(Ro(To("%s block inserted"),u),"assertive")},[u]),c)return null;const g=`list-view-appender__${a}`,m=Ro(To("Append to %1$s block at position %2$d, Level %3$d"),d,t+1,e);return p.jsxs("div",{className:"list-view-appender",children:[p.jsx(Cm,{ref:s,rootClientId:o,position:"bottom right",isAppender:!0,selectBlockOnInsert:!1,shouldDirectInsert:!1,__experimentalIsQuick:!0,...l,toggleProps:{"aria-describedby":g},onSelectOrClose:e=>{e?.clientId&&r(e)}}),p.jsx($b,{id:g,children:m})]})}),Ub=f(Wr),Gb=n.forwardRef(({isDragged:e,isSelected:t,position:n,level:o,rowCount:l,children:s,className:i,path:r,...a},c)=>{const d=hp({clientId:a["data-block"],triggerAnimationOnChange:r}),u=W([c,d]);return p.jsx(Ub,{ref:u,className:Ti("block-editor-list-view-leaf",i),level:o,positionInSet:n,setSize:l,isExpanded:void 0,...a,children:s})});function Wb({onClick:e}){return p.jsx("span",{className:"block-editor-list-view__expander",onClick:t=>e(t,{forceToggle:!0}),"aria-hidden":"true","data-testid":"list-view-expander",children:p.jsx(Ze,{icon:Lo()?fn:mt})})}function Kb(e){if("core/image"===e.name)return e.attributes?.url?{url:e.attributes.url,alt:e.attributes.alt,clientId:e.clientId}:void 0}function qb(e,t){const n=Kb(e);return n?[n]:t?[]:function(e){if("core/gallery"!==e.name||!e.innerBlocks)return[];const t=[];for(const n of e.innerBlocks){const e=Kb(n);if(e&&t.push(e),t.length>=3)return t}return t}(e)}const Zb=n.forwardRef(function({className:e,block:{clientId:t},onClick:o,onContextMenu:l,onMouseDown:s,onToggleExpanded:i,tabIndex:r,onFocus:a,onDragStart:c,onDragEnd:d,draggable:u,isExpanded:g,ariaDescribedBy:m},h){const f=Hh(t),b=Ku({clientId:t,context:"list-view"}),{isLocked:k}=Kf(t),{isContentOnly:x}=C(e=>({isContentOnly:"contentOnly"===e(zo).getBlockEditingMode(t)}),[t]),v=k&&!x,y="sticky"===f?.positionType,_=function({clientId:e,isExpanded:t}){const{block:o}=C(t=>({block:t(zo).getBlock(e)}),[e]);return n.useMemo(()=>qb(o,t),[o,t])}({clientId:t,isExpanded:g});return p.jsxs("a",{className:Ti("block-editor-list-view-block-select-button",e),onClick:o,onContextMenu:l,onKeyDown:function(e){e.keyCode!==Tu&&32!==e.keyCode||o(e)},onMouseDown:s,ref:h,tabIndex:r,onFocus:a,onDragStart:e=>{e.dataTransfer.clearData(),c?.(e)},onDragEnd:d,draggable:u,href:`#block-${t}`,"aria-describedby":m,"aria-expanded":g,children:[p.jsx(Wb,{onClick:i}),p.jsx(Vd,{icon:f?.icon,showColors:!0,context:"list-view"}),p.jsxs(xr,{alignment:"center",className:"block-editor-list-view-block-select-button__label-wrapper",justify:"flex-start",spacing:1,children:[p.jsx("span",{className:"block-editor-list-view-block-select-button__title",children:p.jsx(br,{ellipsizeMode:"auto",children:b})}),f?.anchor&&p.jsx("span",{className:"block-editor-list-view-block-select-button__anchor-wrapper",children:p.jsx(br,{className:"block-editor-list-view-block-select-button__anchor",ellipsizeMode:"auto",children:f.anchor})}),y&&p.jsx("span",{className:"block-editor-list-view-block-select-button__sticky",children:p.jsx(Ze,{icon:bn})}),_.length?p.jsx("span",{className:"block-editor-list-view-block-select-button__images","aria-hidden":!0,children:_.map((e,t)=>p.jsx("span",{className:"block-editor-list-view-block-select-button__image",style:{backgroundImage:`url(${e.url})`,zIndex:_.length-t}},e.clientId))}):null,v&&p.jsx("span",{className:"block-editor-list-view-block-select-button__lock",children:p.jsx(Ze,{icon:kn})})]})]})}),Yb=n.forwardRef(({onClick:e,onToggleExpanded:t,block:n,isSelected:o,position:l,siblingBlockCount:s,level:i,isExpanded:r,selectedClientIds:a,...c},d)=>{const{clientId:u}=n,{AdditionalBlockContent:g,insertedBlock:m,setInsertedBlock:h}=Vb(),f=a.includes(u)?a:[u];return p.jsxs(p.Fragment,{children:[g&&p.jsx(g,{block:n,insertedBlock:m,setInsertedBlock:h}),p.jsx(Xh,{appendToOwnerDocument:!0,clientIds:f,cloneClassname:"block-editor-list-view-draggable-chip",children:({draggable:a,onDragStart:u,onDragEnd:g})=>p.jsx(Zb,{ref:d,className:"block-editor-list-view-block-contents",block:n,onClick:e,onToggleExpanded:t,isSelected:o,position:l,siblingBlockCount:s,level:i,draggable:a,onDragStart:u,onDragEnd:g,isExpanded:r,...c})})]})});const Xb=n.memo(function e({block:{clientId:t},displacement:o,isAfterDraggedBlocks:l,isDragged:s,isNesting:i,isSelected:r,isBranchSelected:a,selectBlock:c,position:d,level:u,rowCount:g,siblingBlockCount:m,showBlockMovers:h,path:f,isExpanded:b,selectedClientIds:k,isSyncedBranch:x}){const y=n.useRef(null),j=n.useRef(null),S=n.useRef(null),[w,I]=n.useState(!1),[B,N]=n.useState(),{isLocked:E,canEdit:D,canMove:P}=Kf(t),T=r&&k[0]===t,L=r&&k[k.length-1]===t,{toggleBlockHighlight:R,duplicateBlocks:A,multiSelect:z,replaceBlocks:O,removeBlocks:F,insertAfterBlock:V,insertBeforeBlock:$,setOpenedBlockSettingsMenu:H}=td(_(zo)),{canInsertBlockType:U,getSelectedBlockClientIds:G,getPreviousBlockClientId:W,getBlockRootClientId:K,getBlockOrder:q,getBlockParents:Z,getBlocksByClientId:Y,canRemoveBlocks:X,isGroupable:J}=C(zo),{getGroupingBlockName:Q}=C(M),te=Hh(t),{block:ne,blockName:oe,allowRightClickOverrides:le}=C(e=>{const{getBlock:n,getBlockName:o,getSettings:l}=e(zo);return{block:n(t),blockName:o(t),allowRightClickOverrides:l().allowRightClickOverrides}},[t]),se=v(oe,"__experimentalToolbar",!0),ie=`list-view-block-select-button__description-${me(e)}`,{expand:re,collapse:ae,collapseAll:ce,BlockSettingsMenu:de,listViewInstanceId:ue,expandedState:pe,setInsertedBlock:ge,treeGridElementRef:he,rootClientId:fe}=Vb(),be=Tt();function ke(){const e=G(),n=e.includes(t),o=n?e[0]:t,l=K(o);return{blocksToUpdate:n?e:[t],firstBlockClientId:o,firstBlockRootClientId:l,selectedBlockClientIds:e}}const xe=n.useCallback(()=>{I(!0),R(t,!0)},[t,I,R]),ve=n.useCallback(()=>{I(!1),R(t,!1)},[t,I,R]),ye=n.useCallback(e=>{c(e,t),e.preventDefault()},[t,c]),_e=n.useCallback((e,t)=>{t&&c(void 0,e,null,null),Ql(e,he?.current)},[c,he]),Ce=n.useCallback(e=>{e.preventDefault(),e.stopPropagation(),!0===b?ae(t):!1===b&&re(t)},[t,re,ae,b]),je=n.useCallback(e=>{se&&le&&(S.current?.click(),N(new window.DOMRect(e.clientX,e.clientY,0,0)),e.preventDefault())},[le,S,se]),Se=n.useCallback(e=>{le&&2===e.button&&e.preventDefault()},[le]),we=n.useMemo(()=>{const{ownerDocument:e}=j?.current||{};if(B&&e)return{ownerDocument:e,getBoundingClientRect:()=>B}},[B]),Ie=n.useCallback(()=>{N(void 0)},[N]);if(function({isSelected:e,selectedClientIds:t,rowItemRef:o}){const l=1===t.length;n.useLayoutEffect(()=>{if(!e||!l||!o.current)return;const t=ft(o.current),{ownerDocument:n}=o.current;if(t===n.body||t===n.documentElement||!t)return;const s=o.current.getBoundingClientRect(),i=t.getBoundingClientRect();(s.top<i.top||s.bottom>i.bottom)&&o.current.scrollIntoView()},[e,l,o])}({isSelected:r,rowItemRef:j,selectedClientIds:k}),!ne)return null;const Be=es(d,m,u),Ne=ts(te,E),Ee=h&&m>0,De=Ti("block-editor-list-view-block__mover-cell",{"is-visible":w||r}),Pe=Ti("block-editor-list-view-block__menu-cell",{"is-visible":w||T});let Te;Ee?Te=2:se||(Te=3);const Le=Ti({"is-selected":r,"is-first-selected":T,"is-last-selected":L,"is-branch-selected":a,"is-synced-branch":x,"is-dragging":s,"has-single-cell":!se,"is-synced":te?.isSynced,"is-draggable":P,"is-displacement-normal":"normal"===o,"is-displacement-up":"up"===o,"is-displacement-down":"down"===o,"is-after-dragged-blocks":l,"is-nesting":i}),Me=k.includes(t)?k:[t],Re=r&&1===k.length;return p.jsxs(Gb,{className:Le,isDragged:s,onKeyDown:async function(e){if(e.defaultPrevented)return;if(e.target.closest("[role=dialog]"))return;const t=[Pu,Ru].includes(e.keyCode);if(be("core/block-editor/unselect",e)&&k.length>0)e.stopPropagation(),e.preventDefault(),c(e,void 0);else if(t||be("core/block-editor/remove",e)){var n;const{blocksToUpdate:e,firstBlockClientId:t,firstBlockRootClientId:o,selectedBlockClientIds:l}=ke();if(!X(e))return;let s=null!==(n=W(t))&&void 0!==n?n:o;F(e,!1);const i=l.length>0&&0===G().length;s||(s=q()[0]),_e(s,i)}else if(be("core/block-editor/duplicate",e)){e.preventDefault();const{blocksToUpdate:t,firstBlockRootClientId:n}=ke();if(Y(t).every(e=>!!e&&v(e.name,"multiple",!0)&&U(e.name,n))){const e=await A(t,!1);e?.length&&_e(e[0],!1)}}else if(be("core/block-editor/insert-before",e)){e.preventDefault();const{blocksToUpdate:t}=ke();await $(t[0]);const n=G();H(void 0),_e(n[0],!1)}else if(be("core/block-editor/insert-after",e)){e.preventDefault();const{blocksToUpdate:t}=ke();await V(t.at(-1));const n=G();H(void 0),_e(n[0],!1)}else if(be("core/block-editor/select-all",e)){e.preventDefault();const{firstBlockRootClientId:t,selectedBlockClientIds:n}=ke(),o=q(t);if(!o.length)return;if(Yt(n,o)&&t&&t!==fe)return void _e(t,!0);z(o[0],o[o.length-1],null)}else if(be("core/block-editor/collapse-list-view",e)){e.preventDefault();const{firstBlockClientId:t}=ke(),n=Z(t,!1);ce(),re(n)}else if(be("core/block-editor/group",e)){const{blocksToUpdate:t}=ke();if(t.length>1&&J(t)){e.preventDefault();const n=Y(t),o=Q(),l=ee(n,o);O(t,l),Ft(To("Selected blocks are grouped."));const s=G();H(void 0),_e(s[0],!1)}}},onMouseEnter:xe,onMouseLeave:ve,onFocus:xe,onBlur:ve,level:u,position:d,rowCount:g,path:f,id:`list-view-${ue}-block-${t}`,"data-block":t,"data-expanded":D?b:void 0,ref:j,children:[p.jsx(Kr,{className:"block-editor-list-view-block__contents-cell",colSpan:Te,ref:y,"aria-selected":!!r,children:({ref:e,tabIndex:t,onFocus:n})=>p.jsxs("div",{className:"block-editor-list-view-block__contents-container",children:[p.jsx(Yb,{block:ne,onClick:ye,onContextMenu:je,onMouseDown:Se,onToggleExpanded:Ce,isSelected:r,position:d,siblingBlockCount:m,level:u,ref:e,tabIndex:Re?0:t,onFocus:n,isExpanded:D?b:void 0,selectedClientIds:k,ariaDescribedBy:ie}),p.jsx($b,{id:ie,children:[Be,Ne].filter(Boolean).join(" ")})]})}),Ee&&p.jsx(p.Fragment,{children:p.jsxs(Kr,{className:De,withoutGridItem:!0,children:[p.jsx(qr,{children:({ref:e,tabIndex:n,onFocus:o})=>p.jsx(of,{orientation:"vertical",clientIds:[t],ref:e,tabIndex:n,onFocus:o})}),p.jsx(qr,{children:({ref:e,tabIndex:n,onFocus:o})=>p.jsx(lf,{orientation:"vertical",clientIds:[t],ref:e,tabIndex:n,onFocus:o})})]})}),se&&de&&p.jsx(Kr,{className:Pe,"aria-selected":!!r,ref:S,children:({ref:e,tabIndex:t,onFocus:n})=>p.jsx(de,{clientIds:Me,block:ne,icon:$e,label:To("Options"),popoverProps:{anchor:we},toggleProps:{ref:e,className:"block-editor-list-view-block__menu",tabIndex:t,onClick:Ie,onFocus:n},disableOpenOnArrowDown:!0,expand:re,expandedState:pe,setInsertedBlock:ge,__experimentalSelectBlock:_e})})]})});function Jb(e,t,n,o){var l;const s=n?.includes(e.clientId);if(s)return 0;return(null!==(l=t[e.clientId])&&void 0!==l?l:o)?1+e.innerBlocks.reduce(Qb(t,n,o),0):1}const Qb=(e,t,n)=>(o,l)=>{var s;const i=t?.includes(l.clientId);if(i)return o;return(null!==(s=e[l.clientId])&&void 0!==s?s:n)&&l.innerBlocks.length>0?o+Jb(l,e,t,n):o+1},ek=()=>{};const tk=n.memo(function e(t){const{blocks:n,selectBlock:o=ek,showBlockMovers:l,selectedClientIds:s,level:i=1,path:r="",isBranchSelected:a=!1,listPosition:c=0,fixedListWindow:d,isExpanded:u,parentId:g,shouldShowInnerBlocks:m=!0,isSyncedBranch:h=!1,showAppender:f=!0}=t,b=Hh(g),k=h||!!b?.isSynced,x=C(e=>!g||e(zo).canEditBlock(g),[g]),{blockDropPosition:v,blockDropTargetIndex:y,firstDraggedBlockIndex:_,blockIndexes:j,expandedState:S,draggedClientIds:w}=Vb();if(!x)return null;const I=f&&1===i,B=n.filter(Boolean),N=B.length,E=I?N+1:N;let D=c;return p.jsxs(p.Fragment,{children:[B.map((t,n)=>{var c;const{clientId:g,innerBlocks:h}=t;n>0&&(D+=Jb(B[n-1],S,w,u));const f=!!w?.includes(g),{displacement:b,isAfterDraggedBlocks:x,isNesting:C}=ns({blockIndexes:j,blockDropTargetIndex:y,blockDropPosition:v,clientId:g,firstDraggedBlockIndex:_,isDragged:f}),{itemInView:I}=d,P=I(D),T=n+1,L=r.length>0?`${r}_${T}`:`${T}`,M=!!h?.length,R=M&&m?null!==(c=S[g])&&void 0!==c?c:u:void 0,A=os(g,s),z=a||A&&M,O=f||P||A&&g===s[0]||0===n||n===N-1;return p.jsxs(Ie,{value:!A,children:[O&&p.jsx(Xb,{block:t,selectBlock:o,isSelected:A,isBranchSelected:z,isDragged:f,level:i,position:T,rowCount:E,siblingBlockCount:N,showBlockMovers:l,path:L,isExpanded:!f&&R,listPosition:D,selectedClientIds:s,isSyncedBranch:k,displacement:b,isAfterDraggedBlocks:x,isNesting:C}),!O&&p.jsx("tr",{children:p.jsx("td",{className:"block-editor-list-view-placeholder"})}),M&&R&&!f&&p.jsx(e,{parentId:g,blocks:h,selectBlock:o,showBlockMovers:l,level:i+1,path:L,listPosition:D+1,fixedListWindow:d,isBranchSelected:z,selectedClientIds:s,isExpanded:u,isSyncedBranch:k})]},g)}),I&&p.jsx(Wr,{level:i,setSize:E,positionInSet:E,isExpanded:!0,children:p.jsx(Kr,{children:e=>p.jsx(Hb,{clientId:g,nestingLevel:i,blockCount:N,...e})})})]})});function nk({draggedBlockClientId:e,listViewRef:t,blockDropTarget:o}){const l=Hh(e),s=Ku({clientId:e,context:"list-view"}),{rootClientId:i,clientId:r,dropPosition:a}=o||{},[c,d]=n.useMemo(()=>{if(!t.current)return[];return[i?t.current.querySelector(`[data-block="${i}"]`):void 0,r?t.current.querySelector(`[data-block="${r}"]`):void 0]},[t,i,r]),u=d||c,g=Lo(),m=n.useCallback((e,t)=>{if(!u)return 0;let n=u.offsetWidth;const o=ft(u,"horizontal"),l=u.ownerDocument,s=o===l.body||o===l.documentElement;if(o&&!s){const l=o.getBoundingClientRect(),s=Lo()?l.right-e.right:e.left-l.left,i=o.clientWidth;if(i<n+s&&(n=i-s),!g&&e.left+t<l.left)return n-=l.left-e.left,n;if(g&&e.right-t>l.right)return n-=e.right-l.right,n}return n-t},[g,u]),h=n.useMemo(()=>{if(!u)return{};const e=u.getBoundingClientRect();return{width:m(e,0)}},[m,u]),f=n.useMemo(()=>{if(!u)return{};const e=ft(u),t=u.ownerDocument,n=e===t.body||e===t.documentElement;if(e&&!n){const t=e.getBoundingClientRect(),n=u.getBoundingClientRect(),o=g?t.right-n.right:n.left-t.left;if(!g&&t.left>n.left)return{transform:`translateX( ${o}px )`};if(g&&t.right<n.right)return{transform:`translateX( ${-1*o}px )`}}return{}},[g,u]),b=n.useMemo(()=>{if(!c)return 1;const e=parseInt(c.getAttribute("aria-level"),10);return e?e+1:1},[c]),k=n.useMemo(()=>!!u&&u.classList.contains("is-branch-selected"),[u]),x=n.useMemo(()=>{if(u&&("top"===a||"bottom"===a||"inside"===a))return{contextElement:u,getBoundingClientRect(){const e=u.getBoundingClientRect();let t=e.left,n=0;const o=ft(u,"horizontal"),l=u.ownerDocument,s=o===l.body||o===l.documentElement;if(o&&!s){const e=o.getBoundingClientRect(),n=g?o.offsetWidth-o.clientWidth:0;t<e.left+n&&(t=e.left+n)}n="top"===a?e.top-2*e.height:e.top;const i=m(e,0),r=e.height;return new window.DOMRect(t,n,i,r)}}},[u,a,m,g]);return u?p.jsx(Lr,{animate:!1,anchor:x,focusOnMount:!1,className:"block-editor-list-view-drop-indicator--preview",variant:"unstyled",flip:!1,resize:!0,children:p.jsx("div",{style:h,className:Ti("block-editor-list-view-drop-indicator__line",{"block-editor-list-view-drop-indicator__line--darker":k}),children:p.jsxs("div",{className:"block-editor-list-view-leaf","aria-level":b,children:[p.jsxs("div",{className:Ti("block-editor-list-view-block-select-button","block-editor-list-view-block-contents"),style:f,children:[p.jsx(Wb,{onClick:()=>{}}),p.jsx(Vd,{icon:l?.icon,showColors:!0,context:"list-view"}),p.jsx(xr,{alignment:"center",className:"block-editor-list-view-block-select-button__label-wrapper",justify:"flex-start",spacing:1,children:p.jsx("span",{className:"block-editor-list-view-block-select-button__title",children:p.jsx(br,{ellipsizeMode:"auto",children:s})})})]}),p.jsx("div",{className:"block-editor-list-view-block__menu-cell"})]})})}):null}const ok=24;function lk(e,t){const n=e[t+1];return n&&n.isDraggedBlock?lk(e,t+1):n}const sk=["top","bottom"];function ik(e,t,n=!1){let o,l,s,i,r;for(let u=0;u<e.length;u++){const n=e[u];if(n.isDraggedBlock)continue;const a=n.element.getBoundingClientRect(),[c,d]=El(t,a,sk),p=Dl(t,a);if(void 0===s||c<s||p){s=c;const t=e.indexOf(n),u=e[t-1];if("top"===d&&u&&u.rootClientId===n.rootClientId&&!u.isDraggedBlock?(l=u,o="bottom",i=u.element.getBoundingClientRect(),r=t-1):(l=n,o=d,i=a,r=t),p)break}}if(!l)return;const a=function(e,t){const n=[];let o=e;for(;o;)n.push({...o}),o=t.find(e=>e.clientId===o.rootClientId);return n}(l,e),c="bottom"===o;if(c&&l.canInsertDraggedBlocksAsChild&&(l.innerBlockCount>0&&l.isExpanded||function(e,t,n=1,o=!1){const l=o?t.right-n*ok:t.left+n*ok;return(o?e.x<l-ok:e.x>l+ok)&&e.y<t.bottom}(t,i,a.length,n))){const e=l.isExpanded?0:l.innerBlockCount||0;return{rootClientId:l.clientId,clientId:l.clientId,blockIndex:e,dropPosition:"inside"}}if(c&&l.rootClientId&&function(e,t,n=1,o=!1){const l=o?t.right-n*ok:t.left+n*ok;return o?e.x>l:e.x<l}(t,i,a.length,n)){const s=lk(e,r),c=l.nestingLevel,d=s?s.nestingLevel:1;if(c&&d){const u=function(e,t,n=1,o=!1){const l=o?t.right-n*ok:t.left+n*ok,s=o?l-e.x:e.x-l,i=Math.round(s/ok);return Math.abs(i)}(t,i,a.length,n),p=Math.max(Math.min(u,c-d),0);if(a[p]){let t=l.blockIndex;if(a[p].nestingLevel===s?.nestingLevel)t=s?.blockIndex;else for(let n=r;n>=0;n--){const o=e[n];if(o.rootClientId===a[p].rootClientId){t=o.blockIndex+1;break}}return{rootClientId:a[p].rootClientId,clientId:l.clientId,blockIndex:t,dropPosition:o}}}}if(!l.canInsertDraggedBlocksAsSibling)return;const d=c?1:0;return{rootClientId:l.rootClientId,clientId:l.clientId,blockIndex:l.blockIndex+d,dropPosition:o}}const rk={leading:!1,trailing:!0};function ak({selectBlock:e}){const t=oe(),{getBlockOrder:n,getBlockRootClientId:o,getBlocksByClientId:l,getPreviousBlockClientId:s,getSelectedBlockClientIds:i,getSettings:r,canInsertBlockType:a,canRemoveBlocks:c}=C(zo),{flashBlock:d,removeBlocks:u,replaceBlocks:p,insertBlocks:g}=_(zo),m=gl();return z(h=>{function f(t,n){n&&e(void 0,t,null,null),Ql(t,h)}function b(e){if(e.defaultPrevented)return;if(!h.contains(e.target.ownerDocument.activeElement))return;const b=e.target.ownerDocument.activeElement?.closest("[role=row]"),k=b?.dataset?.block;if(!k)return;const{blocksToUpdate:x,firstBlockClientId:v,firstBlockRootClientId:y,originallySelectedBlockClientIds:_}=function(e){const t=i(),n=t.includes(e),l=n?t[0]:e;return{blocksToUpdate:n?t:[e],firstBlockClientId:l,firstBlockRootClientId:o(l),originallySelectedBlockClientIds:t}}(k);if(0!==x.length){if(e.preventDefault(),"copy"===e.type||"cut"===e.type){1===x.length&&d(x[0]),m(e.type,x);const n=l(x);ml(e,n,t)}if("cut"===e.type){var C;if(!c(x))return;let e=null!==(C=s(v))&&void 0!==C?C:y;u(x,!1);const t=_.length>0&&0===i().length;e||(e=n()[0]),f(e,t)}else if("paste"===e.type){const{__experimentalCanUserUseUnfilteredHTML:t}=r(),n=ss(e);if(1===x.length){const[e]=x;if(n.every(t=>a(t.name,e)))return g(n,void 0,e),void f(n[0]?.clientId,!1)}p(x,n,n.length-1,-1),f(n[0]?.clientId,!1)}}}return h.ownerDocument.addEventListener("copy",b),h.ownerDocument.addEventListener("cut",b),h.ownerDocument.addEventListener("paste",b),()=>{h.ownerDocument.removeEventListener("copy",b),h.ownerDocument.removeEventListener("cut",b),h.ownerDocument.removeEventListener("paste",b)}},[])}const ck=(e,t)=>"clear"===t.type?{}:Array.isArray(t.clientIds)?{...e,...t.clientIds.reduce((e,n)=>({...e,[n]:"expand"===t.type}),{})}:e;const dk=n.forwardRef(function e({id:t,blocks:o,dropZoneElement:l,showBlockMovers:s=!1,isExpanded:i=!1,showAppender:r=!1,blockSettingsMenu:a=ub,rootClientId:c,description:d,onSelect:u,additionalBlockContent:g},m){o&&He("`blocks` property in `wp.blockEditor.__experimentalListView`",{since:"6.3",alternative:"`rootClientId` property"});const h=me(e),{clientIdsTree:f,draggedClientIds:b,selectedClientIds:k}=function({blocks:e,rootClientId:t}){return C(n=>{const{getDraggedBlockClientIds:o,getSelectedBlockClientIds:l,getEnabledClientIdsTree:s}=td(n(zo));return{selectedClientIds:l(),draggedClientIds:o(),clientIdsTree:null!=e?e:s(t)}},[e,t])}({blocks:o,rootClientId:c}),x=function(e){return n.useMemo(()=>{const t={};let n=0;const o=e=>{e.forEach(e=>{t[e.clientId]=n,n++,e.innerBlocks.length>0&&o(e.innerBlocks)})};return o(e),t},[e])}(f),{getBlock:v}=C(zo),{visibleBlockCount:y}=C(e=>{const{getGlobalBlockCount:t,getClientIdsOfDescendants:n}=e(zo),o=b?.length>0?n(b).length+1:0;return{visibleBlockCount:t()-o}},[b]),{updateBlockSelection:j}=function(){const{clearSelectedBlock:e,multiSelect:t,selectBlock:o}=_(zo),{getBlockName:l,getBlockParents:s,getBlockSelectionStart:i,getSelectedBlockClientIds:r,hasMultiSelection:a,hasSelectedBlock:c}=C(zo),{getBlockType:d}=C(M);return{updateBlockSelection:n.useCallback(async(n,u,p,g)=>{if(!n?.shiftKey&&27!==n?.keyCode)return void o(u,g);n.preventDefault();const m="keydown"===n.type&&27===n.keyCode,h="keydown"===n.type&&(n.keyCode===Lu||n.keyCode===Mu||36===n.keyCode||35===n.keyCode);if(!h&&!c()&&!a())return void o(u,null);const f=r(),b=[...s(u),u];if((m||h&&!f.some(e=>b.includes(e)))&&await e(),!m){let e=i(),n=u;h&&(c()||a()||(e=u),p&&(n=p));const o=s(e),l=s(n),{start:r,end:d}=ls(e,n,o,l);await t(r,d,null)}const k=r();if((36===n.keyCode||35===n.keyCode)&&k.length>1)return;const x=f.filter(e=>!k.includes(e));let v;if(1===x.length){const e=d(l(x[0]))?.title;e&&(v=Ro(To("%s deselected."),e))}else x.length>1&&(v=Ro(To("%s blocks deselected."),x.length));v&&Ft(v,"assertive")},[e,l,d,s,i,r,a,c,t,o])}}(),[S,w]=n.useReducer(ck,{}),[I,B]=n.useState(null),{setSelectedTreeId:N}=function({firstSelectedBlockClientId:e,setExpandedState:t}){const[o,l]=n.useState(null),{selectedBlockParentClientIds:s}=C(t=>{const{getBlockParents:n}=t(zo);return{selectedBlockParentClientIds:n(e,!1)}},[e]);return n.useEffect(()=>{o!==e&&s?.length&&t({type:"expand",clientIds:s})},[e,s,o,t]),{setSelectedTreeId:l}}({firstSelectedBlockClientId:k[0],setExpandedState:w}),E=n.useCallback((e,t,n)=>{j(e,t,null,n),N(t),u&&u(v(t))},[N,j,u,v]),{ref:D,target:P}=function({dropZoneElement:e,expandedState:t,setExpandedState:o}){const{getBlockRootClientId:l,getBlockIndex:s,getBlockCount:i,getDraggedBlockClientIds:r,canInsertBlocks:a}=C(zo),[c,d]=n.useState(),{rootClientId:u,blockIndex:p}=c||{},g=qm(u,p),m=Lo(),h=ke(u),f=n.useCallback((e,t)=>{const{rootClientId:n}=t||{};n&&("inside"!==t?.dropPosition||e[n]||o({type:"expand",clientIds:[n]}))},[o]),b=je(f,500,rk);n.useEffect(()=>{"inside"===c?.dropPosition&&h===c?.rootClientId?b(t,c):b.cancel()},[t,h,c,b]);const k=r(),x=je(n.useCallback((e,t)=>{const n={x:e.clientX,y:e.clientY},o=!!k?.length,r=ik(Array.from(t.querySelectorAll("[data-block]")).map(e=>{const t=e.dataset.block,n="true"===e.dataset.expanded,r=e.classList.contains("is-dragging"),c=parseInt(e.getAttribute("aria-level"),10),d=l(t);return{clientId:t,isExpanded:n,rootClientId:d,blockIndex:s(t),element:e,nestingLevel:c||void 0,isDraggedBlock:!!o&&r,innerBlockCount:i(t),canInsertDraggedBlocksAsSibling:!o||a(k,d),canInsertDraggedBlocksAsChild:!o||a(k,t)}}),n,m);r&&d(r)},[a,k,i,s,l,m]),50);return{ref:Se({dropZoneElement:e,onDrop(e){x.cancel(),c&&g(e),d(void 0)},onDragLeave(){x.cancel(),d(null)},onDragOver(e){x(e,e.currentTarget)},onDragEnd(){x.cancel(),d(void 0)}}),target:c}}({dropZoneElement:l,expandedState:S,setExpandedState:w}),T=n.useRef(),L=ak({selectBlock:E}),R=W([L,T,D,m]);n.useEffect(()=>{k?.length&&Ql(k[0],T?.current)},[]);const A=n.useCallback(e=>{if(!e)return;const t=Array.isArray(e)?e:[e];w({type:"expand",clientIds:t})},[w]),z=n.useCallback(e=>{e&&w({type:"collapse",clientIds:[e]})},[w]),O=n.useCallback(()=>{w({type:"clear"})},[w]),F=n.useCallback(e=>{A(e?.dataset?.block)},[A]),V=n.useCallback(e=>{z(e?.dataset?.block)},[z]),$=n.useCallback((e,t,n)=>{e.shiftKey&&j(e,t?.dataset?.block,n?.dataset?.block)},[j]);!function({collapseAll:e,expand:t}){const{expandedBlock:o,getBlockParents:l}=C(e=>{const{getBlockParents:t,getExpandedBlock:n}=td(e(zo));return{expandedBlock:n(),getBlockParents:t}},[]);n.useEffect(()=>{if(o){const n=l(o,!1);e(),t(n)}},[e,t,o,l])}({collapseAll:O,expand:A});const H=b?.[0],{blockDropTargetIndex:U,blockDropPosition:G,firstDraggedBlockIndex:K}=n.useMemo(()=>{let e,t;if(P?.clientId){const t=x[P.clientId];e=void 0===t||"top"===P?.dropPosition?t:t+1}else null===P&&(e=null);if(H){const e=x[H];t=void 0===e||"top"===P?.dropPosition?e:e+1}return{blockDropTargetIndex:e,blockDropPosition:P?.dropPosition,firstDraggedBlockIndex:t}},[P,x,H]),q=n.useMemo(()=>({blockDropPosition:G,blockDropTargetIndex:U,blockIndexes:x,draggedClientIds:b,expandedState:S,expand:A,firstDraggedBlockIndex:K,collapse:z,collapseAll:O,BlockSettingsMenu:a,listViewInstanceId:h,AdditionalBlockContent:g,insertedBlock:I,setInsertedBlock:B,treeGridElementRef:T,rootClientId:c}),[G,U,x,b,S,A,K,z,O,a,h,g,I,B,c]),[Z]=De(T,32,y,{expandedState:S,useWindowing:!0,windowOverscan:40});if(!f.length&&!r)return null;const Y=d&&`block-editor-list-view-description-${h}`;return p.jsxs(Ie,{value:!0,children:[p.jsx(nk,{draggedBlockClientId:H,listViewRef:T,blockDropTarget:P}),d&&p.jsx(vr,{id:Y,children:d}),p.jsx(Zr,{id:t,className:Ti("block-editor-list-view-tree",{"is-dragging":b?.length>0&&void 0!==U}),"aria-label":To("Block navigation structure"),ref:R,onCollapseRow:V,onExpandRow:F,onFocusRow:$,applicationAriaLabel:To("Block navigation structure"),"aria-describedby":Y,style:{"--wp-admin--list-view-dragged-items-height":b?.length?32*(b.length-1)+"px":null},children:p.jsx(Fb.Provider,{value:q,children:p.jsx(tk,{blocks:f,parentId:c,selectBlock:E,showBlockMovers:s,fixedListWindow:Z,selectedClientIds:k,isExpanded:i,showAppender:r})})})]})}),uk=n.forwardRef((e,t)=>p.jsx(dk,{ref:t,...e,showAppender:!1,rootClientId:null,onSelect:null,additionalBlockContent:null,blockSettingsMenu:void 0}));function pk({isEnabled:e,onToggle:t,isOpen:n,innerRef:o,...l}){return p.jsx(zi,{__next40pxDefaultSize:!0,...l,ref:o,icon:xn,"aria-expanded":n,"aria-haspopup":"true",onClick:e?t:void 0,label:To("List view"),className:"block-editor-block-navigation","aria-disabled":!e})}const gk=n.forwardRef(function({isDisabled:e,...t},n){He("wp.blockEditor.BlockNavigationDropdown",{since:"6.1",alternative:"wp.components.Dropdown and wp.blockEditor.ListView"});const o=C(e=>!!e(zo).getBlockCount(),[])&&!e;return p.jsx(ar,{contentClassName:"block-editor-block-navigation__popover",popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:e,onToggle:l})=>p.jsx(pk,{...t,innerRef:n,isOpen:e,onToggle:l,isEnabled:o}),renderContent:()=>p.jsxs("div",{className:"block-editor-block-navigation__container",children:[p.jsx("p",{className:"block-editor-block-navigation__label",children:To("List view")}),p.jsx(uk,{})]})})});function mk({genericPreviewBlock:e,style:t,className:o,activeStyle:l}){const s=x(e.name)?.example,i=Ol(o,l,t),r=n.useMemo(()=>({...e,title:t.label||t.name,description:t.description,initialAttributes:{...e.attributes,className:i+" block-editor-block-styles__block-preview-container"},example:s}),[e,i]);return p.jsx(fg,{item:r})}const hk=()=>{};function fk({clientId:e,onSwitch:t=hk,onHoverClassName:o=hk}){const{onSelect:l,stylesToRender:s,activeStyle:i,genericPreviewBlock:r,className:a}=hf({clientId:e,onSwitch:t}),[c,d]=n.useState(null),u=xe("medium","<");if(!s||0===s.length)return null;const g=Pe(d,250),m=e=>{var t;c!==e?(g(e),o(null!==(t=e?.name)&&void 0!==t?t:null)):g.cancel()};return p.jsxs("div",{className:"block-editor-block-styles",children:[p.jsx("div",{className:"block-editor-block-styles__variants",children:s.map(e=>{const t=e.label||e.name;return p.jsx(zi,{__next40pxDefaultSize:!0,className:Ti("block-editor-block-styles__item",{"is-active":i.name===e.name}),variant:"secondary",label:t,onMouseEnter:()=>m(e),onFocus:()=>m(e),onMouseLeave:()=>m(null),onBlur:()=>m(null),onClick:()=>(e=>{l(e),o(null),d(null),g.cancel()})(e),"aria-current":i.name===e.name,children:p.jsx(br,{numberOfLines:1,className:"block-editor-block-styles__item-text",children:t})},e.name)})}),c&&!u&&p.jsx(Lr,{placement:"left-start",offset:34,focusOnMount:!1,children:p.jsx("div",{className:"block-editor-block-styles__preview-panel",onMouseLeave:()=>m(null),children:p.jsx(mk,{activeStyle:i,className:a,genericPreviewBlock:r,style:c})})})]})}const bk={0:wn,1:Sn,2:jn,3:Cn,4:_n,5:yn,6:vn};function kk({level:e}){return bk[e]?p.jsx(Hi,{icon:bk[e]}):null}const xk=[1,2,3,4,5,6],vk={className:"block-library-heading-level-dropdown"};const yk="carousel",_k="grid",Ck=({onBlockPatternSelect:e})=>p.jsx("div",{className:"block-editor-block-pattern-setup__actions",children:p.jsx(zi,{__next40pxDefaultSize:!0,variant:"primary",onClick:e,children:To("Choose")})}),jk=({handlePrevious:e,handleNext:t,activeSlide:n,totalSlides:o})=>p.jsxs("div",{className:"block-editor-block-pattern-setup__navigation",children:[p.jsx(zi,{size:"compact",icon:Lo()?St:wt,label:To("Previous pattern"),onClick:e,disabled:0===n,accessibleWhenDisabled:!0}),p.jsx(zi,{size:"compact",icon:Lo()?wt:St,label:To("Next pattern"),onClick:t,disabled:n===o-1,accessibleWhenDisabled:!0})]}),Sk=({viewMode:e,setViewMode:t,handlePrevious:n,handleNext:o,activeSlide:l,totalSlides:s,onBlockPatternSelect:i})=>{const r=e===yk,a=p.jsxs("div",{className:"block-editor-block-pattern-setup__display-controls",children:[p.jsx(zi,{size:"compact",icon:ct,label:To("Carousel view"),onClick:()=>t(yk),isPressed:r}),p.jsx(zi,{size:"compact",icon:sn,label:To("Grid view"),onClick:()=>t(_k),isPressed:e===_k})]});return p.jsxs("div",{className:"block-editor-block-pattern-setup__toolbar",children:[r&&p.jsx(jk,{handlePrevious:n,handleNext:o,activeSlide:l,totalSlides:s}),a,r&&p.jsx(Ck,{onBlockPatternSelect:i})]})};const wk=({viewMode:e,activeSlide:t,patterns:n,onBlockPatternSelect:o,showTitles:l})=>{const s="block-editor-block-pattern-setup__container";if(e===yk){const e=new Map([[t,"active-slide"],[t-1,"previous-slide"],[t+1,"next-slide"]]);return p.jsx("div",{className:"block-editor-block-pattern-setup__carousel",children:p.jsx("div",{className:s,children:p.jsx("div",{className:"carousel-container",children:n.map((n,o)=>p.jsx(Bk,{active:o===t,className:e.get(o)||"",pattern:n},n.name))})})})}return p.jsx("div",{className:"block-editor-block-pattern-setup__grid",children:p.jsx(hr,{role:"listbox",className:s,"aria-label":To("Patterns list"),children:n.map(e=>p.jsx(Ik,{pattern:e,onSelect:o,showTitles:l},e.name))})})};function Ik({pattern:e,onSelect:t,showTitles:n}){const o="block-editor-block-pattern-setup-list",{blocks:l,description:s,viewportWidth:i=700}=e,r=me(Ik,`${o}__item-description`);return p.jsx("div",{className:`${o}__list-item`,children:p.jsxs(hr.Item,{render:p.jsx("div",{"aria-describedby":s?r:void 0,"aria-label":e.title,className:`${o}__item`}),id:`${o}__pattern__${e.name}`,role:"option",onClick:()=>t(l),children:[p.jsx(hg,{blocks:l,viewportWidth:i}),n&&p.jsx("div",{className:`${o}__item-title`,children:e.title}),!!s&&p.jsx(vr,{id:r,children:s})]})})}function Bk({active:e,className:t,pattern:n,minHeight:o}){const{blocks:l,title:s,description:i}=n,r=me(Bk,"block-editor-block-pattern-setup-list__item-description");return p.jsxs("div",{"aria-hidden":!e,role:"img",className:`pattern-slide ${t}`,"aria-label":s,"aria-describedby":i?r:void 0,children:[p.jsx(hg,{blocks:l,minHeight:o}),!!i&&p.jsx(vr,{id:r,children:i})]})}function Nk({className:e,onSelectVariation:t,selectedValue:n,variations:o}){return p.jsxs("fieldset",{className:e,children:[p.jsx(vr,{as:"legend",children:To("Transform to variation")}),o.map(e=>p.jsx(zi,{__next40pxDefaultSize:!0,size:"compact",icon:p.jsx(Vd,{icon:e.icon,showColors:!0}),isPressed:n===e.name,label:n===e.name?e.title:Ro(To("Transform to %s"),e.title),onClick:()=>t(e.name),"aria-label":e.title,showTooltip:!0},e.name))]})}function Ek({className:e,onSelectVariation:t,selectedValue:n,variations:o}){const l=o.map(({name:e,title:t,description:n})=>({value:e,label:t,info:n}));return p.jsx(Mi,{className:e,label:To("Transform to variation"),text:To("Transform to variation"),popoverProps:{position:"bottom center",className:`${e}__popover`},icon:Qt,toggleProps:{iconPosition:"right"},children:()=>p.jsx("div",{className:`${e}__container`,children:p.jsx(Ri,{children:p.jsx(Nr,{choices:l,value:n,onSelect:t})})})})}function Dk({className:e,onSelectVariation:t,selectedValue:n,variations:o}){return p.jsx("div",{className:e,children:p.jsx(qi,{label:To("Transform to variation"),value:n,hideLabelFromVision:!0,onChange:t,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,children:o.map(e=>p.jsx(Zi,{icon:p.jsx(Vd,{icon:e.icon,showColors:!0}),value:e.name,label:n===e.name?e.title:Ro(To("Transform to %s"),e.title)},e.name))})})}function Pk({blockClientId:e}){const{updateBlockAttributes:t}=_(zo),{activeBlockVariation:o,variations:l,isContentOnly:s}=C(t=>{const{getActiveBlockVariation:n,getBlockVariations:o}=t(M),{getBlockName:l,getBlockAttributes:s,getBlockEditingMode:i}=t(zo),r=e&&l(e),{hasContentRoleAttribute:a}=td(t(M)),c=a(r);return{activeBlockVariation:n(r,s(e)),variations:r&&o(r,"transform"),isContentOnly:"contentOnly"===i(e)&&!c}},[e]),i=o?.name,r=n.useMemo(()=>{const e=new Set;return!!l&&(l.forEach(t=>{t.icon&&e.add(t.icon?.src||t.icon)}),e.size===l.length)},[l]);if(!l?.length||s)return null;const a=l.length>5,c=r?a?Nk:Dk:Ek;return p.jsx(c,{className:"block-editor-block-variation-transforms",onSelectVariation:n=>{t(e,{...l.find(({name:e})=>e===n).attributes})},selectedValue:i,variations:l})}const Tk=p.jsx(Ot,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:p.jsx(Ht,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"})}),Lk=p.jsx(Ot,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:p.jsx(Ht,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"})}),Mk=p.jsx(Ot,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:p.jsx(Ht,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"})}),Rk=p.jsx(Ot,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:p.jsx(Ht,{d:"M4 4L20 4L20 5.5L4 5.5L4 4ZM10 7L14 7L14 17L10 17L10 7ZM20 18.5L4 18.5L4 20L20 20L20 18.5Z"})}),Ak=p.jsx(Ot,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:p.jsx(Ht,{d:"M7 4H17V8L7 8V4ZM7 16L17 16V20L7 20V16ZM20 11.25H4V12.75H20V11.25Z"})}),zk={top:{icon:Mk,title:Mo("Align top","Block vertical alignment setting")},center:{icon:Lk,title:Mo("Align middle","Block vertical alignment setting")},bottom:{icon:Tk,title:Mo("Align bottom","Block vertical alignment setting")},stretch:{icon:Rk,title:Mo("Stretch to fill","Block vertical alignment setting")},"space-between":{icon:Ak,title:Mo("Space between","Block vertical alignment setting")}},Ok=["top","center","bottom"];function Fk({value:e,onChange:t,controls:n=Ok,isCollapsed:o=!0,isToolbar:l}){const s=zk[e],i=zk.top,r=l?Vi:$i,a=l?{isCollapsed:o}:{};return p.jsx(r,{icon:s?s.icon:i.icon,label:Mo("Change vertical alignment","Block vertical alignment setting label"),controls:n.map(n=>{return{...zk[n],isActive:e===n,role:o?"menuitemradio":void 0,onClick:(l=n,()=>t(e===l?void 0:l))};var l}),...a})}const Vk=e=>p.jsx(Fk,{...e,isToolbar:!1});function $k({onChange:e,selectedUnits:t,setSelectedUnits:n,values:o,...l}){let s=is(o);void 0===s&&(s=rs(t));const i=as(o)&&cs(o),r=i?To("Mixed"):null;return p.jsx(Qi,{...l,"aria-label":To("Border radius"),disableUnits:i,isOnly:!0,value:s,onChange:t=>{const n=!isNaN(parseFloat(t));e(n?t:void 0)},onUnitChange:e=>{n({topLeft:e,topRight:e,bottomLeft:e,bottomRight:e})},placeholder:r,size:"__unstable-large"})}const Hk={topLeft:To("Top left"),topRight:To("Top right"),bottomLeft:To("Bottom left"),bottomRight:To("Bottom right")};function Uk({onChange:e,selectedUnits:t,setSelectedUnits:n,values:o,...l}){const s=t=>n=>{if(!e)return;const o=!isNaN(parseFloat(n))?n:void 0;e({...i,[t]:o})},i="string"!=typeof o?o:{topLeft:o,topRight:o,bottomLeft:o,bottomRight:o};return p.jsx("div",{className:"components-border-radius-control__input-controls-wrapper",children:Object.entries(Hk).map(([e,o])=>{const[r,a]=sr(i[e]),c=i[e]?a:t[e]||t.flat;return p.jsx(yr,{text:o,placement:"top",children:p.jsx("div",{className:"components-border-radius-control__tooltip-wrapper",children:p.jsx(Qi,{...l,"aria-label":o,value:[r,c].join(""),onChange:s(e),onUnitChange:(d=e,e=>{const o={...t};o[d]=e,n(o)}),size:"__unstable-large"})})},e);var d})})}function Gk({isLinked:e,...t}){const n=To(e?"Unlink radii":"Link radii");return p.jsx(yr,{text:n,children:p.jsx(zi,{...t,className:"component-border-radius-control__linked-button",size:"small",icon:e?Bn:Nn,iconSize:24,"aria-label":n})})}const Wk={topLeft:void 0,topRight:void 0,bottomLeft:void 0,bottomRight:void 0},Kk={px:100,em:20,rem:20};function qk({onChange:e,values:t}){const[o,l]=n.useState(!as(t)||!cs(t)),[s,i]=n.useState({flat:"string"==typeof t?sr(t)[1]:void 0,topLeft:sr(t?.topLeft)[1],topRight:sr(t?.topRight)[1],bottomLeft:sr(t?.bottomLeft)[1],bottomRight:sr(t?.bottomRight)[1]}),[r]=ud("spacing.units"),a=Xi({availableUnits:r||["px","em","rem"]}),c=rs(s),d=a&&a.find(e=>e.value===c),u=d?.step||1,[g]=sr(is(t));return p.jsxs("fieldset",{className:"components-border-radius-control",children:[p.jsx(nr.VisualLabel,{as:"legend",children:To("Radius")}),p.jsxs("div",{className:"components-border-radius-control__wrapper",children:[o?p.jsxs(p.Fragment,{children:[p.jsx($k,{className:"components-border-radius-control__unit-control",values:t,min:0,onChange:e,selectedUnits:s,setSelectedUnits:i,units:a}),p.jsx(lr,{__next40pxDefaultSize:!0,label:To("Border radius"),hideLabelFromVision:!0,className:"components-border-radius-control__range-control",value:null!=g?g:"",min:0,max:Kk[c],initialPosition:0,withInputField:!1,onChange:t=>{e(void 0!==t?`${t}${c}`:void 0)},step:u,__nextHasNoMarginBottom:!0})]}):p.jsx(Uk,{min:0,onChange:e,selectedUnits:s,setSelectedUnits:i,values:t||Wk,units:a}),p.jsx(Gk,{onClick:()=>l(!o),isLinked:o})]})]})}const Zk=j(e=>t=>{const[n,o]=ud("color.palette","color.custom"),{colors:l=n,disableCustomColors:s=!o}=t,i=l&&l.length>0||!s;return p.jsx(e,{...t,colors:l,disableCustomColors:s,hasColorsToChoose:i})},"withColorContext"),Yk=Zk(Xr),{Tabs:Xk}=td(Oi),Jk=["colors","disableCustomColors","gradients","disableCustomGradients"],Qk="color",ex="gradient";function tx({colors:e,gradients:t,disableCustomColors:n,disableCustomGradients:o,__experimentalIsRenderedInSidebar:l,className:s,label:i,onColorChange:r,onGradientChange:a,colorValue:c,gradientValue:d,clearable:u,showTitle:g=!0,enableAlpha:m,headingLevel:h}){const f=r&&(e&&e.length>0||!n),b=a&&(t&&t.length>0||!o);if(!f&&!b)return null;const k={[Qk]:p.jsx(Xr,{value:c,onChange:b?e=>{r(e),a()}:r,colors:e,disableCustomColors:n,__experimentalIsRenderedInSidebar:l,clearable:u,enableAlpha:m,headingLevel:h}),[ex]:p.jsx(Jr,{value:d,onChange:f?e=>{a(e),r()}:a,gradients:t,disableCustomGradients:o,__experimentalIsRenderedInSidebar:l,clearable:u,headingLevel:h})},x=e=>p.jsx("div",{className:"block-editor-color-gradient-control__panel",children:k[e]});return p.jsx(nr,{__nextHasNoMarginBottom:!0,className:Ti("block-editor-color-gradient-control",s),children:p.jsx("fieldset",{className:"block-editor-color-gradient-control__fieldset",children:p.jsxs(Ji,{spacing:1,children:[g&&p.jsx("legend",{children:p.jsx("div",{className:"block-editor-color-gradient-control__color-indicator",children:p.jsx(nr.VisualLabel,{children:i})})}),f&&b&&p.jsx("div",{children:p.jsxs(Xk,{defaultTabId:d?ex:!!f&&Qk,children:[p.jsxs(Xk.TabList,{children:[p.jsx(Xk.Tab,{tabId:Qk,children:To("Color")}),p.jsx(Xk.Tab,{tabId:ex,children:To("Gradient")})]}),p.jsx(Xk.TabPanel,{tabId:Qk,className:"block-editor-color-gradient-control__panel",focusable:!1,children:k.color}),p.jsx(Xk.TabPanel,{tabId:ex,className:"block-editor-color-gradient-control__panel",focusable:!1,children:k.gradient})]})}),!b&&x(Qk),!f&&x(ex)]})})})}function nx(e){const[t,n,o,l]=ud("color.palette","color.gradients","color.custom","color.customGradient");return p.jsx(tx,{colors:t,gradients:n,disableCustomColors:!o,disableCustomGradients:!l,...e})}function ox(e){return Jk.every(t=>e.hasOwnProperty(t))?p.jsx(tx,{...e}):p.jsx(nx,{...e})}function lx({backgroundColor:e,fallbackBackgroundColor:t,fallbackTextColor:n,fallbackLinkColor:o,fontSize:l,isLargeText:s,textColor:i,linkColor:r,enableAlphaChecker:a=!1}){const c=e||t;if(!c)return null;const d=i||n,u=r||o;if(!d&&!u)return null;const g=[{color:d,description:To("text color")},{color:u,description:To("link color")}],m=bc(c),h=m.alpha()<1,f=m.brightness(),b={level:"AA",size:s||!1!==s&&l>=24?"large":"small"};let k="",x="";for(const p of g){if(!p.color)continue;const e=bc(p.color),t=e.isReadable(m,b),n=e.alpha()<1;if(!t){if(h||n)continue;k=f<e.brightness()?Ro(To("This color combination may be hard for people to read. Try using a darker background color and/or a brighter %s."),p.description):Ro(To("This color combination may be hard for people to read. Try using a brighter background color and/or a darker %s."),p.description),x=To("This color combination may be hard for people to read.");break}n&&a&&(k=To("Transparent text may be hard for people to read."),x=To("Transparent text may be hard for people to read."))}return k?(Ft(x),p.jsx("div",{className:"block-editor-contrast-checker",children:p.jsx(Qr,{spokenMessage:null,status:"warning",isDismissible:!1,children:k})})):null}xc([vc,Cc]);const sx=new Date;function ix({format:e,onChange:t}){var o;const l=[...[...new Set(["Y-m-d",Mo("n/j/Y","short date format"),Mo("n/j/Y g:i A","short date format with time"),Mo("M j, Y","medium date format"),Mo("M j, Y g:i A","medium date format with time"),Mo("F j, Y","long date format"),Mo("M j","short date format without the year")])].map((e,t)=>({key:`suggested-${t}`,name:En(e,sx),format:e})),{key:"human-diff",name:Dn(sx),format:"human-diff"}],s={key:"custom",name:To("Custom"),className:"block-editor-date-format-picker__custom-format-select-control__custom-option",hint:To("Enter your own date format")},[i,r]=n.useState(()=>!!e&&!l.some(t=>t.format===e));return p.jsxs(Ji,{children:[p.jsx(ea,{__next40pxDefaultSize:!0,label:To("Choose a format"),options:[...l,s],value:i?s:null!==(o=l.find(t=>t.format===e))&&void 0!==o?o:s,onChange:({selectedItem:e})=>{e===s?r(!0):(r(!1),t(e.format))}}),i&&p.jsx(Hr,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:To("Custom format"),hideLabelFromVision:!0,help:ne(To("Enter a date or time <Link>format string</Link>."),{Link:p.jsx(Er,{href:To("https://wordpress.org/documentation/article/customize-date-and-time-format/")})}),value:e,onChange:e=>t(e)})]})}function rx({id:e,colorPalette:t,duotonePalette:n,disableCustomColors:o,disableCustomDuotone:l,value:s,onChange:i}){let r;r="unset"===s?p.jsx(na,{className:"block-editor-duotone-control__unset-indicator"}):s?p.jsx(oa,{values:s}):p.jsx(Ze,{icon:Pn});const a=To("Apply duotone filter"),c=`${me(rx,"duotone-control",e)}__description`;return p.jsx(ar,{popoverProps:{className:"block-editor-duotone-control__popover",headerTitle:To("Duotone")},renderToggle:({isOpen:e,onToggle:t})=>p.jsx(ir,{showTooltip:!0,onClick:t,"aria-haspopup":"true","aria-expanded":e,onKeyDown:n=>{e||n.keyCode!==Mu||(n.preventDefault(),t())},label:a,icon:r}),renderContent:()=>p.jsxs(Ri,{label:To("Duotone"),children:[p.jsx("p",{children:To("Create a two-tone color effect without losing your original image.")}),p.jsx(ta,{"aria-label":a,"aria-describedby":c,colorPalette:t,duotonePalette:n,disableCustomColors:o,disableCustomDuotone:l,value:s,onChange:i})]})})}sx.setDate(20),sx.setMonth(sx.getMonth()-3),4===sx.getMonth()&&sx.setMonth(3);function ax(e){const{__next40pxDefaultSize:t=!1,onChange:o,hasFontStyles:l=!0,hasFontWeights:s=!0,fontFamilyFaces:i,value:{fontStyle:r,fontWeight:a},...c}=e,d=l||s,u=((e,t)=>To(e?t?"Appearance":"Font style":"Font weight"))(l,s),g={key:"default",name:To("Default"),style:{fontStyle:void 0,fontWeight:void 0}},{fontStyles:m,fontWeights:h,combinedStyleAndWeightOptions:f}=ds(i),b=n.useMemo(()=>l&&s?(()=>{const e=[g];return f&&e.push(...f),e})():l?(()=>{const e=[g];return m.forEach(({name:t,value:n})=>{e.push({key:n,name:t,style:{fontStyle:n,fontWeight:void 0}})}),e})():(()=>{const e=[g];return h.forEach(({name:t,value:n})=>{e.push({key:n,name:t,style:{fontStyle:void 0,fontWeight:n}})}),e})(),[e.options,m,h,f]),k=b.find(e=>e.style.fontStyle===r&&e.style.fontWeight===a)||b[0];return d&&p.jsx(ea,{...c,className:"components-font-appearance-control",__next40pxDefaultSize:t,label:u,describedBy:k?Ro(To(l?s?"Currently selected font appearance: %s":"Currently selected font style: %s":"Currently selected font weight: %s"),k.name):To("No selected font appearance"),options:b,value:k,onChange:({selectedItem:e})=>o(e.style)})}function cx({__next40pxDefaultSize:e=!1,__nextHasNoMarginBottom:t=!1,value:n="",onChange:o,fontFamilies:l,...s}){const[i]=ud("typography.fontFamilies");if(l||(l=i),!l||0===l.length)return null;const r=[{value:"",label:To("Default")},...l.map(({fontFamily:e,name:t})=>({value:e,label:t||e}))];return t||He("Bottom margin styles for wp.blockEditor.FontFamilyControl",{since:"6.7",version:"7.0",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version"}),p.jsx(la,{__next40pxDefaultSize:e,__nextHasNoMarginBottom:t,label:To("Font"),options:r,value:n,onChange:o,labelPosition:"top",...s})}function dx({__next40pxDefaultSize:e=!1,value:t,onChange:n,__unstableInputWidth:o="60px",...l}){const[s]=ud("spacing.units"),i=Xi({availableUnits:s||["px","em","rem"],defaultValues:{px:2,em:.2,rem:.2}});return p.jsx(Qi,{__next40pxDefaultSize:e,...l,label:To("Letter spacing"),value:t,__unstableInputWidth:o,units:i,onChange:n})}const ux=[{label:To("None"),value:"none",icon:Tn},{label:To("Underline"),value:"underline",icon:Ln},{label:To("Strikethrough"),value:"line-through",icon:Mn}];function px({value:e,onChange:t,className:n}){return p.jsx(qi,{isDeselectable:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:To("Decoration"),className:Ti("block-editor-text-decoration-control",n),value:e,onChange:n=>{t(n===e?void 0:n)},children:ux.map(e=>p.jsx(Zi,{value:e.value,icon:e.icon,label:e.label},e.value))})}const gx=[{label:To("None"),value:"none",icon:Tn},{label:To("Uppercase"),value:"uppercase",icon:Rn},{label:To("Lowercase"),value:"lowercase",icon:An},{label:To("Capitalize"),value:"capitalize",icon:zn}];function mx({className:e,value:t,onChange:n}){return p.jsx(qi,{isDeselectable:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:To("Letter case"),className:Ti("block-editor-text-transform-control",e),value:t,onChange:e=>{n(e===t?void 0:e)},children:gx.map(e=>p.jsx(Zi,{value:e.value,icon:e.icon,label:e.label},e.value))})}const hx=[{label:To("Horizontal"),value:"horizontal-tb",icon:On},{label:To("Vertical"),value:Lo()?"vertical-lr":"vertical-rl",icon:Fn}];function fx({className:e,value:t,onChange:n}){return p.jsx(qi,{isDeselectable:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:To("Orientation"),className:Ti("block-editor-writing-mode-control",e),value:t,onChange:e=>{n(e===t?void 0:e)},children:hx.map(e=>p.jsx(Zi,{value:e.value,icon:e.icon,label:e.label},e.value))})}const bx=({setting:e,children:t,panelId:n,...o})=>p.jsx(ia,{hasValue:()=>!!e.colorValue||!!e.gradientValue,label:e.label,onDeselect:()=>{e.colorValue?e.onColorChange():e.gradientValue&&e.onGradientChange()},isShownByDefault:void 0===e.isShownByDefault||e.isShownByDefault,...o,className:"block-editor-tools-panel-color-gradient-settings__item",panelId:n,resetAllFilter:e.resetAllFilter,children:t}),kx=({colorValue:e,label:t})=>p.jsxs(xr,{justify:"flex-start",children:[p.jsx(na,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:e}),p.jsx(Ki,{className:"block-editor-panel-color-gradient-settings__color-name",title:t,children:t})]}),xx=e=>({onToggle:t,isOpen:n})=>{const{colorValue:o,label:l}=e,s={onClick:t,className:Ti("block-editor-panel-color-gradient-settings__dropdown",{"is-open":n}),"aria-expanded":n};return p.jsx(zi,{__next40pxDefaultSize:!0,...s,children:p.jsx(kx,{colorValue:o,label:l})})};function vx({colors:e,disableCustomColors:t,disableCustomGradients:n,enableAlpha:o,gradients:l,settings:s,__experimentalIsRenderedInSidebar:i,...r}){let a;return i&&(a={placement:"left-start",offset:36,shift:!0}),p.jsx(p.Fragment,{children:s.map((s,c)=>{var d;const u={clearable:!1,colorValue:s.colorValue,colors:e,disableCustomColors:t,disableCustomGradients:n,enableAlpha:o,gradientValue:s.gradientValue,gradients:l,label:s.label,onColorChange:s.onColorChange,onGradientChange:s.onGradientChange,showTitle:!1,__experimentalIsRenderedInSidebar:i,...s},g={colorValue:null!==(d=s.gradientValue)&&void 0!==d?d:s.colorValue,label:s.label};return s&&p.jsx(bx,{setting:s,...r,children:p.jsx(ar,{popoverProps:a,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:xx(g),renderContent:()=>p.jsx(sa,{paddingSize:"none",children:p.jsx("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:p.jsx(ox,{...u})})})})},c)})})}function yx(){const[e,t,o,l,s,i,r,a,c,d]=ud("color.custom","color.palette.custom","color.palette.theme","color.palette.default","color.defaultPalette","color.customGradient","color.gradients.custom","color.gradients.theme","color.gradients.default","color.defaultGradients"),u={disableCustomColors:!e,disableCustomGradients:!i};return u.colors=n.useMemo(()=>{const e=[];return o&&o.length&&e.push({name:Mo("Theme","Indicates this palette comes from the theme."),colors:o}),s&&l&&l.length&&e.push({name:Mo("Default","Indicates this palette comes from WordPress."),colors:l}),t&&t.length&&e.push({name:Mo("Custom","Indicates this palette comes from the theme."),colors:t}),e},[t,o,l,s]),u.gradients=n.useMemo(()=>{const e=[];return a&&a.length&&e.push({name:Mo("Theme","Indicates this palette comes from the theme."),gradients:a}),d&&c&&c.length&&e.push({name:Mo("Default","Indicates this palette comes from WordPress."),gradients:c}),r&&r.length&&e.push({name:Mo("Custom","Indicates this palette is created by the user."),gradients:r}),e},[r,a,c,d]),u.hasColorsOrGradients=!!u.colors.length||!!u.gradients.length,u}const _x=["colors","disableCustomColors","gradients","disableCustomGradients"],Cx=({className:e,colors:t,gradients:n,disableCustomColors:o,disableCustomGradients:l,children:s,settings:i,title:r,showTitle:a=!0,__experimentalIsRenderedInSidebar:c,enableAlpha:d})=>{const u=me(Cx),{batch:g}=oe();return t&&0!==t.length||n&&0!==n.length||!o||!l||!i?.every(e=>(!e.colors||0===e.colors.length)&&(!e.gradients||0===e.gradients.length)&&(void 0===e.disableCustomColors||e.disableCustomColors)&&(void 0===e.disableCustomGradients||e.disableCustomGradients))?p.jsxs(Ar,{className:Ti("block-editor-panel-color-gradient-settings",e),label:a?r:void 0,resetAll:()=>{g(()=>{i.forEach(({colorValue:e,gradientValue:t,onColorChange:n,onGradientChange:o})=>{e?n():t&&o()})})},panelId:u,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",children:[p.jsx(vx,{settings:i,panelId:u,colors:t,gradients:n,disableCustomColors:o,disableCustomGradients:l,__experimentalIsRenderedInSidebar:c,enableAlpha:d}),!!s&&p.jsxs(p.Fragment,{children:[p.jsx(Br,{marginY:4})," ",s]})]}):null},jx=e=>{const t=yx();return p.jsx(Cx,{...t,...e})},Sx=e=>_x.every(t=>e.hasOwnProperty(t))?p.jsx(Cx,{...e}):p.jsx(jx,{...e}),wx={px:{max:1e3,step:1},"%":{max:100,step:1},vw:{max:100,step:1},vh:{max:100,step:1},em:{max:50,step:.1},rem:{max:50,step:.1},svw:{max:100,step:1},lvw:{max:100,step:1},dvw:{max:100,step:1},svh:{max:100,step:1},lvh:{max:100,step:1},dvh:{max:100,step:1},vi:{max:100,step:1},svi:{max:100,step:1},lvi:{max:100,step:1},dvi:{max:100,step:1},vb:{max:100,step:1},svb:{max:100,step:1},lvb:{max:100,step:1},dvb:{max:100,step:1},vmin:{max:100,step:1},svmin:{max:100,step:1},lvmin:{max:100,step:1},dvmin:{max:100,step:1},vmax:{max:100,step:1},svmax:{max:100,step:1},lvmax:{max:100,step:1},dvmax:{max:100,step:1}};function Ix({label:e=To("Height"),onChange:t,value:o}){var l,s;const i=parseFloat(o),[r]=ud("spacing.units"),a=Xi({availableUnits:r||["%","px","em","rem","vh","vw"]}),c=n.useMemo(()=>sr(o),[o])[1]||a[0]?.value||"px";return p.jsxs("fieldset",{className:"block-editor-height-control",children:[p.jsx(nr.VisualLabel,{as:"legend",children:e}),p.jsxs(Wi,{children:[p.jsx(Ki,{isBlock:!0,children:p.jsx(Qi,{value:o,units:a,onChange:t,onUnitChange:e=>{const[n,l]=sr(o);["em","rem"].includes(e)&&"px"===l?t((n/16).toFixed(2)+e):["em","rem"].includes(l)&&"px"===e?t(Math.round(16*n)+e):["%","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax"].includes(e)&&n>100&&t(100+e)},min:0,size:"__unstable-large",label:e,hideLabelFromVision:!0})}),p.jsx(Ki,{isBlock:!0,children:p.jsx(Br,{marginX:2,marginBottom:0,children:p.jsx(lr,{__next40pxDefaultSize:!0,value:i,min:0,max:null!==(l=wx[c]?.max)&&void 0!==l?l:100,step:null!==(s=wx[c]?.step)&&void 0!==s?s:.1,withInputField:!1,onChange:e=>{t([e,c].join(""))},__nextHasNoMarginBottom:!0,label:e,hideLabelFromVision:!0})})})]})]})}const Bx={placement:"bottom-start"};const Nx=n.createContext({}),Ex=()=>n.useContext(Nx);function Dx({id:e,url:t,naturalWidth:o,naturalHeight:l,onFinishEditing:s,onSaveImage:i,children:r}){const a=function({url:e,naturalWidth:t,naturalHeight:o}){const[l,s]=n.useState(),[i,r]=n.useState(),[a,c]=n.useState({x:0,y:0}),[d,u]=n.useState(100),[p,g]=n.useState(0),m=t/o,[h,f]=n.useState(m),b=n.useCallback(()=>{const t=(p+90)%360;let n=m;if(p%180==90&&(n=1/m),0===t)return s(),g(t),f(m),void c(e=>({x:-e.y*n,y:e.x*n}));const o=new window.Image;o.src=e,o.onload=function(e){const o=document.createElement("canvas");let l=0,i=0;t%180?(o.width=e.target.height,o.height=e.target.width):(o.width=e.target.width,o.height=e.target.height),90!==t&&180!==t||(l=o.width),270!==t&&180!==t||(i=o.height);const r=o.getContext("2d");r.translate(l,i),r.rotate(t*Math.PI/180),r.drawImage(e.target,0,0),o.toBlob(e=>{s(URL.createObjectURL(e)),g(t),f(o.width/o.height),c(e=>({x:-e.y*n,y:e.x*n}))})};const l=T("media.crossOrigin",void 0,e);"string"==typeof l&&(o.crossOrigin=l)},[p,m,e]);return n.useMemo(()=>({editedUrl:l,setEditedUrl:s,crop:i,setCrop:r,position:a,setPosition:c,zoom:d,setZoom:u,rotation:p,setRotation:g,rotateClockwise:b,aspect:h,setAspect:f,defaultAspect:m}),[l,i,a,d,p,b,h,m])}({url:t,naturalWidth:o,naturalHeight:l}),c=function({crop:e,rotation:t,url:o,id:l,onSaveImage:s,onFinishEditing:i}){const{createErrorNotice:r}=_(Ut),[a,c]=n.useState(!1),d=n.useCallback(()=>{c(!1),i()},[i]),u=n.useCallback(()=>{c(!0);const n=[];if(t>0&&n.push({type:"rotate",args:{angle:t}}),(e.width<99.9||e.height<99.9)&&n.push({type:"crop",args:{left:e.x,top:e.y,width:e.width,height:e.height}}),0===n.length)return c(!1),void i();N({path:`/wp/v2/media/${l}/edit`,method:"POST",data:{src:o,modifiers:n}}).then(e=>{s({id:e.id,url:e.source_url})}).catch(e=>{r(Ro(To("Could not edit image. %s"),Vn(e.message)),{id:"image-editing-error",type:"snackbar"})}).finally(()=>{c(!1),i()})},[e,t,l,o,s,r,i]);return n.useMemo(()=>({isInProgress:a,apply:u,cancel:d}),[a,u,d])}({id:e,url:t,onSaveImage:i,onFinishEditing:s,...a}),d=n.useMemo(()=>({...a,...c}),[a,c]);return p.jsx(Nx.Provider,{value:d,children:r})}function Px({aspectRatios:e,isDisabled:t,label:n,onClick:o,value:l}){return p.jsx(Ri,{label:n,children:e.map(({name:e,slug:n,ratio:s})=>p.jsx(Ai,{disabled:t,onClick:()=>{o(s)},role:"menuitemradio",isSelected:s===l,icon:s===l?en:void 0,children:e},n))})}function Tx(e){const[t,n,...o]=e.split("/").map(Number);return t<=0||n<=0||Number.isNaN(t)||Number.isNaN(n)||o.length?NaN:n?t/n:t}function Lx({ratio:e,...t}){return{ratio:Tx(e),...t}}function Mx({toggleProps:e}){const{isInProgress:t,aspect:n,setAspect:o,defaultAspect:l}=Ex(),[s,i,r]=ud("dimensions.aspectRatios.default","dimensions.aspectRatios.theme","dimensions.defaultAspectRatios");return p.jsx(Mi,{icon:$n,label:To("Aspect Ratio"),popoverProps:Bx,toggleProps:e,children:({onClose:e})=>p.jsxs(p.Fragment,{children:[p.jsx(Px,{isDisabled:t,onClick:t=>{o(t),e()},value:n,aspectRatios:[{slug:"original",name:To("Original"),aspect:l},...r?s.map(Lx).filter(({ratio:e})=>1===e):[]]}),i?.length>0&&p.jsx(Px,{label:To("Theme"),isDisabled:t,onClick:t=>{o(t),e()},value:n,aspectRatios:i}),r&&p.jsx(Px,{label:To("Landscape"),isDisabled:t,onClick:t=>{o(t),e()},value:n,aspectRatios:s.map(Lx).filter(({ratio:e})=>e>1)}),r&&p.jsx(Px,{label:To("Portrait"),isDisabled:t,onClick:t=>{o(t),e()},value:n,aspectRatios:s.map(Lx).filter(({ratio:e})=>e<1)})]})})}function Rx({url:e,width:t,height:n,naturalHeight:o,naturalWidth:l,borderProps:s}){const{isInProgress:i,editedUrl:r,position:a,zoom:c,aspect:d,setPosition:u,setCrop:g,setZoom:m,rotation:h}=Ex(),[f,{width:k}]=de();let x=n||k*o/l;h%180==90&&(x=k*l/o);const v=p.jsxs("div",{className:Ti("wp-block-image__crop-area",s?.className,{"is-applying":i}),style:{...s?.style,width:t||k,height:x},children:[p.jsx(b,{image:r||e,disabled:i,minZoom:1,maxZoom:3,crop:a,zoom:c/100,aspect:d,onCropChange:e=>{u(e)},onCropComplete:e=>{g(e)},onZoomChange:e=>{m(100*e)}}),i&&p.jsx(Pr,{})]});return p.jsxs(p.Fragment,{children:[f,v]})}function Ax(){const{isInProgress:e,zoom:t,setZoom:n}=Ex();return p.jsx(ar,{contentClassName:"wp-block-image__zoom",popoverProps:Bx,renderToggle:({isOpen:t,onToggle:n})=>p.jsx(ir,{icon:Hn,label:To("Zoom"),onClick:n,"aria-expanded":t,disabled:e}),renderContent:()=>p.jsx(sa,{paddingSize:"medium",children:p.jsx(lr,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:To("Zoom"),min:100,max:300,value:Math.round(t),onChange:n})})})}function zx(){const{isInProgress:e,rotateClockwise:t}=Ex();return p.jsx(ir,{icon:Un,label:To("Rotate"),onClick:t,disabled:e})}function Ox(){const{isInProgress:e,apply:t,cancel:n}=Ex();return p.jsxs(p.Fragment,{children:[p.jsx(ir,{onClick:t,disabled:e,children:To("Apply")}),p.jsx(ir,{onClick:n,children:To("Cancel")})]})}const Fx=[25,50,75,100],Vx=()=>{};const $x={left:Qe,center:et,right:tt,"space-between":nt,stretch:ot};function Hx({allowedControls:e=["left","center","right","space-between"],isCollapsed:t=!0,onChange:n,value:o,popoverProps:l,isToolbar:s}){const i=e=>{n(e===o?void 0:e)},r=o?$x[o]:$x.left,a=[{name:"left",icon:Qe,title:To("Justify items left"),isActive:"left"===o,onClick:()=>i("left")},{name:"center",icon:et,title:To("Justify items center"),isActive:"center"===o,onClick:()=>i("center")},{name:"right",icon:tt,title:To("Justify items right"),isActive:"right"===o,onClick:()=>i("right")},{name:"space-between",icon:nt,title:To("Space between items"),isActive:"space-between"===o,onClick:()=>i("space-between")},{name:"stretch",icon:ot,title:To("Stretch items"),isActive:"stretch"===o,onClick:()=>i("stretch")}],c=s?Vi:$i,d=s?{isCollapsed:t}:{};return p.jsx(c,{icon:r,popoverProps:l,label:To("Change items justification"),controls:a.filter(t=>e.includes(t.name)),...d})}const Ux=e=>p.jsx(Hx,{...e,isToolbar:!1});function Gx({children:e,settingsOpen:t,setSettingsOpen:o}){const l=G(),s=l?n.Fragment:Mr,i=l?"div":Dr.div,r=`link-control-settings-drawer-${me(Gx)}`;return p.jsxs(p.Fragment,{children:[p.jsx(zi,{__next40pxDefaultSize:!0,className:"block-editor-link-control__drawer-toggle","aria-expanded":t,onClick:()=>o(!t),icon:Lo()?fn:mt,"aria-controls":r,children:Mo("Advanced","Additional link settings")}),p.jsx(s,{children:t&&p.jsx(i,{className:"block-editor-link-control__drawer",hidden:!t,id:r,initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.1},children:p.jsx("div",{className:"block-editor-link-control__drawer-inner",children:e})})})]})}const Wx=({searchTerm:e,onClick:t,itemProps:n,buttonText:o})=>{if(!e)return null;let l;return l=o?"function"==typeof o?o(e):o:ne(Ro(To("Create: <mark>%s</mark>"),e),{mark:p.jsx("mark",{})}),p.jsx(Ai,{...n,iconPosition:"left",icon:Zt,className:"block-editor-link-control__search-item",onClick:t,children:l})},Kx={post:Xn,page:Ye,post_tag:Yn,category:Zn,attachment:qn};function qx({isURL:e,suggestion:t}){let n=null;return e?n=Jn:t.type in Kx&&(n=Kx[t.type],"page"===t.type&&(t.isFrontPage&&(n=Qn),t.isBlogHome&&(n=eo))),n?p.jsx(Ze,{className:"block-editor-link-control__search-item-icon",icon:n}):null}function Zx(e){const t=e?.trim();return t?.length?e?.replace(/^\/?/,"/"):e}function Yx(e){const t=e?.trim();return t?.length?e?.replace(/\/$/,""):e}const Xx=({itemProps:e,suggestion:t,searchTerm:n,onClick:o,isURL:l=!1,shouldShowType:s=!1})=>{const i=l?To("Press ENTER to add this link"):(r=t.url)?Ne(Gn,Wn,(e=>t=>null==t||t!=t?e:t)(""),((e,...t)=>(...n)=>e(...n,...t))(Kn,24),Yx,Zx)(r):r;var r;return p.jsx(Ai,{...e,info:i,iconPosition:"left",icon:p.jsx(qx,{suggestion:t,isURL:l}),onClick:o,shortcut:s&&Jx(t),className:"block-editor-link-control__search-item",children:p.jsx(aa,{text:Vn(t.title),highlight:n})})};function Jx(e){return e.isFrontPage?"front page":e.isBlogHome?"blog home":"post_tag"===e.type?"tag":e.type}const Qx="__CREATE__",ev="link",tv="mailto",nv="internal",ov=[ev,tv,"tel",nv],lv=[{id:"opensInNewTab",title:To("Open in new tab")}];function sv({instanceId:e,withCreateSuggestion:t,currentInputValue:n,handleSuggestionClick:o,suggestionsListProps:l,buildSuggestionItemProps:s,suggestions:i,selectedSuggestion:r,isLoading:a,isInitialSuggestions:c,createSuggestionButtonText:d,suggestionsQuery:u}){const g=Ti("block-editor-link-control__search-results",{"is-loading":a}),m=1===i.length&&ov.includes(i[0].type),h=t&&!m&&!c,f=!u?.type,b=`block-editor-link-control-search-results-label-${e}`,k=c?To("Suggestions"):Ro(To('Search results for "%s"'),n),x=p.jsx(vr,{id:b,children:k});return p.jsxs("div",{className:"block-editor-link-control__search-results-wrapper",children:[x,p.jsx("div",{...l,className:g,"aria-labelledby":b,children:p.jsx(Ri,{children:i.map((e,t)=>h&&Qx===e.type?p.jsx(Wx,{searchTerm:n,buttonText:d,onClick:()=>o(e),itemProps:s(e,t),isSelected:t===r},e.type):Qx===e.type?null:p.jsx(Xx,{itemProps:s(e,t),suggestion:e,index:t,onClick:()=>{o(e)},isSelected:t===r,isURL:ov.includes(e.type),searchTerm:n,shouldShowType:f,isFrontPage:e?.isFrontPage,isBlogHome:e?.isBlogHome},`${e.id}-${e.type}`))})})]})}const iv=()=>Promise.resolve([]),rv=e=>{let t=ev;const n=yt(e)||"";return n.includes("mailto")&&(t=tv),n.includes("tel")&&(t="tel"),e?.startsWith("#")&&(t=nv),Promise.resolve([{id:e,title:e,url:"URL"===t?to(e):e,type:t}])};function av(e,t,o){const{fetchSearchSuggestions:l,pageOnFront:s,pageForPosts:i}=C(e=>{const{getSettings:t}=e(zo);return{pageOnFront:t().pageOnFront,pageForPosts:t().pageForPosts,fetchSearchSuggestions:t().__experimentalFetchLinkSuggestions}},[]),r=t?rv:iv;return n.useCallback((t,{isInitialSuggestions:n})=>jp(t)?r(t):(async(e,t,n,o,l,s)=>{const{isInitialSuggestions:i}=t,r=await n(e,t);return r.map(e=>Number(e.id)===l?(e.isFrontPage=!0,e):Number(e.id)===s?(e.isBlogHome=!0,e):e),i||jp(e)||!o?r:r.concat({title:e,url:e,type:Qx})})(t,{...e,isInitialSuggestions:n},l,o,s,i),[r,l,s,i,e,o])}const cv=()=>Promise.resolve([]),dv=()=>{},uv=n.forwardRef(({value:e,children:t,currentLink:o={},className:l=null,placeholder:s=null,withCreateSuggestion:i=!1,onCreateSuggestion:r=dv,onChange:a=dv,onSelect:c=dv,showSuggestions:d=!0,renderSuggestions:u=e=>p.jsx(sv,{...e}),fetchSuggestions:g=null,allowDirectEntry:m=!0,showInitialSuggestions:h=!1,suggestionsQuery:f={},withURLSuggestion:b=!0,createSuggestionButtonText:k,hideLabelFromVision:x=!1,suffix:v},y)=>{const _=av(f,m,i),C=d?g||_:cv,j=me(uv),[S,w]=n.useState(),I=async e=>{let t=e;if(Qx!==e.type){if(m||t&&Object.keys(t).length>=1){const{id:e,url:n,...l}=null!=o?o:{};c({...l,...t},t)}}else try{t=await r(e.title),t?.url&&c(t)}catch(Za){}};return p.jsxs("div",{className:"block-editor-link-control__search-input-container",children:[p.jsx(Lv,{disableSuggestions:o?.url===e,label:To("Link"),hideLabelFromVision:x,className:l,value:e,onChange:(e,t)=>{a(e),w(t)},placeholder:null!=s?s:To("Search or type URL"),__experimentalRenderSuggestions:d?e=>u({...e,instanceId:j,withCreateSuggestion:i,createSuggestionButtonText:k,suggestionsQuery:f,handleSuggestionClick:t=>{e.handleSuggestionClick&&e.handleSuggestionClick(t),I(t)}}):null,__experimentalFetchLinkSuggestions:C,__experimentalHandleURLSuggestions:!0,__experimentalShowInitialSuggestions:h,onSubmit:(t,n)=>{const o=t||S;o||e?.trim()?.length?I(o||{url:e}):n.preventDefault()},ref:y,suffix:v}),t]})}),{Slot:pv,Fill:gv}=Tr("BlockEditorLinkControlViewer");function mv(e,t){switch(t.type){case"RESOLVED":return{...e,isFetching:!1,richData:t.richData};case"ERROR":return{...e,isFetching:!1,richData:null};case"LOADING":return{...e,isFetching:!0};default:throw new Error(`Unexpected action type ${t.type}`)}}function hv({value:e,onEditClick:t,hasRichPreviews:o=!1,hasUnlinkControl:l=!1,onRemove:s}){const i=C(e=>e(no).get("core","showIconLabels"),[]),r=o?e?.url:null,{richData:a,isFetching:c}=function(e){const[t,o]=n.useReducer(mv,{richData:null,isFetching:!1}),{fetchRichUrlData:l}=C(e=>{const{getSettings:t}=e(zo);return{fetchRichUrlData:t().__experimentalFetchRichUrlData}},[]);return n.useEffect(()=>{if(e?.length&&l&&"undefined"!=typeof AbortController){o({type:"LOADING"});const t=new window.AbortController,n=t.signal;return l(e,{signal:n}).then(e=>{o({type:"RESOLVED",richData:e})}).catch(()=>{n.aborted||o({type:"ERROR"})}),()=>{t.abort()}}},[e]),t}(r),d=a&&Object.keys(a).length,u=e&&Kn(Gn(e.url),24)||"",g=!e?.url?.length,m=!g&&Vn(a?.title||e?.title||u),h=!e?.url||m.replace(/^[a-z\-.\+]+[0-9]*:(\/\/)?/i,"").replace(/^www\./i,"")===u;let f;f=a?.icon?p.jsx("img",{src:a?.icon,alt:""}):g?p.jsx(Ze,{icon:lo,size:32}):p.jsx(Ze,{icon:Jn});const{createNotice:b}=_(Ut),k=Ee(e.url,()=>{b("info",To("Link copied to clipboard."),{isDismissible:!0,type:"snackbar"})});return p.jsx("div",{"aria-label":To("Currently selected"),className:Ti("block-editor-link-control__search-item",{"is-current":!0,"is-rich":d,"is-fetching":!!c,"is-preview":!0,"is-error":g,"is-url-title":m===u}),children:p.jsxs("div",{className:"block-editor-link-control__search-item-top",children:[p.jsxs("span",{className:"block-editor-link-control__search-item-header",children:[p.jsx("span",{className:Ti("block-editor-link-control__search-item-icon",{"is-image":a?.icon}),children:f}),p.jsx("span",{className:"block-editor-link-control__search-item-details",children:g?p.jsx("span",{className:"block-editor-link-control__search-item-error-notice",children:To("Link is empty")}):p.jsxs(p.Fragment,{children:[p.jsx(Er,{className:"block-editor-link-control__search-item-title",href:e.url,children:p.jsx(br,{numberOfLines:1,children:m})}),!h&&p.jsx("span",{className:"block-editor-link-control__search-item-info",children:p.jsx(br,{numberOfLines:1,children:u})})]})})]}),p.jsx(zi,{icon:pn,label:To("Edit link"),onClick:t,size:"compact"}),l&&p.jsx(zi,{icon:Nn,label:To("Remove link"),onClick:s,size:"compact"}),p.jsx(zi,{icon:oo,label:Ro(To("Copy link%s"),g||i?"":": "+e.url),ref:k,accessibleWhenDisabled:!0,disabled:g,size:"compact"}),p.jsx(pv,{fillProps:e})]})})}const fv=()=>{},bv=({value:e,onChange:t=fv,settings:n})=>{if(!n||!n.length)return null;const o=n=>o=>{t({...e,[n.id]:o})},l=n.map(t=>p.jsx($r,{__nextHasNoMarginBottom:!0,className:"block-editor-link-control__setting",label:t.title,onChange:o(t),checked:!!e&&!!e[t.id],help:t?.help},t.id));return p.jsxs("fieldset",{className:"block-editor-link-control__settings",children:[p.jsx(vr,{as:"legend",children:To("Currently selected link settings")}),l]})};const kv=e=>{let t=!1;return{promise:new Promise((n,o)=>{e.then(e=>t?o({isCanceled:!0}):n(e),e=>o(t?{isCanceled:!0}:e))}),cancel(){t=!0}}};var xv,vv;var yv=(vv||(vv=1,xv=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,l,s;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(l=o;0!==l--;)if(!e(t[l],n[l]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(n,s[l]))return!1;for(l=o;0!==l--;){var i=s[l];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}),xv);const _v=t(yv);const Cv=()=>{},jv="core/block-editor",Sv="linkControlSettingsDrawer";function wv({searchInputPlaceholder:e,value:t,settings:o=lv,onChange:l=Cv,onRemove:s,onCancel:i,noDirectEntry:r=!1,showSuggestions:a=!0,showInitialSuggestions:c,forceIsEditingLink:d,createSuggestion:u,withCreateSuggestion:g,inputValue:m="",suggestionsQuery:h={},noURLSuggestion:f=!1,createSuggestionButtonText:b,hasRichPreviews:k=!1,hasTextControl:x=!1,renderControlBottom:v=null}){void 0===g&&u&&(g=!0);const[y,j]=n.useState(!1),{advancedSettingsPreference:S}=C(e=>{var t;return{advancedSettingsPreference:null!==(t=e(no).get(jv,Sv))&&void 0!==t&&t}},[]),{set:w}=_(no),I=S||y,B=n.useRef(!0),N=n.useRef(),E=n.useRef(),D=n.useRef(!1),P=o.map(({id:e})=>e),[T,L,M,R,A]=function(e){const[t,o]=n.useState(e||{}),[l,s]=n.useState(e);return _v(e,l)||(s(e),o(e)),[t,o,e=>{o({...t,url:e})},e=>{o({...t,title:e})},e=>n=>{const l=Object.keys(n).reduce((t,o)=>(e.includes(o)&&(t[o]=n[o]),t),{});o({...t,...l})}]}(t),z=t&&!so(T,t),[O,F]=n.useState(void 0!==d?d:!t||!t.url),{createPage:V,isCreatingPage:$,errorMessage:H}=function(e){const t=n.useRef(),[o,l]=n.useState(!1),[s,i]=n.useState(null);return n.useEffect(()=>()=>{t.current&&t.current.cancel()},[]),{createPage:async function(n){l(!0),i(null);try{return t.current=kv(Promise.resolve(e(n))),await t.current.promise}catch(o){if(o&&o.isCanceled)return;throw i(o.message||To("An unknown error occurred during creation. Please try again.")),o}finally{l(!1)}},isCreatingPage:o,errorMessage:s}}(u);n.useEffect(()=>{void 0!==d&&F(d)},[d]),n.useEffect(()=>{if(B.current)return;(bt.focusable.find(N.current)[0]||N.current).focus(),D.current=!1},[O,$]),n.useEffect(()=>(B.current=!1,()=>{B.current=!0}),[]);const U=t?.url?.trim()?.length>0,G=()=>{D.current=!!N.current?.contains(N.current.ownerDocument.activeElement),F(!1)},W=()=>{z&&l({...t,...T,url:K}),G()},K=m||T?.url||"",q=!K?.trim()?.length,Z=s&&t&&!O&&!$,Y=O&&U,X=U&&x,J=(O||!t)&&!$,Q=!z||q,ee=!!o?.length&&O&&U;return p.jsxs("div",{tabIndex:-1,ref:N,className:"block-editor-link-control",children:[$&&p.jsxs("div",{className:"block-editor-link-control__loading",children:[p.jsx(Pr,{})," ",To("Creating"),"…"]}),J&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:Ti({"block-editor-link-control__search-input-wrapper":!0,"has-text-control":X,"has-actions":Y}),children:[X&&p.jsx(Hr,{__nextHasNoMarginBottom:!0,ref:E,className:"block-editor-link-control__field block-editor-link-control__text-content",label:To("Text"),value:T?.title,onChange:R,onKeyDown:e=>{const{keyCode:t}=e;t!==Tu||q||(e.preventDefault(),W())},__next40pxDefaultSize:!0}),p.jsx(uv,{currentLink:t,className:"block-editor-link-control__field block-editor-link-control__search-input",placeholder:e,value:K,withCreateSuggestion:g,onCreateSuggestion:V,onChange:M,onSelect:e=>{const t=Object.keys(e).reduce((t,n)=>(P.includes(n)||(t[n]=e[n]),t),{});l({...T,...t,title:T?.title||e?.title}),G()},showInitialSuggestions:c,allowDirectEntry:!r,showSuggestions:a,suggestionsQuery:h,withURLSuggestion:!f,createSuggestionButtonText:b,hideLabelFromVision:!X,suffix:Y?void 0:p.jsx(ca,{variant:"control",children:p.jsx(zi,{onClick:Q?Cv:W,label:To("Submit"),icon:io,className:"block-editor-link-control__search-submit","aria-disabled":Q,size:"small"})})})]}),H&&p.jsx(Qr,{className:"block-editor-link-control__search-error",status:"error",isDismissible:!1,children:H})]}),t&&!O&&!$&&p.jsx(hv,{value:t,onEditClick:()=>F(!0),hasRichPreviews:k,hasUnlinkControl:Z,onRemove:()=>{s(),F(!0)}},t?.url),ee&&p.jsx("div",{className:"block-editor-link-control__tools",children:!q&&p.jsx(Gx,{settingsOpen:I,setSettingsOpen:e=>{w&&w(jv,Sv,e),j(e)},children:p.jsx(bv,{value:T,settings:o,onChange:A(P)})})}),Y&&p.jsxs(xr,{justify:"right",className:"block-editor-link-control__search-actions",children:[p.jsx(zi,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:e=>{e.preventDefault(),e.stopPropagation(),L(t),U?G():s?.(),i?.()},children:To("Cancel")}),p.jsx(zi,{__next40pxDefaultSize:!0,variant:"primary",onClick:Q?Cv:W,className:"block-editor-link-control__search-submit","aria-disabled":Q,children:To("Save")})]}),!$&&v&&v()]})}wv.ViewerFill=gv,wv.DEFAULT_LINK_SETTINGS=lv;const Iv=({__next40pxDefaultSize:e=!1,value:t,onChange:n,__unstableInputWidth:o="60px",...l})=>{const s=hs(t),i=(e,t)=>{if(s)return e;const n=gs*ps;switch(`${e}`){case`${n}`:return ms+n;case"0":return t?e:ms-n;case"":return ms;default:return e}},r=s?t:us;return p.jsx("div",{className:"block-editor-line-height-control",children:p.jsx(or,{...l,__next40pxDefaultSize:e,__unstableInputWidth:o,__unstableStateReducer:(e,t)=>{const n=["insertText","insertFromPaste"].includes(t.payload.event.nativeEvent?.inputType),o=i(e.value,n);return{...e,value:o}},onChange:(e,{event:t})=>{""!==e?"click"!==t.type?n(`${e}`):n(i(`${e}`,!1)):n()},label:To("Line height"),placeholder:ms,step:gs,spinFactor:ps,value:r,min:0,spinControls:"custom"})})},Bv=()=>{};let Nv=0;const Ev=S([J(e=>{const{createNotice:t,removeNotice:n}=e(Ut);return{createNotice:t,removeNotice:n}}),Li("editor.MediaReplaceFlow")])(({mediaURL:e,mediaId:t,mediaIds:o,allowedTypes:l,accept:s,onError:i,onSelect:r,onSelectURL:a,onReset:c,onToggleFeaturedImage:d,useFeaturedImage:u,onFilesUpload:g=Bv,name:m=To("Replace"),createNotice:h,removeNotice:f,children:b,multiple:k=!1,addToGallery:x,handleUpload:v=!0,popoverProps:y})=>{const _=C(e=>e(zo).getSettings().mediaUpload,[]),j=!!_,S=n.useRef(),w="block-editor/media-replace-flow/error-notice/"+ ++Nv,I=e=>{const t=Vn(e);i?i(t):setTimeout(()=>{h("error",t,{speak:!0,id:w,isDismissible:!0})},1e3)},B=(e,t)=>{u&&d&&d(),t(),r(e),Ft(To("The media file has been replaced")),f(w)},N=e=>{e.keyCode===Mu&&(e.preventDefault(),e.target.click())},E=k&&!(!l||0===l.length)&&l.every(e=>"image"===e||e.startsWith("image/"));return p.jsx(ar,{popoverProps:y,contentClassName:"block-editor-media-replace-flow__options",renderToggle:({isOpen:e,onToggle:t})=>p.jsx(ir,{ref:S,"aria-expanded":e,"aria-haspopup":"true",onClick:t,onKeyDown:N,children:m}),renderContent:({onClose:n})=>p.jsxs(p.Fragment,{children:[p.jsxs(Gr,{className:"block-editor-media-replace-flow__media-upload-menu",children:[p.jsxs(rm,{children:[p.jsx(am,{gallery:E,addToGallery:x,multiple:k,value:k?o:t,onSelect:e=>B(e,n),allowedTypes:l,render:({open:e})=>p.jsx(Ai,{icon:ro,onClick:e,children:To("Open Media Library")})}),p.jsx(da,{onChange:e=>{((e,t)=>{const n=e.target.files;if(!v)return t(),r(n);g(n),_({allowedTypes:l,filesList:n,onFileChange:([e])=>{B(e,t)},onError:I})})(e,n)},accept:s,multiple:!!k,render:({openFileDialog:e})=>p.jsx(Ai,{icon:ao,onClick:()=>{e()},children:To("Upload")})})]}),d&&p.jsx(Ai,{icon:co,onClick:d,isPressed:u,children:To("Use featured image")}),e&&c&&p.jsx(Ai,{onClick:()=>{c(),n()},children:To("Reset")}),"function"==typeof b?b({onClose:n}):b]}),a&&p.jsxs("form",{className:Ti("block-editor-media-flow__url-input",{"has-siblings":j||d}),children:[p.jsx("span",{className:"block-editor-media-replace-flow__image-url-label",children:To("Current media URL:")}),p.jsx(wv,{value:{url:e},settings:[],showSuggestions:!1,onChange:({url:e})=>{a(e),S.current.focus()}})]})]})})});function Dv({url:e,urlLabel:t,className:n}){const o=Ti(n,"block-editor-url-popover__link-viewer-url");return e?p.jsx(Er,{className:o,href:e,children:t||Kn(Gn(e))}):p.jsx("span",{className:o})}function Pv(e){return"function"==typeof e}class Tv extends n.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.selectLink=this.selectLink.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.bindSuggestionNode=this.bindSuggestionNode.bind(this),this.autocompleteRef=e.autocompleteRef||n.createRef(),this.inputRef=n.createRef(),this.updateSuggestions=Pe(this.updateSuggestions.bind(this),200),this.suggestionNodes=[],this.suggestionsRequest=null,this.state={suggestions:[],showSuggestions:!1,suggestionsValue:null,selectedSuggestion:null,suggestionsListboxId:"",suggestionOptionIdPrefix:""}}componentDidUpdate(e){const{showSuggestions:t,selectedSuggestion:n}=this.state,{value:o,__experimentalShowInitialSuggestions:l=!1}=this.props;t&&null!==n&&this.suggestionNodes[n]&&this.suggestionNodes[n].scrollIntoView({behavior:"instant",block:"nearest",inline:"nearest"}),e.value===o||this.props.disableSuggestions||(o?.length?this.updateSuggestions(o):l&&this.updateSuggestions())}componentDidMount(){this.shouldShowInitialSuggestions()&&this.updateSuggestions()}componentWillUnmount(){this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null}bindSuggestionNode(e){return t=>{this.suggestionNodes[e]=t}}shouldShowInitialSuggestions(){const{__experimentalShowInitialSuggestions:e=!1,value:t}=this.props;return e&&!(t&&t.length)}updateSuggestions(e=""){const{__experimentalFetchLinkSuggestions:t,__experimentalHandleURLSuggestions:n}=this.props;if(!t)return;const o=!e?.length;if(e=e.trim(),!o&&(e.length<2||!n&&uo(e)))return this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null,void this.setState({suggestions:[],showSuggestions:!1,suggestionsValue:e,selectedSuggestion:null,loading:!1});this.setState({selectedSuggestion:null,loading:!0});const l=t(e,{isInitialSuggestions:o});l.then(t=>{this.suggestionsRequest===l&&(this.setState({suggestions:t,suggestionsValue:e,loading:!1,showSuggestions:!!t.length}),t.length?this.props.debouncedSpeak(Ro(Ao("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",t.length),t.length),"assertive"):this.props.debouncedSpeak(To("No results."),"assertive"))}).catch(()=>{this.suggestionsRequest===l&&this.setState({loading:!1})}).finally(()=>{this.suggestionsRequest===l&&(this.suggestionsRequest=null)}),this.suggestionsRequest=l}onChange(e){this.props.onChange(e)}onFocus(){const{suggestions:e}=this.state,{disableSuggestions:t,value:n}=this.props;!n||t||e&&e.length||null!==this.suggestionsRequest||this.updateSuggestions(n)}onKeyDown(e){this.props.onKeyDown?.(e);const{showSuggestions:t,selectedSuggestion:n,suggestions:o,loading:l}=this.state;if(!t||!o.length||l){switch(e.keyCode){case Lu:0!==e.target.selectionStart&&(e.preventDefault(),e.target.setSelectionRange(0,0));break;case Mu:this.props.value.length!==e.target.selectionStart&&(e.preventDefault(),e.target.setSelectionRange(this.props.value.length,this.props.value.length));break;case Tu:this.props.onSubmit&&(e.preventDefault(),this.props.onSubmit(null,e))}return}const s=this.state.suggestions[this.state.selectedSuggestion];switch(e.keyCode){case Lu:{e.preventDefault();const t=n?n-1:o.length-1;this.setState({selectedSuggestion:t});break}case Mu:{e.preventDefault();const t=null===n||n===o.length-1?0:n+1;this.setState({selectedSuggestion:t});break}case 9:null!==this.state.selectedSuggestion&&(this.selectLink(s),this.props.speak(To("Link selected.")));break;case Tu:e.preventDefault(),null!==this.state.selectedSuggestion?(this.selectLink(s),this.props.onSubmit&&this.props.onSubmit(s,e)):this.props.onSubmit&&this.props.onSubmit(null,e)}}selectLink(e){this.props.onChange(e.url,e),this.setState({selectedSuggestion:null,showSuggestions:!1})}handleOnClick(e){this.selectLink(e),this.inputRef.current.focus()}static getDerivedStateFromProps({value:e,instanceId:t,disableSuggestions:n,__experimentalShowInitialSuggestions:o=!1},{showSuggestions:l}){let s=l;const i=e&&e.length;return o||i||(s=!1),!0===n&&(s=!1),{showSuggestions:s,suggestionsListboxId:`block-editor-url-input-suggestions-${t}`,suggestionOptionIdPrefix:`block-editor-url-input-suggestion-${t}`}}render(){return p.jsxs(p.Fragment,{children:[this.renderControl(),this.renderSuggestions()]})}renderControl(){const{label:e=null,className:t,isFullWidth:n,instanceId:o,placeholder:l=To("Paste URL or type to search"),__experimentalRenderControl:s,value:i="",hideLabelFromVision:r=!1}=this.props,{loading:a,showSuggestions:c,selectedSuggestion:d,suggestionsListboxId:u,suggestionOptionIdPrefix:g}=this.state,m=`url-input-control-${o}`,h={id:m,label:e,className:Ti("block-editor-url-input",t,{"is-full-width":n}),hideLabelFromVision:r},f={id:m,value:i,required:!0,type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder:l,onKeyDown:this.onKeyDown,role:"combobox","aria-label":e?void 0:To("URL"),"aria-expanded":c,"aria-autocomplete":"list","aria-owns":u,"aria-activedescendant":null!==d?`${g}-${d}`:void 0,ref:this.inputRef,suffix:this.props.suffix};return s?s(h,f,a):p.jsxs(nr,{__nextHasNoMarginBottom:!0,...h,children:[p.jsx(pa,{...f,__next40pxDefaultSize:!0}),a&&p.jsx(Pr,{})]})}renderSuggestions(){const{className:e,__experimentalRenderSuggestions:t}=this.props,{showSuggestions:o,suggestions:l,suggestionsValue:s,selectedSuggestion:i,suggestionsListboxId:r,suggestionOptionIdPrefix:a,loading:c}=this.state;if(!o||0===l.length)return null;const d={id:r,ref:this.autocompleteRef,role:"listbox"},u=(e,t)=>({role:"option",tabIndex:"-1",id:`${a}-${t}`,ref:this.bindSuggestionNode(t),"aria-selected":t===i||void 0});return Pv(t)?t({suggestions:l,selectedSuggestion:i,suggestionsListProps:d,buildSuggestionItemProps:u,isLoading:c,handleSuggestionClick:this.handleOnClick,isInitialSuggestions:!s?.length,currentInputValue:s}):p.jsx(Lr,{placement:"bottom",focusOnMount:!1,children:p.jsx("div",{...d,className:Ti("block-editor-url-input__suggestions",`${e}__suggestions`),children:l.map((e,t)=>n.createElement(zi,{__next40pxDefaultSize:!0,...u(0,t),key:e.id,className:Ti("block-editor-url-input__suggestion",{"is-selected":t===i}),onClick:()=>this.handleOnClick(e)},e.title))})})}}const Lv=S(Te,ua,Le,ye((e,t)=>{if(Pv(t.__experimentalFetchLinkSuggestions))return;const{getSettings:n}=e(zo);return{__experimentalFetchLinkSuggestions:n().__experimentalFetchLinkSuggestions}}))(Tv);const{__experimentalPopoverLegacyPositionToPlacement:Mv}=td(Oi),Rv=n.forwardRef(({additionalControls:e,children:t,renderSettings:o,placement:l,focusOnMount:s="firstElement",position:i,...r},a)=>{let c;void 0!==i&&He("`position` prop in wp.blockEditor.URLPopover",{since:"6.2",alternative:"`placement` prop"}),void 0!==l?c=l:void 0!==i&&(c=Mv(i)),c=c||"bottom";const[d,u]=n.useState(!1),g=!!o&&d;return p.jsxs(Lr,{ref:a,role:"dialog","aria-modal":"true","aria-label":To("Edit URL"),className:"block-editor-url-popover",focusOnMount:s,placement:c,shift:!0,variant:"toolbar",...r,children:[p.jsx("div",{className:"block-editor-url-popover__input-container",children:p.jsxs("div",{className:"block-editor-url-popover__row",children:[t,!!o&&p.jsx(zi,{className:"block-editor-url-popover__settings-toggle",icon:Qt,label:To("Link settings"),onClick:()=>{u(!d)},"aria-expanded":d,size:"compact"})]})}),g&&p.jsx("div",{className:"block-editor-url-popover__settings",children:o()}),e&&!g&&p.jsx("div",{className:"block-editor-url-popover__additional-controls",children:e})]})});Rv.LinkEditor=function({autocompleteRef:e,className:t,onChangeInputValue:n,value:o,...l}){return p.jsxs("form",{className:Ti("block-editor-url-popover__link-editor",t),...l,children:[p.jsx(Lv,{value:o,onChange:n,autocompleteRef:e}),p.jsx(zi,{icon:io,label:To("Apply"),type:"submit",size:"compact"})]})},Rv.LinkViewer=function({className:e,linkClassName:t,onEditLinkClick:n,url:o,urlLabel:l,...s}){return p.jsxs("div",{className:Ti("block-editor-url-popover__link-viewer",e),...s,children:[p.jsx(Dv,{url:o,urlLabel:l,className:t}),n&&p.jsx(zi,{icon:pn,label:To("Edit"),onClick:n,size:"compact"})]})};const Av=()=>{},zv=({src:e,onChange:t,onSubmit:n,onClose:o,popoverAnchor:l})=>p.jsx(Rv,{anchor:l,onClose:o,children:p.jsx("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:n,children:p.jsx(pa,{__next40pxDefaultSize:!0,label:To("URL"),hideLabelFromVision:!0,placeholder:To("Paste or type URL"),onChange:t,value:e,suffix:p.jsx(ca,{variant:"control",children:p.jsx(zi,{size:"small",icon:io,label:To("Apply"),type:"submit"})})})})}),Ov=({src:e,onChangeSrc:t,onSelectURL:o})=>{const[l,s]=n.useState(null),[i,r]=n.useState(!1),a=()=>{r(!1),l?.focus()};return p.jsxs("div",{className:"block-editor-media-placeholder__url-input-container",children:[p.jsx(zi,{__next40pxDefaultSize:!0,className:"block-editor-media-placeholder__button",onClick:()=>{r(!0)},isPressed:i,variant:"secondary","aria-haspopup":"dialog",ref:s,children:To("Insert from URL")}),i&&p.jsx(zv,{src:e,onChange:t,onSubmit:t=>{t.preventDefault(),e&&o&&(o(e),a())},onClose:a,popoverAnchor:l})]})};const Fv=Li("editor.MediaPlaceholder")(function({value:e={},allowedTypes:t,className:o,icon:l,labels:s={},mediaPreview:i,notices:r,isAppender:a,accept:c,addToGallery:d,multiple:u=!1,handleUpload:g=!0,disableDropZone:m,disableMediaButtons:h,onError:f,onSelect:b,onCancel:k,onSelectURL:x,onToggleFeaturedImage:v,onDoubleClick:y,onFilesPreUpload:_=Av,onHTMLDrop:j,children:S,mediaLibraryButton:w,placeholder:I,style:B}){j&&He("wp.blockEditor.MediaPlaceholder onHTMLDrop prop",{since:"6.2",version:"6.4"});const N=C(e=>{const{getSettings:t}=e(zo);return t().mediaUpload},[]),[E,D]=n.useState("");n.useEffect(()=>{var t;D(null!==(t=e?.src)&&void 0!==t?t:"")},[e?.src]);const P=n=>{if(!g||"function"==typeof g&&!g(n))return b(n);let o;if(_(n),u)if(d){let t=[];o=n=>{const o=(null!=e?e:[]).filter(e=>e.id?!t.some(({id:t})=>Number(t)===Number(e.id)):!t.some(({urlSlug:t})=>e.url.includes(t)));b(o.concat(n)),t=n.map(e=>{const t=e.url.lastIndexOf("."),n=e.url.slice(0,t);return{id:e.id,urlSlug:n}})}}else o=b;else o=([e])=>b(e);N({allowedTypes:t,filesList:n,onFileChange:o,onError:f})};async function T(e){const n=ce({HTML:e});return await async function(e){if(!e||!Array.isArray(e))return;const n=function e(t){return t.flatMap(t=>"core/image"!==t.name&&"core/audio"!==t.name&&"core/video"!==t.name||!t.attributes.url?e(t.innerBlocks):[t])}(e);if(!n.length)return;const o=await Promise.all(n.map(e=>e.attributes.id?e.attributes:new Promise((n,o)=>{window.fetch(e.attributes.url).then(e=>e.blob()).then(l=>N({filesList:[l],additionalData:{title:e.attributes.title,alt_text:e.attributes.alt,caption:e.attributes.caption},onFileChange:([e])=>{e.id&&n(e)},allowedTypes:t,onError:o})).catch(()=>n(e.attributes.url))}))).catch(e=>f(e));b(u?o:o[0])}(n)}const L=e=>{P(e.target.files)},M=null!=I?I:e=>{let{instructions:n,title:c}=s;if(N||x||(n=To("To edit this block, you need permission to upload media.")),void 0===n||void 0===c){const e=null!=t?t:[],[o]=e,l=1===e.length,s=l&&"audio"===o,i=l&&"image"===o,r=l&&"video"===o;void 0===n&&N&&(n=To("Upload a media file or pick one from your media library."),s?n=To("Upload or drag an audio file here, or pick one from your library."):i?n=To("Upload or drag an image file here, or pick one from your library."):r&&(n=To("Upload or drag a video file here, or pick one from your library."))),void 0===c&&(c=To("Media"),s?c=To("Audio"):i?c=To("Image"):r&&(c=To("Video")))}const d=Ti("block-editor-media-placeholder",o,{"is-appender":a});return p.jsxs(Yr,{icon:l,label:c,instructions:n,className:d,notices:r,onDoubleClick:y,preview:i,style:B,children:[e,S]})},R=()=>m?null:p.jsx(ga,{onFilesDrop:P,onHTMLDrop:T}),A=()=>k&&p.jsx(zi,{__next40pxDefaultSize:!0,className:"block-editor-media-placeholder__cancel-button",title:To("Cancel"),variant:"link",onClick:k,children:To("Cancel")}),z=()=>x&&p.jsx(Ov,{src:E,onChangeSrc:D,onSelectURL:x}),O=()=>v&&p.jsx("div",{className:"block-editor-media-placeholder__url-input-container",children:p.jsx(zi,{__next40pxDefaultSize:!0,className:"block-editor-media-placeholder__button",onClick:v,variant:"secondary",children:To("Use featured image")})});return h?p.jsx(rm,{children:R()}):p.jsx(rm,{fallback:M(z()),children:(()=>{const n=null!=w?w:({open:e})=>p.jsx(zi,{__next40pxDefaultSize:!0,variant:"secondary",onClick:()=>{e()},children:To("Media Library")}),o=p.jsx(am,{addToGallery:d,gallery:u&&!(!t||0===t.length)&&t.every(e=>"image"===e||e.startsWith("image/")),multiple:u,onSelect:b,allowedTypes:t,mode:"browse",value:Array.isArray(e)?e.map(({id:e})=>e):e.id,render:n});if(N&&a)return p.jsxs(p.Fragment,{children:[R(),p.jsx(da,{onChange:L,accept:c,multiple:!!u,render:({openFileDialog:e})=>{const t=p.jsxs(p.Fragment,{children:[p.jsx(zi,{__next40pxDefaultSize:!0,variant:"primary",className:Ti("block-editor-media-placeholder__button","block-editor-media-placeholder__upload-button"),onClick:e,children:To("Upload")}),o,z(),O(),A()]});return M(t)}})]});if(N){const e=p.jsxs(p.Fragment,{children:[R(),p.jsx(da,{render:({openFileDialog:e})=>p.jsx(zi,{__next40pxDefaultSize:!0,onClick:e,variant:"primary",className:Ti("block-editor-media-placeholder__button","block-editor-media-placeholder__upload-button"),children:To("Upload")}),onChange:L,accept:c,multiple:!!u}),o,z(),O(),A()]});return M(e)}return M(o)})()})}),Vv={placement:"bottom-start"},$v=()=>p.jsxs(p.Fragment,{children:[["bold","italic","link","unknown"].map(e=>p.jsx(ma,{name:`RichText.ToolbarControls.${e}`},e)),p.jsx(ma,{name:"RichText.ToolbarControls",children:e=>{if(!e.length)return null;const t=e.map(([{props:e}])=>e).some(({isActive:e})=>e);return p.jsx(Fr,{children:n=>p.jsx(Mi,{icon:Qt,label:To("More"),toggleProps:{...n,className:Ti(n.className,{"is-pressed":t}),description:To("Displays more block tools")},controls:nl(e.map(([{props:e}])=>e),"title"),popoverProps:Vv})})}})]});function Hv({popoverAnchor:e}){return p.jsx(Lr,{placement:"top",focusOnMount:!1,anchor:e,className:"block-editor-rich-text__inline-format-toolbar",__unstableSlotName:"block-toolbar",children:p.jsx(kb,{className:"block-editor-rich-text__inline-format-toolbar-group","aria-label":To("Format tools"),children:p.jsx(Vi,{children:p.jsx($v,{})})})})}const Uv=({inline:e,editableContentElement:t})=>e?p.jsx(Hv,{popoverAnchor:t}):p.jsx(Pf,{group:"inline",children:p.jsx($v,{})});function Gv(e){return e(po).getFormatTypes()}const Wv=new Set(["a","audio","button","details","embed","iframe","input","label","select","textarea","video"]);function Kv(e,t){return e[t]?e[t]:Object.keys(e).filter(e=>e.startsWith(t+".")).reduce((n,o)=>(n[o.slice(t.length+1)]=e[o],n),{})}const qv=["`",'"',"'","“”","‘’"];function Zv(e){let t=e.length;for(;t--;){const n=bs(e[t].attributes);if(n)return e[t].attributes[n]=e[t].attributes[n].toString().replace(fs,""),[e[t].clientId,n,0,0];const o=Zv(e[t].innerBlocks);if(o)return o}return[]}const Yv=[e=>t=>{function n(n){const{inputType:o,data:l}=n,{value:s,onChange:i,registry:r}=e.current;if("insertText"!==o)return;if(go(s))return;const a=T("blockEditor.wrapSelectionSettings",qv).find(([e,t])=>e===l||t===l);if(!a)return;const[c,d=c]=a,u=s.start,p=s.end+c.length;let g=mo(s,c,u,u);g=mo(g,d,p,p);const{__unstableMarkLastChangeAsPersistent:m,__unstableMarkAutomaticChange:h}=r.dispatch(zo);m(),i(g),h();const f={};for(const e in n)f[e]=n[e];f.data=d;const{ownerDocument:b}=t,{defaultView:k}=b,x=new k.InputEvent("input",f);window.queueMicrotask(()=>{n.target.dispatchEvent(x)}),n.preventDefault()}return t.addEventListener("beforeinput",n),()=>{t.removeEventListener("beforeinput",n)}},e=>t=>{function n(){const{getValue:t,onReplace:n,selectionChange:o,registry:l}=e.current;if(!n)return;const s=t(),{start:i,text:r}=s;if(" "!==r.slice(i-1,i))return;const a=r.slice(0,i).trim(),c=re("from").filter(({type:e})=>"prefix"===e),d=ae(c,({prefix:e})=>a===e);if(!d)return;const u=ho({value:mo(s,fs,0,i)}),p=d.transform(u);return o(...Zv([p])),n([p]),l.dispatch(zo).__unstableMarkAutomaticChange(),!0}function o(t){const{inputType:o,type:l}=t,{getValue:s,onChange:i,__unstableAllowPrefixTransformations:r,formatTypes:a,registry:c}=e.current;if("insertText"!==o&&"compositionend"!==l)return;if(r&&n())return;const d=s(),u=a.reduce((e,{__unstableInputRule:t})=>(t&&(e=t(e)),e),function(e){const t="tales of gutenberg",{start:n,text:o}=e;return n<18||o.slice(n-18,n).toLowerCase()!==t?e:mo(e," 🐡🐢🦀🐤🦋🐘🐧🐹🦁🦄🦍🐼🐿🎃🐴🐝🐆🦕🦔🌱🍇π🍌🐉💧🥨🌌🍂🍠🥦🥚🥝🎟🥥🥒🛵🥖🍒🍯🎾🎲🐺🐚🐮⌛️")}(d)),{__unstableMarkLastChangeAsPersistent:p,__unstableMarkAutomaticChange:g}=c.dispatch(zo);u!==d&&(p(),i({...u,activeFormats:d.activeFormats}),g())}return t.addEventListener("input",o),t.addEventListener("compositionend",o),()=>{t.removeEventListener("input",o),t.removeEventListener("compositionend",o)}},e=>t=>{function n(t){if("insertReplacementText"!==t.inputType)return;const{registry:n}=e.current;n.dispatch(zo).__unstableMarkLastChangeAsPersistent()}return t.addEventListener("beforeinput",n),()=>{t.removeEventListener("beforeinput",n)}},()=>e=>{function t(e){(Gu.primary(e,"z")||Gu.primary(e,"y")||Gu.primaryShift(e,"z"))&&e.preventDefault()}return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},e=>t=>{const{keyboardShortcuts:n}=e.current;function o(e){for(const t of n.current)t(e)}return t.addEventListener("keydown",o),()=>{t.removeEventListener("keydown",o)}},e=>t=>{const{inputEvents:n}=e.current;function o(e){for(const t of n.current)t(e)}return t.addEventListener("input",o),()=>{t.removeEventListener("input",o)}},e=>t=>{function n(t){const{keyCode:n}=t;if(t.defaultPrevented)return;if(n!==Pu&&27!==n)return;const{registry:o}=e.current,{didAutomaticChange:l,getSettings:s}=o.select(zo),{__experimentalUndo:i}=s();i&&l()&&(t.preventDefault(),i())}return t.addEventListener("keydown",n),()=>{t.removeEventListener("keydown",n)}},e=>t=>{function n(n){const{disableFormats:o,onChange:l,value:s,formatTypes:i,tagName:r,onReplace:a,__unstableEmbedURLOnPaste:c,preserveWhiteSpace:d,pastePlainText:u}=e.current;if(!t.contains(n.target))return;if(n.defaultPrevented)return;const{plainText:p,html:g}=hl(n);if(n.preventDefault(),window.console.log("Received HTML:\n\n",g),window.console.log("Received plain text:\n\n",p),o)return void l(mo(s,p));function m(e){const t=i.reduce((e,{__unstablePasteRule:t})=>(t&&e===s&&(e=t(s,{html:g,plainText:p})),e),s);if(t!==s)l(t);else{const t=Mt({html:e});ks(t,s.activeFormats),l(mo(s,t))}}if("true"===n.clipboardData.getData("rich-text"))return void m(g);if(u)return void l(mo(s,Mt({text:p})));let h="INLINE";const f=p.trim();c&&fo(s)&&uo(f)&&/^https?:/.test(f)&&(h="BLOCKS");const b=ce({HTML:g,plainText:p,mode:h,tagName:r});"string"==typeof b?m(b):b.length>0&&a&&fo(s)&&a(b,b.length-1,-1)}const{defaultView:o}=t.ownerDocument;return o.addEventListener("paste",n),()=>{o.removeEventListener("paste",n)}},e=>t=>{function n(t){const{keyCode:n}=t;if(t.defaultPrevented)return;const{value:o,onMerge:l,onRemove:s}=e.current;if(n===Ru||n===Pu){const{start:e,end:i,text:r}=o,a=n===Pu,c=o.activeFormats&&!!o.activeFormats.length;if(!go(o)||c||a&&0!==e||!a&&i!==r.length)return;l?l(!a):s&&fo(o)&&a&&s(!a),t.preventDefault()}}return t.addEventListener("keydown",n),()=>{t.removeEventListener("keydown",n)}},e=>t=>{function n(t){if(t.keyCode!==Tu)return;const{onReplace:n,onSplit:o}=e.current;n&&o&&(t.__deprecatedOnSplit=!0)}function o(n){if(n.defaultPrevented)return;if(n.target!==t)return;if(n.keyCode!==Tu)return;const{value:o,onChange:l,disableLineBreaks:s,onSplitAtEnd:i,onSplitAtDoubleLineEnd:r,registry:a}=e.current;n.preventDefault();const{text:c,start:d,end:u}=o;n.shiftKey?s||l(mo(o,"\n")):i&&d===u&&u===c.length?i():r&&d===u&&u===c.length&&"\n\n"===c.slice(-2)?a.batch(()=>{const e={...o};e.start=e.end-2,l(bo(e)),r()}):s||l(mo(o,"\n"))}const{defaultView:l}=t.ownerDocument;return l.addEventListener("keydown",o),t.addEventListener("keydown",n),()=>{l.removeEventListener("keydown",o),t.removeEventListener("keydown",n)}},e=>t=>{function n(){const{registry:n}=e.current;if(!n.select(zo).isMultiSelecting())return;const o=t.parentElement.closest('[contenteditable="true"]');o&&o.focus()}return t.addEventListener("focus",n),()=>{t.removeEventListener("focus",n)}}];function Xv(e){const t=n.useRef(e);t.current=e;const o=n.useMemo(()=>Yv.map(e=>e(t)),[t]);return z(t=>{if(!e.isSelected)return;const n=o.map(e=>e(t));return()=>{n.forEach(e=>e())}},[o,e.isSelected])}const Jv={},Qv=Symbol("usesContext");function ey({onChange:e,onFocus:t,value:o,forwardedRef:l,settings:s}){const{name:i,edit:r,[Qv]:a}=s,c=n.useContext(nd),d=n.useMemo(()=>a?Object.fromEntries(Object.entries(c).filter(([e])=>a.includes(e))):Jv,[a,c]);if(!r)return null;const u=ko(o,i),g=void 0!==u,m=xo(o),h=void 0!==m&&m.type===i;return p.jsx(r,{isActive:g,activeAttributes:g&&u.attributes||{},isObjectActive:h,activeObjectAttributes:h&&m.attributes||{},value:o,onChange:e,onFocus:t,contentRef:l,context:d},i)}function ty({formatTypes:e,...t}){return e.map(e=>n.createElement(ey,{settings:e,...t,key:e.name}))}function ny(e,t){if(py.isEmpty(e)){const e=xs(t);return e?`<${e}></${e}>`:""}return Array.isArray(e)?(He("wp.blockEditor.RichText value prop as children type",{since:"6.1",version:"6.3",alternative:"value prop as string",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/"}),Me.toHTML(e)):"string"==typeof e?e:e.toHTMLString()}function oy({value:e,tagName:t,multiline:n,format:o,...l}){return e=p.jsx(O,{children:ny(e,n)}),t?p.jsx(t,{...l,children:e}):e}const ly=n.forwardRef(function({children:e,identifier:t,tagName:n="div",value:o="",onChange:l,multiline:s,...i},r){He("wp.blockEditor.RichText multiline prop",{since:"6.1",version:"6.3",alternative:"nested blocks (InnerBlocks)",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/nested-blocks-inner-blocks/"});const{clientId:a}=Wc(),{getSelectionStart:c,getSelectionEnd:d}=C(zo),{selectionChange:u}=_(zo),g=xs(s),m=`</${g}>${o=o||`<${g}></${g}>`}<${g}>`.split(`</${g}><${g}>`);function h(e){l(`<${g}>${e.join(`</${g}><${g}>`)}</${g}>`)}return m.shift(),m.pop(),p.jsx(n,{ref:r,children:m.map((e,n)=>p.jsx(cy,{identifier:`${t}-${n}`,tagName:g,value:e,onChange:e=>{const t=m.slice();t[n]=e,h(t)},isSelected:void 0,onKeyDown:o=>{if(o.keyCode!==Tu)return;o.preventDefault();const{offset:l}=c(),{offset:s}=d();if("number"!=typeof l||"number"!=typeof s)return;const i=Mt({html:e});i.start=l,i.end=s;const r=vo(i).map(e=>ho({value:e})),p=m.slice();p.splice(n,1,...r),h(p),u(a,`${t}-${n+1}`,0,0)},onMerge:e=>{const o=m.slice();let l=0;if(e){if(!o[n+1])return;o.splice(n,2,o[n]+o[n+1]),l=o[n].length-1}else{if(!o[n-1])return;o.splice(n-1,2,o[n-1]+o[n]),l=o[n-1].length-1}h(o),u(a,`${t}-${n-(e?0:1)}`,l,l)},...i},n))})});const sy=n.createContext(),iy=n.createContext(),ry=Symbol("instanceId");function ay(e){const{__unstableMobileNoFocusOnMount:t,deleteEnter:n,placeholderTextColor:o,textAlign:l,selectionColor:s,tagsToEliminate:i,disableEditingMenu:r,fontSize:a,fontFamily:c,fontWeight:d,fontStyle:u,minWidth:p,maxWidth:g,disableSuggestions:m,disableAutocorrection:h,...f}=e;return f}function cy({children:e,tagName:t="div",value:o="",onChange:l,isSelected:s,multiline:i,inlineToolbar:r,wrapperClassName:a,autocompleters:c,onReplace:d,placeholder:u,allowedFormats:g,withoutInteractiveFormatting:m,onRemove:h,onMerge:f,onSplit:b,__unstableOnSplitAtEnd:k,__unstableOnSplitAtDoubleLineEnd:x,identifier:v,preserveWhiteSpace:y,__unstablePastePlainText:j,__unstableEmbedURLOnPaste:S,__unstableDisableFormats:w,disableLineBreaks:I,__unstableAllowPrefixTransformations:B,readOnly:N,...E},D){E=ay(E),b&&He("wp.blockEditor.RichText onSplit prop",{since:"6.4",alternative:'block.json support key: "splitting"'});const P=me(cy),T=n.useRef(),L=Wc(),{clientId:M,isSelected:R,name:A}=L,z=L[Vc],O=n.useContext(nd),F=oe(),{selectionStart:V,selectionEnd:$,isSelected:H}=C(e=>{if(!R)return{isSelected:!1};const{getSelectionStart:t,getSelectionEnd:n}=e(zo),o=t(),l=n();let i;return void 0===s?i=o.clientId===M&&l.clientId===M&&(v?o.attributeKey===v:o[ry]===P):s&&(i=o.clientId===M),{selectionStart:i?o.offset:void 0,selectionEnd:i?l.offset:void 0,isSelected:i}},[M,v,P,s,R]),{disableBoundBlock:U,bindingsPlaceholder:G,bindingsLabel:K}=C(e=>{var t;if(!z?.[v]||!dl(A))return{};const n=z[v],l=Re(n.source),s={};if(l?.usesContext?.length)for(const o of l.usesContext)s[o]=O[o];const i=!l?.canUserEditValue?.({select:e,context:s,args:n.args});if(o.length>0)return{disableBoundBlock:i,bindingsPlaceholder:null,bindingsLabel:null};const{getBlockAttributes:r}=e(zo),a=r(M),c=l?.getFieldsList?.({select:e,context:s}),d=null!==(t=c?.[n?.args?.key]?.label)&&void 0!==t?t:l?.label,u=i?d:Ro(To("Add %s"),d),p=i?n?.args?.key||l?.label:Ro(To("Empty %s; start writing to edit its value"),n?.args?.key||l?.label);return{disableBoundBlock:i,bindingsPlaceholder:a?.placeholder||u,bindingsLabel:p}},[z,v,A,O,o]),q=N||U,{getSelectionStart:Z,getSelectionEnd:Y,getBlockRootClientId:X}=C(zo),{selectionChange:J}=_(zo),Q=vs({allowedFormats:g,disableFormats:w}),ee=!Q||Q.length>0,te=n.useCallback((e,t)=>{const n={},o=void 0===e&&void 0===t,l={clientId:M,[v?"attributeKey":ry]:v||P};if("number"==typeof e||o){if(void 0===t&&X(M)!==X(Y().clientId))return;n.start={...l,offset:e}}if("number"==typeof t||o){if(void 0===e&&X(M)!==X(Z().clientId))return;n.end={...l,offset:t}}J(n)},[M,X,Y,Z,v,P,J]),{formatTypes:ne,prepareHandlers:le,valueHandlers:se,changeHandlers:ie,dependencies:re}=function({clientId:e,identifier:t,withoutInteractiveFormatting:o,allowedFormats:l}){const s=C(Gv,[]),i=n.useMemo(()=>s.filter(({name:e,interactive:t,tagName:n})=>!(l&&!l.includes(e)||o&&(t||Wv.has(n)))),[s,l,o]),r=C(n=>i.reduce((o,l)=>{return l.__experimentalGetPropsForEditableTreePreparation?{...o,...(s=l.__experimentalGetPropsForEditableTreePreparation(n,{richTextIdentifier:t,blockClientId:e}),i=l.name,"object"!=typeof s?{[i]:s}:Object.fromEntries(Object.entries(s).map(([e,t])=>[`${i}.${e}`,t])))}:o;var s,i},{}),[i,e,t]),a=_(),c=[],d=[],u=[],p=[];for(const n in r)p.push(r[n]);return i.forEach(n=>{if(n.__experimentalCreatePrepareEditableTree){const o=n.__experimentalCreatePrepareEditableTree(Kv(r,n.name),{richTextIdentifier:t,blockClientId:e});n.__experimentalCreateOnChangeEditableValue?d.push(o):c.push(o)}if(n.__experimentalCreateOnChangeEditableValue){let o={};n.__experimentalGetPropsForEditableTreeChangeHandler&&(o=n.__experimentalGetPropsForEditableTreeChangeHandler(a,{richTextIdentifier:t,blockClientId:e}));const l=Kv(r,n.name);u.push(n.__experimentalCreateOnChangeEditableValue({..."object"==typeof l?l:{},...o},{richTextIdentifier:t,blockClientId:e}))}}),{formatTypes:i,prepareHandlers:c,valueHandlers:d,changeHandlers:u,dependencies:p}}({clientId:M,identifier:v,withoutInteractiveFormatting:m,allowedFormats:Q});function ae(e){return ne.forEach(t=>{t.__experimentalCreatePrepareEditableTree&&(e=Co(e,t.name,0,e.text.length))}),e.formats}const{value:ce,getValue:de,onChange:ue,ref:pe}=_o({value:o,onChange(e,{__unstableFormats:t,__unstableText:n}){l(e),Object.values(ie).forEach(e=>{e(t,n)})},selectionStart:V,selectionEnd:$,onSelectionChange:te,placeholder:G||u,__unstableIsSelected:H,__unstableDisableFormats:w,preserveWhiteSpace:y,__unstableDependencies:[...re,t],__unstableAfterParse:function(e){return se.reduce((t,n)=>n(t,e.text),e.formats)},__unstableBeforeSerialize:ae,__unstableAddInvisibleFormats:function(e){return le.reduce((t,n)=>n(t,e.text),e.formats)}}),ge=function(e){return Gi({...e,completers:Wd(e)})}({onReplace:d,completers:c,record:ce,onChange:ue});!function({html:e,value:t}){const o=n.useRef(),l=!!t.activeFormats?.length,{__unstableMarkLastChangeAsPersistent:s}=_(zo);n.useLayoutEffect(()=>{if(o.current){if(o.current!==t.text){const e=window.setTimeout(()=>{s()},1e3);return o.current=t.text,()=>{window.clearTimeout(e)}}s()}else o.current=t.text},[e,l])}({html:o,value:ce});const he=n.useRef(new Set),fe=n.useRef(new Set);function be(){T.current?.focus()}const ke=t;return p.jsxs(p.Fragment,{children:[H&&p.jsx(sy.Provider,{value:he,children:p.jsx(iy.Provider,{value:fe,children:p.jsxs(Lr.__unstableSlotNameProvider,{value:"__unstable-block-tools-after",children:[e&&e({value:ce,onChange:ue,onFocus:be}),p.jsx(ty,{value:ce,onChange:ue,onFocus:be,formatTypes:ne,forwardedRef:T})]})})}),H&&ee&&p.jsx(Uv,{inline:r,editableContentElement:T.current}),p.jsx(ke,{role:"textbox","aria-multiline":!I,"aria-readonly":q,...E,"aria-label":K||E["aria-label"]||u,...ge,ref:W([pe,D,ge.ref,E.ref,Xv({registry:F,getValue:de,onChange:ue,__unstableAllowPrefixTransformations:B,formatTypes:ne,onReplace:d,selectionChange:J,isSelected:H,disableFormats:w,value:ce,tagName:t,onSplit:b,__unstableEmbedURLOnPaste:S,pastePlainText:j,onMerge:f,onRemove:h,removeEditorOnlyFormats:ae,disableLineBreaks:I,onSplitAtEnd:k,onSplitAtDoubleLineEnd:x,keyboardShortcuts:he,inputEvents:fe}),T]),contentEditable:!q,suppressContentEditableWarning:!0,className:Ti("block-editor-rich-text__editable",E.className,"rich-text"),tabIndex:0!==E.tabIndex||q?E.tabIndex:null,"data-wp-block-attribute-key":v})]})}const dy=(uy=n.forwardRef(cy),n.forwardRef((e,t)=>{let n=e.value,o=e.onChange;Array.isArray(n)&&(He("wp.blockEditor.RichText value prop as children type",{since:"6.1",version:"6.3",alternative:"value prop as string",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/"}),n=Me.toHTML(e.value),o=t=>e.onChange(Me.fromDOM(yo(document,t).childNodes)));const l=e.multiline?ly:uy;return p.jsx(l,{...e,value:n,onChange:o,ref:t})}));var uy;dy.Content=oy,dy.isEmpty=e=>!e||0===e.length;const py=n.forwardRef((e,t)=>{if(Wc()[$c]){const{children:t,tagName:n="div",value:o,onChange:l,isSelected:s,multiline:i,inlineToolbar:r,wrapperClassName:a,autocompleters:c,onReplace:d,placeholder:u,allowedFormats:g,withoutInteractiveFormatting:m,onRemove:h,onMerge:f,onSplit:b,__unstableOnSplitAtEnd:k,__unstableOnSplitAtDoubleLineEnd:x,identifier:v,preserveWhiteSpace:y,__unstablePastePlainText:_,__unstableEmbedURLOnPaste:C,__unstableDisableFormats:j,disableLineBreaks:S,__unstableAllowPrefixTransformations:w,readOnly:I,...B}=ay(e);return p.jsx(n,{...B,dangerouslySetInnerHTML:{__html:ny(o,i)}})}return p.jsx(dy,{ref:t,...e,readOnly:!1})});py.Content=oy,py.isEmpty=e=>!e||0===e.length;const gy=n.forwardRef((e,t)=>p.jsx(py,{ref:t,...e,__unstableDisableFormats:!0}));gy.Content=({value:e="",tagName:t="div",...n})=>p.jsx(t,{...n,children:e});const my=n.forwardRef(({__experimentalVersion:e,...t},n)=>{if(2===e)return p.jsx(gy,{ref:n,...t});const{className:o,onChange:l,...s}=t;return p.jsx(g,{ref:n,className:Ti("block-editor-plain-text",o),onChange:e=>l(e.target.value),...s})});function hy({property:e,viewport:t,desc:n}){const o=me(hy),l=n||Ro(Mo("Controls the %1$s property for %2$s viewports.","Text labelling a interface as controlling a given layout property (eg: margin) for a given screen size."),e,t.label);return p.jsxs(p.Fragment,{children:[p.jsx("span",{"aria-describedby":`rbc-desc-${o}`,children:t.label}),p.jsx(vr,{as:"span",id:`rbc-desc-${o}`,children:l})]})}const fy=p.jsx(Ot,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:p.jsx(Ht,{d:"M9.4 20.5L5.2 3.8l14.6 9-2 .3c-.2 0-.4.1-.7.1-.9.2-1.6.3-2.2.5-.8.3-1.4.5-1.8.8-.4.3-.8.8-1.3 1.5-.4.5-.8 1.2-1.2 2l-.3.6-.9 1.9zM7.6 7.1l2.4 9.3c.2-.4.5-.8.7-1.1.6-.8 1.1-1.4 1.6-1.8.5-.4 1.3-.8 2.2-1.1l1.2-.3-8.1-5z"})});const by=n.forwardRef(function(e,t){const n=C(e=>e(zo).__unstableGetEditorMode(),[]),{__unstableSetEditorMode:o}=td(_(zo));return p.jsx(ar,{renderToggle:({isOpen:o,onToggle:l})=>p.jsx(zi,{size:"compact",...e,ref:t,icon:"navigation"===n?pn:fy,"aria-expanded":o,"aria-haspopup":"true",onClick:l,label:To("Tools")}),popoverProps:{placement:"bottom-start"},renderContent:()=>p.jsxs(p.Fragment,{children:[p.jsx(Gr,{className:"block-editor-tool-selector__menu",role:"menu","aria-label":To("Tools"),children:p.jsx(Nr,{value:"navigation"===n?"navigation":"edit",onSelect:o,choices:[{value:"navigation",label:p.jsxs(p.Fragment,{children:[p.jsx(Ze,{icon:pn}),To("Write")]}),info:To("Focus on content.")},{value:"edit",label:p.jsxs(p.Fragment,{children:[fy,To("Design")]}),info:To("Edit layout and styles.")}]})}),p.jsx("div",{className:"block-editor-tool-selector__help",children:To("Tools provide different sets of interactions for blocks. Toggle between simplified content tools (Write) and advanced visual editing tools (Design).")})]})})});class ky extends n.Component{constructor(){super(...arguments),this.toggle=this.toggle.bind(this),this.submitLink=this.submitLink.bind(this),this.state={expanded:!1}}toggle(){this.setState({expanded:!this.state.expanded})}submitLink(e){e.preventDefault(),this.toggle()}render(){const{url:e,onChange:t}=this.props,{expanded:n}=this.state,o=To(e?"Edit link":"Insert link");return p.jsxs("div",{className:"block-editor-url-input__button",children:[p.jsx(zi,{size:"compact",icon:Bn,label:o,onClick:this.toggle,className:"components-toolbar__control",isPressed:!!e}),n&&p.jsx("form",{className:"block-editor-url-input__button-modal",onSubmit:this.submitLink,children:p.jsxs("div",{className:"block-editor-url-input__button-modal-line",children:[p.jsx(zi,{__next40pxDefaultSize:!0,className:"block-editor-url-input__back",icon:jo,label:To("Close"),onClick:this.toggle}),p.jsx(Lv,{value:e||"",onChange:t,suffix:p.jsx(ca,{variant:"control",children:p.jsx(zi,{size:"small",icon:io,label:To("Submit"),type:"submit"})})})]})})]})}}const xy="none",vy="custom",yy="media",_y="attachment",Cy=["noreferrer","noopener"],jy={px:{max:300,steps:1},"%":{max:100,steps:1},vw:{max:100,steps:1},vh:{max:100,steps:1},em:{max:10,steps:.1},rm:{max:10,steps:.1},svw:{max:100,steps:1},lvw:{max:100,steps:1},dvw:{max:100,steps:1},svh:{max:100,steps:1},lvh:{max:100,steps:1},dvh:{max:100,steps:1},vi:{max:100,steps:1},svi:{max:100,steps:1},lvi:{max:100,steps:1},dvi:{max:100,steps:1},vb:{max:100,steps:1},svb:{max:100,steps:1},lvb:{max:100,steps:1},dvb:{max:100,steps:1},vmin:{max:100,steps:1},svmin:{max:100,steps:1},lvmin:{max:100,steps:1},dvmin:{max:100,steps:1},vmax:{max:100,steps:1},svmax:{max:100,steps:1},lvmax:{max:100,steps:1},dvmax:{max:100,steps:1}};function Sy({icon:e,isMixed:t=!1,minimumCustomValue:o,onChange:l,onMouseOut:s,onMouseOver:i,showSideInLabel:r=!0,side:a,spacingSizes:c,type:d,value:u}){var g,m;u=ys(u,c);let h=c;const f=c.length<=_s,b=C(e=>{const t=e(zo).getSettings();return t?.disableCustomSpacingSizes}),[k,x]=n.useState(!b&&void 0!==u&&!Cs(u)),[v,y]=n.useState(o),_=ke(u);u&&_!==u&&!Cs(u)&&!0!==k&&x(!0);const[j]=ud("spacing.units"),S=Xi({availableUnits:j||["px","em","rem"]});let w=null;!f&&!k&&void 0!==u&&(!Cs(u)||Cs(u)&&t)?(h=[...c,{name:t?To("Mixed"):Ro(To("Custom (%s)"),u),slug:"custom",size:u}],w=h.length-1):t||(w=k?Ss(u,c):js(u,c));const I=n.useMemo(()=>sr(w),[w])[1]||S[0]?.value,B=parseFloat(w,10),N=(e,t)=>{const n=parseInt(e,10);if("selectList"===t){if(0===n)return;if(1===n)return"0"}else if(0===n)return"0";return`var:preset|spacing|${c[e]?.slug}`},E=t?To("Mixed"):null,D=h.map((e,t)=>({key:t,name:e.name})),P=c.slice(1,c.length-1).map((e,t)=>({value:t+1,label:void 0})),T=ws.includes(a)&&r?Is[a]:"",L=r?d?.toLowerCase():d,M=Ro(To("%1$s %2$s"),T,L).trim();return p.jsxs(xr,{className:"spacing-sizes-control__wrapper",children:[e&&p.jsx(Hi,{className:"spacing-sizes-control__icon",icon:e,size:24}),k&&p.jsxs(p.Fragment,{children:[p.jsx(Qi,{onMouseOver:i,onMouseOut:s,onFocus:i,onBlur:s,onChange:e=>l((e=>isNaN(parseFloat(e))?void 0:e)(e)),value:w,units:S,min:v,placeholder:E,disableUnits:t,label:M,hideLabelFromVision:!0,className:"spacing-sizes-control__custom-value-input",size:"__unstable-large",onDragStart:()=>{"-"===u?.charAt(0)&&y(0)},onDrag:()=>{"-"===u?.charAt(0)&&y(0)},onDragEnd:()=>{y(o)}}),p.jsx(lr,{__next40pxDefaultSize:!0,onMouseOver:i,onMouseOut:s,onFocus:i,onBlur:s,value:B,min:0,max:null!==(g=jy[I]?.max)&&void 0!==g?g:10,step:null!==(m=jy[I]?.steps)&&void 0!==m?m:.1,withInputField:!1,onChange:e=>{l([e,I].join(""))},className:"spacing-sizes-control__custom-value-range",__nextHasNoMarginBottom:!0,label:M,hideLabelFromVision:!0})]}),f&&!k&&p.jsx(lr,{__next40pxDefaultSize:!0,onMouseOver:i,onMouseOut:s,className:"spacing-sizes-control__range-control",value:w,onChange:e=>l(N(e)),onMouseDown:e=>{e?.nativeEvent?.offsetX<35&&void 0===u&&l("0")},withInputField:!1,"aria-valuenow":w,"aria-valuetext":c[w]?.name,renderTooltipContent:e=>void 0===u?void 0:c[e]?.name,min:0,max:c.length-1,marks:P,label:M,hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,onFocus:i,onBlur:s}),!f&&!k&&p.jsx(ea,{className:"spacing-sizes-control__custom-select-control",value:D.find(e=>e.key===w)||"",onChange:e=>{l(N(e.selectedItem.key,"selectList"))},options:D,label:M,hideLabelFromVision:!0,size:"__unstable-large",onMouseOver:i,onMouseOut:s,onFocus:i,onBlur:s}),!b&&p.jsx(zi,{label:To(k?"Use size preset":"Set custom size"),icon:wo,onClick:()=>{x(!k)},isPressed:k,size:"small",className:"spacing-sizes-control__custom-toggle",iconSize:24})]})}const wy=["vertical","horizontal"];function Iy({minimumCustomValue:e,onChange:t,onMouseOut:n,onMouseOver:o,sides:l,spacingSizes:s,type:i,values:r}){const a=e=>n=>{if(!t)return;const o={...Object.keys(r).reduce((e,t)=>(e[t]=ys(r[t],s),e),{})};"vertical"===e&&(o.top=n,o.bottom=n),"horizontal"===e&&(o.left=n,o.right=n),t(o)},c=l?.length?wy.filter(e=>Bs(l,e)):wy;return p.jsx(p.Fragment,{children:c.map(t=>{const l="vertical"===t?r.top:r.left;return p.jsx(Sy,{icon:Ns[t],label:Is[t],minimumCustomValue:e,onChange:a(t),onMouseOut:n,onMouseOver:o,side:t,spacingSizes:s,type:i,value:l,withInputField:!1},`spacing-sizes-control-${t}`)})})}function By({minimumCustomValue:e,onChange:t,onMouseOut:n,onMouseOver:o,sides:l,spacingSizes:s,type:i,values:r}){const a=l?.length?ws.filter(e=>l.includes(e)):ws,c=e=>n=>{const o={...Object.keys(r).reduce((e,t)=>(e[t]=ys(r[t],s),e),{})};o[e]=n,t(o)};return p.jsx(p.Fragment,{children:a.map(t=>p.jsx(Sy,{icon:Ns[t],label:Is[t],minimumCustomValue:e,onChange:c(t),onMouseOut:n,onMouseOver:o,side:t,spacingSizes:s,type:i,value:r[t],withInputField:!1},`spacing-sizes-control-${t}`))})}function Ny({minimumCustomValue:e,onChange:t,onMouseOut:n,onMouseOver:o,showSideInLabel:l,side:s,spacingSizes:i,type:r,values:a}){return p.jsx(Sy,{label:Is[s],minimumCustomValue:e,onChange:(c=s,e=>{const n={...Object.keys(a).reduce((e,t)=>(e[t]=ys(a[t],i),e),{})};n[c]=e,t(n)}),onMouseOut:n,onMouseOver:o,showSideInLabel:l,side:s,spacingSizes:i,type:r,value:a[s],withInputField:!1});var c}function Ey({isLinked:e,...t}){const n=e?Ro(To("Unlink %1$s"),t.label.toLowerCase()).trim():Ro(To("Link %1$s"),t.label.toLowerCase()).trim();return p.jsx(yr,{text:n,children:p.jsx(zi,{...t,size:"small",icon:e?Bn:Nn,iconSize:24,"aria-label":n})})}function Dy({inputProps:e,label:t,minimumCustomValue:o=0,onChange:l,onMouseOut:s,onMouseOver:i,showSideInLabel:r=!0,sides:a=ws,useSelect:c,values:d}){const u=Es(),g=d||Ts,m=1===a?.length,h=a?.includes("horizontal")&&a?.includes("vertical")&&2===a?.length,[f,b]=n.useState(Ds(g,a)),k={...e,minimumCustomValue:o,onChange:e=>{const t={...d,...e};l(t)},onMouseOut:s,onMouseOver:i,sides:a,spacingSizes:u,type:t,useSelect:c,values:g},x=ws.includes(f)&&r?Is[f]:"",v=Ro(To("%1$s %2$s"),t,x).trim();return p.jsxs("fieldset",{className:"spacing-sizes-control",children:[p.jsxs(xr,{className:"spacing-sizes-control__header",children:[p.jsx(nr.VisualLabel,{as:"legend",className:"spacing-sizes-control__label",children:v}),!m&&!h&&p.jsx(Ey,{label:t,onClick:()=>{b(f===Ps.axial?Ps.custom:Ps.axial)},isLinked:f===Ps.axial})]}),p.jsx(Ji,{spacing:.5,children:f===Ps.axial?p.jsx(Iy,{...k}):f===Ps.custom?p.jsx(By,{...k}):p.jsx(Ny,{side:f,...k,showSideInLabel:r})})]})}function Py(){const e=C(e=>e(zo).getBlockSelectionStart(),[]),t=n.useRef();Qu(e,t);return e?p.jsx(zi,{__next40pxDefaultSize:!0,variant:"secondary",className:"block-editor-skip-to-selected-block",onClick:()=>{t.current?.focus()},children:To("Skip to the selected block")}):null}function Ty(){const{blocks:e}=C(e=>{const{getMultiSelectedBlocks:t}=e(zo);return{blocks:t()}},[]),t=Io(pe(e),"words");return p.jsxs("div",{className:"block-editor-multi-selection-inspector__card",children:[p.jsx(Vd,{icon:tn,showColors:!0}),p.jsxs("div",{className:"block-editor-multi-selection-inspector__card-content",children:[p.jsx("div",{className:"block-editor-multi-selection-inspector__card-title",children:Ro(Ao("%d Block","%d Blocks",e.length),e.length)}),p.jsx("div",{className:"block-editor-multi-selection-inspector__card-description",children:Ro(Ao("%d word selected.","%d words selected.",t),t)})]})]})}const Ly=()=>{const e=zr($h.slotName);return Boolean(e&&e.length)?p.jsx(fa,{className:"block-editor-block-inspector__advanced",title:To("Advanced"),initialOpen:!1,children:p.jsx(Vh.Slot,{group:"advanced"})}):null},My=()=>{const[e,t]=n.useState(),{multiSelectedBlocks:o}=C(e=>{const{getBlocksByClientId:t,getSelectedBlockClientIds:n}=e(zo);return{multiSelectedBlocks:t(n())}},[]);return n.useLayoutEffect(()=>{void 0===e&&t(o.some(({attributes:e})=>!!e?.style?.position?.type))},[e,o,t]),p.jsx(fa,{className:"block-editor-block-inspector__position",title:To("Position"),initialOpen:null!=e&&e,children:p.jsx(Vh.Slot,{group:"position"})})},Ry=()=>{const e=zr(Lh.position.Slot.__unstableName);return Boolean(e&&e.length)?p.jsx(My,{}):null},Ay=({showAdvancedControls:e=!1})=>p.jsxs(p.Fragment,{children:[p.jsx(Vh.Slot,{}),p.jsx(Ry,{}),p.jsx(Vh.Slot,{group:"bindings"}),e&&p.jsx("div",{children:p.jsx(Ly,{})})]}),zy=n.createContext({user:{},base:{},merged:{},setUserConfig:()=>{}});function Oy(e,t="root",n={}){if(!t)return null;const{fallback:o=!1}=n,{name:l,selectors:s,supports:i}=e,r=s&&Object.keys(s).length>0,a=Array.isArray(t)?t.join("."):t;let c=null;if(c=r&&s.root?s?.root:i?.__experimentalSelector?i.__experimentalSelector:".wp-block-"+l.replace("core/","").replace("/","-"),"root"===a)return c;const d=Array.isArray(t)?t:t.split(".");if(1===d.length){const e=o?c:null;if(r){return Ls(s,`${a}.root`,null)||Ls(s,a,null)||e}const t=Ls(i,`${a}.__experimentalSelector`,null);return t?Ms(c,t):e}let u;return r&&(u=Ls(s,a,null)),u||(o?Oy(e,d[0],n):null)}const Fy="image",Vy={placement:"left-start",offset:36,shift:!0,className:"block-editor-global-styles-background-panel__popover"},$y=()=>{};const Hy=e=>{if(!e)return{x:void 0,y:void 0};let[t,n]=e.split(" ").map(e=>parseFloat(e)/100);return t=isNaN(t)?void 0:t,n=isNaN(n)?t:n,{x:t,y:n}};function Uy({as:e="span",imgUrl:t,toggleProps:o={},filename:l,label:s,className:i,onToggleCallback:r=$y}){return n.useEffect(()=>{void 0!==o?.isOpen&&r(o?.isOpen)},[o?.isOpen,r]),p.jsx(jr,{as:e,className:i,...o,children:p.jsxs(xr,{justify:"flex-start",as:"span",className:"block-editor-global-styles-background-panel__inspector-preview-inner",children:[t&&p.jsx("span",{className:"block-editor-global-styles-background-panel__inspector-image-indicator-wrapper","aria-hidden":!0,children:p.jsx("span",{className:"block-editor-global-styles-background-panel__inspector-image-indicator",style:{backgroundImage:`url(${t})`}})}),p.jsxs(Ki,{as:"span",style:t?{}:{flexGrow:1},children:[p.jsx(br,{numberOfLines:1,className:"block-editor-global-styles-background-panel__inspector-media-replace-title",children:s}),p.jsx(vr,{as:"span",children:t?Ro(To("Background image: %s"),l||s):To("No background image selected")})]})]})})}function Gy({label:e,filename:t,url:n,children:o,onToggle:l=$y,hasImageValue:s}){if(!s)return;const i=e||Gt(n)||To("Add background image");return p.jsx(ar,{popoverProps:Vy,renderToggle:({onToggle:e,isOpen:o})=>{const s={onClick:e,className:"block-editor-global-styles-background-panel__dropdown-toggle","aria-expanded":o,"aria-label":To("Background size, position and repeat options."),isOpen:o};return p.jsx(Uy,{imgUrl:n,filename:t,label:i,toggleProps:s,as:"button",onToggleCallback:l})},renderContent:()=>p.jsx(sa,{className:"block-editor-global-styles-background-panel__dropdown-content-wrapper",paddingSize:"medium",children:o})})}function Wy(){return p.jsx(Yr,{className:"block-editor-global-styles-background-panel__loading",children:p.jsx(Pr,{})})}function Ky({onChange:e,style:t,inheritedValue:o,onRemoveImage:l=$y,onResetImage:s=$y,displayInPanel:i,defaultValues:r}){const[a,c]=n.useState(!1),{getSettings:d}=C(zo),{id:u,title:g,url:m}=t?.background?.backgroundImage||{...o?.background?.backgroundImage},h=n.useRef(),{createErrorNotice:f}=_(Ut),b=e=>{f(e,{type:"snackbar"}),c(!1)},k=n=>{if(!n||!n.url)return e(As(t,["background","backgroundImage"],void 0)),void c(!1);if(Wt(n.url))return void c(!0);if(n.media_type&&n.media_type!==Fy||!n.media_type&&n.type&&n.type!==Fy)return void b(To("Only images can be used as a background image."));const o=t?.background?.backgroundSize||r?.backgroundSize,l=t?.background?.backgroundPosition;e(As(t,["background"],{...t?.background,backgroundImage:{url:n.url,id:n.id,source:"file",title:n.title||void 0},backgroundPosition:l||"auto"!==o&&o?l:"50% 0",backgroundSize:o})),c(!1)},x=Jy(t),v=()=>{const[e]=bt.tabbable.find(h.current);e?.focus(),e?.click()},y=!x&&Jy(o),j=g||Gt(m)||To("Add background image");return p.jsxs("div",{ref:h,className:"block-editor-global-styles-background-panel__image-tools-panel-item",children:[a&&p.jsx(Wy,{}),p.jsx(Ev,{mediaId:u,mediaURL:m,allowedTypes:[Fy],accept:"image/*",onSelect:k,popoverProps:{className:Ti({"block-editor-global-styles-background-panel__media-replace-popover":i})},name:p.jsx(Uy,{className:"block-editor-global-styles-background-panel__image-preview",imgUrl:m,filename:g,label:j}),variant:"secondary",onError:b,onReset:()=>{v(),s()},children:y&&p.jsx(Ai,{onClick:()=>{v(),e(As(t,["background"],{backgroundImage:"none"})),l()},children:To("Remove")})}),p.jsx(ga,{onFilesDrop:e=>{e?.length>1?b(To("Only one image can be used as a background image.")):d().mediaUpload({allowedTypes:[Fy],filesList:e,onFileChange([e]){k(e)},onError:b})},label:To("Drop to upload")})]})}function qy({onChange:e,style:t,inheritedValue:n,defaultValues:o}){const l=t?.background?.backgroundSize||n?.background?.backgroundSize,s=t?.background?.backgroundRepeat||n?.background?.backgroundRepeat,i=t?.background?.backgroundImage?.url||n?.background?.backgroundImage?.url,r=t?.background?.backgroundImage?.id,a=t?.background?.backgroundPosition||n?.background?.backgroundPosition,c=t?.background?.backgroundAttachment||n?.background?.backgroundAttachment;let d=!l&&r?o?.backgroundSize:l||"auto";d=["cover","contain","auto"].includes(d)?d:"auto";const u=!("no-repeat"===s||"cover"===d&&void 0===s),g=n=>{let o=s,l=a;"contain"===n&&(o="no-repeat",l=void 0),"cover"===n&&(o=void 0,l=void 0),"cover"!==d&&"contain"!==d||"auto"!==n||(o=void 0,t?.background?.backgroundImage?.id&&(l="50% 0")),n||"auto"!==d||(n="auto"),e(As(t,["background"],{...t?.background,backgroundPosition:l,backgroundRepeat:o,backgroundSize:n}))},m=!a&&r&&"contain"===l?o?.backgroundPosition:a;return p.jsxs(Ji,{spacing:3,className:"single-column",children:[p.jsx(ba,{__nextHasNoMarginBottom:!0,label:To("Focal point"),url:i,value:Hy(m),onChange:n=>{e(As(t,["background","backgroundPosition"],(e=>{if(!e||isNaN(e.x)&&isNaN(e.y))return;return`${100*(isNaN(e.x)?.5:e.x)}% ${100*(isNaN(e.y)?.5:e.y)}%`})(n)))}}),p.jsx(Yi,{__nextHasNoMarginBottom:!0,label:To("Fixed background"),checked:"fixed"===c,onChange:()=>e(As(t,["background","backgroundAttachment"],"fixed"===c?"scroll":"fixed"))}),p.jsxs(qi,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:To("Size"),value:d,onChange:g,isBlock:!0,help:(h=l||o?.backgroundSize,To("cover"===h||void 0===h?"Image covers the space evenly.":"contain"===h?"Image is contained without distortion.":"Image has a fixed width.")),children:[p.jsx(tr,{value:"cover",label:Mo("Cover","Size option for background image control")},"cover"),p.jsx(tr,{value:"contain",label:Mo("Contain","Size option for background image control")},"contain"),p.jsx(tr,{value:"auto",label:Mo("Tile","Size option for background image control")},"tile")]}),p.jsxs(xr,{justify:"flex-start",spacing:2,as:"span",children:[p.jsx(Qi,{"aria-label":To("Background image width"),onChange:g,value:l,size:"__unstable-large",__unstableInputWidth:"100px",min:0,placeholder:To("Auto"),disabled:"auto"!==d||void 0===d}),p.jsx(Yi,{__nextHasNoMarginBottom:!0,label:To("Repeat"),checked:u,onChange:()=>e(As(t,["background","backgroundRepeat"],!0===u?"no-repeat":"repeat")),disabled:"cover"===d})]})]});var h}function Zy({value:e,onChange:t,inheritedValue:o=e,settings:l,defaultValues:s={}}){const{globalStyles:i,_links:r}=C(e=>{const{getSettings:t}=e(zo),n=t();return{globalStyles:n[Ho],_links:n[$o]}},[]),a=n.useMemo(()=>{const e={background:{}};return o?.background?(Object.entries(o?.background).forEach(([t,n])=>{e.background[t]=Rs(n,{styles:i,_links:r})}),e):o},[i,r,o]),c=()=>t(As(e,["background"],{})),{title:d,url:u}=e?.background?.backgroundImage||{...a?.background?.backgroundImage},g=Jy(e)||Jy(a),m=g&&"none"!==(e?.background?.backgroundImage||o?.background?.backgroundImage)&&(l?.background?.backgroundSize||l?.background?.backgroundPosition||l?.background?.backgroundRepeat),[h,f]=n.useState(!1);return p.jsx("div",{className:Ti("block-editor-global-styles-background-panel__inspector-media-replace-container",{"is-open":h}),children:m?p.jsx(Gy,{label:d,filename:d,url:u,onToggle:f,hasImageValue:g,children:p.jsxs(Ji,{spacing:3,className:"single-column",children:[p.jsx(Ky,{onChange:t,style:e,inheritedValue:a,displayInPanel:!0,onResetImage:()=>{f(!1),c()},onRemoveImage:()=>f(!1),defaultValues:s}),p.jsx(qy,{onChange:t,style:e,defaultValues:s,inheritedValue:a})]})}):p.jsx(Ky,{onChange:t,style:e,inheritedValue:a,defaultValues:s,onResetImage:()=>{f(!1),c()},onRemoveImage:()=>f(!1)})})}const Yy={backgroundImage:!0};function Xy(e){return e?.background?.backgroundImage}function Jy(e){return!!e?.background?.backgroundImage?.id||"string"==typeof e?.background?.backgroundImage||!!e?.background?.backgroundImage?.url}function Qy({resetAllFilter:e,onChange:t,value:n,panelId:o,children:l,headerLabel:s}){const i=Tl();return p.jsx(Ar,{label:s,resetAll:()=>{const o=e(n);t(o)},panelId:o,dropdownMenuProps:i,children:l})}function e_({as:e=Qy,value:t,onChange:o,inheritedValue:l,settings:s,panelId:i,defaultControls:r=Yy,defaultValues:a={},headerLabel:c=To("Background image")}){const d=Xy(s),u=n.useCallback(e=>({...e,background:{}}),[]);return p.jsx(e,{resetAllFilter:u,value:t,onChange:o,panelId:i,headerLabel:c,children:d&&p.jsx(ia,{hasValue:()=>!!t?.background,label:To("Image"),onDeselect:()=>o(As(t,["background"],{})),isShownByDefault:r.backgroundImage,panelId:i,children:p.jsx(Zy,{value:t,onChange:o,settings:s,inheritedValue:l,defaultControls:r,defaultValues:a})})})}const t_={button:"wp-element-button",caption:"wp-element-caption"},n_={__experimentalBorder:"border",color:"color",spacing:"spacing",typography:"typography"},{kebabCase:o_}=td(Oi);function l_(e={},t,n){let o=[];return Object.keys(e).forEach(l=>{const s=t+o_(l.replace("/","-")),i=e[l];if(i instanceof Object){const e=s+n;o=[...o,...l_(i,e,n)]}else o.push(`${s}: ${i}`)}),o}const s_=(e,t)=>{const n={};return Object.entries(e).forEach(([e,o])=>{if("root"===e||!t?.[e])return;const l="string"==typeof o;if(l||Object.entries(o).forEach(([o,l])=>{if("root"===o||!t?.[e][o])return;const s=i_({[e]:{[o]:t[e][o]}});n[l]=[...n[l]||[],...s],delete t[e][o]}),l||o.root){const s=l?o:o.root,i=i_({[e]:t[e]});n[s]=[...n[s]||[],...i],delete t[e]}}),n};function i_(e={},t="",n,o={},l=!1){const s=zs===t,i=Object.entries(Oe).reduce((t,[o,{value:l,properties:i,useEngine:r,rootOnly:a}])=>{if(a&&!s)return t;const c=l;if("elements"===c[0]||r)return t;const d=Ls(e,c);if("--wp--style--root--padding"===o&&("string"==typeof d||!n))return t;if(i&&"string"!=typeof d)Object.entries(i).forEach(e=>{const[n,o]=e;if(!Ls(d,[o],!1))return;const l=n.startsWith("--")?n:o_(n);t.push(`${l}: ${Bo(Ls(d,[o]))}`)});else if(Ls(e,c,!1)){const n=o.startsWith("--")?o:o_(o);t.push(`${n}: ${Bo(Ls(e,c))}`)}return t},[]);e.background&&(e.background?.backgroundImage&&(e.background.backgroundImage=Rs(e.background.backgroundImage,o)),!s&&e.background?.backgroundImage?.id&&(e={...e,background:{...e.background,...Hs(e.background)}}));return it(e).forEach(e=>{if(s&&(n||l)&&e.key.startsWith("padding"))return;const t=e.key.startsWith("--")?e.key:o_(e.key);let r=Rs(e.value,o);"font-size"===t&&(r=Us({size:r},o?.settings)),"aspect-ratio"===t&&i.push("min-height: unset"),i.push(`${t}: ${r}`)}),i}function r_({layoutDefinitions:e=Kd,style:t,selector:n,hasBlockGapSupport:o,hasFallbackGapSupport:l,fallbackGapValue:s}){let i="",r=o?ll(t?.spacing?.blockGap):"";if(l&&(n===zs?r=r||"0.5em":!o&&s&&(r=s)),r&&e&&(Object.values(e).forEach(({className:e,name:t,spacingStyles:l})=>{(o||"flex"===t||"grid"===t)&&l?.length&&l.forEach(t=>{const l=[];if(t.rules&&Object.entries(t.rules).forEach(([e,t])=>{l.push(`${e}: ${t||r}`)}),l.length){let s="";s=o?n===zs?`:root :where(.${e})${t?.selector||""}`:`:root :where(${n}-${e})${t?.selector||""}`:n===zs?`:where(.${e}${t?.selector||""})`:`:where(${n}.${e}${t?.selector||""})`,i+=`${s} { ${l.join("; ")}; }`}})}),n===zs&&o&&(i+=`${$s} { --wp--style--block-gap: ${r}; }`)),n===zs&&e){const t=["block","flex","grid"];Object.values(e).forEach(({className:e,displayMode:o,baseStyles:l})=>{o&&t.includes(o)&&(i+=`${n} .${e} { display:${o}; }`),l?.length&&l.forEach(t=>{const n=[];if(t.rules&&Object.entries(t.rules).forEach(([e,t])=>{n.push(`${e}: ${t}`)}),n.length){i+=`${`.${e}${t?.selector||""}`} { ${n.join("; ")}; }`}})})}return i}const a_=["border","color","dimensions","spacing","typography","filter","outline","shadow","background"];function c_(e){if(!e)return{};const t=Object.entries(e).filter(([e])=>a_.includes(e)).map(([e,t])=>[e,JSON.parse(JSON.stringify(t))]);return Object.fromEntries(t)}const d_=(e,t)=>{var n;const o=[];if(!e?.settings)return o;const l=e=>{let t={};return Ws.forEach(({path:n})=>{const o=Ls(e,n,!1);!1!==o&&(t=As(t,n,o))}),t},s=l(e.settings),i=e.settings?.custom;return(Object.keys(s).length>0||i)&&o.push({presets:s,custom:i,selector:$s}),Object.entries(null!==(n=e.settings?.blocks)&&void 0!==n?n:{}).forEach(([e,n])=>{const s=l(n),i=n.custom;(Object.keys(s).length>0||i)&&o.push({presets:s,custom:i,selector:t[e]?.selector})}),o},u_=(e,t)=>{const n=d_(e,t);let o="";return n.forEach(({presets:t,custom:n,selector:l})=>{const s=function(e={},t){return Ws.reduce((n,{path:o,valueKey:l,valueFunc:s,cssVarInfix:i})=>{const r=Ls(e,o,[]);return["default","theme","custom"].forEach(e=>{r[e]&&r[e].forEach(e=>{l&&!s?n.push(`--wp--preset--${i}--${o_(e.slug)}: ${e[l]}`):s&&"function"==typeof s&&n.push(`--wp--preset--${i}--${o_(e.slug)}: ${s(e,t)}`)})}),n},[])}(t,e?.settings),i=l_(n,"--wp--custom--","--");i.length>0&&s.push(...i),s.length>0&&(o+=`${l}{${s.join(";")};}`)}),o},p_=(e,t,n,o,l=!1,s=!1,i=void 0)=>{const r={blockGap:!0,blockStyles:!0,layoutStyles:!0,marginReset:!0,presets:!0,rootPadding:!0,variationStyles:!1,...i},a=((e,t)=>{var n;const o=[];if(!e?.styles)return o;const l=c_(e.styles);return l&&o.push({styles:l,selector:zs,skipSelectorWrapper:!0}),Object.entries(ze).forEach(([t,n])=>{e.styles?.elements?.[t]&&o.push({styles:e.styles?.elements?.[t],selector:n,skipSelectorWrapper:!t_[t]})}),Object.entries(null!==(n=e.styles?.blocks)&&void 0!==n?n:{}).forEach(([e,n])=>{var l;const s=c_(n);if(n?.variations){const l={};Object.entries(n.variations).forEach(([n,s])=>{var i,r;l[n]=c_(s),s?.css&&(l[n].css=s.css);const a=t[e]?.styleVariationSelectors?.[n];Object.entries(null!==(i=s?.elements)&&void 0!==i?i:{}).forEach(([e,t])=>{t&&ze[e]&&o.push({styles:t,selector:Ms(a,ze[e])})}),Object.entries(null!==(r=s?.blocks)&&void 0!==r?r:{}).forEach(([e,n])=>{var l;const s=Ms(a,t[e]?.selector),i=Ms(a,t[e]?.duotoneSelector),r=Vs(a,t[e]?.featureSelectors),c=c_(n);n?.css&&(c.css=n.css),o.push({selector:s,duotoneSelector:i,featureSelectors:r,fallbackGapValue:t[e]?.fallbackGapValue,hasLayoutSupport:t[e]?.hasLayoutSupport,styles:c}),Object.entries(null!==(l=n.elements)&&void 0!==l?l:{}).forEach(([e,t])=>{t&&ze[e]&&o.push({styles:t,selector:Ms(s,ze[e])})})})}),s.variations=l}t?.[e]?.selector&&o.push({duotoneSelector:t[e].duotoneSelector,fallbackGapValue:t[e].fallbackGapValue,hasLayoutSupport:t[e].hasLayoutSupport,selector:t[e].selector,styles:s,featureSelectors:t[e].featureSelectors,styleVariationSelectors:t[e].styleVariationSelectors}),Object.entries(null!==(l=n?.elements)&&void 0!==l?l:{}).forEach(([n,l])=>{l&&t?.[e]&&ze[n]&&o.push({styles:l,selector:t[e]?.selector.split(",").map(e=>ze[n].split(",").map(t=>e+" "+t)).join(",")})})}),o})(e,t),c=d_(e,t),d=e?.settings?.useRootPaddingAwareAlignments,{contentSize:u,wideSize:p}=e?.settings?.layout||{},g=r.marginReset||r.rootPadding||r.layoutStyles;let m="";if(r.presets&&(u||p)&&(m+=`${$s} {`,m=u?m+` --wp--style--global--content-size: ${u};`:m,m=p?m+` --wp--style--global--wide-size: ${p};`:m,m+="}"),g&&(m+=":where(body) {margin: 0;",r.rootPadding&&d&&(m+="padding-right: 0; padding-left: 0; padding-top: var(--wp--style--root--padding-top); padding-bottom: var(--wp--style--root--padding-bottom) }\n\t\t\t\t.has-global-padding { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t\t.has-global-padding > .alignfull { margin-right: calc(var(--wp--style--root--padding-right) * -1); margin-left: calc(var(--wp--style--root--padding-left) * -1); }\n\t\t\t\t.has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) { padding-right: 0; padding-left: 0; }\n\t\t\t\t.has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) > .alignfull { margin-left: 0; margin-right: 0;\n\t\t\t\t"),m+="}"),r.blockStyles&&a.forEach(({selector:t,duotoneSelector:i,styles:a,fallbackGapValue:c,hasLayoutSupport:u,featureSelectors:p,styleVariationSelectors:g,skipSelectorWrapper:h})=>{if(p){const e=s_(p,a);Object.entries(e).forEach(([e,t])=>{if(t.length){const n=t.join(";");m+=`:root :where(${e}){${n};}`}})}if(i){const e={};a?.filter&&(e.filter=a.filter,delete a.filter);const t=i_(e);t.length&&(m+=`${i}{${t.join(";")};}`)}l||zs!==t&&!u||(m+=r_({style:a,selector:t,hasBlockGapSupport:n,hasFallbackGapSupport:o,fallbackGapValue:c}));const f=i_(a,t,d,e,s);if(f?.length){m+=`${h?t:`:root :where(${t})`}{${f.join(";")};}`}a?.css&&(m+=h_(a.css,`:root :where(${t})`)),r.variationStyles&&g&&Object.entries(g).forEach(([t,n])=>{const o=a?.variations?.[t];if(o){if(p){const e=s_(p,o);Object.entries(e).forEach(([e,t])=>{if(t.length){const o=function(e,t){const n=e.split(","),o=[];return n.forEach(e=>{o.push(`${t.trim()}${e.trim()}`)}),o.join(", ")}(e,n),l=t.join(";");m+=`:root :where(${o}){${l};}`}})}const t=i_(o,n,d,e);t.length&&(m+=`:root :where(${n}){${t.join(";")};}`),o?.css&&(m+=h_(o.css,`:root :where(${n})`))}});const b=Object.entries(a).filter(([e])=>e.startsWith(":"));b?.length&&b.forEach(([e,n])=>{const o=i_(n);if(!o?.length)return;const l=`:root :where(${t.split(",").map(t=>t+e).join(",")}){${o.join(";")};}`;m+=l})}),r.layoutStyles&&(m+=".wp-site-blocks > .alignleft { float: left; margin-right: 2em; }",m+=".wp-site-blocks > .alignright { float: right; margin-left: 2em; }",m+=".wp-site-blocks > .aligncenter { justify-content: center; margin-left: auto; margin-right: auto; }"),r.blockGap&&n){const t=ll(e?.styles?.spacing?.blockGap)||"0.5em";m+=`:root :where(.wp-site-blocks) > * { margin-block-start: ${t}; margin-block-end: 0; }`,m+=":root :where(.wp-site-blocks) > :first-child { margin-block-start: 0; }",m+=":root :where(.wp-site-blocks) > :last-child { margin-block-end: 0; }"}return r.presets&&c.forEach(({selector:e,presets:t})=>{zs!==e&&$s!==e||(e="");const n=function(e="*",t={}){return Ws.reduce((n,{path:o,cssVarInfix:l,classes:s})=>{if(!s)return n;const i=Ls(t,o,[]);return["default","theme","custom"].forEach(t=>{i[t]&&i[t].forEach(({slug:t})=>{s.forEach(({classSuffix:o,propertyName:s})=>{const i=`.has-${o_(t)}-${o}`,r=e.split(",").map(e=>`${e}${i}`).join(","),a=`var(--wp--preset--${l}--${o_(t)})`;n+=`${r}{${s}: ${a} !important;}`})})}),n},"")}(e,t);n.length>0&&(m+=n)}),m};function g_(e,t){return d_(e,t).flatMap(({presets:e})=>function(e={}){return Ws.filter(e=>"duotone"===e.path.at(-1)).flatMap(t=>{const n=Ls(e,t.path,{});return["default","theme"].filter(e=>n[e]).flatMap(e=>n[e].map(e=>Ks(`wp-duotone-${e.slug}`,e.colors))).join("")})}(e))}const m_=(e,t,n)=>{const o={};return e.forEach(e=>{const l=e.name,s=Oy(e);let i=Oy(e,"filter.duotone");if(!i){const t=Oy(e),n=D(e,"color.__experimentalDuotone",!1);i=n&&Ms(t,n)}const r=!!e?.supports?.layout||!!e?.supports?.__experimentalLayout,a=e?.supports?.spacing?.blockGap?.__experimentalDefault,c=t(l),d={};c?.forEach(e=>{const t=n?`-${n}`:"",o=`${e.name}${t}`,l=Os(o,s);d[o]=l});const u=((e,t)=>{if(e?.selectors&&Object.keys(e.selectors).length>0)return e.selectors;const n={root:t};return Object.entries(n_).forEach(([t,o])=>{const l=Oy(e,t);l&&(n[o]=l)}),n})(e,s);o[l]={duotoneSelector:i,fallbackGapValue:a,featureSelectors:Object.keys(u).length?u:void 0,hasLayoutSupport:r,name:l,selector:s,styleVariationSelectors:c?.length?d:void 0}}),o};function h_(e,t){let n="";if(!e||""===e.trim())return n;return e.split("&").forEach(e=>{if(!e||""===e.trim())return;if(!e.includes("{"))n+=`:root :where(${t}){${e.trim()}}`;else{const o=e.replace("}","").split("{");if(2!==o.length)return;const[l,s]=o,i=l.match(/([>+~\s]*::[a-zA-Z-]+)/),r=i?i[1]:"",a=i?l.replace(r,"").trim():l.trim();let c;c=""===a?t:l.startsWith(" ")?Ms(t,a):Gs(t,a),n+=`:root :where(${c})${r}{${s.trim()}}`}}),n}function f_(e={},t){const[o]=Fs("spacing.blockGap"),l=null!==o,s=!l,i=C(e=>{const{getSettings:t}=e(zo);return!!t().disableLayoutStyles}),{getBlockStyles:r}=C(M);return n.useMemo(()=>{var n;if(!e?.styles||!e?.settings)return[];const o=(a=e,a.styles?.blocks?.["core/separator"]&&a.styles?.blocks?.["core/separator"].color?.background&&!a.styles?.blocks?.["core/separator"].color?.text&&!a.styles?.blocks?.["core/separator"].border?.color?{...a,styles:{...a.styles,blocks:{...a.styles.blocks,"core/separator":{...a.styles.blocks["core/separator"],color:{...a.styles.blocks["core/separator"].color,text:a.styles?.blocks["core/separator"].color.background}}}}}:a);var a;const c=m_(Ae(),r),d=u_(o,c),u=p_(o,c,l,s,i,t),p=g_(o,c),g=[{css:d,isGlobalStyles:!0},{css:u,isGlobalStyles:!0},{css:null!==(n=o.styles.css)&&void 0!==n?n:"",isGlobalStyles:!0},{assets:p,__unstableType:"svg",isGlobalStyles:!0}];return Ae().forEach(e=>{if(o.styles.blocks[e.name]?.css){const t=c[e.name].selector;g.push({css:h_(o.styles.blocks[e.name]?.css,t),isGlobalStyles:!0})}}),[g,o.settings]},[l,s,e,i,t,r])}const b_=[{label:To("Align text left"),value:"left",icon:Ue},{label:To("Align text center"),value:"center",icon:Ge},{label:To("Align text right"),value:"right",icon:We},{label:To("Justify text"),value:"justify",icon:No}],k_=["left","center","right"];function x_({className:e,value:t,onChange:o,options:l=k_}){const s=n.useMemo(()=>b_.filter(e=>l.includes(e.value)),[l]);return s.length?p.jsx(qi,{isDeselectable:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:To("Text alignment"),className:Ti("block-editor-text-alignment-control",e),value:t,onChange:e=>{o(e===t?void 0:e)},children:s.map(e=>p.jsx(Zi,{value:e.value,icon:e.icon,label:e.label},e.value))}):null}function v_(e){const t=__(e),n=C_(e),o=j_(e),l=S_(e),s=I_(e),i=w_(e),r=B_(e),a=N_(e),c=E_(e),d=y_(e);return t||n||o||l||s||i||d||r||a||c}function y_(e){return!1!==e?.typography?.defaultFontSizes&&e?.typography?.fontSizes?.default?.length||e?.typography?.fontSizes?.theme?.length||e?.typography?.fontSizes?.custom?.length||e?.typography?.customFontSize}function __(e){return["default","theme","custom"].some(t=>e?.typography?.fontFamilies?.[t]?.length)}function C_(e){return e?.typography?.lineHeight}function j_(e){return e?.typography?.fontStyle||e?.typography?.fontWeight}function S_(e){return e?.typography?.letterSpacing}function w_(e){return e?.typography?.textTransform}function I_(e){return e?.typography?.textAlign}function B_(e){return e?.typography?.textDecoration}function N_(e){return e?.typography?.writingMode}function E_(e){return e?.typography?.textColumns}function D_({resetAllFilter:e,onChange:t,value:n,panelId:o,children:l}){const s=Tl();return p.jsx(Ar,{label:To("Typography"),resetAll:()=>{const o=e(n);t(o)},panelId:o,dropdownMenuProps:s,children:l})}const P_={fontFamily:!0,fontSize:!0,fontAppearance:!0,lineHeight:!0,letterSpacing:!0,textAlign:!0,textTransform:!0,textDecoration:!0,writingMode:!0,textColumns:!0};function T_({as:e=D_,value:t,onChange:o,inheritedValue:l=t,settings:s,panelId:i,defaultControls:r=P_}){const a=e=>qs({settings:s},"",e),c=__(s),d=a(l?.typography?.fontFamily),{fontFamilies:u,fontFamilyFaces:g}=n.useMemo(()=>Zs(s,d),[s,d]),m=e=>{const n=u?.find(({fontFamily:t})=>t===e)?.slug;o(As(t,["typography","fontFamily"],n?`var:preset|font-family|${n}`:e||void 0))},h=y_(s),f=!s?.typography?.customFontSize,b=function(e){var t,n,o;const l=e?.typography?.fontSizes,s=!!e?.typography?.defaultFontSizes;return[...null!==(t=l?.custom)&&void 0!==t?t:[],...null!==(n=l?.theme)&&void 0!==n?n:[],...s&&null!==(o=l?.default)&&void 0!==o?o:[]]}(s),k=a(l?.typography?.fontSize),x=(e,n)=>{o(As(t,["typography","fontSize"],(n?.slug?`var:preset|font-size|${n?.slug}`:e)||void 0))},v=j_(s),y=function(e){return To(e?.typography?.fontStyle?e?.typography?.fontWeight?"Appearance":"Font style":"Font weight")}(s),_=s?.typography?.fontStyle,C=s?.typography?.fontWeight,j=a(l?.typography?.fontStyle),S=a(l?.typography?.fontWeight),{nearestFontStyle:w,nearestFontWeight:I}=Ys(g,j,S),B=n.useCallback(({fontStyle:e,fontWeight:n})=>{e===j&&n===S||o({...t,typography:{...t?.typography,fontStyle:e||void 0,fontWeight:n||void 0}})},[j,S,o,t]),N=n.useCallback(()=>{B({})},[B]);n.useEffect(()=>{w&&I?B({fontStyle:w,fontWeight:I}):N()},[w,I,N,B]);const E=C_(s),D=a(l?.typography?.lineHeight),P=e=>{o(As(t,["typography","lineHeight"],e||void 0))},T=S_(s),L=a(l?.typography?.letterSpacing),M=e=>{o(As(t,["typography","letterSpacing"],e||void 0))},R=E_(s),A=a(l?.typography?.textColumns),z=e=>{o(As(t,["typography","textColumns"],e||void 0))},O=w_(s),F=a(l?.typography?.textTransform),V=e=>{o(As(t,["typography","textTransform"],e||void 0))},$=B_(s),H=a(l?.typography?.textDecoration),U=e=>{o(As(t,["typography","textDecoration"],e||void 0))},G=N_(s),W=a(l?.typography?.writingMode),K=e=>{o(As(t,["typography","writingMode"],e||void 0))},q=I_(s),Z=a(l?.typography?.textAlign),Y=e=>{o(As(t,["typography","textAlign"],e||void 0))},X=n.useCallback(e=>({...e,typography:{}}),[]);return p.jsxs(e,{resetAllFilter:X,value:t,onChange:o,panelId:i,children:[c&&p.jsx(ia,{label:To("Font"),hasValue:()=>!!t?.typography?.fontFamily,onDeselect:()=>m(void 0),isShownByDefault:r.fontFamily,panelId:i,children:p.jsx(cx,{fontFamilies:u,value:d,onChange:m,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),h&&p.jsx(ia,{label:To("Size"),hasValue:()=>!!t?.typography?.fontSize,onDeselect:()=>x(void 0),isShownByDefault:r.fontSize,panelId:i,children:p.jsx(Fi,{value:k,onChange:x,fontSizes:b,disableCustomFontSizes:f,withReset:!1,withSlider:!0,size:"__unstable-large"})}),v&&p.jsx(ia,{className:"single-column",label:y,hasValue:()=>!!t?.typography?.fontStyle||!!t?.typography?.fontWeight,onDeselect:N,isShownByDefault:r.fontAppearance,panelId:i,children:p.jsx(ax,{value:{fontStyle:j,fontWeight:S},onChange:B,hasFontStyles:_,hasFontWeights:C,fontFamilyFaces:g,size:"__unstable-large"})}),E&&p.jsx(ia,{className:"single-column",label:To("Line height"),hasValue:()=>void 0!==t?.typography?.lineHeight,onDeselect:()=>P(void 0),isShownByDefault:r.lineHeight,panelId:i,children:p.jsx(Iv,{__unstableInputWidth:"auto",value:D,onChange:P,size:"__unstable-large"})}),T&&p.jsx(ia,{className:"single-column",label:To("Letter spacing"),hasValue:()=>!!t?.typography?.letterSpacing,onDeselect:()=>M(void 0),isShownByDefault:r.letterSpacing,panelId:i,children:p.jsx(dx,{value:L,onChange:M,size:"__unstable-large",__unstableInputWidth:"auto"})}),R&&p.jsx(ia,{className:"single-column",label:To("Columns"),hasValue:()=>!!t?.typography?.textColumns,onDeselect:()=>z(void 0),isShownByDefault:r.textColumns,panelId:i,children:p.jsx(or,{label:To("Columns"),max:6,min:1,onChange:z,size:"__unstable-large",spinControls:"custom",value:A,initialPosition:1})}),$&&p.jsx(ia,{className:"single-column",label:To("Decoration"),hasValue:()=>!!t?.typography?.textDecoration,onDeselect:()=>U(void 0),isShownByDefault:r.textDecoration,panelId:i,children:p.jsx(px,{value:H,onChange:U,size:"__unstable-large",__unstableInputWidth:"auto"})}),G&&p.jsx(ia,{className:"single-column",label:To("Orientation"),hasValue:()=>!!t?.typography?.writingMode,onDeselect:()=>K(void 0),isShownByDefault:r.writingMode,panelId:i,children:p.jsx(fx,{value:W,onChange:K,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),O&&p.jsx(ia,{label:To("Letter case"),hasValue:()=>!!t?.typography?.textTransform,onDeselect:()=>V(void 0),isShownByDefault:r.textTransform,panelId:i,children:p.jsx(mx,{value:F,onChange:V,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),q&&p.jsx(ia,{label:To("Text alignment"),hasValue:()=>!!t?.typography?.textAlign,onDeselect:()=>Y(void 0),isShownByDefault:r.textAlign,panelId:i,children:p.jsx(x_,{value:Z,onChange:Y,size:"__unstable-large",__nextHasNoMarginBottom:!0})})]})}function L_(e,t){const{getBlockOrder:n,getBlockAttributes:o}=C(zo);return(l,s)=>{const i=(s-1)*t+l-1;let r=0;for(const c of n(e)){var a;const{columnStart:e,rowStart:n}=null!==(a=o(c).style?.layout)&&void 0!==a?a:{};(n-1)*t+e-1<i&&r++}return r}}function M_(e,t){const{orientation:n="horizontal"}=t;return To("fill"===e?"Stretch to fill available space.":"fixed"===e&&"horizontal"===n?"Specify a fixed width.":"fixed"===e?"Specify a fixed height.":"Fit contents.")}function R_({value:e={},onChange:t,parentLayout:n,isShownByDefault:o,panelId:l}){const{type:s,default:{type:i="default"}={}}=null!=n?n:{},r=s||i;return"flex"===r?p.jsx(A_,{childLayout:e,onChange:t,parentLayout:n,isShownByDefault:o,panelId:l}):"grid"===r?p.jsx(O_,{childLayout:e,onChange:t,parentLayout:n,isShownByDefault:o,panelId:l}):null}function A_({childLayout:e,onChange:t,parentLayout:o,isShownByDefault:l,panelId:s}){const{selfStretch:i,flexSize:r}=e,{orientation:a="horizontal"}=null!=o?o:{},c=To("horizontal"===a?"Width":"Height");return n.useEffect(()=>{"fixed"!==i||r||t({...e,selfStretch:"fit"})},[]),p.jsxs(Ji,{as:ia,spacing:2,hasValue:()=>!!i,label:c,onDeselect:()=>{t({selfStretch:void 0,flexSize:void 0})},isShownByDefault:l,panelId:s,children:[p.jsxs(qi,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:z_(o),value:i||"fit",help:M_(i,o),onChange:e=>{t({selfStretch:e,flexSize:"fixed"!==e?null:r})},isBlock:!0,children:[p.jsx(tr,{value:"fit",label:Mo("Fit","Intrinsic block width in flex layout")},"fit"),p.jsx(tr,{value:"fill",label:Mo("Grow","Block with expanding width in flex layout")},"fill"),p.jsx(tr,{value:"fixed",label:Mo("Fixed","Block with fixed width in flex layout")},"fixed")]}),"fixed"===i&&p.jsx(Qi,{size:"__unstable-large",onChange:e=>{t({selfStretch:i,flexSize:e})},value:r,label:c,hideLabelFromVision:!0})]})}function z_(e){const{orientation:t="horizontal"}=e;return To("horizontal"===t?"Width":"Height")}function O_({childLayout:e,onChange:t,parentLayout:n,isShownByDefault:o,panelId:l}){const{columnStart:s,rowStart:i,columnSpan:r,rowSpan:a}=e,{columnCount:c=3,rowCount:d}=null!=n?n:{},u=C(e=>e(zo).getBlockRootClientId(l)),{moveBlocksToPosition:g,__unstableMarkNextChangeAsNotPersistent:m}=_(zo),h=L_(u,c);return p.jsxs(p.Fragment,{children:[p.jsxs(xr,{as:ia,hasValue:()=>!!r||!!a,label:To("Grid span"),onDeselect:()=>{t({columnSpan:void 0,rowSpan:void 0})},isShownByDefault:o,panelId:l,children:[p.jsx(pa,{size:"__unstable-large",label:To("Column span"),type:"number",onChange:e=>{const n=""===e?1:parseInt(e,10);t({columnStart:s,rowStart:i,rowSpan:a,columnSpan:n})},value:null!=r?r:1,min:1}),p.jsx(pa,{size:"__unstable-large",label:To("Row span"),type:"number",onChange:e=>{const n=""===e?1:parseInt(e,10);t({columnStart:s,rowStart:i,columnSpan:r,rowSpan:n})},value:null!=a?a:1,min:1})]}),window.__experimentalEnableGridInteractivity&&c&&p.jsxs(Wi,{as:ia,hasValue:()=>!!s||!!i,label:To("Grid placement"),onDeselect:()=>{t({columnStart:void 0,rowStart:void 0})},isShownByDefault:!1,panelId:l,children:[p.jsx(Ki,{style:{width:"50%"},children:p.jsx(pa,{size:"__unstable-large",label:To("Column"),type:"number",onChange:e=>{const n=""===e?1:parseInt(e,10);t({columnStart:n,rowStart:i,columnSpan:r,rowSpan:a}),m(),g([l],u,u,h(n,i))},value:null!=s?s:1,min:1,max:c?c-(null!=r?r:1)+1:void 0})}),p.jsx(Ki,{style:{width:"50%"},children:p.jsx(pa,{size:"__unstable-large",label:To("Row"),type:"number",onChange:e=>{const n=""===e?1:parseInt(e,10);t({columnStart:s,rowStart:n,columnSpan:r,rowSpan:a}),m(),g([l],u,u,h(s,n))},value:null!=i?i:1,min:1,max:d?d-(null!=a?a:1)+1:void 0})})]})]})}function F_({panelId:e,value:t,onChange:n=()=>{},options:o,defaultValue:l="auto",hasValue:s,isShownByDefault:i=!0}){const r=null!=t?t:"auto",[a,c,d]=ud("dimensions.aspectRatios.default","dimensions.aspectRatios.theme","dimensions.defaultAspectRatios"),u=c?.map(({name:e,ratio:t})=>({label:e,value:t})),g=a?.map(({name:e,ratio:t})=>({label:e,value:t})),m=[{label:Mo("Original","Aspect ratio option for dimensions control"),value:"auto"},...d?g:[],...u||[],{label:Mo("Custom","Aspect ratio option for dimensions control"),value:"custom",disabled:!0,hidden:!0}];return p.jsx(ia,{hasValue:s||(()=>r!==l),label:To("Aspect ratio"),onDeselect:()=>n(void 0),isShownByDefault:i,panelId:e,children:p.jsx(la,{label:To("Aspect ratio"),value:r,options:null!=o?o:m,onChange:n,size:"__unstable-large",__nextHasNoMarginBottom:!0})})}const V_=["horizontal","vertical"];function $_(e){const t=H_(e),n=U_(e),o=G_(e),l=W_(e),s=K_(e),i=q_(e),r=Z_(e),a=Y_(e);return t||n||o||l||s||i||r||a}function H_(e){return e?.layout?.contentSize}function U_(e){return e?.layout?.wideSize}function G_(e){return e?.spacing?.padding}function W_(e){return e?.spacing?.margin}function K_(e){return e?.spacing?.blockGap}function q_(e){return e?.dimensions?.minHeight}function Z_(e){return e?.dimensions?.aspectRatio}function Y_(e){var t;const{type:n="default",default:{type:o="default"}={},allowSizingOnChildren:l=!1}=null!==(t=e?.parentLayout)&&void 0!==t?t:{},s=("flex"===o||"flex"===n||"grid"===o||"grid"===n)&&l;return!!e?.layout&&s}function X_(e,t){if(!t||!e)return e;const n={};return t.forEach(t=>{"vertical"===t&&(n.top=e.top,n.bottom=e.bottom),"horizontal"===t&&(n.left=e.left,n.right=e.right),n[t]=e?.[t]}),n}function J_(e){return e&&"string"==typeof e?{top:e,right:e,bottom:e,left:e}:e}function Q_({resetAllFilter:e,onChange:t,value:n,panelId:o,children:l}){const s=Tl();return p.jsx(Ar,{label:To("Dimensions"),resetAll:()=>{const o=e(n);t(o)},panelId:o,dropdownMenuProps:s,children:l})}const eC={contentSize:!0,wideSize:!0,padding:!0,margin:!0,blockGap:!0,minHeight:!0,aspectRatio:!0,childLayout:!0};function tC({as:e=Q_,value:t,onChange:o,inheritedValue:l=t,settings:s,panelId:i,defaultControls:r=eC,onVisualize:a=()=>{},includeLayoutControls:c=!1}){var d,u,g,m,h,f,b,k;const{dimensions:x,spacing:v}=s,y=e=>e&&"object"==typeof e?Object.keys(e).reduce((t,n)=>(t[n]=qs({settings:{dimensions:x,spacing:v}},"",e[n]),t),{}):qs({settings:{dimensions:x,spacing:v}},"",e),_=function(e){const{defaultSpacingSizes:t,spacingSizes:n}=e?.spacing||{};return!1!==t&&n?.default?.length>0||n?.theme?.length>0||n?.custom?.length>0}(s),C=Xi({availableUnits:s?.spacing?.units||["%","px","em","rem","vw"]}),j=-1/0,[S,w]=n.useState(j),I=H_(s)&&c,B=y(l?.layout?.contentSize),N=e=>{o(As(t,["layout","contentSize"],e||void 0))},E=U_(s)&&c,D=y(l?.layout?.wideSize),P=e=>{o(As(t,["layout","wideSize"],e||void 0))},T=G_(s),L=J_(y(l?.spacing?.padding)),M=Array.isArray(s?.spacing?.padding)?s?.spacing?.padding:s?.spacing?.padding?.sides,R=M&&M.some(e=>V_.includes(e)),A=e=>{const n=X_(e,M);o(As(t,["spacing","padding"],n))},z=()=>a("padding"),O=W_(s),F=J_(y(l?.spacing?.margin)),V=Array.isArray(s?.spacing?.margin)?s?.spacing?.margin:s?.spacing?.margin?.sides,$=V&&V.some(e=>V_.includes(e)),H=e=>{const n=X_(e,V);o(As(t,["spacing","margin"],n))},U=()=>a("margin"),G=K_(s),W=y(l?.spacing?.blockGap),K=function(e){return e&&"string"==typeof e?{top:e}:e?{...e,right:e?.left,bottom:e?.top}:e}(W),q=Array.isArray(s?.spacing?.blockGap)?s?.spacing?.blockGap:s?.spacing?.blockGap?.sides,Z=q&&q.some(e=>V_.includes(e)),Y=e=>{o(As(t,["spacing","blockGap"],e))},X=e=>{e||Y(null),!Z&&e?.hasOwnProperty("top")?Y(e.top):Y({top:e?.top,left:e?.left})},J=q_(s),Q=y(l?.dimensions?.minHeight),ee=e=>{const n=As(t,["dimensions","minHeight"],e);o(As(n,["dimensions","aspectRatio"],void 0))},te=Z_(s),ne=y(l?.dimensions?.aspectRatio),oe=Y_(s),le=l?.layout,se=n.useCallback(e=>({...e,layout:Ll({...e?.layout,contentSize:void 0,wideSize:void 0,selfStretch:void 0,flexSize:void 0,columnStart:void 0,rowStart:void 0,columnSpan:void 0,rowSpan:void 0}),spacing:{...e?.spacing,padding:void 0,margin:void 0,blockGap:void 0},dimensions:{...e?.dimensions,minHeight:void 0,aspectRatio:void 0}}),[]),ie=()=>a(!1),re={min:S,onDragStart:()=>{w(0)},onDragEnd:()=>{w(j)}};return p.jsxs(e,{resetAllFilter:se,value:t,onChange:o,panelId:i,children:[(I||E)&&p.jsx("span",{className:"span-columns",children:To("Set the width of the main content area.")}),I&&p.jsx(ia,{label:To("Content width"),hasValue:()=>!!t?.layout?.contentSize,onDeselect:()=>N(void 0),isShownByDefault:null!==(d=r.contentSize)&&void 0!==d?d:eC.contentSize,panelId:i,children:p.jsx(Qi,{__next40pxDefaultSize:!0,label:To("Content width"),labelPosition:"top",value:B||"",onChange:e=>{N(e)},units:C,prefix:p.jsx(er,{variant:"icon",children:p.jsx(Ze,{icon:rt})})})}),E&&p.jsx(ia,{label:To("Wide width"),hasValue:()=>!!t?.layout?.wideSize,onDeselect:()=>P(void 0),isShownByDefault:null!==(u=r.wideSize)&&void 0!==u?u:eC.wideSize,panelId:i,children:p.jsx(Qi,{__next40pxDefaultSize:!0,label:To("Wide width"),labelPosition:"top",value:D||"",onChange:e=>{P(e)},units:C,prefix:p.jsx(er,{variant:"icon",children:p.jsx(Ze,{icon:at})})})}),T&&p.jsxs(ia,{hasValue:()=>!!t?.spacing?.padding&&Object.keys(t?.spacing?.padding).length,label:To("Padding"),onDeselect:()=>A(void 0),isShownByDefault:null!==(g=r.padding)&&void 0!==g?g:eC.padding,className:Ti({"tools-panel-item-spacing":_}),panelId:i,children:[!_&&p.jsx(ka,{__next40pxDefaultSize:!0,values:L,onChange:A,label:To("Padding"),sides:M,units:C,allowReset:!1,splitOnAxis:R,onMouseOver:z,onMouseOut:ie}),_&&p.jsx(Dy,{values:L,onChange:A,label:To("Padding"),sides:M,units:C,allowReset:!1,onMouseOver:z,onMouseOut:ie})]}),O&&p.jsxs(ia,{hasValue:()=>!!t?.spacing?.margin&&Object.keys(t?.spacing?.margin).length,label:To("Margin"),onDeselect:()=>H(void 0),isShownByDefault:null!==(m=r.margin)&&void 0!==m?m:eC.margin,className:Ti({"tools-panel-item-spacing":_}),panelId:i,children:[!_&&p.jsx(ka,{__next40pxDefaultSize:!0,values:F,onChange:H,inputProps:re,label:To("Margin"),sides:V,units:C,allowReset:!1,splitOnAxis:$,onMouseOver:U,onMouseOut:ie}),_&&p.jsx(Dy,{values:F,onChange:H,minimumCustomValue:-1/0,label:To("Margin"),sides:V,units:C,allowReset:!1,onMouseOver:U,onMouseOut:ie})]}),G&&p.jsxs(ia,{hasValue:()=>!!t?.spacing?.blockGap,label:To("Block spacing"),onDeselect:()=>Y(void 0),isShownByDefault:null!==(h=r.blockGap)&&void 0!==h?h:eC.blockGap,className:Ti({"tools-panel-item-spacing":_,"single-column":!_&&!Z}),panelId:i,children:[!_&&(Z?p.jsx(ka,{__next40pxDefaultSize:!0,label:To("Block spacing"),min:0,onChange:X,units:C,sides:q,values:K,allowReset:!1,splitOnAxis:Z}):p.jsx(Qi,{__next40pxDefaultSize:!0,label:To("Block spacing"),min:0,onChange:Y,units:C,value:W})),_&&p.jsx(Dy,{label:To("Block spacing"),min:0,onChange:X,showSideInLabel:!1,sides:Z?q:["top"],values:K,allowReset:!1})]}),oe&&p.jsx(R_,{value:le,onChange:e=>{o({...t,layout:{...e}})},parentLayout:s?.parentLayout,panelId:i,isShownByDefault:null!==(f=r.childLayout)&&void 0!==f?f:eC.childLayout}),J&&p.jsx(ia,{hasValue:()=>!!t?.dimensions?.minHeight,label:To("Minimum height"),onDeselect:()=>{ee(void 0)},isShownByDefault:null!==(b=r.minHeight)&&void 0!==b?b:eC.minHeight,panelId:i,children:p.jsx(Ix,{label:To("Minimum height"),value:Q,onChange:ee})}),te&&p.jsx(F_,{hasValue:()=>!!t?.dimensions?.aspectRatio,value:ne,onChange:e=>{const n=As(t,["dimensions","aspectRatio"],e);o(As(n,["dimensions","minHeight"],void 0))},panelId:i,isShownByDefault:null!==(k=r.aspectRatio)&&void 0!==k?k:eC.aspectRatio})]})}const nC=[];function oC({shadow:e,onShadowChange:t,settings:n}){const o=aC(n);return p.jsx("div",{className:"block-editor-global-styles__shadow-popover-container",children:p.jsxs(Ji,{spacing:4,children:[p.jsx(_r,{level:5,children:To("Drop shadow")}),p.jsx(lC,{presets:o,activeShadow:e,onSelect:t}),p.jsx("div",{className:"block-editor-global-styles__clear-shadow",children:p.jsx(zi,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:()=>t(void 0),children:To("Clear")})})]})})}function lC({presets:e,activeShadow:t,onSelect:n}){return e?p.jsx(hr,{role:"listbox",className:"block-editor-global-styles__shadow__list","aria-label":To("Drop shadows"),children:e.map(({name:e,slug:o,shadow:l})=>p.jsx(sC,{label:e,isActive:l===t,type:"unset"===o?"unset":"preset",onSelect:()=>n(l===t?void 0:l),shadow:l},o))}):null}function sC({type:e,label:t,isActive:n,onSelect:o,shadow:l}){return p.jsx(yr,{text:t,children:p.jsx(hr.Item,{role:"option","aria-label":t,"aria-selected":n,className:Ti("block-editor-global-styles__shadow__item",{"is-active":n}),render:p.jsx("button",{className:Ti("block-editor-global-styles__shadow-indicator",{unset:"unset"===e}),onClick:o,style:{boxShadow:l},"aria-label":t,children:n&&p.jsx(Ze,{icon:en})})})})}function iC({shadow:e,onShadowChange:t,settings:n}){return p.jsx(ar,{popoverProps:{placement:"left-start",offset:36,shift:!0},className:"block-editor-global-styles__shadow-dropdown",renderToggle:rC(),renderContent:()=>p.jsx(sa,{paddingSize:"medium",children:p.jsx(oC,{shadow:e,onShadowChange:t,settings:n})})})}function rC(){return({onToggle:e,isOpen:t})=>{const n={onClick:e,className:Ti({"is-open":t}),"aria-expanded":t};return p.jsx(zi,{__next40pxDefaultSize:!0,...n,children:p.jsxs(xr,{justify:"flex-start",children:[p.jsx(Ze,{className:"block-editor-global-styles__toggle-icon",icon:Eo,size:24}),p.jsx(Ki,{children:To("Drop shadow")})]})})}}function aC(e){return n.useMemo(()=>{var t;if(!e?.shadow)return nC;const n=e?.shadow?.defaultPresets,{default:o,theme:l,custom:s}=null!==(t=e?.shadow?.presets)&&void 0!==t?t:{},i={name:To("Unset"),slug:"unset",shadow:"none"},r=[...n&&o||nC,...l||nC,...s||nC];return r.length&&r.unshift(i),r},[e])}function cC(e){return Object.values(dC(e)).some(Boolean)}function dC(e){return{hasBorderColor:uC(e),hasBorderRadius:pC(e),hasBorderStyle:gC(e),hasBorderWidth:mC(e),hasShadow:hC(e)}}function uC(e){return e?.border?.color}function pC(e){return e?.border?.radius}function gC(e){return e?.border?.style}function mC(e){return e?.border?.width}function hC(e){const t=aC(e);return!!e?.shadow&&t.length>0}function fC({resetAllFilter:e,onChange:t,value:n,panelId:o,children:l,label:s}){const i=Tl();return p.jsx(Ar,{label:s,resetAll:()=>{const o=e(n);t(o)},panelId:o,dropdownMenuProps:i,children:l})}const bC={radius:!0,color:!0,width:!0,shadow:!0};function kC({as:e=fC,value:t,onChange:o,inheritedValue:l=t,settings:s,panelId:i,name:r,defaultControls:a=bC}){var c,d,u,g;const m=Xs(s),h=n.useCallback(e=>qs({settings:s},"",e),[s]),f=e=>{const t=m.flatMap(({colors:e})=>e).find(({color:t})=>t===e);return t?"var:preset|color|"+t.slug:e},b=n.useMemo(()=>{if(xa(l?.border)){const e={...l?.border};return["top","right","bottom","left"].forEach(t=>{e[t]={...e[t],color:h(e[t]?.color)}}),e}return{...l?.border,color:l?.border?.color?h(l?.border?.color):void 0}},[l?.border,h]),k=e=>o({...t,border:e}),x=uC(s),v=gC(s),y=mC(s),_=pC(s),C=h(b?.radius),j=e=>k({...b,radius:e}),S=()=>{const e=t?.border?.radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},w=hC(s),I=h(l?.shadow),B=null!==(c=s?.shadow?.presets)&&void 0!==c?c:{},N=null!==(d=null!==(u=null!==(g=B.custom)&&void 0!==g?g:B.theme)&&void 0!==u?u:B.default)&&void 0!==d?d:[],E=e=>{const n=N?.find(({shadow:t})=>t===e)?.slug;o(As(t,["shadow"],n?`var:preset|shadow|${n}`:e||void 0))},D=n.useCallback(e=>({...e,border:void 0,shadow:void 0}),[]),P=a?.color||a?.width,T=x||v||y||_,L=Js({blockName:r,hasShadowControl:w,hasBorderControl:T});return p.jsxs(e,{resetAllFilter:D,value:t,onChange:o,panelId:i,label:L,children:[(y||x)&&p.jsx(ia,{hasValue:()=>va(t?.border),label:To("Border"),onDeselect:()=>(()=>{if(S())return k({radius:t?.border?.radius});k(void 0)})(),isShownByDefault:P,panelId:i,children:p.jsx(ya,{colors:m,enableAlpha:!0,enableStyle:v,onChange:e=>{const t={...e};xa(t)?["top","right","bottom","left"].forEach(e=>{t[e]&&(t[e]={...t[e],color:f(t[e]?.color)})}):t&&(t.color=f(t.color)),k({radius:b?.radius,...t})},popoverOffset:40,popoverPlacement:"left-start",value:b,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large",hideLabelFromVision:!w,label:To("Border")})}),_&&p.jsx(ia,{hasValue:S,label:To("Radius"),onDeselect:()=>j(void 0),isShownByDefault:a.radius,panelId:i,children:p.jsx(qk,{values:C,onChange:e=>{j(e||void 0)}})}),w&&p.jsxs(ia,{label:To("Shadow"),hasValue:()=>!!t?.shadow,onDeselect:()=>E(void 0),isShownByDefault:a.shadow,panelId:i,children:[T?p.jsx(nr.VisualLabel,{as:"legend",children:To("Shadow")}):null,p.jsx(jr,{isBordered:!0,isSeparated:!0,children:p.jsx(iC,{shadow:I,onShadowChange:E,settings:s})})]})]})}function xC(e){const t=vC(e),n=SC(e),o=yC(e),l=CC(e),s=jC(e),i=_C(e);return t||n||o||l||s||i}function vC(e){const t=Xs(e);return e?.color?.text&&(t?.length>0||e?.color?.custom)}function yC(e){const t=Xs(e);return e?.color?.link&&(t?.length>0||e?.color?.custom)}function _C(e){const t=Xs(e);return e?.color?.caption&&(t?.length>0||e?.color?.custom)}function CC(e){const t=Xs(e),n=Qs(e);return e?.color?.heading&&(t?.length>0||e?.color?.custom||n?.length>0||e?.color?.customGradient)}function jC(e){const t=Xs(e),n=Qs(e);return e?.color?.button&&(t?.length>0||e?.color?.custom||n?.length>0||e?.color?.customGradient)}function SC(e){const t=Xs(e),n=Qs(e);return e?.color?.background&&(t?.length>0||e?.color?.custom||n?.length>0||e?.color?.customGradient)}function wC({resetAllFilter:e,onChange:t,value:n,panelId:o,children:l}){const s=Tl();return p.jsx(Ar,{label:To("Elements"),resetAll:()=>{const o=e(n);t(o)},panelId:o,hasInnerWrapper:!0,headingLevel:3,className:"color-block-support-panel",__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",dropdownMenuProps:s,children:p.jsx("div",{className:"color-block-support-panel__inner-wrapper",children:l})})}const IC={text:!0,background:!0,link:!0,heading:!0,button:!0,caption:!0},BC={placement:"left-start",offset:36,shift:!0},{Tabs:NC}=td(Oi),EC=({indicators:e,label:t})=>p.jsxs(xr,{justify:"flex-start",children:[p.jsx(_a,{isLayered:!1,offset:-8,children:e.map((e,t)=>p.jsx(Wi,{expanded:!1,children:p.jsx(na,{colorValue:e})},t))}),p.jsx(Ki,{className:"block-editor-panel-color-gradient-settings__color-name",title:t,children:t})]});function DC({isGradient:e,inheritedValue:t,userValue:n,setValue:o,colorGradientControlSettings:l}){return p.jsx(ox,{...l,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:t,gradientValue:e?t:void 0,onColorChange:e?void 0:o,onGradientChange:e?o:void 0,clearable:t===n,headingLevel:3})}function PC({label:e,hasValue:t,resetValue:n,isShownByDefault:o,indicators:l,tabs:s,colorGradientControlSettings:i,panelId:r}){var a;const c=s.find(e=>void 0!==e.userValue),{key:d,...u}=null!==(a=s[0])&&void 0!==a?a:{};return p.jsx(ia,{className:"block-editor-tools-panel-color-gradient-settings__item",hasValue:t,label:e,onDeselect:n,isShownByDefault:o,panelId:r,children:p.jsx(ar,{popoverProps:BC,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:t,isOpen:n})=>{const o={onClick:t,className:Ti("block-editor-panel-color-gradient-settings__dropdown",{"is-open":n}),"aria-expanded":n,"aria-label":Ro(To("Color %s styles"),e)};return p.jsx(zi,{__next40pxDefaultSize:!0,...o,children:p.jsx(EC,{indicators:l,label:e})})},renderContent:()=>p.jsx(sa,{paddingSize:"none",children:p.jsxs("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:[1===s.length&&p.jsx(DC,{...u,colorGradientControlSettings:i},d),s.length>1&&p.jsxs(NC,{defaultTabId:c?.key,children:[p.jsx(NC.TabList,{children:s.map(e=>p.jsx(NC.Tab,{tabId:e.key,children:e.label},e.key))}),s.map(e=>{const{key:t,...n}=e;return p.jsx(NC.TabPanel,{tabId:t,focusable:!1,children:p.jsx(DC,{...n,colorGradientControlSettings:i},t)},t)})]})]})})})})}function TC({as:e=wC,value:t,onChange:o,inheritedValue:l=t,settings:s,panelId:i,defaultControls:r=IC,children:a}){const c=Xs(s),d=Qs(s),u=s?.color?.custom,g=s?.color?.customGradient,m=c.length>0||u,h=d.length>0||g,f=e=>qs({settings:s},"",e),b=e=>{const t=c.flatMap(({colors:e})=>e).find(({color:t})=>t===e);return t?"var:preset|color|"+t.slug:e},k=e=>{const t=d.flatMap(({gradients:e})=>e).find(({gradient:t})=>t===e);return t?"var:preset|gradient|"+t.slug:e},x=SC(s),v=f(l?.color?.background),y=f(t?.color?.background),_=f(l?.color?.gradient),C=f(t?.color?.gradient),j=yC(s),S=f(l?.elements?.link?.color?.text),w=f(t?.elements?.link?.color?.text),I=f(l?.elements?.link?.[":hover"]?.color?.text),B=f(t?.elements?.link?.[":hover"]?.color?.text),N=vC(s),E=f(l?.color?.text),D=f(t?.color?.text),P=e=>{let n=As(t,["color","text"],b(e));E===S&&(n=As(n,["elements","link","color","text"],b(e))),o(n)},T=[{name:"caption",label:To("Captions"),showPanel:_C(s)},{name:"button",label:To("Button"),showPanel:jC(s)},{name:"heading",label:To("Heading"),showPanel:CC(s)},{name:"h1",label:To("H1"),showPanel:CC(s)},{name:"h2",label:To("H2"),showPanel:CC(s)},{name:"h3",label:To("H3"),showPanel:CC(s)},{name:"h4",label:To("H4"),showPanel:CC(s)},{name:"h5",label:To("H5"),showPanel:CC(s)},{name:"h6",label:To("H6"),showPanel:CC(s)}],L=n.useCallback(e=>({...e,color:void 0,elements:{...e?.elements,link:{...e?.elements?.link,color:void 0,":hover":{color:void 0}},...T.reduce((t,n)=>({...t,[n.name]:{...e?.elements?.[n.name],color:void 0}}),{})}}),[]),M=[N&&{key:"text",label:To("Text"),hasValue:()=>!!D,resetValue:()=>P(void 0),isShownByDefault:r.text,indicators:[E],tabs:[{key:"text",label:To("Text"),inheritedValue:E,setValue:P,userValue:D}]},x&&{key:"background",label:To("Background"),hasValue:()=>!!y||!!C,resetValue:()=>{const e=As(t,["color","background"],void 0);e.color.gradient=void 0,o(e)},isShownByDefault:r.background,indicators:[null!=_?_:v],tabs:[m&&{key:"background",label:To("Color"),inheritedValue:v,setValue:e=>{const n=As(t,["color","background"],b(e));n.color.gradient=void 0,o(n)},userValue:y},h&&{key:"gradient",label:To("Gradient"),inheritedValue:_,setValue:e=>{const n=As(t,["color","gradient"],k(e));n.color.background=void 0,o(n)},userValue:C,isGradient:!0}].filter(Boolean)},j&&{key:"link",label:To("Link"),hasValue:()=>!!w||!!B,resetValue:()=>{let e=As(t,["elements","link",":hover","color","text"],void 0);e=As(e,["elements","link","color","text"],void 0),o(e)},isShownByDefault:r.link,indicators:[S,I],tabs:[{key:"link",label:To("Default"),inheritedValue:S,setValue:e=>{o(As(t,["elements","link","color","text"],b(e)))},userValue:w},{key:"hover",label:To("Hover"),inheritedValue:I,setValue:e=>{o(As(t,["elements","link",":hover","color","text"],b(e)))},userValue:B}]}].filter(Boolean);return T.forEach(({name:e,label:n,showPanel:s})=>{if(!s)return;const i=f(l?.elements?.[e]?.color?.background),a=f(l?.elements?.[e]?.color?.gradient),c=f(l?.elements?.[e]?.color?.text),d=f(t?.elements?.[e]?.color?.background),u=f(t?.elements?.[e]?.color?.gradient),p=f(t?.elements?.[e]?.color?.text),g="caption"!==e;M.push({key:e,label:n,hasValue:()=>!!(p||d||u),resetValue:()=>{const n=As(t,["elements",e,"color","background"],void 0);n.elements[e].color.gradient=void 0,n.elements[e].color.text=void 0,o(n)},isShownByDefault:r[e],indicators:g?[c,null!=a?a:i]:[c],tabs:[m&&{key:"text",label:To("Text"),inheritedValue:c,setValue:n=>{o(As(t,["elements",e,"color","text"],b(n)))},userValue:p},m&&g&&{key:"background",label:To("Background"),inheritedValue:i,setValue:n=>{const l=As(t,["elements",e,"color","background"],b(n));l.elements[e].color.gradient=void 0,o(l)},userValue:d},h&&g&&{key:"gradient",label:To("Gradient"),inheritedValue:a,setValue:n=>{const l=As(t,["elements",e,"color","gradient"],k(n));l.elements[e].color.background=void 0,o(l)},userValue:u,isGradient:!0}].filter(Boolean)})}),p.jsxs(e,{resetAllFilter:L,value:t,onChange:o,panelId:i,children:[M.map(e=>{const{key:t,...n}=e;return p.jsx(PC,{...n,colorGradientControlSettings:{colors:c,disableCustomColors:!u,gradients:d,disableCustomGradients:!g},panelId:i},t)}),a]})}const LC=[];function MC(e,{presetSetting:t,defaultSetting:o}){const l=!e?.color?.[o],s=e?.color?.[t]?.custom||LC,i=e?.color?.[t]?.theme||LC,r=e?.color?.[t]?.default||LC;return n.useMemo(()=>[...s,...i,...l?LC:r],[l,s,i,r])}function RC(e){return e.color.customDuotone||e.color.defaultDuotone||e.color.duotone.length>0}function AC({resetAllFilter:e,onChange:t,value:n,panelId:o,children:l}){const s=Tl();return p.jsx(Ar,{label:Mo("Filters","Name for applying graphical effects"),resetAll:()=>{const o=e(n);t(o)},panelId:o,dropdownMenuProps:s,children:l})}const zC={duotone:!0},OC={placement:"left-start",offset:36,shift:!0,className:"block-editor-duotone-control__popover",headerTitle:To("Duotone")},FC=({indicator:e,label:t})=>p.jsxs(xr,{justify:"flex-start",children:[p.jsx(_a,{isLayered:!1,offset:-8,children:p.jsx(Wi,{expanded:!1,children:"unset"!==e&&e?p.jsx(oa,{values:e}):p.jsx(na,{className:"block-editor-duotone-control__unset-indicator"})})}),p.jsx(Ki,{title:t,children:t})]});function VC({as:e=AC,value:t,onChange:o,inheritedValue:l=t,settings:s,panelId:i,defaultControls:r=zC}){const a=RC(s),c=MC(s,{presetSetting:"duotone",defaultSetting:"defaultDuotone"}),d=MC(s,{presetSetting:"palette",defaultSetting:"defaultPalette"}),u=(g=l?.filter?.duotone,qs({settings:s},"",g));var g;const m=e=>{const n=c.find(({colors:t})=>t===e),l=n?`var:preset|duotone|${n.slug}`:e;o(As(t,["filter","duotone"],l))},h=n.useCallback(e=>({...e,filter:{...e.filter,duotone:void 0}}),[]);return p.jsx(e,{resetAllFilter:h,value:t,onChange:o,panelId:i,children:a&&p.jsx(ia,{label:To("Duotone"),hasValue:()=>!!t?.filter?.duotone,onDeselect:()=>m(void 0),isShownByDefault:r.duotone,panelId:i,children:p.jsx(ar,{popoverProps:OC,className:"block-editor-global-styles-filters-panel__dropdown",renderToggle:({onToggle:e,isOpen:t})=>{const n={onClick:e,className:Ti({"is-open":t}),"aria-expanded":t};return p.jsx(jr,{isBordered:!0,isSeparated:!0,children:p.jsx(zi,{__next40pxDefaultSize:!0,...n,children:p.jsx(FC,{indicator:u,label:To("Duotone")})})})},renderContent:()=>p.jsx(sa,{paddingSize:"small",children:p.jsxs(Ri,{label:To("Duotone"),children:[p.jsx("p",{children:To("Create a two-tone color effect without losing your original image.")}),p.jsx(ta,{colorPalette:d,duotonePalette:c,disableCustomColors:!0,disableCustomDuotone:!0,value:u,onChange:m})]})})})})})}const $C=new Map,HC=[],UC={caption:To("Caption"),link:To("Link"),button:To("Button"),heading:To("Heading"),h1:To("H1"),h2:To("H2"),h3:To("H3"),h4:To("H4"),h5:To("H5"),h6:To("H6"),"settings.color":To("Color"),"settings.typography":To("Typography"),"styles.color":To("Colors"),"styles.spacing":To("Spacing"),"styles.background":To("Background"),"styles.typography":To("Typography")},GC=Ga(()=>Ae().reduce((e,{name:t,title:n})=>(e[t]=n,e),{})),WC=e=>null!==e&&"object"==typeof e;function KC(e,t,n=""){if(!WC(e)&&!WC(t))return e!==t?n.split(".").slice(0,2).join("."):void 0;e=WC(e)?e:{},t=WC(t)?t:{};const o=new Set([...Object.keys(e),...Object.keys(t)]);let l=[];for(const s of o){const o=n?n+"."+s:s,i=KC(e[s],t[s],o);i&&(l=l.concat(i))}return l}function qC(e,t){const n=JSON.stringify({next:e,previous:t});if($C.has(n))return $C.get(n);const o=KC({styles:{background:e?.styles?.background,color:e?.styles?.color,typography:e?.styles?.typography,spacing:e?.styles?.spacing},blocks:e?.styles?.blocks,elements:e?.styles?.elements,settings:e?.settings},{styles:{background:t?.styles?.background,color:t?.styles?.color,typography:t?.styles?.typography,spacing:t?.styles?.spacing},blocks:t?.styles?.blocks,elements:t?.styles?.elements,settings:t?.settings});if(!o.length)return $C.set(n,HC),HC;const l=[...new Set(o)].reduce((e,t)=>{const n=function(e){if(UC[e])return UC[e];const t=e.split(".");if("blocks"===t?.[0]){const e=GC()?.[t[1]];return e||t[1]}return"elements"===t?.[0]?UC[t[1]]||t[1]:void 0}(t);return n&&e.push([t.split(".")[0],n]),e},[]);return $C.set(n,l),l}const ZC=Object.freeze(Object.defineProperty({__proto__:null,AdvancedPanel:function({value:e,onChange:t,inheritedValue:o=e}){const[l,s]=n.useState(null),i=o?.css;return p.jsxs(Ji,{spacing:3,children:[l&&p.jsx(Qr,{status:"error",onRemove:()=>s(null),children:l}),p.jsx(Ca,{label:To("Additional CSS"),__nextHasNoMarginBottom:!0,value:i,onChange:n=>function(n){if(t({...e,css:n}),l){const[e]=fl([{css:n}],".for-validation-only");e&&s(null)}}(n),onBlur:function(e){if(!e?.target?.value)return void s(null);const[t]=fl([{css:e.target.value}],".for-validation-only");s(null===t?To("There is an error with your CSS structure."):null)},className:"block-editor-global-styles-advanced-panel__custom-css-input",spellCheck:!1})]})},BackgroundPanel:e_,BorderPanel:kC,ColorPanel:TC,DimensionsPanel:tC,FiltersPanel:VC,GlobalStylesContext:zy,ImageSettingsPanel:function({onChange:e,value:t,inheritedValue:n,panelId:o}){const l=Tl(),s=()=>{e(void 0)};let i=!1;return n?.lightbox?.enabled&&(i=n.lightbox.enabled),p.jsx(p.Fragment,{children:p.jsx(Ar,{label:Mo("Settings","Image settings"),resetAll:s,panelId:o,dropdownMenuProps:l,children:p.jsx(ia,{hasValue:()=>!!t?.lightbox,label:To("Expand on click"),onDeselect:s,isShownByDefault:!0,panelId:o,children:p.jsx(Yi,{__nextHasNoMarginBottom:!0,label:To("Expand on click"),checked:i,onChange:t=>{e({enabled:t})}})})})})},TypographyPanel:T_,areGlobalStyleConfigsEqual:ei,getBlockCSSSelector:Oy,getBlockSelectors:m_,getGlobalStylesChanges:function(e,t,n={}){let o=qC(e,t);const l=o.length,{maxResults:s}=n;return l?(s&&l>s&&(o=o.slice(0,s)),Object.entries(o.reduce((e,t)=>{const n=e[t[0]]||[];return n.includes(t[1])||(e[t[0]]=[...n,t[1]]),e},{})).map(([e,t])=>{const n=t.length,o=t.join(To(", "));switch(e){case"blocks":return Ro(Ao("%s block.","%s blocks.",n),o);case"elements":return Ro(Ao("%s element.","%s elements.",n),o);case"settings":return Ro(To("%s settings."),o);case"styles":return Ro(To("%s styles."),o);default:return Ro(To("%s."),o)}})):HC},getLayoutStyles:r_,toStyles:p_,useGlobalSetting:Fs,useGlobalStyle:ti,useGlobalStylesOutput:function(e=!1){const{merged:t}=n.useContext(zy);return f_(t,e)},useGlobalStylesOutputWithConfig:f_,useGlobalStylesReset:ni,useHasBackgroundPanel:Xy,useHasBorderPanel:cC,useHasBorderPanelControls:dC,useHasColorPanel:xC,useHasDimensionsPanel:$_,useHasFiltersPanel:function(e){return RC(e)},useHasImageSettingsPanel:function(e,t,n){return"core/image"===e&&n?.lightbox?.allowEditing||!!t?.lightbox},useHasTypographyPanel:v_,useSettingsForBlockElement:oi},Symbol.toStringTag,{value:"Module"})),YC=({blockName:e,clientId:t,hasBlockStyles:n})=>{const o=Js({blockName:e});return p.jsxs(p.Fragment,{children:[n&&p.jsx("div",{children:p.jsx(fa,{title:To("Styles"),children:p.jsx(fk,{clientId:t})})}),p.jsx(Vh.Slot,{group:"color",label:To("Color"),className:"color-block-support-panel__inner-wrapper"}),p.jsx(Vh.Slot,{group:"background",label:To("Background image")}),p.jsx(Vh.Slot,{group:"filter"}),p.jsx(Vh.Slot,{group:"typography",label:To("Typography")}),p.jsx(Vh.Slot,{group:"dimensions",label:To("Dimensions")}),p.jsx(Vh.Slot,{group:"border",label:o}),p.jsx(Vh.Slot,{group:"styles"})]})},XC=["core/navigation"],JC=e=>!XC.includes(e),{Tabs:QC}=td(Oi);function ej({blockName:e,clientId:t,hasBlockStyles:n,tabs:o}){const l=C(e=>e(no).get("core","showIconLabels"),[]),s=JC(e)?void 0:li.name;return p.jsx("div",{className:"block-editor-block-inspector__tabs",children:p.jsxs(QC,{defaultTabId:s,children:[p.jsx(QC.TabList,{children:o.map(e=>l?p.jsx(QC.Tab,{tabId:e.name,className:e.className,children:e.title},e.name):p.jsx(yr,{text:e.title,children:p.jsx(QC.Tab,{tabId:e.name,className:e.className,"aria-label":e.title,children:p.jsx(Hi,{icon:e.icon})})},e.name))}),p.jsx(QC.TabPanel,{tabId:si.name,focusable:!1,children:p.jsx(Ay,{showAdvancedControls:!!e})}),p.jsx(QC.TabPanel,{tabId:ii.name,focusable:!1,children:p.jsx(YC,{blockName:e,clientId:t,hasBlockStyles:n})}),p.jsx(QC.TabPanel,{tabId:li.name,focusable:!1,children:p.jsx(Vh.Slot,{group:"list"})})]},t)})}const tj=[];function nj(e){const t=[],{bindings:n,border:o,color:l,default:s,dimensions:i,list:r,position:a,styles:c,typography:d,effects:u}=Lh,p=JC(e),g=zr(r.Slot.__unstableName),m=!p&&!!g&&g.length,h=[...zr(o.Slot.__unstableName)||[],...zr(l.Slot.__unstableName)||[],...zr(i.Slot.__unstableName)||[],...zr(c.Slot.__unstableName)||[],...zr(d.Slot.__unstableName)||[],...zr(u.Slot.__unstableName)||[]].length,f=[...zr($h.slotName)||[],...zr(n.Slot.__unstableName)||[]],b=[...zr(s.Slot.__unstableName)||[],...zr(a.Slot.__unstableName)||[],...m&&h>1?f:[]];m&&t.push(li),b.length&&t.push(si),h&&t.push(ii);const k=function(e,t={}){return void 0!==t[e]?t[e]:void 0===t.default||t.default}(e,C(e=>e(zo).getSettings().blockInspectorTabs,[]));return k?t:tj}const{createPrivateSlotFill:oj}=td(Oi),{Fill:lj,Slot:sj}=oj("BlockInformation"),ij=e=>Wc()[zc]?p.jsx(lj,{...e}):null;function rj({clientIds:e,onSelect:t}){return e.length?p.jsx(Ji,{spacing:1,children:e.map(e=>p.jsx(aj,{onSelect:t,clientId:e},e))}):null}function aj({clientId:e,onSelect:t}){const n=Hh(e),o=Ku({clientId:e,context:"list-view"}),{isSelected:l}=C(t=>{const{isBlockSelected:n,hasSelectedInnerBlock:o}=t(zo);return{isSelected:n(e)||o(e,!0)}},[e]),{selectBlock:s}=_(zo);return p.jsx(zi,{__next40pxDefaultSize:!0,isPressed:l,onClick:async()=>{await s(e),t&&t(e)},children:p.jsxs(Wi,{children:[p.jsx(Ki,{children:p.jsx(Vd,{icon:n?.icon})}),p.jsx(wr,{style:{textAlign:"left"},children:p.jsx(br,{children:o})})]})})}function cj({clientId:e}){return p.jsx(fa,{title:To("Styles"),children:p.jsx(fk,{clientId:e})})}ij.Slot=e=>p.jsx(sj,{...e});const dj=({showNoBlockSelectedMessage:e=!0})=>{const{count:t,selectedBlockName:n,selectedBlockClientId:o,blockType:l,isSectionBlock:s}=C(e=>{const{getSelectedBlockClientId:t,getSelectedBlockCount:n,getBlockName:o,getParentSectionBlock:l,isSectionBlock:s}=td(e(zo)),i=l(t())||t(),r=i&&o(i),a=r&&x(r);return{count:n(),selectedBlockClientId:i,selectedBlockName:r,blockType:a,isSectionBlock:s(i)}},[]),i=nj(l?.name),r=i?.length>1,a=function(e){return C(t=>{if(e){const n=t(zo).getSettings().blockInspectorAnimation,o=n?.animationParent,{getSelectedBlockClientId:l,getBlockParentsByBlockName:s}=t(zo);return s(l(),o,!0)[0]||e.name===o?n?.[e.name]:null}return null},[e])}(l),c=Js({blockName:n});if(t>1&&!s)return p.jsxs("div",{className:"block-editor-block-inspector",children:[p.jsx(Ty,{}),r?p.jsx(ej,{tabs:i}):p.jsxs(p.Fragment,{children:[p.jsx(Vh.Slot,{}),p.jsx(Vh.Slot,{group:"color",label:To("Color"),className:"color-block-support-panel__inner-wrapper"}),p.jsx(Vh.Slot,{group:"background",label:To("Background image")}),p.jsx(Vh.Slot,{group:"typography",label:To("Typography")}),p.jsx(Vh.Slot,{group:"dimensions",label:To("Dimensions")}),p.jsx(Vh.Slot,{group:"border",label:c}),p.jsx(Vh.Slot,{group:"styles"})]})]});const d=n===Fe();return l&&o&&!d?p.jsx(uj,{animate:a,wrapper:e=>p.jsx(pj,{blockInspectorAnimationSettings:a,selectedBlockClientId:o,children:e}),children:p.jsx(gj,{clientId:o,blockName:l.name,isSectionBlock:s})}):e?p.jsx("span",{className:"block-editor-block-inspector__no-blocks",children:To("No block selected.")}):null},uj=({animate:e,wrapper:t,children:n})=>e?t(n):n,pj=({blockInspectorAnimationSettings:e,selectedBlockClientId:t,children:n})=>{const o=e&&"leftToRight"===e.enterDirection?-50:50;return p.jsx(Dr.div,{animate:{x:0,opacity:1,transition:{ease:"easeInOut",duration:.14}},initial:{x:o,opacity:0},children:n},t)},gj=({clientId:e,blockName:t,isSectionBlock:n})=>{const o=nj(t),l=!n&&o?.length>1,s=C(e=>{const{getBlockStyles:n}=e(M),o=n(t);return o&&o.length>0},[t]),i=Hh(e),r=Js({blockName:t}),a=C(t=>{if(!n)return;const{getClientIdsOfDescendants:o,getBlockName:l,getBlockEditingMode:s}=t(zo);return o(e).filter(e=>"core/list-item"!==l(e)&&"contentOnly"===s(e))},[n,e]);return p.jsxs("div",{className:"block-editor-block-inspector",children:[p.jsx(Tp,{...i,className:i.isSynced&&"is-synced"}),p.jsx(Pk,{blockClientId:e}),p.jsx(ij.Slot,{}),l&&p.jsx(ej,{hasBlockStyles:s,clientId:e,blockName:t,tabs:o}),!l&&p.jsxs(p.Fragment,{children:[s&&p.jsx(cj,{clientId:e}),a&&a?.length>0&&p.jsx(fa,{title:To("Content"),children:p.jsx(rj,{clientIds:a})}),!n&&p.jsxs(p.Fragment,{children:[p.jsx(Vh.Slot,{}),p.jsx(Vh.Slot,{group:"list"}),p.jsx(Vh.Slot,{group:"color",label:To("Color"),className:"color-block-support-panel__inner-wrapper"}),p.jsx(Vh.Slot,{group:"background",label:To("Background image")}),p.jsx(Vh.Slot,{group:"typography",label:To("Typography")}),p.jsx(Vh.Slot,{group:"dimensions",label:To("Dimensions")}),p.jsx(Vh.Slot,{group:"border",label:r}),p.jsx(Vh.Slot,{group:"styles"}),p.jsx(Ry,{}),p.jsx(Vh.Slot,{group:"bindings"}),p.jsx("div",{children:p.jsx(Ly,{})})]})]}),p.jsx(Py,{},"back")]})};const mj=()=>{};const hj=n.forwardRef(function({rootClientId:e,clientId:t,isAppender:n,showInserterHelpPanel:o,showMostUsedBlocks:l=!1,__experimentalInsertionIndex:s,__experimentalInitialTab:i,__experimentalInitialCategory:r,__experimentalFilterValue:a,onPatternCategorySelection:c,onSelect:d=mj,shouldFocusBlock:u=!1,onClose:g},m){const{destinationRootClientId:h}=C(n=>{const{getBlockRootClientId:o}=n(zo);return{destinationRootClientId:e||o(t)||void 0}},[t,e]);return p.jsx(km,{onSelect:d,rootClientId:h,clientId:t,isAppender:n,showInserterHelpPanel:o,showMostUsedBlocks:l,__experimentalInsertionIndex:s,__experimentalFilterValue:a,onPatternCategorySelection:c,__experimentalInitialTab:i,__experimentalInitialCategory:r,shouldFocusBlock:u,ref:m,onClose:g})});const fj=n.forwardRef(function(e,t){return p.jsx(hj,{...e,onPatternCategorySelection:void 0,ref:t})});const bj=-1!==window.navigator.userAgent.indexOf("Trident"),kj=new Set([Lu,Mu,37,39]);function xj(){const e=C(e=>e(zo).hasSelectedBlock(),[]);return z(t=>{if(!e)return;const{ownerDocument:n}=t,{defaultView:o}=n;let l,s,i;function r(){l||(l=o.requestAnimationFrame(()=>{p(),l=null}))}function a(e){s&&o.cancelAnimationFrame(s),s=o.requestAnimationFrame(()=>{c(e),s=null})}function c({keyCode:e}){if(!g())return;const l=Bt(o);if(!l)return;if(!i)return void(i=l);if(kj.has(e))return void(i=l);const s=l.top-i.top;if(0===s)return;const r=ft(t);if(!r)return;const a=r===n.body||r===n.documentElement,c=a?o.scrollY:r.scrollTop,d=a?0:r.getBoundingClientRect().top,u=a?i.top/o.innerHeight:(i.top-d)/(o.innerHeight-d);if(0===c&&u<.75&&function(){const e=t.querySelectorAll('[contenteditable="true"]');return e[e.length-1]===n.activeElement}())return void(i=l);const p=a?o.innerHeight:r.clientHeight;i.top+i.height>d+p||i.top<d?i=l:a?o.scrollBy(0,s):r.scrollTop+=s}function d(){n.addEventListener("selectionchange",u)}function u(){n.removeEventListener("selectionchange",u),p()}function p(){g()&&(i=Bt(o))}function g(){return t.contains(n.activeElement)&&n.activeElement.isContentEditable}return o.addEventListener("scroll",r,!0),o.addEventListener("resize",r,!0),t.addEventListener("keydown",a),t.addEventListener("keyup",c),t.addEventListener("mousedown",d),t.addEventListener("touchstart",d),()=>{o.removeEventListener("scroll",r,!0),o.removeEventListener("resize",r,!0),t.removeEventListener("keydown",a),t.removeEventListener("keyup",c),t.removeEventListener("mousedown",d),t.removeEventListener("touchstart",d),n.removeEventListener("selectionchange",u),o.cancelAnimationFrame(l),o.cancelAnimationFrame(s)}},[e])}const vj=bj?e=>e.children:function({children:e}){return p.jsx("div",{ref:xj(),className:"block-editor__typewriter",children:e})},yj=n.createContext({});function _j({children:e,uniqueId:t,blockName:o=""}){const l=n.useContext(yj),{name:s}=Wc();o=o||s;const i=n.useMemo(()=>function(e,t,n){const o={...e,[t]:e[t]?new Set(e[t]):new Set};return o[t].add(n),o}(l,o,t),[l,o,t]);return p.jsx(yj.Provider,{value:i,children:e})}function Cj(e,t=""){const o=n.useContext(yj),{name:l}=Wc();return t=t||l,Boolean(o[t]?.has(e))}function jj({title:e,help:t,actions:n=[],onClose:o}){return p.jsxs(Ji,{className:"block-editor-inspector-popover-header",spacing:4,children:[p.jsxs(xr,{alignment:"center",children:[p.jsx(_r,{className:"block-editor-inspector-popover-header__heading",level:2,size:13,children:e}),p.jsx(Br,{}),n.map(({label:e,icon:t,onClick:n})=>p.jsx(zi,{size:"small",className:"block-editor-inspector-popover-header__action",label:e,icon:t,variant:!t&&"tertiary",onClick:n,children:!t&&e},e)),o&&p.jsx(zi,{size:"small",className:"block-editor-inspector-popover-header__action",label:To("Close"),icon:qt,onClick:o})]}),t&&p.jsx(ur,{children:t})]})}const Sj=n.forwardRef(function({onClose:e,onChange:t,showPopoverHeaderActions:n,isCompact:o,currentDate:l,...s},i){const r={startOfWeek:Do().l10n.startOfWeek,onChange:t,currentDate:o?void 0:l,currentTime:o?l:void 0,...s},a=o?ja:Sa;return p.jsxs("div",{ref:i,className:"block-editor-publish-date-time-picker",children:[p.jsx(jj,{title:To("Publish"),actions:n?[{label:To("Now"),onClick:()=>t?.(null)}]:void 0,onClose:e}),p.jsx(a,{...r})]})});const wj=n.forwardRef(function(e,t){return p.jsx(Sj,{...e,showPopoverHeaderActions:!0,isCompact:!1,ref:t})});function Ij(e){const t=Wc(),{clientId:o=""}=t,{setBlockEditingMode:l,unsetBlockEditingMode:s}=_(zo),i=C(e=>o?null:e(zo).getBlockEditingMode(),[o]);return n.useEffect(()=>(e&&l(o,e),()=>{e&&s(o)}),[o,e,l,s]),o?t[Fc]:i}function Bj({clientId:e,contentRef:t,parentLayout:n}){const o=C(e=>e(zo).getSettings().isDistractionFree,[]),l=ep(e);if(o||!l)return null;const s=n?.isManualPlacement&&window.__experimentalEnableGridInteractivity;return p.jsx(Nj,{gridClientId:e,gridElement:l,isManualGrid:s,ref:t})}const Nj=n.forwardRef(({gridClientId:e,gridElement:t,isManualGrid:o},l)=>{const[s,i]=n.useState(()=>ri(t)),[r,a]=n.useState(!1);return n.useEffect(()=>{const e=[];for(const n of[t,...t.children]){const o=new window.ResizeObserver(()=>{i(ri(t))});o.observe(n),e.push(o)}return()=>{for(const t of e)t.disconnect()}},[t]),n.useEffect(()=>{function e(){a(!0)}function t(){a(!1)}return document.addEventListener("drag",e),document.addEventListener("dragend",t),()=>{document.removeEventListener("drag",e),document.removeEventListener("dragend",t)}},[]),p.jsx(zm,{className:Ti("block-editor-grid-visualizer",{"is-dropping-allowed":r}),clientId:e,__unstablePopoverSlot:"__unstable-block-tools-after",children:p.jsx("div",{ref:l,className:"block-editor-grid-visualizer__grid",style:s.style,children:o?p.jsx(Ej,{gridClientId:e,gridInfo:s}):Array.from({length:s.numItems},(e,t)=>p.jsx(Dj,{color:s.currentColor},t))})})});function Ej({gridClientId:e,gridInfo:t}){const[o,l]=n.useState(null),s=C(t=>{const{getBlockOrder:n,getBlockStyles:o}=td(t(zo));return o(n(e))},[e]),i=n.useMemo(()=>{const e=[];for(const n of Object.values(s)){var t;const{columnStart:o,rowStart:l,columnSpan:s=1,rowSpan:i=1}=null!==(t=n?.layout)&&void 0!==t?t:{};o&&l&&e.push(new ai({columnStart:o,rowStart:l,columnSpan:s,rowSpan:i}))}return e},[s]);return ci(1,t.numRows).map(n=>ci(1,t.numColumns).map(s=>{var r;const a=i.some(e=>e.contains(s,n)),c=null!==(r=o?.contains(s,n))&&void 0!==r&&r;return p.jsx(Dj,{color:t.currentColor,className:c&&"is-highlighted",children:a?p.jsx(Tj,{column:s,row:n,gridClientId:e,gridInfo:t,setHighlightedRect:l}):p.jsx(Lj,{column:s,row:n,gridClientId:e,gridInfo:t,setHighlightedRect:l})},`${n}-${s}`)}))}function Dj({color:e,children:t,className:n}){return p.jsx("div",{className:Ti("block-editor-grid-visualizer__cell",n),style:{boxShadow:`inset 0 0 0 1px color-mix(in srgb, ${e} 20%, #0000)`,color:e},children:t})}function Pj(e,t,n,o,l){const{getBlockAttributes:s,getBlockRootClientId:i,canInsertBlockType:r,getBlockName:a}=C(zo),{updateBlockAttributes:c,moveBlocksToPosition:d,__unstableMarkNextChangeAsNotPersistent:u}=_(zo),p=L_(n,o.numColumns);return function({validateDrag:e,onDragEnter:t,onDragLeave:n,onDrop:o}){const{getDraggedBlockClientIds:l}=C(zo);return Se({onDragEnter(){const[n]=l();n&&e(n)&&t(n)},onDragLeave(){n()},onDrop(){const[t]=l();t&&e(t)&&o(t)}})}({validateDrag(l){const i=a(l);if(!r(i,n))return!1;const c=s(l),d=new ai({columnStart:e,rowStart:t,columnSpan:c.style?.layout?.columnSpan,rowSpan:c.style?.layout?.rowSpan});return new ai({columnSpan:o.numColumns,rowSpan:o.numRows}).containsRect(d)},onDragEnter(n){const o=s(n);l(new ai({columnStart:e,rowStart:t,columnSpan:o.style?.layout?.columnSpan,rowSpan:o.style?.layout?.rowSpan}))},onDragLeave(){l(n=>n?.columnStart===e&&n?.rowStart===t?null:n)},onDrop(o){l(null);const r=s(o);c(o,{style:{...r.style,layout:{...r.style?.layout,columnStart:e,rowStart:t}}}),u(),d([o],i(o),n,p(e,t))}})}function Tj({column:e,row:t,gridClientId:n,gridInfo:o,setHighlightedRect:l}){return p.jsx("div",{className:"block-editor-grid-visualizer__drop-zone",ref:Pj(e,t,n,o,l)})}function Lj({column:e,row:t,gridClientId:n,gridInfo:o,setHighlightedRect:l}){const{updateBlockAttributes:s,moveBlocksToPosition:i,__unstableMarkNextChangeAsNotPersistent:r}=_(zo),a=L_(n,o.numColumns);return p.jsx(Bm,{rootClientId:n,className:"block-editor-grid-visualizer__appender",ref:Pj(e,t,n,o,l),style:{color:o.currentColor},onSelect:o=>{o&&(s(o.clientId,{style:{layout:{columnStart:e,rowStart:t}}}),r(),i([o.clientId],n,n,a(e,t)))}})}function Mj({clientId:e,bounds:t,onChange:n,parentLayout:o}){const l=ep(e),s=l?.parentElement,{isManualPlacement:i}=o;return l&&s?p.jsx(Rj,{clientId:e,bounds:t,blockElement:l,rootBlockElement:s,onChange:n,isManualGrid:i&&window.__experimentalEnableGridInteractivity}):null}function Rj({clientId:e,bounds:t,blockElement:o,rootBlockElement:l,onChange:s,isManualGrid:i}){const[r,a]=n.useState(null),[c,d]=n.useState({top:!1,bottom:!1,left:!1,right:!1});n.useEffect(()=>{const e=new window.ResizeObserver(()=>{const e=o.getBoundingClientRect(),t=l.getBoundingClientRect();d({top:e.top>t.top,bottom:e.bottom<t.bottom,left:e.left>t.left,right:e.right<t.right})});return e.observe(o),()=>e.disconnect()},[o,l]);const u={right:"left",left:"right"},g={top:"flex-end",bottom:"flex-start"},m={display:"flex",justifyContent:"center",alignItems:"center",...u[r]&&{justifyContent:u[r]},...g[r]&&{alignItems:g[r]}};return p.jsx(zm,{className:"block-editor-grid-item-resizer",clientId:e,__unstablePopoverSlot:"__unstable-block-tools-after",additionalStyles:m,children:p.jsx(wa,{className:"block-editor-grid-item-resizer__box",size:{width:"100%",height:"100%"},enable:{bottom:c.bottom,bottomLeft:!1,bottomRight:!1,left:c.left,right:c.right,top:c.top,topLeft:!1,topRight:!1},bounds:t,boundsByDirection:!0,onPointerDown:({target:e,pointerId:t})=>{e.setPointerCapture(t)},onResizeStart:(e,t)=>{a(t)},onResizeStop:(e,t,n)=>{const r=parseFloat(di(l,"column-gap")),a=parseFloat(di(l,"row-gap")),c=ui(di(l,"grid-template-columns"),r),d=ui(di(l,"grid-template-rows"),a),u=new window.DOMRect(o.offsetLeft+n.offsetLeft,o.offsetTop+n.offsetTop,n.offsetWidth,n.offsetHeight),p=pi(c,u.left)+1,g=pi(d,u.top)+1,m=pi(c,u.right,"end")+1,h=pi(d,u.bottom,"end")+1;s({columnSpan:m-p+1,rowSpan:h-g+1,columnStart:i?p:void 0,rowStart:i?g:void 0})}})})}function Aj({layout:e,parentLayout:t,onChange:n,gridClientId:o,blockClientId:l}){var s,i,r,a;const{moveBlocksToPosition:c,__unstableMarkNextChangeAsNotPersistent:d}=_(zo),u=null!==(s=e?.columnStart)&&void 0!==s?s:1,g=null!==(i=e?.rowStart)&&void 0!==i?i:1,m=null!==(r=e?.columnSpan)&&void 0!==r?r:1,h=null!==(a=e?.rowSpan)&&void 0!==a?a:1,f=u+m-1,b=g+h-1,k=t?.columnCount,x=t?.rowCount,v=L_(o,k);return p.jsx(Pf,{group:"parent",children:p.jsxs(Vi,{className:"block-editor-grid-item-mover__move-button-container",children:[p.jsx("div",{className:"block-editor-grid-item-mover__move-horizontal-button-container is-left",children:p.jsx(zj,{icon:Lo()?St:wt,label:To("Move left"),description:To("Move left"),isDisabled:u<=1,onClick:()=>{n({columnStart:u-1}),d(),c([l],o,o,v(u-1,g))}})}),p.jsxs("div",{className:"block-editor-grid-item-mover__move-vertical-button-container",children:[p.jsx(zj,{className:"is-up-button",icon:Jt,label:To("Move up"),description:To("Move up"),isDisabled:g<=1,onClick:()=>{n({rowStart:g-1}),d(),c([l],o,o,v(u,g-1))}}),p.jsx(zj,{className:"is-down-button",icon:Qt,label:To("Move down"),description:To("Move down"),isDisabled:x&&b>=x,onClick:()=>{n({rowStart:g+1}),d(),c([l],o,o,v(u,g+1))}})]}),p.jsx("div",{className:"block-editor-grid-item-mover__move-horizontal-button-container is-right",children:p.jsx(zj,{icon:Lo()?wt:St,label:To("Move right"),description:To("Move right"),isDisabled:k&&f>=k,onClick:()=>{n({columnStart:u+1}),d(),c([l],o,o,v(u+1,g))}})})]})})}function zj({className:e,icon:t,label:n,isDisabled:o,onClick:l,description:s}){const i=`block-editor-grid-item-mover-button__description-${me(zj)}`;return p.jsxs(p.Fragment,{children:[p.jsx(ir,{className:Ti("block-editor-grid-item-mover-button",e),icon:t,label:n,"aria-describedby":i,onClick:o?null:l,disabled:o,accessibleWhenDisabled:!0}),p.jsx(vr,{id:i,children:s})]})}function Oj({clientId:e}){const{gridLayout:t,blockOrder:o,selectedBlockLayout:l}=C(t=>{var n;const{getBlockAttributes:o,getBlockOrder:l}=t(zo),s=t(zo).getSelectedBlock();return{gridLayout:null!==(n=o(e).layout)&&void 0!==n?n:{},blockOrder:l(e),selectedBlockLayout:s?.attributes.style?.layout}},[e]),{getBlockAttributes:s,getBlockRootClientId:i}=C(zo),{updateBlockAttributes:r,__unstableMarkNextChangeAsNotPersistent:a}=_(zo),c=n.useMemo(()=>l?new ai(l):null,[l]),d=ke(c),u=ke(t.isManualPlacement),p=ke(o);n.useEffect(()=>{const n={};if(t.isManualPlacement){const r=[];for(const e of o){var l;const{columnStart:t,rowStart:n,columnSpan:o=1,rowSpan:i=1}=null!==(l=s(e).style?.layout)&&void 0!==l?l:{};t&&n&&r.push(new ai({columnStart:t,rowStart:n,columnSpan:o,rowSpan:i}))}for(const e of o){var c;const o=s(e),{columnStart:l,rowStart:i,columnSpan:a=1,rowSpan:u=1}=null!==(c=o.style?.layout)&&void 0!==c?c:{};if(l&&i)continue;const[p,g]=Fj(r,t.columnCount,a,u,d?.columnEnd,d?.rowEnd);r.push(new ai({columnStart:p,rowStart:g,columnSpan:a,rowSpan:u})),n[e]={style:{...o.style,layout:{...o.style?.layout,columnStart:p,rowStart:g}}}}const a=Math.max(...r.map(e=>e.rowEnd));(!t.rowCount||t.rowCount<a)&&(n[e]={layout:{...t,rowCount:a}});for(const e of null!=p?p:[])if(!o.includes(e)){var g;const t=i(e);if(null===t)continue;const o=s(t);if("grid"===o?.layout?.type)continue;const l=s(e),{columnStart:r,rowStart:a,columnSpan:c,rowSpan:d,...u}=null!==(g=l.style?.layout)&&void 0!==g?g:{};if(r||a||c||d){const t=0===Object.keys(u).length;n[e]=As(l,["style","layout"],t?void 0:u)}}}else{if(!0===u)for(const e of o){var m;const t=s(e),{columnStart:o,rowStart:l,...i}=null!==(m=t.style?.layout)&&void 0!==m?m:{};if(o||l){const o=0===Object.keys(i).length;n[e]=As(t,["style","layout"],o?void 0:i)}}t.rowCount&&(n[e]={layout:{...t,rowCount:void 0}})}Object.keys(n).length&&(a(),r(Object.keys(n),n,!0))},[e,t,p,o,d,u,a,s,i,r])}function Fj(e,t,n,o,l=1,s=1){for(let i=s;;i++)for(let r=i===s?l:1;r<=t;r++){const t=new ai({columnStart:r,rowStart:i,columnSpan:n,rowSpan:o});if(!e.some(e=>e.intersectsRect(t)))return[r,i]}}const Vj={button:"wp-element-button",caption:"wp-element-caption"};function $j(e,t,o){if(null==e||!1===e)return;if(Array.isArray(e))return Hj(e,t,o);switch(typeof e){case"string":case"number":return}const{type:l,props:s}=e;switch(l){case n.StrictMode:case n.Fragment:return Hj(s.children,t,o);case O:return;case ih.Content:return Uj(t,o);case oy:return void t.push(s.value)}switch(typeof l){case"string":return void 0!==s.children?Hj(s.children,t,o):void 0;case"function":return $j(l.prototype&&"function"==typeof l.prototype.render?new l(s).render():l(s),t,o)}}function Hj(e,...t){e=Array.isArray(e)?e:[e];for(let n=0;n<e.length;n++)$j(e[n],...t)}function Uj(e,t){for(let n=0;n<t.length;n++){const{name:o,attributes:l,innerBlocks:s}=t[n];$j(Ve(o,l,p.jsx(ih.Content,{})),e,s)}}const Gj=[{value:"fill",label:Mo("Fill","Scale option for dimensions control"),help:To("Fill the space by stretching the content.")},{value:"contain",label:Mo("Contain","Scale option for dimensions control"),help:To("Fit the content to the space without clipping.")},{value:"cover",label:Mo("Cover","Scale option for dimensions control"),help:To("Fill the space by clipping what doesn't fit.")},{value:"none",label:Mo("None","Scale option for dimensions control"),help:To("Do not adjust the sizing of the content. Content that is too large will be clipped, and content that is too small will have additional padding.")},{value:"scale-down",label:Mo("Scale down","Scale option for dimensions control"),help:To("Scale down the content to fit the space if it is too big. Content that is too small will have additional padding.")}];function Wj({panelId:e,value:t,onChange:o,options:l=Gj,defaultValue:s=Gj[0].value,isShownByDefault:i=!0}){const r=null!=t?t:"fill",a=n.useMemo(()=>l.reduce((e,t)=>(e[t.value]=t.help,e),{}),[l]);return p.jsx(ia,{label:To("Scale"),isShownByDefault:i,hasValue:()=>r!==s,onDeselect:()=>o(s),panelId:e,children:p.jsx(qi,{__nextHasNoMarginBottom:!0,label:To("Scale"),isBlock:!0,help:a[r],value:r,onChange:o,size:"__unstable-large",children:l.map(e=>p.jsx(tr,{...e},e.value))})})}const Kj=Qc(ia,{target:"ef8pe3d0"})({name:"957xgf",styles:"grid-column:span 1"});function qj({panelId:e,value:t={},onChange:n=()=>{},units:o,isShownByDefault:l=!0}){var s,i;const r="auto"===t.width?"":null!==(s=t.width)&&void 0!==s?s:"",a="auto"===t.height?"":null!==(i=t.height)&&void 0!==i?i:"",c=e=>o=>{const l={...t};o?l[e]=o:delete l[e],n(l)};return p.jsxs(p.Fragment,{children:[p.jsx(Kj,{label:To("Width"),isShownByDefault:l,hasValue:()=>""!==r,onDeselect:c("width"),panelId:e,children:p.jsx(Qi,{label:To("Width"),placeholder:To("Auto"),labelPosition:"top",units:o,min:0,value:r,onChange:c("width"),size:"__unstable-large"})}),p.jsx(Kj,{label:To("Height"),isShownByDefault:l,hasValue:()=>""!==a,onDeselect:c("height"),panelId:e,children:p.jsx(Qi,{label:To("Height"),placeholder:To("Auto"),labelPosition:"top",units:o,min:0,value:a,onChange:c("height"),size:"__unstable-large"})})]})}const Zj=[{label:Mo("Thumbnail","Image size option for resolution control"),value:"thumbnail"},{label:Mo("Medium","Image size option for resolution control"),value:"medium"},{label:Mo("Large","Image size option for resolution control"),value:"large"},{label:Mo("Full Size","Image size option for resolution control"),value:"full"}];const Yj={};ed(Yj,{...ZC,ExperimentalBlockCanvas:Rb,ExperimentalBlockEditorProvider:zp,getDuotoneFilter:Ks,getRichTextValues:function(e=[]){q.skipFilters=!0;const t=[];return Uj(t,e),q.skipFilters=!1,t.map(e=>e instanceof Po?e:Po.fromHTMLString(e))},PrivateQuickInserter:vm,extractWords:Md,getNormalizedSearchTerms:Ad,normalizeString:Rd,PrivateListView:dk,ResizableBoxPopover:function({clientId:e,resizableBoxProps:t,...n}){return p.jsx(zm,{clientId:e,__unstablePopoverSlot:"block-toolbar",...n,children:p.jsx(wa,{...t})})},BlockInfo:ij,useHasBlockToolbar:xb,cleanEmptyObject:Ll,BlockQuickNavigation:rj,LayoutStyle:function({layout:e={},css:t,...n}){const o=hu(e.type),[l]=ud("spacing.blockGap"),s=null!==l;if(o){if(t)return p.jsx("style",{children:t});const l=o.getLayoutStyle?.({hasBlockGapSupport:s,layout:e,...n});if(l)return p.jsx("style",{children:l})}return null},BlockRemovalWarningModal:function({rules:e}){const{clientIds:t,selectPrevious:o,message:l}=C(e=>td(e(zo)).getRemovalPromptData()),{clearBlockRemovalPrompt:s,setBlockRemovalRules:i,privateRemoveBlocks:r}=td(_(zo));if(n.useEffect(()=>(i(e),()=>{i()}),[e,i]),!l)return;return p.jsxs(cr,{title:To("Be careful!"),onRequestClose:s,size:"medium",children:[p.jsx("p",{children:l}),p.jsxs(xr,{justify:"right",children:[p.jsx(zi,{variant:"tertiary",onClick:s,__next40pxDefaultSize:!0,children:To("Cancel")}),p.jsx(zi,{variant:"primary",onClick:()=>{r(t,o,!0),s()},__next40pxDefaultSize:!0,children:To("Delete")})]})]})},useLayoutClasses:fi,useLayoutStyles:hi,DimensionsTool:function({panelId:e,value:t={},onChange:o=()=>{},aspectRatioOptions:l,defaultAspectRatio:s="auto",scaleOptions:i,defaultScale:r="fill",unitsOptions:a,tools:c=["aspectRatio","widthHeight","scale"]}){const d=void 0===t.width||"auto"===t.width?null:t.width,u=void 0===t.height||"auto"===t.height?null:t.height,g=void 0===t.aspectRatio||"auto"===t.aspectRatio?null:t.aspectRatio,m=void 0===t.scale||"fill"===t.scale?null:t.scale,[h,f]=n.useState(m),[b,k]=n.useState(g),x=d&&u?"custom":b,v=g||d&&u;return p.jsxs(p.Fragment,{children:[c.includes("aspectRatio")&&p.jsx(F_,{panelId:e,options:l,defaultValue:s,value:x,onChange:e=>{const n={...t};k(e="auto"===e?null:e),e?n.aspectRatio=e:delete n.aspectRatio,e?h?n.scale=h:(n.scale=r,f(r)):delete n.scale,"custom"!==e&&d&&u&&delete n.height,o(n)}}),c.includes("widthHeight")&&p.jsx(qj,{panelId:e,units:a,value:{width:d,height:u},onChange:({width:e,height:n})=>{const l={...t};n="auto"===n?null:n,(e="auto"===e?null:e)?l.width=e:delete l.width,n?l.height=n:delete l.height,e&&n?delete l.aspectRatio:b&&(l.aspectRatio=b),b||!!e==!!n?h?l.scale=h:(l.scale=r,f(r)):delete l.scale,o(l)}}),c.includes("scale")&&v&&p.jsx(Wj,{panelId:e,options:i,defaultValue:r,value:h,onChange:e=>{const n={...t};f(e="fill"===e?null:e),e?n.scale=e:delete n.scale,o(n)}})]})},ResolutionTool:function({panelId:e,value:t,onChange:n,options:o=Zj,defaultValue:l=Zj[0].value,isShownByDefault:s=!0}){const i=null!=t?t:l;return p.jsx(ia,{hasValue:()=>i!==l,label:To("Resolution"),onDeselect:()=>n(l),isShownByDefault:s,panelId:e,children:p.jsx(la,{__nextHasNoMarginBottom:!0,label:To("Resolution"),value:i,options:o,onChange:n,help:To("Select the size of the source image."),size:"__unstable-large"})})},TabbedSidebar:fm,TextAlignmentControl:x_,usesContextKey:Qv,useFlashEditableBlocks:Cp,globalStylesDataKey:Ho,globalStylesLinksDataKey:$o,selectBlockPatternsKey:Wo,requiresWrapperOnCopy:mi,PrivateRichText:dy,PrivateInserterLibrary:hj,reusableBlocksSelectKey:Go,PrivateBlockPopover:Mm,PrivatePublishDateTimePicker:Sj,useSpacingSizes:Es,useBlockDisplayTitle:Ku,__unstableBlockStyleVariationOverridesWithConfig:gi,setBackgroundStyleDefaults:Hs,sectionRootClientIdKey:Uo});const Xj=Object.freeze(Object.defineProperty({__proto__:null,AlignmentControl:jd,AlignmentToolbar:e=>p.jsx(Cd,{...e,isToolbar:!0}),Autocomplete:function(e){return p.jsx(Ui,{...e,completers:Wd(e)})},BlockAlignmentControl:Iu,BlockAlignmentToolbar:e=>p.jsx(wu,{...e,isToolbar:!0}),BlockBreadcrumb:function({rootLabelText:e}){const{selectBlock:t,clearSelectedBlock:o}=_(zo),{clientId:l,parents:s,hasSelection:i}=C(e=>{const{getSelectionStart:t,getSelectedBlockClientId:n,getEnabledBlockParents:o}=td(e(zo)),l=n();return{parents:o(l),clientId:l,hasSelection:!!t().clientId}},[]),r=e||To("Document"),a=n.useRef();return Qu(l,a),p.jsxs("ul",{className:"block-editor-block-breadcrumb",role:"list","aria-label":To("Block breadcrumb"),children:[p.jsxs("li",{className:i?void 0:"block-editor-block-breadcrumb__current","aria-current":i?void 0:"true",children:[i&&p.jsx(zi,{size:"small",className:"block-editor-block-breadcrumb__button",onClick:()=>{const e=a.current?.closest(".editor-styles-wrapper");o(),al(e)?.focus()},children:r}),!i&&r,!!l&&p.jsx(Ze,{icon:mt,className:"block-editor-block-breadcrumb__separator"})]}),s.map(e=>p.jsxs("li",{children:[p.jsx(zi,{size:"small",className:"block-editor-block-breadcrumb__button",onClick:()=>t(e),children:p.jsx(qu,{clientId:e,maximumLength:35})}),p.jsx(Ze,{icon:mt,className:"block-editor-block-breadcrumb__separator"})]},e)),!!l&&p.jsx("li",{className:"block-editor-block-breadcrumb__current","aria-current":"true",children:p.jsx(qu,{clientId:l,maximumLength:35})})]})},BlockCanvas:function({children:e,height:t,styles:n}){return p.jsx(Rb,{height:t,styles:n,children:e})},BlockColorsStyleSelector:({children:e,...t})=>(He("wp.blockEditor.BlockColorsStyleSelector",{alternative:"block supports API",since:"6.1",version:"6.3"}),p.jsx(ar,{popoverProps:{placement:"bottom-start"},className:"block-library-colors-selector",contentClassName:"block-library-colors-selector__popover",renderToggle:Ob(t),renderContent:()=>e})),BlockContextProvider:od,BlockControls:Pf,BlockEdit:dd,BlockEditorKeyboardShortcuts:Ap,BlockEditorProvider:Op,BlockFormatControls:Tf,BlockIcon:Vd,BlockInspector:dj,BlockList:bh,BlockMover:sf,BlockNavigationDropdown:gk,BlockPopover:Rm,BlockPreview:hg,BlockSelectionClearer:function(e){return p.jsx("div",{ref:Fp(),...e})},BlockSettingsMenu:pb,BlockSettingsMenuControls:rb,BlockStyles:fk,BlockTitle:qu,BlockToolbar:yb,BlockTools:Db,BlockVerticalAlignmentControl:Vk,BlockVerticalAlignmentToolbar:e=>p.jsx(Fk,{...e,isToolbar:!0}),ButtonBlockAppender:Bm,ButtonBlockerAppender:Im,ColorPalette:Yk,ColorPaletteControl:function({onChange:e,value:t,...n}){return p.jsx(ox,{...n,onColorChange:e,colorValue:t,gradients:[],disableCustomGradients:!0})},ContrastChecker:lx,CopyHandler:function(e){return He("CopyHandler",{alternative:"BlockCanvas or WritingFlow",since:"6.4",version:"6.7"}),p.jsx("div",{...e,ref:Qp()})},DefaultBlockAppender:Sm,FontSizePicker:function(e){const[t,n]=ud("typography.fontSizes","typography.customFontSize");return p.jsx(Fi,{...e,fontSizes:t,disableCustomFontSizes:!n})},HeadingLevelDropdown:function({options:e=xk,value:t,onChange:n}){const o=e.filter(e=>0===e||xk.includes(e)).sort((e,t)=>e-t);return p.jsx($i,{popoverProps:vk,icon:p.jsx(kk,{level:t}),label:To("Change level"),controls:o.map(e=>{const o=e===t;return{icon:p.jsx(kk,{level:e}),title:0===e?To("Paragraph"):Ro(To("Heading %d"),e),isActive:o,onClick(){n(e)},role:"menuitemradio"}})})},HeightControl:Ix,InnerBlocks:ih,Inserter:Cm,InspectorAdvancedControls:$h,InspectorControls:Vh,JustifyContentControl:Ux,JustifyToolbar:e=>p.jsx(Hx,{...e,isToolbar:!0}),LineHeightControl:Iv,MediaPlaceholder:Fv,MediaReplaceFlow:Ev,MediaUpload:am,MediaUploadCheck:rm,MultiSelectScrollIntoView:function(){return He("wp.blockEditor.MultiSelectScrollIntoView",{hint:"This behaviour is now built-in.",since:"5.8"}),null},NavigableToolbar:kb,ObserveTyping:uh,PanelColorSettings:({colorSettings:e,...t})=>{const n=e.map(e=>{if(!e)return e;const{value:t,onChange:n,...o}=e;return{...o,colorValue:t,onColorChange:n}});return p.jsx(Sx,{settings:n,gradients:[],disableCustomGradients:!0,...t})},PlainText:my,RecursionProvider:_j,RichText:py,RichTextShortcut:function({character:e,type:t,onUse:o}){const l=n.useContext(sy),s=n.useRef();return s.current=o,n.useEffect(()=>{function n(n){Gu[t](n,e)&&(s.current(),n.preventDefault())}return l.current.add(n),()=>{l.current.delete(n)}},[e,t]),null},RichTextToolbarButton:function({name:e,shortcutType:t,shortcutCharacter:n,...o}){let l,s="RichText.ToolbarControls";return e&&(s+=`.${e}`),t&&n&&(l=Uu[t](n)),p.jsx(ha,{name:s,children:p.jsx(ir,{...o,shortcut:l})})},SETTINGS_DEFAULTS:Ko,SkipToSelectedBlock:Py,ToolSelector:by,Typewriter:vj,URLInput:Lv,URLInputButton:ky,URLPopover:Rv,Warning:rd,WritingFlow:tg,__experimentalBlockAlignmentMatrixControl:function(e){const{label:t=To("Change matrix alignment"),onChange:n=Wu,value:o="center",isDisabled:l}=e,s=p.jsx(rr.Icon,{value:o});return p.jsx(ar,{popoverProps:{placement:"bottom-start"},renderToggle:({onToggle:e,isOpen:n})=>p.jsx(ir,{onClick:e,"aria-haspopup":"true","aria-expanded":n,onKeyDown:t=>{n||t.keyCode!==Mu||(t.preventDefault(),e())},label:t,icon:s,showTooltip:!0,disabled:l}),renderContent:()=>p.jsx(rr,{hasFocusBorder:!1,onChange:n,value:o})})},__experimentalBlockFullHeightAligmentControl:function({isActive:e,label:t=To("Toggle full height"),onToggle:n,isDisabled:o}){return p.jsx(ir,{isActive:e,icon:gt,label:t,onClick:()=>n(!e),disabled:o})},__experimentalBlockPatternSetup:({clientId:e,blockName:t,filterPatternsFn:o,onBlockPatternSelect:l,initialViewMode:s=yk,showTitles:i=!1})=>{const[r,a]=n.useState(s),[c,d]=n.useState(0),{replaceBlock:u}=_(zo),g=function(e,t,n){return C(o=>{const{getBlockRootClientId:l,getPatternsByBlockTypes:s,__experimentalGetAllowedPatterns:i}=o(zo),r=l(e);return n?i(r).filter(n):s(t,r)},[e,t,n])}(e,t,o);if(!g?.length)return null;const m=l||(t=>{const n=t.map(e=>ie(e));u(e,n)});return p.jsx(p.Fragment,{children:p.jsxs("div",{className:`block-editor-block-pattern-setup view-mode-${r}`,children:[p.jsx(wk,{viewMode:r,activeSlide:c,patterns:g,onBlockPatternSelect:m,showTitles:i}),p.jsx(Sk,{viewMode:r,setViewMode:a,activeSlide:c,totalSlides:g.length,handleNext:()=>{d(e=>Math.min(e+1,g.length-1))},handlePrevious:()=>{d(e=>Math.max(e-1,0))},onBlockPatternSelect:()=>{m(g[c].blocks)}})]})})},__experimentalBlockPatternsList:zg,__experimentalBlockVariationPicker:function({icon:e=In,label:t=To("Choose variation"),instructions:n=To("Select a variation to start with:"),variations:o,onSelect:l,allowSkip:s}){const i=Ti("block-editor-block-variation-picker",{"has-many-variations":o.length>4});return p.jsxs(Yr,{icon:e,label:t,instructions:n,className:i,children:[p.jsx("ul",{className:"block-editor-block-variation-picker__variations",role:"list","aria-label":To("Block variations"),children:o.map(e=>p.jsxs("li",{children:[p.jsx(zi,{__next40pxDefaultSize:!0,variant:"tertiary",icon:e.icon&&e.icon.src?e.icon.src:e.icon,iconSize:48,onClick:()=>l(e),className:"block-editor-block-variation-picker__variation",label:e.description||e.title}),p.jsx("span",{className:"block-editor-block-variation-picker__variation-label",children:e.title})]},e.name))}),s&&p.jsx("div",{className:"block-editor-block-variation-picker__skip",children:p.jsx(zi,{__next40pxDefaultSize:!0,variant:"link",onClick:()=>l(),children:To("Skip")})})]})},__experimentalBlockVariationTransforms:Pk,__experimentalBorderRadiusControl:qk,__experimentalColorGradientControl:ox,__experimentalColorGradientSettingsDropdown:vx,__experimentalDateFormatPicker:function({format:e,defaultFormat:t,onChange:n}){return p.jsxs("fieldset",{className:"block-editor-date-format-picker",children:[p.jsx(vr,{as:"legend",children:To("Date format")}),p.jsx(Yi,{__nextHasNoMarginBottom:!0,label:To("Default format"),help:`${To("Example:")}  ${En(t,sx)}`,checked:!e,onChange:e=>n(e?null:t)}),e&&p.jsx(ix,{format:e,onChange:n})]})},__experimentalDuotoneControl:rx,__experimentalFontAppearanceControl:ax,__experimentalFontFamilyControl:cx,__experimentalGetBorderClassesAndStyles:bi,__experimentalGetColorClassesAndStyles:xi,__experimentalGetElementClassName:e=>Vj[e]?Vj[e]:"",__experimentalGetGapCSSValue:ll,__experimentalGetGradientClass:hd,__experimentalGetGradientObjectByGradientValue:bd,__experimentalGetShadowClassesAndStyles:ji,__experimentalGetSpacingClassesAndStyles:Ci,__experimentalImageEditor:function({id:e,url:t,width:n,height:o,naturalHeight:l,naturalWidth:s,onSaveImage:i,onFinishEditing:r,borderProps:a}){return p.jsxs(Dx,{id:e,url:t,naturalWidth:s,naturalHeight:l,onSaveImage:i,onFinishEditing:r,children:[p.jsx(Rx,{borderProps:a,url:t,width:n,height:o,naturalHeight:l,naturalWidth:s}),p.jsxs(Pf,{children:[p.jsxs(Vi,{children:[p.jsx(Ax,{}),p.jsx(Fr,{children:e=>p.jsx(Mx,{toggleProps:e})}),p.jsx(zx,{})]}),p.jsx(Vi,{children:p.jsx(Ox,{})})]})]})},__experimentalImageSizeControl:function({imageSizeHelp:e,imageWidth:t,imageHeight:o,imageSizeOptions:l=[],isResizable:s=!0,slug:i,width:r,height:a,onChange:c,onChangeImage:d=Vx}){const{currentHeight:u,currentWidth:g,updateDimension:m,updateDimensions:h}=function(e,t,o,l,s){var i,r;const[a,c]=n.useState(null!==(i=null!=t?t:l)&&void 0!==i?i:""),[d,u]=n.useState(null!==(r=null!=e?e:o)&&void 0!==r?r:"");return n.useEffect(()=>{void 0===t&&void 0!==l&&c(l),void 0===e&&void 0!==o&&u(o)},[l,o]),n.useEffect(()=>{void 0!==t&&Number.parseInt(t)!==Number.parseInt(a)&&c(t),void 0!==e&&Number.parseInt(e)!==Number.parseInt(d)&&u(e)},[t,e]),{currentHeight:d,currentWidth:a,updateDimension:(e,t)=>{const n=""===t?void 0:parseInt(t,10);"width"===e?c(n):u(n),s({[e]:n})},updateDimensions:(e,t)=>{u(null!=e?e:o),c(null!=t?t:l),s({height:e,width:t})}}}(a,r,o,t,c);return p.jsxs(p.Fragment,{children:[l&&l.length>0&&p.jsx(la,{__nextHasNoMarginBottom:!0,label:To("Resolution"),value:i,options:l,onChange:d,help:e,size:"__unstable-large"}),s&&p.jsxs("div",{className:"block-editor-image-size-control",children:[p.jsxs(xr,{align:"baseline",spacing:"3",children:[p.jsx(or,{className:"block-editor-image-size-control__width",label:To("Width"),value:g,min:1,onChange:e=>m("width",e),size:"__unstable-large"}),p.jsx(or,{className:"block-editor-image-size-control__height",label:To("Height"),value:u,min:1,onChange:e=>m("height",e),size:"__unstable-large"})]}),p.jsxs(xr,{children:[p.jsx(ra,{"aria-label":To("Image size presets"),children:Fx.map(e=>{const n=Math.round(t*(e/100)),l=Math.round(o*(e/100)),s=g===n&&u===l;return p.jsxs(zi,{size:"small",variant:s?"primary":void 0,isPressed:s,onClick:()=>h(l,n),children:[e,"%"]},e)})}),p.jsx(zi,{size:"small",onClick:()=>h(),children:To("Reset")})]})]})]})},__experimentalImageURLInputUI:({linkDestination:e,onChangeUrl:t,url:o,mediaType:l="image",mediaUrl:s,mediaLink:i,linkTarget:r,linkClass:a,rel:c,showLightboxSetting:d,lightboxEnabled:u,onSetLightbox:g,resetLightbox:m})=>{const[h,f]=n.useState(!1),[b,k]=n.useState(null),[x,v]=n.useState(!1),[y,_]=n.useState(null),C=n.useRef(null),j=n.useRef();n.useEffect(()=>{if(!j.current)return;(bt.focusable.find(j.current)[0]||j.current).focus()},[x,o,u]);const S=()=>{e!==yy&&e!==_y||_(""),v(!0)},w=()=>{v(!1)},I=()=>{const e=[{linkDestination:yy,title:To("Link to image file"),url:"image"===l?s:void 0,icon:So}];return"image"===l&&i&&e.push({linkDestination:_y,title:To("Link to attachment page"),url:"image"===l?i:void 0,icon:Ye}),e},B=p.jsxs(Ji,{spacing:"3",children:[p.jsx(Yi,{__nextHasNoMarginBottom:!0,label:To("Open in new tab"),onChange:e=>{const n=(e=>{const t=e?"_blank":void 0;let n;if(t){const e=(null!=c?c:"").split(" ");Cy.forEach(t=>{e.includes(t)||e.push(t)}),n=e.join(" ")}else{const e=(null!=c?c:"").split(" ").filter(e=>!1===Cy.includes(e));n=e.length?e.join(" "):void 0}return{linkTarget:t,rel:n}})(e);t(n)},checked:"_blank"===r}),p.jsx(Hr,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:To("Link rel"),value:null!=c?c:"",onChange:e=>{t({rel:e})}}),p.jsx(Hr,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:To("Link CSS class"),value:a||"",onChange:e=>{t({linkClass:e})}})]}),N=null!==y?y:o,E=!u||u&&!d,D=!N&&E,P=(I().find(t=>t.linkDestination===e)||{}).title;return p.jsxs(p.Fragment,{children:[p.jsx(ir,{icon:Bn,className:"components-toolbar__control",label:To("Link"),"aria-expanded":h,onClick:()=>{f(!0)},ref:k,isActive:!!o||u&&d}),h&&p.jsx(Rv,{ref:j,anchor:b,onFocusOutside:e=>{const t=C.current;t&&t.contains(e.target)||(f(!1),_(null),w())},onClose:()=>{_(null),w(),f(!1)},renderSettings:E?()=>B:null,additionalControls:D&&p.jsxs(Gr,{children:[I().map(e=>p.jsx(Ai,{icon:e.icon,iconPosition:"left",onClick:()=>{_(null),(e=>{const n=I();let o;o=e?(n.find(t=>t.url===e)||{linkDestination:vy}).linkDestination:xy,t({linkDestination:o,href:e})})(e.url),w()},children:e.title},e.linkDestination)),d&&p.jsx(Ai,{className:"block-editor-url-popover__expand-on-click",icon:gt,info:To("Scale the image with a lightbox effect."),iconPosition:"left",onClick:()=>{_(null),t({linkDestination:xy,href:""}),g?.(!0),w()},children:To("Expand on click")},"expand-on-click")]}),offset:13,children:u&&d&&!o&&!x?p.jsxs("div",{className:"block-editor-url-popover__expand-on-click",children:[p.jsx(Ze,{icon:gt}),p.jsxs("div",{className:"text",children:[p.jsx("p",{children:To("Expand on click")}),p.jsx("p",{className:"description",children:To("Scales the image with a lightbox effect")})]}),p.jsx(zi,{icon:Nn,label:To("Disable expand on click"),onClick:()=>{g?.(!1)},size:"compact"})]}):!o||x?p.jsx(Rv.LinkEditor,{className:"block-editor-format-toolbar__link-container-content",value:N,onChangeInputValue:_,onSubmit:e=>{if(y){const e=I().find(e=>e.url===y)?.linkDestination||vy;t({href:y,linkDestination:e,lightbox:{enabled:!1}})}w(),_(null),e.preventDefault()},autocompleteRef:C}):o&&!x?p.jsxs(p.Fragment,{children:[p.jsx(Rv.LinkViewer,{className:"block-editor-format-toolbar__link-container-content",url:o,onEditLinkClick:S,urlLabel:P}),p.jsx(zi,{icon:Nn,label:To("Remove link"),onClick:()=>{t({linkDestination:xy,href:""}),m?.()},size:"compact"})]}):void 0})]})},__experimentalInspectorPopoverHeader:jj,__experimentalLetterSpacingControl:dx,__experimentalLibrary:fj,__experimentalLinkControl:wv,__experimentalLinkControlSearchInput:uv,__experimentalLinkControlSearchItem:Xx,__experimentalLinkControlSearchResults:sv,__experimentalListView:uk,__experimentalPanelColorGradientSettings:Sx,__experimentalPreviewOptions:function(){return He("wp.blockEditor.PreviewOptions",{version:"6.5"}),null},__experimentalPublishDateTimePicker:wj,__experimentalRecursionProvider:e=>(He("wp.blockEditor.__experimentalRecursionProvider",{since:"6.5",alternative:"wp.blockEditor.RecursionProvider"}),p.jsx(_j,{...e})),__experimentalResponsiveBlockControl:function(e){const{title:t,property:o,toggleLabel:l,onIsResponsiveChange:s,renderDefaultControl:i,renderResponsiveControls:r,isResponsive:a=!1,defaultLabel:c={id:"all",label:Mo("All","screen sizes")},viewports:d=[{id:"small",label:To("Small screens")},{id:"medium",label:To("Medium screens")},{id:"large",label:To("Large screens")}]}=e;if(!t||!o||!i)return null;const u=l||Ro(To("Use the same %s on all screen sizes."),o),g=To("Toggle between using the same value for all screen sizes or using a unique value per screen size."),m=i(p.jsx(hy,{property:o,viewport:c}),c);return p.jsxs("fieldset",{className:"block-editor-responsive-block-control",children:[p.jsx("legend",{className:"block-editor-responsive-block-control__title",children:t}),p.jsxs("div",{className:"block-editor-responsive-block-control__inner",children:[p.jsx(Yi,{__nextHasNoMarginBottom:!0,className:"block-editor-responsive-block-control__toggle",label:u,checked:!a,onChange:s,help:g}),p.jsxs("div",{className:Ti("block-editor-responsive-block-control__group",{"is-responsive":a}),children:[!a&&m,a&&(r?r(d):d.map(e=>p.jsx(n.Fragment,{children:i(p.jsx(hy,{property:o,viewport:e}),e)},e.id)))]})]})]})},__experimentalSpacingSizesControl:Dy,__experimentalTextDecorationControl:px,__experimentalTextTransformControl:mx,__experimentalUnitControl:function({units:e,...t}){const[n]=ud("spacing.units"),o=Xi({availableUnits:n||["%","px","em","rem","vw"],units:e});return p.jsx(Qi,{units:o,...t})},__experimentalUseBlockOverlayActive:function(e){return C(t=>{const{__unstableHasActiveBlockOverlayActive:n}=t(zo);return n(e)},[e])},__experimentalUseBlockPreview:function({blocks:e,props:t={},layout:o}){const l=C(e=>e(zo).getSettings(),[]),s=n.useMemo(()=>({...l,styles:void 0,focusMode:!1,__unstableIsPreviewMode:!0}),[l]),i=K(),r=W([t.ref,i]),a=n.useMemo(()=>Array.isArray(e)?e:[e],[e]),c=p.jsxs(zp,{value:a,settings:s,children:[p.jsx(ag,{}),p.jsx(yh,{renderAppender:!1,layout:o})]});return{...t,ref:r,className:Ti(t.className,"block-editor-block-preview__live-content","components-disabled"),children:e?.length?c:null}},__experimentalUseBorderProps:ki,__experimentalUseColorProps:yi,__experimentalUseCustomSides:_i,__experimentalUseGradient:function({gradientAttribute:e="gradient",customGradientAttribute:t="customGradient"}={}){const{clientId:o}=Wc(),[l,s,i]=ud("color.gradients.custom","color.gradients.theme","color.gradients.default"),r=n.useMemo(()=>[...l||[],...s||[],...i||[]],[l,s,i]),{gradient:a,customGradient:c}=C(n=>{const{getBlockAttributes:l}=n(zo),s=l(o)||{};return{customGradient:s[t],gradient:s[e]}},[o,e,t]),{updateBlockAttributes:d}=_(zo),u=n.useCallback(n=>{const l=kd(r,n);d(o,l?{[e]:l,[t]:void 0}:{[e]:void 0,[t]:n})},[r,o,d]),p=hd(a);let g;return g=a?fd(r,a):c,{gradientClass:p,gradientValue:g,setGradient:u}},__experimentalUseHasRecursion:(...e)=>(He("wp.blockEditor.__experimentalUseHasRecursion",{since:"6.5",alternative:"wp.blockEditor.useHasRecursion"}),Cj(...e)),__experimentalUseMultipleOriginColorsAndGradients:yx,__experimentalUseResizeCanvas:function(e){const[t,o]=n.useState(window.innerWidth);n.useEffect(()=>{if("Desktop"===e)return;const t=()=>o(window.innerWidth);return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e]);const l=e=>{let n;switch(e){case"Tablet":n=780;break;case"Mobile":n=360;break;default:return null}return n<t?n:t};return(e=>{const t="Mobile"===e?"768px":"1024px",n=(window.innerHeight<800?36:64)+"px",o="auto";switch(e){case"Tablet":case"Mobile":return{width:l(e),marginTop:n,marginBottom:n,marginLeft:o,marginRight:o,height:t,overflowY:"auto"};default:return{marginLeft:o,marginRight:o}}})(e)},__experimentalWritingModeControl:fx,__unstableBlockNameContext:mb,__unstableBlockSettingsMenuFirstItem:Vf,__unstableBlockToolbarLastItem:Lf,__unstableEditorStyles:ag,__unstableIframe:ig,__unstableInserterMenuExtension:um,__unstableRichTextInputEvent:function({inputType:e,onInput:t}){const o=n.useContext(iy),l=n.useRef();return l.current=t,n.useEffect(()=>{function t(t){t.inputType===e&&(l.current(),t.preventDefault())}return o.current.add(t),()=>{o.current.delete(t)}},[e]),null},__unstableUseBlockSelectionClearer:Fp,__unstableUseClipboardHandler:()=>(He("__unstableUseClipboardHandler",{alternative:"BlockCanvas or WritingFlow",since:"6.4",version:"6.7"}),Qp()),__unstableUseMouseMoveTypingReset:ch,__unstableUseTypewriter:xj,__unstableUseTypingObserver:dh,createCustomColorsHOC:function(e){return(...t)=>{const n=(e=>j(t=>n=>p.jsx(t,{...n,colors:e}),"withCustomColorPalette"))(e);return j(md(t,n),"withCustomColors")}},getColorClassName:Xo,getColorObjectByAttributeValues:Yo,getColorObjectByColorValue:Zo,getComputedFluidTypographyValue:Ei,getCustomValueFromPreset:Ss,getFontSize:Jo,getFontSizeClass:Qo,getFontSizeObjectByValue:Ni,getGradientSlugByValue:kd,getGradientValueBySlug:fd,getPxFromCssUnit:Di,getSpacingPresetCssVar:Bi,getTypographyClassesAndStyles:vi,isValueSpacingPreset:Cs,privateApis:Yj,store:zo,storeConfig:Fo,transformStyles:fl,useBlockBindingsUtils:Pi,useBlockCommands:Lb,useBlockDisplayInformation:Hh,useBlockEditContext:Wc,useBlockEditingMode:Ij,useBlockProps:Sp,useCachedTruthy:Si,useHasRecursion:Cj,useInnerBlocksProps:rh,useSetting:function(e){He("wp.blockEditor.useSetting",{since:"6.5",alternative:"wp.blockEditor.useSettings",note:"The new useSettings function can retrieve multiple settings at once, with better performance."});const[t]=ud(e);return t},useSettings:ud,useStyleOverride:Ii,useZoomOut:wi,withColorContext:Zk,withColors:function(...e){const t=j(e=>t=>{const[o,l,s]=ud("color.palette.custom","color.palette.theme","color.palette.default"),i=n.useMemo(()=>[...o||[],...l||[],...s||[]],[o,l,s]);return p.jsx(e,{...t,colors:i})},"withEditorColorPalette");return j(md(e,t),"withColors")},withFontSizes:(...e)=>{const t=e.reduce((e,t)=>(e[t]=`custom${vd(t)}`,e),{});return j(S([j(e=>t=>{const[n]=ud("typography.fontSizes");return p.jsx(e,{...t,fontSizes:n||xd})},"withFontSizes"),e=>class extends n.Component{constructor(e){super(e),this.setters=this.createSetters(),this.state={}}createSetters(){return Object.entries(t).reduce((e,[t,n])=>(e[`set${vd(t)}`]=this.createSetFontSize(t,n),e),{})}createSetFontSize(e,t){return n=>{const o=this.props.fontSizes?.find(({size:e})=>e===Number(n));this.props.setAttributes({[e]:o&&o.slug?o.slug:void 0,[t]:o&&o.slug?void 0:n})}}static getDerivedStateFromProps({attributes:e,fontSizes:n},o){const l=(t,n)=>!o[n]||(e[n]?e[n]!==o[n].slug:o[n].size!==e[t]);if(!Object.values(t).some(l))return null;const s=Object.entries(t).filter(([e,t])=>l(t,e)).reduce((t,[o,l])=>{const s=e[o],i=Jo(n,s,e[l]);return t[o]={...i,class:Qo(s)},t},{});return{...o,...s}}render(){return p.jsx(e,{...this.props,fontSizes:void 0,...this.state,...this.setters})}}]),"withFontSizes")}},Symbol.toStringTag,{value:"Module"}));export{Fa as $,TC as A,e_ as B,nd as C,jd as D,v_ as E,zm as F,zy as G,$_ as H,Vh as I,tC as J,Oy as K,Kd as L,VC as M,rx as N,m_ as O,p_ as P,hu as Q,fu as R,vu as S,T_ as T,Bj as U,Mj as V,Aj as W,Oj as X,fd as Y,Ga as Z,hd as _,Of as a,Qc as a0,Ua as a1,Ic as a2,Aa as a3,Oa as a4,Ac as a5,Rc as a6,Op as a7,yb as a8,tg as a9,uh as aa,bh as ab,dj as ac,Xj as ad,Cc as b,ud as c,Hh as d,Xy as e,Dc as f,dC as g,Jy as h,jp as i,yx as j,xc as k,cC as l,kC as m,vc as n,Wc as o,zc as p,Oc as q,ju as r,Ij as s,Pf as t,td as u,Iu as v,bc as w,ep as x,lx as y,xC as z};
