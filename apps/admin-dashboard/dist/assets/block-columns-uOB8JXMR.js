import{C as e,j as o,M as l,P as s}from"./vendor-react-40ZmJ4HC.js";const n=()=>{if(!window.wp?.blocks?.registerBlockType)return;const{registerBlockType:n,createBlock:t}=window.wp.blocks,{InnerBlocks:i,useBlockProps:a,InspectorControls:r,BlockControls:m,BlockVerticalAlignmentToolbar:c}=window.wp.blockEditor,{PanelBody:d,RangeControl:u,SelectControl:b,ToggleControl:p,ToolbarGroup:h,ToolbarButton:x}=window.wp.components,{useSelect:f,useDispatch:N}=window.wp.data;n("o4o/columns",{title:"Columns",description:"Display content in multiple columns",category:"design",icon:e,supports:{align:["wide","full"],anchor:!0,html:!1,color:{background:!0,text:!0},spacing:{padding:!0,margin:!0}},attributes:{columns:{type:"number",default:2},verticalAlignment:{type:"string",default:void 0},isStackedOnMobile:{type:"boolean",default:!0},gap:{type:"number",default:20}},edit:function({attributes:e,setAttributes:n,clientId:v}){const{columns:k,verticalAlignment:g,isStackedOnMobile:w,gap:D}=e,{insertBlock:E,removeBlock:V}=N("core/block-editor"),j=f(e=>{const{getBlock:o}=e("core/block-editor");return o(v)?.innerBlocks||[]},[v]),C=e=>{const o=j.length;if(e>o)for(let l=o;l<e;l++){const o=t("o4o/column",{width:100/e});E(o,l,v,!1)}else if(e<o)for(let l=o-1;l>=e;l--)j[l]&&V(j[l].clientId,!1);j.slice(0,e).forEach(o=>{o.attributes.width=100/e}),n({columns:e})},B=a({className:"o4o-columns-block "+(w?"stack-on-mobile":""),style:{display:"flex",gap:`${D}px`,alignItems:"center"===g?"center":"bottom"===g?"flex-end":"flex-start"}});return o.jsxDEV(o.Fragment,{children:[o.jsxDEV(m,{children:[o.jsxDEV(c,{onChange:e=>n({verticalAlignment:e}),value:g},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:145,columnNumber:13},this),o.jsxDEV(h,{children:[o.jsxDEV(x,{icon:l,title:"Remove column",onClick:()=>k>1&&C(k-1),disabled:k<=1},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:150,columnNumber:15},this),o.jsxDEV(x,{icon:s,title:"Add column",onClick:()=>k<6&&C(k+1),disabled:k>=6},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:156,columnNumber:15},this)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:149,columnNumber:13},this)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:144,columnNumber:11},this),o.jsxDEV(r,{children:o.jsxDEV(d,{title:"Columns Settings",initialOpen:!0,children:[o.jsxDEV(u,{label:"Number of Columns",value:k,onChange:e=>e&&C(e),min:1,max:6,step:1},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:167,columnNumber:15},this),o.jsxDEV(u,{label:"Gap between columns",value:D,onChange:e=>n({gap:e||0}),min:0,max:100,step:5},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:176,columnNumber:15},this),o.jsxDEV(b,{label:"Vertical Alignment",value:g||"",options:[{label:"Default",value:""},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"}],onChange:e=>n({verticalAlignment:""===e?void 0:e})},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:185,columnNumber:15},this),o.jsxDEV(p,{label:"Stack on Mobile",checked:w,onChange:e=>n({isStackedOnMobile:e}),disabled:!1,className:"",__nextHasNoMarginBottom:!1},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:199,columnNumber:15},this)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:166,columnNumber:13},this)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:165,columnNumber:11},this),o.jsxDEV("div",{...B,children:o.jsxDEV(i,{allowedBlocks:["o4o/column"],template:Array(k).fill(["o4o/column",{width:100/k}]),templateLock:!1,renderAppender:!1},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:211,columnNumber:13},this)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:143,columnNumber:9},this)},save:({attributes:e})=>{const{verticalAlignment:l,isStackedOnMobile:s,gap:n}=e,t=a.save({className:"o4o-columns-block "+(s?"stack-on-mobile":""),style:{display:"flex",gap:`${n}px`,alignItems:"center"===l?"center":"bottom"===l?"flex-end":"flex-start"}});return o.jsxDEV("div",{...t,children:o.jsxDEV(i.Content,{},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:237,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:236,columnNumber:9},void 0)}}),n("o4o/column",{title:"Column",description:"A single column within a columns block",category:"design",parent:["o4o/columns"],supports:{reusable:!1,html:!1,color:{background:!0,text:!0},spacing:{padding:!0}},attributes:{width:{type:"number",default:void 0},verticalAlignment:{type:"string",default:void 0}},edit:function({attributes:e,setAttributes:l}){const{width:s,verticalAlignment:n}=e,t=a({className:"o4o-column-block",style:{flexBasis:s?`${s}%`:void 0,alignSelf:"center"===n?"center":"bottom"===n?"flex-end":"stretch"===n?"stretch":"flex-start"}});return o.jsxDEV(o.Fragment,{children:[o.jsxDEV(r,{children:o.jsxDEV(d,{title:"Column Settings",initialOpen:!0,children:[o.jsxDEV(u,{label:"Width (%)",value:s||0,onChange:e=>l({width:e}),min:10,max:100,step:1},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:288,columnNumber:15},this),o.jsxDEV(b,{label:"Vertical Alignment",value:n||"",options:[{label:"Default",value:""},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Stretch",value:"stretch"}],onChange:e=>l({verticalAlignment:""===e?void 0:e})},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:297,columnNumber:15},this)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:287,columnNumber:13},this)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:286,columnNumber:11},this),o.jsxDEV("div",{...t,children:o.jsxDEV(i,{allowedBlocks:!0,renderAppender:i.ButtonBlockAppender},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:315,columnNumber:13},this)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:314,columnNumber:11},this)]},void 0,!0,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:285,columnNumber:9},this)},save:({attributes:e})=>{const{width:l,verticalAlignment:s}=e,n=a.save({className:"o4o-column-block",style:{flexBasis:l?`${l}%`:void 0,alignSelf:"center"===s?"center":"bottom"===s?"flex-end":"stretch"===s?"stretch":"flex-start"}});return o.jsxDEV("div",{...n,children:o.jsxDEV(i.Content,{},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:339,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/user/o4o-platform/apps/admin-dashboard/src/blocks/columns/index.tsx",lineNumber:338,columnNumber:9},void 0)}})};window.wp?.blocks?.registerBlockType?n():document.addEventListener("DOMContentLoaded",n);export{n as registerColumnsBlock};
//# sourceMappingURL=block-columns-uOB8JXMR.js.map
