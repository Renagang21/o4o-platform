import{r as s,j as e,Z as j,bT as o,a3 as x,Y as b,bP as g}from"./vendor-react-D0umZ417.js";import"./wp-lazy-CvxKE3_Q.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-monaco-cpVGocfO.js";const S=()=>{const[t,i]=s.useState(""),[a,n]=s.useState(!1),[u,d]=s.useState(!1),[c,r]=s.useState(""),h=async l=>{l.preventDefault(),r(""),n(!0);try{const m=await fetch("https://api.neture.co.kr/api/v1/auth/v2/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),f=await m.json();m.ok?d(!0):r(f.error||"비밀번호 재설정 요청에 실패했습니다.")}catch{r("서버와의 연결에 실패했습니다. 잠시 후 다시 시도해주세요.")}finally{n(!1)}};return u?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(j,{className:"mx-auto h-12 w-12 text-green-500"}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"이메일을 확인해주세요"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"입력하신 이메일 주소로 비밀번호 재설정 링크를 보내드렸습니다."}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"메일이 도착하지 않았다면 스팸 폴더를 확인해주세요."})]}),e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsxs(o,{to:"/login",className:"group relative w-full flex justify-center items-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-admin-blue",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"로그인 페이지로 돌아가기"]}),e.jsx("button",{onClick:()=>{d(!1),i("")},className:"w-full text-sm text-admin-blue hover:text-admin-blue-dark",children:"다른 이메일로 재시도"})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"비밀번호 재설정"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["가입하신 이메일 주소를 입력하시면",e.jsx("br",{}),"비밀번호 재설정 링크를 보내드립니다."]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[c&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(b,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm font-medium text-red-800",children:c})})]})}),e.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"이메일 주소"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(g,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:l=>i(l.target.value),className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-admin-blue focus:border-admin-blue focus:z-10 sm:text-sm",placeholder:"이메일 주소",disabled:a})]})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:a||!t,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-admin-blue hover:bg-admin-blue-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-admin-blue disabled:opacity-50 disabled:cursor-not-allowed",children:a?e.jsx("span",{children:"처리 중..."}):e.jsx("span",{children:"비밀번호 재설정 링크 보내기"})})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(o,{to:"/login",className:"text-sm text-admin-blue hover:text-admin-blue-dark",children:[e.jsx(x,{className:"inline h-4 w-4 mr-1"}),"로그인으로 돌아가기"]})})]})]})})};export{S as default};
