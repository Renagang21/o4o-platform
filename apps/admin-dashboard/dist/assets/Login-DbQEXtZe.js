import{r as a,bk as E,b_ as L,V as l,j as e,bT as T,bl as b,b$ as j,bD as h,bG as P,c0 as M,Y as O,bK as F}from"./vendor-react-k21L8gyu.js";import{u as R}from"./main-jxz3gomr.js";import"./page-gutenberg-DfBK4wFH.js";import"./wp-block-editor-DM9yXXIa.js";import"./wp-i18n-DQMG9Moe.js";import"./wp-core-CTkjrE6Y.js";import"./wp-blocks-core-m9M-jdYH.js";import"./wp-misc-eJXghOJf.js";import"./wp-data-CiqFlSQ4.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-monaco-cpVGocfO.js";import"./vendor-query-D5rBm9N_.js";import"./vendor-socket-Ch6lN7-G.js";import"./vendor-utils-DQ8F5vJI.js";import"./wp-components-C7vO1IIk.js";const W=()=>{const[i,c]=a.useState(""),[n,d]=a.useState(""),[m,f]=a.useState(!1),[N,w]=a.useState(!1),{login:v,isAuthenticated:x,isLoading:r,error:p,clearError:y,isAdmin:o}=R(),g=E(),[k]=L(),S=k.get("redirect")||"/home",C=g.state?.from||S;if(a.useEffect(()=>{x&&o&&l.success("이미 로그인되어 있습니다.")},[x,o]),x)return o?e.jsx(T,{to:C,replace:!0}):e.jsx("div",{className:"min-h-screen bg-wp-bg-secondary flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx(b,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-wp-text-primary",children:"접근 권한 없음"}),e.jsx("p",{className:"mt-2 text-center text-sm text-wp-text-secondary",children:"관리자 권한이 필요합니다"}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>window.location.href="/",className:"text-admin-blue hover:text-admin-blue-dark",children:"메인 사이트로 이동"})})]})})});const A=async t=>{if(t.preventDefault(),y(),!i||!n){l.error("이메일과 비밀번호를 입력해주세요.");return}try{await v({email:i,password:n}),l.success("관리자 로그인 성공!")}catch(u){let s=u instanceof Error?u.message:"로그인에 실패했습니다.";s.includes("Invalid credentials")?s="이메일 또는 비밀번호가 올바르지 않습니다.":s.includes("Account not active")?s="계정이 비활성화되었습니다. 관리자에게 문의하세요.":s.includes("insufficient_role")?s="관리자 권한이 없습니다.":s.includes("Account is temporarily locked")&&(s="계정이 임시로 잠겼습니다. 잠시 후 다시 시도하세요."),l.error(s)}};return e.jsx("div",{className:"min-h-screen bg-wp-bg-secondary flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(j,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-wp-text-primary",children:"O4O Admin"}),e.jsx("p",{className:"mt-2 text-center text-sm text-wp-text-secondary",children:"관리자 계정으로 로그인하세요"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(h,{className:"h-4 w-4 text-blue-600"}),e.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"새로운 SSO 인증 시스템"})]}),e.jsxs("div",{className:"text-blue-700 text-xs space-y-1",children:[e.jsx("div",{children:"🔐 관리자 전용 보안 강화"}),e.jsx("div",{children:"⚡ 자동 토큰 갱신 (15분 Access + 7일 Refresh)"}),e.jsx("div",{children:"🛡️ 역할 기반 접근 제어"}),e.jsx("div",{children:"📊 실시간 세션 모니터링"})]})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(h,{className:"h-4 w-4 text-amber-600"}),e.jsx("p",{className:"text-amber-800 text-sm font-medium",children:"테스트 계정 정보"})]}),e.jsxs("div",{className:"text-amber-700 text-sm space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"관리자 계정:"}),e.jsxs("div",{className:"mt-1 bg-white rounded px-2 py-1 font-mono text-xs",children:["이메일: admin@neture.co.kr",e.jsx("br",{}),"비밀번호: Test@1234"]})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"일반 관리자:"}),e.jsxs("div",{className:"mt-1 bg-white rounded px-2 py-1 font-mono text-xs",children:["이메일: manager@neture.co.kr",e.jsx("br",{}),"비밀번호: Test@1234"]})]}),e.jsx("div",{className:"text-xs text-amber-600 mt-2",children:"⚠️ 테스트 환경에서만 사용하세요"})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{c("admin@neture.co.kr"),d("Test@1234")},className:"flex-1 text-xs bg-amber-600 text-white px-3 py-1.5 rounded hover:bg-amber-700 transition-colors",children:"관리자로 로그인"}),e.jsx("button",{type:"button",onClick:()=>{c("manager@neture.co.kr"),d("Test@1234")},className:"flex-1 text-xs bg-amber-600 text-white px-3 py-1.5 rounded hover:bg-amber-700 transition-colors",children:"일반 관리자로 로그인"})]})]}),p&&e.jsx("div",{className:"wp-notice-error",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{children:p})]})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-wp-text-primary mb-1",children:"이메일 주소"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-wp-text-secondary"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:t=>c(t.target.value),className:"wp-input pl-10",placeholder:"admin@neture.co.kr",disabled:r})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-wp-text-primary mb-1",children:"비밀번호"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-wp-text-secondary"}),e.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:t=>d(t.target.value),className:"wp-input pl-10 pr-10",placeholder:"비밀번호를 입력하세요",disabled:r}),e.jsx("button",{type:"button",onClick:()=>f(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-wp-text-secondary hover:text-wp-text-primary",disabled:r,children:m?e.jsx(M,{className:"h-5 w-5"}):e.jsx(O,{className:"h-5 w-5"})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:N,onChange:t=>w(t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border border-gray-200 rounded",disabled:r}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-wp-text-primary",children:"30일간 로그인 상태 유지"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(F,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-700",children:"비밀번호를 잊으셨나요?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("span",{children:"로그인 중..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{children:"관리자 로그인"})]})})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"text-xs text-wp-text-secondary",children:["관리자 계정이 필요하신가요?"," ",e.jsx("a",{href:"mailto:admin@neture.co.kr?subject=관리자 계정 요청",className:"font-medium text-blue-600 hover:text-blue-700",children:"문의하기"})]}),e.jsx("p",{className:"text-xs text-wp-text-secondary",children:e.jsx("a",{href:"/",className:"hover:text-wp-text-primary",children:"메인 사이트로 돌아가기"})})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-wp-bg-tertiary rounded-lg border",children:[e.jsx("h3",{className:"text-sm font-medium text-wp-text-primary mb-2",children:"🔒 보안 안내"}),e.jsxs("ul",{className:"text-xs text-wp-text-secondary space-y-1",children:[e.jsx("li",{children:"• 세션은 8시간 후 자동 만료됩니다"}),e.jsx("li",{children:"• 비정상적인 접근 시 계정이 자동으로 잠길 수 있습니다"}),e.jsx("li",{children:"• 모든 관리자 활동은 로그로 기록됩니다"}),e.jsx("li",{children:"• 다른 기기에서 로그인 시 기존 세션이 종료됩니다"})]})]})]})})};export{W as default};
