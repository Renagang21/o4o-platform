import{j as e,u as s,r as t,aI as a,cD as r,b6 as i,aE as l,cm as c,aF as o,aG as n,bD as d,b9 as m,bc as p,b7 as x,b8 as h}from"./vendor-react-DqgGMt48.js";import{u as j,a as u,b as g}from"./useProducts-CzfjFyT8.js";import{c as b,B as y,n as v}from"./page-template-editor-5uesjTWI.js";import"./vendor-monaco-BxJH8uUv.js";import"./vendor-query-D_c3FRkE.js";import"./ecommerceApi-Dm20fs_t.js";import"./unified-client-VR_Ux9DW.js";import"./vendor-utils-C9jLuAcl.js";import"./index-CqU4KnuF.js";import"./wp-misc-DyLrwF9p.js";import"./vendor-ui-CrFdsnXa.js";import"./wp-data-CL-okzN5.js";import"./wp-block-editor-misc-Bvzg-2Jv.js";import"./wp-core-BVMytgUH.js";import"./wp-block-editor-api-MRWBPx9C.js";import"./wp-blocks-core-65VcejHr.js";import"./wp-block-editor-store-BOagVFfu.js";import"./wp-block-editor-clipboard-D5sqncpm.js";import"./wp-i18n-BuBz6Sgx.js";import"./wp-block-editor-global-styles-DFEUywv4.js";import"./wp-block-editor-typography-D5fCIzVQ.js";import"./wp-components-Uj2D7Nfy.js";import"./wp-block-editor-spacing-CY2h70rf.js";import"./wp-block-editor-menus-CucXu4UM.js";import"./wp-block-editor-core-BF86nm2P.js";import"./wp-block-editor-utils-BmaAXcuk.js";import"./wp-block-editor-colors-60WWD1Za.js";import"./wp-block-editor-a11y-BVzCbFSD.js";import"./wp-block-editor-preview-WXXja22U.js";import"./wp-block-editor-borders-C-QIiBvP.js";import"./wp-block-editor-formats--rvRJrSX.js";import"./wp-block-editor-selection-DBFjOmhH.js";import"./wp-block-editor-inline-CtEBI-J7.js";import"./wp-block-editor-ui-DwG3jajt.js";import"./wp-block-editor-transforms-Bg08EtRt.js";import"./wp-block-editor-patterns-DIcm1rGW.js";import"./wp-block-editor-navigation-ufXSM7dn.js";import"./wp-block-editor-dnd-yPphmZPp.js";import"./wp-block-editor-media-CatADaW3.js";import"./wp-api-COhbxmzY.js";import"./wp-block-editor-keyboard-3DDntAoE.js";import"./wp-block-editor-templates-C6YLNdWR.js";import"./vendor-socket-CMcZe9fK.js";const w=({icon:s,title:t,description:a,action:r,secondaryAction:i,className:l,children:c})=>e.jsxs("div",{className:b("empty-state",l),children:[s&&e.jsx("div",{className:"empty-state-icon",children:"function"==typeof s?e.jsx(s,{className:"w-full h-full"}):s}),e.jsx("h2",{className:"empty-state-title",children:t}),a&&e.jsx("p",{className:"empty-state-description",children:a}),c,(r||i)&&e.jsxs("div",{className:"empty-state-actions",children:[r&&e.jsxs(y,{onClick:r.onClick,className:b("secondary"===r.variant?"empty-state-action-secondary":"empty-state-action-primary"),children:[r.icon&&e.jsx("span",{className:"mr-2",children:r.icon}),r.label]}),i&&e.jsxs(y,{onClick:i.onClick,className:"empty-state-action-secondary",variant:"outline",children:[i.icon&&e.jsx("span",{className:"mr-2",children:i.icon}),i.label]})]})]}),N=({title:s="데이터가 없습니다",description:t="아직 등록된 항목이 없습니다. 새로운 항목을 추가해보세요.",onAdd:a})=>e.jsx(w,{icon:()=>e.jsx("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),title:s,description:t,action:a?{label:"새로 추가",onClick:a,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}:void 0}),f=({searchTerm:s,onClear:t})=>e.jsx(w,{icon:()=>e.jsx("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),title:"검색 결과가 없습니다",description:s?`"${s}"에 대한 검색 결과를 찾을 수 없습니다.`:"다른 검색어를 시도해보세요.",action:t?{label:"검색 초기화",onClick:t,variant:"secondary"}:void 0}),k=({title:s="데이터를 불러오는 중...",description:t="잠시만 기다려주세요."})=>e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-700",children:s}),t&&e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:t})]}),C=()=>{const b=s(),[y,w]=t.useState("grid"),[C,S]=t.useState(1),[A,L]=t.useState({}),[M,B]=t.useState(""),[H,Q]=t.useState([]),[z,D]=t.useState(!1),{data:W,isLoading:$}=j(C,20,{...A,search:M}),_=u(),I=g(),K=W?.data||[],P=Math.ceil((W?.total||0)/20),U=async e=>{window.confirm("정말로 이 상품을 삭제하시겠습니까?")&&await _.mutateAsync(e)},q=({product:s})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-t-lg bg-gray-200",children:s.images&&s.images[0]?e.jsx("img",{src:s.images[0].url,alt:s.name,className:"object-cover object-center"}):e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx(d,{className:"w-12 h-12 text-gray-400"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:s.name}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(m,{className:"w-4 h-4"})}),e.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[e.jsxs("button",{onClick:()=>b(`/ecommerce/products/${s.id}/edit`),className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:[e.jsx(p,{className:"w-4 h-4 inline mr-2"}),"편집"]}),e.jsxs("button",{onClick:()=>(async e=>{await I.mutateAsync(e)})(s.id),className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:[e.jsx(x,{className:"w-4 h-4 inline mr-2"}),"복제"]}),e.jsx("hr",{className:"my-1"}),e.jsxs("button",{onClick:()=>U(s.id),className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[e.jsx(h,{className:"w-4 h-4 inline mr-2"}),"삭제"]})]})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["SKU: ",s.sku]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-lg font-semibold",children:v(s.retailPrice||0)}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(s.stockQuantity>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:s.stockQuantity>0?`재고: ${s.stockQuantity}`:"품절"})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("span",{className:"text-xs px-2 py-1 rounded "+("active"===s.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"active"===s.status?"판매중":"draft"===s.status?"임시저장":"비공개"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:"simple"===s.type?"단순상품":"variable"===s.type?"가변상품":"기타"})]})]})]}),E=({product:s})=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:H.includes(s.id),onChange:e=>{e.target.checked?Q([...H,s.id]):Q(H.filter(e=>e!==s.id))},className:"rounded"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:s.images&&s.images[0]?e.jsx("img",{className:"h-10 w-10 rounded object-cover",src:s.images[0].url,alt:s.name}):e.jsx("div",{className:"h-10 w-10 rounded bg-gray-200 flex items-center justify-center",children:e.jsx(d,{className:"w-5 h-5 text-gray-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",s.sku]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("active"===s.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"active"===s.status?"판매중":"draft"===s.status?"임시저장":"비공개"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v(s.retailPrice||0)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.stockQuantity}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.categories?.[0]?.name||"-"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>b(`/ecommerce/products/${s.id}/edit`),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"편집"}),e.jsx("button",{onClick:()=>U(s.id),className:"text-red-600 hover:text-red-900",children:"삭제"})]})]});return e.jsx("div",{className:"products-page",style:{position:"relative",zIndex:1,backgroundColor:"#f1f1f1",minHeight:"100vh"},children:e.jsxs("div",{className:"space-y-6",style:{padding:"20px",maxWidth:"100%",margin:"0 auto"},children:[e.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"상품 관리"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["총 ",W?.total||0,"개의 상품이 등록되어 있습니다"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex items-center px-4 py-2 border rounded-lg hover:bg-gray-50",children:[e.jsx(a,{className:"w-4 h-4 mr-2"}),"가져오기"]}),e.jsxs("button",{className:"flex items-center px-4 py-2 border rounded-lg hover:bg-gray-50",children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),"내보내기"]}),e.jsxs("button",{onClick:()=>b("/ecommerce/products/new"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(i,{className:"w-4 h-4 mr-2"}),"상품 추가"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("form",{onSubmit:e=>{e.preventDefault(),S(1)},className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:M,onChange:e=>B(e.target.value),placeholder:"상품명, SKU로 검색...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>D(!z),className:"flex items-center px-4 py-2 border rounded-lg hover:bg-gray-50",children:[e.jsx(c,{className:"w-4 h-4 mr-2"}),"필터"]}),e.jsxs("div",{className:"flex border rounded-lg",children:[e.jsx("button",{onClick:()=>w("grid"),className:"p-2 "+("grid"===y?"bg-gray-100":"hover:bg-gray-50"),children:e.jsx(o,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>w("list"),className:"p-2 "+("list"===y?"bg-gray-100":"hover:bg-gray-50"),children:e.jsx(n,{className:"w-4 h-4"})})]})]})]}),z&&e.jsxs("div",{className:"border-t pt-4 grid grid-cols-4 gap-4",children:[e.jsxs("select",{value:A.status||"",onChange:e=>L({...A,status:e.target.value||void 0}),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"모든 상태"}),e.jsx("option",{value:"active",children:"판매중"}),e.jsx("option",{value:"inactive",children:"판매중지"})]}),e.jsxs("select",{value:A.type||"",onChange:e=>L({...A,type:e.target.value||void 0}),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"모든 유형"}),e.jsx("option",{value:"physical",children:"실물"}),e.jsx("option",{value:"digital",children:"디지털"}),e.jsx("option",{value:"service",children:"서비스"})]}),e.jsx("select",{value:A.category||"",onChange:e=>L({...A,category:e.target.value}),className:"border rounded-lg px-3 py-2",children:e.jsx("option",{value:"",children:"모든 카테고리"})}),e.jsxs("select",{value:A.stockStatus||"",onChange:e=>L({...A,stockStatus:e.target.value||void 0}),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"재고 상태"}),e.jsx("option",{value:"in_stock",children:"재고 있음"}),e.jsx("option",{value:"out_of_stock",children:"품절"}),e.jsx("option",{value:"low_stock",children:"재고 부족"})]})]})]}),$?e.jsx(k,{title:"상품을 불러오는 중...",description:"잠시만 기다려주세요"}):0===K.length?M?e.jsx(f,{searchTerm:M,onClear:()=>B("")}):e.jsx(N,{title:"등록된 상품이 없습니다",description:"첫 번째 상품을 등록하여 판매를 시작해보세요",onAdd:()=>b("/ecommerce/products/new")}):"grid"===y?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:K.map(s=>e.jsx(q,{product:s},s.id))}):e.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",onChange:e=>{e.target.checked?Q(K.map(e=>e.id)):Q([])},className:"rounded"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상품"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"가격"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"재고"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"카테고리"}),e.jsx("th",{className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"작업"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(s=>e.jsx(E,{product:s},s.id))})]})}),P>1&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("nav",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>S(Math.max(1,C-1)),disabled:1===C,className:"px-3 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"이전"}),Array.from({length:P},(e,s)=>s+1).map(s=>e.jsx("button",{onClick:()=>S(s),className:"px-3 py-2 border rounded-lg "+(C===s?"bg-blue-600 text-white":"hover:bg-gray-50"),children:s},s)),e.jsx("button",{onClick:()=>S(Math.min(P,C+1)),disabled:C===P,className:"px-3 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"다음"})]})})]})})};export{C as default};
