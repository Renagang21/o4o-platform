import{r as c,j as e,ch as E,z as j}from"./vendor-react-P__8vGRG.js";import{e as A,C as z,f as P,a as U,b as L,c as R,B as k,g as D,d as O}from"./index-C0gS3Jf3.js";import{B as h,L as i,I as l,S as p,d as g,e as b,f,g as t,T as V}from"./page-template-editor-BTdVTS-a.js";import{U as y}from"./userApi-m_Dm3U7g.js";const Y=[{value:"corporation",label:"Corporation"},{value:"llc",label:"Limited Liability Company (LLC)"},{value:"partnership",label:"Partnership"},{value:"sole_proprietorship",label:"Sole Proprietorship"},{value:"nonprofit",label:"Non-Profit Organization"},{value:"other",label:"Other"}],_=[{value:"retail",label:"Retail"},{value:"technology",label:"Technology"},{value:"healthcare",label:"Healthcare"},{value:"education",label:"Education"},{value:"finance",label:"Finance"},{value:"real_estate",label:"Real Estate"},{value:"food_beverage",label:"Food & Beverage"},{value:"manufacturing",label:"Manufacturing"},{value:"services",label:"Services"},{value:"entertainment",label:"Entertainment"},{value:"other",label:"Other"}];function M({userId:r,userRole:x,onBusinessInfoChange:C}){const[a,o]=c.useState(null),[T,N]=c.useState(!1),[S,B]=c.useState(!1),[w,u]=c.useState(!1),v=x==="business"||x==="vendor"||x==="seller";c.useEffect(()=>{v&&r&&F()},[r,v]);const F=async()=>{try{N(!0);const s=await y.get(`/api/v1/users/${r}/business-info`);s.data.success&&(o(s.data.data),u(!0))}catch{o({userId:r,businessName:"",businessType:"",description:"",address:{street:"",city:"",state:"",zipCode:"",country:"US"},verificationStatus:"pending"}),u(!0)}finally{N(!1)}},I=async()=>{if(a)try{if(B(!0),a.id)await y.put(`/api/v1/users/${r}/business-info`,a),j.success("Business information updated successfully");else{const s=await y.post(`/api/v1/users/${r}/business-info`,a);o(s.data.data),j.success("Business information created successfully")}C&&C(a)}catch{j.error("Failed to save business information")}finally{B(!1)}},n=s=>{if(!a)return;const m={...a,...s};o(m)},d=(s,m)=>{a&&n({address:{...a.address,[s]:m}})};return v?e.jsx(A,{open:w,onOpenChange:u,children:e.jsxs(z,{children:[e.jsx(P,{children:e.jsx(U,{className:"cursor-pointer hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx(L,{children:"Business Information"}),e.jsx(R,{children:"Additional business details for verification and display"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a&&e.jsx(k,{variant:a.verificationStatus==="verified"?"default":"secondary",className:a.verificationStatus==="verified"?"bg-green-100 text-green-800":a.verificationStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:a.verificationStatus}),e.jsx(h,{variant:"ghost",size:"sm",children:w?"Collapse":"Expand"})]})]})})}),e.jsx(D,{children:e.jsx(O,{className:"space-y-6",children:T?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"Loading business information..."})}):a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"businessName",children:"Business Name *"}),e.jsx(l,{id:"businessName",value:a.businessName,onChange:s=>n({businessName:s.target.value}),placeholder:"Your Business Name"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"businessType",children:"Business Type *"}),e.jsxs(p,{value:a.businessType,onValueChange:s=>n({businessType:s}),children:[e.jsx(g,{children:e.jsx(b,{placeholder:"Select business type"})}),e.jsx(f,{children:Y.map(s=>e.jsx(t,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"industry",children:"Industry"}),e.jsxs(p,{value:a.industry||"",onValueChange:s=>n({industry:s}),children:[e.jsx(g,{children:e.jsx(b,{placeholder:"Select industry"})}),e.jsx(f,{children:_.map(s=>e.jsx(t,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"businessRegistrationNumber",children:"Registration Number"}),e.jsx(l,{id:"businessRegistrationNumber",value:a.businessRegistrationNumber||"",onChange:s=>n({businessRegistrationNumber:s.target.value}),placeholder:"Business registration number"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",children:"Business Description"}),e.jsx(V,{id:"description",value:a.description||"",onChange:s=>n({description:s.target.value}),placeholder:"Describe your business...",rows:3})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"businessPhone",children:"Business Phone"}),e.jsx(l,{id:"businessPhone",value:a.phone||"",onChange:s=>n({phone:s.target.value}),placeholder:"+1 (555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"businessEmail",children:"Business Email"}),e.jsx(l,{id:"businessEmail",type:"email",value:a.email||"",onChange:s=>n({email:s.target.value}),placeholder:"contact@business.com"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"website",children:"Website"}),e.jsx(l,{id:"website",type:"url",value:a.website||"",onChange:s=>n({website:s.target.value}),placeholder:"https://www.business.com"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Business Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"street",children:"Street Address"}),e.jsx(l,{id:"street",value:a.address.street,onChange:s=>d("street",s.target.value),placeholder:"123 Main Street"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"city",children:"City"}),e.jsx(l,{id:"city",value:a.address.city,onChange:s=>d("city",s.target.value),placeholder:"New York"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"state",children:"State"}),e.jsx(l,{id:"state",value:a.address.state,onChange:s=>d("state",s.target.value),placeholder:"NY"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"zipCode",children:"ZIP Code"}),e.jsx(l,{id:"zipCode",value:a.address.zipCode,onChange:s=>d("zipCode",s.target.value),placeholder:"10001"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"country",children:"Country"}),e.jsxs(p,{value:a.address.country,onValueChange:s=>d("country",s),children:[e.jsx(g,{children:e.jsx(b,{})}),e.jsxs(f,{children:[e.jsx(t,{value:"US",children:"United States"}),e.jsx(t,{value:"CA",children:"Canada"}),e.jsx(t,{value:"GB",children:"United Kingdom"}),e.jsx(t,{value:"AU",children:"Australia"}),e.jsx(t,{value:"KR",children:"South Korea"}),e.jsx(t,{value:"JP",children:"Japan"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(h,{variant:"outline",onClick:()=>u(!1),children:"Collapse"}),e.jsx(h,{onClick:I,disabled:S,children:S?"Saving...":"Save Business Info"})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(E,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No business information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add business information to enable additional features"}),e.jsx(h,{onClick:F,children:"Add Business Information"})]})})})]})}):null}export{M as B};
//# sourceMappingURL=BusinessInfoSection-ulcw75wH.js.map
