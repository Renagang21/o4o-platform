import{u as e,r as s,j as a,aE as i,aF as r,aG as t,aD as l,bW as o,bD as c,c8 as n,cM as m,E as d,b4 as p,cD as x,dr as h,V as j,b5 as u}from"./vendor-react-DqgGMt48.js";import{B as g}from"./page-template-editor-5uesjTWI.js";import{cF as w,cI as b}from"./wp-misc-DyLrwF9p.js";import{a as v}from"./api-ZI_pRR6P.js";import"./vendor-monaco-BxJH8uUv.js";import"./vendor-ui-CrFdsnXa.js";import"./vendor-query-D_c3FRkE.js";import"./vendor-utils-C9jLuAcl.js";import"./wp-blocks-core-65VcejHr.js";import"./wp-block-editor-misc-Bvzg-2Jv.js";import"./wp-core-BVMytgUH.js";import"./wp-block-editor-api-MRWBPx9C.js";import"./wp-block-editor-store-BOagVFfu.js";import"./wp-block-editor-clipboard-D5sqncpm.js";import"./wp-i18n-BuBz6Sgx.js";import"./wp-block-editor-global-styles-DFEUywv4.js";import"./wp-block-editor-typography-D5fCIzVQ.js";import"./wp-components-Uj2D7Nfy.js";import"./wp-block-editor-spacing-CY2h70rf.js";import"./wp-block-editor-menus-CucXu4UM.js";import"./wp-block-editor-core-BF86nm2P.js";import"./wp-block-editor-utils-BmaAXcuk.js";import"./wp-block-editor-colors-60WWD1Za.js";import"./wp-block-editor-a11y-BVzCbFSD.js";import"./wp-block-editor-preview-WXXja22U.js";import"./wp-block-editor-borders-C-QIiBvP.js";import"./wp-block-editor-formats--rvRJrSX.js";import"./wp-block-editor-selection-DBFjOmhH.js";import"./wp-block-editor-inline-CtEBI-J7.js";import"./wp-block-editor-ui-DwG3jajt.js";import"./wp-block-editor-transforms-Bg08EtRt.js";import"./wp-block-editor-patterns-DIcm1rGW.js";import"./wp-block-editor-navigation-ufXSM7dn.js";import"./wp-block-editor-dnd-yPphmZPp.js";import"./wp-block-editor-media-CatADaW3.js";import"./wp-api-COhbxmzY.js";import"./wp-block-editor-keyboard-3DDntAoE.js";import"./wp-block-editor-templates-C6YLNdWR.js";import"./wp-data-CL-okzN5.js";const f=()=>{const f=e(),[N,y]=s.useState([]),[k,P]=s.useState(!0),[C,U]=s.useState(""),[S,z]=s.useState("grid"),[F,R]=s.useState({type:"all",isPremium:"all",minRating:0,maxPrice:0}),[q,E]=s.useState(null),[L,M]=s.useState(null);s.useEffect(()=>{B()},[C,F]);const B=async()=>{try{P(!0);const e=new URLSearchParams;C&&e.append("q",C),"all"!==F.type&&e.append("type",F.type),"all"!==F.isPremium&&e.append("isPremium",F.isPremium),F.minRating>0&&e.append("minRating",F.minRating.toString()),F.maxPrice>0&&e.append("maxPrice",F.maxPrice.toString());const s=await v.get(`/v1/themes/marketplace?${e}`);y(s.data.data||D())}catch(e){y(D())}finally{P(!1)}},D=()=>[{id:"1",slug:"modern-business",name:"Modern Business",description:"A clean and modern business theme with multiple layouts",version:"2.1.0",author:"O4O Themes",authorUrl:"https://o4o.com",screenshot:"/images/theme-modern-business.jpg",demoUrl:"https://demo.o4o.com/modern-business",type:"external",status:"active",isPremium:!0,price:49.99,features:["Responsive","SEO Optimized","WooCommerce Ready","Page Builder"],requiredPlugins:["woocommerce","elementor"],downloads:15234,rating:4.8,reviewCount:234,lastUpdate:"2024-01-15",license:"GPL v2",supportedLanguages:["en","ko","ja","zh"]},{id:"2",slug:"minimal-blog",name:"Minimal Blog",description:"Perfect for bloggers who love simplicity",version:"1.5.2",author:"Design Studio",authorUrl:"https://designstudio.com",screenshot:"/images/theme-minimal-blog.jpg",demoUrl:"https://demo.o4o.com/minimal-blog",type:"external",status:"active",isPremium:!1,downloads:8921,rating:4.5,reviewCount:156,lastUpdate:"2024-01-10",license:"MIT",supportedLanguages:["en","ko"]},{id:"3",slug:"ecommerce-pro",name:"E-Commerce Pro",description:"Advanced e-commerce theme with all features you need",version:"3.0.1",author:"Commerce Themes",authorUrl:"https://commercethemes.com",screenshot:"/images/theme-ecommerce-pro.jpg",demoUrl:"https://demo.o4o.com/ecommerce-pro",type:"external",status:"active",isPremium:!0,price:89.99,features:["Multi-vendor","Product Quick View","Advanced Filters","Wishlist"],requiredPlugins:["woocommerce","dokan"],downloads:5432,rating:4.9,reviewCount:89,lastUpdate:"2024-01-20",license:"Commercial",supportedLanguages:["en","ko","ja"]}],A=({theme:e})=>{return a.jsxs(w,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e.screenshot||"/placeholder-theme.jpg",alt:e.name,className:"w-full h-48 object-cover rounded-t-lg"}),e.isPremium&&a.jsx("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"PREMIUM"})]}),a.jsxs(b,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:e.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[(s=e.rating,a.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(e=>a.jsx(u,{className:"w-4 h-4 "+(e<=s?"fill-yellow-400 text-yellow-400":"text-gray-300")},e)),a.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",s,")"]})]})),a.jsxs("span",{className:"text-sm text-gray-500",children:[e.reviewCount," reviews"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[a.jsx(x,{className:"w-4 h-4"}),e.downloads.toLocaleString()]}),a.jsxs("span",{className:"text-gray-600",children:["v",e.version]})]})]}),e.features&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:e.features.slice(0,3).map((e,s)=>a.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:e},s))}),a.jsxs("div",{className:"flex items-center justify-between",children:[e.isPremium&&e.price?a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",e.price]}):a.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"무료"}),a.jsxs("div",{className:"flex gap-2",children:[e.demoUrl&&a.jsx(g,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),window.open(e.demoUrl,"_blank")},children:a.jsx(d,{className:"w-4 h-4"})}),a.jsx(g,{size:"sm",onClick:s=>{s.stopPropagation(),E(e)},disabled:L===e.id,children:L===e.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(h,{className:"w-4 h-4"})})]})]})]})]});var s};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"테마 마켓플레이스"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"프리미엄 테마와 무료 테마를 찾아보세요"})]}),a.jsx(g,{onClick:()=>f("/themes"),children:"내 테마 관리"})]}),a.jsx(w,{children:a.jsx(b,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"테마 검색...",value:C,onChange:e=>U(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:F.type,onChange:e=>R({...F,type:e.target.value}),className:"px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"all",children:"모든 타입"}),a.jsx("option",{value:"external",children:"외부 테마"}),a.jsx("option",{value:"custom",children:"커스텀 테마"})]}),a.jsxs("select",{value:F.isPremium,onChange:e=>R({...F,isPremium:e.target.value}),className:"px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"all",children:"모든 가격"}),a.jsx("option",{value:"false",children:"무료"}),a.jsx("option",{value:"true",children:"프리미엄"})]}),a.jsxs("div",{className:"flex gap-1 border rounded-lg",children:[a.jsx(g,{variant:"grid"===S?"default":"ghost",size:"sm",onClick:()=>z("grid"),children:a.jsx(r,{className:"w-4 h-4"})}),a.jsx(g,{variant:"list"===S?"default":"ghost",size:"sm",onClick:()=>z("list"),children:a.jsx(t,{className:"w-4 h-4"})})]})]})]})})}),k?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):a.jsx("div",{className:"grid"===S?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:N.map(e=>a.jsx(A,{theme:e},e.id))}),q&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold",children:q.name}),a.jsx(g,{variant:"ghost",size:"sm",onClick:()=>E(null),children:a.jsx(l,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx("img",{src:q.screenshot||"/placeholder-theme.jpg",alt:q.name,className:"w-full rounded-lg"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:q.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["작성자: ",q.author]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(c,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["버전: ",q.version]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["최종 업데이트: ",q.lastUpdate]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["지원 언어: ",q.supportedLanguages?.join(", ")]})]})]}),q.features&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"주요 기능"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:q.features.map((e,s)=>a.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:e},s))})]}),q.requiredPlugins&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"필수 플러그인"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:q.requiredPlugins.map((e,s)=>a.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm",children:e},s))})]}),a.jsxs("div",{className:"pt-4 flex gap-3",children:[q.demoUrl&&a.jsxs(g,{variant:"outline",onClick:()=>window.open(q.demoUrl,"_blank"),children:[a.jsx(d,{className:"w-4 h-4 mr-2"}),"미리보기"]}),a.jsx(g,{onClick:()=>(async e=>{try{M(e.id),await new Promise(e=>setTimeout(e,2e3)),j.success(`${e.name} 테마가 설치되었습니다`),f("/themes")}catch(s){j.error("테마 설치에 실패했습니다")}finally{M(null)}})(q),disabled:L===q.id,className:"flex-1",children:L===q.id?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"설치 중..."]}):a.jsx(a.Fragment,{children:q.isPremium?a.jsxs(a.Fragment,{children:[a.jsx(p,{className:"w-4 h-4 mr-2"}),"$",q.price," 구매"]}):a.jsxs(a.Fragment,{children:[a.jsx(x,{className:"w-4 h-4 mr-2"}),"무료 설치"]})})})]})]})]})]})})})]})};export{f as default};
