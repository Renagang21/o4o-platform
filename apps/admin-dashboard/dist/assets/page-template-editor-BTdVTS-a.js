const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C0gS3Jf3.js","assets/vendor-react-P__8vGRG.js","assets/vendor-query-CucHvDcH.js","assets/vendor-socket-DgcwqWsT.js","assets/vendor-ui-BkLtITBR.js","assets/vendor-utils-dq2XMRwt.js","assets/index-Br8K9UdD.css"])))=>i.map(i=>d[i]);
import{r as g,j as t,S as K,C as G,a as Q,u as J,b as Z,A as X,c as Y,E as ee,z as T}from"./vendor-react-P__8vGRG.js";import{t as te,c as W}from"./vendor-ui-BkLtITBR.js";import{u as ne,a as se,b as M}from"./vendor-query-CucHvDcH.js";import{a as S}from"./vendor-utils-dq2XMRwt.js";const re="modulepreload",oe=function(a){return"/"+a},D={},le=function(r,n,o){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=u?.nonce||u?.getAttribute("nonce");s=Promise.allSettled(n.map(h=>{if(h=oe(h),h in D)return;D[h]=!0;const e=h.endsWith(".css"),c=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${c}`))return;const d=document.createElement("link");if(d.rel=e?"stylesheet":re,e||(d.as="script"),d.crossOrigin="",d.href=h,m&&d.setAttribute("nonce",m),document.head.appendChild(d),e)return new Promise((x,y)=>{d.addEventListener("load",x),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(u){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=u,window.dispatchEvent(m),!m.defaultPrevented)throw u}return s.then(u=>{for(const m of u||[])m.status==="rejected"&&l(m.reason);return r().catch(l)})};class ae{constructor(r){this.isRefreshing=!1,this.refreshSubscribers=[],this.baseURL=r,this.api=S.create({baseURL:this.baseURL,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(n=>{let o=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("authToken");if(!o){const s=localStorage.getItem("admin-auth-storage");if(s)try{const l=JSON.parse(s);(l.state?.accessToken||l.state?.token)&&(o=l.state.accessToken||l.state.token)}catch{}}return o&&(n.headers.Authorization=`Bearer ${o}`),n}),this.api.interceptors.response.use(n=>n,async n=>{const o=n.config;if(n.response?.status===401&&!o._retry){if(this.isRefreshing)return new Promise(s=>{this.refreshSubscribers.push(l=>{o.headers.Authorization=`Bearer ${l}`,s(this.api.request(o))})});o._retry=!0,this.isRefreshing=!0;try{const s=localStorage.getItem("refreshToken");if(s){const l=this.baseURL.includes("api.neture.co.kr")?"https://api.neture.co.kr/api/auth/refresh":`${this.baseURL}/auth/refresh`,u=await S.post(l,{refreshToken:s}),{accessToken:m,refreshToken:h}=u.data;localStorage.setItem("accessToken",m),h&&localStorage.setItem("refreshToken",h);const e=localStorage.getItem("admin-auth-storage");if(e)try{const c=JSON.parse(e);c.state&&(c.state.token=m,c.state.accessToken=m,h&&(c.state.refreshToken=h),localStorage.setItem("admin-auth-storage",JSON.stringify(c)))}catch{}return this.refreshSubscribers.forEach(c=>c(m)),this.refreshSubscribers=[],o.headers.Authorization=`Bearer ${m}`,this.api.request(o)}}catch(s){return this.clearAllTokens(),typeof window<"u"&&(s?.response?.data?.code==="TOKEN_EXPIRED"?console.warn("Session expired, redirecting to login"):console.warn("Authentication failed, redirecting to login"),window.location.href="/login"),Promise.reject(s)}finally{this.isRefreshing=!1}}return Promise.reject(n)})}async login(r){let n;return this.baseURL.includes("api.neture.co.kr")?n="https://api.neture.co.kr/api/auth/login":n=`${this.baseURL.replace("/api/v1","/api")}/auth/login`,(await S.post(n,r)).data}clearAllTokens(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("admin-auth-storage"),typeof document<"u"&&(document.cookie="accessToken=; Max-Age=0; path=/",document.cookie="refreshToken=; Max-Age=0; path=/")}async logout(){try{let r;this.baseURL.includes("api.neture.co.kr")?r="https://api.neture.co.kr/api/auth/logout":r=`${this.baseURL.replace("/api/v1","/api")}/auth/logout`;const n=localStorage.getItem("accessToken")||localStorage.getItem("token");n&&await S.post(r,{},{headers:{Authorization:`Bearer ${n}`}})}catch{}}async checkSession(){try{return(await this.api.get("/accounts/sso/check")).data}catch{return{isAuthenticated:!1}}}}const ie=()=>{if(typeof window<"u"){const a=window.__ENV__?.VITE_API_URL||typeof import.meta<"u"&&"https://api.neture.co.kr/api";if(a)return a.endsWith("/api")?a:`${a}/api`;if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes(".local"))return"http://localhost:3002/api"}return"https://api.neture.co.kr/api"},E=new ae(ie());class ce{constructor(r){this.refreshPromise=null,this.currentToken=null,this.baseURL=r,this.api=S.create({baseURL:this.baseURL,headers:{"Content-Type":"application/json"},withCredentials:!0}),this.api.interceptors.response.use(n=>n,async n=>{const o=n.config;if(n.response?.status===401&&!o._retry){if(o._retry=!0,this.refreshPromise){if(await this.refreshPromise)return this.api.request(o);throw n}this.refreshPromise=this.refreshToken();const s=await this.refreshPromise;if(this.refreshPromise=null,s)return this.api.request(o)}return Promise.reject(n)})}async login(r){const n=await this.api.post("/auth/v2/login",r);return n.data.token&&(this.currentToken=n.data.token),n.data}async register(r){return(await this.api.post("/auth/v2/register",r)).data}async logout(){try{await this.api.post("/auth/v2/logout")}catch(r){console.error("Logout error:",r)}finally{this.currentToken=null}}async logoutAll(){await this.api.post("/auth/v2/logout-all"),this.currentToken=null}async refreshToken(){try{return(await this.api.post("/auth/v2/refresh")).data.success}catch{return!1}}async getCurrentUser(){try{return(await this.api.get("/auth/v2/me")).data.user}catch{return null}}getApiUrl(){return this.baseURL}getAccessToken(){return this.currentToken}setupSessionSync(){typeof window>"u"||window.addEventListener("storage",r=>{r.key==="auth-logout"?window.location.reload():r.key==="auth-login"&&this.refreshToken()})}broadcastAuthChange(r){if(typeof window>"u")return;const n=`auth-${r}`;localStorage.setItem(n,Date.now().toString()),setTimeout(()=>localStorage.removeItem(n),100)}async loginWithSync(r){const n=await this.login(r);return this.broadcastAuthChange("login"),n}async logoutWithSync(){await this.logout(),this.broadcastAuthChange("logout")}}const ue=new ce(typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:4000/api/v1":"/api/v1");typeof window<"u"&&ue.setupSessionSync();class de{constructor(r){this.checkInterval=null,this.handleStorageEvent=n=>{n.key==="sso:logout"?this.handleLogout():n.key==="sso:login"&&this.checkSession()},this.config={checkInterval:3e4,...r}}initialize(r){this.onSessionChange=r,typeof window<"u"&&window.addEventListener("storage",this.handleStorageEvent),this.startSessionMonitoring(),this.checkSession()}destroy(){typeof window<"u"&&window.removeEventListener("storage",this.handleStorageEvent),this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)}startSessionMonitoring(){this.checkInterval&&clearInterval(this.checkInterval),this.checkInterval=setInterval(()=>{this.checkSession()},this.config.checkInterval)}async checkSession(){try{const r=await fetch(`${this.config.apiUrl}/auth/v2/me`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(r.ok){const o=(await r.json()).user;return this.onSessionChange?.(o),o}else return this.onSessionChange?.(null),null}catch(r){return console.error("Session check error:",r),this.onSessionChange?.(null),null}}broadcastLogin(){typeof window<"u"&&(localStorage.setItem("sso:login",Date.now().toString()),localStorage.removeItem("sso:login"))}broadcastLogout(){typeof window<"u"&&(localStorage.setItem("sso:logout",Date.now().toString()),localStorage.removeItem("sso:logout"))}handleLogout(){this.onSessionChange?.(null),this.config.domain&&(window.location.href="/login")}getSessionId(){if(typeof document>"u")return null;const r=document.cookie.match(/sessionId=([^;]+)/);return r?r[1]:null}hasSession(){return!!this.getSessionId()}}new de({apiUrl:typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:4000/api/v1":"/api/v1"});function he(a,r="medium",n="ko-KR"){if(!a)return"N/A";let o;try{if(typeof a=="string"||typeof a=="number"?o=new Date(a):o=a,!o||isNaN(o.getTime()))return console.warn("Invalid date provided to formatDate:",a),"Invalid date"}catch(l){return console.error("Error parsing date:",l),"Error"}const s={};switch(r){case"short":s.year="numeric",s.month="2-digit",s.day="2-digit";break;case"medium":s.year="numeric",s.month="long",s.day="numeric";break;case"long":s.year="numeric",s.month="long",s.day="numeric",s.weekday="long";break;case"full":s.year="numeric",s.month="long",s.day="numeric",s.weekday="long",s.hour="2-digit",s.minute="2-digit";break}return new Intl.DateTimeFormat(n,s).format(o)}const je=he;function v(...a){return te(W(a))}function _e(a){if(a===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB","TB"],o=Math.floor(Math.log(a)/Math.log(r));return parseFloat((a/Math.pow(r,o)).toFixed(2))+" "+n[o]}const U=a=>typeof a=="boolean"?`${a}`:a===0?"0":a,V=W,$=(a,r)=>n=>{var o;if(r?.variants==null)return V(a,n?.class,n?.className);const{variants:s,defaultVariants:l}=r,u=Object.keys(s).map(e=>{const c=n?.[e],d=l?.[e];if(c===null)return null;const x=U(c)||U(d);return s[e][x]}),m=n&&Object.entries(n).reduce((e,c)=>{let[d,x]=c;return x===void 0||(e[d]=x),e},{}),h=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((e,c)=>{let{class:d,className:x,...y}=c;return Object.entries(y).every(C=>{let[_,i]=C;return Array.isArray(i)?i.includes({...l,...m}[_]):{...l,...m}[_]===i})?[...e,d,x]:e},[]);return V(a,u,h,n?.class,n?.className)},me=$("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 transform active:scale-95",{variants:{variant:{default:"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-md hover:from-blue-700 hover:to-blue-800 hover:shadow-lg focus-visible:ring-blue-500",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-md hover:from-red-700 hover:to-red-800 hover:shadow-lg focus-visible:ring-red-500",outline:"border-2 border-gray-300 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-400 focus-visible:ring-gray-500",secondary:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 shadow-sm hover:from-gray-200 hover:to-gray-300 focus-visible:ring-gray-500",ghost:"text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus-visible:ring-gray-500",link:"text-blue-600 underline-offset-4 hover:underline hover:text-blue-800 focus-visible:ring-blue-500",primary:"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-md hover:from-blue-700 hover:to-blue-800 hover:shadow-lg transform hover:-translate-y-0.5 focus-visible:ring-blue-500",success:"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-md hover:from-green-700 hover:to-green-800 hover:shadow-lg focus-visible:ring-green-500"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-md px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=g.forwardRef(({className:a,variant:r,size:n,asChild:o=!1,...s},l)=>{const u=o?K:"button";return t.jsx(u,{className:v(me({variant:r,size:n,className:a})),ref:l,...s})});B.displayName="Button";async function ge(){if(window.wp?._initialized)return;if(typeof window<"u"&&window.React){const n=window.React,o=window.ReactDOM;window.wp=window.wp||{},window.wp.element={createElement:n.createElement,createContext:n.createContext,useContext:n.useContext,useState:n.useState,useEffect:n.useEffect,useCallback:n.useCallback,useMemo:n.useMemo,useRef:n.useRef,Component:n.Component,Fragment:n.Fragment,Children:n.Children,forwardRef:n.forwardRef,memo:n.memo,lazy:n.lazy,Suspense:n.Suspense,StrictMode:n.StrictMode,PureComponent:n.PureComponent,cloneElement:n.cloneElement,isValidElement:n.isValidElement,createPortal:o.createPortal,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode},window.wp.i18n={__:e=>e,_x:e=>e,_n:(e,c,d)=>d===1?e:c,_nx:(e,c,d)=>d===1?e:c,sprintf:(e,...c)=>{let d=0;return e.replace(/%[sdjf]/g,()=>String(c[d++]))},isRTL:()=>!1,setLocaleData:()=>{},getLocaleData:()=>({}),hasTranslation:()=>!1,subscribe:()=>()=>{}};const s={},l={};window.wp.hooks={addFilter:(e,c,d,x=10)=>(s[e]=s[e]||[],s[e].push(d),e),applyFilters:(e,c,...d)=>(s[e]||[]).reduce((y,C)=>C(y,...d),c),addAction:(e,c,d,x=10)=>(l[e]=l[e]||[],l[e].push(d),e),doAction:(e,...c)=>{(l[e]||[]).forEach(x=>x(...c))},removeFilter:()=>0,removeAction:()=>0,hasFilter:()=>!1,hasAction:()=>!1,removeAllFilters:()=>0,removeAllActions:()=>0,currentFilter:()=>null,currentAction:()=>null,doingFilter:()=>!1,doingAction:()=>!1,didFilter:()=>0,didAction:()=>0};const u=new Set;window.wp.data={select:()=>({}),dispatch:()=>({}),subscribe:e=>(u.add(e),()=>{u.delete(e)}),registerStore:()=>{},combineReducers:()=>()=>({}),createRegistry:()=>({}),createRegistrySelector:()=>()=>{},createRegistryControl:()=>()=>{},withSelect:()=>e=>e,withDispatch:()=>e=>e,useSelect:()=>{},useDispatch:()=>({}),useRegistry:()=>({}),AsyncModeProvider:({children:e})=>e,RegistryProvider:({children:e})=>e,createReduxStore:()=>({}),register:()=>{},registerGenericStore:()=>{},use:()=>{},plugins:{registerPlugin:()=>{},unregisterPlugin:()=>{},getPlugin:()=>null,getPlugins:()=>[]}};let m=[{slug:"text",title:"Text"},{slug:"media",title:"Media"},{slug:"design",title:"Design"},{slug:"widgets",title:"Widgets"},{slug:"theme",title:"Theme"},{slug:"embed",title:"Embeds"},{slug:"dynamic",title:"Dynamic"}];const h=new Map;window.wp.blocks={registerBlockType:(e,c)=>{const d={name:e,...c};return h.set(e,d),u.forEach(x=>{try{x()}catch{}}),d},unregisterBlockType:e=>h.delete(e),getBlockType:e=>h.get(e)||null,getBlockTypes:()=>Array.from(h.values()),getCategories:()=>m,setCategories:e=>{m=[...e]},updateCategory:()=>{},registerBlockCollection:()=>{},unregisterBlockCollection:()=>{},getCollections:()=>[],hasBlockSupport:()=>!1,isReusableBlock:()=>!1,getChildBlockNames:()=>[],hasChildBlocks:()=>!1,hasChildBlocksWithInserterSupport:()=>!1,unstable__bootstrapServerSideBlockDefinitions:()=>{},registerBlockStyle:()=>{},unregisterBlockStyle:()=>{},registerBlockVariation:()=>{},unregisterBlockVariation:()=>{},getBlockVariations:()=>[],getDefaultBlockVariation:()=>null,getActiveBlockVariation:()=>null,getBlockStyles:()=>[],getBlockSupport:()=>{},getPossibleBlockTransformations:()=>[],switchToBlockType:()=>null,getBlockTransforms:()=>[],findTransform:()=>null,parse:()=>[],parseWithAttributeSchema:()=>{},pasteHandler:()=>[],serialize:()=>"",getBlockContent:()=>"",getBlockDefaultClassName:()=>"",getBlockMenuDefaultClassName:()=>"",getSaveElement:()=>null,getSaveContent:()=>"",getBlockAttributes:()=>({}),createBlock:()=>({}),cloneBlock:()=>({}),__experimentalCloneSanitizedBlock:()=>({}),getPossibleBlockInsertions:()=>[],isValidBlockContent:()=>!0,getBlockFromExample:()=>({}),doBlocksMatchTemplate:()=>!0,synchronizeBlocksWithTemplate:()=>[],getPhrasingContentSchema:()=>"",isValidIcon:()=>!0,normalizeIconObject:()=>({}),store:{}},window.wp.components={Button:()=>null,TextControl:()=>null,SelectControl:()=>null,ToggleControl:()=>null,Panel:()=>null,PanelBody:()=>null,PanelRow:()=>null,Placeholder:()=>null,Spinner:()=>null,Notice:()=>null,ExternalLink:()=>null,ToolbarButton:()=>null,ToolbarGroup:()=>null,Toolbar:()=>null,DropdownMenu:()=>null,MenuItem:()=>null,MenuGroup:()=>null,Modal:()=>null,DateTimePicker:()=>null,DatePicker:()=>null,TimePicker:()=>null,ColorPicker:()=>null,ColorPalette:()=>null,RangeControl:()=>null,CheckboxControl:()=>null,RadioControl:()=>null,BaseControl:()=>null,FormToggle:()=>null,FormTokenField:()=>null,TreeSelect:()=>null,TabPanel:()=>null,Card:()=>null,CardBody:()=>null,CardDivider:()=>null,CardFooter:()=>null,CardHeader:()=>null,CardMedia:()=>null,Flex:()=>null,FlexBlock:()=>null,FlexItem:()=>null,Icon:()=>null,Dashicon:()=>null,Popover:()=>null,Slot:()=>null,Fill:()=>null,SlotFillProvider:({children:e})=>e,NavigableMenu:()=>null,TabbableContainer:()=>null,__experimentalHStack:()=>null,__experimentalVStack:()=>null,__experimentalSpacer:()=>null,__experimentalText:()=>null,createSlotFill:()=>({Slot:()=>null,Fill:()=>null}),withConstrainedTabbing:e=>e,withFallbackStyles:e=>e,withFilters:e=>e,withFocusOutside:e=>e,withFocusReturn:e=>e,withNotices:e=>e,withSpokenMessages:e=>e},window.wp.blockEditor={BlockEditorProvider:({children:e})=>e,BlockList:()=>null,BlockTools:()=>null,BlockInspector:()=>null,WritingFlow:({children:e})=>e,ObserveTyping:({children:e})=>e,BlockEditorKeyboardShortcuts:()=>null,EditorHistoryUndo:()=>null,EditorHistoryRedo:()=>null,CopyHandler:({children:e})=>e,BlockSelectionClearer:({children:e})=>e,MultiSelectScrollIntoView:()=>null,__experimentalBlockSettingsMenuFirstItem:()=>null,__experimentalBlockSettingsMenuLastItem:()=>null,BlockSettingsMenu:()=>null,BlockSettingsMenuControls:()=>null,BlockTitle:()=>null,BlockToolbar:()=>null,DefaultBlockAppender:()=>null,__unstableBlockToolbarLastItem:()=>null,__unstableBlockNameContext:()=>null,InnerBlocks:()=>null,InspectorControls:()=>null,InspectorAdvancedControls:()=>null,MediaPlaceholder:()=>null,MediaUpload:()=>null,MediaUploadCheck:({children:e})=>e,PanelColorSettings:()=>null,PlainText:()=>null,RichText:()=>null,RichTextShortcut:()=>null,RichTextToolbarButton:()=>null,__unstableRichTextInputEvent:()=>null,URLInput:()=>null,URLInputButton:()=>null,URLPopover:()=>null,AlignmentControl:()=>null,AlignmentToolbar:()=>null,Autocomplete:()=>null,BlockAlignmentControl:()=>null,BlockAlignmentToolbar:()=>null,BlockBreadcrumb:()=>null,BlockContextProvider:({children:e})=>e,BlockControls:()=>null,BlockEdit:()=>null,BlockFormatControls:()=>null,BlockIcon:()=>null,BlockNavigationDropdown:()=>null,__experimentalBlockNavigationBlockFill:()=>null,__experimentalBlockNavigationEditor:()=>null,__experimentalBlockNavigationTree:()=>null,__experimentalBlockVariationPicker:()=>null,__experimentalBlockVariationTransforms:()=>null,BlockVerticalAlignmentControl:()=>null,BlockVerticalAlignmentToolbar:()=>null,ButtonBlockAppender:()=>null,ButtonBlockerAppender:()=>null,ColorPaletteControl:()=>null,ContrastChecker:()=>null,__experimentalDuotoneControl:()=>null,__experimentalFontAppearanceControl:()=>null,__experimentalFontFamilyControl:()=>null,__experimentalColorGradientControl:()=>null,__experimentalColorGradientSettingsDropdown:()=>null,__experimentalPanelColorGradientSettings:()=>null,__experimentalImageEditor:()=>null,__experimentalImageEditingProvider:({children:e})=>e,__experimentalImageSizeControl:()=>null,__experimentalImageURLInputUI:()=>null,__experimentalLayoutStyle:()=>null,__experimentalLetterSpacingControl:()=>null,__experimentalLineHeightControl:()=>null,__experimentalListView:()=>null,__experimentalPanelBody:()=>null,__experimentalPreviewOptions:()=>null,__experimentalResponsiveBlockControl:()=>null,__experimentalTextDecorationControl:()=>null,__experimentalTextTransformControl:()=>null,__experimentalUnitControl:()=>null,__experimentalWritingModeControl:()=>null,__unstableBlockSettingsMenuFirstItem:()=>null,__unstableEditorStyles:()=>null,__unstableIframe:({children:e})=>e,__unstableInserterMenuExtension:()=>null,__unstableUseBlockSelectionClearer:()=>null,__unstableUseClipboardHandler:()=>null,__unstableUseDispatchWithMap:()=>null,__unstableUseDropZone:()=>null,__unstableUseEditorStyles:()=>null,__unstableUseTypewriter:()=>null,__unstableUseTypingObserver:()=>null,__unstableUseValidateOnChange:()=>null,getColorClassName:()=>"",getColorObjectByAttributeValues:()=>null,getColorObjectByColorValue:()=>null,getFontSize:()=>null,getFontSizeClass:()=>"",createCustomColorsHOC:()=>e=>e,withColorContext:e=>e,withColors:()=>e=>e,withFontSizes:()=>e=>e,store:{},Warning:()=>null,useBlockProps:()=>({}),useInnerBlocksProps:()=>({}),__experimentalUseBlockPreview:()=>null,__experimentalUseResizeCanvas:()=>null,useBlockEditContext:()=>({}),useBlockDisplayInformation:()=>null},window.wp.compose={compose:(...e)=>c=>c,createHigherOrderComponent:e=>e,debounce:(e,c)=>e,ifCondition:()=>e=>e,pure:e=>e,throttle:(e,c)=>e,withGlobalEvents:()=>e=>e,withInstanceId:e=>e,withSafeTimeout:e=>e,withState:()=>e=>e,useAsyncList:()=>[],useCopyOnClick:()=>({ref:{current:null}}),useCopyToClipboard:()=>[()=>{},()=>{}],useDebounce:e=>e,useFocusOnMount:()=>({current:null}),useFocusReturn:()=>({current:null}),useFocusableIframe:()=>({current:null}),useInstanceId:()=>"",useIsomorphicLayoutEffect:()=>{},useKeyboardShortcut:()=>{},useMediaQuery:()=>!1,useMergeRefs:()=>({current:null}),usePrevious:e=>e,useReducedMotion:()=>!1,useRefEffect:()=>()=>{},useResizeObserver:()=>[null,{width:0,height:0}],useThrottle:e=>e,useViewportMatch:()=>!1,useWarnOnChange:()=>{},__experimentalUseDragging:()=>({isDragging:!1}),__experimentalUseDropZone:()=>({isOver:!1}),__experimentalUseFocusOutside:()=>{},__experimentalUseFixedWindowList:()=>[]},window.wp.privateApis={lock:()=>{},unlock:()=>{},__dangerousOptInToUnstableAPIsOnlyForCoreModules:()=>({lock:()=>{},unlock:()=>{}})},window.wp.apiFetch=function(e){const c=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("authToken"),d={"Content-Type":"application/json",...e.headers};return c&&(d.Authorization=`Bearer ${c}`),fetch(e.url||e.path,{...e,headers:d}).then(x=>x.json())},window.wp.domReady=function(e){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>e()):e()},window.wp._initialized=!0}const{getBlockManager:a}=await le(async()=>{const{getBlockManager:n}=await import("./index-C0gS3Jf3.js").then(o=>o.N);return{getBlockManager:n}},__vite__mapDeps([0,1,2,3,4,5,6])),r=a();return await r.loadEssentialBlocks(),await r.loadCategory("embeds"),await r.loadCategory("dynamic"),r.loadBlocksProgressive(),!0}const b=g.forwardRef(({className:a,type:r,...n},o)=>t.jsx("input",{type:r,className:v("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:o,...n}));b.displayName="Input";const R=g.forwardRef(({className:a,...r},n)=>t.jsx("textarea",{className:v("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:n,...r}));R.displayName="Textarea";const j=g.createContext(null),O=({value:a,defaultValue:r="",onValueChange:n,children:o})=>{const[s,l]=g.useState(r),[u,m]=g.useState(!1),h=a??s,e=c=>{a===void 0&&l(c),n?.(c),m(!1)};return t.jsx(j.Provider,{value:{value:h,onValueChange:e,open:u,setOpen:m},children:o})},z=({placeholder:a,displayValue:r,getDisplayValue:n})=>{const o=g.useContext(j);if(!o)throw new Error("SelectValue must be used within Select");const s=()=>{const{value:l}=o;if(r!==void 0)return r;if(n&&l)try{return n(l)}catch{return l}return l||a||""};return t.jsx("span",{children:s()})},P=g.forwardRef(({className:a,children:r,...n})=>{const o=g.useContext(j);if(!o)throw new Error("SelectTrigger must be used within Select");const s=g.useRef(null);return g.useEffect(()=>{const l=u=>{if(s.current&&!s.current.contains(u.target)){const m=document.getElementById("select-content");m&&!m.contains(u.target)&&o.setOpen(!1)}};if(o.open)return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[o]),t.jsxs("button",{ref:s,onClick:()=>o.setOpen(!o.open),className:v("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,t.jsx(G,{className:"h-4 w-4 opacity-50"})]})}),A=g.forwardRef(({className:a,children:r,position:n="popper",...o},s)=>{const l=g.useContext(j);if(!l)throw new Error("SelectContent must be used within Select");return l.open?t.jsx("div",{id:"select-content",ref:s,className:v("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md","animate-in fade-in-0 zoom-in-95",n==="popper"&&"mt-1",a),...o,children:t.jsx("div",{className:v("p-1 overflow-auto max-h-[300px]",n==="popper"&&"min-w-full"),children:r})}):null}),pe=g.forwardRef(({className:a,...r},n)=>t.jsx("div",{ref:n,className:v("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})),k=g.forwardRef(({className:a,children:r,value:n,...o},s)=>{const l=g.useContext(j);if(!l)throw new Error("SelectItem must be used within Select");const u=l.value===n;return t.jsxs("div",{ref:s,onClick:()=>l.onValueChange(n),className:v("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none","hover:bg-accent hover:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",u&&"bg-accent text-accent-foreground",a),...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u&&t.jsx(Q,{className:"h-4 w-4"})}),r]})}),fe=g.forwardRef(({className:a,...r},n)=>t.jsx("div",{ref:n,className:v("-mx-1 my-1 h-px bg-muted",a),...r}));P.displayName="SelectTrigger";A.displayName="SelectContent";pe.displayName="SelectLabel";k.displayName="SelectItem";fe.displayName="SelectSeparator";const xe=$("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),w=g.forwardRef(({className:a,...r},n)=>t.jsx("label",{ref:n,className:v(xe(),a),...r}));w.displayName="Label";const L=g.createContext(null),q=g.forwardRef(({value:a,defaultValue:r="",onValueChange:n,className:o,children:s,...l},u)=>{const[m,h]=g.useState(r),e=a??m,c=d=>{a||h(d),n?.(d)};return t.jsx(L.Provider,{value:{value:e,onValueChange:c},children:t.jsx("div",{ref:u,className:o,...l,children:s})})}),H=g.forwardRef(({className:a,...r},n)=>t.jsx("div",{ref:n,role:"tablist",className:v("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})),N=g.forwardRef(({className:a,value:r,children:n,...o},s)=>{const l=g.useContext(L);if(!l)throw new Error("TabsTrigger must be used within Tabs");const u=l.value===r;return t.jsx("button",{ref:s,role:"tab","aria-selected":u,"data-state":u?"active":"inactive",onClick:()=>l.onValueChange(r),className:v("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",u&&"bg-background text-foreground shadow-sm",a),...o,children:n})}),I=g.forwardRef(({className:a,value:r,children:n,...o},s)=>{const l=g.useContext(L);if(!l)throw new Error("TabsContent must be used within Tabs");return l.value===r?t.jsx("div",{ref:s,role:"tabpanel",className:v("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...o,children:n}):null});q.displayName="Tabs";H.displayName="TabsList";N.displayName="TabsTrigger";I.displayName="TabsContent";const F=g.forwardRef(({className:a,checked:r,onCheckedChange:n,onChange:o,...s},l)=>t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",ref:l,checked:r,onChange:u=>{o?.(u),n?.(u.target.checked)},className:"sr-only peer",...s}),t.jsx("div",{className:v("w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2","peer-focus:ring-blue-500 peer-focus:ring-offset-2 rounded-full","peer peer-checked:after:translate-x-full peer-checked:after:border-white","after:content-[''] after:absolute after:top-[2px] after:left-[2px]","after:bg-white after:border-gray-300 after:border after:rounded-full","after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600","peer-disabled:opacity-50 peer-disabled:cursor-not-allowed",a)})]}));F.displayName="Switch";const ve=({className:a})=>t.jsx("div",{className:`border-4 border-gray-300 border-t-blue-600 rounded-full animate-spin ${a||"w-8 h-8"}`});function we({children:a}){const[r,n]=g.useState(!1),[o,s]=g.useState(null);return g.useEffect(()=>{let l=!0;return(async()=>{try{await ge(),l&&n(!0)}catch(m){l&&s(m instanceof Error?m.message:"Failed to initialize WordPress")}})(),()=>{l=!1}},[]),o?t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-500 mb-4",children:"Error loading WordPress editor"}),t.jsx("p",{className:"text-sm text-gray-600",children:o})]})}):r?t.jsx(t.Fragment,{children:a??null}):t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ve,{className:"w-8 h-8 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading WordPress editor..."})]})})}function be(){const a=J(),{id:r}=Z(),n=ne(),o=r&&r!=="new",[s,l]=g.useState({name:"",slug:"",description:"",area:"general",content:[],settings:{containerWidth:"wide",backgroundColor:"",textColor:"",padding:{top:"",bottom:"",left:"",right:""},customCss:""},isActive:!0,isDefault:!1,priority:0,conditions:{pages:[],postTypes:[],categories:[],userRoles:[]}}),[u,m]=g.useState([]),{data:h,isLoading:e}=se({queryKey:["template-part",r],queryFn:async()=>{if(!o)return null;const p=(await E.api.get(`/template-parts/${r}`)).data;if(p&&typeof p=="object"&&"success"in p){if(p.success)return p.data||null;throw new Error(p.error||"Failed to fetch template part")}else return p&&typeof p=="object"?p:null},enabled:!!o});g.useEffect(()=>{h&&(l({name:h.name,slug:h.slug,description:h.description||"",area:h.area,content:h.content,settings:{...s.settings,...h.settings},isActive:h.isActive,isDefault:h.isDefault,priority:h.priority||0,conditions:h.conditions||s.conditions}),m(h.content))},[h]);const c=M({mutationFn:async i=>{const f=(await E.api.post("/template-parts",i)).data;if(f&&typeof f=="object"&&"success"in f){if(f.success)return f.data||null;throw new Error(f.error||"Failed to create template part")}else return f},onSuccess:()=>{T.success("템플릿 파트가 생성되었습니다"),n.invalidateQueries({queryKey:["template-parts"]}),a("/appearance/template-parts")},onError:()=>{T.error("템플릿 파트 생성에 실패했습니다")}}),d=M({mutationFn:async i=>{const f=(await E.api.put(`/template-parts/${r}`,i)).data;if(f&&typeof f=="object"&&"success"in f){if(f.success)return f.data||null;throw new Error(f.error||"Failed to update template part")}else return f},onSuccess:()=>{T.success("템플릿 파트가 수정되었습니다"),n.invalidateQueries({queryKey:["template-parts"]}),n.invalidateQueries({queryKey:["template-part",r]})},onError:()=>{T.error("템플릿 파트 수정에 실패했습니다")}}),x=(i,p)=>{m(p)},y=()=>{const i=u.map(f=>({id:f.clientId,type:f.name,data:f.attributes,innerBlocks:f.innerBlocks?C(f.innerBlocks):void 0})),p={...s,content:i};o?d.mutate(p):c.mutate(p)},C=i=>i.map(p=>({id:p.clientId,type:p.name,data:p.attributes,innerBlocks:p.innerBlocks?C(p.innerBlocks):void 0})),_=i=>i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return o&&e?t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>a("/appearance/template-parts"),children:[t.jsx(X,{className:"w-4 h-4 mr-2"}),"템플릿 파트 목록"]}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o?"템플릿 파트 수정":"새 템플릿 파트"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx("div",{className:"wp-card",children:t.jsxs("div",{className:"wp-card-body space-y-4",children:[t.jsxs("div",{children:[t.jsx(w,{htmlFor:"name",children:"이름"}),t.jsx(b,{id:"name",value:s.name,onChange:i=>{l({...s,name:i.target.value}),!o&&!s.slug&&l(p=>({...p,slug:_(i.target.value)}))},placeholder:"템플릿 파트 이름",className:"mt-2"})]}),t.jsxs("div",{children:[t.jsx(w,{htmlFor:"slug",children:"슬러그"}),t.jsx(b,{id:"slug",value:s.slug,onChange:i=>l({...s,slug:i.target.value}),placeholder:"template-part-slug",className:"mt-2"})]}),t.jsxs("div",{children:[t.jsx(w,{htmlFor:"description",children:"설명 (선택사항)"}),t.jsx(R,{id:"description",value:s.description,onChange:i=>l({...s,description:i.target.value}),placeholder:"이 템플릿 파트에 대한 설명",className:"mt-2",rows:3})]})]})}),t.jsxs("div",{className:"wp-card",children:[t.jsx("div",{className:"wp-card-header",children:t.jsx("h2",{className:"text-lg font-medium",children:"콘텐츠 편집"})}),t.jsx("div",{className:"wp-card-body",children:t.jsx(we,{initialContent:"",onChange:x,showReusableBlocks:!0})})]}),t.jsx("div",{className:"wp-card",children:t.jsx("div",{className:"wp-card-body",children:t.jsxs(q,{defaultValue:"styles",children:[t.jsxs(H,{children:[t.jsx(N,{value:"styles",children:"스타일"}),t.jsx(N,{value:"conditions",children:"조건"}),t.jsx(N,{value:"advanced",children:"고급"})]}),t.jsxs(I,{value:"styles",className:"space-y-4 mt-4",children:[t.jsxs("div",{children:[t.jsx(w,{htmlFor:"containerWidth",children:"컨테이너 너비"}),t.jsxs(O,{value:s.settings.containerWidth,onValueChange:i=>l({...s,settings:{...s.settings,containerWidth:i}}),children:[t.jsx(P,{className:"mt-2",children:t.jsx(z,{})}),t.jsxs(A,{children:[t.jsx(k,{value:"full",children:"전체 너비"}),t.jsx(k,{value:"wide",children:"넓은 너비 (max-w-7xl)"}),t.jsx(k,{value:"narrow",children:"좁은 너비 (max-w-4xl)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(w,{htmlFor:"backgroundColor",children:"배경색"}),t.jsx(b,{id:"backgroundColor",type:"color",value:s.settings.backgroundColor||"#ffffff",onChange:i=>l({...s,settings:{...s.settings,backgroundColor:i.target.value}}),className:"mt-2"})]}),t.jsxs("div",{children:[t.jsx(w,{htmlFor:"textColor",children:"텍스트 색상"}),t.jsx(b,{id:"textColor",type:"color",value:s.settings.textColor||"#000000",onChange:i=>l({...s,settings:{...s.settings,textColor:i.target.value}}),className:"mt-2"})]})]}),t.jsxs("div",{children:[t.jsx(w,{children:"패딩"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[t.jsx(b,{placeholder:"상단",value:s.settings.padding?.top||"",onChange:i=>l({...s,settings:{...s.settings,padding:{...s.settings.padding,top:i.target.value}}})}),t.jsx(b,{placeholder:"우측",value:s.settings.padding?.right||"",onChange:i=>l({...s,settings:{...s.settings,padding:{...s.settings.padding,right:i.target.value}}})}),t.jsx(b,{placeholder:"하단",value:s.settings.padding?.bottom||"",onChange:i=>l({...s,settings:{...s.settings,padding:{...s.settings.padding,bottom:i.target.value}}})}),t.jsx(b,{placeholder:"좌측",value:s.settings.padding?.left||"",onChange:i=>l({...s,settings:{...s.settings,padding:{...s.settings.padding,left:i.target.value}}})})]})]}),t.jsxs("div",{children:[t.jsx(w,{htmlFor:"customCss",children:"사용자 정의 CSS"}),t.jsx(R,{id:"customCss",value:s.settings.customCss||"",onChange:i=>l({...s,settings:{...s.settings,customCss:i.target.value}}),placeholder:".template-part-header { /* CSS */ }",className:"mt-2 font-mono text-sm",rows:5})]})]}),t.jsxs(I,{value:"conditions",className:"space-y-4 mt-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"특정 페이지나 조건에서만 이 템플릿 파트가 표시되도록 설정할 수 있습니다."}),t.jsx("div",{className:"text-center py-8 text-gray-500",children:"조건부 표시 설정은 추후 업데이트될 예정입니다."})]}),t.jsx(I,{value:"advanced",className:"space-y-4 mt-4",children:t.jsxs("div",{children:[t.jsx(w,{htmlFor:"priority",children:"우선순위"}),t.jsx(b,{id:"priority",type:"number",value:s.priority,onChange:i=>l({...s,priority:parseInt(i.target.value)||0}),className:"mt-2"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"같은 영역에 여러 템플릿 파트가 있을 때 표시 순서를 결정합니다. (낮은 숫자가 먼저 표시)"})]})})]})})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"wp-card",children:[t.jsx("div",{className:"wp-card-header",children:t.jsx("h3",{className:"font-medium",children:"게시"})}),t.jsxs("div",{className:"wp-card-body space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"영역:"}),t.jsxs(O,{value:s.area,onValueChange:i=>l({...s,area:i}),children:[t.jsx(P,{className:"w-32",children:t.jsx(z,{})}),t.jsxs(A,{children:[t.jsx(k,{value:"header",children:"헤더"}),t.jsx(k,{value:"footer",children:"푸터"}),t.jsx(k,{value:"sidebar",children:"사이드바"}),t.jsx(k,{value:"general",children:"일반"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(w,{htmlFor:"isActive",className:"text-sm",children:"활성화"}),t.jsx(F,{id:"isActive",checked:s.isActive,onCheckedChange:i=>l({...s,isActive:i})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(w,{htmlFor:"isDefault",className:"text-sm",children:"기본 템플릿"}),t.jsx(F,{id:"isDefault",checked:s.isDefault,onCheckedChange:i=>l({...s,isDefault:i})})]}),t.jsx("div",{className:"pt-4 border-t",children:t.jsxs(B,{className:"w-full",onClick:y,disabled:c.isPending||d.isPending,children:[t.jsx(Y,{className:"w-4 h-4 mr-2"}),o?"업데이트":"게시"]})})]})]}),t.jsxs("div",{className:"wp-card",children:[t.jsx("div",{className:"wp-card-header",children:t.jsx("h3",{className:"font-medium",children:"미리보기"})}),t.jsxs("div",{className:"wp-card-body",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"저장 후 사이트에서 실제로 어떻게 보이는지 확인할 수 있습니다."}),t.jsxs(B,{variant:"outline",className:"w-full mt-4",onClick:()=>window.open("/","_blank"),children:[t.jsx(ee,{className:"w-4 h-4 mr-2"}),"사이트에서 보기"]})]})]})]})]})]})}const Te=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"}));export{ae as A,B,b as I,w as L,O as S,R as T,le as _,E as a,$ as b,v as c,P as d,z as e,A as f,k as g,q as h,H as i,N as j,I as k,F as l,ge as m,je as n,_e as o,me as p,Te as q};
//# sourceMappingURL=page-template-editor-BTdVTS-a.js.map
