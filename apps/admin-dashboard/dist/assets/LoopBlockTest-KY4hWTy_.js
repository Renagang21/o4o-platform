import{j as s,d4 as e,bx as r,r as t}from"./vendor-react-DqgGMt48.js";import{cF as i,cG as l,cH as a,cR as d,cI as c}from"./wp-misc-CVe7ECV4.js";import{S as o,h as n,i as m,j as p,k as x,B as j}from"./page-template-editor-Dej8aqbo.js";import{a as h}from"./api-client-CxLCD9ze.js";import"./vendor-monaco-BxJH8uUv.js";import"./vendor-ui-CrFdsnXa.js";import"./vendor-query-D_c3FRkE.js";import"./vendor-utils-C9jLuAcl.js";import"./wp-data-D64LRRbU.js";import"./wp-block-editor-misc-De1L5-zR.js";import"./wp-core-kvRrOm9B.js";import"./wp-block-editor-api-BKhomcj9.js";import"./wp-blocks-core-NinAvWTg.js";import"./wp-block-editor-store-BZ6fZn58.js";import"./wp-block-editor-clipboard-DrG0xX4B.js";import"./wp-i18n-D6_Il8Rt.js";import"./wp-block-editor-global-styles-DiR2HQC4.js";import"./wp-block-editor-typography-W96exnXk.js";import"./wp-components-BJYLMD7r.js";import"./wp-block-editor-spacing-CpdaiY4Q.js";import"./wp-block-editor-menus-IWaA-N3x.js";import"./wp-block-editor-core-BSca1VBH.js";import"./wp-block-editor-utils-Bqn4TiQr.js";import"./wp-block-editor-a11y-YlMsb8JF.js";import"./wp-block-editor-preview-CaF7fUZD.js";import"./wp-block-editor-borders-BtjnCtLF.js";import"./wp-block-editor-formats-B4-8T-Nh.js";import"./wp-block-editor-selection-DYIw7ude.js";import"./wp-block-editor-inline-DHEsfgnI.js";import"./wp-block-editor-ui-l6-7VhtF.js";import"./wp-block-editor-transforms-Bm69JWBw.js";import"./wp-block-editor-patterns-CNk0M6ZZ.js";import"./wp-block-editor-navigation-iME_YXGb.js";import"./wp-block-editor-dnd-DduwJSaE.js";import"./wp-block-editor-media-CVSKmHRK.js";import"./wp-api-Dp_oFsVM.js";import"./wp-block-editor-keyboard-C8o4qxcy.js";import"./wp-block-editor-templates-A6LfENHh.js";function b(){return s.jsxs(i,{className:"w-full max-w-4xl mx-auto",children:[s.jsxs(l,{children:[s.jsxs(a,{className:"flex items-center gap-2",children:[s.jsx(e,{className:"w-6 h-6 text-green-500"}),"3ê°€ì§€ ì‹œìŠ¤í…œ í†µí•© ì™„ë£Œ!"]}),s.jsx(d,{children:"Loop ë¸”ë¡ + Input í¼ + CPT/ACF ì‹œìŠ¤í…œì´ ì™„ë²½í•˜ê²Œ ì—°ë™ë˜ì—ˆìŠµë‹ˆë‹¤"})]}),s.jsxs(c,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"âœ… ì™„ë£Œëœ ì‘ì—…"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(e,{className:"w-4 h-4 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("strong",{children:"API ë°ì´í„° í‘œì¤€í™”:"})," CustomPost â†’ WordPress REST API í˜•ì‹ ë³€í™˜"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(e,{className:"w-4 h-4 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("strong",{children:"ACF í•„ë“œ ìë™ ë§¤í•‘:"})," fields â†’ acf ê°ì²´ ë³€í™˜"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(e,{className:"w-4 h-4 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Loop ë¸”ë¡ CPT ì—°ë™:"})," CPT API ì—”ë“œí¬ì¸íŠ¸ ì§ì ‘ ì‚¬ìš©"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(e,{className:"w-4 h-4 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("strong",{children:"ìë™ ê°±ì‹  ì‹œìŠ¤í…œ:"})," 30ì´ˆ ì£¼ê¸° ìë™ ìƒˆë¡œê³ ì¹¨"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(e,{className:"w-4 h-4 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("strong",{children:"í¼ ì œì¶œ ì—°ë™:"})," ì´ë²¤íŠ¸ ë²„ìŠ¤ë¥¼ í†µí•œ ì‹¤ì‹œê°„ ê°±ì‹ "]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(r,{className:"w-4 h-4"}),"ì‘ë™ ë°©ì‹"]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-sm space-y-2",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"í¼ ì…ë ¥"})," â†’ CPT/ACF ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥"]}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"ì´ë²¤íŠ¸ ë°œìƒ"})," â†’ eventBus.emit(EVENTS.POST_CREATED)"]}),s.jsxs("p",{children:["3. ",s.jsx("strong",{children:"Loop ë¸”ë¡ ê°ì§€"})," â†’ ìë™ìœ¼ë¡œ ë°ì´í„° ê°±ì‹ "]}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"UI ì—…ë°ì´íŠ¸"})," â†’ ìƒˆë¡œìš´ ì½˜í…ì¸  ì¦‰ì‹œ í‘œì‹œ"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"ğŸš€ ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium mb-1",children:"ìë™ ê°±ì‹ "}),s.jsx("p",{className:"text-sm text-gray-600",children:"30ì´ˆë§ˆë‹¤ ìë™ìœ¼ë¡œ ìµœì‹  ë°ì´í„° ë¡œë“œ"})]}),s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium mb-1",children:"ì‹¤ì‹œê°„ ë°˜ì˜"}),s.jsx("p",{className:"text-sm text-gray-600",children:"í¼ ì œì¶œ ì‹œ Loop ë¸”ë¡ ì¦‰ì‹œ ê°±ì‹ "})]}),s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium mb-1",children:"WordPress í˜¸í™˜"}),s.jsx("p",{className:"text-sm text-gray-600",children:"WordPress REST API í˜•ì‹ ì§€ì›"})]}),s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium mb-1",children:"ìœ ì—°í•œ UI/UX"}),s.jsx("p",{className:"text-sm text-gray-600",children:"ë¬´ì œí•œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•"}),s.jsxs("ol",{className:"text-sm space-y-1 list-decimal list-inside",children:[s.jsx("li",{children:"Gutenberg ì—ë””í„°ì—ì„œ Loop ë¸”ë¡ ì¶”ê°€"}),s.jsx("li",{children:"Post Type ì„ íƒ (ì˜ˆ: products)"}),s.jsx("li",{children:"ë‹¤ë¥¸ íƒ­ì—ì„œ í•´ë‹¹ CPT í¼ìœ¼ë¡œ ìƒˆ í•­ëª© ì¶”ê°€"}),s.jsx("li",{children:"Loop ë¸”ë¡ì´ ìë™ìœ¼ë¡œ ê°±ì‹ ë˜ëŠ” ê²ƒ í™•ì¸"})]})]})]})]})}function u(){const[e,r]=t.useState([]),[d,u]=t.useState(!1),[g,N]=t.useState(null),[f,v]=t.useState("products"),[w,k]=t.useState(0),[y,P]=t.useState(1),C=async()=>{u(!0),N(null);try{const s=await h.get(`/cpt/${f}/posts`,{params:{per_page:10,page:y,_embed:!0,orderby:"date",order:"desc"}});r(s.data);const e=s.headers["x-wp-totalpages"];e&&k(parseInt(e))}catch(s){N(s.message||"Failed to fetch posts")}finally{u(!1)}};t.useEffect(()=>{C()},[f,y]);return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsx("div",{className:"mb-8",children:s.jsx(b,{})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loop Block API Test"}),s.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[s.jsxs(o,{value:f,onValueChange:v,children:[s.jsx(n,{className:"w-48",children:s.jsx(m,{})}),s.jsxs(p,{children:[s.jsx(x,{value:"products",children:"Products"}),s.jsx(x,{value:"services",children:"Services"}),s.jsx(x,{value:"events",children:"Events"}),s.jsx(x,{value:"testimonials",children:"Testimonials"})]})]}),s.jsx(j,{onClick:C,disabled:d,children:d?"Loading...":"Refresh"})]}),g&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:g})]}),s.jsxs("div",{className:"grid gap-4",children:[0===e.length&&!d&&s.jsx(i,{children:s.jsx(c,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No posts found for this post type."})})}),e.map(e=>{const r=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url,t=e._embedded?.author?.[0]?.name||"Unknown";return s.jsxs(i,{className:"mb-4",children:[s.jsxs(l,{children:[s.jsx(a,{children:e.title.rendered}),s.jsxs("div",{className:"text-sm text-gray-500",children:["By ",t," on ",new Date(e.date).toLocaleDateString()]})]}),s.jsxs(c,{children:[r&&s.jsx("img",{src:r,alt:e.title.rendered,className:"w-full h-48 object-cover mb-4 rounded"}),s.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:e.content.rendered}}),e.acf&&Object.keys(e.acf).length>0&&s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Custom Fields (ACF):"}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(e.acf,null,2)})]})]})]},e.id)})]}),w>1&&s.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[s.jsx(j,{variant:"outline",onClick:()=>P(s=>Math.max(1,s-1)),disabled:1===y,children:"Previous"}),s.jsxs("span",{className:"flex items-center px-4",children:["Page ",y," of ",w]}),s.jsx(j,{variant:"outline",onClick:()=>P(s=>Math.min(w,s+1)),disabled:y===w,children:"Next"})]}),s.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"API Endpoint:"}),s.jsxs("code",{className:"text-sm",children:["/api/v1/cpt/",f,"/posts?per_page=10&page=1&_embed=true"]}),s.jsx("p",{className:"text-sm mt-2",children:"This endpoint returns WordPress REST API formatted data that can be consumed by the Loop block."})]}),s.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Integration Status:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"âœ… WordPress Post í˜•ì‹ ë³€í™˜ ì™„ë£Œ"}),s.jsx("li",{children:"âœ… ACF í•„ë“œ ë§¤í•‘ (fields â†’ acf) ì™„ë£Œ"}),s.jsx("li",{children:"âœ… Loop ë¸”ë¡ CPT API ì—°ë™ ì™„ë£Œ"}),s.jsx("li",{children:"âœ… WordPress API ë¯¸ë“¤ì›¨ì–´ ì„¤ì • ì™„ë£Œ"})]}),s.jsx("p",{className:"text-sm mt-2",children:"ì´ì œ Gutenberg ì—ë””í„°ì˜ Loop ë¸”ë¡ì—ì„œ CPT ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤."})]})]})}export{u as default};
