import{r as e,j as t}from"./vendor-react-DqgGMt48.js";import{c as r,a as s}from"./wp-blocks-core-BDaUU0zy.js";import{c as n,a as o,S as i,b as c,s as a,d as u,r as l,e as f,f as p,g as m}from"./wp-block-editor-store-D0LqdVTA.js";import{l as d,c as b,u as g,b as k,a as y,d as v,e as S,P as h,T as x,f as j,R as w,g as P,h as C,i as E,E as B}from"./wp-block-editor-misc-5qbjj7fi.js";import{d as R}from"./wp-misc-nAANEFFa.js";import{a as _}from"./wp-block-editor-global-styles-CgbocFEz.js";import{c as I,s as T,a as O,b as D,d as M,e as A}from"./wp-block-editor-utils-BS9xY-75.js";import{o as L,c as K}from"./wp-core-BedthL0o.js";import{K as N}from"./wp-block-editor-keyboard-D3kftNm9.js";import{SlotFillProvider as z}from"./wp-components-Jwbue4-Q.js";import{P as W,u as q,g as H}from"./wp-block-editor-formats-DG6_xyZ_.js";import{P as F,R as Q}from"./wp-block-editor-menus-DNdBW6en.js";import{P as V,u as G,n as U,g as J,e as X,Q as Y}from"./wp-block-editor-ui-D4dlfw0L.js";import{B as Z}from"./wp-block-editor-navigation-BlWUaXzS.js";import{r as $,L as ee}from"./wp-block-editor-core-BHvRx-9p.js";import{u as te,D as re}from"./wp-block-editor-spacing-Bjm66-GI.js";import{u as se}from"./wp-block-editor-inline-Bkp4Ls8p.js";import{_ as ne}from"./wp-block-editor-a11y-B3KhLhxS.js";function oe(e){return"string"==typeof e?e:e.name}function ie(e={},t=null){const r={},s=I();let i=null;function c(){s.emit()}function a(e,s){if(r[e])return r[e];const n=s();if("function"!=typeof n.getSelectors)throw new TypeError("store.getSelectors must be a function");if("function"!=typeof n.getActions)throw new TypeError("store.getActions must be a function");if("function"!=typeof n.subscribe)throw new TypeError("store.subscribe must be a function");n.emitter=I();const o=n.subscribe;if(n.subscribe=e=>{const t=n.emitter.subscribe(e),r=o(()=>{n.emitter.isPaused?n.emitter.emit():e()});return()=>{r?.(),t?.()}},r[e]=n,n.subscribe(c),t)try{b(n.store).registerPrivateActions(b(t).privateActionsOf(e)),b(n.store).registerPrivateSelectors(b(t).privateSelectorsOf(e))}catch(i){}return n}let u={batch:function(e){if(s.isPaused)e();else{s.pause(),Object.values(r).forEach(e=>e.emitter.pause());try{e()}finally{s.resume(),Object.values(r).forEach(e=>e.emitter.resume())}}},stores:r,namespaces:r,subscribe:(e,n)=>{if(!n)return s.subscribe(e);const o=oe(n),i=r[o];return i?i.subscribe(e):t?t.subscribe(e,n):s.subscribe(e)},select:function(e){const s=oe(e);i?.add(s);const n=r[s];return n?n.getSelectors():t?.select(s)},resolveSelect:function(e){const s=oe(e);i?.add(s);const n=r[s];return n?n.getResolveSelectors():t&&t.resolveSelect(s)},suspendSelect:function(e){const s=oe(e);i?.add(s);const n=r[s];return n?n.getSuspendSelectors():t&&t.suspendSelect(s)},dispatch:function(e){const s=oe(e),n=r[s];return n?n.getActions():t&&t.dispatch(s)},use:function(e,t){if(!e)return;return u={...u,...e(u,t)},u},register:function(e){a(e.name,()=>e.instantiate(u))},registerGenericStore:function(e,t){R("wp.data.registerGenericStore",{since:"5.9",alternative:"wp.data.register( storeDescriptor )"}),a(e,()=>t)},registerStore:function(e,t){if(!t.reducer)throw new TypeError("Must specify store reducer");return a(e,()=>o(e,t).instantiate(u)).store},__unstableMarkListeningStores:function(e,t){i=new Set;try{return e.call(this)}finally{t.current=Array.from(i),i=null}}};u.register(n);for(const[n,p]of Object.entries(e))u.register(o(n,p));t&&t.subscribe(c);const l=(f=u,Object.fromEntries(Object.entries(f).map(([e,t])=>"function"!=typeof t?[e,t]:[e,function(){return u[e].apply(null,arguments)}])));var f;return d(l,{privateActionsOf:e=>{try{return b(r[e].store).privateActions}catch(t){return{}}},privateSelectorsOf:e=>{try{return b(r[e].store).privateSelectors}catch(t){return{}}}}),l}const ce=ie(),ae=e.createContext(ce),{Consumer:ue,Provider:le}=ae;function fe(){return e.useContext(ae)}const pe=e.createContext(!1),{Consumer:me,Provider:de}=pe;function be(){return e.useContext(pe)}const ge=Symbol("mayDisplayControls"),ke=Symbol("mayDisplayParentControls"),ye=Symbol("blockEditingMode"),ve=Symbol("blockBindings"),Se=Symbol("isPreviewMode"),he={name:"",isSelected:!1},xe=e.createContext(he),{Provider:je}=xe;function we(){return e.useContext(xe)}const Pe=e.createContext({});function Ce({value:r,children:s}){const n=e.useContext(Pe),o=e.useMemo(()=>({...n,...r}),[n,r]);return t.jsx(Pe.Provider,{value:o,children:s})}const Ee=e.createContext({refsMap:L()});function Be({children:r}){const s=e.useMemo(()=>({refsMap:L()}),[]);return t.jsx(Ee.Provider,{value:s,children:r})}const Re=K(r=>({useSubRegistry:s=!0,...n})=>{const o=fe(),[a]=e.useState(()=>new WeakMap),u=function(e,t,r){if(!r)return t;let s=e.get(t);return s||(s=ie({},t),s.registerStore(i,c),e.set(t,s)),s}(a,o,s);return u===o?t.jsx(r,{registry:o,...n}):t.jsx(le,{value:u,children:t.jsx(r,{registry:u,...n})})},"withRegistryProvider"),_e=()=>{};function Ie({clientId:t=null,value:s,selection:n,onChange:o=_e,onInput:i=_e}){const c=fe(),{resetBlocks:u,resetSelection:l,replaceInnerBlocks:f,setHasControlledInnerBlocks:p,__unstableMarkNextChangeAsNotPersistent:m}=c.dispatch(a),{getBlockName:d,getBlocks:b,getSelectionStart:k,getSelectionEnd:y}=c.select(a),v=g(e=>!t||e(a).areInnerBlocksControlled(t),[t]),S=e.useRef({incoming:null,outgoing:[]}),h=e.useRef(!1),x=()=>{s&&(m(),t?c.batch(()=>{p(t,!0);const e=s.map(e=>r(e));h.current&&(S.current.incoming=e),m(),f(t,e)}):(h.current&&(S.current.incoming=s),u(s)))},j=e.useRef(i),w=e.useRef(o);e.useEffect(()=>{j.current=i,w.current=o},[i,o]),e.useEffect(()=>{S.current.outgoing.includes(s)?S.current.outgoing[S.current.outgoing.length-1]===s&&(S.current.outgoing=[]):b(t)!==s&&(S.current.outgoing=[],x(),n&&l(n.selectionStart,n.selectionEnd,n.initialPosition))},[s,t]);const P=e.useRef(!1);e.useEffect(()=>{P.current?v||(S.current.outgoing=[],x()):P.current=!0},[v]),e.useEffect(()=>{const{getSelectedBlocksInitialCaretPosition:e,isLastBlockChangePersistent:r,__unstableIsLastBlockChangeIgnored:s,areInnerBlocksControlled:n}=c.select(a);let o=b(t),i=r(),u=!1;h.current=!0;const l=c.subscribe(()=>{if(null!==t&&null===d(t))return;if(!(!t||n(t)))return;const c=r(),a=b(t),l=a!==o;if(o=a,l&&(S.current.incoming||s()))return S.current.incoming=null,void(i=c);if(l||u&&!l&&c&&!i){i=c,S.current.outgoing.push(o);(i?w.current:j.current)(o,{selection:{selectionStart:k(),selectionEnd:y(),initialPosition:e()}})}u=l},a);return()=>{h.current=!1,l()}},[c,t]),e.useEffect(()=>()=>{m(),t?(p(t,!1),m(),f(t,[])):u([])},[])}const Te=Re(r=>{const{children:s,settings:n,stripExperimentalSettings:o=!1}=r,{__experimentalUpdateSettings:i}=k(y(a));return e.useEffect(()=>{i({...n,__internalIsInitialized:!0},{stripExperimentalSettings:o,reset:!0})},[n,o,i]),Ie(r),t.jsxs(z,{passthrough:!0,children:[!n?.__unstableIsPreviewMode&&t.jsx(N.Register,{}),t.jsx(Be,{children:s})]})}),Oe=e=>t.jsx(Te,{...e,stripExperimentalSettings:!0,children:e.children});function De(e){return g(t=>{const r=t(a).getBlock(e);if(!r)return;const n=t(s).getBlockType(r.name);return n&&0!==Object.keys(n.providesContext).length?Object.fromEntries(Object.entries(n.providesContext).map(([e,t])=>[e,r.attributes[t]])):void 0},[e])}const Me=e.createContext({}),Ae=()=>e.useContext(Me),Le=e.createContext({});function Ke({children:r,uniqueId:s,blockName:n=""}){const o=e.useContext(Le),{name:i}=we();n=n||i;const c=e.useMemo(()=>function(e,t,r){const s={...e,[t]:e[t]?new Set(e[t]):new Set};return s[t].add(r),s}(o,n,s),[o,n,s]);return t.jsx(Le.Provider,{value:c,children:r})}function Ne(t,r=""){const s=e.useContext(Le),{name:n}=we();return r=r||n,Boolean(s[r]?.has(t))}const ze=e=>(R("wp.blockEditor.__experimentalRecursionProvider",{since:"6.5",alternative:"wp.blockEditor.RecursionProvider"}),t.jsx(Ke,{...e})),We=(...e)=>(R("wp.blockEditor.__experimentalUseHasRecursion",{since:"6.5",alternative:"wp.blockEditor.useHasRecursion"}),Ne(...e)),qe={};v(qe,{..._,ExperimentalBlockCanvas:B,ExperimentalBlockEditorProvider:Te,getDuotoneFilter:A,getRichTextValues:H,PrivateQuickInserter:Y,extractWords:X,getNormalizedSearchTerms:J,normalizeString:U,PrivateListView:E,ResizableBoxPopover:Q,BlockInfo:C,useHasBlockToolbar:G,cleanEmptyObject:M,BlockQuickNavigation:Z,LayoutStyle:ee,BlockRemovalWarningModal:P,useLayoutClasses:D,useLayoutStyles:O,DimensionsTool:re,ResolutionTool:w,TabbedSidebar:j,TextAlignmentControl:x,usesContextKey:q,useFlashEditableBlocks:se,globalStylesDataKey:m,globalStylesLinksDataKey:p,selectBlockPatternsKey:f,requiresWrapperOnCopy:$,PrivateRichText:W,PrivateInserterLibrary:V,reusableBlocksSelectKey:l,PrivateBlockPopover:F,PrivatePublishDateTimePicker:h,useSpacingSizes:te,useBlockDisplayTitle:S,__unstableBlockStyleVariationOverridesWithConfig:ne,setBackgroundStyleDefaults:T,sectionRootClientIdKey:u});export{Ee as B,Pe as C,he as D,Te as E,Me as L,je as P,Ke as R,we as a,ve as b,de as c,be as d,ce as e,ye as f,ge as g,Ie as h,Se as i,De as j,Ce as k,Ae as l,ke as m,ze as n,Ne as o,qe as p,We as q,Oe as r,fe as u};
