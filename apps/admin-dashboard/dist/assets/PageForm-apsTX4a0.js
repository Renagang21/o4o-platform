import{j as e,bf as s,cS as a,cT as t,bg as l,bw as r,aD as i,r as n,b6 as c,bi as d,ba as o,cU as x,cV as m,aO as h,cW as p,aH as u,aG as g,aU as j,aV as v,aZ as y,aX as b,aY as N,cD as w,aF as f,aR as C,cX as S,C as k,cY as $,cZ as D,aT as F,aJ as T,aK as I,aL as L,c_ as q,c$ as E,b7 as K,b8 as z,aE as H,u as O,b as M,V as R,A as V,S as B,E as P,b0 as U}from"./vendor-react-DqgGMt48.js";import{cS as _,cQ as A}from"./wp-misc-DyLrwF9p.js";import{c as Q}from"./vendor-ui-CrFdsnXa.js";import{C as J}from"./vendor-utils-C9jLuAcl.js";import{B as X,c as Y,b as Z,L as G,I as W,d as ee,e as se,f as ae,g as te,S as le,h as re,i as ie,j as ne,k as ce,T as de}from"./page-template-editor-5uesjTWI.js";import{u as oe,a as xe,b as me}from"./vendor-query-D_c3FRkE.js";const he=({isSaving:r,lastSaved:i,hasUnsavedChanges:n,savedInLocalStorage:c,className:d})=>e.jsxs("div",{className:Q("flex items-center gap-2 text-sm",r?"text-blue-600":i&&!n?"text-green-600":n?"text-yellow-600":"text-gray-500",d),children:[r?e.jsx(s,{className:"w-4 h-4 animate-spin"}):n&&c?e.jsx(a,{className:"w-4 h-4"}):i?e.jsx(t,{className:"w-4 h-4"}):e.jsx(l,{className:"w-4 h-4"}),e.jsx("span",{children:(()=>{if(r)return"저장 중...";if(i){return`${J(i,"HH:mm")}에 저장됨`}return n&&c?"로컬에 임시 저장됨":n?"저장되지 않은 변경사항":"대기 중"})()})]}),pe=({timestamp:s,onRecover:a,onDiscard:t})=>e.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(r,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-900",children:"저장되지 않은 변경사항이 있습니다"}),e.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:[J(s,"yyyy년 MM월 dd일 HH:mm"),"에 작성한 내용이 임시 저장되어 있습니다. 복구하시겠습니까?"]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(X,{size:"sm",variant:"default",onClick:a,className:"bg-yellow-600 hover:bg-yellow-700",children:"복구하기"}),e.jsx(X,{size:"sm",variant:"outline",onClick:t,children:"삭제하기"})]})]}),e.jsx("button",{onClick:t,className:"text-yellow-600 hover:text-yellow-700",children:e.jsx(i,{className:"w-4 h-4"})})]})}),ue=[{id:"paragraph",title:"단락",icon:e.jsx(h,{className:"w-5 h-5"}),category:"text",description:"텍스트 단락을 추가합니다"},{id:"heading",title:"제목",icon:e.jsx(p,{className:"w-5 h-5"}),category:"text",description:"제목을 추가합니다"},{id:"image",title:"이미지",icon:e.jsx(u,{className:"w-5 h-5"}),category:"media",description:"이미지를 업로드하거나 선택합니다"},{id:"list",title:"목록",icon:e.jsx(g,{className:"w-5 h-5"}),category:"text",description:"순서가 있거나 없는 목록을 만듭니다"},{id:"quote",title:"인용",icon:e.jsx(j,{className:"w-5 h-5"}),category:"text",description:"인용문을 추가합니다"},{id:"code",title:"코드",icon:e.jsx(v,{className:"w-5 h-5"}),category:"text",description:"코드 블록을 추가합니다"},{id:"columns",title:"컬럼",icon:e.jsx(y,{className:"w-5 h-5"}),category:"layout",description:"여러 컬럼 레이아웃을 만듭니다"},{id:"video",title:"비디오",icon:e.jsx(b,{className:"w-5 h-5"}),category:"media",description:"비디오를 삽입합니다"},{id:"audio",title:"오디오",icon:e.jsx(N,{className:"w-5 h-5"}),category:"media",description:"오디오 파일을 추가합니다"},{id:"file",title:"파일",icon:e.jsx(w,{className:"w-5 h-5"}),category:"media",description:"다운로드 가능한 파일을 추가합니다"},{id:"spacer",title:"여백",icon:e.jsx(f,{className:"w-5 h-5"}),category:"layout",description:"블록 사이에 여백을 추가합니다"}],ge=[{id:"text",title:"텍스트"},{id:"media",title:"미디어"},{id:"layout",title:"레이아웃"}],je=({initialBlocks:s=[],onChange:a,onSave:t,content:l,onContentChange:r})=>{const[i,h]=n.useState(()=>l?(e=>{if(!e||!e.trim())return[];const s=[...e.matchAll(/<!-- wp:([a-z0-9-]+\/[a-z0-9-]+)(\s+({[^}]*}))?\s*-->([\s\S]*?)<!-- \/wp:\1 -->/g)];return s.length>0?s.map((e,s)=>{const a=e[1],t=e[3],l=e[4].trim();let r={};if(t)try{r=JSON.parse(t)}catch{}let i={};if("core/paragraph"===a)i={text:l.replace(/<[^>]*>/g,"")};else if("core/heading"===a){const e=l.match(/<h(\d)/)?.[1];i={text:l.replace(/<[^>]*>/g,""),level:e?parseInt(e):2}}else i={text:l};return{id:`block-${Date.now()}-${s}`,type:"core/paragraph"===a?"paragraph":"core/heading"===a?"heading":a.replace("core/",""),content:i,attributes:r}}):[{id:`block-${Date.now()}`,type:"paragraph",content:{text:e.replace(/<[^>]*>/g,"")}}]})(l):s),[g,j]=n.useState(null),[v,y]=n.useState(!1),[b,N]=n.useState(null),[w,f]=n.useState(null),[O,M]=n.useState(!1),[R,V]=n.useState(!0),[B,P]=n.useState(""),[U,_]=n.useState(null),[A,Q]=n.useState(null),J=n.useRef(null),Z=ue.filter(e=>{const s=!B||e.title.toLowerCase().includes(B.toLowerCase())||e.description?.toLowerCase().includes(B.toLowerCase()),a=!U||e.category===U;return s&&a}),G=e=>{h(e),a&&a(e),r&&r((e=>e.map(e=>{const s="paragraph"===e.type?"core/paragraph":"heading"===e.type?"core/heading":`core/${e.type}`;let a=`\x3c!-- wp:${s}`;if(e.attributes&&Object.keys(e.attributes).length>0&&(a+=` ${JSON.stringify(e.attributes)}`),a+=" --\x3e\n","paragraph"===e.type)a+=`<p>${e.content.text||""}</p>`;else if("heading"===e.type){const s=e.content.level||2;a+=`<h${s}>${e.content.text||""}</h${s}>`}else"list"===e.type?a+=`<ul>${(e.content.items||[]).map(e=>`<li>${e}</li>`).join("")}</ul>`:"quote"===e.type?(a+=`<blockquote class="wp-block-quote"><p>${e.content.text||""}</p>`,e.content.citation&&(a+=`<cite>${e.content.citation}</cite>`),a+="</blockquote>"):"image"===e.type?(a+=`<figure class="wp-block-image"><img src="${e.content.url||""}" alt="${e.content.alt||""}"/>`,e.content.caption&&(a+=`<figcaption>${e.content.caption}</figcaption>`),a+="</figure>"):a+=`<div>${e.content.text||""}</div>`;return a+=`\n\x3c!-- /wp:${s} --\x3e\n`,a}).join("\n"))(e))},W=e=>{switch(e){case"paragraph":return{text:""};case"heading":return{text:"",level:2};case"image":return{url:"",alt:"",caption:""};case"list":return{items:[""],ordered:!1};case"quote":return{text:"",citation:""};case"code":return{code:"",language:"javascript"};case"columns":return{columns:2,content:[]};default:return{}}},ee=(e,s)=>{const a=i.map(a=>a.id===e?{...a,content:s}:a);G(a)},se=(e,s)=>{const a=i.findIndex(s=>s.id===e);if(-1===a)return;const t="up"===s?a-1:a+1;if(t<0||t>=i.length)return;const l=[...i],[r]=l.splice(a,1);l.splice(t,0,r),G(l)},ae=(e,s)=>{Q(s),e.dataTransfer.effectAllowed="move"},te=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},le=()=>v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),e.jsxs("div",{className:"fixed z-50 bg-white rounded-lg shadow-xl border w-80 max-h-96 overflow-hidden",style:{left:b?b.x-160+"px":"50%",top:b?`${b.y+20}px`:"50%",transform:b?void 0:"translate(-50%, -50%)"},children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"블록 검색...",className:"w-full pl-9 pr-3 py-2 border rounded-md text-sm",value:B,onChange:e=>P(e.target.value),autoFocus:!0})]})}),e.jsxs("div",{className:"flex gap-2 p-3 border-b",children:[e.jsx("button",{onClick:()=>_(null),className:Y("px-3 py-1 text-xs rounded-full transition-colors",U?"text-gray-600 hover:bg-gray-100":"bg-blue-100 text-blue-700"),children:"모두"}),ge.map(s=>e.jsx("button",{onClick:()=>_(s.id),className:Y("px-3 py-1 text-xs rounded-full transition-colors",U===s.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:s.title},s.id))]}),e.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:0===Z.length?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"검색 결과가 없습니다"}):e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Z.map(s=>e.jsxs("button",{onClick:()=>((e,s)=>{const a={id:`block-${Date.now()}`,type:e,content:W(e),attributes:{}},t=[...i];void 0!==s?t.splice(s,0,a):t.push(a),G(t),y(!1),N(null),f(null),j(a.id)})(s.id,w??void 0),className:"flex flex-col items-center gap-2 p-3 rounded-lg hover:bg-gray-100 transition-colors group",children:[e.jsx("div",{className:"text-gray-600 group-hover:text-blue-600 transition-colors",children:s.icon}),e.jsx("span",{className:"text-xs text-gray-700",children:s.title})]},s.id))})})]})]}):null,re=({block:s,index:a})=>{const t=g===s.id;return e.jsxs("div",{className:Y("group relative transition-all",t&&"ring-2 ring-blue-500 ring-offset-2"),onClick:()=>j(s.id),draggable:!0,onDragStart:e=>ae(e,s.id),onDragOver:te,onDrop:e=>((e,s)=>{if(e.preventDefault(),!A)return;const a=i.findIndex(e=>e.id===A);if(-1===a)return;const t=[...i],[l]=t.splice(a,1);t.splice(s,0,l),G(t),Q(null)})(e,a),children:[e.jsxs("div",{className:Y("absolute -left-12 top-0 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",t&&"opacity-100"),children:[e.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",onMouseDown:e=>{e.preventDefault(),ae(e,s.id)},children:e.jsx(C,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",onClick:()=>se(s.id,"up"),children:e.jsx(S,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",onClick:()=>se(s.id,"down"),children:e.jsx(k,{className:"w-4 h-4"})})]}),t&&e.jsxs("div",{className:"absolute -top-10 left-0 flex items-center gap-1 bg-white border rounded-lg shadow-lg p-1 z-10",children:["paragraph"===s.type&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(L,{className:"w-4 h-4"})})]}),"heading"===s.type&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(p,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(E,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",onClick:()=>(e=>{const s=i.findIndex(s=>s.id===e);if(-1===s)return;const a=i[s],t={...a,id:`block-${Date.now()}`,content:{...a.content}},l=[...i];l.splice(s+1,0,t),G(l)})(s.id),children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-red-600",onClick:()=>(e=>{const s=i.filter(s=>s.id!==e);G(s),j(null)})(s.id),children:e.jsx(z,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"min-h-[60px] p-4 bg-white border rounded-lg",children:["paragraph"===s.type&&e.jsx("div",{contentEditable:!0,className:"outline-none",dangerouslySetInnerHTML:{__html:s.content.text||"단락을 입력하세요..."},onBlur:e=>ee(s.id,{text:e.currentTarget.innerHTML})}),"heading"===s.type&&e.jsx("h2",{contentEditable:!0,className:"text-2xl font-bold outline-none",dangerouslySetInnerHTML:{__html:s.content.text||"제목을 입력하세요..."},onBlur:e=>ee(s.id,{...s.content,text:e.currentTarget.innerHTML})}),"image"===s.type&&e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded",children:[e.jsx(u,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"이미지를 업로드하거나 선택하세요"}),e.jsx(X,{variant:"outline",size:"sm",className:"mt-2",children:"미디어 라이브러리"})]}),"list"===s.type&&e.jsx("ul",{className:"list-disc list-inside",children:s.content.items?.map((s,a)=>e.jsx("li",{children:s||"목록 항목"},a))}),"quote"===s.type&&e.jsxs("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic",children:[e.jsx("p",{children:s.content.text||"인용문을 입력하세요..."}),s.content.citation&&e.jsxs("cite",{className:"text-sm text-gray-600",children:["— ",s.content.citation]})]}),"code"===s.type&&e.jsx("pre",{className:"bg-gray-900 text-white p-4 rounded overflow-x-auto",children:e.jsx("code",{children:s.content.code||"// 코드를 입력하세요"})})]}),e.jsx("div",{className:"relative h-8 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),((e,s)=>{const a=e.currentTarget.getBoundingClientRect();N({x:a.left+a.width/2,y:a.top}),f(s),y(!0)})(e,a+1)},children:e.jsx("button",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:e.jsx(c,{className:"w-4 h-4"})})})]})};return e.jsxs("div",{className:Y("gutenberg-editor flex h-screen bg-gray-50",O&&"fixed inset-0 z-50"),children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b px-4 py-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y(!v),className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(c,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-8 bg-gray-300 mx-2"}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",children:e.jsx(d,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>t&&t(i),children:"저장"}),e.jsx("button",{onClick:()=>V(!R),className:"p-2 hover:bg-gray-100 rounded",children:e.jsx(o,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>M(!O),className:"p-2 hover:bg-gray-100 rounded",children:O?e.jsx(x,{className:"w-5 h-5"}):e.jsx(m,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[e.jsx("input",{type:"text",placeholder:"제목을 입력하세요",className:"w-full text-4xl font-bold mb-8 outline-none bg-transparent"}),e.jsx("div",{className:"space-y-2 relative",ref:J,children:0===i.length?e.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>y(!0),children:[e.jsx(c,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"블록을 추가하려면 클릭하세요"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'또는 "/" 를 입력하여 빠르게 추가'})]}):i.map((s,a)=>e.jsx(re,{block:s,index:a},s.id))})]})})]}),R&&e.jsxs("div",{className:"w-80 bg-white border-l flex flex-col",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"font-semibold",children:"블록 설정"})}),e.jsx("div",{className:"flex-1 overflow-auto p-4",children:g?e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["선택된 블록: ",i.find(e=>e.id===g)?.type]})}):e.jsx("p",{className:"text-sm text-gray-500",children:"블록을 선택하여 설정을 편집하세요"})})]}),e.jsx(le,{})]})},ve=[{value:"default",label:"기본 템플릿"},{value:"full-width",label:"전체 너비"},{value:"sidebar-left",label:"왼쪽 사이드바"},{value:"sidebar-right",label:"오른쪽 사이드바"},{value:"landing",label:"랜딩 페이지"},{value:"contact",label:"연락처"},{value:"about",label:"회사 소개"}],ye=()=>{const s=O(),{id:a}=M(),t=oe(),l=!!a,[r,i]=n.useState({title:"",content:"",excerpt:"",type:"page",status:"draft",visibility:"public",template:"default",meta:{seoTitle:"",seoDescription:"",seoKeywords:[]}}),[c,d]=n.useState(!1),[o,x]=n.useState(null),{data:m,isLoading:h}=xe({queryKey:["page",a],queryFn:async()=>(await Z.api.get(`/posts/${a}`)).data,enabled:l}),{data:p=[]}=xe({queryKey:["all-pages"],queryFn:async()=>(await Z.api.get("/posts?type=page&status=published")).data.posts||[]}),{isSaving:u,lastSaved:g,hasUnsavedChanges:j,savedInLocalStorage:v,recoverFromLocalStorage:y,clearLocalStorage:b}=_(r,{postId:a,postType:"page",interval:3e4,onSaveSuccess:()=>{}});n.useEffect(()=>{(async()=>{const e=await y();e&&!a&&(x({data:e,timestamp:new Date}),d(!0))})()},[a,y]);const N=me({mutationFn:async e=>(await Z.api.post("/posts",e)).data,onSuccess:e=>{R.success("페이지가 저장되었습니다"),t.invalidateQueries({queryKey:["pages"]}),b(),s(`/content/pages/${e.id}/edit`)},onError:()=>{R.error("페이지 저장에 실패했습니다")}}),w=me({mutationFn:async e=>(await Z.api.put(`/posts/${a}`,e)).data,onSuccess:()=>{R.success("페이지가 수정되었습니다"),t.invalidateQueries({queryKey:["pages"]}),t.invalidateQueries({queryKey:["page",a]}),b()},onError:()=>{R.error("페이지 수정에 실패했습니다")}});n.useEffect(()=>{m&&i({title:m.title,content:m.content,excerpt:m.excerpt||"",type:m.type,status:m.status,visibility:m.visibility,password:m.password,template:m.template||"default",parentId:m.parentId,meta:m.meta||{seoTitle:"",seoDescription:"",seoKeywords:[]}})},[m]);const f=(e="draft")=>{const s={...r,status:e};l?w.mutate({id:a,...s}):N.mutate(s)};return l&&h?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>s("/content/pages"),children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"페이지 목록"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l?"페이지 수정":"새 페이지 만들기"}),e.jsx(he,{isSaving:u,lastSaved:g,hasUnsavedChanges:j,savedInLocalStorage:v})]}),c&&o&&e.jsx(pe,{timestamp:o.timestamp,onRecover:()=>{o&&(i(o.data),b(),d(!1),R.success("임시 저장된 내용이 복구되었습니다"))},onDiscard:()=>{b(),d(!1)}}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx("div",{className:"wp-card",children:e.jsxs("div",{className:"wp-card-body",children:[e.jsx(G,{htmlFor:"title",children:"제목"}),e.jsx(W,{id:"title",placeholder:"페이지 제목을 입력하세요",value:r.title,onChange:e=>i({...r,title:e.target.value}),className:"mt-2"})]})}),e.jsx("div",{className:"wp-card",children:e.jsxs("div",{className:"wp-card-body",children:[e.jsx(G,{children:"내용"}),e.jsx("div",{className:"mt-2",children:e.jsx(je,{content:r.content,onContentChange:e=>i({...r,content:e}),onSave:()=>f(r.status)})})]})}),e.jsx("div",{className:"wp-card",children:e.jsx("div",{className:"wp-card-body",children:e.jsxs(ee,{defaultValue:"page-attributes",children:[e.jsxs(se,{className:"grid w-full grid-cols-3",children:[e.jsx(ae,{value:"page-attributes",children:"페이지 속성"}),e.jsx(ae,{value:"seo",children:"SEO"}),e.jsx(ae,{value:"advanced",children:"고급"})]}),e.jsxs(te,{value:"page-attributes",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"template",children:"템플릿"}),e.jsxs(le,{value:r.template,onValueChange:e=>i({...r,template:e}),children:[e.jsx(re,{className:"mt-2",children:e.jsx(ie,{})}),e.jsx(ne,{children:ve.map(s=>e.jsx(ce,{value:s.value,children:s.label},s.value))})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"페이지의 레이아웃을 결정합니다"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"parent",children:"부모 페이지"}),e.jsxs(le,{value:r.parentId||"none",onValueChange:e=>i({...r,parentId:"none"===e?void 0:e}),children:[e.jsx(re,{className:"mt-2",children:e.jsx(ie,{})}),e.jsxs(ne,{children:[e.jsx(ce,{value:"none",children:"(부모 없음)"}),p.filter(e=>e.id!==a).map(s=>e.jsx(ce,{value:s.id,children:s.title},s.id))]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"계층 구조를 만들 수 있습니다"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"order",children:"순서"}),e.jsx(W,{id:"order",type:"number",placeholder:"0",value:r.order||"",onChange:e=>i({...r,order:e.target.value?parseInt(e.target.value):void 0}),className:"mt-2"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"메뉴에서의 표시 순서를 지정합니다"})]})]}),e.jsxs(te,{value:"seo",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"seoTitle",children:"SEO 제목"}),e.jsx(W,{id:"seoTitle",placeholder:"검색 결과에 표시될 제목",value:r.meta?.seoTitle,onChange:e=>i({...r,meta:{...r.meta,seoTitle:e.target.value}}),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"seoDescription",children:"SEO 설명"}),e.jsx(de,{id:"seoDescription",placeholder:"검색 결과에 표시될 설명",value:r.meta?.seoDescription,onChange:e=>i({...r,meta:{...r.meta,seoDescription:e.target.value}}),className:"mt-2",rows:3})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"seoKeywords",children:"SEO 키워드"}),e.jsx(W,{id:"seoKeywords",placeholder:"키워드를 쉼표로 구분하여 입력",value:r.meta?.seoKeywords?.join(", "),onChange:e=>i({...r,meta:{...r.meta,seoKeywords:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}}),className:"mt-2"})]})]}),e.jsx(te,{value:"advanced",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"slug",children:"슬러그"}),e.jsx(W,{id:"slug",placeholder:"url-friendly-slug",value:r.slug||"",onChange:e=>i({...r,slug:e.target.value}),className:"mt-2"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"URL에 사용될 주소입니다. 비워두면 제목에서 자동 생성됩니다"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"excerpt",children:"요약"}),e.jsx(de,{id:"excerpt",placeholder:"페이지 요약을 입력하세요 (선택사항)",value:r.excerpt,onChange:e=>i({...r,excerpt:e.target.value}),className:"mt-2",rows:3})]})]})})]})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"wp-card",children:[e.jsx("div",{className:"wp-card-header",children:e.jsx("h3",{className:"font-medium",children:"게시"})}),e.jsxs("div",{className:"wp-card-body space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"상태:"}),e.jsxs(A,{variant:"published"===r.status?"default":"secondary",children:["draft"===r.status&&"임시저장","published"===r.status&&"게시됨","scheduled"===r.status&&"예약됨"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"공개 설정:"}),e.jsxs(le,{value:r.visibility,onValueChange:e=>i({...r,visibility:e}),children:[e.jsx(re,{className:"w-32",children:e.jsx(ie,{})}),e.jsxs(ne,{children:[e.jsx(ce,{value:"public",children:"공개"}),e.jsx(ce,{value:"private",children:"비공개"}),e.jsx(ce,{value:"password",children:"비밀번호"})]})]})]}),"password"===r.visibility&&e.jsxs("div",{children:[e.jsx(G,{htmlFor:"password",children:"비밀번호"}),e.jsx(W,{id:"password",type:"password",value:r.password||"",onChange:e=>i({...r,password:e.target.value}),className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(X,{variant:"outline",className:"flex-1",onClick:()=>f("draft"),disabled:N.isPending||w.isPending,children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"임시저장"]}),e.jsxs(X,{className:"flex-1",onClick:()=>f("published"),disabled:N.isPending||w.isPending,children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"게시"]})]})]})]}),e.jsxs("div",{className:"wp-card",children:[e.jsx("div",{className:"wp-card-header",children:e.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"페이지 속성"]})}),e.jsxs("div",{className:"wp-card-body space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"템플릿:"}),e.jsx("span",{className:"font-medium",children:ve.find(e=>e.value===r.template)?.label||"기본 템플릿"})]}),r.parentId&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"부모 페이지:"}),e.jsx("span",{className:"font-medium",children:p.find(e=>e.id===r.parentId)?.title||"-"})]}),r.order&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"순서:"}),e.jsx("span",{className:"font-medium",children:r.order})]})]})]})]})]})]})};export{he as A,ye as P,pe as R};
