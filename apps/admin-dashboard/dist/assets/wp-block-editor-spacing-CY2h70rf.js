import{a as e,s as t,c as n}from"./wp-i18n-BuBz6Sgx.js";import{j as i,u as a,a3 as o,a4 as s,b as l,a as r,I as c}from"./wp-block-editor-misc-Bvzg-2Jv.js";import{m as u,w as d,k as p,r as m,l as g,n as h,o as f,p as v,q as x,t as b,j as y}from"./vendor-react-DqgGMt48.js";import{__experimentalUseCustomUnits as S,__experimentalUnitControl as w,__experimentalParseQuantityAndUnitFromRawValue as _,__experimentalHStack as C,Icon as k,RangeControl as j,CustomSelectControl as z,Button as I,Tooltip as M,BaseControl as O,__experimentalVStack as R,__experimentalToolsPanelItem as D,SelectControl as A,__experimentalInputControlPrefixWrapper as P,__experimentalBoxControl as L,__experimentalToolsPanel as V,__experimentalToggleGroupControl as B,__experimentalToggleGroupControlOption as F}from"./wp-components-Uj2D7Nfy.js";import{c as H}from"./vendor-ui-CrFdsnXa.js";import{d as N}from"./wp-blocks-core-65VcejHr.js";import{by as T,bz as E,bA as U,bB as W,bC as $,bD as G,bE as q,bF as X,e as Y,f as K,I as Z,aZ as J,a_ as Q,aJ as ee,d as te}from"./wp-misc-DyLrwF9p.js";import{a as ne}from"./wp-block-editor-menus-CucXu4UM.js";import{a as ie}from"./wp-block-editor-core-BF86nm2P.js";import{s as ae}from"./wp-block-editor-store-BOagVFfu.js";import{d as oe,f as se,i as le,j as re}from"./wp-block-editor-utils-BmaAXcuk.js";import{b as ce,c as ue}from"./wp-block-editor-global-styles-DFEUywv4.js";import{l as de}from"./wp-core-BVMytgUH.js";var pe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,me=u(function(e){return pe.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),ge=function(e){return"theme"!==e},he=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?me:ge},fe=function(e,t,n){var i;if(t){var a=t.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!=typeof i&&n&&(i=e.__emotion_forwardProp),i},ve=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return v(t,n,i),x(function(){return b(t,n,i)}),null},xe=function e(t,n){var i,a,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var l=fe(t,n,o),r=l||he(s),c=!r("as");return function(){var u=arguments,v=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&v.push("label:"+i+";"),null==u[0]||void 0===u[0].raw)v.push.apply(v,u);else{var x=u[0];v.push(x[0]);for(var b=u.length,y=1;y<b;y++)v.push(u[y],x[y])}var S=d(function(e,t,n){var i=c&&e.as||s,o="",u=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=m.useContext(g)}"string"==typeof e.className?o=h(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var x=f(v.concat(u),t.registered,d);o+=t.key+"-"+x.name,void 0!==a&&(o+=" "+a);var b=c&&void 0===l?he(i):r,y={};for(var S in e)c&&"as"===S||b(S)&&(y[S]=e[S]);return y.className=o,n&&(y.ref=n),m.createElement(m.Fragment,null,m.createElement(ve,{cache:t,serialized:x,isStringTag:"string"==typeof i}),m.createElement(i,y))});return S.displayName=void 0!==i?i:"Styled("+("string"==typeof s?s:s.displayName||s.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=v,S.__emotion_forwardProp=l,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(t,i){return e(t,p({},n,i,{shouldForwardProp:fe(S,i,!0)})).apply(void 0,v)},S}};const be=["top","right","bottom","left"],ye={top:void 0,right:void 0,bottom:void 0,left:void 0},Se={custom:q,axial:q,horizontal:G,vertical:$,top:W,right:U,bottom:E,left:T},we={default:e("Spacing control"),top:e("Top"),bottom:e("Bottom"),left:e("Left"),right:e("Right"),mixed:e("Mixed"),vertical:e("Vertical"),horizontal:e("Horizontal"),axial:e("Horizontal & vertical"),custom:e("Custom")},_e="axial",Ce="custom";function ke(e){return!!e?.includes&&("0"===e||e.includes("var:preset|spacing|"))}function je(e,t){if(!ke(e))return e;const n=Me(e),i=t.find(e=>String(e.slug)===n);return i?.size}function ze(e,t){if(!e||ke(e)||"0"===e)return e;const n=t.find(t=>String(t.size)===String(e));return n?.slug?`var:preset|spacing|${n.slug}`:e}function Ie(e){if(!e)return;const t=e.match(/var:preset\|spacing\|(.+)/);return t?`var(--wp--preset--spacing--${t[1]})`:e}function Me(e){if(!e)return;if("0"===e||"default"===e)return e;const t=e.match(/var:preset\|spacing\|(.+)/);return t?t[1]:void 0}function Oe(e,t){if(!e||!e.length)return!1;const n=e.includes("horizontal")||e.includes("left")&&e.includes("right"),i=e.includes("vertical")||e.includes("top")&&e.includes("bottom");return"horizontal"===t?n:"vertical"===t?i:n||i}function Re(e,t="0"){const n=function(e){if(!e)return null;const t="string"==typeof e;return{top:t?e:e?.top,left:t?e:e?.left}}(e);if(!n)return null;const i=Ie(n?.top)||t,a=Ie(n?.left)||t;return i===a?i:`${i} ${a}`}function De({__next40pxDefaultSize:t=!1,value:n,onChange:a,__unstableInputWidth:o="60px",...s}){const[l]=i("spacing.units"),r=S({availableUnits:l||["px","em","rem"],defaultValues:{px:2,em:.2,rem:.2}});return y.jsx(w,{__next40pxDefaultSize:t,...s,label:e("Letter spacing"),value:n,__unstableInputWidth:o,units:r,onChange:a})}const Ae={px:{max:300,steps:1},"%":{max:100,steps:1},vw:{max:100,steps:1},vh:{max:100,steps:1},em:{max:10,steps:.1},rm:{max:10,steps:.1},svw:{max:100,steps:1},lvw:{max:100,steps:1},dvw:{max:100,steps:1},svh:{max:100,steps:1},lvh:{max:100,steps:1},dvh:{max:100,steps:1},vi:{max:100,steps:1},svi:{max:100,steps:1},lvi:{max:100,steps:1},dvi:{max:100,steps:1},vb:{max:100,steps:1},svb:{max:100,steps:1},lvb:{max:100,steps:1},dvb:{max:100,steps:1},vmin:{max:100,steps:1},svmin:{max:100,steps:1},lvmin:{max:100,steps:1},dvmin:{max:100,steps:1},vmax:{max:100,steps:1},svmax:{max:100,steps:1},lvmax:{max:100,steps:1},dvmax:{max:100,steps:1}};function Pe({icon:n,isMixed:o=!1,minimumCustomValue:s,onChange:l,onMouseOut:r,onMouseOver:c,showSideInLabel:u=!0,side:d,spacingSizes:p,type:g,value:h}){var f,v;h=ze(h,p);let x=p;const b=p.length<=8,M=a(e=>{const t=e(ae).getSettings();return t?.disableCustomSpacingSizes}),[O,R]=m.useState(!M&&void 0!==h&&!ke(h)),[D,A]=m.useState(s),P=de(h);h&&P!==h&&!ke(h)&&!0!==O&&R(!0);const[L]=i("spacing.units"),V=S({availableUnits:L||["px","em","rem"]});let B=null;!b&&!O&&void 0!==h&&(!ke(h)||ke(h)&&o)?(x=[...p,{name:o?e("Mixed"):t(e("Custom (%s)"),h),slug:"custom",size:h}],B=x.length-1):o||(B=O?je(h,p):function(e,t){if(void 0===e)return 0;const n=0===parseFloat(e,10)?"0":Me(e),i=t.findIndex(e=>String(e.slug)===n);return-1!==i?i:NaN}(h,p));const F=m.useMemo(()=>_(B),[B])[1]||V[0]?.value,H=parseFloat(B,10),N=(e,t)=>{const n=parseInt(e,10);if("selectList"===t){if(0===n)return;if(1===n)return"0"}else if(0===n)return"0";return`var:preset|spacing|${p[e]?.slug}`},T=o?e("Mixed"):null,E=x.map((e,t)=>({key:t,name:e.name})),U=p.slice(1,p.length-1).map((e,t)=>({value:t+1,label:void 0})),W=be.includes(d)&&u?we[d]:"",$=u?g?.toLowerCase():g,G=t(e("%1$s %2$s"),W,$).trim();return y.jsxs(C,{className:"spacing-sizes-control__wrapper",children:[n&&y.jsx(k,{className:"spacing-sizes-control__icon",icon:n,size:24}),O&&y.jsxs(y.Fragment,{children:[y.jsx(w,{onMouseOver:c,onMouseOut:r,onFocus:c,onBlur:r,onChange:e=>l((e=>isNaN(parseFloat(e))?void 0:e)(e)),value:B,units:V,min:D,placeholder:T,disableUnits:o,label:G,hideLabelFromVision:!0,className:"spacing-sizes-control__custom-value-input",size:"__unstable-large",onDragStart:()=>{"-"===h?.charAt(0)&&A(0)},onDrag:()=>{"-"===h?.charAt(0)&&A(0)},onDragEnd:()=>{A(s)}}),y.jsx(j,{__next40pxDefaultSize:!0,onMouseOver:c,onMouseOut:r,onFocus:c,onBlur:r,value:H,min:0,max:null!==(f=Ae[F]?.max)&&void 0!==f?f:10,step:null!==(v=Ae[F]?.steps)&&void 0!==v?v:.1,withInputField:!1,onChange:e=>{l([e,F].join(""))},className:"spacing-sizes-control__custom-value-range",__nextHasNoMarginBottom:!0,label:G,hideLabelFromVision:!0})]}),b&&!O&&y.jsx(j,{__next40pxDefaultSize:!0,onMouseOver:c,onMouseOut:r,className:"spacing-sizes-control__range-control",value:B,onChange:e=>l(N(e)),onMouseDown:e=>{e?.nativeEvent?.offsetX<35&&void 0===h&&l("0")},withInputField:!1,"aria-valuenow":B,"aria-valuetext":p[B]?.name,renderTooltipContent:e=>void 0===h?void 0:p[e]?.name,min:0,max:p.length-1,marks:U,label:G,hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,onFocus:c,onBlur:r}),!b&&!O&&y.jsx(z,{className:"spacing-sizes-control__custom-select-control",value:E.find(e=>e.key===B)||"",onChange:e=>{l(N(e.selectedItem.key,"selectList"))},options:E,label:G,hideLabelFromVision:!0,size:"__unstable-large",onMouseOver:c,onMouseOut:r,onFocus:c,onBlur:r}),!M&&y.jsx(I,{label:e(O?"Use size preset":"Set custom size"),icon:X,onClick:()=>{R(!O)},isPressed:O,size:"small",className:"spacing-sizes-control__custom-toggle",iconSize:24})]})}const Le=["vertical","horizontal"];function Ve({minimumCustomValue:e,onChange:t,onMouseOut:n,onMouseOver:i,sides:a,spacingSizes:o,type:s,values:l}){const r=e=>n=>{if(!t)return;const i={...Object.keys(l).reduce((e,t)=>(e[t]=ze(l[t],o),e),{})};"vertical"===e&&(i.top=n,i.bottom=n),"horizontal"===e&&(i.left=n,i.right=n),t(i)},c=a?.length?Le.filter(e=>Oe(a,e)):Le;return y.jsx(y.Fragment,{children:c.map(t=>{const a="vertical"===t?l.top:l.left;return y.jsx(Pe,{icon:Se[t],label:we[t],minimumCustomValue:e,onChange:r(t),onMouseOut:n,onMouseOver:i,side:t,spacingSizes:o,type:s,value:a,withInputField:!1},`spacing-sizes-control-${t}`)})})}function Be({minimumCustomValue:e,onChange:t,onMouseOut:n,onMouseOver:i,sides:a,spacingSizes:o,type:s,values:l}){const r=a?.length?be.filter(e=>a.includes(e)):be,c=e=>n=>{const i={...Object.keys(l).reduce((e,t)=>(e[t]=ze(l[t],o),e),{})};i[e]=n,t(i)};return y.jsx(y.Fragment,{children:r.map(t=>y.jsx(Pe,{icon:Se[t],label:we[t],minimumCustomValue:e,onChange:c(t),onMouseOut:n,onMouseOver:i,side:t,spacingSizes:o,type:s,value:l[t],withInputField:!1},`spacing-sizes-control-${t}`))})}function Fe({minimumCustomValue:e,onChange:t,onMouseOut:n,onMouseOver:i,showSideInLabel:a,side:o,spacingSizes:s,type:l,values:r}){return y.jsx(Pe,{label:we[o],minimumCustomValue:e,onChange:(c=o,e=>{const n={...Object.keys(r).reduce((e,t)=>(e[t]=ze(r[t],s),e),{})};n[c]=e,t(n)}),onMouseOut:n,onMouseOver:i,showSideInLabel:a,side:o,spacingSizes:s,type:l,value:r[o],withInputField:!1});var c}function He({isLinked:n,...i}){const a=n?t(e("Unlink %1$s"),i.label.toLowerCase()).trim():t(e("Link %1$s"),i.label.toLowerCase()).trim();return y.jsx(M,{text:a,children:y.jsx(I,{...i,size:"small",icon:n?Y:K,iconSize:24,"aria-label":a})})}const Ne=[],Te=new Intl.Collator("und",{numeric:!0}).compare;function Ee(){const[t,n,a,o]=i("spacing.spacingSizes.custom","spacing.spacingSizes.theme","spacing.spacingSizes.default","spacing.defaultSpacingSizes"),s=null!=t?t:Ne,l=null!=n?n:Ne,r=a&&!1!==o?a:Ne;return m.useMemo(()=>{const t=[{name:e("None"),slug:"0",size:0},...s,...l,...r];return t.every(({slug:e})=>/^[0-9]/.test(e))&&t.sort((e,t)=>Te(e.slug,t.slug)),t.length>8?[{name:e("Default"),slug:"default",size:void 0},...t]:t},[s,l,r])}function Ue({inputProps:n,label:i,minimumCustomValue:a=0,onChange:o,onMouseOut:s,onMouseOver:l,showSideInLabel:r=!0,sides:c=be,useSelect:u,values:d}){const p=Ee(),g=d||ye,h=1===c?.length,f=c?.includes("horizontal")&&c?.includes("vertical")&&2===c?.length,[v,x]=m.useState(function(e={},t){const{top:n,right:i,bottom:a,left:o}=e,s=[n,i,a,o].filter(Boolean),l=!(n!==a||o!==i||!n&&!o),r=!s.length&&function(e=[]){const t={top:0,right:0,bottom:0,left:0};return e.forEach(e=>t[e]+=1),(t.top+t.bottom)%2==0&&(t.left+t.right)%2==0}(t),c=t?.includes("horizontal")&&t?.includes("vertical")&&2===t?.length;if(Oe(t)&&(l||r))return _e;if(c&&1===s.length){let t;return Object.entries(e).some(([e,n])=>(t=e,void 0!==n)),t}return 1!==t?.length||s.length?Ce:t[0]}(g,c)),b={...n,minimumCustomValue:a,onChange:e=>{const t={...d,...e};o(t)},onMouseOut:s,onMouseOver:l,sides:c,spacingSizes:p,type:i,useSelect:u,values:g},S=be.includes(v)&&r?we[v]:"",w=t(e("%1$s %2$s"),i,S).trim();return y.jsxs("fieldset",{className:"spacing-sizes-control",children:[y.jsxs(C,{className:"spacing-sizes-control__header",children:[y.jsx(O.VisualLabel,{as:"legend",className:"spacing-sizes-control__label",children:w}),!h&&!f&&y.jsx(He,{label:i,onClick:()=>{x(v===_e?Ce:_e)},isLinked:v===_e})]}),y.jsx(R,{spacing:.5,children:v===_e?y.jsx(Ve,{...b}):v===Ce?y.jsx(Be,{...b}):y.jsx(Fe,{side:v,...b,showSideInLabel:r})})]})}function We({panelId:t,value:a,onChange:o=()=>{},options:s,defaultValue:l="auto",hasValue:r,isShownByDefault:c=!0}){const u=null!=a?a:"auto",[d,p,m]=i("dimensions.aspectRatios.default","dimensions.aspectRatios.theme","dimensions.defaultAspectRatios"),g=p?.map(({name:e,ratio:t})=>({label:e,value:t})),h=d?.map(({name:e,ratio:t})=>({label:e,value:t})),f=[{label:n("Original","Aspect ratio option for dimensions control"),value:"auto"},...m?h:[],...g||[],{label:n("Custom","Aspect ratio option for dimensions control"),value:"custom",disabled:!0,hidden:!0}];return y.jsx(D,{hasValue:r||(()=>u!==l),label:e("Aspect ratio"),onDeselect:()=>o(void 0),isShownByDefault:c,panelId:t,children:y.jsx(A,{label:e("Aspect ratio"),value:u,options:null!=s?s:f,onChange:o,size:"__unstable-large",__nextHasNoMarginBottom:!0})})}const $e=["horizontal","vertical"];function Ge(e){const t=qe(e),n=Xe(e),i=Ye(e),a=Ke(e),o=Ze(e),s=Je(e),l=Qe(e),r=et(e);return t||n||i||a||o||s||l||r}function qe(e){return e?.layout?.contentSize}function Xe(e){return e?.layout?.wideSize}function Ye(e){return e?.spacing?.padding}function Ke(e){return e?.spacing?.margin}function Ze(e){return e?.spacing?.blockGap}function Je(e){return e?.dimensions?.minHeight}function Qe(e){return e?.dimensions?.aspectRatio}function et(e){var t;const{type:n="default",default:{type:i="default"}={},allowSizingOnChildren:a=!1}=null!==(t=e?.parentLayout)&&void 0!==t?t:{},o=("flex"===i||"flex"===n||"grid"===i||"grid"===n)&&a;return!!e?.layout&&o}function tt(e,t){if(!t||!e)return e;const n={};return t.forEach(t=>{"vertical"===t&&(n.top=e.top,n.bottom=e.bottom),"horizontal"===t&&(n.left=e.left,n.right=e.right),n[t]=e?.[t]}),n}function nt(e){return e&&"string"==typeof e?{top:e,right:e,bottom:e,left:e}:e}function it({resetAllFilter:t,onChange:n,value:i,panelId:a,children:o}){const s=ue();return y.jsx(V,{label:e("Dimensions"),resetAll:()=>{const e=t(i);n(e)},panelId:a,dropdownMenuProps:s,children:o})}const at={contentSize:!0,wideSize:!0,padding:!0,margin:!0,blockGap:!0,minHeight:!0,aspectRatio:!0,childLayout:!0};function ot({as:t=it,value:n,onChange:i,inheritedValue:a=n,settings:l,panelId:r,defaultControls:c=at,onVisualize:u=()=>{},includeLayoutControls:d=!1}){var p,g,h,f,v,x,b,_;const{dimensions:C,spacing:k}=l,j=e=>e&&"object"==typeof e?Object.keys(e).reduce((t,n)=>(t[n]=ce({settings:{dimensions:C,spacing:k}},"",e[n]),t),{}):ce({settings:{dimensions:C,spacing:k}},"",e),z=function(e){const{defaultSpacingSizes:t,spacingSizes:n}=e?.spacing||{};return!1!==t&&n?.default?.length>0||n?.theme?.length>0||n?.custom?.length>0}(l),I=S({availableUnits:l?.spacing?.units||["%","px","em","rem","vw"]}),M=-1/0,[O,R]=m.useState(M),A=qe(l)&&d,V=j(a?.layout?.contentSize),B=e=>{i(se(n,["layout","contentSize"],e||void 0))},F=Xe(l)&&d,N=j(a?.layout?.wideSize),T=e=>{i(se(n,["layout","wideSize"],e||void 0))},E=Ye(l),U=nt(j(a?.spacing?.padding)),W=Array.isArray(l?.spacing?.padding)?l?.spacing?.padding:l?.spacing?.padding?.sides,$=W&&W.some(e=>$e.includes(e)),G=e=>{const t=tt(e,W);i(se(n,["spacing","padding"],t))},q=()=>u("padding"),X=Ke(l),Y=nt(j(a?.spacing?.margin)),K=Array.isArray(l?.spacing?.margin)?l?.spacing?.margin:l?.spacing?.margin?.sides,ee=K&&K.some(e=>$e.includes(e)),te=e=>{const t=tt(e,K);i(se(n,["spacing","margin"],t))},ne=()=>u("margin"),ie=Ze(l),ae=j(a?.spacing?.blockGap),le=function(e){return e&&"string"==typeof e?{top:e}:e?{...e,right:e?.left,bottom:e?.top}:e}(ae),re=Array.isArray(l?.spacing?.blockGap)?l?.spacing?.blockGap:l?.spacing?.blockGap?.sides,ue=re&&re.some(e=>$e.includes(e)),de=e=>{i(se(n,["spacing","blockGap"],e))},pe=e=>{e||de(null),!ue&&e?.hasOwnProperty("top")?de(e.top):de({top:e?.top,left:e?.left})},me=Je(l),ge=j(a?.dimensions?.minHeight),he=e=>{const t=se(n,["dimensions","minHeight"],e);i(se(t,["dimensions","aspectRatio"],void 0))},fe=Qe(l),ve=j(a?.dimensions?.aspectRatio),xe=et(l),be=a?.layout,ye=m.useCallback(e=>({...e,layout:oe({...e?.layout,contentSize:void 0,wideSize:void 0,selfStretch:void 0,flexSize:void 0,columnStart:void 0,rowStart:void 0,columnSpan:void 0,rowSpan:void 0}),spacing:{...e?.spacing,padding:void 0,margin:void 0,blockGap:void 0},dimensions:{...e?.dimensions,minHeight:void 0,aspectRatio:void 0}}),[]),Se=()=>u(!1),we={min:O,onDragStart:()=>{R(0)},onDragEnd:()=>{R(M)}};return y.jsxs(t,{resetAllFilter:ye,value:n,onChange:i,panelId:r,children:[(A||F)&&y.jsx("span",{className:"span-columns",children:e("Set the width of the main content area.")}),A&&y.jsx(D,{label:e("Content width"),hasValue:()=>!!n?.layout?.contentSize,onDeselect:()=>B(void 0),isShownByDefault:null!==(p=c.contentSize)&&void 0!==p?p:at.contentSize,panelId:r,children:y.jsx(w,{__next40pxDefaultSize:!0,label:e("Content width"),labelPosition:"top",value:V||"",onChange:e=>{B(e)},units:I,prefix:y.jsx(P,{variant:"icon",children:y.jsx(Z,{icon:J})})})}),F&&y.jsx(D,{label:e("Wide width"),hasValue:()=>!!n?.layout?.wideSize,onDeselect:()=>T(void 0),isShownByDefault:null!==(g=c.wideSize)&&void 0!==g?g:at.wideSize,panelId:r,children:y.jsx(w,{__next40pxDefaultSize:!0,label:e("Wide width"),labelPosition:"top",value:N||"",onChange:e=>{T(e)},units:I,prefix:y.jsx(P,{variant:"icon",children:y.jsx(Z,{icon:Q})})})}),E&&y.jsxs(D,{hasValue:()=>!!n?.spacing?.padding&&Object.keys(n?.spacing?.padding).length,label:e("Padding"),onDeselect:()=>G(void 0),isShownByDefault:null!==(h=c.padding)&&void 0!==h?h:at.padding,className:H({"tools-panel-item-spacing":z}),panelId:r,children:[!z&&y.jsx(L,{__next40pxDefaultSize:!0,values:U,onChange:G,label:e("Padding"),sides:W,units:I,allowReset:!1,splitOnAxis:$,onMouseOver:q,onMouseOut:Se}),z&&y.jsx(Ue,{values:U,onChange:G,label:e("Padding"),sides:W,units:I,allowReset:!1,onMouseOver:q,onMouseOut:Se})]}),X&&y.jsxs(D,{hasValue:()=>!!n?.spacing?.margin&&Object.keys(n?.spacing?.margin).length,label:e("Margin"),onDeselect:()=>te(void 0),isShownByDefault:null!==(f=c.margin)&&void 0!==f?f:at.margin,className:H({"tools-panel-item-spacing":z}),panelId:r,children:[!z&&y.jsx(L,{__next40pxDefaultSize:!0,values:Y,onChange:te,inputProps:we,label:e("Margin"),sides:K,units:I,allowReset:!1,splitOnAxis:ee,onMouseOver:ne,onMouseOut:Se}),z&&y.jsx(Ue,{values:Y,onChange:te,minimumCustomValue:-1/0,label:e("Margin"),sides:K,units:I,allowReset:!1,onMouseOver:ne,onMouseOut:Se})]}),ie&&y.jsxs(D,{hasValue:()=>!!n?.spacing?.blockGap,label:e("Block spacing"),onDeselect:()=>de(void 0),isShownByDefault:null!==(v=c.blockGap)&&void 0!==v?v:at.blockGap,className:H({"tools-panel-item-spacing":z,"single-column":!z&&!ue}),panelId:r,children:[!z&&(ue?y.jsx(L,{__next40pxDefaultSize:!0,label:e("Block spacing"),min:0,onChange:pe,units:I,sides:re,values:le,allowReset:!1,splitOnAxis:ue}):y.jsx(w,{__next40pxDefaultSize:!0,label:e("Block spacing"),min:0,onChange:de,units:I,value:ae})),z&&y.jsx(Ue,{label:e("Block spacing"),min:0,onChange:pe,showSideInLabel:!1,sides:ue?re:["top"],values:le,allowReset:!1})]}),xe&&y.jsx(o,{value:be,onChange:e=>{i({...n,layout:{...e}})},parentLayout:l?.parentLayout,panelId:r,isShownByDefault:null!==(x=c.childLayout)&&void 0!==x?x:at.childLayout}),me&&y.jsx(D,{hasValue:()=>!!n?.dimensions?.minHeight,label:e("Minimum height"),onDeselect:()=>{he(void 0)},isShownByDefault:null!==(b=c.minHeight)&&void 0!==b?b:at.minHeight,panelId:r,children:y.jsx(s,{label:e("Minimum height"),value:ge,onChange:he})}),fe&&y.jsx(We,{hasValue:()=>!!n?.dimensions?.aspectRatio,value:ve,onChange:e=>{const t=se(n,["dimensions","aspectRatio"],e);i(se(t,["dimensions","minHeight"],void 0))},panelId:r,isShownByDefault:null!==(_=c.aspectRatio)&&void 0!==_?_:at.aspectRatio})]})}function st({clientId:e,value:t,computeStyle:n,forceShow:i}){const a=ie(e),[o,s]=m.useReducer(()=>n(a));m.useLayoutEffect(()=>{a&&window.requestAnimationFrame(()=>window.requestAnimationFrame(s))},[a,t]);const l=m.useRef(t),[r,c]=m.useState(!1);return m.useEffect(()=>{if(ee(t,l.current)||i)return;c(!0),l.current=t;const e=setTimeout(()=>{c(!1)},400);return()=>{c(!1),clearTimeout(e)}},[t,i]),r||i?y.jsx(ne,{clientId:e,__unstablePopoverSlot:"block-toolbar",children:y.jsx("div",{className:"block-editor__spacing-visualizer",style:o})}):null}function lt(e,t){return e.ownerDocument.defaultView.getComputedStyle(e).getPropertyValue(t)}function rt({clientId:e,value:t,forceShow:n}){return y.jsx(st,{clientId:e,value:t?.spacing?.margin,computeStyle:e=>{const t=lt(e,"margin-top"),n=lt(e,"margin-right"),i=lt(e,"margin-bottom"),a=lt(e,"margin-left");return{borderTopWidth:t,borderRightWidth:n,borderBottomWidth:i,borderLeftWidth:a,top:t?`-${t}`:0,right:n?`-${n}`:0,bottom:i?`-${i}`:0,left:a?`-${a}`:0}},forceShow:n})}function ct({clientId:e,value:t,forceShow:n}){return y.jsx(st,{clientId:e,value:t?.spacing?.padding,computeStyle:e=>({borderTopWidth:lt(e,"padding-top"),borderRightWidth:lt(e,"padding-right"),borderBottomWidth:lt(e,"padding-bottom"),borderLeftWidth:lt(e,"padding-left")}),forceShow:n})}const ut="dimensions",dt="spacing";function pt({children:e,resetAllFilter:t}){const n=m.useCallback(e=>{const n=e.style,i=t(n);return{...e,style:i}},[t]);return y.jsx(c,{group:"dimensions",resetAllFilter:n,children:e})}function mt({clientId:e,name:t,setAttributes:n,settings:i}){const o=Ge(i),s=a(t=>t(ae).getBlockAttributes(e)?.style,[e]),[c,u]=function(){const[e,t]=m.useState(!1),{hideBlockInterface:n,showBlockInterface:i}=l(r(ae));return m.useEffect(()=>{e?n():i()},[e,i,n]),[e,t]}();if(!o)return null;const d={...N(t,[ut,"__experimentalDefaultControls"]),...N(t,[dt,"__experimentalDefaultControls"])};return y.jsxs(y.Fragment,{children:[y.jsx(ot,{as:pt,panelId:e,settings:i,value:s,onChange:e=>{n({style:oe(e)})},defaultControls:d,onVisualize:u}),!!i?.spacing?.padding&&y.jsx(ct,{forceShow:"padding"===c,clientId:e,value:s}),!!i?.spacing?.margin&&y.jsx(rt,{forceShow:"margin"===c,clientId:e,value:s})]})}function gt(e,t="any"){const n=N(e,ut);return!0===n||("any"===t?!(!n?.aspectRatio&&!n?.minHeight):!!n?.[t])}const ht={useBlockProps:function({name:e,minHeight:t,style:n}){if(!gt(e,"aspectRatio")||le(e,ut,"aspectRatio"))return{};const i=H({"has-aspect-ratio":!!n?.dimensions?.aspectRatio}),a={};n?.dimensions?.aspectRatio?a.minHeight="unset":(t||n?.dimensions?.minHeight)&&(a.aspectRatio="unset");return{className:i,style:a}},attributeKeys:["minHeight","style"],hasSupport:e=>gt(e,"aspectRatio")};function ft(){te("wp.blockEditor.__experimentalUseCustomSides",{since:"6.3",version:"6.4"})}function vt(e){const{style:t}=e;return{style:re({spacing:t?.spacing||{}})}}const xt=[{value:"fill",label:n("Fill","Scale option for dimensions control"),help:e("Fill the space by stretching the content.")},{value:"contain",label:n("Contain","Scale option for dimensions control"),help:e("Fit the content to the space without clipping.")},{value:"cover",label:n("Cover","Scale option for dimensions control"),help:e("Fill the space by clipping what doesn't fit.")},{value:"none",label:n("None","Scale option for dimensions control"),help:e("Do not adjust the sizing of the content. Content that is too large will be clipped, and content that is too small will have additional padding.")},{value:"scale-down",label:n("Scale down","Scale option for dimensions control"),help:e("Scale down the content to fit the space if it is too big. Content that is too small will have additional padding.")}];function bt({panelId:t,value:n,onChange:i,options:a=xt,defaultValue:o=xt[0].value,isShownByDefault:s=!0}){const l=null!=n?n:"fill",r=m.useMemo(()=>a.reduce((e,t)=>(e[t.value]=t.help,e),{}),[a]);return y.jsx(D,{label:e("Scale"),isShownByDefault:s,hasValue:()=>l!==o,onDeselect:()=>i(o),panelId:t,children:y.jsx(B,{__nextHasNoMarginBottom:!0,label:e("Scale"),isBlock:!0,help:r[l],value:l,onChange:i,size:"__unstable-large",children:a.map(e=>y.jsx(F,{...e},e.value))})})}const yt=xe(D,{target:"ef8pe3d0"})({name:"957xgf",styles:"grid-column:span 1"});function St({panelId:t,value:n={},onChange:i=()=>{},units:a,isShownByDefault:o=!0}){var s,l;const r="auto"===n.width?"":null!==(s=n.width)&&void 0!==s?s:"",c="auto"===n.height?"":null!==(l=n.height)&&void 0!==l?l:"",u=e=>t=>{const a={...n};t?a[e]=t:delete a[e],i(a)};return y.jsxs(y.Fragment,{children:[y.jsx(yt,{label:e("Width"),isShownByDefault:o,hasValue:()=>""!==r,onDeselect:u("width"),panelId:t,children:y.jsx(w,{label:e("Width"),placeholder:e("Auto"),labelPosition:"top",units:a,min:0,value:r,onChange:u("width"),size:"__unstable-large"})}),y.jsx(yt,{label:e("Height"),isShownByDefault:o,hasValue:()=>""!==c,onDeselect:u("height"),panelId:t,children:y.jsx(w,{label:e("Height"),placeholder:e("Auto"),labelPosition:"top",units:a,min:0,value:c,onChange:u("height"),size:"__unstable-large"})})]})}function wt({panelId:e,value:t={},onChange:n=()=>{},aspectRatioOptions:i,defaultAspectRatio:a="auto",scaleOptions:o,defaultScale:s="fill",unitsOptions:l,tools:r=["aspectRatio","widthHeight","scale"]}){const c=void 0===t.width||"auto"===t.width?null:t.width,u=void 0===t.height||"auto"===t.height?null:t.height,d=void 0===t.aspectRatio||"auto"===t.aspectRatio?null:t.aspectRatio,p=void 0===t.scale||"fill"===t.scale?null:t.scale,[g,h]=m.useState(p),[f,v]=m.useState(d),x=c&&u?"custom":f,b=d||c&&u;return y.jsxs(y.Fragment,{children:[r.includes("aspectRatio")&&y.jsx(We,{panelId:e,options:i,defaultValue:a,value:x,onChange:e=>{const i={...t};v(e="auto"===e?null:e),e?i.aspectRatio=e:delete i.aspectRatio,e?g?i.scale=g:(i.scale=s,h(s)):delete i.scale,"custom"!==e&&c&&u&&delete i.height,n(i)}}),r.includes("widthHeight")&&y.jsx(St,{panelId:e,units:l,value:{width:c,height:u},onChange:({width:e,height:i})=>{const a={...t};i="auto"===i?null:i,(e="auto"===e?null:e)?a.width=e:delete a.width,i?a.height=i:delete a.height,e&&i?delete a.aspectRatio:f&&(a.aspectRatio=f),f||!!e==!!i?g?a.scale=g:(a.scale=s,h(s)):delete a.scale,n(a)}}),r.includes("scale")&&b&&y.jsx(bt,{panelId:e,options:o,defaultValue:s,value:g,onChange:e=>{const i={...t};h(e="fill"===e?null:e),e?i.scale=e:delete i.scale,n(i)}})]})}export{wt as D,De as L,Ue as S,ot as a,Ge as b,ft as c,vt as d,Ie as e,je as f,Re as g,ut as h,ke as i,dt as j,mt as k,ht as l,xe as m,Ee as u};
