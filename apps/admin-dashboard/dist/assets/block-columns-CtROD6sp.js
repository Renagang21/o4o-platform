import{C as e,j as t,M as l,P as o}from"./vendor-react-B2e3hjul.js";import"./vendor-monaco-BxJH8uUv.js";const n=()=>{if(!window.wp?.blocks?.registerBlockType)return;const{registerBlockType:n,createBlock:i}=window.wp.blocks,{InnerBlocks:s,useBlockProps:a,InspectorControls:c,BlockControls:r,BlockVerticalAlignmentToolbar:d}=window.wp.blockEditor,{PanelBody:u,RangeControl:m,SelectControl:p,ToggleControl:b,ToolbarGroup:g,ToolbarButton:x}=window.wp.components,{useSelect:v,useDispatch:h}=window.wp.data;n("o4o/columns",{title:"Columns",description:"Display content in multiple columns",category:"design",icon:e,supports:{align:["wide","full"],anchor:!0,html:!1,color:{background:!0,text:!0},spacing:{padding:!0,margin:!0}},attributes:{columns:{type:"number",default:2},verticalAlignment:{type:"string",default:void 0},isStackedOnMobile:{type:"boolean",default:!0},gap:{type:"number",default:20}},edit:function({attributes:e,setAttributes:n,clientId:k}){const{columns:f,verticalAlignment:w,isStackedOnMobile:j,gap:C}=e,{insertBlock:B,removeBlock:y}=h("core/block-editor"),A=v(e=>{const{getBlock:t}=e("core/block-editor");return t(k)?.innerBlocks||[]},[k]),S=e=>{const t=A.length;if(e>t)for(let l=t;l<e;l++){const t=i("o4o/column",{width:100/e});B(t,l,k,!1)}else if(e<t)for(let l=t-1;l>=e;l--)A[l]&&y(A[l].clientId,!1);A.slice(0,e).forEach(t=>{t.attributes.width=100/e}),n({columns:e})},T=a({className:"o4o-columns-block "+(j?"stack-on-mobile":""),style:{display:"flex",gap:`${C}px`,alignItems:"center"===w?"center":"bottom"===w?"flex-end":"flex-start"}});return t.jsxs(t.Fragment,{children:[t.jsxs(r,{children:[t.jsx(d,{onChange:e=>n({verticalAlignment:e}),value:w}),t.jsxs(g,{children:[t.jsx(x,{icon:l,title:"Remove column",onClick:()=>f>1&&S(f-1),disabled:f<=1}),t.jsx(x,{icon:o,title:"Add column",onClick:()=>f<6&&S(f+1),disabled:f>=6})]})]}),t.jsx(c,{children:t.jsxs(u,{title:"Columns Settings",initialOpen:!0,children:[t.jsx(m,{label:"Number of Columns",value:f,onChange:e=>e&&S(e),min:1,max:6,step:1}),t.jsx(m,{label:"Gap between columns",value:C,onChange:e=>n({gap:e||0}),min:0,max:100,step:5}),t.jsx(p,{label:"Vertical Alignment",value:w||"",options:[{label:"Default",value:""},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"}],onChange:e=>n({verticalAlignment:""===e?void 0:e})}),t.jsx(b,{label:"Stack on Mobile",checked:j,onChange:e=>n({isStackedOnMobile:e}),disabled:!1,className:"",__nextHasNoMarginBottom:!1})]})}),t.jsx("div",{...T,children:t.jsx(s,{allowedBlocks:["o4o/column"],template:Array(f).fill(["o4o/column",{width:100/f}]),templateLock:!1,renderAppender:!1})})]})},save:({attributes:e})=>{const{verticalAlignment:l,isStackedOnMobile:o,gap:n}=e,i=a.save({className:"o4o-columns-block "+(o?"stack-on-mobile":""),style:{display:"flex",gap:`${n}px`,alignItems:"center"===l?"center":"bottom"===l?"flex-end":"flex-start"}});return t.jsx("div",{...i,children:t.jsx(s.Content,{})})}}),n("o4o/column",{title:"Column",description:"A single column within a columns block",category:"design",parent:["o4o/columns"],supports:{reusable:!1,html:!1,color:{background:!0,text:!0},spacing:{padding:!0}},attributes:{width:{type:"number",default:void 0},verticalAlignment:{type:"string",default:void 0}},edit:function({attributes:e,setAttributes:l}){const{width:o,verticalAlignment:n}=e,i=a({className:"o4o-column-block",style:{flexBasis:o?`${o}%`:void 0,alignSelf:"center"===n?"center":"bottom"===n?"flex-end":"stretch"===n?"stretch":"flex-start"}});return t.jsxs(t.Fragment,{children:[t.jsx(c,{children:t.jsxs(u,{title:"Column Settings",initialOpen:!0,children:[t.jsx(m,{label:"Width (%)",value:o||0,onChange:e=>l({width:e}),min:10,max:100,step:1}),t.jsx(p,{label:"Vertical Alignment",value:n||"",options:[{label:"Default",value:""},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Stretch",value:"stretch"}],onChange:e=>l({verticalAlignment:""===e?void 0:e})})]})}),t.jsx("div",{...i,children:t.jsx(s,{allowedBlocks:!0,renderAppender:s.ButtonBlockAppender})})]})},save:({attributes:e})=>{const{width:l,verticalAlignment:o}=e,n=a.save({className:"o4o-column-block",style:{flexBasis:l?`${l}%`:void 0,alignSelf:"center"===o?"center":"bottom"===o?"flex-end":"stretch"===o?"stretch":"flex-start"}});return t.jsx("div",{...n,children:t.jsx(s.Content,{})})}})};window.wp?.blocks?.registerBlockType?n():document.addEventListener("DOMContentLoaded",n);export{n as registerColumnsBlock};
