import{j as e,r as t}from"./vendor-react-BQ6HOJoh.js";import{C as n,t as o,v as a,z as i,w as s,i as l,V as r,A as u,a as c,D as p,ca as f,cb as h,m as y,E as m}from"./wp-block-editor-utils-M5qXzE1L.js";import{H as g,M as d,a as v,_ as S,bF as x,s as b,T as z,bJ as _,V as F,I as w,a2 as j,O as k,G as C,J as D,c as W,L as $,ab as B,g as N,a1 as M,a3 as I,X as T,bT as V,bU as A,q as L,Z as H,u as E,$ as O}from"./wp-block-editor-misc-pHCPYvR2.js";import{h as q,d as P}from"./wp-blocks-core-6vwQKPfS.js";import"./wp-block-editor-a11y-DrduSWFW.js";import{L as R}from"./wp-block-editor-spacing-BD_2CpN7.js";import{T as U}from"./wp-block-editor-transforms-jLcKa8Hv.js";import{b as X,c as J}from"./wp-block-editor-global-styles-CV5-K6QF.js";import{c as K,C as G}from"./wp-block-editor-colors-D38h-Odz.js";import{aC as Z}from"./wp-block-editor-library-BpQvynjE.js";import{T as Q}from"./wp-misc-DS9m4_P2.js";import{s as Y}from"./wp-block-editor-store-B-g1aSix.js";import{p as ee}from"./wp-block-editor-api-Buev8_QU.js";import{c as te}from"./vendor-ui-CrFdsnXa.js";const ne={"default.fontFamily":"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif","default.fontSize":"13px","helpText.fontSize":"12px",mobileTextMinFontSize:"16px"};function oe(e){var t;return null!==(t=ne[e])&&void 0!==t?t:""}const ae={body:13,caption:10,footnote:11,largeTitle:28,subheadline:12,title:20},ie=[1,2,3,4,5,6].flatMap(e=>[e,e.toString()]);function se(e=13){if(e in ae)return se(ae[e]);if("number"!=typeof e){const t=parseFloat(e);if(Number.isNaN(t))return e;e=t}return`calc(${`(${e} / 13)`} * ${n.fontSize})`}function le(e=3){if(!ie.includes(e))return se(e);return n[`fontSizeH${e}`]}function re(e,t){if(t)return t;if(!e)return;let a=`calc(${n.controlHeight} + ${o(2)})`;switch(e){case"large":a=`calc(${n.controlHeightLarge} + ${o(2)})`;break;case"small":a=`calc(${n.controlHeightSmall} + ${o(2)})`;break;case"xSmall":a=`calc(${n.controlHeightXSmall} + ${o(2)})`}return a}function ue(e){const[t,...n]=e;if(!t)return null;const[,o]=a(t.size),i=n.every(e=>{const[,t]=a(e.size);return t===o});return i?o:null}const ce=K("fieldset",{target:"e8tqeku4"})({name:"1t1ytme",styles:"border:0;margin:0;padding:0"}),pe=K(g,{target:"e8tqeku3"})("height:",o(4),";"),fe=K(v,{target:"e8tqeku2"})("margin-top:",o(-1),";"),he=K(d.VisualLabel,{target:"e8tqeku1"})("display:flex;gap:",o(1),";justify-content:flex-start;margin-bottom:0;"),ye=K("span",{target:"e8tqeku0"})("color:",G.gray[700],";"),me={key:"default",name:S("Default"),value:void 0},ge={key:"custom",name:S("Custom")},de=t=>{var n;const{__next40pxDefaultSize:o,fontSizes:i,value:s,disableCustomFontSizes:l,size:r,onChange:u,onSelectCustom:c}=t,p=!!ue(i),f=[me,...i.map(e=>{let t;if(p){const[n]=a(e.size);void 0!==n&&(t=String(n))}else(function(e){return/^[\d\.]+(px|em|rem|vw|vh|%|svw|lvw|dvw|svh|lvh|dvh|vi|svi|lvi|dvi|vb|svb|lvb|dvb|vmin|svmin|lvmin|dvmin|vmax|svmax|lvmax|dvmax)?$/i.test(String(e))})(e.size)&&(t=String(e.size));return{key:e.slug,name:e.name||e.slug,value:e.size,hint:t}}),...l?[]:[ge]],h=s?null!==(n=f.find(e=>e.value===s))&&void 0!==n?n:ge:me;return e.jsx(x,{__next40pxDefaultSize:o,className:"components-font-size-picker__select",label:S("Font size"),hideLabelFromVision:!0,describedBy:b(S("Currently selected font size: %s"),h.name),options:f,value:h,showSelectedHint:!0,onChange:({selectedItem:e})=>{e===ge?c():u(e.value)},size:r})},ve=[S("S"),S("M"),S("L"),S("XL"),S("XXL")],Se=[S("Small"),S("Medium"),S("Large"),S("Extra Large"),S("Extra Extra Large")],xe=t=>{const{fontSizes:n,value:o,__next40pxDefaultSize:a,size:i,onChange:s}=t;return e.jsx(z,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:a,__shouldNotWarnDeprecated36pxSize:!0,label:S("Font size"),hideLabelFromVision:!0,value:o,onChange:s,isBlock:!0,size:i,children:n.map((t,n)=>e.jsx(_,{value:t.size,label:ve[n],"aria-label":t.name||Se[n],showTooltip:!0},t.slug))})},be=["px","em","rem","vw","vh"],ze=t.forwardRef((n,o)=>{const{__next40pxDefaultSize:l=!1,fallbackFontSize:r,fontSizes:u=[],disableCustomFontSizes:c=!1,onChange:p,size:f="default",units:h=be,value:y,withSlider:m=!1,withReset:g=!0}=n,d=i({availableUnits:h}),x=u.find(e=>e.size===y),b=!!y&&!x,[z,_]=t.useState(b);let W;W=!c&&z?"custom":u.length>5?"select":"togglegroup";const $=t.useMemo(()=>{switch(W){case"custom":return S("Custom");case"togglegroup":if(x)return x.name||Se[u.indexOf(x)];break;case"select":const e=ue(u);if(e)return`(${e})`}return""},[W,x,u]);if(0===u.length&&c)return null;const B="string"==typeof y||"string"==typeof u[0]?.size,[N,M]=a(y,d),I=!!M&&["em","rem","vw","vh"].includes(M),T=void 0===y;return s({componentName:"FontSizePicker",__next40pxDefaultSize:l,size:f}),e.jsxs(ce,{ref:o,className:"components-font-size-picker",children:[e.jsx(F,{as:"legend",children:S("Font size")}),e.jsx(w,{children:e.jsxs(pe,{className:"components-font-size-picker__header",children:[e.jsxs(he,{"aria-label":`${S("Size")} ${$||""}`,children:[S("Size"),$&&e.jsx(ye,{className:"components-font-size-picker__header__hint",children:$})]}),!c&&e.jsx(fe,{label:S("custom"===W?"Use size preset":"Set custom size"),icon:Z,onClick:()=>_(!z),isPressed:"custom"===W,size:"small"})]})}),e.jsxs("div",{children:["select"===W&&e.jsx(de,{__next40pxDefaultSize:l,fontSizes:u,value:y,disableCustomFontSizes:c,size:f,onChange:e=>{void 0===e?p?.(void 0):p?.(B?e:Number(e),u.find(t=>t.size===e))},onSelectCustom:()=>_(!0)}),"togglegroup"===W&&e.jsx(xe,{fontSizes:u,value:y,__next40pxDefaultSize:l,size:f,onChange:e=>{void 0===e?p?.(void 0):p?.(B?e:Number(e),u.find(t=>t.size===e))}}),"custom"===W&&e.jsxs(j,{className:"components-font-size-picker__custom-size-control",children:[e.jsx(k,{isBlock:!0,children:e.jsx(C,{__next40pxDefaultSize:l,label:S("Custom"),labelPosition:"top",hideLabelFromVision:!0,value:y,onChange:e=>{_(!0),p?.(void 0===e?void 0:B?e:parseInt(e,10))},size:f,units:B?d:[],min:0})}),m&&e.jsx(k,{isBlock:!0,children:e.jsx(w,{marginX:2,marginBottom:0,children:e.jsx(D,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:l,__shouldNotWarnDeprecated36pxSize:!0,className:"components-font-size-picker__custom-input",label:S("Custom Size"),hideLabelFromVision:!0,value:N,initialPosition:r,withInputField:!1,onChange:e=>{_(!0),p?.(void 0===e?void 0:B?e+(null!=M?M:"px"):e)},min:0,max:I?10:100,step:I?.1:1})})}),g&&e.jsx(k,{children:e.jsx(v,{disabled:T,accessibleWhenDisabled:!0,onClick:()=>{p?.(void 0)},variant:"secondary",__next40pxDefaultSize:!0,size:"__unstable-large"===f||n.__next40pxDefaultSize?"default":"small",children:S("Reset")})})]})]})]})}),{kebabCase:_e}=W(ee),Fe=(e,t,n)=>{if(t){const n=e?.find(({slug:e})=>e===t);if(n)return n}return{size:n}};function we(e,t){const n=e?.find(({size:e})=>e===t);return n||{size:t}}function je(e){if(e)return`has-${_e(e)}-font-size`}function ke({minimumFontSize:e,maximumFontSize:t,fontSize:n,minimumViewportWidth:o="320px",maximumViewportWidth:a="1600px",scaleFactor:i=1,minimumFontSizeLimit:s}){if(s=Ce(s)?s:"14px",n){const o=Ce(n);if(!o?.unit)return null;const a=Ce(s,{coerceTo:o.unit});if(a?.value&&!e&&!t&&o?.value<=a?.value)return null;if(t||(t=`${o.value}${o.unit}`),!e){const t="px"===o.unit?o.value:16*o.value,n=Math.min(Math.max(1-.075*Math.log2(t),.25),.75),i=De(o.value*n,3);e=a?.value&&i<a?.value?`${a.value}${a.unit}`:`${i}${o.unit}`}}const l=Ce(e),r=l?.unit||"rem",u=Ce(t,{coerceTo:r});if(!l||!u)return null;const c=Ce(e,{coerceTo:"rem"}),p=Ce(a,{coerceTo:r}),f=Ce(o,{coerceTo:r});if(!p||!f||!c)return null;const h=p.value-f.value;if(!h)return null;const y=De(f.value/100,3),m=De(y,3)+r,g=De(((u.value-l.value)/h*100||1)*i,3);return`clamp(${e}, ${`${c.value}${c.unit} + ((1vw - ${m}) * ${g})`}, ${t})`}function Ce(e,t={}){if("string"!=typeof e&&"number"!=typeof e)return null;isFinite(e)&&(e=`${e}px`);const{coerceTo:n,rootSizeValue:o,acceptableUnits:a}={coerceTo:"",rootSizeValue:16,acceptableUnits:["rem","px","em"],...t},i=a?.join("|"),s=new RegExp(`^(\\d*\\.?\\d+)(${i}){1,1}$`),l=e.match(s);if(!l||l.length<3)return null;let[,r,u]=l,c=parseFloat(r);return"px"!==n||"em"!==u&&"rem"!==u||(c*=o,u=n),"px"!==u||"em"!==n&&"rem"!==n||(c/=o,u=n),"em"!==n&&"rem"!==n||"em"!==u&&"rem"!==u||(u=n),{value:De(c,3),unit:u}}function De(e,t=3){const n=Math.pow(10,t);return Number.isFinite(e)?parseFloat(Math.round(e*n)/n):void 0}function We(t){const[n,o]=$("typography.fontSizes","typography.customFontSize");return e.jsx(ze,{...t,fontSizes:n,disableCustomFontSizes:!o})}const $e=[],Be=([e,...t])=>e.toUpperCase()+t.join(""),Ne=(...n)=>{const o=n.reduce((e,t)=>(e[t]=`custom${Be(t)}`,e),{});return l(r([l(t=>n=>{const[o]=$("typography.fontSizes");return e.jsx(t,{...n,fontSizes:o||$e})},"withFontSizes"),n=>class extends t.Component{constructor(e){super(e),this.setters=this.createSetters(),this.state={}}createSetters(){return Object.entries(o).reduce((e,[t,n])=>(e[`set${Be(t)}`]=this.createSetFontSize(t,n),e),{})}createSetFontSize(e,t){return n=>{const o=this.props.fontSizes?.find(({size:e})=>e===Number(n));this.props.setAttributes({[e]:o&&o.slug?o.slug:void 0,[t]:o&&o.slug?void 0:n})}}static getDerivedStateFromProps({attributes:e,fontSizes:t},n){const a=(t,o)=>!n[o]||(e[o]?e[o]!==n[o].slug:n[o].size!==e[t]);if(!Object.values(o).some(a))return null;const i=Object.entries(o).filter(([e,t])=>a(t,e)).reduce((n,[o,a])=>{const i=e[o],s=Fe(t,i,e[a]);return n[o]={...s,class:je(i)},n},{});return{...n,...i}}render(){return e.jsx(n,{...this.props,fontSizes:void 0,...this.state,...this.setters})}}]),"withFontSizes")};function Me(e){if(!e)return{};if("object"==typeof e)return e;let t;switch(e){case"normal":case"400":t=B("Regular","font weight");break;case"bold":case"700":t=B("Bold","font weight");break;case"100":t=B("Thin","font weight");break;case"200":t=B("Extra Light","font weight");break;case"300":t=B("Light","font weight");break;case"500":t=B("Medium","font weight");break;case"600":t=B("Semi Bold","font weight");break;case"800":t=B("Extra Bold","font weight");break;case"900":t=B("Black","font weight");break;case"1000":t=B("Extra Black","font weight");break;default:t=e}return{name:t,value:e}}const Ie=[{name:B("Regular","font style"),value:"normal"},{name:B("Italic","font style"),value:"italic"}],Te=[{name:B("Thin","font weight"),value:"100"},{name:B("Extra Light","font weight"),value:"200"},{name:B("Light","font weight"),value:"300"},{name:B("Regular","font weight"),value:"400"},{name:B("Medium","font weight"),value:"500"},{name:B("Semi Bold","font weight"),value:"600"},{name:B("Bold","font weight"),value:"700"},{name:B("Extra Bold","font weight"),value:"800"},{name:B("Black","font weight"),value:"900"},{name:B("Extra Black","font weight"),value:"1000"}];function Ve(e){let t=[],n=[];const o=[],a=!e||0===e?.length;let i=!1;return e?.forEach(e=>{if("string"==typeof e.fontWeight&&/\s/.test(e.fontWeight.trim())){i=!0;let[t,o]=e.fontWeight.split(" ");t=parseInt(t.slice(0,1)),o="1000"===o?10:parseInt(o.slice(0,1));for(let e=t;e<=o;e++){const t=`${e.toString()}00`;n.some(e=>e.value===t)||n.push(Me(t))}}const o=Me("number"==typeof e.fontWeight?e.fontWeight.toString():e.fontWeight),a=function(e){if(!e)return{};if("object"==typeof e)return e;let t;switch(e){case"normal":t=B("Regular","font style");break;case"italic":t=B("Italic","font style");break;case"oblique":t=B("Oblique","font style");break;default:t=e}return{name:t,value:e}}(e.fontStyle);a&&Object.keys(a).length&&(t.some(e=>e.value===a.value)||t.push(a)),o&&Object.keys(o).length&&(n.some(e=>e.value===o.value)||i||n.push(o))}),n.some(e=>e.value>="600")||n.push({name:B("Bold","font weight"),value:"700"}),t.some(e=>"italic"===e.value)||t.push({name:B("Italic","font style"),value:"italic"}),a&&(t=Ie,n=Te),t=0===t.length?Ie:t,n=0===n.length?Te:n,t.forEach(({name:e,value:t})=>{n.forEach(({name:n,value:a})=>{const i="normal"===t?n:b(S("%1$s %2$s"),n,e);o.push({key:`${t}-${a}`,name:i,style:{fontStyle:t,fontWeight:a}})})}),{fontStyles:t,fontWeights:n,combinedStyleAndWeightOptions:o,isSystemFont:a,isVariableFont:i}}function Ae(e,t){const{size:n}=e;if(!n||"0"===n||!1===e?.fluid)return n;if(!Le(t?.typography)&&!Le(e))return n;let o=function(e){const t=e?.typography,n=e?.layout,o=Ce(n?.wideSize)?n?.wideSize:null;return Le(t)&&o?{fluid:{maxViewportWidth:o,...t.fluid}}:{fluid:t?.fluid}}(t);o="object"==typeof o?.fluid?o?.fluid:{};const a=ke({minimumFontSize:e?.fluid?.min,maximumFontSize:e?.fluid?.max,fontSize:n,minimumFontSizeLimit:o?.minFontSize,maximumViewportWidth:o?.maxViewportWidth,minimumViewportWidth:o?.minViewportWidth});return a||n}function Le(e){const t=e?.fluid;return!0===t||t&&"object"==typeof t&&Object.keys(t).length>0}function He(e,t){if(!(t="number"==typeof t?t.toString():t)||"string"!=typeof t)return"";if(!e||0===e.length)return t;const n=e?.reduce((e,{value:n})=>Math.abs(parseInt(n)-parseInt(t))<Math.abs(parseInt(e)-parseInt(t))?n:e,e[0]?.value);return n}function Ee(n){const{__next40pxDefaultSize:o=!1,onChange:a,hasFontStyles:i=!0,hasFontWeights:s=!0,fontFamilyFaces:l,value:{fontStyle:r,fontWeight:u},...c}=n,p=i||s,f=((e,t)=>S(e?t?"Appearance":"Font style":"Font weight"))(i,s),h={key:"default",name:S("Default"),style:{fontStyle:void 0,fontWeight:void 0}},{fontStyles:y,fontWeights:m,combinedStyleAndWeightOptions:g}=Ve(l),d=t.useMemo(()=>i&&s?(()=>{const e=[h];return g&&e.push(...g),e})():i?(()=>{const e=[h];return y.forEach(({name:t,value:n})=>{e.push({key:n,name:t,style:{fontStyle:n,fontWeight:void 0}})}),e})():(()=>{const e=[h];return m.forEach(({name:t,value:n})=>{e.push({key:n,name:t,style:{fontStyle:void 0,fontWeight:n}})}),e})(),[n.options,y,m,g]),v=d.find(e=>e.style.fontStyle===r&&e.style.fontWeight===u)||d[0];return p&&e.jsx(x,{...c,className:"components-font-appearance-control",__next40pxDefaultSize:o,label:f,describedBy:v?b(S(i?s?"Currently selected font appearance: %s":"Currently selected font style: %s":"Currently selected font weight: %s"),v.name):S("No selected font appearance"),options:d,value:v,onChange:({selectedItem:e})=>a(e.style)})}function Oe({__next40pxDefaultSize:t=!1,__nextHasNoMarginBottom:n=!1,value:o="",onChange:a,fontFamilies:i,...s}){const[l]=$("typography.fontFamilies");if(i||(i=l),!i||0===i.length)return null;const r=[{value:"",label:S("Default")},...i.map(({fontFamily:e,name:t})=>({value:e,label:t||e}))];return n||N("Bottom margin styles for wp.blockEditor.FontFamilyControl",{since:"6.7",version:"7.0",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version"}),e.jsx(M,{__next40pxDefaultSize:t,__nextHasNoMarginBottom:n,label:S("Font"),options:r,value:o,onChange:a,labelPosition:"top",...s})}const qe=1.5;const Pe=({__next40pxDefaultSize:t=!1,value:n,onChange:o,__unstableInputWidth:a="60px",...i})=>{const s=function(e){return void 0!==e&&""!==e}(n),l=(e,t)=>{if(s)return e;switch(`${e}`){case"0.1":return 1.6;case"0":return t?e:1.4;case"":return qe;default:return e}},r=s?n:"";return e.jsx("div",{className:"block-editor-line-height-control",children:e.jsx(I,{...i,__next40pxDefaultSize:t,__unstableInputWidth:a,__unstableStateReducer:(e,t)=>{const n=["insertText","insertFromPaste"].includes(t.payload.event.nativeEvent?.inputType),o=l(e.value,n);return{...e,value:o}},onChange:(e,{event:t})=>{""!==e?"click"!==t.type?o(`${e}`):o(l(`${e}`,!1)):o()},label:S("Line height"),placeholder:qe,step:.01,spinFactor:10,value:r,min:0,spinControls:"custom"})})};function Re(e){const t=Xe(e),n=Je(e),o=Ke(e),a=Ge(e),i=Qe(e),s=Ze(e),l=Ye(e),r=et(e),u=tt(e),c=Ue(e);return t||n||o||a||i||s||c||l||r||u}function Ue(e){return!1!==e?.typography?.defaultFontSizes&&e?.typography?.fontSizes?.default?.length||e?.typography?.fontSizes?.theme?.length||e?.typography?.fontSizes?.custom?.length||e?.typography?.customFontSize}function Xe(e){return["default","theme","custom"].some(t=>e?.typography?.fontFamilies?.[t]?.length)}function Je(e){return e?.typography?.lineHeight}function Ke(e){return e?.typography?.fontStyle||e?.typography?.fontWeight}function Ge(e){return e?.typography?.letterSpacing}function Ze(e){return e?.typography?.textTransform}function Qe(e){return e?.typography?.textAlign}function Ye(e){return e?.typography?.textDecoration}function et(e){return e?.typography?.writingMode}function tt(e){return e?.typography?.textColumns}function nt({resetAllFilter:t,onChange:n,value:o,panelId:a,children:i}){const s=J();return e.jsx(H,{label:S("Typography"),resetAll:()=>{const e=t(o);n(e)},panelId:a,dropdownMenuProps:s,children:i})}const ot={fontFamily:!0,fontSize:!0,fontAppearance:!0,lineHeight:!0,letterSpacing:!0,textAlign:!0,textTransform:!0,textDecoration:!0,writingMode:!0,textColumns:!0};function at({as:n=nt,value:o,onChange:a,inheritedValue:i=o,settings:s,panelId:l,defaultControls:r=ot}){const c=e=>X({settings:s},"",e),p=Xe(s),f=c(i?.typography?.fontFamily),{fontFamilies:h,fontFamilyFaces:y}=t.useMemo(()=>function(e,t){var n;const o=e?.typography?.fontFamilies,a=["default","theme","custom"].flatMap(e=>{var t;return null!==(t=o?.[e])&&void 0!==t?t:[]}),i=null!==(n=a.find(e=>e.fontFamily===t)?.fontFace)&&void 0!==n?n:[];return{fontFamilies:a,fontFamilyFaces:i}}(s,f),[s,f]),m=e=>{const t=h?.find(({fontFamily:t})=>t===e)?.slug;a(u(o,["typography","fontFamily"],t?`var:preset|font-family|${t}`:e||void 0))},g=Ue(s),d=!s?.typography?.customFontSize,v=function(e){var t,n,o;const a=e?.typography?.fontSizes,i=!!e?.typography?.defaultFontSizes;return[...null!==(t=a?.custom)&&void 0!==t?t:[],...null!==(n=a?.theme)&&void 0!==n?n:[],...i&&null!==(o=a?.default)&&void 0!==o?o:[]]}(s),x=c(i?.typography?.fontSize),b=(e,t)=>{a(u(o,["typography","fontSize"],(t?.slug?`var:preset|font-size|${t?.slug}`:e)||void 0))},z=Ke(s),_=function(e){return S(e?.typography?.fontStyle?e?.typography?.fontWeight?"Appearance":"Font style":"Font weight")}(s),F=s?.typography?.fontStyle,w=s?.typography?.fontWeight,j=c(i?.typography?.fontStyle),k=c(i?.typography?.fontWeight),{nearestFontStyle:C,nearestFontWeight:D}=function(e,t,n){let o=t,a=n;const{fontStyles:i,fontWeights:s,combinedStyleAndWeightOptions:l}=Ve(e),r=i?.some(({value:e})=>e===t),u=s?.some(({value:e})=>e?.toString()===n?.toString());var c,p;return r||(o=t?(c=i,"string"==typeof(p=t)&&p&&["normal","italic","oblique"].includes(p)?!c||0===c.length||c.find(e=>e.value===p)?p:"oblique"!==p||c.find(e=>"oblique"===e.value)?"":"italic":""):l?.find(e=>e.style.fontWeight===He(s,n))?.style?.fontStyle),u||(a=n?He(s,n):l?.find(e=>e.style.fontStyle===(o||t))?.style?.fontWeight),{nearestFontStyle:o,nearestFontWeight:a}}(y,j,k),W=t.useCallback(({fontStyle:e,fontWeight:t})=>{e===j&&t===k||a({...o,typography:{...o?.typography,fontStyle:e||void 0,fontWeight:t||void 0}})},[j,k,a,o]),$=t.useCallback(()=>{W({})},[W]);t.useEffect(()=>{C&&D?W({fontStyle:C,fontWeight:D}):$()},[C,D,$,W]);const B=Je(s),N=c(i?.typography?.lineHeight),M=e=>{a(u(o,["typography","lineHeight"],e||void 0))},H=Ge(s),E=c(i?.typography?.letterSpacing),O=e=>{a(u(o,["typography","letterSpacing"],e||void 0))},q=tt(s),P=c(i?.typography?.textColumns),J=e=>{a(u(o,["typography","textColumns"],e||void 0))},K=Ze(s),G=c(i?.typography?.textTransform),Z=e=>{a(u(o,["typography","textTransform"],e||void 0))},Q=Ye(s),Y=c(i?.typography?.textDecoration),ee=e=>{a(u(o,["typography","textDecoration"],e||void 0))},te=et(s),ne=c(i?.typography?.writingMode),oe=e=>{a(u(o,["typography","writingMode"],e||void 0))},ae=Qe(s),ie=c(i?.typography?.textAlign),se=e=>{a(u(o,["typography","textAlign"],e||void 0))},le=t.useCallback(e=>({...e,typography:{}}),[]);return e.jsxs(n,{resetAllFilter:le,value:o,onChange:a,panelId:l,children:[p&&e.jsx(T,{label:S("Font"),hasValue:()=>!!o?.typography?.fontFamily,onDeselect:()=>m(void 0),isShownByDefault:r.fontFamily,panelId:l,children:e.jsx(Oe,{fontFamilies:h,value:f,onChange:m,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),g&&e.jsx(T,{label:S("Size"),hasValue:()=>!!o?.typography?.fontSize,onDeselect:()=>b(void 0),isShownByDefault:r.fontSize,panelId:l,children:e.jsx(ze,{value:x,onChange:b,fontSizes:v,disableCustomFontSizes:d,withReset:!1,withSlider:!0,size:"__unstable-large"})}),z&&e.jsx(T,{className:"single-column",label:_,hasValue:()=>!!o?.typography?.fontStyle||!!o?.typography?.fontWeight,onDeselect:$,isShownByDefault:r.fontAppearance,panelId:l,children:e.jsx(Ee,{value:{fontStyle:j,fontWeight:k},onChange:W,hasFontStyles:F,hasFontWeights:w,fontFamilyFaces:y,size:"__unstable-large"})}),B&&e.jsx(T,{className:"single-column",label:S("Line height"),hasValue:()=>void 0!==o?.typography?.lineHeight,onDeselect:()=>M(void 0),isShownByDefault:r.lineHeight,panelId:l,children:e.jsx(Pe,{__unstableInputWidth:"auto",value:N,onChange:M,size:"__unstable-large"})}),H&&e.jsx(T,{className:"single-column",label:S("Letter spacing"),hasValue:()=>!!o?.typography?.letterSpacing,onDeselect:()=>O(void 0),isShownByDefault:r.letterSpacing,panelId:l,children:e.jsx(R,{value:E,onChange:O,size:"__unstable-large",__unstableInputWidth:"auto"})}),q&&e.jsx(T,{className:"single-column",label:S("Columns"),hasValue:()=>!!o?.typography?.textColumns,onDeselect:()=>J(void 0),isShownByDefault:r.textColumns,panelId:l,children:e.jsx(I,{label:S("Columns"),max:6,min:1,onChange:J,size:"__unstable-large",spinControls:"custom",value:P,initialPosition:1})}),Q&&e.jsx(T,{className:"single-column",label:S("Decoration"),hasValue:()=>!!o?.typography?.textDecoration,onDeselect:()=>ee(void 0),isShownByDefault:r.textDecoration,panelId:l,children:e.jsx(V,{value:Y,onChange:ee,size:"__unstable-large",__unstableInputWidth:"auto"})}),te&&e.jsx(T,{className:"single-column",label:S("Orientation"),hasValue:()=>!!o?.typography?.writingMode,onDeselect:()=>oe(void 0),isShownByDefault:r.writingMode,panelId:l,children:e.jsx(A,{value:ne,onChange:oe,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),K&&e.jsx(T,{label:S("Letter case"),hasValue:()=>!!o?.typography?.textTransform,onDeselect:()=>Z(void 0),isShownByDefault:r.textTransform,panelId:l,children:e.jsx(U,{value:G,onChange:Z,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),ae&&e.jsx(T,{label:S("Text alignment"),hasValue:()=>!!o?.typography?.textAlign,onDeselect:()=>se(void 0),isShownByDefault:r.textAlign,panelId:l,children:e.jsx(L,{value:ie,onChange:se,size:"__unstable-large",__nextHasNoMarginBottom:!0})})]})}const it="typography.__experimentalFontFamily",{kebabCase:st}=W(ee);function lt(e,t,n){if(!q(t,it))return e;if(p(t,yt,"fontFamily"))return e;if(!n?.fontFamily)return e;const o=new Q(e.className);o.add(`has-${st(n?.fontFamily)}-font-family`);const a=o.value;return e.className=a||void 0,e}const rt={useBlockProps:function({name:e,fontFamily:t}){return lt({},e,{fontFamily:t})},addSaveProps:lt,attributeKeys:["fontFamily"],hasSupport:e=>q(e,it)};c("blocks.registerBlockType","core/fontFamily/addAttribute",function(e){return q(e,it)?(e.attributes.fontFamily||Object.assign(e.attributes,{fontFamily:{type:"string"}}),e):e});const ut="typography.fontSize";function ct(e,t,n){if(!q(t,ut))return e;if(p(t,yt,"fontSize"))return e;const o=new Q(e.className);o.add(je(n.fontSize));const a=o.value;return e.className=a||void 0,e}const pt={useBlockProps:function({name:e,fontSize:t,style:n}){const[o,a,i]=$("typography.fontSizes","typography.fluid","layout");if(!q(e,ut)||p(e,yt,"fontSize")||!t&&!n?.typography?.fontSize)return;let s;return n?.typography?.fontSize&&(s={style:{fontSize:Ae({size:n.typography.fontSize},{typography:{fluid:a},layout:i})}}),t&&(s={style:{fontSize:Fe(o,t,n?.typography?.fontSize).size}}),s?ct(s,e,{fontSize:t}):void 0},addSaveProps:ct,attributeKeys:["fontSize","style"],hasSupport:e=>q(e,ut)},ft={fontSize:[["fontSize"],["style","typography","fontSize"]]};function ht(e,t){return Object.fromEntries(Object.entries(e).filter(([e])=>!t.includes(e)))}c("blocks.registerBlockType","core/font/addAttribute",function(e){return q(e,ut)?(e.attributes.fontSize||Object.assign(e.attributes,{fontSize:{type:"string"}}),e):e}),c("blocks.switchToBlockType.transformedBlock","core/font-size/addTransforms",function(e,t,n,o){const a=e.name,i={fontSize:q(a,ut)};return f(i,ft,e,t,n,o)});const yt="typography",mt=["typography.lineHeight",ut,"typography.__experimentalFontStyle","typography.__experimentalFontWeight",it,h,"typography.textColumns","typography.__experimentalTextDecoration","typography.__experimentalWritingMode","typography.__experimentalTextTransform","typography.__experimentalLetterSpacing"];function gt(e){const t={...ht(e,["fontFamily"])},n=e?.typography?.fontSize,o=e?.typography?.fontFamily,a=n?.startsWith("var:preset|font-size|")?n.substring(21):void 0,i=o?.startsWith("var:preset|font-family|")?o.substring(23):void 0;return t.typography={...ht(t.typography,["fontFamily"]),fontSize:a?void 0:n},{style:y(t),fontFamily:i,fontSize:a}}function dt(e){return{...e.style,typography:{...e.style?.typography,fontFamily:e.fontFamily?"var:preset|font-family|"+e.fontFamily:void 0,fontSize:e.fontSize?"var:preset|font-size|"+e.fontSize:e.style?.typography?.fontSize}}}function vt({children:n,resetAllFilter:o}){const a=t.useCallback(e=>{const t=dt(e),n=o(t);return{...e,...gt(n)}},[o]);return e.jsx(O,{group:"typography",resetAllFilter:a,children:n})}function St({clientId:n,name:o,setAttributes:a,settings:i}){const{style:s,fontFamily:l,fontSize:r}=E(function(e){const{style:t,fontFamily:o,fontSize:a}=e(Y).getBlockAttributes(n)||{};return{style:t,fontFamily:o,fontSize:a}},[n]),u=Re(i),c=t.useMemo(()=>dt({style:s,fontFamily:l,fontSize:r}),[s,r,l]);if(!u)return null;const p=P(o,[yt,"__experimentalDefaultControls"]);return e.jsx(at,{as:vt,panelId:n,settings:i,value:c,onChange:e=>{a(gt(e))},defaultControls:p})}const{kebabCase:xt}=W(ee);function bt(e,t){let n=e?.style?.typography||{};n={...n,fontSize:Ae({size:e?.style?.typography?.fontSize},t)};const o=m({typography:n}),a=e?.fontFamily?`has-${xt(e.fontFamily)}-font-family`:"";return{className:te(a,e?.style?.typography?.textAlign?`has-text-align-${e?.style?.typography?.textAlign}`:"",je(e?.fontSize)),style:o}}export{Ee as F,Pe as L,at as T,re as a,se as b,le as c,bt as d,Oe as e,oe as f,Ae as g,Fe as h,je as i,we as j,ke as k,We as l,yt as m,mt as n,St as o,rt as p,pt as q,Re as u,Ne as w};
