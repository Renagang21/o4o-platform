import{r,j as e,w as R,C as g}from"./vendor-react-P__8vGRG.js";import{A as V}from"./index-C0gS3Jf3.js";import"./vendor-query-CucHvDcH.js";import"./page-template-editor-BTdVTS-a.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-utils-dq2XMRwt.js";import"./vendor-socket-DgcwqWsT.js";const q=()=>{const[a,x]=r.useState([{id:"1",name:"공지사항",description:"중요한 공지사항",slug:"notice",count:0,date:"-"},{id:"2",name:"이벤트",description:"이벤트 및 행사",slug:"events",count:0,date:"-"}]),[i,m]=r.useState(new Set),[N,v]=r.useState(null),[u,h]=r.useState(!1),[w,k]=r.useState(!1),[b,p]=r.useState(null),[c,y]=r.useState(""),[S,j]=r.useState(!1),[l,d]=r.useState({name:"",slug:"",description:"",parent:""}),[n,A]=r.useState(()=>{const t=localStorage.getItem("categories-visible-columns");return t?JSON.parse(t):{description:!0,slug:!0,count:!0}});r.useEffect(()=>{localStorage.setItem("categories-visible-columns",JSON.stringify(n))},[n]);const f=t=>{A(s=>({...s,[t]:!s[t]}))},D=t=>{t.target.checked?m(new Set(a.map(s=>s.id))):m(new Set)},z=t=>{const s=new Set(i);s.has(t)?s.delete(t):s.add(t),m(s)},E=()=>{j(!0)},$=()=>{if(l.name){const t={id:Date.now().toString(),name:l.name,description:l.description,slug:l.slug||l.name.toLowerCase().replace(/\s+/g,"-"),count:0,date:new Date().toISOString().split("T")[0]};x([...a,t]),d({name:"",slug:"",description:"",parent:""}),j(!1)}},B=t=>{p(t);const s=a.find(o=>o.id===t);s&&d({name:s.name,slug:s.slug,description:s.description,parent:""})},F=t=>{p(t)},O=t=>{},M=t=>{const s=a.find(o=>o.id===t);if(s){const o={...s,id:Date.now().toString(),name:s.name+" (Copy)",slug:s.slug+"-copy"};x([...a,o])}},I=t=>{confirm("이 카테고리를 삭제하시겠습니까?")&&x(a.filter(s=>s.id!==t))},C=()=>{if(!c){alert("Please select an action.");return}if(i.size===0){alert("No categories selected.");return}c==="delete"&&confirm(`선택한 ${i.size}개의 카테고리를 삭제하시겠습니까?`)&&(x(a.filter(t=>!i.has(t.id))),m(new Set),y(""))};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#f0f0f1"},children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-8 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{items:[{label:"Admin",path:"/admin"},{label:"글",path:"/admin/posts"},{label:"카테고리"}]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>k(!w),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",children:[e.jsx(R,{className:"w-4 h-4"}),"Screen Options",e.jsx(g,{className:"w-3 h-3"})]}),w&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white border border-gray-300 rounded-md shadow-lg z-50",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:"Show on screen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",id:"screen-option-description",name:"screen-option-description",checked:n.description,onChange:()=>f("description"),className:"mr-2"}),"Description"]}),e.jsxs("label",{className:"flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",id:"screen-option-slug",name:"screen-option-slug",checked:n.slug,onChange:()=>f("slug"),className:"mr-2"}),"Slug"]}),e.jsxs("label",{className:"flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",id:"screen-option-count",name:"screen-option-count",checked:n.count,onChange:()=>f("count"),className:"mr-2"}),"Count"]})]})]})})]})]})}),e.jsxs("div",{className:"px-8 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"카테고리"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"컨텐츠를 체계적으로 분류하고 관리합니다"})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Categories"}),e.jsx("button",{onClick:E,className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-50 transition-colors",children:"Add New"})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-white border border-gray-300 rounded hover:bg-gray-50",children:[c==="delete"?"Delete":"Bulk Actions",e.jsx(g,{className:"w-3 h-3"})]}),u&&e.jsx("div",{className:"absolute left-0 top-full mt-1 w-40 bg-white border border-gray-300 rounded shadow-lg z-20",children:e.jsx("button",{onClick:()=>{y("delete"),h(!1)},className:"block w-full text-left px-3 py-2 text-sm hover:bg-gray-50",children:"Delete"})})]}),e.jsx("button",{onClick:C,className:`px-3 py-1.5 text-sm border border-gray-300 rounded transition-colors ${c&&i.size>0?"bg-white text-gray-700 hover:bg-gray-50 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!c||i.size===0,children:"Apply"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[a.length," items"]})]}),e.jsx("div",{className:"bg-white border border-gray-300 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-white border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-10 px-3 py-3 text-left",children:e.jsx("input",{type:"checkbox",onChange:D,checked:i.size===a.length&&a.length>0})}),e.jsx("th",{className:"px-3 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 font-medium text-sm text-gray-700 hover:text-black",children:["Name",e.jsx(g,{className:"w-3 h-3"})]})}),n.description&&e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700",children:"Description"}),n.slug&&e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700",children:"Slug"}),n.count&&e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700",children:"Count"}),e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700",children:"Date"})]})}),e.jsx("tbody",{children:a.map(t=>e.jsxs("tr",{className:`border-b border-gray-100 ${N===t.id?"bg-gray-50":""}`,onMouseEnter:()=>v(t.id),onMouseLeave:()=>v(null),children:[e.jsx("td",{className:"px-3 py-3",children:e.jsx("input",{type:"checkbox",id:`select-category-${t.id}`,name:`select-category-${t.id}`,checked:i.has(t.id),onChange:()=>z(t.id)})}),e.jsx("td",{className:"px-3 py-3",children:b===t.id?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",id:`edit-category-name-${t.id}`,name:"category-name",value:l.name,onChange:s=>d({...l,name:s.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{const s=a.map(o=>o.id===t.id?{...o,name:l.name,slug:l.slug,description:l.description}:o);x(s),p(null)},className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Update"}),e.jsx("button",{onClick:()=>p(null),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Cancel"})]})]}):e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-blue-600 hover:text-blue-800",children:t.name}),N===t.id&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("button",{onClick:()=>B(t.id),className:"text-xs text-blue-600 hover:text-blue-800 px-1",children:"Edit"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>F(t.id),className:"text-xs text-blue-600 hover:text-blue-800 px-1",children:"Quick Edit"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>O(t.id),className:"text-xs text-blue-600 hover:text-blue-800 px-1",children:"View"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>M(t.id),className:"text-xs text-blue-600 hover:text-blue-800 px-1",children:"Duplicate"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>I(t.id),className:"text-xs text-red-600 hover:text-red-800 px-1",children:"Delete"})]})]})}),n.description&&e.jsx("td",{className:"px-3 py-3 text-sm text-gray-600",children:b===t.id?e.jsx("input",{type:"text",id:`edit-category-description-${t.id}`,name:"category-description",value:l.description,onChange:s=>d({...l,description:s.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):t.description}),n.slug&&e.jsx("td",{className:"px-3 py-3 text-sm text-gray-600",children:b===t.id?e.jsx("input",{type:"text",id:`edit-category-slug-${t.id}`,name:"category-slug",value:l.slug,onChange:s=>d({...l,slug:s.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):t.slug}),n.count&&e.jsx("td",{className:"px-3 py-3 text-sm text-gray-600",children:t.count}),e.jsx("td",{className:"px-3 py-3 text-sm text-gray-600",children:t.date})]},t.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-white border border-gray-300 rounded hover:bg-gray-50",children:[c==="delete"?"Delete":"Bulk Actions",e.jsx(g,{className:"w-3 h-3"})]}),u&&e.jsx("div",{className:"absolute left-0 bottom-full mb-1 w-40 bg-white border border-gray-300 rounded shadow-lg z-20",children:e.jsx("button",{onClick:()=>{y("delete"),h(!1)},className:"block w-full text-left px-3 py-2 text-sm hover:bg-gray-50",children:"Delete"})})]}),e.jsx("button",{onClick:C,className:`px-3 py-1.5 text-sm border border-gray-300 rounded transition-colors ${c&&i.size>0?"bg-white text-gray-700 hover:bg-gray-50 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!c||i.size===0,children:"Apply"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[a.length," items"]})]})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium",children:"카테고리 추가"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-category-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"이름"}),e.jsx("input",{type:"text",id:"new-category-name",name:"name",value:l.name,onChange:t=>d({...l,name:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"카테고리 이름"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-category-slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"슬러그"}),e.jsx("input",{type:"text",id:"new-category-slug",name:"slug",value:l.slug,onChange:t=>d({...l,slug:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"category-slug"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-category-parent",className:"block text-sm font-medium text-gray-700 mb-1",children:"상위 카테고리"}),e.jsxs("select",{id:"new-category-parent",name:"parent",value:l.parent,onChange:t=>d({...l,parent:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"없음"}),a.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-category-description",className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),e.jsx("textarea",{id:"new-category-description",name:"description",value:l.description,onChange:t=>d({...l,description:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"카테고리 설명"})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{j(!1),d({name:"",slug:"",description:"",parent:""})},className:"px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50",children:"취소"}),e.jsx("button",{onClick:$,className:"px-4 py-2 text-sm text-white bg-blue-600 rounded hover:bg-blue-700",children:"카테고리 추가"})]})]})})]})};export{q as default};
//# sourceMappingURL=Categories-DBdAZRSY.js.map
