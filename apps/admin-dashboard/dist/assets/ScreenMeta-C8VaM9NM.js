import{r as e,j as s,ba as t,C as a,bR as n,bv as r,ct as i,aD as l}from"./vendor-react-DqgGMt48.js";import{c as o}from"./vendor-ui-CrFdsnXa.js";import{c as d}from"./page-template-editor-Dej8aqbo.js";const c=({title:n="Screen Options",options:r,onOptionsChange:i,columnsPerPage:l,onColumnsChange:d,itemsPerPage:c=20,onItemsPerPageChange:m})=>{const[p,x]=e.useState(!1);return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>x(!p),className:o("absolute -top-1 right-0 px-3 py-1 text-sm","bg-modern-bg-card border border-modern-border-primary rounded-t","hover:bg-modern-bg-hover transition-colors","flex items-center gap-1",p&&"bg-modern-bg-hover"),children:[s.jsx(t,{className:"w-4 h-4"}),s.jsx("span",{children:n}),s.jsx(a,{className:o("w-4 h-4 transition-transform",p&&"rotate-180")})]}),p&&s.jsx("div",{className:"absolute top-8 right-0 w-96 bg-modern-bg-card border border-modern-border-primary rounded-lg shadow-modern-shadow-lg z-50",children:s.jsxs("div",{className:"p-4",children:[r.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-modern-text-primary mb-2",children:"Boxes"}),s.jsx("div",{className:"space-y-2",children:r.map(e=>s.jsxs("label",{className:"flex items-start gap-2 text-sm text-modern-text-secondary hover:text-modern-text-primary cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.checked,onChange:s=>((e,s)=>{const t=r.map(t=>t.id===e?{...t,checked:s}:t);i(t)})(e.id,s.target.checked),className:"mt-0.5 rounded border-modern-border-primary text-modern-primary focus:ring-modern-primary"}),s.jsxs("div",{children:[s.jsx("span",{children:e.label}),e.description&&s.jsx("p",{className:"text-xs text-modern-text-tertiary mt-0.5",children:e.description})]})]},e.id))})]}),void 0!==l&&d&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-modern-text-primary mb-2",children:"Layout"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-modern-text-secondary",children:"Number of Columns:"}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(e=>s.jsx("button",{onClick:()=>d(e),className:o("w-8 h-8 text-sm rounded border transition-colors",l===e?"bg-modern-primary text-white border-modern-primary":"bg-white border-modern-border-primary text-modern-text-primary hover:border-modern-primary"),children:e},e))})]})]}),m&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-modern-text-primary mb-2",children:"Pagination"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:"items-per-page",className:"text-sm text-modern-text-secondary",children:"Number of items per page:"}),s.jsx("input",{id:"items-per-page",type:"number",min:"1",max:"999",value:c,onChange:e=>{const s=parseInt(e.target.value);s>0&&m(s)},className:"w-16 px-2 py-1 text-sm border border-modern-border-primary rounded focus:outline-none focus:ring-2 focus:ring-modern-primary"})]})]}),s.jsx("div",{className:"flex justify-end pt-2 border-t border-modern-border-primary",children:s.jsx("button",{onClick:()=>x(!1),className:"px-4 py-1.5 text-sm bg-modern-primary text-white rounded hover:bg-modern-primary-hover transition-colors",children:"Apply"})})]})})]})},m=n(e=>({_isOpen:!1,activeTab:null,tabs:[],sidebar:null,toggleHelp:()=>e(e=>({_isOpen:!e._isOpen,activeTab:e._isOpen?null:e.tabs[0]?.id||null})),openHelp:()=>e(e=>({_isOpen:!0,activeTab:e.tabs[0]?.id||null})),closeHelp:()=>e({_isOpen:!1,activeTab:null}),setActiveTab:s=>e({activeTab:s}),setTabs:s=>e(e=>({tabs:s,activeTab:e._isOpen?s[0]?.id||null:e.activeTab})),setSidebar:s=>e({sidebar:s}),reset:()=>e({_isOpen:!1,activeTab:null,tabs:[],sidebar:null})}));function p(s,t){const a=m(e=>e.setTabs),n=m(e=>e.setSidebar),r=JSON.stringify(s),i=JSON.stringify(t);e.useEffect(()=>(a(s),n(t||null),()=>{a([]),n(null)}),[r,i])}const x=()=>{const{_isOpen:t,activeTab:a,tabs:n,sidebar:o,toggleHelp:c,closeHelp:p,setActiveTab:x}=function(){const s=m(),t=r();return e.useEffect(()=>{s.reset()},[t.pathname]),s}();return 0===n.length?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{id:"contextual-help-link-wrap",className:"hide-if-no-js screen-meta-toggle",children:s.jsxs("button",{type:"button",id:"contextual-help-link",className:d("button show-settings",t&&"screen-meta-active"),"aria-controls":"contextual-help-wrap","aria-expanded":t,onClick:c,children:[s.jsx(i,{className:"w-4 h-4 inline mr-1"}),"Help"]})}),s.jsxs("div",{id:"contextual-help-wrap",className:d("contextual-help-wrap hidden",t&&"contextual-help-open"),"aria-label":"Contextual Help Tab",children:[s.jsx("div",{id:"contextual-help-back",className:t?"contextual-help-open":""}),s.jsxs("div",{id:"contextual-help-columns",children:[s.jsx("div",{className:"contextual-help-tabs",children:s.jsx("ul",{children:n.map(e=>s.jsx("li",{id:`tab-link-${e.id}`,className:a===e.id?"active":"",children:s.jsx("a",{href:`#tab-panel-${e.id}`,onClick:s=>{s.preventDefault(),x(e.id)},"aria-controls":`tab-panel-${e.id}`,children:e.title})},e.id))})}),o&&s.jsxs("div",{className:"contextual-help-sidebar",children:[s.jsx("h3",{children:o.title}),"string"==typeof o.content?s.jsx("div",{dangerouslySetInnerHTML:{__html:o.content}}):o.content]}),s.jsx("div",{className:"contextual-help-tabs-wrap",children:n.map(e=>s.jsx("div",{id:`tab-panel-${e.id}`,className:d("help-tab-content",a===e.id?"active":""),children:"string"==typeof e.content?s.jsx("div",{dangerouslySetInnerHTML:{__html:e.content}}):e.content},e.id))})]}),s.jsx("button",{type:"button",className:"contextual-help-close",onClick:p,"aria-label":"Close Help",children:s.jsx(l,{className:"w-5 h-5"})})]})]})},h=e=>{const t=e.columns?.map(e=>({id:e.id,label:e.label,checked:e.checked,type:"checkbox"}))||[];return s.jsx("div",{id:"screen-meta",className:"metabox-prefs",children:s.jsx("div",{id:"screen-meta-links",children:s.jsxs("div",{className:"screen-options-and-help-container",children:[s.jsx(x,{}),s.jsx(c,{options:t,onOptionsChange:s=>{s.forEach(s=>{e.onColumnChange&&e.onColumnChange(s.id,s.checked)})},itemsPerPage:e.itemsPerPage,onItemsPerPageChange:e.onItemsPerPageChange})]})})})};export{h as S,p as u};
