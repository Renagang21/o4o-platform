const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BjemlSkF.js","assets/vendor-react-P__8vGRG.js","assets/sortable.esm-Ck0j7PTJ.js","assets/index-CwU8hiA-.css","assets/ImageBlockSettings-BRLuyuSF.js","assets/page-template-editor-BTdVTS-a.js","assets/vendor-ui-BkLtITBR.js","assets/vendor-query-CucHvDcH.js","assets/vendor-utils-dq2XMRwt.js","assets/page-template-editor-jXGXCInV.css","assets/ButtonBlockSettings-BjPWARGC.js","assets/GalleryBlockSettings-BUh2uzYh.js","assets/CoverBlockSettings-DXIgHenZ.js","assets/Login-D0AEElim.js","assets/vendor-socket-DgcwqWsT.js","assets/ForgotPassword-DTQoVKA5.js","assets/ResetPassword-Cn3aJ_fu.js","assets/AdminHome-DPxRoxyY.js","assets/WordPressDashboard-mS2c1ly7.js","assets/DashboardSimple-CPpTnndL.js","assets/unified-client-DYKT-pLO.js","assets/index-D5YgS6SL.js","assets/UserForm-BQ1C2zZc.js","assets/vendor-forms-D2S8MGYp.js","assets/checkbox-CqkjQ2aW.js","assets/BusinessInfoSection-ulcw75wH.js","assets/userApi-m_Dm3U7g.js","assets/UserDetail-BjT6R_Oy.js","assets/RoleManagement-DrlzAjWi.js","assets/UserStatistics-Dq9rkEEm.js","assets/Analytics-BnI03ZAL.js","assets/Settings-BBWo0jNR.js","assets/client-e48rpZFb.js","assets/EmailSettings-C6rbnd3U.js","assets/MailManagement-Du-72rfA.js","assets/PagesRouter-Rd5URAIp.js","assets/Media--wF89kmR.js","assets/CustomFields-CMC_Cmip.js","assets/Posts-D2mfUvEq.js","assets/Categories-DBdAZRSY.js","assets/Tags-ByeGCRNT.js","assets/PostPreview-BHyJLofm.js","assets/PostPreview-C0l8O4YY.css","assets/Menus-CSnhM7Ed.js","assets/TemplateParts-LJutqcUZ.js","assets/IntegratedMonitoring-urW-hvRn.js","assets/PerformanceDashboard-7tN_RM9t.js","assets/ForumRouter-6spV-sI3.js","assets/SignageRouter-hODnk9hX.js","assets/CrowdfundingRouter-Cn5OBUov.js","assets/ToolsPage-CKRyrFZh.js","assets/UIShowcase-DMJAVCSu.js","assets/index-DXKOEefd.js","assets/index-BHR7homH.css","assets/index-CSnsWwcD.js","assets/Customize-cSIwZ4oU.js","assets/Customize-CRNmzhlt.css"])))=>i.map(i=>d[i]);
import{R as Ts,e as Ht,f as Sa,r as n,j as e,u as Xs,h as vs,T as Vr,i as ut,k as ea,L as Gr,F as Ne,l as qs,I as ts,P as Gs,M as Hs,m as We,U as Cs,n as Hr,o as Ia,p as xt,q as js,t as Ta,v as Wr,D as Wt,w as ss,x as Jt,y as Xa,B as Xe,G as Jr,H as Ks,W as Pa,J as Aa,K as As,N as sa,O as Za,Q as es,X as Ue,C as Qe,a as qe,V as Qr,Y as rs,Z as ta,_ as er,$ as ns,z as me,a0 as Yr,E as os,a1 as Je,a2 as Qt,a3 as Xr,a4 as Zr,a5 as en,a6 as Ws,a7 as sr,c as nt,a8 as aa,a9 as sn,aa as ra,ab as tn,ac as ht,ad as Es,ae as Ps,af as tr,ag as Vs,ah as $t,ai as an,aj as rn,ak as nn,al as ln,am as it,an as Ct,ao as Js,ap as Ea,aq as on,ar,as as at,at as cn,au as Qs,av as Bs,aw as ls,ax as rr,ay as xs,az as dn,aA as na,aB as nr,aC as mn,aD as un,aE as ia,aF as ir,aG as la,aH as _a,aI as lr,aJ as or,aK as cr,aL as dr,aM as _t,aN as Dt,aO as oa,aP as ca,aQ as hn,aR as gs,aS as da,aT as Le,aU as ma,aV as pn,aW as xn,aX as ua,aY as gn,S as fn,aZ as jn,a_ as ha,a$ as bn,b0 as St,b1 as ys,b2 as _s,b3 as Ds,b4 as mr,b5 as ur,b6 as yn,b7 as vn,b8 as Yt,b9 as wn,ba as Nn,bb as kn,bc as pa,bd as Da,be as Cn,bf as Sn,bg as In,bh as Tn,bi as lt,bj as Ls,bk as pt,bl as La,bm as Rt,bn as xa,bo as hr,bp as Pn,bq as It,br as An,bs as En,bt as _n,bu as pr,bv as Dn,bw as xr,bx as Ln,by as zn,bz as $n,A as ga,bA as gr,bB as Rn,bC as On,bD as Mn,bE as Fn,bF as Bn,bG as Un,bH as qn,bI as Kn,bJ as Vn,bK as Gn,bL as Hn,bM as Wn,bN as Jn,bO as Qn,bP as Yn,bQ as Xn,bR as Zn,bS as ei,bT as si,bU as ti,bV as ai,bW as ri,bX as ni,bY as ii,bZ as Ze,b_ as fr,b$ as li,c0 as jr,c1 as oi,c2 as ci,c3 as di,c4 as mi,c5 as ui,b as hi,c6 as Ot,c7 as se,c8 as pi,c9 as xi,ca as gi}from"./vendor-react-P__8vGRG.js";import{a as fi,u as ji,Q as bi,c as yi}from"./vendor-query-CucHvDcH.js";import{A as br,a as we,c as $,b as yr,B as k,_ as le,I as ke,L as E,S as ze,d as $e,e as Re,f as Oe,g as Q,T as vr,h as fa,i as ja,j as Ys,k as Tt,l as Mt,m as wr,n as vi,o as wi}from"./page-template-editor-BTdVTS-a.js";import"./vendor-socket-DgcwqWsT.js";import{c as Fs}from"./vendor-ui-BkLtITBR.js";import{a as Pt}from"./vendor-utils-dq2XMRwt.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const g of i.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function a(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=a(l);fetch(l.href,i)}})();const ot={...Ht};Ts&&typeof Ts=="object"&&Object.assign(ot,Ts);Object.keys(Ht).forEach(t=>{t in ot||(ot[t]=Ht[t])});typeof window<"u"&&(window.React=ot,window.ReactDOM=Sa,globalThis.React=ot,globalThis.ReactDOM=Sa);const Ft=async()=>{try{const s=await(await fetch("/version.json?t="+Date.now())).json(),a=localStorage.getItem("app-version");if(a&&a!==s.version){if("caches"in window){const r=await caches.keys();await Promise.all(r.map(l=>caches.delete(l)))}localStorage.clear(),sessionStorage.clear(),localStorage.setItem("app-version",s.version),window.location.reload()}else a||localStorage.setItem("app-version",s.version)}catch{}},Ni=()=>{Ft(),setInterval(Ft,30*60*1e3);let t;document.addEventListener("visibilitychange",()=>{document.hidden||(clearTimeout(t),t=setTimeout(()=>{Ft()},5e3))})},Nr=n.createContext(void 0),Zs=()=>{const t=n.useContext(Nr);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},ki=({children:t,ssoClient:s,onAuthError:a})=>{const r=()=>{if(typeof window>"u")return null;const y=localStorage.getItem("admin-auth-storage");if(y)try{const c=JSON.parse(y);if(c.state&&c.state.user)return c.state.user}catch(c){console.error("Failed to parse auth storage:",c)}return null},[l,i]=n.useState(r()),[g,d]=n.useState(()=>{const y=r(),c=localStorage.getItem("accessToken")||localStorage.getItem("token");return!(y&&c)}),[x,o]=n.useState(null),h=s||new br("https://api.neture.co.kr");n.useEffect(()=>{g&&(async()=>{try{const c=r(),N=localStorage.getItem("accessToken")||localStorage.getItem("token");c&&N?(s&&typeof window<"u"&&h.checkSession().then(p=>{p.isAuthenticated||console.warn("SSO session invalid, but keeping local session")}).catch(p=>{console.warn("SSO session check failed, keeping local session:",p)}),g&&d(!1)):(i(null),d(!1))}catch(c){console.error("Initial auth check failed:",c),i(null),d(!1)}})()},[h,s,g]);const u=async y=>{try{d(!0),o(null);const c=await h.login(y);if(i(c.user),c.token){localStorage.setItem("accessToken",c.token),localStorage.setItem("authToken",c.token),localStorage.setItem("token",c.token),c.refreshToken&&localStorage.setItem("refreshToken",c.refreshToken);const N={state:{user:c.user,token:c.token,accessToken:c.token,refreshToken:c.refreshToken,isAuthenticated:!0}};localStorage.setItem("admin-auth-storage",JSON.stringify(N))}}catch(c){const N=c instanceof Error?c.message:"Login failed";throw o(N),a?.(N),c}finally{d(!1)}},f=()=>{h.logout(),i(null),o(null),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("admin-auth-storage"),localStorage.removeItem("user")},v=()=>{o(null)},w=()=>{if(!l)return null;const y=new Date,c=new Date(y.getTime()+60*60*1e3),N=c.getTime()-y.getTime();return{isValid:N>0,expiresAt:c,remainingTime:N}},m={user:l,isAuthenticated:!!l,isLoading:g,error:x,isAdmin:l?.role==="admin",login:u,logout:f,clearError:v,getSessionStatus:w};return e.jsx(Nr.Provider,{value:m,children:t})},Ci=({children:t,warningBeforeExpiry:s=5*60*1e3,onSessionExpiring:a})=>{const r=n.useRef(!1);return n.useEffect(()=>{const i=setInterval(()=>{a&&r.current},6e4);return()=>{clearInterval(i)}},[s,a]),e.jsx(e.Fragment,{children:t})},za=({showContactAdmin:t=!1})=>e.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"0.375rem",margin:"1rem"},children:[e.jsx("h2",{style:{color:"#dc3545",marginBottom:"1rem"},children:"접근 권한이 없습니다"}),e.jsx("p",{style:{color:"#6c757d",marginBottom:"1rem"},children:"이 페이지에 접근하기 위한 권한이 부족합니다."}),t&&e.jsx("p",{style:{color:"#6c757d"},children:"관리자에게 문의하시기 바랍니다."})]}),xe=({children:t,requiredRoles:s=[],requiredPermissions:a=[],showContactAdmin:r=!1})=>{const{user:l,isAuthenticated:i,isLoading:g}=Zs(),d=Xs(),x=vs();if(n.useEffect(()=>{const o=()=>{const u=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("authToken"),f=localStorage.getItem("admin-auth-storage");return!!(u||f)};let h;if(!g&&!i){const u=o()?500:100;h=window.setTimeout(()=>{!i&&!o()&&d("/login",{replace:!0,state:{from:x.pathname}})},u)}return()=>{h&&clearTimeout(h)}},[i,g,d,x]),g)return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f8fafc"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e2e8f0",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),e.jsx("p",{style:{color:"#64748b",fontSize:"14px"},children:"인증 상태 확인 중..."})]})});if(!i||!l)return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:e.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid #e2e8f0",borderTop:"2px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite"}})});if(s.length>0){const o=l.role;if(!s.includes(o))return e.jsx(za,{showContactAdmin:r})}return a.length>0&&!(l.role==="admin")?e.jsx(za,{showContactAdmin:r}):e.jsx(e.Fragment,{children:t})};if(typeof document<"u"&&!document.getElementById("auth-spinner-styles")){const t=document.createElement("style");t.id="auth-spinner-styles",t.textContent=`
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)}n.createContext(void 0);class Si extends n.Component{state={hasError:!1};static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){this.setState({error:s,errorInfo:a})}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0}),window.location.reload()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Vr,{className:"mx-auto h-12 w-12 text-red-500"}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"문제가 발생했습니다"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"예기치 않은 오류가 발생했습니다. 잠시 후 다시 시도해주세요."}),!1]}),e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(ut,{className:"mr-2 h-4 w-4"}),"페이지 새로고침"]}),e.jsx("button",{onClick:()=>window.history.back(),className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"이전 페이지로 돌아가기"})]})]})}):this.props.children}}const kr=n.createContext(void 0),wc=()=>{const t=n.useContext(kr);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Ii=({children:t,defaultTheme:s="system",storageKey:a="o4o-admin-theme"})=>{const[r,l]=n.useState(()=>{const o=localStorage.getItem(a);return o&&["light","dark","system"].includes(o)?o:s}),[i,g]=n.useState(()=>r==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r);n.useEffect(()=>{const o=document.documentElement,u=r==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r;if(g(u),o.removeAttribute("data-theme"),o.classList.remove("dark"),u==="dark"&&(o.setAttribute("data-theme","dark"),o.classList.add("dark")),localStorage.setItem(a,r),r==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)"),v=w=>{const m=w.matches?"dark":"light";g(m),o.removeAttribute("data-theme"),o.classList.remove("dark"),m==="dark"&&(o.setAttribute("data-theme","dark"),o.classList.add("dark"))};return f.addEventListener("change",v),()=>f.removeEventListener("change",v)}},[r,a]);const d=o=>{l(o)},x=()=>{l(o=>o==="light"?"dark":o==="dark"?"light":i==="light"?"dark":"light")};return e.jsx(kr.Provider,{value:{theme:r,resolvedTheme:i,setTheme:d,toggleTheme:x},children:t})};function Ti(t,s){let a;try{a=t()}catch{return}return{getItem:l=>{var i;const g=x=>x===null?null:JSON.parse(x,void 0),d=(i=a.getItem(l))!=null?i:null;return d instanceof Promise?d.then(g):g(d)},setItem:(l,i)=>a.setItem(l,JSON.stringify(i,void 0)),removeItem:l=>a.removeItem(l)}}const Xt=t=>s=>{try{const a=t(s);return a instanceof Promise?a:{then(r){return Xt(r)(a)},catch(r){return this}}}catch(a){return{then(r){return this},catch(r){return Xt(r)(a)}}}},Pi=(t,s)=>(a,r,l)=>{let i={storage:Ti(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...s},g=!1;const d=new Set,x=new Set;let o=i.storage;if(!o)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),a(...m)},r,l);const h=()=>{const m=i.partialize({...r()});return o.setItem(i.name,{state:m,version:i.version})},u=l.setState;l.setState=(m,y)=>(u(m,y),h());const f=t((...m)=>(a(...m),h()),r,l);l.getInitialState=()=>f;let v;const w=()=>{var m,y;if(!o)return;g=!1,d.forEach(N=>{var p;return N((p=r())!=null?p:f)});const c=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(m=r())!=null?m:f))||void 0;return Xt(o.getItem.bind(o))(i.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==i.version){if(i.migrate){const p=i.migrate(N.state,N.version);return p instanceof Promise?p.then(j=>[!0,j]):[!0,p]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var p;const[j,b]=N;if(v=i.merge(b,(p=r())!=null?p:f),a(v,!0),j)return h()}).then(()=>{c?.(v,void 0),v=r(),g=!0,x.forEach(N=>N(v))}).catch(N=>{c?.(void 0,N)})};return l.persist={setOptions:m=>{i={...i,...m},m.storage&&(o=m.storage)},clearStorage:()=>{o?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>g,onHydrate:m=>(d.add(m),()=>{d.delete(m)}),onFinishHydration:m=>(x.add(m),()=>{x.delete(m)})},i.skipHydration||w(),v||f},Ai=Pi,Ei={cookieName:"o4o_auth_token"},Nc={settings:{general:"/settings/general",appearance:"/settings/appearance",email:"/settings/email",integrations:"/settings/integrations"}};class _i{checkInterval=null;startSessionCheck(s){}stopSessionCheck(){this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)}async checkSession(){return{isAuthenticated:!1}}setCrossDomainCookie(s){}clearCrossDomainCookie(){}getTokenFromCookie(){const s=document.cookie.split(";");for(const a of s){const[r,l]=a.trim().split("=");if(r===Ei.cookieName)return l}return null}redirectToApp(s,a){const r=this.getTokenFromCookie();if(!r)return;const l=new URL(s);l.searchParams.set("sso_token",r),a&&l.searchParams.set("return_path",a),window.open(l.toString(),"_blank")}}const gt=new _i,Di=ea()(Ai((t,s)=>({user:null,token:null,isAuthenticated:!1,isLoading:!0,login:(a,r)=>{t({user:a,token:r,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("authToken",r),localStorage.setItem("accessToken",r),gt.setCrossDomainCookie(r)},logout:()=>{t({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("admin-auth-storage"),localStorage.removeItem("authToken"),localStorage.removeItem("accessToken"),gt.clearCrossDomainCookie()},updateUser:a=>{const r=s().user;r&&t({user:{...r,...a}})},setLoading:a=>{t({isLoading:a})},checkSSOSession:async()=>{try{const a=localStorage.getItem("admin-auth-storage");if(a)try{const i=JSON.parse(a).state;if(i?.token&&i?.user&&i?.isAuthenticated){t({user:i.user,token:i.token,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("authToken",i.token),localStorage.setItem("accessToken",i.token);return}}catch{localStorage.removeItem("admin-auth-storage")}t({isLoading:!0});const r=await gt.checkSession();if(r.isAuthenticated&&r.user){const l=gt.getTokenFromCookie()||s().token||"sso-token";t({user:{id:r.user.id,email:r.user.email,name:r.user.name,role:r.user.roles?.[0]||"user",roles:r.user.roles},token:l,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("authToken",l),localStorage.setItem("accessToken",l)}else t({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("auth-storage"),localStorage.removeItem("authToken"),localStorage.removeItem("accessToken")}catch(a){a?.response?.status===401?(t({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("auth-storage"),localStorage.removeItem("authToken"),localStorage.removeItem("accessToken")):t({isLoading:!1})}}}),{name:"admin-auth-storage",partialize:t=>({user:t.user,token:t.token,isAuthenticated:t.isAuthenticated}),onRehydrateStorage:()=>t=>{t&&(t.isLoading=!1,t.token&&t.isAuthenticated&&(localStorage.setItem("authToken",t.token),localStorage.setItem("accessToken",t.token)))}}));class Li{constructor(){this.shortcodes=new Map}register(s){const{name:a,validate:r}=s;if(!a||typeof a!="string")throw new Error("Shortcode name must be a non-empty string");if(!/^[a-zA-Z0-9_-]+$/.test(a))throw new Error(`Invalid shortcode name: ${a}. Only alphanumeric characters, underscores, and hyphens are allowed.`);if(this.shortcodes.has(a)&&console.warn(`Shortcode "${a}" is already registered. It will be overwritten.`),s.defaultAttributes&&r&&!r(s.defaultAttributes))throw new Error(`Default attributes for shortcode "${a}" are invalid`);this.shortcodes.set(a,s)}unregister(s){this.shortcodes.delete(s)}get(s){return this.shortcodes.get(s)}has(s){return this.shortcodes.has(s)}getAll(){return new Map(this.shortcodes)}clear(){this.shortcodes.clear()}}const ft=new Li;n.createContext(null);class zi{constructor(s=100,a=5*60*1e3){this.cache=new Map,this.maxSize=s,this.defaultTTL=a}generateKey(s,a,r){const l=r?.postId||r?.currentPost?.id||"global",i=Object.entries(a).sort(([g],[d])=>g.localeCompare(d)).map(([g,d])=>`${g}:${d}`).join("|");return`${s}:${l}:${i}`}get(s){const a=this.cache.get(s);return a?Date.now()>a.timestamp+a.ttl?(this.cache.delete(s),null):(this.cache.delete(s),this.cache.set(s,a),a.data):null}set(s,a,r){if(this.cache.size>=this.maxSize&&!this.cache.has(s)){const l=this.cache.keys().next().value;this.cache.delete(l)}this.cache.set(s,{data:a,timestamp:Date.now(),ttl:r||this.defaultTTL})}clearByPattern(s){const a=new RegExp(s),r=[];for(const l of this.cache.keys())a.test(l)&&r.push(l);r.forEach(l=>this.cache.delete(l))}clear(){this.cache.clear()}getStats(){return{size:this.cache.size,maxSize:this.maxSize,hitRate:0}}}const Bt=new zi,$i={cpt_list:{ttl:5*60*1e3,maxSize:50},cpt_field:{ttl:10*60*1e3,maxSize:200},acf_field:{ttl:10*60*1e3,maxSize:200},meta_field:{ttl:10*60*1e3,maxSize:200}},Cr=({error:t,fallback:s,showDetails:a=!1,className:r=""})=>{const l=t instanceof Error?t.message:t;return s?e.jsx(e.Fragment,{children:s}):e.jsxs("div",{className:`shortcode-error inline-flex items-center gap-2 text-red-600 ${r}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a?e.jsx("span",{className:"text-sm",children:l}):e.jsx("span",{className:"text-sm",children:"Failed to load content"})]})},$a=({type:t,lines:s=3,className:a=""})=>{switch(t){case"text":return e.jsx("div",{className:`shortcode-placeholder animate-pulse ${a}`,children:Array.from({length:s}).map((r,l)=>e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2",style:{width:l===s-1?"60%":"100%"}},l))});case"image":return e.jsx("div",{className:`shortcode-placeholder animate-pulse ${a}`,children:e.jsx("div",{className:"w-full h-48 bg-gray-200 rounded"})});case"list":return e.jsx("div",{className:`shortcode-placeholder animate-pulse ${a}`,children:Array.from({length:3}).map((r,l)=>e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]},l))});case"card":return e.jsx("div",{className:`shortcode-placeholder animate-pulse ${a}`,children:e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded mb-3"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})});default:return null}};class kc extends Ts.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("Shortcode Error:",s,a)}render(){return this.state.hasError?this.props.fallback||e.jsx(Cr,{error:this.state.error||"Unknown error",showDetails:!1}):this.props.children}}const Ri=({posts:t,attributes:s})=>e.jsx("div",{className:"cpt-list cpt-list--default",children:t.map(a=>e.jsxs("article",{className:"cpt-item",children:[e.jsx("h3",{children:e.jsx("a",{href:`/cpt-engine/content/${s.type}/${a.id}`,children:a.title})}),s.show_excerpt&&a.excerpt&&e.jsx("div",{className:"cpt-item__excerpt",children:a.excerpt}),s.show_meta&&e.jsxs("div",{className:"cpt-item__meta",children:[e.jsx("span",{className:"date",children:new Date(a.date).toLocaleDateString()}),a.author&&e.jsxs("span",{className:"author",children:["by ",a.author.name]})]})]},a.id))}),Oi=({posts:t,attributes:s})=>e.jsx("div",{className:"cpt-list cpt-list--grid",style:{display:"grid",gridTemplateColumns:`repeat(${s.columns||3}, 1fr)`,gap:"1.5rem"},children:t.map(a=>e.jsxs("div",{className:"cpt-grid-item",children:[s.show_thumbnail&&a.featuredImage&&e.jsx("div",{className:"cpt-grid-item__thumbnail",children:e.jsx("img",{src:a.featuredImage,alt:a.title,loading:"lazy"})}),e.jsxs("div",{className:"cpt-grid-item__content",children:[e.jsx("h3",{children:e.jsx("a",{href:`/cpt-engine/content/${s.type}/${a.id}`,children:a.title})}),s.show_excerpt&&a.excerpt&&e.jsx("p",{className:"excerpt",children:a.excerpt})]})]},a.id))}),Mi=({posts:t,attributes:s})=>e.jsx("div",{className:"cpt-list cpt-list--list",children:t.map(a=>e.jsx("div",{className:"cpt-list-item",children:e.jsxs("div",{className:"cpt-list-item__row",children:[s.show_thumbnail&&a.featuredImage&&e.jsx("div",{className:"cpt-list-item__thumbnail",children:e.jsx("img",{src:a.featuredImage,alt:a.title,loading:"lazy"})}),e.jsxs("div",{className:"cpt-list-item__content",children:[e.jsx("h3",{children:e.jsx("a",{href:`/cpt-engine/content/${s.type}/${a.id}`,children:a.title})}),s.show_excerpt&&a.excerpt&&e.jsx("p",{children:a.excerpt}),s.show_meta&&e.jsxs("div",{className:"meta",children:[e.jsx("span",{children:new Date(a.date).toLocaleDateString()}),a.author&&e.jsxs("span",{children:[" • ",a.author.name]})]})]})]})},a.id))}),Fi=({posts:t,attributes:s})=>e.jsx("div",{className:"cpt-list cpt-list--cards",style:{display:"grid",gridTemplateColumns:`repeat(${s.columns||2}, 1fr)`,gap:"2rem"},children:t.map(a=>e.jsxs("div",{className:"cpt-card",children:[s.show_thumbnail&&a.featuredImage&&e.jsx("div",{className:"cpt-card__image",children:e.jsx("img",{src:a.featuredImage,alt:a.title,loading:"lazy"})}),e.jsxs("div",{className:"cpt-card__body",children:[e.jsx("h3",{className:"cpt-card__title",children:e.jsx("a",{href:`/cpt-engine/content/${s.type}/${a.id}`,children:a.title})}),s.show_excerpt&&a.excerpt&&e.jsx("p",{className:"cpt-card__excerpt",children:a.excerpt}),s.show_meta&&e.jsxs("div",{className:"cpt-card__meta",children:[e.jsx("span",{className:"date",children:new Date(a.date).toLocaleDateString()}),a.author&&e.jsxs("span",{className:"author",children:[" • ",a.author.name]})]}),e.jsx("a",{href:`/cpt-engine/content/${s.type}/${a.id}`,className:"cpt-card__link",children:"자세히 보기 →"})]})]},a.id))}),Ra={default:Ri,grid:Oi,list:Mi,card:Fi},Bi=({attributes:t,context:s})=>{const[a,r]=n.useState([]),[l,i]=n.useState(!0),[g,d]=n.useState(null),x=t,o={...x,type:x.type||"post",count:x.count||10,orderby:x.orderby||"date",order:x.order||"DESC",status:x.status||"publish",template:x.template||"default",columns:x.columns||3,show_thumbnail:x.show_thumbnail!==!1,show_excerpt:x.show_excerpt!==!1,show_meta:x.show_meta!==!1,cache:x.cache!==!1};if(n.useEffect(()=>{const u=async()=>{try{i(!0);const f=Bt.generateKey("cpt_list",o,s);if(o.cache){const c=Bt.get(f);if(c){r(c),d(null),i(!1);return}}const v=new URLSearchParams({limit:o.count.toString(),orderby:o.orderby,order:o.order,status:o.status});o.meta_key&&v.append("meta_key",o.meta_key),o.meta_value&&v.append("meta_value",o.meta_value);const w=await fetch(`/api/cpt/${o.type}/posts?${v}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!w.ok)throw new Error(`Failed to fetch ${o.type} posts`);const m=await w.json(),y=(m.data||m||[]).map(c=>({id:c.id,title:c.title||"Untitled",slug:c.slug,content:c.content,excerpt:c.excerpt,featuredImage:c.featuredImage||c.thumbnail,author:c.author,date:c.createdAt||c.date,modified:c.updatedAt||c.modified,status:c.status,meta:c.meta||{},acf:c.customFields||c.acf||{},taxonomies:c.taxonomies}));o.cache&&Bt.set(f,y,$i.cpt_list.ttl),r(y),d(null)}catch(f){console.error("Error fetching CPT posts:",f),d(f instanceof Error?f.message:"Failed to load posts"),r([])}finally{i(!1)}};o.type&&u()},[o.type,o.count,o.orderby,o.order,o.cache,s]),l)return e.jsx("div",{className:"cpt-list-loading",children:o.template==="grid"?e.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${o.columns||3}, 1fr)`,gap:"1.5rem"},children:Array.from({length:Math.min(o.count||3,6)}).map((u,f)=>e.jsx($a,{type:"card"},f))}):e.jsx($a,{type:"list",lines:Math.min(o.count||3,5)})});if(g)return e.jsxs("div",{className:"cpt-list-error",children:[e.jsx(Cr,{error:g,showDetails:!0,className:"mb-2"}),e.jsxs("p",{className:"cpt-list-error__shortcode text-xs text-gray-500",children:['[cpt_list type="',o.type,'" count="',o.count,'"]']})]});if(a.length===0)return e.jsx("div",{className:"cpt-list-empty",children:e.jsxs("p",{children:["No ",o.type," posts found."]})});const h=Ra[o.template]||Ra.default;return e.jsx(h,{posts:a,attributes:o})},$s={date:(t,s)=>{const a=new Date(t);if(s==="relative"){const r=new Intl.RelativeTimeFormat("ko",{numeric:"auto"}),l=(a.getTime()-Date.now())/1e3;return Math.abs(l)<60?r.format(Math.round(l),"second"):Math.abs(l)<3600?r.format(Math.round(l/60),"minute"):Math.abs(l)<86400?r.format(Math.round(l/3600),"hour"):r.format(Math.round(l/86400),"day")}return a.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})},currency:t=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(t),number:(t,s)=>s==="comma"?new Intl.NumberFormat("ko-KR").format(t):String(t),excerpt:(t,s)=>{const a=s?parseInt(s):100;return t.length<=a?t:t.substring(0,a)+"..."},default:t=>String(t||"")},Ui=({attributes:t,context:s})=>{const[a,r]=n.useState(null),[l,i]=n.useState(!0),[g,d]=n.useState(null),x=t,o=s,h=x.post_id||o?.postId||"current",u=x.post_type||o?.postType||"post",f=x.field;if(n.useEffect(()=>{f?(async()=>{try{if(i(!0),h==="current"&&s?.currentPost){const m=s.currentPost;let y;switch(f){case"title":y=m.title;break;case"content":y=m.content;break;case"excerpt":y=m.excerpt;break;case"date":y=m.date||m.createdAt;break;case"modified":y=m.modified||m.updatedAt;break;case"author":y=m.author?.name||"Unknown";break;case"author_email":y=m.author?.email||"";break;case"status":y=m.status;break;case"slug":y=m.slug;break;case"featured_image":case"thumbnail":y=m.featuredImage||m.thumbnail;break;default:y=m.meta?.[f]||m.customFields?.[f]||m[f]}r(y)}else{const m=await fetch(`/api/cpt/${u}/posts/${h}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!m.ok)throw new Error(`Failed to fetch post ${h}`);const y=await m.json(),c=y.data||y;let N;switch(f){case"title":N=c.title;break;case"content":N=c.content;break;case"excerpt":N=c.excerpt;break;case"date":N=c.createdAt||c.date;break;case"modified":N=c.updatedAt||c.modified;break;case"author":N=c.author?.name||"Unknown";break;case"author_email":N=c.author?.email||"";break;case"status":N=c.status;break;case"slug":N=c.slug;break;case"featured_image":case"thumbnail":N=c.featuredImage||c.thumbnail;break;default:N=c.meta?.[f]||c.customFields?.[f]||c[f]}r(N)}d(null)}catch(m){console.error("Error fetching CPT field:",m),d(m instanceof Error?m.message:"Failed to load field"),r(null)}finally{i(!1)}})():(d("Field name is required"),i(!1))},[h,u,f,s]),l)return e.jsx("span",{className:"cpt-field-loading",children:"..."});if(g)return x.default?e.jsx("span",{className:"cpt-field-default",children:x.default}):e.jsxs("span",{className:"cpt-field-error",title:g,children:["[",f,"]"]});if(a==null)return x.default?e.jsx("span",{className:"cpt-field-default",children:x.default}):null;let v=a;if(x.format?v=($s[x.format]||$s.default)(a,x.format):f==="date"||f==="modified"||f.includes("_date")?v=$s.date(a):f==="price"||f.includes("_price")||f.includes("_cost")?v=$s.currency(a):f==="excerpt"?v=$s.excerpt(a):f==="featured_image"||f==="thumbnail"?v=e.jsx("img",{src:a,alt:"",className:`cpt-field-image ${x.class||""}`,loading:"lazy"}):v=$s.default(a),x.wrapper){const w=x.wrapper;return n.createElement(w,{className:`cpt-field cpt-field--${f} ${x.class||""}`},v)}return Ts.isValidElement(v)?v:e.jsx("span",{className:`cpt-field cpt-field--${f} ${x.class||""}`,children:v})},qi=(t,s,a,r)=>{if(t==null)return r?.default||"";switch(s){case"image":if(typeof t=="object"&&t.url){const i=r?.size||"full",g=t.sizes?.[i]?.url||t.url;return e.jsx("img",{src:g,alt:t.alt||"",title:t.title||"",className:`acf-field-image ${r?.class||""}`,loading:"lazy"})}return e.jsx("img",{src:t,alt:"",className:`acf-field-image ${r?.class||""}`,loading:"lazy"});case"gallery":return Array.isArray(t)?e.jsx("div",{className:`acf-field-gallery ${r?.class||""}`,children:t.map((i,g)=>e.jsx("img",{src:i.url||i,alt:i.alt||"",className:"acf-gallery-image",loading:"lazy"},g))}):null;case"date_picker":case"date_time_picker":return new Date(t).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",...s==="date_time_picker"&&{hour:"2-digit",minute:"2-digit"}});case"time_picker":return t;case"true_false":return t?"예":"아니오";case"select":case"radio":return typeof t=="object"&&t.label?t.label:t;case"checkbox":if(Array.isArray(t)){const i=r?.separator||", ";return t.map(g=>g.label||g).join(i)}return t;case"relationship":case"post_object":return Array.isArray(t)?e.jsx("ul",{className:`acf-field-posts ${r?.class||""}`,children:t.map(i=>e.jsx("li",{children:e.jsx("a",{href:i.permalink||`/cpt-engine/content/post/${i.ID||i.id}`,children:i.post_title||i.title})},i.ID||i.id))}):typeof t=="object"&&t.post_title?e.jsx("a",{href:t.permalink||`/cpt-engine/content/post/${t.ID}`,children:t.post_title}):t;case"user":return typeof t=="object"?t.display_name||t.name||t.user_nicename:t;case"taxonomy":if(Array.isArray(t)){const i=r?.separator||", ";return t.map(g=>g.name||g).join(i)}return typeof t=="object"&&t.name?t.name:t;case"repeater":return Array.isArray(t)?e.jsx("div",{className:`acf-field-repeater ${r?.class||""}`,children:t.map((i,g)=>e.jsx("div",{className:"acf-repeater-row",children:Object.entries(i).map(([d,x])=>e.jsxs("div",{className:"acf-repeater-field",children:[e.jsxs("span",{className:"field-label",children:[d,": "]}),e.jsx("span",{className:"field-value",children:String(x)})]},d))},g))}):null;case"url":return e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:r?.class||"",children:t});case"email":return e.jsx("a",{href:`mailto:${t}`,className:r?.class||"",children:t});case"number":return a==="currency"||r?.name?.includes("price")||r?.name?.includes("cost")?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(t):a==="comma"?new Intl.NumberFormat("ko-KR").format(t):t;case"wysiwyg":case"textarea":return a==="html"||s==="wysiwyg"?e.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:r?.class||""}):t;default:return String(t)}},Ki=({attributes:t,context:s})=>{const[a,r]=n.useState(null),[l,i]=n.useState(!0),[g,d]=n.useState(null),x=t,o=s,h=x.name,u=x.post_id||o?.postId||"current";if(n.useEffect(()=>{(async()=>{try{if(i(!0),!h)throw new Error("Field name is required");if(u==="current"&&s?.currentPost?.acf){const m=s.currentPost.acf[h];if(m!==void 0)r({value:m,type:x.type||"text",formatted:String(m)});else throw new Error(`ACF field "${h}" not found`)}else{const w=u==="current"?o?.postId:u;if(!w)throw new Error("Unable to determine post ID");const m=await fetch(`/api/acf/fields/${h}/value?post_id=${w}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!m.ok)throw new Error(`Failed to fetch ACF field "${h}"`);const y=await m.json();r({value:y.value,type:y.type||x.type||"text",formatted:y.formatted||String(y.value)})}d(null)}catch(w){console.error("Error fetching ACF field:",w),d(w instanceof Error?w.message:"Failed to load ACF field"),r(null)}finally{i(!1)}})()},[h,u,s,x.type]),l)return e.jsx("span",{className:"acf-field-loading",children:"..."});if(g)return x.default?e.jsx("span",{className:"acf-field-default",children:x.default}):e.jsxs("span",{className:"acf-field-error",title:g,children:["[acf:",h,"]"]});if(!a||a.value===null||a.value===void 0)return x.default?e.jsx("span",{className:"acf-field-default",children:x.default}):null;const f=qi(a.value,a.type,x.format,x);if(x.wrapper){const v=x.wrapper;return n.createElement(v,{className:`acf-field acf-field--${h} acf-type--${a.type} ${x.class||""}`},f)}return Ts.isValidElement(f)?f:e.jsx("span",{className:`acf-field acf-field--${h} acf-type--${a.type} ${x.class||""}`,children:f})},Sr=(t,s,a)=>{if(Array.isArray(t))return t.join(", ");if(typeof t=="object"&&t!==null)return t.data?Sr(t.data,s,a):JSON.stringify(t);if(a==="boolean"||s.includes("_is_")||s.includes("_has_"))return t?"예":"아니오";if(a==="currency"||s.includes("_price")||s.includes("_cost")||s.includes("_amount")){const r=parseFloat(t);if(!isNaN(r))return new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(r)}if(a==="date"||s.includes("_date")||s.includes("_time")){const r=new Date(t);if(!isNaN(r.getTime()))return r.toLocaleDateString("ko-KR")}if(a==="number"||s.includes("_count")||s.includes("_qty")||s.includes("_quantity")){const r=parseFloat(t);if(!isNaN(r))return new Intl.NumberFormat("ko-KR").format(r)}switch(s){case"_thumbnail_id":return`Image ID: ${t}`;case"_wp_page_template":return t==="default"?"Default Template":t;case"_edit_lock":const[,r]=String(t).split(":");return`Locked by user ${r}`;case"_stock_status":return t==="instock"?"재고 있음":t==="outofstock"?"품절":t;case"_visibility":return t==="visible"?"공개":t==="hidden"?"비공개":t;case"_featured":return t==="yes"?"추천":"";case"_downloadable":case"_virtual":return t==="yes"?"예":"아니오"}return String(t)},Vi=({attributes:t,context:s})=>{const[a,r]=n.useState(null),[l,i]=n.useState(!0),[g,d]=n.useState(null),x=t,o=s,h=x.key,u=x.post_id||o?.postId||"current",f=x.single!==!1;if(n.useEffect(()=>{(async()=>{try{if(i(!0),!h)throw new Error("Meta key is required");if(u==="current"&&s?.currentPost?.meta){const y=s.currentPost.meta[h];r(y!==void 0?f&&Array.isArray(y)?y[0]:y:null)}else{const m=u==="current"?o?.postId:u;if(!m)throw new Error("Unable to determine post ID");const y=await fetch(`/api/posts/${m}/meta/${h}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(y.status===404)r(null);else if(y.ok){const c=await y.json();r(f&&Array.isArray(c.value)?c.value[0]:c.value)}else throw new Error(`Failed to fetch meta field "${h}"`)}d(null)}catch(m){console.error("Error fetching meta field:",m),d(m instanceof Error?m.message:"Failed to load meta field"),r(null)}finally{i(!1)}})()},[h,u,f,s]),l)return e.jsx("span",{className:"meta-field-loading",children:"..."});if(g)return x.default?e.jsx("span",{className:"meta-field-default",children:x.default}):e.jsxs("span",{className:"meta-field-error",title:g,children:["[meta:",h,"]"]});if(a==null||a==="")return x.default?e.jsx("span",{className:"meta-field-default",children:x.default}):null;const v=Sr(a,h,x.format);if(h==="_thumbnail_id"&&a)return e.jsx("img",{src:`/api/media/${a}`,alt:"",className:`meta-field-thumbnail ${x.class||""}`,loading:"lazy"});if(x.wrapper){const w=x.wrapper;return n.createElement(w,{className:`meta-field meta-field--${h.replace(/^_/,"")} ${x.class||""}`},v)}return e.jsx("span",{className:`meta-field meta-field--${h.replace(/^_/,"")} ${x.class||""}`,children:v})};function Gi(){ft.register({name:"cpt_list",component:Bi,defaultAttributes:{type:"post",count:10,template:"default"}}),ft.register({name:"cpt_field",component:Ui,defaultAttributes:{field:"title"}}),ft.register({name:"acf_field",component:Ki,defaultAttributes:{format:"formatted"}}),ft.register({name:"meta_field",component:Vi,defaultAttributes:{single:!0}})}Gi();class Oa{static MIGRATED_KEY="ai_config_migrated_v2";static migrateOldConfigs(){if(!localStorage.getItem(this.MIGRATED_KEY))try{localStorage.getItem("ai_default_model_gemini")==="gemini-pro"&&localStorage.setItem("ai_default_model_gemini","gemini-2.5-flash");const a=localStorage.getItem("ai_api_keys");if(a)try{JSON.parse(a).gemini&&!localStorage.getItem("ai_default_model_gemini")&&localStorage.setItem("ai_default_model_gemini","gemini-2.5-flash")}catch{}for(let r=0;r<localStorage.length;r++){const l=localStorage.key(r);if(l){const i=localStorage.getItem(l);if(i&&i.includes("gemini-pro")){const g=i.replace(/gemini-pro/g,"gemini-2.5-flash");localStorage.setItem(l,g)}}}localStorage.setItem(this.MIGRATED_KEY,new Date().toISOString())}catch{}}static debugAIConfigs(){const s={};for(let a=0;a<localStorage.length;a++){const r=localStorage.key(a);if(r&&(r.includes("ai")||r.includes("gemini")||r.includes("model"))){const l=localStorage.getItem(r);l&&(s[r]=l)}}return s}static forceResetGeminiPro(){let s=0;for(let a=0;a<localStorage.length;a++){const r=localStorage.key(a);if(r){const l=localStorage.getItem(r);if(l&&l.includes("gemini-pro"))if(r.includes("model")){const i=l.replace(/gemini-pro/g,"gemini-2.5-flash");localStorage.setItem(r,i),s++}else localStorage.removeItem(r),s++}}s>0&&localStorage.setItem(this.MIGRATED_KEY,new Date().toISOString())}}typeof window<"u"&&(Oa.migrateOldConfigs(),window.AIConfigMigration=Oa);const Hi=[{id:"dashboard",label:"대시보드",icon:e.jsx(Gr,{className:"w-5 h-5"}),path:"/admin"},{id:"posts",label:"글",icon:e.jsx(Ne,{className:"w-5 h-5"}),children:[{id:"posts-all",label:"모든 글",icon:e.jsx(Ne,{className:"w-4 h-4"}),path:"/posts"},{id:"posts-new",label:"새 글 추가",icon:e.jsx(Ne,{className:"w-4 h-4"}),path:"/editor/posts/new"},{id:"posts-categories",label:"카테고리",icon:e.jsx(qs,{className:"w-4 h-4"}),path:"/posts/categories"},{id:"posts-tags",label:"태그",icon:e.jsx(qs,{className:"w-4 h-4"}),path:"/posts/tags"}]},{id:"media",label:"미디어",icon:e.jsx(ts,{className:"w-5 h-5"}),children:[{id:"media-library",label:"라이브러리",icon:e.jsx(ts,{className:"w-4 h-4"}),path:"/media"},{id:"media-new",label:"새로 추가",icon:e.jsx(ts,{className:"w-4 h-4"}),path:"/media/new"}]},{id:"pages",label:"페이지",icon:e.jsx(Ne,{className:"w-5 h-5"}),children:[{id:"pages-all",label:"모든 페이지",icon:e.jsx(Ne,{className:"w-4 h-4"}),path:"/pages"},{id:"pages-new",label:"새 페이지 추가",icon:e.jsx(Ne,{className:"w-4 h-4"}),path:"/editor/pages/new"}]},{id:"appearance",label:"외모",icon:e.jsx(Gs,{className:"w-5 h-5"}),children:[{id:"customize",label:"사용자 정의하기",icon:e.jsx(Gs,{className:"w-4 h-4"}),path:"/customize"},{id:"menus",label:"메뉴",icon:e.jsx(Hs,{className:"w-4 h-4"}),path:"/appearance/menus"},{id:"template-parts",label:"템플릿 파트",icon:e.jsx(We,{className:"w-4 h-4"}),path:"/appearance/template-parts"}]},{id:"users",label:"사용자",icon:e.jsx(Cs,{className:"w-5 h-5"}),children:[{id:"users-all",label:"모든 사용자",icon:e.jsx(Cs,{className:"w-4 h-4"}),path:"/users"},{id:"users-new",label:"새로 추가",icon:e.jsx(Hr,{className:"w-4 h-4"}),path:"/users/new"},{id:"users-profile",label:"프로필",icon:e.jsx(Cs,{className:"w-4 h-4"}),path:"/users/profile"},{id:"users-roles",label:"역할 관리",icon:e.jsx(Ia,{className:"w-4 h-4"}),path:"/users/roles"},{id:"users-statistics",label:"사용자 통계",icon:e.jsx(xt,{className:"w-4 h-4"}),path:"/users/statistics"}]},{id:"separator-1",label:"",icon:e.jsx(e.Fragment,{}),separator:!0},{id:"dropshipping",label:"드롭쉬핑",icon:e.jsx(Jt,{className:"w-5 h-5"}),children:[{id:"ds-products",label:"상품 관리",icon:e.jsx(js,{className:"w-4 h-4"}),path:"/dropshipping/products"},{id:"ds-suppliers",label:"공급자",icon:e.jsx(Ta,{className:"w-4 h-4"}),path:"/dropshipping/suppliers"},{id:"ds-sellers",label:"판매자",icon:e.jsx(Ia,{className:"w-4 h-4"}),path:"/dropshipping/sellers"},{id:"ds-partners",label:"파트너",icon:e.jsx(Cs,{className:"w-4 h-4"}),path:"/dropshipping/partners"},{id:"ds-approvals",label:"승인 관리",icon:e.jsx(Wr,{className:"w-4 h-4"}),path:"/dropshipping/approvals"},{id:"ds-commissions",label:"수수료 정책",icon:e.jsx(Wt,{className:"w-4 h-4"}),path:"/dropshipping/commissions"},{id:"ds-setup",label:"시스템 설정",icon:e.jsx(ss,{className:"w-4 h-4"}),path:"/dropshipping/setup"}]},{id:"crowdfunding",label:"크라우드펀딩",icon:e.jsx(Wt,{className:"w-5 h-5"}),children:[{id:"crowdfunding-projects",label:"프로젝트 관리",icon:e.jsx(Ne,{className:"w-4 h-4"}),path:"/crowdfunding/projects"},{id:"crowdfunding-backers",label:"후원자 관리",icon:e.jsx(Cs,{className:"w-4 h-4"}),path:"/crowdfunding/backers"},{id:"crowdfunding-rewards",label:"리워드 관리",icon:e.jsx(js,{className:"w-4 h-4"}),path:"/crowdfunding/rewards"},{id:"crowdfunding-payments",label:"결제 관리",icon:e.jsx(Xa,{className:"w-4 h-4"}),path:"/crowdfunding/payments"},{id:"crowdfunding-reports",label:"보고서",icon:e.jsx(xt,{className:"w-4 h-4"}),path:"/crowdfunding/reports"},{id:"crowdfunding-settings",label:"설정",icon:e.jsx(ss,{className:"w-4 h-4"}),path:"/crowdfunding/settings"}]},{id:"ecommerce",label:"이커머스",icon:e.jsx(Ta,{className:"w-5 h-5"}),children:[{id:"ecommerce-products",label:"상품 관리",icon:e.jsx(js,{className:"w-4 h-4"}),path:"/ecommerce/products"},{id:"ecommerce-orders",label:"주문 관리",icon:e.jsx(Jt,{className:"w-4 h-4"}),path:"/ecommerce/orders"},{id:"ecommerce-customers",label:"고객 관리",icon:e.jsx(Cs,{className:"w-4 h-4"}),path:"/ecommerce/customers"},{id:"ecommerce-coupons",label:"쿠폰 관리",icon:e.jsx(qs,{className:"w-4 h-4"}),path:"/ecommerce/coupons"},{id:"ecommerce-reports",label:"매출 보고서",icon:e.jsx(xt,{className:"w-4 h-4"}),path:"/ecommerce/reports"},{id:"ecommerce-settings",label:"설정",icon:e.jsx(ss,{className:"w-4 h-4"}),path:"/ecommerce/settings"}]},{id:"forum",label:"포럼",icon:e.jsx(Xe,{className:"w-5 h-5"}),children:[{id:"forum-boards",label:"게시판 관리",icon:e.jsx(Xe,{className:"w-4 h-4"}),path:"/forum/boards"},{id:"forum-categories",label:"카테고리",icon:e.jsx(Jr,{className:"w-4 h-4"}),path:"/forum/categories"},{id:"forum-posts",label:"게시글 관리",icon:e.jsx(Ne,{className:"w-4 h-4"}),path:"/forum/posts"},{id:"forum-comments",label:"댓글 관리",icon:e.jsx(Xe,{className:"w-4 h-4"}),path:"/forum/comments"},{id:"forum-reports",label:"신고 관리",icon:e.jsx(Ks,{className:"w-4 h-4"}),path:"/forum/reports"},{id:"forum-settings",label:"설정",icon:e.jsx(ss,{className:"w-4 h-4"}),path:"/forum/settings"}]},{id:"separator-2",label:"",icon:e.jsx(e.Fragment,{}),separator:!0},{id:"tools",label:"도구",icon:e.jsx(Pa,{className:"w-5 h-5"}),children:[{id:"tools-available",label:"사용 가능한 도구",icon:e.jsx(Pa,{className:"w-4 h-4"}),path:"/tools"},{id:"tools-import",label:"가져오기",icon:e.jsx(Ne,{className:"w-4 h-4"}),path:"/tools/import"},{id:"tools-export",label:"내보내기",icon:e.jsx(Ne,{className:"w-4 h-4"}),path:"/tools/export"},{id:"cpt-engine",label:"CPT 엔진",icon:e.jsx(js,{className:"w-4 h-4"}),path:"/cpt-engine"}]},{id:"settings",label:"설정",icon:e.jsx(ss,{className:"w-5 h-5"}),path:"/settings"},{id:"monitoring",label:"시스템 모니터링",icon:e.jsx(Aa,{className:"w-5 h-5"}),children:[{id:"monitoring-dashboard",label:"통합 모니터링",icon:e.jsx(Aa,{className:"w-4 h-4"}),path:"/monitoring"},{id:"performance",label:"성능 대시보드",icon:e.jsx(xt,{className:"w-4 h-4"}),path:"/monitoring/performance"},{id:"security-logs",label:"보안 로그",icon:e.jsx(Ks,{className:"w-4 h-4"}),path:"/monitoring/security"}]},{id:"collapse",label:"메뉴 접기",icon:e.jsx(As,{className:"w-5 h-5"}),path:"#collapse"}],Te="/cpt",Wi={async getAllTypes(t){const s=t===!0?"?active=true":"";return(await we.api.get(`${Te}/types${s}`)).data},async getTypeBySlug(t){return(await we.api.get(`${Te}/types/${t}`)).data},async createType(t){return(await we.api.post(`${Te}/types`,t)).data},async updateType(t,s){return(await we.api.put(`${Te}/types/${t}`,s)).data},async deleteType(t){return(await we.api.delete(`${Te}/types/${t}`)).data},async initializeDefaults(){return(await we.api.post(`${Te}/initialize`)).data}},Cc={async getAll(t){const s=t?`?postType=${t}`:"";return(await we.api.get(`${Te}/field-groups${s}`)).data},async getById(t){return(await we.api.get(`${Te}/field-groups/${t}`)).data},async create(t){return(await we.api.post(`${Te}/field-groups`,t)).data},async update(t,s){return(await we.api.put(`${Te}/field-groups/${t}`,s)).data},async delete(t){return(await we.api.delete(`${Te}/field-groups/${t}`)).data}},Sc={async getAll(){return(await we.api.get(`${Te}/taxonomies`)).data},async getById(t){return(await we.api.get(`${Te}/taxonomies/${t}`)).data},async create(t){return(await we.api.post(`${Te}/taxonomies`,t)).data},async update(t,s){return(await we.api.put(`${Te}/taxonomies/${t}`,s)).data},async delete(t){return(await we.api.delete(`${Te}/taxonomies/${t}`)).data},async getTerms(t){return(await we.api.get(`${Te}/taxonomies/${t}/terms`)).data},async createTerm(t,s){return(await we.api.post(`${Te}/taxonomies/${t}/terms`,s)).data},async updateTerm(t,s,a){return(await we.api.put(`${Te}/taxonomies/${t}/terms/${s}`,a)).data},async deleteTerm(t,s){return(await we.api.delete(`${Te}/taxonomies/${t}/terms/${s}`)).data}},Ic={async getPostsByType(t,s={}){const a=new URLSearchParams;s.page&&a.append("page",s.page.toString()),s.limit&&a.append("limit",s.limit.toString()),s.status&&a.append("status",s.status),s.search&&a.append("search",s.search),s.orderBy&&a.append("orderBy",s.orderBy),s.order&&a.append("order",s.order);const r=a.toString(),l=`${Te}/${t}/posts${r?`?${r}`:""}`;return(await we.api.get(l)).data},async getPost(t,s){return(await we.api.get(`${Te}/${t}/posts/${s}`)).data},async createPost(t,s){return(await we.api.post(`${Te}/${t}/posts`,s)).data},async updatePost(t,s,a){return(await we.api.put(`${Te}/${t}/posts/${s}`,a)).data},async deletePost(t,s){return(await we.api.delete(`${Te}/${t}/posts/${s}`)).data},async bulkAction(t,s,a){return(await we.api.post(`${Te}/${t}/posts/bulk`,{action:s,ids:a})).data}},Ji=()=>{const{data:t,isLoading:s}=fi({queryKey:["cpt-menu-items"],queryFn:async()=>(await Wi.getAllTypes(!0)).data,staleTime:3e5,gcTime:6e5,refetchOnMount:!1,refetchOnWindowFocus:!1}),a=t||[],r=()=>{const i=[],g=(a||[]).filter(d=>d?.showInMenu&&d?.isActive).sort((d,x)=>(d.menuPosition||50)-(x.menuPosition||50));return g.length>0&&(i.push({id:"separator-cpt",label:"",icon:e.jsx(e.Fragment,{}),separator:!0}),g.forEach(d=>{const x=l(d.icon);i.push({id:`cpt-${d.slug}`,label:d.label||d.singularLabel||d.slug,icon:e.jsx(x,{className:"w-5 h-5"}),children:[{id:`cpt-${d.slug}-all`,label:`모든 ${d.label}`,icon:e.jsx(Ne,{className:"w-4 h-4"}),path:`/cpt-engine/content/${d.slug}`},{id:`cpt-${d.slug}-new`,label:`새 ${d.singularLabel} 추가`,icon:e.jsx(Ne,{className:"w-4 h-4"}),path:`/cpt-engine/content/${d.slug}/new`}]})})),i},l=i=>({"file-text":Ne,package:js,"file-code":Za,database:sa,layout:We})[i||"file-text"]||Ne;return{cptMenuItems:r(),isLoading:s,cptTypes:a}},Qi=(t,s)=>{if(s.length===0)return t;const a=[...t],r=a.findIndex(l=>l.id==="cpt-engine");if(r!==-1)a.splice(r+1,0,...s);else{const l=a.findIndex(i=>i.id==="posts");if(l!==-1)a.splice(l+1,0,...s);else{const i=a.findIndex(g=>g.id==="collapse");i!==-1?a.splice(i,0,...s):a.push(...s)}}return a},Yi={retail:"소매업",wholesale:"도매업",manufacturing:"제조업",service:"서비스업",technology:"기술업",consulting:"컨설팅",other:"기타"};Object.entries(Yi).map(([t,s])=>({value:t,label:s}));const Xi=[{menuId:"home",roles:["admin","business","affiliate","customer","seller","supplier","manager","retailer"]},{menuId:"dashboard",roles:["admin","business","affiliate","customer","seller","supplier","manager","retailer"]},{menuId:"dashboard-home",roles:["admin","business","affiliate","customer","seller","supplier","manager","retailer"]},{menuId:"dashboard-updates",roles:["admin","manager"],permissions:["updates:read"]},{menuId:"posts",roles:["admin","manager","business"],permissions:["content:read"]},{menuId:"posts-all",roles:["admin","manager","business"],permissions:["content:read"]},{menuId:"posts-new",roles:["admin","manager","business"],permissions:["content:write"]},{menuId:"posts-categories",roles:["admin","manager"],permissions:["categories:read"]},{menuId:"posts-tags",roles:["admin","manager"],permissions:["categories:read"]},{menuId:"media",roles:["admin","manager","business","seller","supplier"],permissions:["media:read"]},{menuId:"media-library",roles:["admin","manager","business","seller","supplier"],permissions:["media:read"]},{menuId:"media-new",roles:["admin","manager","business","seller","supplier"],permissions:["media:write"]},{menuId:"pages",roles:["admin","manager"],permissions:["pages:read"]},{menuId:"pages-all",roles:["admin","manager"],permissions:["pages:read"]},{menuId:"pages-new",roles:["admin","manager"],permissions:["pages:write"]},{menuId:"ecommerce",roles:["admin","manager","business","seller","supplier","retailer"],permissions:["ecommerce:read"]},{menuId:"products",roles:["admin","manager","business","seller","supplier","retailer"],permissions:["products:read"]},{menuId:"orders",roles:["admin","manager","business","seller","supplier","retailer"],permissions:["orders:read"]},{menuId:"coupons",roles:["admin","manager","business"],permissions:["coupons:read"]},{menuId:"reports",roles:["admin","manager","business","seller","supplier"],permissions:["analytics:read"]},{menuId:"ecommerce-tools",roles:["admin","manager","business"],permissions:["products:read"]},{menuId:"ecommerce-settings",roles:["admin","manager"],permissions:["settings:write"]},{menuId:"vendors",roles:["admin","manager"],permissions:["vendors:read"]},{menuId:"vendors-all",roles:["admin","manager"],permissions:["vendors:read"]},{menuId:"vendors-pending",roles:["admin","manager"],permissions:["vendors:write"]},{menuId:"vendors-commission",roles:["admin","manager"],permissions:["vendors:write"]},{menuId:"vendors-reports",roles:["admin","manager"],permissions:["vendors:read"]},{menuId:"affiliate",roles:["admin","manager","affiliate"],permissions:["affiliate:read"]},{menuId:"affiliates-manage",roles:["admin","manager"],permissions:["affiliate:write"]},{menuId:"affiliate-links",roles:["admin","manager","affiliate"],permissions:["affiliate:read"]},{menuId:"affiliate-commission",roles:["admin","manager","affiliate"],permissions:["affiliate:read"]},{menuId:"affiliate-analytics",roles:["admin","manager","affiliate"],permissions:["affiliate:read"]},{menuId:"forum",roles:["admin","manager","business","affiliate","seller","supplier","retailer"],permissions:["forum:read"]},{menuId:"forum-boards",roles:["admin","manager","business"],permissions:["forum:read"]},{menuId:"forum-categories",roles:["admin","manager","business"],permissions:["forum:read"]},{menuId:"forum-posts",roles:["admin","manager","business"],permissions:["forum:read"]},{menuId:"forum-comments",roles:["admin","manager"],permissions:["forum:read"]},{menuId:"forum-reports",roles:["admin","manager"],permissions:["forum:read"]},{menuId:"forum-settings",roles:["admin"],permissions:["forum:write"]},{menuId:"signage",roles:["admin","manager","business"],permissions:["signage:read"]},{menuId:"signage-screens",roles:["admin","manager","business"],permissions:["signage:read"]},{menuId:"signage-content",roles:["admin","manager","business"],permissions:["signage:read"]},{menuId:"signage-playlists",roles:["admin","manager","business"],permissions:["signage:read"]},{menuId:"signage-schedule",roles:["admin","manager","business"],permissions:["signage:write"]},{menuId:"signage-devices",roles:["admin","manager"],permissions:["signage:write"]},{menuId:"signage-analytics",roles:["admin","manager","business"],permissions:["signage:read"]},{menuId:"crowdfunding",roles:["admin","manager","business"],permissions:["crowdfunding:read"]},{menuId:"crowdfunding-projects",roles:["admin","manager","business"],permissions:["crowdfunding:read"]},{menuId:"crowdfunding-backers",roles:["admin","manager","business"],permissions:["crowdfunding:read"]},{menuId:"crowdfunding-rewards",roles:["admin","manager","business"],permissions:["crowdfunding:read"]},{menuId:"crowdfunding-payments",roles:["admin","manager"],permissions:["crowdfunding:write"]},{menuId:"crowdfunding-reports",roles:["admin","manager","business"],permissions:["crowdfunding:read"]},{menuId:"crowdfunding-settings",roles:["admin"],permissions:["crowdfunding:write"]},{menuId:"mail",roles:["admin","manager"],permissions:["mail:read"]},{menuId:"mail-templates",roles:["admin","manager"],permissions:["mail:write"]},{menuId:"mail-smtp",roles:["admin"],permissions:["settings:write"]},{menuId:"mail-logs",roles:["admin","manager"],permissions:["mail:read"]},{menuId:"dropshipping",roles:["admin","manager","business","seller","supplier","partner"],permissions:["ecommerce:read"]},{menuId:"ds-products",roles:["admin","manager","business","seller","supplier"],permissions:["products:read"]},{menuId:"ds-sellers",roles:["admin","manager","seller"],permissions:["users:read"]},{menuId:"ds-partners",roles:["admin","manager","partner"],permissions:["vendors:read"]},{menuId:"ds-suppliers",roles:["admin","manager","supplier"],permissions:["vendors:read"]},{menuId:"ds-approvals",roles:["admin","manager"],permissions:["vendors:write"]},{menuId:"ds-commissions",roles:["admin","manager"],permissions:["vendors:write"]},{menuId:"ds-setup",roles:["admin"],permissions:["settings:write"]},{menuId:"cpt-engine",roles:["admin"],permissions:["content:write"]},{menuId:"cpt-acf",roles:["admin"],permissions:["content:write"]},{menuId:"cpt-types",roles:["admin"],permissions:["content:write"]},{menuId:"acf-fields",roles:["admin"],permissions:["custom_fields:write"]},{menuId:"acf-groups",roles:["admin"],permissions:["custom_fields:write"]},{menuId:"forms",roles:["admin","manager"],permissions:["forms:write"]},{menuId:"appearance",roles:["admin","manager"],permissions:["templates:read"]},{menuId:"theme",roles:["admin","manager"],permissions:["templates:read"]},{menuId:"themes",roles:["admin","manager"],permissions:["templates:read"]},{menuId:"customize",roles:["admin","manager"],permissions:["templates:write"]},{menuId:"appearance-menus",roles:["admin","manager"],permissions:["menus:write"]},{menuId:"appearance-widgets",roles:["admin","manager"],permissions:["templates:write"]},{menuId:"appearance-template-parts",roles:["admin","manager"],permissions:["templates:write"]},{menuId:"menus",roles:["admin","manager"],permissions:["menus:write"]},{menuId:"widgets",roles:["admin","manager"],permissions:["templates:write"]},{menuId:"template-parts",roles:["admin","manager"],permissions:["templates:write"]},{menuId:"users",roles:["admin","manager"],permissions:["users:read"]},{menuId:"users-all",roles:["admin","manager"],permissions:["users:read"]},{menuId:"users-new",roles:["admin"],permissions:["users:create"]},{menuId:"users-profile",roles:["admin","manager","business","affiliate","seller","supplier","retailer"],permissions:["users:read"]},{menuId:"users-roles",roles:["admin"],permissions:["users:update"]},{menuId:"tools",roles:["admin","manager"],permissions:["tools:read"]},{menuId:"monitoring",roles:["admin","manager"],permissions:["monitoring:read"]},{menuId:"monitoring-dashboard",roles:["admin","manager"],permissions:["monitoring:read"]},{menuId:"performance",roles:["admin","manager"],permissions:["monitoring:read"]},{menuId:"security-logs",roles:["admin"],permissions:["monitoring:read"]},{menuId:"shortcodes",roles:["admin","manager","business"],permissions:["shortcodes:read"]},{menuId:"shortcodes-all",roles:["admin","manager","business"],permissions:["shortcodes:read"]},{menuId:"shortcodes-by-app",roles:["admin","manager","business"],permissions:["shortcodes:read"]},{menuId:"shortcodes-by-category",roles:["admin","manager","business"],permissions:["shortcodes:read"]},{menuId:"shortcodes-stats",roles:["admin","manager"],permissions:["shortcodes:read"]},{menuId:"shortcodes-settings",roles:["admin"],permissions:["shortcodes:write"]},{menuId:"settings",roles:["admin"],permissions:["settings:read"]},{menuId:"collapse",roles:["admin","business","affiliate","customer","seller","supplier","manager","retailer"]}];function Zi(t,s,a){const r=Xi.find(l=>l.menuId===t);return!r||!r.roles.includes(s)?!1:r.permissions&&r.permissions.length>0?!a||a.length===0?!1:r.permissions.some(l=>a.includes(l)):!0}function Ir(t,s,a){return t.filter(r=>r.separator?!0:Zi(r.id,s,a)).map(r=>{if(r.children){const l=Ir(r.children,s,a);return l.length>0?{...r,children:l}:null}return r}).filter(Boolean)}const el=()=>{const{user:t}=Zs(),{cptMenuItems:s,isLoading:a}=Ji(),r=Qi([...Hi],s),l=t?.role||"customer";if(l==="admin")return{menuItems:r,isLoading:a};const i=sl(l);return{menuItems:Ir(r,l,i),isLoading:a}};function sl(t){return{admin:[],manager:["updates:read","content:read","content:write","categories:read","media:read","media:write","pages:read","pages:write","ecommerce:read","products:read","orders:read","coupons:read","analytics:read","vendors:read","vendors:write","affiliate:read","affiliate:write","forum:read","signage:read","crowdfunding:read","mail:read","mail:write","templates:read","templates:write","menus:write","users:read","tools:read","shortcodes:read","monitoring:read"],business:["content:read","content:write","media:read","media:write","ecommerce:read","products:read","orders:read","coupons:read","analytics:read","forum:read","signage:read","crowdfunding:read","shortcodes:read"],seller:["media:read","media:write","ecommerce:read","products:read","orders:read","analytics:read","forum:read"],supplier:["media:read","media:write","ecommerce:read","products:read","orders:read","analytics:read","forum:read"],retailer:["ecommerce:read","products:read","orders:read","analytics:read","forum:read","users:read"],affiliate:["affiliate:read","forum:read","users:read"],customer:["users:read"]}[t]||[]}const tl=({isOpen:t,onClose:s})=>{const a=vs(),[r,l]=n.useState([]),[i,g]=n.useState(!1),{menuItems:d,isLoading:x}=el(),o=w=>{l(m=>m.includes(w)?m.filter(y=>y!==w):[...m,w])},h=w=>a.pathname===w,u=w=>w?.some(m=>m.path&&h(m.path))||!1,f=w=>{if(w.id==="collapse"){g(!i);return}},v=w=>{if(w.separator)return e.jsx("div",{className:"my-2 border-t border-[#444]"},w.id);const m=w.children&&w.children.length>0,y=r.includes(w.id),c=m&&u(w.children);return w.id==="collapse"?e.jsx("button",{onClick:()=>f(w),className:"admin-sidebar-item w-full relative mt-auto",children:e.jsxs("div",{className:"flex items-center gap-3",children:[i?e.jsx(As,{className:"w-5 h-5"}):w.icon,!i&&e.jsx("span",{children:w.label})]})},w.id):m?e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>o(w.id),className:Fs("admin-sidebar-item w-full relative",c&&"active"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[w.icon,!i&&e.jsx("span",{children:w.label})]}),e.jsx(Qe,{className:Fs("w-4 h-4 transition-transform duration-200",y&&"rotate-180")})]}),y&&w.children&&!i&&e.jsx("div",{className:"ml-6 mt-1 space-y-1",children:w.children.map(N=>e.jsx(es,{to:N.path,className:Fs("admin-sidebar-item relative",h(N.path)&&"active"),onClick:s,children:e.jsxs("div",{className:"flex items-center gap-3",children:[N.icon,e.jsx("span",{children:N.label})]})},N.id))})]},w.id):e.jsx(es,{to:w.path,className:Fs("admin-sidebar-item relative",h(w.path)&&"active"),onClick:s,children:e.jsxs("div",{className:"flex items-center gap-3",children:[w.icon,!i&&e.jsx("span",{children:w.label})]})},w.id)};return e.jsx("aside",{className:Fs(i?"w-[36px] collapsed":"w-[160px]"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex h-8 items-center justify-between px-2 bg-[#1d2327]",children:[!i&&e.jsxs(es,{to:"/",className:"flex items-center gap-1 text-[13px] hover:text-modern-primary transition-colors",children:[e.jsx("div",{className:"w-5 h-5 bg-modern-primary rounded-sm flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"O"})}),e.jsx("span",{children:"O4O Admin"})]}),e.jsx("button",{onClick:s,className:"lg:hidden text-sidebar-text hover:text-white ml-auto",children:e.jsx(Ue,{className:"w-4 h-4"})})]}),e.jsx("nav",{className:"flex-1 py-2 custom-scrollbar overflow-y-auto",children:x?e.jsx("div",{className:"flex justify-center items-center h-20",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})}):d.length===0?e.jsx("div",{className:"text-center p-4 text-sidebar-text text-xs",children:"메뉴를 불러오는 중..."}):d.map(v)}),!i&&e.jsx("div",{className:"p-2 border-t border-sidebar-border",children:e.jsx("div",{className:"text-xs text-sidebar-text text-center",children:"O4O v1.0.0"})})]})})},et=n.createContext(null),al=n.createContext(null),bs=({open:t,defaultOpen:s=!1,onOpenChange:a,children:r})=>{const[l,i]=n.useState(s),g=t??l,d=x=>{t===void 0&&i(x),a?.(x)};return e.jsx(et.Provider,{value:{open:g,onOpenChange:d},children:e.jsx("div",{className:"relative inline-block text-left",children:r})})},us=n.forwardRef(({onClick:t,asChild:s,...a},r)=>{const l=n.useContext(et);if(!l)throw new Error("DropdownMenuTrigger must be used within DropdownMenu");return e.jsx("button",{ref:r,onClick:i=>{t?.(i),l.onOpenChange(!l.open)},"aria-expanded":l.open,"aria-haspopup":"true",...a})}),hs=n.forwardRef(({className:t,sideOffset:s=4,children:a,...r})=>{const l=n.useContext(et);if(!l)throw new Error("DropdownMenuContent must be used within DropdownMenu");const i=n.useRef(null);return n.useEffect(()=>{const g=d=>{i.current&&!i.current.contains(d.target)&&l.onOpenChange(!1)};if(l.open)return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[l]),l.open?e.jsx("div",{ref:i,className:$("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","animate-in fade-in-0 zoom-in-95",t),style:{marginTop:`${s}px`},...r,children:a}):null}),ue=n.forwardRef(({className:t,inset:s,disabled:a,onClick:r,...l},i)=>{const g=n.useContext(et);return e.jsx("div",{ref:i,className:$("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors","hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground",a&&"pointer-events-none opacity-50",s&&"pl-8",t),onClick:d=>{a||(r?.(d),g?.onOpenChange(!1))},role:"menuitem","aria-disabled":a,...l})}),rl=n.forwardRef(({className:t,children:s,checked:a,onCheckedChange:r,disabled:l,onClick:i,...g},d)=>e.jsxs("div",{ref:d,className:$("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors","hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground",l&&"pointer-events-none opacity-50",t),onClick:x=>{l||(i?.(x),r?.(!a))},role:"menuitemcheckbox","aria-checked":a,"aria-disabled":l,...g,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a&&e.jsx(qe,{className:"h-4 w-4"})}),s]})),nl=n.forwardRef(({className:t,children:s,value:a,disabled:r,onClick:l,...i},g)=>{const d=n.useContext(al),x=d?.value===a;return e.jsxs("div",{ref:g,className:$("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors","hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground",r&&"pointer-events-none opacity-50",t),onClick:o=>{r||(l?.(o),d?.onValueChange(a))},role:"menuitemradio","aria-checked":x,"aria-disabled":r,...i,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x&&e.jsx(Qr,{className:"h-2 w-2 fill-current"})}),s]})}),Zt=n.forwardRef(({className:t,inset:s,...a},r)=>e.jsx("div",{ref:r,className:$("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a})),He=n.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:$("-mx-1 my-1 h-px bg-muted",t),role:"separator",...s})),il=n.forwardRef(({className:t,inset:s,children:a,disabled:r,...l},i)=>{const g=n.useContext(et);if(!g)throw new Error("DropdownMenuSubTrigger must be used within DropdownMenuSub");return e.jsxs("div",{ref:i,className:$("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none","hover:bg-accent","data-[state=open]:bg-accent",r&&"pointer-events-none opacity-50",s&&"pl-8",t),onClick:()=>!r&&g.onOpenChange(!g.open),"data-state":g.open?"open":"closed",...l,children:[a,e.jsx(rs,{className:"ml-auto h-4 w-4"})]})}),ll=n.forwardRef(({className:t,children:s,...a},r)=>{const l=n.useContext(et);if(!l)throw new Error("DropdownMenuSubContent must be used within DropdownMenuSub");return l.open?e.jsx("div",{ref:r,className:$("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg","absolute left-full top-0 ml-1","animate-in fade-in-0 zoom-in-95",t),...a,children:s}):null});us.displayName="DropdownMenuTrigger";hs.displayName="DropdownMenuContent";ue.displayName="DropdownMenuItem";rl.displayName="DropdownMenuCheckboxItem";nl.displayName="DropdownMenuRadioItem";Zt.displayName="DropdownMenuLabel";He.displayName="DropdownMenuSeparator";ll.displayName="DropdownMenuSubContent";il.displayName="DropdownMenuSubTrigger";const ol=({onMenuClick:t})=>{const{user:s,logout:a,getSessionStatus:r}=Zs(),[l,i]=n.useState(r());n.useEffect(()=>{const o=setInterval(()=>{i(r())},6e4);return()=>clearInterval(o)},[r]);const g=async()=>{try{a(),me.success("로그아웃되었습니다.")}catch{me.error("로그아웃 처리 중 오류가 발생했습니다.")}},d=()=>{if(!l)return"text-wp-text-secondary";const o=Math.floor(l.remainingTime/6e4);return o>10?"text-green-600":o>5?"text-yellow-600":"text-red-600"},x=()=>{if(!l)return"Unknown";const o=Math.floor(l.remainingTime/6e4);return o>10?"Active":o>5?"Expiring Soon":"Expired"};return e.jsx("header",{className:"bg-white border-b border-gray-300",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[t&&e.jsx("button",{onClick:t,className:"admin-header-mobile-menu","aria-label":"Toggle menu",children:e.jsx(Hs,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-wp-text-primary",children:"관리자 대시보드"}),e.jsx("p",{className:"text-sm text-wp-text-secondary",children:"O4O 플랫폼 통합 관리 시스템"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`flex items-center gap-1 text-xs ${d()}`,children:[e.jsx(ta,{className:"w-3 h-3"}),e.jsxs("span",{children:["세션: ",x()]})]}),e.jsxs("button",{className:"p-2 rounded-md text-wp-text-secondary hover:text-wp-text-primary hover:bg-wp-bg-tertiary relative",children:[e.jsx(er,{className:"w-6 h-6"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]}),e.jsxs(bs,{children:[e.jsx(us,{children:e.jsxs("button",{className:"flex items-center gap-3 p-2 rounded-md text-wp-text-primary hover:bg-wp-bg-tertiary",children:[e.jsx("div",{className:"w-8 h-8 bg-admin-blue text-white rounded-full flex items-center justify-center",children:e.jsx(ns,{className:"w-4 h-4"})}),e.jsxs("div",{className:"text-left hidden md:block",children:[e.jsxs("div",{className:"text-sm font-medium flex items-center gap-1",children:[s?.name||"Admin",e.jsx(Ks,{className:"w-3 h-3 text-blue-600"})]}),e.jsx("div",{className:"text-xs text-wp-text-secondary",children:s?.email})]})]})}),e.jsxs(hs,{className:"w-64",align:"end",children:[e.jsx(Zt,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"font-medium text-wp-text-primary flex items-center gap-2",children:[e.jsx(Ks,{className:"w-4 h-4 text-blue-600"}),s?.name||"Admin"]}),e.jsx("div",{className:"text-sm text-wp-text-secondary",children:s?.email}),e.jsxs("div",{className:"text-xs text-wp-text-tertiary",children:["역할: ",s?.role," | SSO 인증"]})]})}),e.jsx(He,{}),e.jsx("div",{className:"px-2 py-2",children:e.jsxs("div",{className:"text-xs text-wp-text-secondary space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"세션 상태:"}),e.jsx("span",{className:d(),children:x()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"권한:"}),e.jsx("span",{className:"text-green-600",children:"활성"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"계정:"}),e.jsx("span",{className:s?.isApproved?"text-green-600":"text-yellow-600",children:s?.isApproved?"승인됨":"승인대기"})]})]})}),e.jsx(He,{}),e.jsxs(ue,{onClick:()=>{},children:[e.jsx(ns,{className:"mr-2 h-4 w-4"}),"프로필 설정"]}),e.jsxs(ue,{onClick:()=>{},children:[e.jsx(ss,{className:"mr-2 h-4 w-4"}),"계정 설정"]}),e.jsx(He,{}),e.jsx(Zt,{className:"font-normal",children:e.jsx("div",{className:"text-xs text-wp-text-secondary",children:"보안"})}),e.jsxs(ue,{onClick:()=>{me.success("모든 기기에서 로그아웃됩니다."),a()},className:"text-orange-600 focus:text-orange-600 focus:bg-orange-50",children:[e.jsx(Ks,{className:"mr-2 h-3 w-3"}),"모든 기기에서 로그아웃"]}),e.jsx(He,{}),e.jsxs(ue,{onClick:g,className:"text-red-600 focus:text-red-600 focus:bg-red-50",children:[e.jsx(Yr,{className:"mr-2 h-4 w-4"}),"로그아웃"]}),e.jsx(He,{}),e.jsx("div",{className:"px-2 py-2",children:e.jsx("div",{className:"text-xs text-wp-text-tertiary text-center",children:"🔒 보안 세션 | 8시간 후 자동 만료"})})]})]})]})]})})})},cl=({onLogout:t})=>{const{user:s}=Zs();return e.jsx("div",{className:"wordpress-admin-bar fixed top-0 left-0 right-0 h-[46px] text-[13px] z-[99999] bg-[#23282d] text-[#ccc]",children:e.jsxs("div",{className:"h-full flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs(es,{to:"/",className:"flex items-center gap-1 hover:text-[#00b9eb]",children:[e.jsx("div",{className:"w-5 h-5 bg-[#464b52] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"W"})}),e.jsx("span",{children:"O4O Platform"})]}),e.jsx("span",{className:"text-[#656a70]",children:"|"}),e.jsxs("a",{href:"https://neture.co.kr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-[#00b9eb]",children:[e.jsx(os,{className:"w-3 h-3"}),e.jsx("span",{children:"사이트 방문"})]}),e.jsx("span",{className:"text-[#656a70]",children:"|"}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center gap-1 hover:text-[#00b9eb]",children:[e.jsx(Je,{className:"w-3 h-3"}),e.jsx("span",{children:"새로 만들기"})]}),e.jsxs("div",{className:`absolute top-full left-0 mt-1 w-48 bg-[#32373c] border border-[#444] opacity-0 invisible 
                          group-hover:opacity-100 group-hover:visible transition-opacity shadow-lg z-[100000]`,children:[e.jsx(es,{to:"/posts/new",className:"block px-4 py-2 hover:bg-[#00b9eb] hover:text-white",children:"글"}),e.jsx(es,{to:"/media/new",className:"block px-4 py-2 hover:bg-[#00b9eb] hover:text-white",children:"미디어"}),e.jsx(es,{to:"/pages/new",className:"block px-4 py-2 hover:bg-[#00b9eb] hover:text-white",children:"페이지"}),e.jsx(es,{to:"/ecommerce/products/new",className:"block px-4 py-2 hover:bg-[#00b9eb] hover:text-white",children:"제품"}),e.jsx(es,{to:"/users/new",className:"block px-4 py-2 hover:bg-[#00b9eb] hover:text-white",children:"사용자"})]})]}),e.jsx("span",{className:"text-[#656a70]",children:"|"}),e.jsxs("button",{className:"flex items-center gap-1 hover:text-[#00b9eb]",children:[e.jsx(ut,{className:"w-3 h-3"}),e.jsx("span",{children:"업데이트"}),e.jsx("span",{className:"ml-1 inline-flex items-center justify-center w-5 h-5 text-xs bg-[#ca4a1f] text-white rounded-full",children:"2"})]}),e.jsx("span",{className:"text-[#656a70]",children:"|"}),e.jsxs("button",{className:"flex items-center gap-1 hover:text-[#00b9eb]",children:[e.jsx(Xe,{className:"w-3 h-3"}),e.jsx("span",{children:"댓글"}),e.jsx("span",{className:"ml-1 inline-flex items-center justify-center w-5 h-5 text-xs bg-[#d54e21] text-white rounded-full",children:"1"})]})]}),e.jsx("div",{className:"flex items-center gap-3 relative",children:e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center gap-1 hover:text-[#00b9eb] cursor-pointer",children:[e.jsxs("span",{className:"text-[#ccc]",children:["안녕하세요, ",s?.name||"Admin","님"]}),e.jsx("span",{className:"text-xs",children:"▼"})]}),e.jsxs("div",{className:`absolute top-full right-0 mt-1 w-48 bg-[#32373c] border border-[#444] opacity-0 invisible 
                          group-hover:opacity-100 group-hover:visible transition-opacity shadow-lg z-[100000]`,children:[e.jsx(es,{to:"/users/profile",className:"block px-4 py-2 hover:bg-[#00b9eb] hover:text-white",children:"프로필 편집"}),e.jsx("div",{className:"border-t border-[#444]"}),e.jsx("button",{onClick:t,className:"block w-full text-left px-4 py-2 hover:bg-[#00b9eb] hover:text-white",children:"로그아웃"})]})]})})]})})},dl=({id:t,type:s,message:a,dismissible:r=!0,persistent:l=!1,onDismiss:i,children:g})=>{const[d,x]=n.useState(!0),o=()=>{if(x(!1),i?.(t),l&&t){const u=JSON.parse(localStorage.getItem("dismissed_notices")||"[]");u.push(t),localStorage.setItem("dismissed_notices",JSON.stringify(u))}};if(l&&t&&JSON.parse(localStorage.getItem("dismissed_notices")||"[]").includes(t)||!d)return null;const h=Fs("notice",`notice-${s}`,r&&"is-dismissible","wp-admin-notice");return e.jsxs("div",{className:h,children:[e.jsx("p",{dangerouslySetInnerHTML:{__html:a}}),g,r&&e.jsxs("button",{type:"button",className:"notice-dismiss",onClick:o,"aria-label":"Dismiss this notice",children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsx("span",{className:"screen-reader-text",children:"Dismiss this notice."})]})]})};let jt;const ml=new Uint8Array(16);function ul(){if(!jt&&(jt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jt(ml)}const Ge=[];for(let t=0;t<256;++t)Ge.push((t+256).toString(16).slice(1));function hl(t,s=0){return Ge[t[s+0]]+Ge[t[s+1]]+Ge[t[s+2]]+Ge[t[s+3]]+"-"+Ge[t[s+4]]+Ge[t[s+5]]+"-"+Ge[t[s+6]]+Ge[t[s+7]]+"-"+Ge[t[s+8]]+Ge[t[s+9]]+"-"+Ge[t[s+10]]+Ge[t[s+11]]+Ge[t[s+12]]+Ge[t[s+13]]+Ge[t[s+14]]+Ge[t[s+15]]}const pl=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ma={randomUUID:pl};function ye(t,s,a){if(Ma.randomUUID&&!t)return Ma.randomUUID();t=t||{};const r=t.random||(t.rng||ul)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,hl(r)}const xl=ea(t=>({notices:[],addNotice:s=>{const a=ye(),r={...s,id:a,createdAt:new Date,dismissible:s.dismissible??!0,persistent:s.persistent??!1};return t(l=>({notices:[...l.notices,r]})),s.duration&&s.duration>0&&setTimeout(()=>{t(l=>({notices:l.notices.filter(i=>i.id!==a)}))},s.duration),a},dismissNotice:s=>{t(a=>({notices:a.notices.filter(r=>r.id!==s)}))},clearNotices:()=>{t({notices:[]})},clearNoticesByType:s=>{t(a=>({notices:a.notices.filter(r=>r.type!==s)}))}}));function gl(){const t=xl(),s=(i,g)=>t.addNotice({...g,type:"success",message:i}),a=(i,g)=>t.addNotice({...g,type:"error",message:i}),r=(i,g)=>t.addNotice({...g,type:"warning",message:i}),l=(i,g)=>t.addNotice({...g,type:"info",message:i});return{notices:t.notices,addNotice:t.addNotice,dismissNotice:t.dismissNotice,clearNotices:t.clearNotices,clearNoticesByType:t.clearNoticesByType,success:s,error:a,warning:r,info:l}}const fl=()=>{const{notices:t,dismissNotice:s}=gl();return t.length===0?null:e.jsx("div",{className:"wp-admin-notices",children:t.map(a=>e.jsx(dl,{...a,onDismiss:()=>s(a.id)},a.id))})},jl=[{wpPath:"/wp-admin/",reactPath:"/dashboard",title:"Dashboard"},{wpPath:"/wp-admin/index.php",reactPath:"/dashboard",title:"Dashboard"},{wpPath:"/wp-admin/edit.php",reactPath:"/posts",title:"Posts"},{wpPath:"/wp-admin/post-new.php",reactPath:"/posts/new",title:"Add New Post"},{wpPath:"/wp-admin/edit-tags.php?taxonomy=category",reactPath:"/posts/categories",title:"Categories"},{wpPath:"/wp-admin/edit-tags.php?taxonomy=post_tag",reactPath:"/posts/tags",title:"Tags"},{wpPath:"/wp-admin/upload.php",reactPath:"/media",title:"Media Library"},{wpPath:"/wp-admin/media-new.php",reactPath:"/media/new",title:"Add New Media"},{wpPath:"/wp-admin/edit.php?post_type=page",reactPath:"/pages",title:"Pages"},{wpPath:"/wp-admin/post-new.php?post_type=page",reactPath:"/pages/new",title:"Add New Page"},{wpPath:"/wp-admin/edit.php?post_type=wp_block",reactPath:"/reusable-blocks",title:"Reusable Blocks"},{wpPath:"/wp-admin/post-new.php?post_type=wp_block",reactPath:"/reusable-blocks/new",title:"Add New Block"},{wpPath:"/wp-admin/edit-comments.php",reactPath:"/comments",title:"Comments"},{wpPath:"/wp-admin/themes.php",reactPath:"/themes",title:"Themes"},{wpPath:"/wp-admin/customize.php",reactPath:"/themes/customize",title:"Customize"},{wpPath:"/wp-admin/widgets.php",reactPath:"/widgets",title:"Widgets"},{wpPath:"/wp-admin/nav-menus.php",reactPath:"/menus",title:"Menus"},{wpPath:"/wp-admin/plugins.php",reactPath:"/plugins",title:"Plugins"},{wpPath:"/wp-admin/plugin-install.php",reactPath:"/plugins/install",title:"Add New Plugin"},{wpPath:"/wp-admin/users.php",reactPath:"/users",title:"Users"},{wpPath:"/wp-admin/user-new.php",reactPath:"/users/new",title:"Add New User"},{wpPath:"/wp-admin/profile.php",reactPath:"/profile",title:"Profile"},{wpPath:"/wp-admin/tools.php",reactPath:"/tools",title:"Tools"},{wpPath:"/wp-admin/import.php",reactPath:"/tools/import",title:"Import"},{wpPath:"/wp-admin/export.php",reactPath:"/tools/export",title:"Export"},{wpPath:"/wp-admin/options-general.php",reactPath:"/settings",title:"General Settings"},{wpPath:"/wp-admin/options-writing.php",reactPath:"/settings/writing",title:"Writing Settings"},{wpPath:"/wp-admin/options-reading.php",reactPath:"/settings/reading",title:"Reading Settings"},{wpPath:"/wp-admin/options-discussion.php",reactPath:"/settings/discussion",title:"Discussion Settings"},{wpPath:"/wp-admin/options-media.php",reactPath:"/settings/media",title:"Media Settings"},{wpPath:"/wp-admin/options-permalink.php",reactPath:"/settings/permalinks",title:"Permalink Settings"},{wpPath:"/wp-admin/edit.php?post_type=product",reactPath:"/ecommerce/products",title:"Products"},{wpPath:"/wp-admin/post-new.php?post_type=product",reactPath:"/ecommerce/products/new",title:"Add Product"},{wpPath:"/wp-admin/edit.php?post_type=shop_order",reactPath:"/ecommerce/orders",title:"Orders"},{wpPath:"/wp-admin/admin.php?page=wc-reports",reactPath:"/ecommerce/reports",title:"Reports"},{wpPath:"/wp-admin/admin.php?page=wc-settings",reactPath:"/ecommerce/settings",title:"WooCommerce Settings"}];function Ut(t){const s=jl.find(a=>a.wpPath===t);return s?s.reactPath:null}function bl(t){const[s,a]=t.split("?"),r=new URLSearchParams(a||"");return{path:s,params:r}}const wt={isAdminUrl:t=>t.startsWith("/wp-admin/"),isPostEdit:(t,s)=>t==="/wp-admin/post.php"&&s.get("action")==="edit",isPostNew:t=>t==="/wp-admin/post-new.php",isCustomPostType:t=>t.has("post_type"),isTaxonomy:t=>t==="/wp-admin/edit-tags.php"};function yl(t){const{path:s,params:a}=bl(t);if(wt.isPostEdit(s,a))return`/posts/edit/${a.get("post")}`;if(wt.isCustomPostType(a)){const r=a.get("post_type");if(r==="page")return Ut(t)||"/pages";if(r==="product")return Ut(t)||"/ecommerce/products"}if(wt.isTaxonomy(s)){const r=a.get("taxonomy");if(r==="category")return"/posts/categories";if(r==="post_tag")return"/posts/tags";if(r==="product_cat")return"/ecommerce/categories"}return Ut(t)||t}function vl(){const t=Xs(),s=vs();return n.useEffect(()=>{const a=s.pathname;if(wt.isAdminUrl(a)){const r=yl(a+s.search);r!==a&&t(r,{replace:!0})}},[s,t]),null}const wl=ea(t=>({isFullscreen:!1,reason:null,enter:s=>t({isFullscreen:!0,reason:s??null}),exit:()=>t({isFullscreen:!1,reason:null}),setFullscreen:(s,a=null)=>t({isFullscreen:s,reason:a})})),Nl=({children:t})=>{const[s,a]=n.useState(!1),[r,l]=n.useState(!1);n.useEffect(()=>{const u=()=>{const f=window.innerWidth<1024;l(f)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const{logout:i}=Zs(),g=vs(),{isFullscreen:d}=wl(),o=n.useMemo(()=>{const u=g.pathname||"",f=g.search||"";return u.startsWith("/customize")?!0:/[?&](fullscreen|customizer)=(1|true)/i.test(f)},[g.pathname,g.search])||d;n.useEffect(()=>{if(typeof document>"u")return;const u="customizer-fullscreen";o?document.body.classList.add(u):document.body.classList.remove(u)},[o]);const h=async()=>{try{i(),me.success("로그아웃되었습니다.")}catch{me.error("로그아웃 처리 중 오류가 발생했습니다.")}};return e.jsxs("div",{className:"wordpress-admin",children:[e.jsx(vl,{}),!o&&e.jsx(cl,{onLogout:h}),!o&&e.jsx("div",{className:`admin-sidebar ${s?"open":""}`,children:e.jsx(tl,{isOpen:s,onClose:()=>a(!1)})}),e.jsxs("div",{className:`wordpress-admin-content ${!r&&!o?"with-sidebar":""}`,children:[r&&!o&&e.jsx(ol,{onMenuClick:()=>a(!s)}),e.jsxs("main",{children:[e.jsx(fl,{}),t]})]}),!o&&e.jsx("div",{className:`admin-sidebar-backdrop ${s?"show":""}`,onClick:()=>a(!1)})]})},kl=({children:t})=>e.jsx("div",{className:"h-screen w-full bg-white",children:t}),Cl=()=>{const{isAuthenticated:t,isLoading:s,isAdmin:a}=Zs(),r=vs();return s?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-admin-blue"})}):t?a?e.jsx(Qt,{to:"/admin",replace:!0}):e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"접근 권한이 없습니다"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"관리자 권한이 필요합니다."})]})}):e.jsx(Qt,{to:"/login",state:{from:r},replace:!0})},Sl=yr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function as({className:t,variant:s,...a}){return e.jsx("div",{className:$(Sl({variant:s}),t),...a})}const Il=({onSave:t,onPublish:s,onBack:a,canUndo:r=!1,canRedo:l=!1,onUndo:i,onRedo:g,isFullscreen:d=!1,onToggleFullscreen:x,isDirty:o=!1,isPublished:h=!1,onPreview:u,onOpenDesignLibrary:f,onOpenAIGenerator:v,onToggleInspector:w,isInspectorOpen:m=!0,title:y,subtitle:c,actions:N})=>{const[p,j]=n.useState(!1),b=async()=>{j(!0),await t(),setTimeout(()=>j(!1),1e3)};return e.jsx("div",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{variant:"ghost",size:"icon",onClick:a,className:"h-9 w-9 hover:bg-gray-100",title:"Back to Dashboard",children:e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"W"})}),e.jsxs("div",{className:"flex items-center border rounded-md",children:[e.jsx(k,{variant:"ghost",size:"icon",onClick:i,disabled:!r,className:"h-8 w-8 rounded-r-none hover:bg-gray-100",title:"Undo (Ctrl+Z)",children:e.jsx(Xr,{className:"h-4 w-4"})}),e.jsx(k,{variant:"ghost",size:"icon",onClick:g,disabled:!l,className:"h-8 w-8 rounded-l-none border-l hover:bg-gray-100",title:"Redo (Ctrl+Shift+Z)",children:e.jsx(Zr,{className:"h-4 w-4"})})]}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:f,className:"h-8 px-3 hover:bg-gray-100 border border-gray-300",title:"Design Library - Choose from templates",children:[e.jsx(en,{className:"h-4 w-4 mr-1"}),"디자인 라이브러리"]}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:v,className:"h-8 px-3 hover:bg-gray-100 border border-gray-300 text-purple-600 hover:text-purple-700",title:"AI Page Generator - Generate content with AI",children:[e.jsx(Ws,{className:"h-4 w-4 mr-1"}),"AI 페이지 생성"]}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:w,className:$("h-8 px-3 hover:bg-gray-100 border border-gray-300",m&&"bg-gray-100"),title:"Toggle Inspector Panel",children:[e.jsx(sr,{className:"h-4 w-4 mr-1"}),"Settings"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[y&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:y}),c&&e.jsx("span",{className:"text-xs text-muted-foreground",children:c})]}),o&&e.jsx("span",{className:"text-xs text-orange-500",children:"• Unsaved changes"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[N,e.jsxs(k,{variant:"ghost",size:"sm",onClick:u,className:"h-8 px-3 hover:bg-gray-100",title:"Preview",children:[e.jsx(os,{className:"h-4 w-4 mr-1"}),"Preview"]}),e.jsx(k,{variant:"outline",size:"sm",onClick:b,disabled:p||!o,className:$("h-8 px-3",o&&"border-orange-500 hover:bg-orange-50"),children:p?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"h-3 w-3 mr-1"}),"Save draft"]})}),e.jsx(k,{size:"sm",onClick:s,className:$("h-8 px-3",h?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"),children:h?"Update":"Publish"}),e.jsxs(bs,{children:[e.jsx(us,{children:e.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-100",children:e.jsx(aa,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",className:"w-48",children:[e.jsxs(ue,{className:"text-sm",children:[e.jsx(ss,{className:"h-4 w-4 mr-2"}),"Preferences"]}),e.jsx(ue,{onClick:x,className:"text-sm",children:d?e.jsxs(e.Fragment,{children:[e.jsx(sn,{className:"h-4 w-4 mr-2"}),"Exit Fullscreen"]}):e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"h-4 w-4 mr-2"}),"Fullscreen Mode"]})}),e.jsx(He,{}),e.jsxs(ue,{className:"text-sm",children:[e.jsx(tn,{className:"h-4 w-4 mr-2"}),"Keyboard shortcuts"]}),e.jsxs(ue,{className:"text-sm",children:[e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Help"]}),e.jsx(He,{}),e.jsxs(ue,{className:"text-sm text-red-600",children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Move to trash"]})]})]})]})]})})},Tl=()=>{{const s="https://api.neture.co.kr/api".trim().replace(/\/$/,"");return/\/api$/.test(s)?s:`${s}/api`}},Tr=Tl(),Pl=`${Tr}/v1/content`,Is=Pt.create({baseURL:Tr,headers:{"Content-Type":"application/json"},withCredentials:!0}),is=Pt.create({baseURL:Pl,headers:{"Content-Type":"application/json"},withCredentials:!0});Is.interceptors.response.use(t=>{try{}catch{}return t},t=>Promise.reject(t));is.interceptors.response.use(t=>{try{}catch{}return t},t=>Promise.reject(t));Is.interceptors.request.use(t=>{let s=localStorage.getItem("authToken");if(s||(s=localStorage.getItem("accessToken")),s||(s=localStorage.getItem("token")),!s){const a=localStorage.getItem("admin-auth-storage");if(a)try{const r=JSON.parse(a);r.state?.token&&(s=r.state.token)}catch{}}s&&(t.headers.Authorization=`Bearer ${s}`);try{}catch{}return t},t=>Promise.reject(t));is.interceptors.request.use(t=>{let s=localStorage.getItem("authToken");if(s||(s=localStorage.getItem("accessToken")),s||(s=localStorage.getItem("token")),!s){const a=localStorage.getItem("admin-auth-storage");if(a)try{const r=JSON.parse(a);r.state?.token&&(s=r.state.token)}catch{}}s&&(t.headers.Authorization=`Bearer ${s}`);try{}catch{}return t},t=>Promise.reject(t));Is.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(t)));is.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(t)));const fs=new Map,Fa=(t,s,a)=>{const r=a?{...a}:{};return delete r._requestId,`${t}-${s}-${JSON.stringify(r)}`},Ba=t=>{const s=fs.get(t);s&&(s.abort(),fs.delete(t))},rt={create:async t=>{const s=Fa("POST","/posts",t);Ba(s);const a=new AbortController;fs.set(s,a);try{const r={...t};delete r._requestId;const l=await Is.post("/posts",r,{signal:a.signal});return fs.delete(s),{success:!0,data:l.data}}catch(r){return fs.delete(s),r.name==="CanceledError"||r.code==="ERR_CANCELED"?{success:!1,error:"Request canceled"}:{success:!1,error:r.response?.data?.message||`Failed to create post (${r.response?.status})`}}},get:async t=>{try{return{success:!0,data:(await Is.get(`/posts/${t}`)).data}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to get post"}}},update:async t=>{const{id:s,...a}=t,r=Fa("PUT",`/posts/${s}`,a);Ba(r);const l=new AbortController;fs.set(r,l);try{const i={...a};delete i._requestId;const g=await Is.put(`/posts/${s}`,i,{signal:l.signal});return fs.delete(r),{success:!0,data:g.data}}catch(i){return fs.delete(r),i.name==="CanceledError"||i.code==="ERR_CANCELED"?{success:!1,error:"Request canceled"}:{success:!1,error:i.response?.data?.message||"Failed to update post"}}},autoSave:async(t,s)=>{try{return{success:!0,data:(await Is.post(`/posts/${t}/autosave`,s)).data}}catch(a){return{success:!1,error:a.response?.data?.message||"Failed to autosave"}}},delete:async t=>{try{return await is.delete(`/posts/${t}`),{success:!0}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to delete post"}}},publish:async t=>{try{return{success:!0,data:(await is.post(`/posts/${t}/publish`)).data}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to publish post"}}},saveDraft:async t=>{try{const s="id"in t?`/posts/${t.id}/draft`:"/posts/draft";return{success:!0,data:(await is.post(s,t)).data}}catch(s){return{success:!1,error:s.response?.data?.message||`Failed to save draft (${s.response?.status})`}}},list:async t=>{try{return{success:!0,data:(await is.get("/posts",{params:t})).data}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to list posts"}}}},Al={upload:async(t,s)=>{try{const a=new FormData;return a.append("file",t),{success:!0,data:(await is.post("/content/media/upload",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:l=>{if(l.total){const i=Math.round(l.loaded*100/l.total);s?.(i)}}})).data}}catch(a){return{success:!1,error:a.response?.data?.message||"Failed to upload media"}}},list:async t=>{try{return{success:!0,data:(await is.get("/media",{params:t})).data}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to list media"}}},delete:async t=>{try{return await is.delete(`/content/media/${t}`),{success:!0}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to delete media"}}}};const ct=n.forwardRef(({className:t,children:s,orientation:a="vertical",...r},l)=>e.jsx("div",{ref:l,className:$("relative overflow-auto",{"overflow-y-auto overflow-x-hidden":a==="vertical","overflow-x-auto overflow-y-hidden":a==="horizontal","overflow-auto":a==="both"},"scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100","hover:scrollbar-thumb-gray-400",t),...r,children:s}));ct.displayName="ScrollArea";class El{categories=new Map;loadedBlocks=new Set;blockRegistry=new Map;constructor(){this.initializeCategories()}initializeCategories(){this.categories.set("core",{name:"Core Blocks",priority:"high",blocks:["paragraph","heading","list","list-item","quote","image"],loaded:!1}),this.categories.set("layout",{name:"Layout Blocks",priority:"medium",blocks:["columns","column","group","separator","spacer","cover"],loaded:!1}),this.categories.set("media",{name:"Media Blocks",priority:"low",blocks:["gallery","audio","video","file","media-text","o4o/slide"],loaded:!1}),this.categories.set("widgets",{name:"Widget Blocks",priority:"low",blocks:["shortcode","archives","calendar","categories","latest-comments","latest-posts"],loaded:!1}),this.categories.set("embeds",{name:"Embed Blocks",priority:"low",blocks:["o4o/markdown-reader","o4o/youtube","o4o/twitter","o4o/instagram"],loaded:!1}),this.categories.set("dynamic",{name:"Dynamic Blocks",priority:"low",blocks:["o4o/cpt-acf-loop","o4o/reusable","o4o/spectra-forms"],loaded:!1})}async loadCategory(s){const a=this.categories.get(s);if(!(!a||a.loaded))try{let r;switch(s){case"core":r=await le(()=>import("./index-DzPD07IY.js"),[]),r.registerCoreBlocks&&r.registerCoreBlocks();break;case"layout":r=await le(()=>import("./index-D8o4eENP.js"),[]),r.registerLayoutBlocks&&r.registerLayoutBlocks();break;case"media":r=await le(()=>import("./index-BjemlSkF.js"),__vite__mapDeps([0,1,2,3])),r.registerMediaBlocks&&r.registerMediaBlocks();break;case"widgets":break;case"embeds":this.registerBlock("o4o/markdown-reader",{title:"Markdown Reader",category:"embed",icon:"media-document",description:"Display markdown files",supports:{align:["wide","full"],html:!1},attributes:{url:{type:"string",default:""}},edit:()=>null,save:()=>null}),this.registerBlock("o4o/youtube",{title:"YouTube",category:"embed",icon:"video",description:"Embed a YouTube video",attributes:{url:{type:"string",default:""}},edit:()=>null,save:()=>null}),this.registerBlock("o4o/twitter",{title:"Twitter",category:"embed",icon:"twitter",description:"Embed a tweet",attributes:{url:{type:"string",default:""}},edit:()=>null,save:()=>null}),this.registerBlock("o4o/instagram",{title:"Instagram",category:"embed",icon:"instagram",description:"Embed an Instagram post",attributes:{url:{type:"string",default:""}},edit:()=>null,save:()=>null}),a.loaded=!0;break;case"dynamic":this.registerBlock("o4o/cpt-acf-loop",{title:"CPT ACF Loop",category:"dynamic",icon:"layout",description:"Display custom post type loops",attributes:{postType:{type:"string",default:"post"},postsPerPage:{type:"number",default:10}},edit:()=>null,save:()=>null}),this.registerBlock("o4o/reusable",{title:"Reusable Block",category:"dynamic",icon:"block-default",description:"Insert a reusable block",attributes:{ref:{type:"number"}},edit:()=>null,save:()=>null}),this.registerBlock("o4o/spectra-forms",{title:"Spectra Forms",category:"dynamic",icon:"forms",description:"Add a form",attributes:{formId:{type:"string"}},edit:()=>null,save:()=>null}),a.loaded=!0;break}(s==="core"||s==="layout"||s==="media")&&(a.loaded=!0),r&&s!=="core"&&s!=="layout"&&s!=="media"&&(Object.entries(r).forEach(([l,i])=>{this.registerBlock(l,i)}),a.loaded=!0)}catch{}}async loadEssentialBlocks(){await this.loadCategory("core")}async loadHighPriorityBlocks(){const s=Array.from(this.categories.values()).filter(a=>a.priority==="high");await Promise.all(s.map(a=>this.loadCategory(this.getCategoryName(a))))}async loadBlocksProgressive(){await this.loadEssentialBlocks(),setTimeout(async()=>{const s=Array.from(this.categories.values()).filter(a=>a.priority==="medium");for(const a of s)await this.loadCategory(this.getCategoryName(a))},2e3),"requestIdleCallback"in window&&requestIdleCallback(async()=>{const s=Array.from(this.categories.values()).filter(a=>a.priority==="low");for(const a of s)await this.loadCategory(this.getCategoryName(a))})}async loadBlock(s){if(this.loadedBlocks.has(s))return this.blockRegistry.get(s);for(const[a,r]of this.categories)if(r.blocks.includes(s))return await this.loadCategory(a),this.blockRegistry.get(s);return null}registerBlock(s,a){this.blockRegistry.set(s,a),this.loadedBlocks.add(s),window.wp?.blocks?.registerBlockType&&window.wp.blocks.registerBlockType(s,a)}getCategoryName(s){for(const[a,r]of this.categories)if(r===s)return a;return""}getStats(){return{totalBlocks:Array.from(this.categories.values()).reduce((a,r)=>a+r.blocks.length,0),loadedBlocks:this.loadedBlocks.size,loadedCategories:Array.from(this.categories.values()).filter(a=>a.loaded).length,totalCategories:this.categories.size}}}let qt=null;function ba(){return qt||(qt=new El),qt}ba();const Tc=Object.freeze(Object.defineProperty({__proto__:null,getBlockManager:ba},Symbol.toStringTag,{value:"Module"})),Kt={"core/paragraph":ls,"core/heading":Bs,"core/list":Ps,"core/list-item":rs,"core/quote":gs,"core/code":da,"core/preformatted":Ne,"core/pullquote":gs,"core/verse":Ne,"core/freeform":Ne,"core/html":hn,"core/more":ca,"core/image":ts,"core/gallery":oa,"core/audio":Dt,"core/video":_t,"core/file":dr,"core/media-text":_a,"core/cover":cr,"core/columns":or,"core/column":Vs,"core/group":lr,"core/row":_a,"core/stack":la,"core/spacer":ir,"core/separator":ia,"core/page-break":un,"core/shortcode":mn,"core/archives":nr,"core/calendar":at,"core/categories":na,"core/latest-comments":Xe,"core/latest-posts":Ne,"core/rss":dn,"core/search":xs,"core/social-links":rr,"core/social-link":Js,"core/tag-cloud":qs,"core/page-list":Ps,"core/site-logo":Ct,"core/site-title":Bs,"core/site-tagline":ls,"core/query-title":Bs,"core/post-title":Bs,"core/post-excerpt":Ne,"core/post-featured-image":ts,"core/post-content":Ne,"core/post-author":ns,"core/post-date":at,"core/post-terms":qs,"core/post-navigation-link":rs,"core/post-template":We,"core/query":sa,"core/query-pagination":Ea,"core/query-pagination-next":rs,"core/query-pagination-previous":As,"core/query-pagination-numbers":$t,"core/query-no-results":Qs,"core/loginout":cn,"core/term-description":Ne,"core/avatar":ns,"core/post-comments-form":Xe,"core/comment-template":Xe,"core/comment-content":Xe,"core/comment-author-name":ns,"core/comment-date":at,"core/comment-edit-link":ar,"core/comment-reply-link":on,"core/comments-title":Xe,"core/comments":Xe,"core/comments-pagination":Ea,"core/comments-pagination-next":rs,"core/comments-pagination-previous":As,"core/comments-pagination-numbers":$t,"core/navigation":Hs,"core/navigation-link":Js,"core/navigation-submenu":Qe,"core/home-link":Ct,"core/read-more":rs,"core/embed":it,"core-embed/twitter":ln,"core-embed/youtube":nn,"core-embed/facebook":rn,"core-embed/instagram":an,"core/template-part":We,"core/post-author-name":ns,"core/post-author-biography":Ne,"core/footnotes":$t,"core/button":Vs,"core/buttons":Vs,"core/table":tr,"core/table-of-contents":Ps,"core/details":Qe,default:Je};function _l(t){if(Kt[t])return Kt[t];const s=t.split("/").pop();if(s){if(s.includes("heading"))return Bs;if(s.includes("paragraph"))return ls;if(s.includes("text"))return Ne;if(s.includes("image"))return ts;if(s.includes("video"))return _t;if(s.includes("audio"))return Dt;if(s.includes("list"))return Ps;if(s.includes("quote"))return gs;if(s.includes("code"))return da;if(s.includes("table"))return tr;if(s.includes("column"))return or;if(s.includes("button"))return Vs;if(s.includes("link"))return Js;if(s.includes("embed"))return it;if(s.includes("gallery"))return oa;if(s.includes("spacer"))return ir;if(s.includes("separator"))return ia;if(s.includes("menu"))return Hs;if(s.includes("search"))return xs;if(s.includes("social"))return rr;if(s.includes("comment"))return Xe;if(s.includes("archive"))return nr;if(s.includes("category"))return na;if(s.includes("tag"))return qs;if(s.includes("user")||s.includes("author"))return ns;if(s.includes("date")||s.includes("time"))return at;if(s.includes("navigation"))return Hs;if(s.includes("template"))return We;if(s.includes("query"))return sa;if(s.includes("group"))return lr;if(s.includes("block"))return Vs}return Kt.default}function Dl(t){return{text:"text-blue-600",media:"text-purple-600",design:"text-pink-600",widgets:"text-green-600",theme:"text-orange-600",embed:"text-indigo-600",common:"text-gray-600",formatting:"text-teal-600",layout:"text-cyan-600",reusable:"text-yellow-600"}[t]||"text-gray-600"}function Ll(t,s,a,r){const l=_l(t),i=s?Dl(s):"text-gray-600",d={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[r];return e.jsx(l,{className:`${d} ${i} `})}const zl=({isOpen:t,onClose:s,onSelect:a})=>{const[r,l]=n.useState(""),[i,g]=n.useState(null),[d,x]=n.useState([]),[o,h]=n.useState([]),[u,f]=n.useState([]);n.useEffect(()=>{if(!t)return;const c=async()=>{await ba().loadBlocksProgressive(),setTimeout(()=>{const j=window.wp?.blocks?.getCategories?.()||[];h(j);const b=window.wp?.blocks?.getBlockTypes?.()||[];x(b.map(S=>({name:S.name,title:S.title||S.name,description:S.description,category:S.category||"common",icon:S.icon,keywords:S.keywords||[]})));const C=localStorage.getItem("gutenberg_most_used_blocks");if(C)try{f(JSON.parse(C))}catch{f(["core/paragraph","core/heading","core/image"])}else f(["core/paragraph","core/heading","core/image"])},100)};c();const N=window.wp?.data?.subscribe?.(c);return()=>N?.()},[t]);const v=n.useMemo(()=>{let c=d;if(r){const N=r.toLowerCase();c=c.filter(p=>p.title.toLowerCase().includes(N)||p.description?.toLowerCase().includes(N)||p.keywords?.some(j=>j.toLowerCase().includes(N)))}return i&&(c=c.filter(N=>N.category===i)),c},[d,r,i]),w=n.useMemo(()=>{const c={};if(r||i)return{results:v};const N=d.filter(j=>u.includes(j.name));N.length>0&&(c.mostUsed=N),o.forEach(j=>{const b=d.filter(C=>C.category===j.slug);b.length>0&&(c[j.slug]=b)});const p=d.filter(j=>!o.some(b=>b.slug===j.category));return p.length>0&&(c.common=p),c},[d,o,v,r,i,u]),m=c=>{const N=[c,...u.filter(p=>p!==c)].slice(0,6);f(N),localStorage.setItem("gutenberg_most_used_blocks",JSON.stringify(N)),a(c)};if(!t)return null;const y=c=>c==="mostUsed"?"Most Used":c==="results"?`${v.length} results`:o.find(p=>p.slug===c)?.title||c;return e.jsxs("div",{className:"gutenberg-block-inserter fixed inset-y-0 left-0 w-96 bg-white border-r shadow-lg z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Add Block"}),e.jsx("button",{onClick:s,className:"p-1.5 hover:bg-gray-200 rounded-md transition-colors","aria-label":"Close",children:e.jsx(Ue,{className:"h-5 w-5 text-gray-600"})})]}),e.jsx("div",{className:"p-4 border-b bg-white",children:e.jsxs("div",{className:"relative",children:[e.jsx(xs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ke,{type:"text",placeholder:"Search blocks",value:r,onChange:c=>l(c.target.value),className:"pl-10 pr-3 py-2 bg-gray-50 border-gray-200 focus:bg-white",autoFocus:!0})]})}),!r&&o.length>0&&e.jsxs("div",{className:"flex items-center gap-1 px-4 py-2 border-b bg-gray-50 overflow-x-auto",children:[e.jsx("button",{onClick:()=>g(null),className:`px-3 py-1.5 text-xs font-medium rounded-md whitespace-nowrap transition-colors ${i?"text-gray-600 hover:text-gray-900 hover:bg-gray-100":"bg-white text-gray-900 shadow-sm border border-gray-200"}`,children:"All"}),o.map(c=>e.jsx("button",{onClick:()=>g(c.slug),className:`px-3 py-1.5 text-xs font-medium rounded-md whitespace-nowrap transition-colors ${i===c.slug?"bg-white text-gray-900 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:c.title},c.slug))]}),e.jsx(ct,{className:"flex-1 bg-gray-50",children:e.jsxs("div",{className:"p-4",children:[Object.entries(w).map(([c,N])=>e.jsxs("div",{className:"mb-6",children:[!r&&!i&&e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c==="mostUsed"&&e.jsx(Ws,{className:"h-4 w-4 text-blue-500"}),e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:y(c)})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:N.map(p=>e.jsxs("button",{onClick:()=>m(p.name),className:"relative flex flex-col items-center justify-center p-3 h-24 text-center bg-white border border-gray-200 rounded-md hover:bg-blue-50 hover:border-blue-300 hover:shadow-sm transition-all group",title:p.description||p.title,children:[e.jsx("div",{className:"mb-2 transition-transform group-hover:scale-110",children:Ll(p.name,p.category,"","lg")}),e.jsx("div",{className:"text-xs font-medium text-gray-700 group-hover:text-blue-700 line-clamp-2 leading-tight",children:p.title}),e.jsx("div",{className:"absolute inset-0 border-2 border-transparent group-hover:border-blue-400 rounded-md pointer-events-none"})]},p.name))})]},c)),r&&v.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:e.jsx(xs,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No blocks found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Try searching with different keywords"})]})]})})]})},st=n.createContext(null),dt=({open:t,defaultOpen:s=!1,onOpenChange:a,children:r})=>{const[l,i]=n.useState(s),g=t??l,d=x=>{t===void 0&&i(x),a?.(x)};return e.jsx(st.Provider,{value:{open:g,onOpenChange:d},children:r})},$l=n.forwardRef(({onClick:t,...s},a)=>{const r=n.useContext(st);if(!r)throw new Error("DialogTrigger must be used within Dialog");return e.jsx("button",{ref:a,onClick:l=>{t?.(l),r.onOpenChange(!0)},...s})}),Pr=({children:t})=>{const s=n.useContext(st);if(!s)throw new Error("DialogPortal must be used within Dialog");return s.open?e.jsx(e.Fragment,{children:t}):null},Ar=n.forwardRef(({onClick:t,...s},a)=>{const r=n.useContext(st);if(!r)throw new Error("DialogClose must be used within Dialog");return e.jsx("button",{ref:a,onClick:l=>{t?.(l),r.onOpenChange(!1)},...s})}),Er=n.forwardRef(({className:t,onClick:s,...a},r)=>{const l=n.useContext(st);if(!l)throw new Error("DialogOverlay must be used within Dialog");return e.jsx("div",{ref:r,className:$("fixed inset-0 z-[100000] bg-black/80",t),onClick:i=>{s?.(i),i.target===i.currentTarget&&l.onOpenChange(!1)},...a})}),mt=n.forwardRef(({className:t,children:s,...a},r)=>{const l=n.useContext(st);if(!l)throw new Error("DialogContent must be used within Dialog");return n.useEffect(()=>{if(l.open){const i=g=>{g.key==="Escape"&&l.onOpenChange(!1)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)}},[l]),e.jsxs(Pr,{children:[e.jsx(Er,{}),e.jsxs("div",{ref:r,className:$("fixed left-[50%] top-[50%] z-[100001] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg",t),...a,children:[s,e.jsxs(Ar,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}),ya=({className:t,...s})=>e.jsx("div",{className:$("flex flex-col space-y-1.5 text-center sm:text-left",t),...s}),_r=({className:t,...s})=>e.jsx("div",{className:$("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s}),va=n.forwardRef(({className:t,...s},a)=>e.jsx("h2",{ref:a,className:$("text-lg font-semibold leading-none tracking-tight",t),...s})),Dr=n.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:$("text-sm text-muted-foreground",t),...s}));dt.displayName="Dialog";$l.displayName="DialogTrigger";Pr.displayName="DialogPortal";Ar.displayName="DialogClose";Er.displayName="DialogOverlay";mt.displayName="DialogContent";ya.displayName="DialogHeader";_r.displayName="DialogFooter";va.displayName="DialogTitle";Dr.displayName="DialogDescription";const Ua=[{id:"basic",name:"기본 템플릿",icon:e.jsx(We,{className:"w-4 h-4"}),description:"간단하고 깔끔한 기본 레이아웃",color:"from-blue-500 to-blue-600",templates:[{id:"simple-article",name:"간단한 글",category:"basic",thumbnail:"/templates/simple-article.png",description:"기본적인 텍스트 위주의 글 템플릿",tags:["텍스트","간단함","기본"],estimatedTime:"5분",popularity:4.5,blocks:[{id:"block-1",type:"core/paragraph",content:{text:"여기에 글의 도입부를 작성하세요. 독자의 관심을 끌 수 있는 내용으로 시작하는 것이 좋습니다."},attributes:{align:"left"}},{id:"block-2",type:"core/heading",content:{text:"주요 내용",level:2},attributes:{level:2}},{id:"block-3",type:"core/paragraph",content:{text:"본문의 핵심 내용을 여기에 작성하세요. 구체적인 정보와 예시를 포함하면 더욱 효과적입니다."},attributes:{align:"left"}}]},{id:"newsletter",name:"뉴스레터",category:"basic",thumbnail:"/templates/newsletter.png",description:"이메일 뉴스레터를 위한 깔끔한 템플릿",tags:["이메일","뉴스레터","구독"],isNew:!0,estimatedTime:"10분",popularity:4.8,blocks:[{id:"block-1",type:"core/heading",content:{text:"이번 주 주요 소식",level:1},attributes:{level:1,align:"center"}},{id:"block-2",type:"core/paragraph",content:{text:"구독자 여러분, 안녕하세요! 이번 주 가장 중요한 소식을 모아서 전해드립니다."},attributes:{align:"center"}}]}]},{id:"landing",name:"랜딩 페이지",icon:e.jsx(ma,{className:"w-4 h-4"}),description:"전환율 높은 랜딩 페이지 템플릿",color:"from-purple-500 to-pink-500",templates:[{id:"hero-landing",name:"히어로 섹션",category:"landing",thumbnail:"/templates/hero-landing.png",description:"강력한 첫인상을 위한 히어로 섹션 템플릿",tags:["히어로","랜딩","마케팅"],isPremium:!0,estimatedTime:"15분",popularity:4.9,blocks:[{id:"block-1",type:"core/heading",content:{text:"당신의 비즈니스를 성공으로 이끌어드립니다",level:1},attributes:{level:1,align:"center"}},{id:"block-2",type:"core/paragraph",content:{text:"전문적인 솔루션으로 더 나은 결과를 만들어보세요. 지금 바로 시작하세요!"},attributes:{align:"center"}},{id:"block-3",type:"core/button",content:{text:"무료로 시작하기"},attributes:{align:"center"}}]}]},{id:"service",name:"서비스 소개",icon:e.jsx(pn,{className:"w-4 h-4"}),description:"서비스와 제품을 효과적으로 소개",color:"from-green-500 to-teal-500",templates:[{id:"service-overview",name:"서비스 개요",category:"service",thumbnail:"/templates/service-overview.png",description:"서비스나 제품을 소개하는 구조화된 템플릿",tags:["서비스","제품","소개"],estimatedTime:"20분",popularity:4.7,blocks:[{id:"block-1",type:"core/heading",content:{text:"우리의 서비스",level:1},attributes:{level:1,align:"center"}},{id:"block-2",type:"core/paragraph",content:{text:"고객의 니즈에 맞춘 전문적인 서비스를 제공합니다."},attributes:{align:"center"}}]}]},{id:"portfolio",name:"포트폴리오",icon:e.jsx(oa,{className:"w-4 h-4"}),description:"작품과 프로젝트를 돋보이게 전시",color:"from-orange-500 to-red-500",templates:[{id:"project-showcase",name:"프로젝트 쇼케이스",category:"portfolio",thumbnail:"/templates/project-showcase.png",description:"작업물이나 프로젝트를 효과적으로 보여주는 템플릿",tags:["포트폴리오","프로젝트","쇼케이스"],isNew:!0,estimatedTime:"25분",popularity:4.6,blocks:[{id:"block-1",type:"core/heading",content:{text:"프로젝트 소개",level:1},attributes:{level:1,align:"center"}}]}]},{id:"blog",name:"블로그",icon:e.jsx(xn,{className:"w-4 h-4"}),description:"매력적인 블로그 포스트 레이아웃",color:"from-indigo-500 to-blue-500",templates:[{id:"blog-post",name:"블로그 포스트",category:"blog",thumbnail:"/templates/blog-post.png",description:"읽기 좋은 블로그 글을 위한 구조화된 템플릿",tags:["블로그","글쓰기","구조"],estimatedTime:"30분",popularity:4.8,blocks:[{id:"block-1",type:"core/paragraph",content:{text:"오늘은 여러분과 함께 흥미로운 주제에 대해 이야기해보려고 합니다."},attributes:{align:"left"}}]}]}],Rl=({isOpen:t,onClose:s,onApplyTemplate:a})=>{const[r,l]=n.useState("basic"),[i,g]=n.useState(null),[d,x]=n.useState(!1),[o,h]=n.useState(""),[u,f]=n.useState(!1),[v,w]=n.useState(!1),m=Ua.find(p=>p.id===r),y=n.useMemo(()=>{let p=m?.templates||[];return o&&(p=p.filter(j=>j.name.toLowerCase().includes(o.toLowerCase())||j.description.toLowerCase().includes(o.toLowerCase())||j.tags.some(b=>b.toLowerCase().includes(o.toLowerCase())))),u&&(p=p.filter(j=>j.isNew)),v&&(p=p.filter(j=>j.isPremium)),p},[m,o,u,v]),c=p=>{const j=p.blocks.map(b=>({...b,id:`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}));a(j),s()},N=p=>{g(p),x(!0)};return e.jsx(dt,{open:t,onOpenChange:s,children:e.jsx(mt,{className:"max-w-7xl h-[90vh] p-0 overflow-hidden",children:e.jsxs("div",{className:"flex h-full bg-white",children:[e.jsxs("div",{className:"w-72 bg-gradient-to-b from-gray-50 to-white border-r flex flex-col",children:[e.jsx(ya,{className:"p-6 border-b bg-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl",children:e.jsx(Ws,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx(va,{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"디자인 라이브러리"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"프로페셔널 템플릿 컬렉션"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b bg-white/50",children:e.jsxs("div",{className:"relative",children:[e.jsx(xs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"템플릿 검색...",value:o,onChange:p=>h(p.target.value),className:"w-full pl-9 pr-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"p-4 space-y-2 border-b",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:p=>f(p.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"새로운 템플릿만"}),e.jsx(as,{className:"bg-green-100 text-green-700 text-xs",children:"NEW"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:p=>w(p.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"프리미엄"}),e.jsx(as,{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-xs",children:"PRO"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"카테고리"}),e.jsx("nav",{className:"space-y-1",children:Ua.map(p=>e.jsx("button",{onClick:()=>{l(p.id),x(!1),h("")},className:$("w-full text-left px-4 py-3 rounded-xl transition-all duration-200 group",r===p.id?"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 shadow-sm":"hover:bg-gray-50"),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:$("p-2 rounded-lg bg-gradient-to-br",r===p.id?p.color:"from-gray-200 to-gray-300 group-hover:"+p.color,"transition-all duration-200"),children:e.jsx("div",{className:$(r===p.id?"text-white":"text-gray-600 group-hover:text-white"),children:p.icon})}),e.jsxs("div",{children:[e.jsx("div",{className:$("font-medium text-sm",r===p.id?"text-gray-900":"text-gray-700"),children:p.name}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[p.templates.length,"개 템플릿"]})]})]})})},p.id))})]})]}),e.jsx("div",{className:"p-4 border-t bg-gradient-to-r from-blue-50 to-purple-50",children:e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Le,{className:"w-3 h-3 text-yellow-500"}),e.jsx("span",{className:"font-medium",children:"팁:"})]}),e.jsx("p",{children:"템플릿을 선택한 후 자유롭게 수정할 수 있습니다."})]})})]}),e.jsx("div",{className:"flex-1 flex flex-col bg-gray-50",children:d?i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border-b shadow-sm",children:e.jsx("div",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(k,{variant:"ghost",size:"icon",onClick:()=>x(!1),className:"hover:bg-gray-100 rounded-full",children:e.jsx(As,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i.name}),i.isNew&&e.jsx(as,{className:"bg-green-500 text-white",children:"NEW"}),i.isPremium&&e.jsx(as,{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white",children:"PRO"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.description})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{variant:"outline",onClick:()=>x(!1),children:"다른 템플릿 보기"}),e.jsxs(k,{onClick:()=>c(i),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"이 템플릿 적용하기"]}),e.jsx(k,{variant:"ghost",size:"icon",onClick:s,className:"hover:bg-gray-100 rounded-full",children:e.jsx(Ue,{className:"h-5 w-5"})})]})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-gray-50 to-white p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12",children:e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{className:"space-y-6",children:i.blocks.map((p,j)=>e.jsxs("div",{className:"block-preview",children:[p.type==="core/heading"&&e.jsx("div",{className:$("font-bold text-gray-900",p.content?.level===1&&"text-4xl mb-6",p.content?.level===2&&"text-3xl mb-4 mt-8",p.content?.level===3&&"text-2xl mb-3 mt-6",p.attributes?.align==="center"&&"text-center",p.attributes?.align==="right"&&"text-right"),children:p.content?.text}),p.type==="core/paragraph"&&e.jsx("p",{className:$("text-gray-700 leading-relaxed text-lg",p.attributes?.align==="center"&&"text-center",p.attributes?.align==="right"&&"text-right"),children:p.content?.text}),p.type==="core/list"&&e.jsx("div",{className:"ml-4",children:p.content?.style==="ordered"?e.jsx("ol",{className:"list-decimal space-y-2 text-gray-700",children:p.content?.items?.map((b,C)=>e.jsx("li",{className:"pl-2",children:b},C))}):e.jsx("ul",{className:"list-disc space-y-2 text-gray-700",children:p.content?.items?.map((b,C)=>e.jsx("li",{className:"pl-2",children:b},C))})}),p.type==="core/button"&&e.jsx("div",{className:$("flex my-6",p.attributes?.align==="center"&&"justify-center",p.attributes?.align==="right"&&"justify-end"),children:e.jsx("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-xl font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:p.content?.text})})]},`preview-${j}`))})})})})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border-b shadow-sm",children:e.jsx("div",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:$("p-2 rounded-lg bg-gradient-to-br",m?.color),children:e.jsx("div",{className:"text-white",children:m?.icon})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:m?.name})]}),e.jsx("p",{className:"text-gray-600",children:m?.description})]}),e.jsx(k,{variant:"ghost",size:"icon",onClick:s,className:"hover:bg-gray-100 rounded-full",children:e.jsx(Ue,{className:"h-5 w-5"})})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-8 py-6",children:y.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4",children:e.jsx(xs,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"템플릿을 찾을 수 없습니다"}),e.jsx("p",{className:"text-gray-500 max-w-sm",children:"다른 검색어를 시도하거나 필터를 변경해보세요."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(p=>e.jsxs("div",{className:"group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-gray-100 to-gray-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 p-6",children:e.jsxs("div",{className:"h-full w-full bg-white rounded-lg shadow-inner p-4 flex flex-col items-center justify-center",children:[e.jsx(Ne,{className:"w-12 h-12 text-gray-300 mb-3"}),e.jsxs("div",{className:"w-full space-y-2",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded w-3/4 mx-auto"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-5/6 mx-auto"})]})]})}),e.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[p.isNew&&e.jsx(as,{className:"bg-green-500 text-white border-0 shadow-lg",children:"NEW"}),p.isPremium&&e.jsx(as,{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white border-0 shadow-lg",children:"PRO"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-end justify-center pb-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(k,{size:"sm",variant:"secondary",onClick:()=>N(p),className:"bg-white/95 backdrop-blur text-gray-900 hover:bg-white shadow-lg",children:[e.jsx(os,{className:"h-4 w-4 mr-2"}),"미리보기"]}),e.jsxs(k,{size:"sm",onClick:()=>c(p),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg",children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"적용하기"]})]})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:p.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:p.description})]})}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[p.estimatedTime&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3"}),e.jsx("span",{children:p.estimatedTime})]}),p.popularity&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{children:p.popularity})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(j=>e.jsx(as,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600 hover:bg-gray-200",children:j},j))})]})]},p.id))})})]})})]})})})},Ol=yr("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),At=n.forwardRef(({className:t,variant:s,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:$(Ol({variant:s}),t),...a}));At.displayName="Alert";const Ml=n.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:$("mb-1 font-medium leading-none tracking-tight",t),...s}));Ml.displayName="AlertTitle";const Et=n.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:$("text-sm [&_p]:leading-relaxed",t),...s}));Et.displayName="AlertDescription";const Lr=n.forwardRef(({className:t,value:s=0,max:a=100,...r},l)=>{const i=Math.min(Math.max(0,s/a*100),100);return e.jsx("div",{ref:l,role:"progressbar","aria-valuemin":0,"aria-valuemax":a,"aria-valuenow":s,className:$("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:e.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-i}%)`}})})});Lr.displayName="Progress";class Us{static instance;shortcodeCache=[];categories=[];cacheExpiry=null;CACHE_DURATION=5*60*1e3;constructor(){}static getInstance(){return Us.instance||(Us.instance=new Us),Us.instance}async loadShortcodes(s=!1){if(!s&&this.shortcodeCache.length>0&&this.cacheExpiry&&new Date<this.cacheExpiry)return this.shortcodeCache;try{const a=await we.api.get("/api/ai/shortcodes/reference");if(a.data.success)return this.shortcodeCache=a.data.data.shortcodes,this.categories=a.data.data.categories,this.cacheExpiry=new Date(Date.now()+this.CACHE_DURATION),this.shortcodeCache;throw new Error("Failed to load shortcodes")}catch{return this.shortcodeCache.length>0?this.shortcodeCache:this.getDefaultShortcodes()}}async buildEnhancedAIPrompt(s,a={}){const{includeCategories:r,maxShortcodes:l=20,includeExamples:i=!0,includeUsageHints:g=!0}=a;await this.loadShortcodes();let d=this.shortcodeCache;r&&r.length>0&&(d=d.filter(h=>r.includes(h.category))),d=d.slice(0,l);const x=d.map(h=>{let u=`- **[${h.name}]**: ${h.description}`;return h.parameters&&(u+=`
  Parameters: ${h.parameters}`),i&&h.examples.length>0&&(u+=`
  Example: ${h.examples[0]}`),g&&h.aiPrompts.length>0&&(u+=`
  Use when: ${h.aiPrompts[0]}`),h.tags.length>0&&(u+=`
  Tags: ${h.tags.join(", ")}`),u}).join(`

`);return`# Available Shortcodes

## Categories Available:
${this.categories.filter(h=>d.some(u=>u.category===h.name)).map(h=>`- ${h.name}: ${h.description}`).join(`
`)}

## Shortcodes (${d.length} available):

${x}

---

## User Request: 
"${s}"

## Instructions:
1. **Analyze the user request** carefully to understand what they want to create
2. **Select appropriate shortcodes** from the list above that best match their needs
3. **Use shortcode parameters** when needed to customize the output
4. **Create a complete page structure** using HTML elements and shortcodes
5. **Consider user experience** - make the page intuitive and well-organized
6. **Only use shortcodes** from the list above - do not invent new ones
7. **Include proper HTML structure** with headers, sections, and semantic elements
8. **Add explanatory text** where it makes sense for context

## Output Format:
Provide a complete HTML page structure with embedded shortcodes that fulfills the user's request.`}async buildAIPrompt(s){return this.buildEnhancedAIPrompt(s,{maxShortcodes:15,includeExamples:!0,includeUsageHints:!0})}async getShortcodesByCategory(s){return await this.loadShortcodes(),this.shortcodeCache.filter(a=>a.category===s)}async searchShortcodes(s){await this.loadShortcodes();const a=s.toLowerCase();return this.shortcodeCache.filter(r=>r.name.toLowerCase().includes(a)||r.description.toLowerCase().includes(a)||r.tags.some(l=>l.toLowerCase().includes(a))||r.aiPrompts.some(l=>l.toLowerCase().includes(a)))}async getAvailableCategories(){return await this.loadShortcodes(),this.categories}async getShortcodeStats(){await this.loadShortcodes();const s=this.categories.map(a=>({category:a.name,count:this.shortcodeCache.filter(r=>r.category===a.name).length}));return{total:this.shortcodeCache.length,categories:this.categories.length,categoryStats:s,lastLoaded:this.cacheExpiry?.toISOString()||null}}invalidateCache(){this.shortcodeCache=[],this.categories=[],this.cacheExpiry=null}getDefaultShortcodes(){return[{name:"products",usage:"[products]",description:"상품 목록을 표시합니다",parameters:"limit: 표시할 상품 수, category: 카테고리, featured: 추천 상품만",examples:['[products limit="6"]'],category:"ecommerce",tags:["상품","쇼핑"],aiPrompts:["상품을 보여주고 싶을 때"]},{name:"contact-form",usage:"[contact-form]",description:"연락처 폼을 표시합니다",parameters:"email: 수신 이메일 (필수), title: 폼 제목",examples:['[contact-form email="contact@example.com"]'],category:"forms",tags:["폼","연락처"],aiPrompts:["연락처 폼이 필요할 때"]},{name:"recent-posts",usage:"[recent-posts]",description:"최근 게시물을 표시합니다",parameters:"limit: 게시물 수, category: 카테고리",examples:['[recent-posts limit="5"]'],category:"content",tags:["게시물","블로그"],aiPrompts:["최신 글을 보여주고 싶을 때"]}]}}const Fl=Us.getInstance(),Bl={"gemini-1.5-flash":"Gemini 1.5 Flash (2025년 9월 종료 예정)","gemini-1.5-pro":"Gemini 1.5 Pro (2025년 9월 종료 예정)","gemini-2.0-flash":"Gemini 2.0 Flash (최신 멀티모달)","gemini-2.5-flash":"Gemini 2.5 Flash (안정 버전)","gemini-2.5-pro":"Gemini 2.5 Pro (최강력 모델)"},Ul={"gpt-4":"GPT-4","gpt-4-turbo":"GPT-4 Turbo","gpt-3.5-turbo":"GPT-3.5 Turbo"},ql={"claude-3-opus-20240229":"Claude 3 Opus","claude-3-sonnet-20240229":"Claude 3 Sonnet","claude-3-haiku-20240307":"Claude 3 Haiku"},qa={landing:{name:"랜딩 페이지",description:"제품이나 서비스를 소개하는 랜딩 페이지",systemPrompt:`당신은 WordPress Gutenberg 블록 형식으로 페이지를 생성하는 전문가입니다.
    랜딩 페이지를 생성할 때 다음 블록들을 사용하세요:
    - core/heading: 제목과 부제목
    - core/paragraph: 설명 텍스트
    - core/image: 이미지 (placeholder 사용)
    - core/columns: 다단 레이아웃
    - core/button: CTA 버튼
    - core/separator: 구분선
    
    JSON 형식으로 블록 배열을 반환하세요.`},about:{name:"회사 소개",description:"회사나 팀을 소개하는 페이지",systemPrompt:`회사 소개 페이지를 생성합니다. 다음 구조를 따르세요:
    - 회사 비전과 미션
    - 핵심 가치
    - 팀 소개
    - 연혁
    - 연락처 정보`},product:{name:"제품 소개",description:"제품의 특징과 장점을 설명하는 페이지",systemPrompt:`제품 소개 페이지를 생성합니다. 다음을 포함하세요:
    - 제품명과 설명
    - 주요 기능
    - 장점과 이점
    - 가격 정보
    - 고객 후기`},blog:{name:"블로그 포스트",description:"블로그 형식의 글",systemPrompt:`블로그 포스트를 생성합니다. 다음 구조를 사용하세요:
    - 제목 (h1)
    - 소개 단락
    - 본문 섹션들 (h2, h3)
    - 이미지
    - 결론`}};class Kl{provider;abortController;constructor(s){this.provider=s}async generateBlocks(s){const{prompt:a,template:r="landing",onProgress:l,signal:i,useShortcodes:g=!0,shortcodeCategories:d}=s,x=qa[r],o=(h,u)=>{l&&l(h,u)};try{o(0,"Shortcode 정보를 로드 중...");let h=a;if(g)try{h=await Fl.buildEnhancedAIPrompt(a,{includeCategories:d,maxShortcodes:20,includeExamples:!0,includeUsageHints:!0}),o(5,"Shortcode 정보가 로드되었습니다")}catch{o(5,"기본 프롬프트로 진행합니다")}if(o(10,"AI 모델에 연결 중..."),i?.aborted)throw new Error("생성이 취소되었습니다");let u=[];switch(o(20,"프롬프트를 처리하고 있습니다..."),this.provider.name){case"openai":u=await this.generateWithOpenAI(h,x,o,i);break;case"claude":u=await this.generateWithClaude(h,x,o,i);break;case"gemini":u=await this.generateWithGemini(h,x,o,i);break;default:o(30,"테스트 데이터를 생성 중..."),u=await this.generateMockBlocks(h,r,o)}return o(70,"생성된 블록을 검증하고 있습니다..."),u=this.validateAndNormalizeBlocks(u),o(90,"페이지 생성을 완료하고 있습니다..."),o(100,"페이지가 성공적으로 생성되었습니다!"),u}catch(h){throw h.name==="AbortError"||h.message==="생성이 취소되었습니다"?new Error("생성이 취소되었습니다"):new Error(h.message||"페이지 생성 중 오류가 발생했습니다")}}async generateBlocksLegacy(s,a="landing"){return this.generateBlocks({prompt:s,template:a})}async generateWithOpenAI(s,a,r,l){if(!this.provider.apiKey)throw new Error("OpenAI API 키가 설정되지 않았습니다");r(30,"OpenAI GPT-4에 요청을 전송 중...");const i=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.provider.apiKey}`},body:JSON.stringify({model:this.provider.model||"gpt-4",messages:[{role:"system",content:a.systemPrompt},{role:"user",content:`다음 요구사항으로 페이지를 생성하세요: ${s}
            
            JSON 배열 형식으로 WordPress 블록들을 반환하세요.
            예시:
            [
              {
                "type": "core/heading",
                "content": { "text": "제목" },
                "attributes": { "level": 1 }
              }
            ]`}],temperature:.7}),signal:l});r(50,"AI 응답을 처리하고 있습니다...");const g=await i.json();if(!i.ok)throw new Error(g.error?.message||"OpenAI API 오류");r(60,"블록 데이터를 파싱하고 있습니다...");try{const d=g.choices[0].message.content;return JSON.parse(d)}catch{return this.generateMockBlocks(s,"landing",r)}}async generateWithClaude(s,a,r,l){if(!this.provider.apiKey)throw new Error("Claude API 키가 설정되지 않았습니다");r(30,"Claude AI에 요청을 전송 중...");const i=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.provider.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:this.provider.model||"claude-3-opus-20240229",max_tokens:4e3,messages:[{role:"user",content:`${a.systemPrompt}
            
            다음 요구사항으로 페이지를 생성하세요: ${s}
            
            WordPress Gutenberg 블록 JSON 배열만 반환하세요.`}]}),signal:l});r(50,"Claude 응답을 처리하고 있습니다...");const g=await i.json();if(!i.ok)throw new Error(g.error?.message||"Claude API 오류");r(60,"블록 데이터를 파싱하고 있습니다...");try{const d=g.content[0].text;return JSON.parse(d)}catch{return this.generateMockBlocks(s,"landing",r)}}async generateWithGemini(s,a,r,l){if(!this.provider.apiKey)throw new Error("Gemini API 키가 설정되지 않았습니다. Google AI Studio에서 API 키를 발급받으세요.");let i=this.provider.model||"gemini-2.5-flash";i==="gemini-pro"&&(console.warn("gemini-pro 모델은 더 이상 지원되지 않습니다. gemini-2.5-flash로 변경합니다."),i="gemini-2.5-flash"),i.includes("1.5")&&console.warn(`${i}는 2025년 9월에 종료됩니다. gemini-2.5 모델로 마이그레이션을 권장합니다.`),r(30,`Google Gemini ${i}에 요청을 전송 중...`);const g=i.includes("2.5")?"v1":"v1beta",d=`${a.systemPrompt}
    
중요: 반드시 유효한 JSON 배열 형식으로만 응답하세요.
각 블록은 다음 구조를 가져야 합니다:
{
  "type": "블록 타입 (예: core/heading)",
  "content": { "text": "내용" },
  "attributes": { "level": 1 }
}`,x=`다음 요구사항으로 WordPress Gutenberg 페이지를 생성하세요: ${s}

JSON 배열 형식으로만 응답하세요. 다른 설명이나 텍스트는 포함하지 마세요.`;try{const o=await fetch(`https://generativelanguage.googleapis.com/${g}/models/${i}:generateContent?key=${this.provider.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:d+`

`+x}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192,responseMimeType:"application/json"}}),signal:l});r(50,"Gemini 응답을 처리하고 있습니다...");const h=await o.json();if(!o.ok){if(console.error("Gemini API Error:",h),h.error?.message?.includes("is not found"))return console.warn(`${i} 모델을 찾을 수 없습니다. 기본 모델로 재시도합니다.`),this.provider.model="gemini-2.5-flash",this.generateWithGemini(s,a,r,l);throw new Error(h.error?.message||`Gemini API 오류: ${o.status}`)}r(60,"블록 데이터를 파싱하고 있습니다...");try{const u=h.candidates?.[0]?.content?.parts?.[0]?.text;if(!u)throw new Error("Gemini 응답에 콘텐츠가 없습니다");let f;try{f=JSON.parse(u)}catch{const w=u.match(/```(?:json)?\s*([\s\S]*?)```/);w?f=JSON.parse(w[1]):f=JSON.parse(u)}if(!Array.isArray(f))throw new Error("응답이 배열 형식이 아닙니다");return f}catch(u){return console.error("Gemini 응답 파싱 실패:",u),r(60,"기본 템플릿을 사용합니다..."),this.generateMockBlocks(s,"landing",r)}}catch(o){throw o.name==="AbortError"?o:(console.error("Gemini API 호출 실패:",o),new Error(`Gemini API 오류: ${o.message}`))}}async generateMockBlocks(s,a,r){r&&r(40,"템플릿을 준비하고 있습니다..."),await new Promise(i=>setTimeout(i,500)),r&&r(50,"콘텐츠를 생성하고 있습니다..."),await new Promise(i=>setTimeout(i,500));const l=[];switch(l.push({id:ye(),type:"core/heading",content:{text:s},attributes:{level:1,textAlign:"center"}}),r&&r(60,"블록을 구성하고 있습니다..."),a){case"landing":l.push({id:ye(),type:"core/paragraph",content:{text:"혁신적인 솔루션으로 여러분의 비즈니스를 한 단계 발전시키세요."},attributes:{align:"center",fontSize:"large"}},{id:ye(),type:"core/columns",innerBlocks:[{id:ye(),type:"core/column",innerBlocks:[{id:ye(),type:"core/heading",content:{text:"빠른 성능"},attributes:{level:3}},{id:ye(),type:"core/paragraph",content:{text:"최적화된 코드로 빠른 로딩 속도를 제공합니다."}}]},{id:ye(),type:"core/column",innerBlocks:[{id:ye(),type:"core/heading",content:{text:"쉬운 사용"},attributes:{level:3}},{id:ye(),type:"core/paragraph",content:{text:"직관적인 인터페이스로 누구나 쉽게 사용할 수 있습니다."}}]},{id:ye(),type:"core/column",innerBlocks:[{id:ye(),type:"core/heading",content:{text:"24/7 지원"},attributes:{level:3}},{id:ye(),type:"core/paragraph",content:{text:"언제든지 전문가의 도움을 받을 수 있습니다."}}]}]},{id:ye(),type:"core/button",content:{text:"지금 시작하기"},attributes:{url:"#",backgroundColor:"#007cba",textColor:"#ffffff",align:"center"}});break;case"about":l.push({id:ye(),type:"core/heading",content:{text:"우리의 비전"},attributes:{level:2}},{id:ye(),type:"core/paragraph",content:{text:"우리는 기술을 통해 더 나은 세상을 만들어갑니다."}},{id:ye(),type:"core/heading",content:{text:"핵심 가치"},attributes:{level:2}},{id:ye(),type:"core/list",content:{values:["혁신","협력","신뢰","고객 중심"]}});break;case"product":l.push({id:ye(),type:"core/image",attributes:{url:"/images/product-placeholder.jpg",alt:"제품 이미지",align:"center"}},{id:ye(),type:"core/heading",content:{text:"주요 기능"},attributes:{level:2}},{id:ye(),type:"core/list",content:{values:["실시간 데이터 동기화","강력한 보안 시스템","직관적인 대시보드","맞춤형 리포트"]}});break;case"blog":l.push({id:ye(),type:"core/paragraph",content:{text:"오늘은 흥미로운 주제에 대해 이야기해보겠습니다."}},{id:ye(),type:"core/heading",content:{text:"서론"},attributes:{level:2}},{id:ye(),type:"core/paragraph",content:{text:"이 주제가 왜 중요한지 설명합니다..."}},{id:ye(),type:"core/heading",content:{text:"본론"},attributes:{level:2}},{id:ye(),type:"core/paragraph",content:{text:"핵심 내용을 자세히 다룹니다..."}},{id:ye(),type:"core/quote",content:{value:"인용문을 통해 신뢰성을 높입니다.",citation:"출처"}},{id:ye(),type:"core/heading",content:{text:"결론"},attributes:{level:2}},{id:ye(),type:"core/paragraph",content:{text:"오늘 다룬 내용을 정리하면..."}});break;default:l.push({id:ye(),type:"core/paragraph",content:{text:"AI가 생성한 콘텐츠가 여기에 표시됩니다."}})}return l.push({id:ye(),type:"core/separator",attributes:{}}),l}validateAndNormalizeBlocks(s){return s.map(a=>(a.id||(a.id=ye()),a.type||(a.type="core/paragraph"),a.innerBlocks&&Array.isArray(a.innerBlocks)&&(a.innerBlocks=this.validateAndNormalizeBlocks(a.innerBlocks)),a))}inferTemplate(s){const a=s.toLowerCase();return a.includes("랜딩")||a.includes("landing")?"landing":a.includes("회사")||a.includes("소개")?"about":a.includes("제품")||a.includes("product")?"product":a.includes("블로그")||a.includes("blog")?"blog":"landing"}getTemplates(){return Object.entries(qa).map(([s,a])=>({key:s,name:a.name,description:a.description}))}cancel(){this.abortController&&this.abortController.abort()}}class ds{static STORAGE_KEY="ai_api_keys";static getKeys(){try{const s=localStorage.getItem(this.STORAGE_KEY);return s?JSON.parse(s):{}}catch{return{}}}static setKey(s,a){const r=this.getKeys();r[s]=a,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r))}static removeKey(s){const a=this.getKeys();delete a[s],localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a))}static getKey(s){return this.getKeys()[s]}static getDefaultModel(s){try{return localStorage.getItem(`ai_default_model_${s}`)||void 0}catch{return}}static setDefaultModel(s,a){localStorage.setItem(`ai_default_model_${s}`,a)}}const Pc=()=>{const[t,s]=n.useState({gemini:"",openai:"",claude:""}),[a,r]=n.useState({gemini:"gemini-2.5-flash",openai:"gpt-4-turbo",claude:"claude-3-sonnet-20240229"}),[l,i]=n.useState({gemini:!1,openai:!1,claude:!1}),[g,d]=n.useState(!1),[x,o]=n.useState(null),[h,u]=n.useState({}),f=[{id:"gemini",name:"Google Gemini",icon:"🌟",models:[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash (추천)"},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro"},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash (곧 종료)"},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro (곧 종료)"}],apiUrl:"https://aistudio.google.com/app/apikey",description:"Google AI Studio에서 무료 API 키 발급"},{id:"openai",name:"OpenAI",icon:"🤖",models:[{id:"gpt-4-turbo",name:"GPT-4 Turbo"},{id:"gpt-4",name:"GPT-4"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo"}],apiUrl:"https://platform.openai.com/api-keys",description:"OpenAI Platform에서 API 키 발급 (유료)"},{id:"claude",name:"Anthropic Claude",icon:"🧠",models:[{id:"claude-3-opus-20240229",name:"Claude 3 Opus"},{id:"claude-3-sonnet-20240229",name:"Claude 3 Sonnet"},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku"}],apiUrl:"https://console.anthropic.com/",description:"Anthropic Console에서 API 키 발급 (유료)"}];n.useEffect(()=>{const m=ds.getKeys(),y={};f.forEach(c=>{const N=ds.getDefaultModel(c.id);N&&(y[c.id]=N)}),s(c=>({...c,...m})),Object.keys(y).length>0&&r(c=>({...c,...y}))},[]);const v=async()=>{d(!0);try{Object.entries(t).forEach(([m,y])=>{y?ds.setKey(m,y):ds.removeKey(m)}),Object.entries(a).forEach(([m,y])=>{ds.setDefaultModel(m,y)}),me.success("AI API 설정이 저장되었습니다.")}catch{me.error("설정 저장 중 오류가 발생했습니다.")}finally{d(!1)}},w=async m=>{const y=t[m];if(!y){me.error("API 키를 입력해주세요.");return}o(m);try{let c="",N={},p={};if(m==="gemini")if(c=`https://generativelanguage.googleapis.com/v1beta/models?key=${y}`,(await fetch(c)).ok)u(b=>({...b,[m]:!0})),me.success("Gemini API 키가 유효합니다.");else throw new Error("Invalid API key");else if(m==="openai")if(c="https://api.openai.com/v1/models",N={Authorization:`Bearer ${y}`},(await fetch(c,{headers:N})).ok)u(b=>({...b,[m]:!0})),me.success("OpenAI API 키가 유효합니다.");else throw new Error("Invalid API key");else if(m==="claude")if(y.startsWith("sk-ant-"))u(j=>({...j,[m]:!0})),me.success("Claude API 키 형식이 유효합니다.");else throw new Error("Invalid API key format")}catch{u(N=>({...N,[m]:!1})),me.error(`${m} API 키가 유효하지 않습니다.`)}finally{o(null)}};return e.jsxs("div",{className:"wp-card",children:[e.jsx("div",{className:"wp-card-header",children:e.jsxs("h2",{className:"wp-card-title flex items-center gap-2",children:[e.jsx(Ws,{className:"w-5 h-5"}),"AI API 설정"]})}),e.jsxs("div",{className:"wp-card-body space-y-6",children:[e.jsxs(At,{children:[e.jsx(Qs,{className:"h-4 w-4"}),e.jsx(Et,{children:"AI 페이지 생성 및 기타 AI 기능을 사용하려면 API 키가 필요합니다. 각 서비스에서 API 키를 발급받아 아래에 입력해주세요. 키는 브라우저에만 안전하게 저장되며 서버로 전송되지 않습니다."})]}),f.map(m=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:m.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:m.name}),e.jsx("p",{className:"text-sm text-gray-500",children:m.description})]})]}),e.jsx("a",{href:m.apiUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline",children:"API 키 발급 →"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:`${m.id}-key`,children:"API 키"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{id:`${m.id}-key`,type:l[m.id]?"text":"password",className:"w-full px-3 py-2 border rounded-md pr-10",placeholder:m.id==="gemini"?"AIza...":m.id==="openai"?"sk-...":"sk-ant-...",value:t[m.id],onChange:y=>s(c=>({...c,[m.id]:y.target.value}))}),e.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>i(y=>({...y,[m.id]:!y[m.id]})),children:l[m.id]?e.jsx(ua,{className:"w-4 h-4 text-gray-400"}):e.jsx(os,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx(k,{variant:"outline",size:"sm",onClick:()=>w(m.id),disabled:x===m.id,children:x===m.id?e.jsx("span",{className:"animate-spin",children:"⏳"}):h[m.id]===!0?e.jsx(qe,{className:"w-4 h-4 text-green-500"}):h[m.id]===!1?e.jsx(Ue,{className:"w-4 h-4 text-red-500"}):"테스트"})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:`${m.id}-model`,children:"기본 모델"}),e.jsxs(ze,{value:a[m.id],onValueChange:y=>r(c=>({...c,[m.id]:y})),children:[e.jsx($e,{id:`${m.id}-model`,className:"mt-1",children:e.jsx(Re,{})}),e.jsx(Oe,{children:m.models.map(y=>e.jsx(Q,{value:y.id,children:y.name},y.id))})]})]})]})]},m.id)),e.jsx("div",{className:"flex justify-end",children:e.jsx(k,{onClick:v,disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin mr-2",children:"⏳"}),"저장 중..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"mr-2 h-4 w-4"}),"설정 저장"]})})})]})]})},zr=({isOpen:t,onClose:s,onGenerate:a})=>{const[r,l]=n.useState(""),[i,g]=n.useState("landing"),[d,x]=n.useState("gemini"),[o,h]=n.useState(""),[u,f]=n.useState("gemini-2.5-flash"),[v,w]=n.useState(!1),[m,y]=n.useState(null),[c,N]=n.useState(!0),p=Xs(),[j,b]=n.useState(0),[C,S]=n.useState(""),T=n.useRef(null),D=n.useRef(null);useEffect(()=>{const A=ds.getKey(d),q=ds.getDefaultModel(d);A?(h(A),N(!0)):(h(""),N(!1)),q&&f(q)},[d]);const L=[{key:"landing",name:"랜딩 페이지",description:"제품이나 서비스를 소개하는 페이지"},{key:"about",name:"회사 소개",description:"회사나 팀을 소개하는 페이지"},{key:"product",name:"제품 소개",description:"제품의 특징과 장점을 설명"},{key:"blog",name:"블로그 포스트",description:"블로그 형식의 글"}],W=[{key:"gemini",name:"Google Gemini (추천)",requiresKey:!0},{key:"openai",name:"OpenAI (GPT-4)",requiresKey:!0},{key:"claude",name:"Claude",requiresKey:!0},{key:"mock",name:"테스트 모드",requiresKey:!1}],G=A=>{switch(A){case"gemini":return Object.entries(Bl);case"openai":return Object.entries(Ul);case"claude":return Object.entries(ql);default:return[]}},H=async()=>{if(!r.trim()){y("페이지 내용을 입력해주세요.");return}const A=W.find(K=>K.key===d);let q=o;if(c&&A?.requiresKey){const K=ds.getKey(d);K&&(q=K)}if(A?.requiresKey&&!q){y("API 키가 필요합니다. 설정에서 API 키를 등록하거나 직접 입력해주세요.");return}w(!0),y(null),b(0),S("준비 중..."),T.current=new AbortController;try{const K=new Kl({name:d==="mock"?"openai":d,apiKey:d==="mock"?void 0:q,model:d==="mock"?void 0:u});D.current=K;const fe={prompt:r,template:i,onProgress:(X,be)=>{b(X),S(be)},signal:T.current.signal},ve=d==="mock"?await K.generateBlocks(fe):await K.generateBlocks(fe);a(ve),s(),l(""),h(""),b(0),S("")}catch(K){K.message==="생성이 취소되었습니다"?y("생성이 취소되었습니다."):y(K instanceof Error?K.message:"AI 생성 중 오류가 발생했습니다.")}finally{w(!1),T.current=null,D.current=null}},Y=()=>{T.current&&T.current.abort(),D.current&&D.current.cancel(),w(!1),b(0),S("")},ie=()=>{v&&Y(),s()},ge={landing:"네추어 플랫폼을 소개하는 랜딩 페이지를 만들어주세요. 드롭쉬핑, 포럼, 사이니지 기능을 강조해주세요.",about:"혁신적인 기술 스타트업 회사 소개 페이지를 만들어주세요.",product:"AI 기반 콘텐츠 생성 도구를 소개하는 페이지를 만들어주세요.",blog:"2025년 웹 개발 트렌드에 대한 블로그 포스트를 작성해주세요."};return e.jsx(dt,{open:t,onOpenChange:ie,children:e.jsxs(mt,{className:"sm:max-w-[600px]",children:[e.jsxs(ya,{children:[e.jsxs(va,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"h-5 w-5 text-purple-500"}),"AI 페이지 생성"]}),v&&e.jsxs(k,{variant:"ghost",size:"sm",onClick:Y,className:"text-red-500 hover:text-red-700",children:[e.jsx(Ue,{className:"h-4 w-4 mr-1"}),"취소"]})]}),e.jsx(Dr,{children:"AI가 자동으로 페이지 콘텐츠를 생성합니다."})]}),v?e.jsxs("div",{className:"space-y-4 py-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(gn,{className:"h-8 w-8 animate-spin mx-auto text-purple-500"}),e.jsx("p",{className:"text-sm font-medium",children:C}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"잠시만 기다려주세요..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Lr,{value:j,className:"h-2"}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[j,"%"]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(k,{variant:"outline",size:"sm",onClick:Y,className:"text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(Ue,{className:"h-4 w-4 mr-1"}),"생성 취소"]})})]}):e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"template",children:"템플릿"}),e.jsxs(ze,{value:i,onValueChange:g,children:[e.jsx($e,{id:"template",children:e.jsx(Re,{})}),e.jsx(Oe,{children:L.map(A=>e.jsx(Q,{value:A.key,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:A.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:A.description})]})},A.key))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"provider",children:"AI 서비스"}),e.jsxs(ze,{value:d,onValueChange:A=>{x(A),A==="gemini"?f("gemini-2.5-flash"):A==="openai"?f("gpt-4-turbo"):A==="claude"&&f("claude-3-sonnet-20240229")},children:[e.jsx($e,{id:"provider",children:e.jsx(Re,{})}),e.jsx(Oe,{children:W.map(A=>e.jsx(Q,{value:A.key,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:A.name}),!A.requiresKey&&e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"무료"})]})},A.key))})]})]}),d!=="mock"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"model",children:"모델 선택"}),e.jsxs(ze,{value:u,onValueChange:f,children:[e.jsx($e,{id:"model",children:e.jsx(Re,{})}),e.jsx(Oe,{children:G(d).map(([A,q])=>e.jsx(Q,{value:A,children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:A}),e.jsx("div",{className:"text-xs text-muted-foreground",children:q})]})},A))})]})]}),W.find(A=>A.key===d)?.requiresKey&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"API 키 설정"}),ds.getKey(d)?e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Check,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800",children:"저장된 API 키 사용 중"})]}),e.jsx(k,{variant:"outline",size:"sm",onClick:()=>p("/settings/ai"),children:"설정 변경"})]})}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs(At,{variant:"destructive",children:[e.jsx(Qs,{className:"h-4 w-4"}),e.jsxs(Et,{children:["API 키가 설정되지 않았습니다.",e.jsx(k,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto",onClick:()=>p("/settings/ai"),children:"설정으로 이동"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"use-temp-key",checked:!c,onChange:A=>N(!A.target.checked)}),e.jsx(E,{htmlFor:"use-temp-key",className:"text-sm cursor-pointer",children:"임시 API 키 사용"})]}),!c&&e.jsxs("div",{children:[e.jsx("input",{id:"apiKey",type:"password",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:`${d==="openai"?"sk-...":d==="claude"?"sk-ant-...":"AIza..."}`,value:o,onChange:A=>h(A.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"임시 키는 이번 생성에만 사용됩니다."})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(E,{htmlFor:"prompt",children:"페이지 내용 설명"}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>l(ge[i]),children:"예시 사용"})]}),e.jsx(vr,{id:"prompt",placeholder:"어떤 페이지를 만들까요? 자세히 설명해주세요...",value:r,onChange:A=>l(A.target.value),rows:5,className:"resize-none"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"페이지의 목적, 타겟 고객, 주요 내용 등을 자세히 설명하면 더 좋은 결과를 얻을 수 있습니다."})]}),m&&e.jsxs(At,{variant:"destructive",children:[e.jsx(Qs,{className:"h-4 w-4"}),e.jsx(Et,{children:m})]})]}),!v&&e.jsxs(_r,{children:[e.jsx(k,{variant:"outline",onClick:ie,children:"취소"}),e.jsxs(k,{onClick:H,children:[e.jsx(Ws,{className:"mr-2 h-4 w-4"}),"페이지 생성"]})]})]})})},wa=n.createContext(null),Na=({open:t,defaultOpen:s=!1,onOpenChange:a,children:r})=>{const[l,i]=n.useState(s),g=t??l,d=x=>{t===void 0&&i(x),a?.(x)};return e.jsx(wa.Provider,{value:{open:g,onOpenChange:d},children:e.jsx("div",{className:"relative inline-block",children:r})})},Lt=n.forwardRef(({onClick:t,asChild:s=!1,...a},r)=>{const l=n.useContext(wa);if(!l)throw new Error("PopoverTrigger must be used within Popover");const i=s?fn:"button";return e.jsx(i,{ref:r,onClick:g=>{t?.(g),l.onOpenChange(!l.open)},"aria-expanded":l.open,"aria-haspopup":"dialog",...a})}),zt=n.forwardRef(({className:t,align:s="center",side:a="bottom",sideOffset:r=4,children:l,...i})=>{const g=n.useContext(wa);if(!g)throw new Error("PopoverContent must be used within Popover");const d=n.useRef(null),x=n.useRef(null);if(n.useEffect(()=>{const u=v=>{d.current&&!d.current.contains(v.target)&&x.current&&!x.current.contains(v.target)&&g.onOpenChange(!1)},f=v=>{v.key==="Escape"&&g.onOpenChange(!1)};if(g.open){const v=d.current?.parentElement?.querySelector("[aria-expanded]");return x.current=v,document.addEventListener("mousedown",u),document.addEventListener("keydown",f),()=>{document.removeEventListener("mousedown",u),document.removeEventListener("keydown",f)}}},[g]),!g.open)return null;const o={top:"bottom-full mb-2",bottom:"top-full mt-2",left:"right-full mr-2",right:"left-full ml-2"},h={start:a==="top"||a==="bottom"?"left-0":"top-0",center:a==="top"||a==="bottom"?"left-1/2 -translate-x-1/2":"top-1/2 -translate-y-1/2",end:a==="top"||a==="bottom"?"right-0":"bottom-0"};return e.jsx("div",{ref:d,className:$("absolute z-50 w-72 rounded-md border bg-white p-4 text-gray-900 shadow-md outline-none","animate-in fade-in-0 zoom-in-95",o[a],h[s],t),style:{marginTop:a==="bottom"?`${r}px`:void 0},role:"dialog",...i,children:l})});Lt.displayName="PopoverTrigger";zt.displayName="PopoverContent";const $r=({tagName:t="div",value:s="",onChange:a,onSplit:r,onReplace:l,onRemove:i,onKeyDown:g,onFocusOut:d,placeholder:x="Start writing or type / to choose a block",allowedFormats:o=["core/bold","core/italic","core/link"],className:h,style:u,multiline:f=!1})=>{const v=n.useRef(null),[w,m]=n.useState(!s||s===""),y=n.useRef(!1);n.useEffect(()=>{if(v.current&&!y.current){const D=v.current.innerHTML.replace(/<br\s*\/?>/gi,"").trim(),L=(s||"").replace(/<br\s*\/?>/gi,"").trim();if(D!==L){const W=document.activeElement===v.current;let G=0;if(W){const H=window.getSelection();H&&H.rangeCount>0&&(G=H.getRangeAt(0).startOffset)}v.current.innerHTML=s||"",W&&(v.current.focus(),setTimeout(()=>{try{const H=window.getSelection();if(H&&v.current){const Y=v.current.firstChild;if(Y&&Y.nodeType===Node.TEXT_NODE){const ie=document.createRange(),ge=Y.textContent?.length||0;ie.setStart(Y,Math.min(G,ge)),ie.collapse(!0),H.removeAllRanges(),H.addRange(ie)}else{const ie=document.createRange();ie.selectNodeContents(v.current),ie.collapse(!1),H.removeAllRanges(),H.addRange(ie)}}}catch{}},0))}}m(!s||s===""||s==="<p></p>"||s==="<br>")},[s]);const c=T=>{if(!o.includes(T))return;const L={"core/bold":"bold","core/italic":"italic","core/link":"createLink","core/strikethrough":"strikeThrough","core/code":"code"}[T];if(L){if(L==="createLink"){const W=prompt("Enter URL:");W&&document.execCommand(L,!1,W)}else document.execCommand(L,!1);v.current&&(y.current=!0,a?.(v.current.innerHTML),setTimeout(()=>{y.current=!1},0))}},N=T=>{if(!(g&&(g(T),T.defaultPrevented))){if((T.ctrlKey||T.metaKey)&&T.key==="b"&&(T.preventDefault(),c("core/bold")),(T.ctrlKey||T.metaKey)&&T.key==="i"&&(T.preventDefault(),c("core/italic")),(T.ctrlKey||T.metaKey)&&T.key==="k"&&(T.preventDefault(),c("core/link")),T.key==="Enter"&&!T.shiftKey){if(f)f==="p"&&(T.preventDefault(),document.execCommand("insertParagraph",!1),v.current&&(y.current=!0,a?.(v.current.innerHTML),setTimeout(()=>{y.current=!1},0)));else if(T.preventDefault(),r&&v.current){const D=v.current.innerHTML;r(D,!0)}}T.key==="Backspace"&&w&&i&&(T.preventDefault(),i()),T.key==="Delete"&&w&&i&&(T.preventDefault(),i()),T.key}},p=()=>{if(v.current&&!y.current){y.current=!0;const T=v.current.innerHTML,D=T==="<br>"||T==="<div><br></div>"?"":T;a?.(D),m(!D||D===""||D==="<br>"),setTimeout(()=>{y.current=!1},0)}},j=()=>{},b=()=>{d?.()},C=T=>{T.preventDefault();const D=T.clipboardData.getData("text/plain");document.execCommand("insertText",!1,D),v.current&&(y.current=!0,a?.(v.current.innerHTML),setTimeout(()=>{y.current=!1},0))},S={ref:v,contentEditable:!0,suppressContentEditableWarning:!0,className:$("rich-text","outline-none","min-h-[1.8em]",w&&"empty",h),style:u,onInput:p,onKeyDown:N,onFocus:j,onBlur:b,onPaste:C,"data-placeholder":w?x:void 0,role:"textbox","aria-label":x,"aria-multiline":!!f};return t==="h1"||t==="h2"||t==="h3"||t==="h4"||t==="h5"||t==="h6"?Ts.createElement(t,S):e.jsx("div",{...S})},ka=({children:t,group:s="block"})=>{const[a,r]=n.useState(!1),[l,i]=n.useState({top:0,left:0}),g=n.useRef(null),[d,x]=n.useState(null);return n.useEffect(()=>{const o=()=>{const v=window.getSelection();if(!v||v.rangeCount===0)return null;let w=v.anchorNode;for(w?.nodeType===Node.TEXT_NODE&&(w=w.parentElement);w&&!w.classList?.contains("wp-block");)w=w.parentElement;return w},h=()=>{const v=o();if(v){const w=v.getBoundingClientRect(),m=window.pageYOffset||document.documentElement.scrollTop;i({top:w.top+m-48,left:w.left}),x(v),r(!0)}else r(!1)},u=()=>{h()},f=()=>{d&&h()};return document.addEventListener("selectionchange",u),window.addEventListener("scroll",f),window.addEventListener("resize",h),h(),()=>{document.removeEventListener("selectionchange",u),window.removeEventListener("scroll",f),window.removeEventListener("resize",h)}},[d]),a?jn.createPortal(e.jsx("div",{ref:g,className:$("block-editor-block-controls","fixed z-[100] bg-white border border-gray-300 rounded-sm shadow-sm","flex items-center p-0",s==="inline"&&"block-editor-block-controls--inline"),style:{top:`${l.top}px`,left:`${l.left}px`,transform:"translateY(-100%)"},children:e.jsx("div",{className:"block-editor-block-toolbar flex items-center",children:t})}),document.body):null},ps=({children:t})=>e.jsx("div",{className:"flex items-center border-r border-gray-200 last:border-r-0",children:t}),Ke=({icon:t,label:s,isActive:a,onClick:r,className:l})=>e.jsxs("button",{className:$("p-2 hover:bg-gray-100 transition-colors","flex items-center justify-center","min-w-[36px] h-[36px]",a&&"bg-gray-200",l),onClick:r,title:s,children:[t&&e.jsx("span",{className:"w-5 h-5",children:t}),!t&&s&&e.jsx("span",{className:"text-sm",children:s})]}),Vl=({value:t,onChange:s})=>{const a=[{value:"left",icon:"⬅",label:"Align left"},{value:"center",icon:"⬌",label:"Align center"},{value:"right",icon:"➡",label:"Align right"},{value:"justify",icon:"☰",label:"Justify"}];return e.jsx(ps,{children:a.map(r=>e.jsx(Ke,{icon:r.icon,label:r.label,isActive:t===r.value,onClick:()=>{s?.(t===r.value?void 0:r.value)}},r.value))})},ms=n.forwardRef(({className:t,value:s,defaultValue:a=[0],onValueChange:r,min:l=0,max:i=100,step:g=1,disabled:d},x)=>{const[o,h]=n.useState(a),f=(s??o)[0]??0,v=n.useRef(null),w=n.useRef(!1),m=p=>{const j=Math.min(Math.max(p,l),i),C=[Math.round(j/g)*g];s===void 0&&h(C),r?.(C)},y=p=>{if(!v.current)return;const j=v.current.getBoundingClientRect();return(p-j.left)/j.width*(i-l)+l},c=p=>{if(d)return;w.current=!0;const j=y(p.clientX);j!==void 0&&m(j)};n.useEffect(()=>{const p=b=>{if(!w.current||d)return;const C=y(b.clientX);C!==void 0&&m(C)},j=()=>{w.current=!1};if(w.current)return document.addEventListener("mousemove",p),document.addEventListener("mouseup",j),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",j)}},[d,m,i,l]);const N=(f-l)/(i-l)*100;return e.jsxs("div",{ref:x,className:$("relative flex w-full touch-none select-none items-center",d&&"opacity-50 cursor-not-allowed",t),children:[e.jsx("div",{ref:v,className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary cursor-pointer",onMouseDown:c,children:e.jsx("div",{className:"absolute h-full bg-primary transition-none",style:{width:`${N}%`}})}),e.jsx("div",{className:$("absolute h-5 w-5 rounded-full border-2 border-primary bg-background","ring-offset-background transition-colors","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",d&&"pointer-events-none",!d&&"cursor-grab active:cursor-grabbing"),style:{left:`${N}%`,transform:"translateX(-50%)"},onMouseDown:c,children:e.jsx("input",{type:"range",value:f,min:l,max:i,step:g,disabled:d,className:"sr-only",onChange:p=>m(Number(p.target.value))})})]})});ms.displayName="Slider";const Gl=[{value:"#000000",label:"Black",color:"#000000"},{value:"#3b82f6",label:"Blue",color:"#3b82f6"},{value:"#ef4444",label:"Red",color:"#ef4444"},{value:"#10b981",label:"Green",color:"#10b981"},{value:"#8b5cf6",label:"Purple",color:"#8b5cf6"},{value:"#f59e0b",label:"Orange",color:"#f59e0b"},{value:"#6b7280",label:"Gray",color:"#6b7280"},{value:"#dc2626",label:"Dark Red",color:"#dc2626"}],Hl=[{value:400,label:"Normal"},{value:500,label:"Medium"},{value:600,label:"Semibold"},{value:700,label:"Bold"},{value:800,label:"Extra Bold"},{value:900,label:"Black"}],Wl=({isEnabled:t,lines:s,color:a,fontSize:r,fontWeight:l,onToggle:i,onLinesChange:g,onColorChange:d,onFontSizeChange:x,onFontWeightChange:o,onReset:h})=>e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"h-4 w-4"}),e.jsx(E,{className:"text-sm font-medium",children:"Drop Cap"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{variant:t?"default":"outline",size:"sm",onClick:()=>i(!t),className:"h-8",children:t?"On":"Off"}),t&&e.jsx(k,{variant:"ghost",size:"sm",onClick:h,className:"h-8 px-2",title:"Reset to defaults",children:e.jsx(ha,{className:"h-3 w-3"})})]})]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Height (",s," lines)"]}),e.jsx(ms,{value:[s],onValueChange:u=>g(u[0]),min:2,max:6,step:1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"2 lines"}),e.jsx("span",{children:"6 lines"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Font Size (",r,"px)"]}),e.jsx(ms,{value:[r],onValueChange:u=>x(u[0]),min:32,max:120,step:4,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"32px"}),e.jsx("span",{children:"120px"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Font Weight"}),e.jsxs(ze,{value:l.toString(),onValueChange:u=>o(parseInt(u)),children:[e.jsx($e,{className:"w-full h-8 text-xs",children:e.jsx(Re,{})}),e.jsx(Oe,{children:Hl.map(u=>e.jsx(Q,{value:u.value.toString(),children:e.jsx("span",{style:{fontWeight:u.value},children:u.label})},u.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Color"}),e.jsxs(ze,{value:a,onValueChange:d,children:[e.jsx($e,{className:"w-full h-8",children:e.jsx(Re,{})}),e.jsx(Oe,{children:Gl.map(u=>e.jsx(Q,{value:u.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:u.color}}),e.jsx("span",{className:"text-xs",children:u.label})]})},u.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Preview"}),e.jsx("div",{className:"p-3 bg-white rounded border",children:e.jsxs("p",{className:"text-sm leading-relaxed",children:[e.jsx("span",{className:"float-left mr-2 mt-1 leading-none",style:{fontSize:`${r}px`,fontWeight:l,color:a,lineHeight:`${s*.8}rem`},children:"T"}),"his is how your drop cap will appear in the paragraph. The first letter will be styled according to your settings."]})})]})]})]}),Jl=[{value:"none",label:"None",example:"Normal Text"},{value:"uppercase",label:"Uppercase",example:"UPPERCASE TEXT"},{value:"lowercase",label:"Lowercase",example:"lowercase text"},{value:"capitalize",label:"Capitalize",example:"Capitalize Text"}],Ql=[{value:100,label:"Thin"},{value:200,label:"Extra Light"},{value:300,label:"Light"},{value:400,label:"Normal"},{value:500,label:"Medium"},{value:600,label:"Semibold"},{value:700,label:"Bold"},{value:800,label:"Extra Bold"},{value:900,label:"Black"}],Yl=({fontSize:t,lineHeight:s,letterSpacing:a,wordSpacing:r,textTransform:l,fontWeight:i,fontStyle:g,onFontSizeChange:d,onLineHeightChange:x,onLetterSpacingChange:o,onWordSpacingChange:h,onTextTransformChange:u,onFontWeightChange:f,onFontStyleChange:v,onReset:w})=>e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"h-4 w-4"}),e.jsx(E,{className:"text-sm font-medium",children:"Typography"})]}),e.jsx(k,{variant:"ghost",size:"sm",onClick:w,className:"h-8 px-2",title:"Reset to defaults",children:e.jsx(ha,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Font Size (",t,"px)"]}),e.jsx(ms,{value:[t],onValueChange:m=>d(m[0]),min:12,max:48,step:1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"12px"}),e.jsx("span",{children:"48px"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Line Height (",s.toFixed(1),")"]}),e.jsx(ms,{value:[s],onValueChange:m=>x(m[0]),min:1,max:3,step:.1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"1.0"}),e.jsx("span",{children:"3.0"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Letter Spacing (",a.toFixed(2),"em)"]}),e.jsx(ms,{value:[a],onValueChange:m=>o(m[0]),min:-.1,max:.5,step:.01,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"-0.1em"}),e.jsx("span",{children:"0.5em"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Word Spacing (",r.toFixed(2),"em)"]}),e.jsx(ms,{value:[r],onValueChange:m=>h(m[0]),min:-.2,max:1,step:.01,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"-0.2em"}),e.jsx("span",{children:"1.0em"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Font Weight"}),e.jsxs(ze,{value:i.toString(),onValueChange:m=>f(parseInt(m)),children:[e.jsx($e,{className:"w-full h-8 text-xs",children:e.jsx(Re,{})}),e.jsx(Oe,{children:Ql.map(m=>e.jsx(Q,{value:m.value.toString(),children:e.jsx("span",{style:{fontWeight:m.value},children:m.label})},m.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Font Style"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{variant:g==="normal"?"default":"outline",size:"sm",onClick:()=>v("normal"),className:"flex-1 h-8 text-xs",children:"Normal"}),e.jsx(k,{variant:g==="italic"?"default":"outline",size:"sm",onClick:()=>v("italic"),className:"flex-1 h-8 text-xs italic",children:"Italic"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Text Transform"}),e.jsxs(ze,{value:l,onValueChange:m=>u(m),children:[e.jsx($e,{className:"w-full h-8 text-xs",children:e.jsx(Re,{})}),e.jsx(Oe,{children:Jl.map(m=>e.jsx(Q,{value:m.value,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:m.label}),e.jsx("span",{className:"text-xs text-gray-500",style:{textTransform:m.value},children:m.example})]})},m.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Preview"}),e.jsx("div",{className:"p-3 bg-white rounded border",children:e.jsx("p",{className:"text-sm",style:{fontSize:`${t}px`,lineHeight:s,letterSpacing:`${a}em`,wordSpacing:`${r}em`,textTransform:l,fontWeight:i,fontStyle:g},children:"This is a preview of your typography settings. Lorem ipsum dolor sit amet, consectetur adipiscing elit."})})]})]}),Ka=[{name:"Yellow",value:"#fef08a",rgb:"254, 240, 138"},{name:"Green",value:"#bbf7d0",rgb:"187, 247, 208"},{name:"Blue",value:"#bfdbfe",rgb:"191, 219, 254"},{name:"Purple",value:"#ddd6fe",rgb:"221, 214, 254"},{name:"Pink",value:"#fce7f3",rgb:"252, 231, 243"},{name:"Orange",value:"#fed7aa",rgb:"254, 215, 170"},{name:"Red",value:"#fecaca",rgb:"254, 202, 202"},{name:"Gray",value:"#e5e7eb",rgb:"229, 231, 235"}],Xl=({selectedColor:t,opacity:s,onColorChange:a,onOpacityChange:r,onClear:l,onApply:i})=>{const g=(d,x)=>{const o=Ka.find(v=>v.value===d);if(o)return`rgba(${o.rgb}, ${x})`;const h=parseInt(d.slice(1,3),16),u=parseInt(d.slice(3,5),16),f=parseInt(d.slice(5,7),16);return`rgba(${h}, ${u}, ${f}, ${x})`};return e.jsxs(Na,{children:[e.jsx(Lt,{asChild:!0,children:e.jsxs(k,{variant:"ghost",size:"sm",className:"h-9 px-2 gap-2",title:"Text Highlight",children:[e.jsx(bn,{className:"h-4 w-4"}),"Highlight"]})}),e.jsx(zt,{className:"w-80 p-4",align:"start",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-sm font-medium",children:"Text Highlight"}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:l,className:"h-8 px-2 text-gray-500 hover:text-gray-700",children:[e.jsx(Ue,{className:"h-3 w-3 mr-1"}),"Clear"]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs font-medium text-gray-700 mb-2 block",children:"Colors"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Ka.map(d=>e.jsx("button",{className:`
                    w-full h-12 rounded border-2 transition-all
                    ${t===d.value?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}
                  `,style:{backgroundColor:g(d.value,s)},onClick:()=>a(d.value),title:d.name,children:e.jsx("div",{className:"text-xs font-medium text-gray-700 p-1",children:"Aa"})},d.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Opacity (",Math.round(s*100),"%)"]}),e.jsx(ms,{value:[s],onValueChange:d=>r(d[0]),min:.1,max:1,step:.1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"10%"}),e.jsx("span",{children:"100%"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Preview"}),e.jsx("div",{className:"p-3 bg-white rounded border",children:e.jsxs("p",{className:"text-sm",children:["This is"," ",e.jsx("span",{style:{background:t?g(t,s):"transparent"},children:"highlighted text"})," ","with your selected color and opacity."]})})]}),e.jsx("div",{className:"flex justify-end gap-2 pt-2 border-t",children:e.jsx(k,{size:"sm",onClick:i,disabled:!t,className:"flex-1",children:"Apply Highlight"})}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Tip:"})," Select text first, then apply highlight"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Shortcut:"})," Ctrl/Cmd + Shift + H"]})]})]})})]})},bt=[{value:"small",label:"Small",width:32,height:32},{value:"medium",label:"Medium",width:64,height:64},{value:"large",label:"Large",width:96,height:96}],Zl=[{value:"baseline",label:"Baseline",icon:ys},{value:"middle",label:"Middle",icon:_s},{value:"top",label:"Top",icon:Ds},{value:"bottom",label:"Bottom",icon:ys}],eo=({onInsert:t})=>{const[s,a]=n.useState(!1),[r,l]=n.useState(""),[i,g]=n.useState(""),[d,x]=n.useState("medium"),[o,h]=n.useState("middle"),[u,f]=n.useState(!0),[v,w]=n.useState(""),m=n.useRef(null),y=j=>{const b=j.target.files?.[0];if(!b)return;if(!b.type.startsWith("image/")){w("Please select a valid image file");return}if(b.size>5*1024*1024){w("File size must be less than 5MB");return}w("");const C=new FileReader;C.onload=S=>{const T=S.target?.result;l(T),g(b.name.replace(/\.[^/.]+$/,""))},C.readAsDataURL(b)},c=j=>{l(j),w("");try{const C=new URL(j).pathname.split("/").pop()||"";g(C.replace(/\.[^/.]+$/,""))}catch{}},N=()=>{if(!r)return;const j=bt.find(C=>C.value===d),b={src:r,alt:i||"Inline image",size:d,align:o,textWrap:u,width:j?.width,height:j?.height};t(b),l(""),g(""),x("medium"),h("middle"),f(!0),w(""),a(!1)},p=()=>{l(""),g(""),x("medium"),h("middle"),f(!0),w("")};return e.jsxs(Na,{open:s,onOpenChange:a,children:[e.jsx(Lt,{asChild:!0,children:e.jsxs(k,{variant:"ghost",size:"sm",className:"h-9 px-2 gap-2",title:"Insert Inline Image",children:[e.jsx(ts,{className:"h-4 w-4"}),"Image"]})}),e.jsx(zt,{className:"w-96 p-4",align:"start",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-sm font-medium",children:"Insert Inline Image"}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>a(!1),className:"h-8 px-2",children:e.jsx(Ue,{className:"h-3 w-3"})})]}),e.jsxs(fa,{defaultValue:"url",className:"w-full",children:[e.jsxs(ja,{className:"grid w-full grid-cols-2",children:[e.jsxs(Ys,{value:"url",className:"text-xs",children:[e.jsx(Js,{className:"h-3 w-3 mr-1"}),"URL"]}),e.jsxs(Ys,{value:"upload",className:"text-xs",children:[e.jsx(St,{className:"h-3 w-3 mr-1"}),"Upload"]})]}),e.jsx(Tt,{value:"url",className:"space-y-3",children:e.jsxs("div",{children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Image URL"}),e.jsx(ke,{type:"url",placeholder:"https://example.com/image.jpg",value:r,onChange:j=>c(j.target.value),className:"mt-1 text-xs"})]})}),e.jsx(Tt,{value:"upload",className:"space-y-3",children:e.jsxs("div",{children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Upload Image"}),e.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:y,className:"hidden"}),e.jsxs(k,{variant:"outline",onClick:()=>m.current?.click(),className:"w-full mt-1 h-8 text-xs",children:[e.jsx(St,{className:"h-3 w-3 mr-1"}),"Choose Image File"]}),v&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:v})]})})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Alt Text"}),e.jsx(ke,{placeholder:"Describe the image",value:i,onChange:j=>g(j.target.value),className:"mt-1 text-xs"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Size"}),e.jsxs(ze,{value:d,onValueChange:j=>x(j),children:[e.jsx($e,{className:"w-full mt-1 h-8 text-xs",children:e.jsx(Re,{})}),e.jsx(Oe,{children:bt.map(j=>e.jsx(Q,{value:j.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"border border-gray-300 bg-gray-100",style:{width:Math.min(j.width/2,16),height:Math.min(j.height/2,16)}}),e.jsxs("span",{children:[j.label," (",j.width,"×",j.height,")"]})]})},j.value))})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Vertical Alignment"}),e.jsx("div",{className:"grid grid-cols-4 gap-1 mt-1",children:Zl.map(({value:j,label:b,icon:C})=>e.jsx(k,{variant:o===j?"default":"outline",size:"sm",onClick:()=>h(j),className:"h-8 text-xs",title:b,children:e.jsx(C,{className:"h-3 w-3"})},j))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Text Wrapping"}),e.jsx(k,{variant:u?"default":"outline",size:"sm",onClick:()=>f(!u),className:"h-8 text-xs",children:u?"On":"Off"})]}),r&&e.jsxs("div",{children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Preview"}),e.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded border",children:e.jsxs("p",{className:"text-sm leading-relaxed",children:["This is sample text with an"," ",e.jsx("img",{src:r,alt:i,style:{width:bt.find(j=>j.value===d)?.width,height:bt.find(j=>j.value===d)?.height,verticalAlign:o,display:u?"inline":"inline-block"},className:"mx-1"})," ","inline image inserted in the middle of the paragraph."]})})]}),e.jsxs("div",{className:"flex justify-between gap-2 pt-2 border-t",children:[e.jsx(k,{variant:"outline",size:"sm",onClick:p,className:"text-xs",children:"Reset"}),e.jsx(k,{size:"sm",onClick:N,disabled:!r,className:"text-xs",children:"Insert Image"})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Tip:"})," Position cursor where you want the image"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sizes:"})," Small for icons, Medium for emphasis, Large for illustration"]})]})]})})]})},so=({id:t,content:s,onChange:a,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,isSelected:x,onSelect:o,attributes:h={}})=>{const[u,f]=n.useState(s),[v,w]=n.useState(!1),[m,y]=n.useState(!1),[c,N]=n.useState(!1),[p,j]=n.useState(""),[b,C]=n.useState(""),[S,T]=n.useState(!1),[D,L]=n.useState(!1),W=n.useRef(null),G=n.useRef(null),{align:H="left",dropCap:Y=!1,dropCapLines:ie=3,dropCapColor:ge="#000000",dropCapFontSize:A=64,dropCapFontWeight:q=700,fontSize:K=16,lineHeight:je=1.6,letterSpacing:fe=0,wordSpacing:ve=0,textColor:X="#1e293b",backgroundColor:be="",highlightColor:he="",highlightOpacity:Ce=.3,padding:De=0,margin:Me=0,borderRadius:Fe=0,fontWeight:I=400,fontStyle:V="normal",textTransform:_="none"}=h;n.useEffect(()=>{f(s)},[s]),n.useEffect(()=>{x&&G.current&&G.current.focus()},[x]);const Z=n.useCallback(O=>{f(O),a(O,h)},[a,h]),re=n.useCallback((O,Ve)=>{a(u,{...h,[O]:Ve})},[a,u,h]),pe=n.useCallback(()=>{const O=window.getSelection();O&&O.toString()&&C(O.toString())},[]),B=n.useCallback((O,Ve)=>{document.execCommand(O,!1,Ve),G.current&&Z(G.current.innerHTML)},[Z]),J=n.useCallback(()=>{const O=window.getSelection();if(O&&O.toString()&&he){const Ve=`rgba(${he.slice(1).match(/.{2}/g)?.map(cs=>parseInt(cs,16)).join(", ")}, ${Ce})`;B("hiliteColor",Ve)}},[he,Ce,B]),U=n.useCallback(O=>{const Ve=window.getSelection();if(Ve&&G.current){const cs=Ve.rangeCount>0?Ve.getRangeAt(0):null;if(cs){const Ye=document.createElement("img");Ye.src=O.src,Ye.alt=O.alt,Ye.style.width=`${O.width}px`,Ye.style.height=`${O.height}px`,Ye.style.verticalAlign=O.align,Ye.style.display=O.textWrap?"inline":"inline-block",Ye.style.margin="0 4px",Ye.className="inline-image",cs.insertNode(Ye),cs.setStartAfter(Ye),cs.collapse(!0),Ve.removeAllRanges(),Ve.addRange(cs),Z(G.current.innerHTML)}}},[Z]),ee=n.useCallback(()=>{a(u,{...h,dropCapLines:3,dropCapColor:"#000000",dropCapFontSize:64,dropCapFontWeight:700})},[u,h,a]),_e=n.useCallback(()=>{a(u,{...h,fontSize:16,lineHeight:1.6,letterSpacing:0,wordSpacing:0,fontWeight:400,fontStyle:"normal",textTransform:"none"})},[u,h,a]),Be=n.useCallback(()=>{const O=window.getSelection();O&&O.toString()?(C(O.toString()),N(!0)):alert("Please select some text first to add a link")},[]),ae=n.useCallback(()=>{p&&b&&(B("createLink",p),N(!1),j(""),C(""))},[p,b,B]),Se=n.useCallback((O,Ve)=>{Ve&&a(O,h),d?.("after","paragraph")},[a,h,d]),R=n.useCallback(()=>{},[]),z=n.useCallback(()=>{(!u||u===""||u==="<br>")&&r()},[u,r]),oe=n.useCallback(O=>{if(O.ctrlKey||O.metaKey)switch(O.key){case"b":O.preventDefault(),B("bold");break;case"i":O.preventDefault(),B("italic");break;case"u":O.preventDefault(),B("underline");break;case"k":O.preventDefault(),Be();break}!O.ctrlKey&&!O.metaKey&&!O.shiftKey&&O.key==="/"&&u===""&&O.preventDefault()},[B,Be,u]),Ae=$("paragraph-test-block relative transition-all duration-200",'before:content-[""] before:absolute before:inset-0 before:pointer-events-none',"before:border-2 before:rounded before:transition-all",!x&&!v&&"before:border-transparent",v&&!x&&"before:border-gray-200 before:border-dashed",x&&"before:border-blue-500",x&&"before:shadow-sm"),M=$("paragraph-content relative","min-h-[1.8em] outline-none",H==="center"&&"text-center",H==="right"&&"text-right",H==="justify"&&"text-justify",m&&"ring-2 ring-blue-500 ring-opacity-20 rounded"),Pe=Y?{"--drop-cap-font-size":`${A}px`,"--drop-cap-color":ge,"--drop-cap-font-weight":q,"--drop-cap-line-height":`${ie*.8}rem`}:{},Ee={fontSize:`${K}px`,lineHeight:je,letterSpacing:fe?`${fe}em`:void 0,wordSpacing:ve?`${ve}em`:void 0,color:X||void 0,backgroundColor:be||void 0,padding:De?`${De}px`:void 0,margin:Me?`${Me}px`:void 0,borderRadius:Fe?`${Fe}px`:void 0,fontWeight:I,fontStyle:V,textTransform:_,...Pe};return e.jsxs(e.Fragment,{children:[x&&e.jsxs(ka,{children:[e.jsxs(ps,{children:[e.jsx(Ke,{icon:e.jsx(mr,{className:"h-4 w-4"}),label:"Bold (Ctrl+B)",onClick:()=>B("bold"),isActive:document.queryCommandState("bold")}),e.jsx(Ke,{icon:e.jsx(ur,{className:"h-4 w-4"}),label:"Italic (Ctrl+I)",onClick:()=>B("italic"),isActive:document.queryCommandState("italic")}),e.jsx(Ke,{icon:e.jsx(yn,{className:"h-4 w-4"}),label:"Underline (Ctrl+U)",onClick:()=>B("underline"),isActive:document.queryCommandState("underline")}),e.jsx(Ke,{icon:e.jsx(vn,{className:"h-4 w-4"}),label:"Strikethrough",onClick:()=>B("strikeThrough"),isActive:document.queryCommandState("strikeThrough")})]}),e.jsxs(ps,{children:[e.jsxs(Na,{open:c,onOpenChange:N,children:[e.jsx(Lt,{children:e.jsx(k,{variant:"ghost",size:"sm",className:"h-9 px-2",onClick:Be,children:e.jsx(Yt,{className:"h-4 w-4"})})}),e.jsx(zt,{className:"w-80",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Add Link"}),e.jsx(ke,{placeholder:"https://example.com",value:p,onChange:O=>j(O.target.value),onKeyDown:O=>O.key==="Enter"&&ae()}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(k,{size:"sm",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsx(k,{size:"sm",onClick:ae,children:"Apply"})]})]})})]}),e.jsx(eo,{onInsert:U}),e.jsx(Ke,{icon:e.jsx(da,{className:"h-4 w-4"}),label:"Inline Code",onClick:()=>{const O=window.getSelection();O&&O.toString()&&B("insertHTML",`<code>${O.toString()}</code>`)}})]}),e.jsxs(ps,{children:[e.jsx(Xl,{selectedColor:he,opacity:Ce,onColorChange:O=>re("highlightColor",O),onOpacityChange:O=>re("highlightOpacity",O),onClear:()=>re("highlightColor",""),onApply:J}),e.jsxs(bs,{children:[e.jsx(us,{children:e.jsx(k,{variant:"ghost",size:"sm",className:"h-9 px-2",children:e.jsx(ca,{className:"h-4 w-4"})})}),e.jsxs(hs,{children:[e.jsxs(ue,{onClick:()=>B("subscript"),children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Subscript"]}),e.jsxs(ue,{onClick:()=>B("superscript"),children:[e.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Superscript"]}),e.jsx(He,{}),e.jsxs(ue,{onClick:()=>T(!S),children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Drop Cap Settings"]}),e.jsxs(ue,{onClick:()=>L(!D),children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Typography Settings"]}),e.jsx(He,{}),e.jsxs(ue,{onClick:()=>B("removeFormat"),children:[e.jsx(kn,{className:"h-4 w-4 mr-2"}),"Clear Formatting"]})]})]})]}),e.jsx(Vl,{value:H,onChange:O=>re("align",O)})]}),e.jsxs("div",{ref:W,className:Ae,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onClick:o,onKeyDown:oe,children:[e.jsx("div",{ref:G,className:$(M,Y&&"drop-cap-enabled",Y&&`lines-${ie}`),style:Ee,onFocus:()=>y(!0),onBlur:()=>y(!1),onMouseUp:pe,children:e.jsx($r,{tagName:"p",value:u,onChange:Z,onSplit:Se,onMerge:R,onRemove:z,placeholder:"Start writing or type / to choose a block",allowedFormats:["core/bold","core/italic","core/link","core/strikethrough","core/code","core/underline","core/subscript","core/superscript"]})}),!u&&v&&!x&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("span",{className:"text-sm text-gray-400",children:"Click to start writing"})})]}),x&&S&&e.jsx("div",{className:"mt-4",children:e.jsx(Wl,{isEnabled:Y,lines:ie,color:ge,fontSize:A,fontWeight:q,onToggle:O=>re("dropCap",O),onLinesChange:O=>re("dropCapLines",O),onColorChange:O=>re("dropCapColor",O),onFontSizeChange:O=>re("dropCapFontSize",O),onFontWeightChange:O=>re("dropCapFontWeight",O),onReset:ee})}),x&&D&&e.jsx("div",{className:"mt-4",children:e.jsx(Yl,{fontSize:K,lineHeight:je,letterSpacing:fe,wordSpacing:ve,textTransform:_,fontWeight:I,fontStyle:V,onFontSizeChange:O=>re("fontSize",O),onLineHeightChange:O=>re("lineHeight",O),onLetterSpacingChange:O=>re("letterSpacing",O),onWordSpacingChange:O=>re("wordSpacing",O),onTextTransformChange:O=>re("textTransform",O),onFontWeightChange:O=>re("fontWeight",O),onFontStyleChange:O=>re("fontStyle",O),onReset:_e})})]})},tt=({id:t,type:s,children:a,isSelected:r,onSelect:l,onDelete:i,onDuplicate:g,onMoveUp:d,onMoveDown:x,onAddBlock:o,onCopy:h,onPaste:u,isDragging:f=!1,canMoveUp:v=!0,canMoveDown:w=!0,className:m,onDragStart:y,onDragOver:c,onDrop:N,onDragEnd:p,customToolbarContent:j,onAlignChange:b,currentAlign:C="left",onToggleBold:S,onToggleItalic:T,onChangeType:D,currentType:L,isBold:W=!1,isItalic:G=!1})=>{const[H,Y]=n.useState(!1),[ie,ge]=n.useState(!1),A=n.useRef(null);return n.useEffect(()=>{ge(r||H)},[r,H]),n.useEffect(()=>{if(r&&A.current){const q=A.current.querySelector("[contenteditable], input, textarea");q instanceof HTMLElement&&q.focus()}},[r]),n.useEffect(()=>{if(!r)return;const q=K=>{if(K.key==="Delete"&&!K.shiftKey&&!K.ctrlKey){const je=K.target;!je.isContentEditable&&je.tagName!=="INPUT"&&je.tagName!=="TEXTAREA"&&(K.preventDefault(),i())}if((K.ctrlKey||K.metaKey)&&K.key==="c"&&!K.shiftKey&&(window.getSelection()?.toString()||(K.preventDefault(),h?.())),(K.ctrlKey||K.metaKey)&&K.key==="v"&&!K.shiftKey){const je=K.target;!je.isContentEditable&&je.tagName!=="INPUT"&&je.tagName!=="TEXTAREA"&&(K.preventDefault(),u?.())}(K.ctrlKey||K.metaKey)&&K.key==="d"&&(K.preventDefault(),g()),K.altKey&&!K.shiftKey&&(K.key==="ArrowUp"&&v?(K.preventDefault(),d()):K.key==="ArrowDown"&&w&&(K.preventDefault(),x())),K.key};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r,i,h,u,g,d,x,v,w]),e.jsxs("div",{ref:A,"data-block-id":t,"data-block-type":s,className:$("block-wrapper group relative transition-all duration-200",m),onMouseEnter:()=>Y(!0),onMouseLeave:()=>Y(!1),onClick:q=>{q.stopPropagation(),l()},children:[ie&&r&&e.jsxs("div",{className:"absolute left-0 right-0 flex items-center justify-between z-50",style:{top:"-65px"},children:[e.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded-lg shadow-lg px-1 py-1",children:[e.jsx("div",{className:"cursor-move p-1 hover:bg-gray-100 rounded flex items-center",draggable:!0,onDragStart:q=>{q.dataTransfer.effectAllowed="move",q.dataTransfer.setData("blockId",t),y?.()},onDragEnd:p,title:"Drag to move block",children:e.jsx(pa,{className:"h-4 w-4 text-gray-400"})}),e.jsx("div",{className:"w-px h-5 bg-gray-200"}),D&&e.jsxs(e.Fragment,{children:[e.jsxs(bs,{children:[e.jsx(us,{children:e.jsxs(k,{variant:"ghost",size:"sm",className:"h-7 px-1.5 gap-0.5 hover:bg-gray-100",title:"Block Type",children:[L==="core/paragraph"&&e.jsx(ls,{className:"h-4 w-4"}),L==="core/heading"&&e.jsx(Da,{className:"h-4 w-4"}),(!L||L==="core/paragraph")&&e.jsx(ls,{className:"h-4 w-4"}),e.jsx(Qe,{className:"h-3 w-3 text-gray-500"})]})}),e.jsxs(hs,{align:"start",className:"w-44",children:[e.jsxs(ue,{onClick:()=>D("core/paragraph"),className:"gap-2 cursor-pointer",children:[e.jsx(ls,{className:"h-4 w-4"}),e.jsx("span",{children:"Paragraph"}),L==="core/paragraph"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]}),e.jsx(He,{}),e.jsxs(ue,{onClick:()=>D("core/heading-h1"),className:"gap-2 cursor-pointer",children:[e.jsx(Bs,{className:"h-4 w-4"}),e.jsx("span",{children:"Heading 1"}),L==="core/heading-h1"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]}),e.jsxs(ue,{onClick:()=>D("core/heading-h2"),className:"gap-2 cursor-pointer",children:[e.jsx(Da,{className:"h-4 w-4"}),e.jsx("span",{children:"Heading 2"}),L==="core/heading-h2"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]}),e.jsxs(ue,{onClick:()=>D("core/heading-h3"),className:"gap-2 cursor-pointer",children:[e.jsx(Cn,{className:"h-4 w-4"}),e.jsx("span",{children:"Heading 3"}),L==="core/heading-h3"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]}),e.jsxs(ue,{onClick:()=>D("core/heading-h4"),className:"gap-2 cursor-pointer",children:[e.jsx(Sn,{className:"h-4 w-4"}),e.jsx("span",{children:"Heading 4"}),L==="core/heading-h4"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]}),e.jsxs(ue,{onClick:()=>D("core/heading-h5"),className:"gap-2 cursor-pointer",children:[e.jsx(In,{className:"h-4 w-4"}),e.jsx("span",{children:"Heading 5"}),L==="core/heading-h5"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]}),e.jsxs(ue,{onClick:()=>D("core/heading-h6"),className:"gap-2 cursor-pointer",children:[e.jsx(Tn,{className:"h-4 w-4"}),e.jsx("span",{children:"Heading 6"}),L==="core/heading-h6"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]})]})]}),e.jsx("div",{className:"w-px h-5 bg-gray-200"})]}),(S||T)&&e.jsxs(e.Fragment,{children:[S&&e.jsx(k,{variant:"ghost",size:"sm",className:$("h-7 px-2 hover:bg-gray-100",W&&"bg-gray-200"),onClick:q=>{q.stopPropagation(),S()},title:"Bold (Ctrl+B)",children:e.jsx(mr,{className:"h-4 w-4"})}),T&&e.jsx(k,{variant:"ghost",size:"sm",className:$("h-7 px-2 hover:bg-gray-100",G&&"bg-gray-200"),onClick:q=>{q.stopPropagation(),T()},title:"Italic (Ctrl+I)",children:e.jsx(ur,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-5 bg-gray-200"})]}),b&&e.jsxs(e.Fragment,{children:[e.jsxs(bs,{children:[e.jsx(us,{children:e.jsxs(k,{variant:"ghost",size:"sm",className:"h-7 px-1.5 gap-0.5 hover:bg-gray-100",title:"Text Alignment",children:[C==="center"&&e.jsx(_s,{className:"h-4 w-4"}),C==="right"&&e.jsx(Ds,{className:"h-4 w-4"}),C==="justify"&&e.jsx(lt,{className:"h-4 w-4"}),(!C||C==="left")&&e.jsx(ys,{className:"h-4 w-4"}),e.jsx(Qe,{className:"h-3 w-3 text-gray-500"})]})}),e.jsxs(hs,{align:"start",className:"w-44",children:[e.jsxs(ue,{onClick:()=>b("left"),className:"gap-2 cursor-pointer",children:[e.jsx(ys,{className:"h-4 w-4"}),e.jsx("span",{children:"왼쪽 정렬"}),(!C||C==="left")&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]}),e.jsxs(ue,{onClick:()=>b("center"),className:"gap-2 cursor-pointer",children:[e.jsx(_s,{className:"h-4 w-4"}),e.jsx("span",{children:"가운데 정렬"}),C==="center"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]}),e.jsxs(ue,{onClick:()=>b("right"),className:"gap-2 cursor-pointer",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx("span",{children:"오른쪽 정렬"}),C==="right"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]}),e.jsxs(ue,{onClick:()=>b("justify"),className:"gap-2 cursor-pointer",children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsx("span",{children:"양쪽 정렬"}),C==="justify"&&e.jsx(qe,{className:"h-4 w-4 ml-auto"})]})]})]}),e.jsx("div",{className:"w-px h-5 bg-gray-200"})]}),j,e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 px-2 hover:bg-gray-100",onClick:q=>{q.stopPropagation(),d()},disabled:!v,title:"Move block up (Alt+↑)",children:e.jsx(Ls,{className:"h-4 w-4"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 px-2 hover:bg-gray-100",onClick:q=>{q.stopPropagation(),x()},disabled:!w,title:"Move block down (Alt+↓)",children:e.jsx(Qe,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-5 bg-gray-200"}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 px-2 hover:bg-gray-100",onClick:q=>{q.stopPropagation(),g()},title:"Duplicate block (Ctrl+D)",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 px-2 hover:bg-red-100 hover:text-red-600",onClick:q=>{q.stopPropagation(),i()},title:"Delete block (Delete)",children:e.jsx(Es,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-5 bg-gray-200"}),e.jsxs(bs,{children:[e.jsx(us,{children:e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 px-2 hover:bg-gray-100",children:e.jsx(aa,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"start",children:[e.jsx(ue,{onClick:()=>h?.(),children:"Copy block (Ctrl+C)"}),e.jsx(ue,{onClick:()=>u?.(),children:"Paste block (Ctrl+V)"}),e.jsx(He,{}),e.jsx(ue,{onClick:()=>o?.("before"),children:"Add block before"}),e.jsx(ue,{onClick:()=>o?.("after"),children:"Add block after"})]})]})]}),e.jsx("div",{className:"bg-gray-800 text-white text-xs px-2 py-1 rounded",children:s.replace("core/","").charAt(0).toUpperCase()+s.replace("core/","").slice(1)})]}),H&&!r&&e.jsx("button",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-1 opacity-0 hover:opacity-100 group-hover:opacity-100 transition-all z-40",onClick:q=>{q.stopPropagation(),o?.("before")},title:"Add block before",children:e.jsx(Je,{className:"h-3 w-3"})}),e.jsx("div",{className:$("block-content relative rounded-sm transition-all duration-200",'before:content-[""] before:absolute before:inset-0 before:pointer-events-none',"before:border-2 before:rounded-sm before:transition-all",!r&&!H&&"before:border-transparent",H&&!r&&"before:border-gray-200 hover:bg-gray-50",r&&"before:border-blue-500 before:shadow-md bg-blue-50/30",f&&"opacity-50"),children:a}),H&&!r&&e.jsx("button",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-1 opacity-0 hover:opacity-100 group-hover:opacity-100 transition-all z-40",onClick:q=>{q.stopPropagation(),o?.("after")},title:"Add block after",children:e.jsx(Je,{className:"h-3 w-3"})})]})},to=({id:t,content:s,onChange:a,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,isSelected:x,onSelect:o,attributes:h={},canMoveUp:u=!0,canMoveDown:f=!0,isDragging:v,onDragStart:w,onDragOver:m,onDrop:y,onDragEnd:c,onCopy:N,onPaste:p,onChangeType:j})=>{const[b,C]=n.useState(s),S=n.useRef(null),{level:T=2,align:D="left",isBold:L=!1,isItalic:W=!1}=h,G=X=>{a(b,{...h,align:X})};n.useEffect(()=>{C(s),S.current&&!S.current.textContent&&(S.current.textContent=s)},[s]),n.useEffect(()=>{S.current&&b&&(S.current.textContent=b)},[]);const H=()=>{if(S.current){const X=S.current.textContent||"";C(X),a(X,h)}},Y=X=>{a(b,{...h,level:X})},ie=()=>{a(b,{...h,isBold:!L})},ge=()=>{a(b,{...h,isItalic:!W})},A=X=>{j&&j(X)},q=X=>{if(X.key==="Enter"&&!X.shiftKey){if(X.preventDefault(),S.current){const be=S.current.textContent||"";a(be,h)}d?.("after","core/paragraph")}X.key==="Backspace"&&b===""&&(X.preventDefault(),r())},K=X=>{X.preventDefault();const be=X.clipboardData.getData("text/plain");document.execCommand("insertText",!1,be)},je={1:"text-4xl font-bold",2:"text-3xl font-bold",3:"text-2xl font-semibold",4:"text-xl font-semibold",5:"text-lg font-medium",6:"text-base font-medium"},fe=`h${T}`,ve=x?e.jsx("div",{className:"flex items-center gap-2 mr-2",children:e.jsxs("select",{value:T.toString(),onChange:X=>Y(parseInt(X.target.value)),className:"h-7 px-2 text-sm border border-gray-200 rounded hover:border-gray-300 focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"1",children:"H1"}),e.jsx("option",{value:"2",children:"H2"}),e.jsx("option",{value:"3",children:"H3"}),e.jsx("option",{value:"4",children:"H4"}),e.jsx("option",{value:"5",children:"H5"}),e.jsx("option",{value:"6",children:"H6"})]})}):null;return e.jsx(tt,{id:t,type:"heading",isSelected:x,onSelect:o,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,canMoveUp:u,canMoveDown:f,isDragging:v,onDragStart:w,onDragOver:m,onDrop:y,onDragEnd:c,onCopy:N,onPaste:p,customToolbarContent:ve,onAlignChange:G,currentAlign:D,onToggleBold:ie,onToggleItalic:ge,onChangeType:A,currentType:`core/heading-h${T}`,isBold:L,isItalic:W,children:e.jsx(fe,{ref:S,contentEditable:!0,suppressContentEditableWarning:!0,className:$("heading-editor outline-none w-full","focus:outline-none",je[T],D==="center"&&"text-center",D==="right"&&"text-right",!b&&"text-gray-400",L&&"font-bold",W&&"italic"),onInput:H,onKeyDown:q,onPaste:K,"data-placeholder":`Heading ${T}`,style:{direction:"ltr",unicodeBidi:"normal",fontSize:h?.fontSize?`${h.fontSize}px`:void 0,color:h?.textColor||void 0,backgroundColor:h?.backgroundColor||void 0}})})},ao=({id:t,onChange:s,onDelete:a,onDuplicate:r,onMoveUp:l,onMoveDown:i,onAddBlock:g,isSelected:d,onSelect:x,attributes:o={}})=>{const{items:h=[{id:"1",content:"",level:0}],type:u="unordered",style:f="disc",numbering:v="decimal",startNumber:w=1,align:m="left",color:y="default"}=o,[c,N]=n.useState(h),[p,j]=n.useState(null),[b,C]=n.useState(null),[S,T]=n.useState(null),[D,L]=n.useState(null),W=n.useRef({});n.useEffect(()=>{N(h)},[h]),n.useEffect(()=>{if(p&&W.current[p]){const I=W.current[p];if(I?.focus(),I){const V=document.createRange();V.selectNodeContents(I);const _=window.getSelection();_?.removeAllRanges(),_?.addRange(V)}}},[p]);const G=I=>{N(I),s("",{...o,items:I})},H=(I,V)=>{s("",{...o,[I]:V})},Y=I=>{const V={id:Date.now().toString(),content:"",level:0,checked:u==="checklist"?!1:void 0};if(I){const _=c.findIndex(pe=>pe.id===I),Z=c[_];V.level=Z?.level||0;const re=[...c];re.splice(_+1,0,V),G(re),setTimeout(()=>j(V.id),100)}else G([...c,V]),setTimeout(()=>j(V.id),100)},ie=I=>{if(c.length===1)G([{...c[0],content:""}]);else{const V=c.filter(_=>_.id!==I);G(V)}},ge=(I,V)=>{const _=c.map(Z=>Z.id===I?{...Z,content:V}:Z);G(_)},A=I=>{const V=c.map(_=>_.id===I?{..._,checked:!_.checked}:_);G(V)},q=I=>{const V=c.map(_=>_.id===I&&_.level<3?{..._,level:_.level+1}:_);G(V)},K=I=>{const V=c.map(_=>_.id===I&&_.level>0?{..._,level:_.level-1}:_);G(V)},je=I=>{const V=c.findIndex(_=>_.id===I);if(V>0){const _=[...c];[_[V-1],_[V]]=[_[V],_[V-1]],G(_)}},fe=I=>{const V=c.findIndex(_=>_.id===I);if(V<c.length-1){const _=[...c];[_[V],_[V+1]]=[_[V+1],_[V]],G(_)}},ve=(I,V)=>{T(V),I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("text/plain",V)},X=(I,V)=>{I.preventDefault(),I.dataTransfer.dropEffect="move",L(V)},be=()=>{L(null)},he=(I,V)=>{I.preventDefault();const _=I.dataTransfer.getData("text/plain");if(_&&_!==V){const Z=c.findIndex(pe=>pe.id===_),re=c.findIndex(pe=>pe.id===V);if(Z!==-1&&re!==-1){const pe=[...c],[B]=pe.splice(Z,1);pe.splice(re,0,B),G(pe)}}T(null),L(null)},Ce=()=>{T(null),L(null)},De=(I,V,_)=>{const Z=c.find(re=>re.id===V);if(Z){if(I.key==="Tab"&&!I.shiftKey&&(I.preventDefault(),Z.level<3&&q(V)),I.key==="Tab"&&I.shiftKey&&(I.preventDefault(),Z.level>0&&K(V)),I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),Y(V)),I.key==="Backspace"&&Z.content===""&&(I.preventDefault(),c.length>1)){if(_>0){const re=c[_-1];j(re.id)}ie(V)}if(I.key==="ArrowUp"&&(I.preventDefault(),_>0)){const re=c[_-1];j(re.id)}if(I.key==="ArrowDown"&&(I.preventDefault(),_<c.length-1)){const re=c[_+1];j(re.id)}}},Me=()=>{const I="enhanced-list-block",V=u==="ordered"?`list-style-${v}`:u==="checklist"?"list-checklist":`list-style-${f}`,_=`align-${m}`,Z=`list-color-${y}`;return $(I,V,_,Z)},Fe=()=>u==="ordered"?e.jsx(La,{className:"h-4 w-4"}):u==="checklist"?e.jsx(Rt,{className:"h-4 w-4"}):e.jsx(Ps,{className:"h-4 w-4"});return e.jsxs(tt,{id:t,type:"list",isSelected:d,onSelect:x,onDelete:a,onDuplicate:r,onMoveUp:l,onMoveDown:i,onAddBlock:g,children:[d&&e.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-gray-50 rounded",children:[e.jsxs(bs,{children:[e.jsx(us,{children:e.jsxs(k,{variant:"ghost",size:"sm",className:"gap-2",children:[Fe(),u==="ordered"?"Ordered":u==="checklist"?"Checklist":"Unordered"]})}),e.jsxs(hs,{children:[e.jsxs(ue,{onClick:()=>H("type","unordered"),children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Unordered List"]}),e.jsxs(ue,{onClick:()=>H("type","ordered"),children:[e.jsx(La,{className:"h-4 w-4 mr-2"}),"Ordered List"]}),e.jsxs(ue,{onClick:()=>H("type","checklist"),children:[e.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Checklist"]})]})]}),u==="unordered"&&e.jsxs(ze,{value:f,onValueChange:I=>H("style",I),children:[e.jsx($e,{className:"w-32 h-8",children:e.jsx(Re,{})}),e.jsxs(Oe,{children:[e.jsx(Q,{value:"disc",children:"• Disc"}),e.jsx(Q,{value:"circle",children:"○ Circle"}),e.jsx(Q,{value:"square",children:"■ Square"}),e.jsx(Q,{value:"arrow",children:"→ Arrow"}),e.jsx(Q,{value:"dash",children:"– Dash"}),e.jsx(Q,{value:"plus",children:"+ Plus"}),e.jsx(Q,{value:"star",children:"★ Star"}),e.jsx(Q,{value:"diamond",children:"◆ Diamond"}),e.jsx(Q,{value:"triangle",children:"▸ Triangle"}),e.jsx(Q,{value:"heart",children:"♥ Heart"}),e.jsx(Q,{value:"custom-emoji",children:"🔸 Emoji"})]})]}),u==="ordered"&&e.jsxs(ze,{value:v,onValueChange:I=>H("numbering",I),children:[e.jsx($e,{className:"w-32 h-8",children:e.jsx(Re,{})}),e.jsxs(Oe,{children:[e.jsx(Q,{value:"decimal",children:"1. Decimal"}),e.jsx(Q,{value:"decimal-zero",children:"01. Zero-padded"}),e.jsx(Q,{value:"lower-roman",children:"i. Lower Roman"}),e.jsx(Q,{value:"upper-roman",children:"I. Upper Roman"}),e.jsx(Q,{value:"lower-alpha",children:"a. Lower Alpha"}),e.jsx(Q,{value:"upper-alpha",children:"A. Upper Alpha"}),e.jsx(Q,{value:"lower-greek",children:"α. Lower Greek"}),e.jsx(Q,{value:"parentheses",children:"(1) Parentheses"}),e.jsx(Q,{value:"brackets",children:"[1] Brackets"})]})]}),e.jsxs(ze,{value:y,onValueChange:I=>H("color",I),children:[e.jsx($e,{className:"w-24 h-8",children:e.jsx(Re,{})}),e.jsxs(Oe,{children:[e.jsx(Q,{value:"default",children:"Default"}),e.jsx(Q,{value:"blue",children:"Blue"}),e.jsx(Q,{value:"green",children:"Green"}),e.jsx(Q,{value:"purple",children:"Purple"}),e.jsx(Q,{value:"red",children:"Red"}),e.jsx(Q,{value:"orange",children:"Orange"})]})]}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(k,{variant:m==="left"?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>H("align","left"),children:e.jsx(ys,{className:"h-4 w-4"})}),e.jsx(k,{variant:m==="center"?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>H("align","center"),children:e.jsx(_s,{className:"h-4 w-4"})}),e.jsx(k,{variant:m==="right"?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>H("align","right"),children:e.jsx(Ds,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:()=>Y(),className:"gap-2",children:[e.jsx(Je,{className:"h-4 w-4"}),"Add Item"]})]}),e.jsx("div",{className:Me(),children:e.jsx("ul",{children:c.map((I,V)=>e.jsxs("li",{className:$("list-item-wrapper group","hover:bg-gray-50 rounded px-2 py-1 transition-all duration-200",p===I.id&&"bg-blue-50",u==="checklist"&&I.checked&&"checked",S===I.id&&"list-item-dragging",D===I.id&&"list-item-drop-target"),style:{marginLeft:`${I.level*24}px`,"--start-number":w-1},onDragOver:_=>X(_,I.id),onDragLeave:be,onDrop:_=>he(_,I.id),children:[d&&b===I.id&&e.jsxs("div",{className:"flex gap-1 mr-2 opacity-0 group-hover:opacity-100",children:[e.jsx("div",{className:"cursor-move flex items-center justify-center h-6 w-6 text-gray-400 hover:text-gray-600",draggable:!0,onDragStart:_=>ve(_,I.id),onDragEnd:Ce,title:"Drag to reorder",children:e.jsx(pa,{className:"h-3 w-3"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>je(I.id),disabled:V===0,title:"Move up",children:e.jsx(Ls,{className:"h-3 w-3"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>fe(I.id),disabled:V===c.length-1,title:"Move down",children:e.jsx(Qe,{className:"h-3 w-3"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>K(I.id),disabled:I.level===0,title:"Decrease indent",children:e.jsx(As,{className:"h-3 w-3"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>q(I.id),disabled:I.level>=3,title:"Increase indent",children:e.jsx(rs,{className:"h-3 w-3"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>ie(I.id),title:"Remove item",children:e.jsx(ia,{className:"h-3 w-3"})})]}),u==="checklist"&&e.jsx("button",{className:"mr-2 flex-shrink-0",onClick:()=>A(I.id),contentEditable:!1,children:I.checked?e.jsx(Rt,{className:"h-4 w-4 text-blue-600"}):e.jsx(Vs,{className:"h-4 w-4 text-gray-400"})}),e.jsx("div",{ref:_=>{W.current[I.id]=_},contentEditable:!0,suppressContentEditableWarning:!0,className:$("list-item-content flex-1 outline-none min-h-[1.5em]",p===I.id&&"ring-2 ring-blue-500 ring-offset-1 rounded px-1",!I.content&&"text-gray-400",u==="checklist"&&I.checked&&"line-through text-gray-500"),onFocus:()=>{j(I.id),C(I.id)},onBlur:()=>{j(null),C(null)},onInput:_=>{const Z=_.target;ge(I.id,Z.innerText)},onKeyDown:_=>De(_,I.id,V),"data-placeholder":"리스트 항목 입력...",children:I.content||"리스트 항목 입력..."})]},I.id))})})]})},Va=[{value:"text",label:"Plain Text"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"html",label:"HTML"},{value:"css",label:"CSS"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"json",label:"JSON"},{value:"xml",label:"XML"},{value:"sql",label:"SQL"},{value:"bash",label:"Bash"},{value:"php",label:"PHP"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"cpp",label:"C++"}],ro=({id:t,content:s,onChange:a,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,isSelected:x,onSelect:o,attributes:h={},canMoveUp:u=!0,canMoveDown:f=!0,isDragging:v,onDragStart:w,onDragOver:m,onDrop:y,onDragEnd:c,onCopy:N,onPaste:p,onChangeType:j})=>{const{language:b="text",code:C}=h,[S,T]=n.useState(C||s||""),[D,L]=n.useState(!1),W=n.useRef(null);n.useEffect(()=>{C!==void 0?T(C):s!==S&&T(s)},[s,C]),n.useEffect(()=>{const A=W.current;A&&(A.style.height="auto",A.style.height=Math.max(120,A.scrollHeight)+"px")},[S]);const G=A=>{T(A),a(A,{...h,language:b,code:A})},H=A=>{a(S,{...h,language:A,code:S})},Y=async()=>{try{await navigator.clipboard.writeText(S),L(!0),setTimeout(()=>L(!1),2e3)}catch{}},ie=A=>{if(A.key==="Tab"){A.preventDefault();const q=A.target,K=q.selectionStart,je=q.selectionEnd,fe="  ",ve=S.substring(0,K)+fe+S.substring(je);G(ve),setTimeout(()=>{q.selectionStart=q.selectionEnd=K+fe.length},0)}if(A.key==="Enter"){A.preventDefault();const q=A.target,K=q.selectionStart,je=S.substring(0,K).split(`
`),ve=je[je.length-1].match(/^(\s*)/)?.[1]||"",X=S.substring(0,K)+`
`+ve+S.substring(K);G(X),setTimeout(()=>{q.selectionStart=q.selectionEnd=K+1+ve.length},0)}A.key==="Backspace"&&S.trim()===""&&(A.preventDefault(),r())},ge=()=>{const A="font-mono text-sm leading-relaxed";switch(b){case"javascript":case"typescript":return $(A,"text-blue-800");case"html":case"xml":return $(A,"text-orange-800");case"css":return $(A,"text-purple-800");case"python":return $(A,"text-green-800");case"json":return $(A,"text-yellow-800");default:return $(A,"text-gray-800")}};return e.jsxs(tt,{id:t,type:"code",isSelected:x,onSelect:o,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,canMoveUp:u,canMoveDown:f,isDragging:v,onDragStart:w,onDragOver:m,onDrop:y,onDragEnd:c,onCopy:N,onPaste:p,onChangeType:j,currentType:"core/code",customToolbarContent:x?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ze,{value:b,onValueChange:H,children:[e.jsx($e,{className:"w-32 h-7 text-xs",children:e.jsx(Re,{})}),e.jsx(Oe,{children:Va.map(A=>e.jsx(Q,{value:A.value,className:"text-xs",children:A.label},A.value))})]}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:Y,children:D?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(pt,{className:"h-3 w-3 mr-1"}),"Copy"]})})]}):null,children:[e.jsxs("div",{className:"relative bg-gray-50 border border-gray-200 rounded-lg overflow-hidden",children:[!x&&b!=="text"&&e.jsx("div",{className:"absolute top-2 right-3 text-xs text-gray-500 uppercase",children:Va.find(A=>A.value===b)?.label||b}),e.jsx("textarea",{ref:W,value:S,onChange:A=>G(A.target.value),onKeyDown:ie,className:$("w-full p-4 bg-transparent border-0 outline-none resize-none",ge(),"placeholder:text-gray-400","scrollbar-thin scrollbar-track-gray-100 scrollbar-thumb-gray-300"),placeholder:"Enter code here...",spellCheck:!1,style:{minHeight:"120px",tabSize:2,whiteSpace:"pre"}})]}),!x&&S&&e.jsx("div",{className:"absolute inset-0 bg-gray-50 border border-gray-200 rounded-lg p-4 overflow-auto pointer-events-none",children:e.jsx("pre",{className:$(ge(),"whitespace-pre-wrap"),children:S})})]})},yt=[{value:"default",label:"Default Quote",description:"Standard quote with left border",icon:gs,preview:"Regular blockquote style"},{value:"large",label:"Large Quote",description:"Emphasized quote with larger text",icon:gs,preview:"Larger, emphasized quote"},{value:"pullquote",label:"Pullquote",description:"Full-width highlighted quote",icon:ra,preview:"Full-width standout quote"}],no=({currentStyle:t,onStyleChange:s})=>e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx(E,{className:"text-sm font-medium",children:"Quote Style"})]}),e.jsx("div",{className:"space-y-3",children:yt.map(a=>{const r=a.icon;return e.jsxs("div",{className:`
                relative cursor-pointer rounded-lg border-2 p-3 transition-all
                ${t===a.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}
              `,onClick:()=>s(a.value),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(r,{className:"h-4 w-4 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm",children:a.label}),e.jsx("p",{className:"text-xs text-gray-500",children:a.description})]}),t===a.value&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("div",{className:"text-xs text-gray-600 bg-gray-100 rounded p-2",children:a.preview})]},a.value)})}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[e.jsxs(k,{variant:t==="default"?"default":"outline",size:"sm",onClick:()=>s("default"),className:"flex-1 text-xs",children:[e.jsx(gs,{className:"h-3 w-3 mr-1"}),"Quote"]}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>{const r=(yt.findIndex(l=>l.value===t)+1)%yt.length;s(yt[r].value)},className:"px-2",title:"Switch to next style",children:e.jsx(xa,{className:"h-3 w-3"})}),e.jsxs(k,{variant:t==="pullquote"?"default":"outline",size:"sm",onClick:()=>s("pullquote"),className:"flex-1 text-xs",children:[e.jsx(ra,{className:"h-3 w-3 mr-1"}),"Pullquote"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Quote:"})," Standard blockquote with citation"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pullquote:"})," Full-width attention-grabbing quote"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tip:"})," Use pullquotes to highlight key insights"]})]})]}),io=[{value:"left",label:"Left",description:"Align to left"},{value:"center",label:"Center",description:"Center aligned"},{value:"right",label:"Right",description:"Align to right"}],lo=[{value:"normal",label:"Normal",example:"Normal text"},{value:"italic",label:"Italic",example:"Italic text"},{value:"bold",label:"Bold",example:"Bold text"}],oo=[{value:"dash",label:"Em Dash",example:"— Author Name"},{value:"quote",label:"Quote",example:'" Author Name'},{value:"none",label:"None",example:"Author Name"}],co=({citation:t,citationUrl:s,author:a,source:r,position:l,style:i,prefix:g,onCitationChange:d,onCitationUrlChange:x,onAuthorChange:o,onSourceChange:h,onPositionChange:u,onStyleChange:f,onPrefixChange:v})=>{const w=()=>{const m=[];a&&m.push(a),r&&m.push(r),!a&&!r&&t&&m.push(t);const y=m.join(", ");switch(g){case"dash":return`— ${y}`;case"quote":return`" ${y}`;case"none":default:return y}};return e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ns,{className:"h-4 w-4"}),e.jsx(E,{className:"text-sm font-medium",children:"Citation Settings"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Citation Text"}),e.jsx(ke,{placeholder:"Author, Source, or Custom citation",value:t,onChange:m=>d(m.target.value),className:"text-xs"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Author"}),e.jsxs("div",{className:"relative",children:[e.jsx(ns,{className:"absolute left-2 top-2 h-3 w-3 text-gray-400"}),e.jsx(ke,{placeholder:"Author name",value:a||"",onChange:m=>o?.(m.target.value),className:"pl-7 text-xs"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Source"}),e.jsxs("div",{className:"relative",children:[e.jsx(hr,{className:"absolute left-2 top-2 h-3 w-3 text-gray-400"}),e.jsx(ke,{placeholder:"Book, Website, etc.",value:r||"",onChange:m=>h?.(m.target.value),className:"pl-7 text-xs"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Citation Link (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Js,{className:"absolute left-2 top-2 h-3 w-3 text-gray-400"}),e.jsx(ke,{type:"url",placeholder:"https://example.com",value:s||"",onChange:m=>x?.(m.target.value),className:"pl-7 text-xs"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Position"}),e.jsxs(ze,{value:l,onValueChange:m=>u(m),children:[e.jsx($e,{className:"w-full h-8 text-xs",children:e.jsx(Re,{})}),e.jsx(Oe,{children:io.map(m=>e.jsx(Q,{value:m.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:m.label}),e.jsx("div",{className:"text-gray-500 text-xs",children:m.description})]})},m.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Text Style"}),e.jsxs(ze,{value:i,onValueChange:m=>f(m),children:[e.jsx($e,{className:"w-full h-8 text-xs",children:e.jsx(Re,{})}),e.jsx(Oe,{children:lo.map(m=>e.jsx(Q,{value:m.value,children:e.jsx("span",{style:{fontWeight:m.value==="bold"?"bold":"normal",fontStyle:m.value==="italic"?"italic":"normal"},children:m.label})},m.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Prefix Style"}),e.jsxs(ze,{value:g,onValueChange:m=>v(m),children:[e.jsx($e,{className:"w-full h-8 text-xs",children:e.jsx(Re,{})}),e.jsx(Oe,{children:oo.map(m=>e.jsx(Q,{value:m.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:m.label}),e.jsx("div",{className:"text-gray-500 text-xs",children:m.example})]})},m.value))})]})]})]}),(t||a||r)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Preview"}),e.jsx("div",{className:`
              p-3 bg-white rounded border text-sm
              ${l==="center"?"text-center":l==="right"?"text-right":"text-left"}
            `,children:e.jsx("span",{style:{fontWeight:i==="bold"?"bold":"normal",fontStyle:i==="italic"?"italic":"normal"},children:w()})})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[e.jsx(k,{variant:"outline",size:"sm",onClick:()=>{d(""),o?.(""),h?.(""),x?.("")},className:"flex-1 text-xs",children:"Clear All"}),e.jsx(k,{variant:"outline",size:"sm",onClick:()=>{u("right"),f("italic"),v("dash")},className:"flex-1 text-xs",children:"Default Style"})]})]})},Ga=[{value:"quotes1",label:"Classic",icon:'"',description:"Traditional double quotes"},{value:"quotes2",label:"Curved",icon:'"',description:"Curved quote marks"},{value:"quotes3",label:"French",icon:"«",description:"French guillemets"},{value:"quotes4",label:"Single",icon:"'",description:"Single quote marks"},{value:"quotes5",label:"Modern",icon:"❝",description:"Modern heavy quotes"}],mo=[{value:"#6b7280",label:"Gray",color:"#6b7280"},{value:"#3b82f6",label:"Blue",color:"#3b82f6"},{value:"#ef4444",label:"Red",color:"#ef4444"},{value:"#10b981",label:"Green",color:"#10b981"},{value:"#8b5cf6",label:"Purple",color:"#8b5cf6"},{value:"#f59e0b",label:"Orange",color:"#f59e0b"},{value:"#000000",label:"Black",color:"#000000"},{value:"#ffffff",label:"White",color:"#ffffff"}],uo=[{value:"left",label:"Left",description:"Icon on the left side"},{value:"right",label:"Right",description:"Icon on the right side"},{value:"none",label:"None",description:"No icon displayed"}],ho=({iconStyle:t,iconSize:s,iconColor:a,iconPosition:r,showIcon:l,onIconStyleChange:i,onIconSizeChange:g,onIconColorChange:d,onIconPositionChange:x,onToggleIcon:o,onReset:h})=>{const u=f=>Ga.find(v=>v.value===f)?.icon||'"';return e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx(E,{className:"text-sm font-medium",children:"Quote Icon"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(k,{variant:l?"default":"outline",size:"sm",onClick:()=>o(!l),className:"h-8 gap-1",children:[l?e.jsx(os,{className:"h-3 w-3"}):e.jsx(ua,{className:"h-3 w-3"}),l?"Show":"Hide"]}),l&&e.jsx(k,{variant:"ghost",size:"sm",onClick:h,className:"h-8 px-2",title:"Reset to defaults",children:e.jsx(ha,{className:"h-3 w-3"})})]})]}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Icon Style"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Ga.map(f=>e.jsxs("button",{className:`
                    flex flex-col items-center justify-center h-16 rounded border-2 transition-all
                    ${t===f.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}
                  `,onClick:()=>i(f.value),title:f.description,children:[e.jsx("span",{className:"text-lg font-bold",style:{color:a},children:f.icon}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:f.label})]},f.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Icon Size (",s,"px)"]}),e.jsx(ms,{value:[s],onValueChange:f=>g(f[0]),min:24,max:120,step:4,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"24px"}),e.jsx("span",{children:"120px"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Icon Color"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:mo.map(f=>e.jsx("button",{className:`
                    flex items-center justify-center h-10 rounded border-2 transition-all
                    ${a===f.value?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
                  `,style:{backgroundColor:f.value==="#ffffff"?"#f9fafb":f.value,color:f.value==="#ffffff"?"#000000":"#ffffff"},onClick:()=>d(f.value),title:f.label,children:e.jsx("span",{className:"text-lg font-bold",children:u(t)})},f.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Icon Position"}),e.jsxs(ze,{value:r,onValueChange:f=>x(f),children:[e.jsx($e,{className:"w-full h-8 text-xs",children:e.jsx(Re,{})}),e.jsx(Oe,{children:uo.map(f=>e.jsx(Q,{value:f.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:f.label}),e.jsx("div",{className:"text-gray-500 text-xs",children:f.description})]})},f.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Preview"}),e.jsx("div",{className:"p-3 bg-white rounded border",children:e.jsxs("div",{className:"relative",children:[r==="left"&&e.jsx("span",{className:"absolute -left-2 -top-1 opacity-30",style:{fontSize:`${s}px`,color:a,lineHeight:1},children:u(t)}),e.jsx("p",{className:"text-sm italic text-gray-700 relative z-10",children:"This is how your quote will appear with the selected icon style."}),r==="right"&&e.jsx("span",{className:"absolute -right-2 -bottom-1 opacity-30",style:{fontSize:`${s}px`,color:a,lineHeight:1},children:u(t)})]})})]})]})]})},po=({id:t,content:s,onChange:a,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,isSelected:x,onSelect:o,attributes:h={},canMoveUp:u=!0,canMoveDown:f=!0,isDragging:v,onDragStart:w,onDragOver:m,onDrop:y,onDragEnd:c,onCopy:N,onPaste:p,onChangeType:j})=>{const{quote:b,citation:C,citationUrl:S="",author:T="",source:D="",align:L="left",style:W="default",citationPosition:G="right",citationStyle:H="italic",citationPrefix:Y="dash",iconStyle:ie="quotes1",iconSize:ge=48,iconColor:A="#6b7280",iconPosition:q="left",showIcon:K=!1,theme:je="default"}=h,fe=R=>{if(!R)return{quote:"",citation:""};try{const z=JSON.parse(R);return{quote:z.quote||"",citation:z.citation||""}}catch{const z=R.split(`
---
`);return{quote:z[0]||"",citation:z[1]||""}}},ve=fe(s),[X,be]=n.useState(b||ve.quote||""),[he,Ce]=n.useState(C||ve.citation||""),[De,Me]=n.useState(!1),[Fe,I]=n.useState(!1),[V,_]=n.useState(!1),Z=n.useRef(null),re=n.useRef(null);n.useEffect(()=>{if(b!==void 0&&C!==void 0)be(b),Ce(C);else if(s){const R=fe(s);be(R.quote),Ce(R.citation)}},[s,b,C]);const pe=R=>{const z=JSON.stringify({quote:X,citation:he});a(z,{...h,...R})},B=R=>{be(R);const z=JSON.stringify({quote:R,citation:he});a(z,{...h,quote:R,citation:he})},J=R=>{Ce(R);const z=JSON.stringify({quote:X,citation:R});a(z,{...h,quote:X,citation:R})},U=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),he===""?re.current?.focus():d?.("after","core/paragraph")),R.key==="Backspace"&&X===""&&he===""&&(R.preventDefault(),r())},ee=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),d?.("after","core/paragraph")),R.key==="Backspace"&&he===""&&(R.preventDefault(),Z.current?.focus())},_e=R=>{R.preventDefault();const z=R.clipboardData.getData("text/plain");document.execCommand("insertText",!1,z)},Be=()=>({quotes1:'"',quotes2:'"',quotes3:"«",quotes4:"'",quotes5:"❝"})[ie]||'"',ae=()=>{const R=[];T&&R.push(T),D&&R.push(D),!T&&!D&&he&&R.push(he);const z=R.join(", ");switch(Y){case"dash":return`— ${z}`;case"quote":return`" ${z}`;case"none":default:return z}},Se=()=>$("enhanced-quote-block",`quote-style-${W}`,`theme-${je}`,L==="center"&&"text-center",L==="right"&&"text-right",L==="justify"&&"text-justify");return e.jsxs(tt,{id:t,type:"quote",isSelected:x,onSelect:o,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,canMoveUp:u,canMoveDown:f,isDragging:v,onDragStart:w,onDragOver:m,onDrop:y,onDragEnd:c,onCopy:N,onPaste:p,onChangeType:j,currentType:"core/quote",customToolbarContent:x?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("div",{className:"flex gap-1",children:["default","large","pullquote"].map(R=>e.jsx(k,{variant:W===R?"default":"outline",size:"sm",onClick:()=>pe({style:R}),className:"h-7 px-3 text-xs capitalize",children:R},R))}),e.jsx("div",{className:"w-px h-4 bg-gray-300"}),e.jsxs(k,{variant:De?"default":"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>Me(!De),children:[e.jsx(gs,{className:"h-3 w-3 mr-1"}),"Style"]}),e.jsxs(k,{variant:Fe?"default":"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>I(!Fe),children:[e.jsx(ss,{className:"h-3 w-3 mr-1"}),"Citation"]}),e.jsxs(k,{variant:V?"default":"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>_(!V),children:[e.jsx(Gs,{className:"h-3 w-3 mr-1"}),"Icon"]})]}):null,children:[e.jsxs("div",{className:Se(),children:[K&&q!=="none"&&e.jsx("div",{className:$("quote-icon",`position-${q}`),style:{fontSize:`${ge}px`,color:A},children:Be()}),e.jsx("div",{ref:Z,contentEditable:!0,suppressContentEditableWarning:!0,className:$("quote-content outline-none",!X&&"text-gray-400"),onInput:R=>{const z=R.target;B(z.textContent||"")},onKeyDown:U,onPaste:_e,"data-placeholder":"Write your quote here...",children:X}),(he||T||D||x)&&e.jsx("div",{ref:re,contentEditable:!0,suppressContentEditableWarning:!0,className:$("quote-citation outline-none",`style-${H}`,`position-${G}`,`prefix-${Y}`,!he&&!T&&!D&&"text-gray-400"),onInput:R=>{const z=R.target;J(z.textContent||"")},onKeyDown:ee,onPaste:_e,"data-placeholder":"Add citation...",children:S?e.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",children:ae()}):ae()})]}),x&&De&&e.jsx("div",{className:"mt-4",children:e.jsx(no,{currentStyle:W,onStyleChange:R=>pe({style:R})})}),x&&Fe&&e.jsx("div",{className:"mt-4",children:e.jsx(co,{citation:he,citationUrl:S,author:T,source:D,position:G,style:H,prefix:Y,onCitationChange:J,onCitationUrlChange:R=>pe({citationUrl:R}),onAuthorChange:R=>pe({author:R}),onSourceChange:R=>pe({source:R}),onPositionChange:R=>pe({citationPosition:R}),onStyleChange:R=>pe({citationStyle:R}),onPrefixChange:R=>pe({citationPrefix:R})})}),x&&V&&e.jsx("div",{className:"mt-4",children:e.jsx(ho,{iconStyle:ie,iconSize:ge,iconColor:A,iconPosition:q,showIcon:K,onIconStyleChange:R=>pe({iconStyle:R}),onIconSizeChange:R=>pe({iconSize:R}),onIconColorChange:R=>pe({iconColor:R}),onIconPositionChange:R=>pe({iconPosition:R}),onToggleIcon:R=>pe({showIcon:R}),onReset:()=>pe({iconStyle:"quotes1",iconSize:48,iconColor:"#6b7280",iconPosition:"left",showIcon:!1})})})]})},xo=({id:t,content:s,onChange:a,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,isSelected:x,onSelect:o,attributes:h={},canMoveUp:u=!0,canMoveDown:f=!0,isDragging:v,onDragStart:w,onDragOver:m,onDrop:y,onDragEnd:c,onCopy:N,onPaste:p,onChangeType:j})=>{const{url:b="",alt:C="",caption:S="",align:T="left",size:D="large",linkTo:L="none",linkUrl:W="",width:G,height:H,dynamicSource:Y={},useDynamicSource:ie=!1}=h,[ge,A]=n.useState(!1),[q,K]=n.useState(0),[je,fe]=n.useState(!1),[ve,X]=n.useState(S),[be,he]=n.useState(C),[Ce,De]=n.useState(W),Me=n.useRef(null),Fe=n.useRef(null);n.useEffect(()=>{X(S),he(C),De(W)},[S,C,W]);const I=n.useCallback((M,Pe)=>{a(b||s,{...h,[M]:Pe})},[h,s,b,a]),V=async M=>{if(M.type.startsWith("image/")&&!(M.size>10*1024*1024)){A(!0),K(0);try{const Pe=await Al.upload(M,Ee=>{K(Ee)});if(Pe.success&&Pe.data){const Ee=new Image;Ee.onload=()=>{a(Pe.data.url,{...h,url:Pe.data.url,alt:M.name.replace(/\.[^/.]+$/,""),mediaId:Pe.data.id,width:Ee.naturalWidth,height:Ee.naturalHeight})},Ee.src=Pe.data.url}}catch{}finally{A(!1),K(0)}}},_=M=>{const Pe=M.target.files?.[0];Pe&&V(Pe)},Z=M=>{M.preventDefault(),M.stopPropagation(),fe(!0)},re=M=>{M.preventDefault(),M.stopPropagation(),M.target===Fe.current&&fe(!1)},pe=M=>{M.preventDefault(),M.stopPropagation()},B=M=>{M.preventDefault(),M.stopPropagation(),fe(!1);const Ee=Array.from(M.dataTransfer.files).find(O=>O.type.startsWith("image/"));Ee&&V(Ee)},J=M=>{I("align",M)},U=M=>{X(M),I("caption",M)},ee=M=>{he(M),I("alt",M)},_e=M=>{De(M),I("linkUrl",M),I("linkTo",M?"custom":"none")},Be=()=>{Me.current?.click()},ae=()=>{a("",{...h,url:"",alt:"",caption:"",mediaId:void 0,width:void 0,height:void 0})},Se=()=>{switch(D){case"thumbnail":return"max-w-32";case"medium":return"max-w-md";case"large":return"max-w-2xl";case"full":return"w-full";default:return"max-w-lg"}},R=()=>{switch(T){case"center":return"mx-auto text-center";case"right":return"ml-auto text-right";case"justify":return"w-full";default:return"text-left"}},z=()=>{if(!b)return null;const M=e.jsx("img",{src:b,alt:be,className:$("block h-auto rounded",Se()),style:{width:G?`${G}px`:void 0,height:H?`${H}px`:void 0},onLoad:Pe=>{const Ee=Pe.target;(!G||!H)&&(I("width",Ee.naturalWidth),I("height",Ee.naturalHeight))}});return L==="media"?e.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:M}):L==="custom"&&Ce?e.jsx("a",{href:Ce,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:M}):M},oe=x&&b?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(k,{variant:"ghost",size:"sm",onClick:Be,className:"h-7 px-2 text-xs",children:[e.jsx(Pn,{className:"h-3 w-3 mr-1"}),"Replace"]}),e.jsx("div",{className:"w-px h-4 bg-gray-300"}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:()=>I("linkTo",L==="media"?"none":"media"),className:$("h-7 px-2 text-xs",L==="media"&&"bg-blue-100"),children:[e.jsx(It,{className:"h-3 w-3 mr-1"}),"Link to Media"]}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:ae,className:"h-7 px-2 text-xs text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(Es,{className:"h-3 w-3 mr-1"}),"Remove"]})]}):null,Ae=x?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-sm font-medium",children:"Dynamic Sources"}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>I("useDynamicSource",!ie),className:$("h-6 px-2 text-xs",ie?"bg-blue-100 text-blue-700":"text-gray-600"),children:ie?"Enabled":"Disabled"})]}),ie&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Bind image properties to ACF fields"})]}),ie?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Image Field"}),e.jsxs("select",{value:Y.image||"",onChange:M=>I("dynamicSource",{...Y,image:M.target.value}),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select ACF Image Field"}),e.jsx("option",{value:"featured_image",children:"Featured Image"}),e.jsx("option",{value:"gallery_image",children:"Gallery Image"}),e.jsx("option",{value:"hero_image",children:"Hero Image"}),e.jsx("option",{value:"product_image",children:"Product Image"}),e.jsx("option",{value:"custom_image",children:"Custom Image"})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Caption Field"}),e.jsxs("select",{value:Y.caption||"",onChange:M=>I("dynamicSource",{...Y,caption:M.target.value}),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select ACF Text Field"}),e.jsx("option",{value:"image_caption",children:"Image Caption"}),e.jsx("option",{value:"photo_description",children:"Photo Description"}),e.jsx("option",{value:"media_title",children:"Media Title"}),e.jsx("option",{value:"custom_caption",children:"Custom Caption"})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Alt Text Field"}),e.jsxs("select",{value:Y.alt||"",onChange:M=>I("dynamicSource",{...Y,alt:M.target.value}),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select ACF Text Field"}),e.jsx("option",{value:"image_alt",children:"Image Alt Text"}),e.jsx("option",{value:"accessibility_text",children:"Accessibility Text"}),e.jsx("option",{value:"screen_reader_text",children:"Screen Reader Text"}),e.jsx("option",{value:"custom_alt",children:"Custom Alt Text"})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Link Field"}),e.jsxs("select",{value:Y.link||"",onChange:M=>I("dynamicSource",{...Y,link:M.target.value}),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select ACF URL/Link Field"}),e.jsx("option",{value:"image_link",children:"Image Link"}),e.jsx("option",{value:"external_url",children:"External URL"}),e.jsx("option",{value:"product_link",children:"Product Link"}),e.jsx("option",{value:"custom_link",children:"Custom Link"})]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsx("p",{className:"text-xs text-gray-500",children:"ACF fields will override manual settings when available"})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"image-alt",className:"text-sm font-medium",children:"Alt Text"}),e.jsx(ke,{id:"image-alt",value:be,onChange:M=>ee(M.target.value),placeholder:"Describe this image...",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"image-caption",className:"text-sm font-medium",children:"Caption"}),e.jsx(ke,{id:"image-caption",value:ve,onChange:M=>U(M.target.value),placeholder:"Add a caption...",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"image-link",className:"text-sm font-medium",children:"Link URL"}),e.jsx(ke,{id:"image-link",value:Ce,onChange:M=>_e(M.target.value),placeholder:"https://example.com",className:"mt-1"})]}),G&&H&&e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"image-width",className:"text-sm font-medium",children:"Width"}),e.jsx(ke,{id:"image-width",type:"number",value:G,onChange:M=>I("width",parseInt(M.target.value)||void 0),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"image-height",className:"text-sm font-medium",children:"Height"}),e.jsx(ke,{id:"image-height",type:"number",value:H,onChange:M=>I("height",parseInt(M.target.value)||void 0),className:"mt-1"})]})]})]})]}):null;return e.jsx(tt,{id:t,type:"image",isSelected:x,onSelect:o,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,canMoveUp:u,canMoveDown:f,isDragging:v,onDragStart:w,onDragOver:m,onDrop:y,onDragEnd:c,onCopy:N,onPaste:p,onAlignChange:J,currentAlign:T,onChangeType:j,currentType:"core/image",customToolbarContent:oe,customSidebarContent:Ae,children:e.jsx("div",{className:$("image-block",R()),children:b?e.jsxs("figure",{className:"space-y-2",children:[z(),(ve||x)&&e.jsx("figcaption",{contentEditable:x,suppressContentEditableWarning:!0,className:$("text-sm text-gray-600 italic outline-none px-2 py-1","focus:bg-gray-50 focus:ring-2 focus:ring-blue-200 focus:ring-inset rounded",!ve&&x&&"text-gray-400"),onInput:M=>{const Pe=M.target;U(Pe.textContent||"")},onKeyDown:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),d?.("after","core/paragraph"))},"data-placeholder":"Write a caption...",style:{direction:"ltr",unicodeBidi:"normal"},children:ve})]}):e.jsxs("div",{ref:Fe,className:$("relative border-2 border-dashed rounded-lg p-8 text-center transition-all min-h-48",je?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50",ge&&"pointer-events-none opacity-50"),onDragEnter:Z,onDragLeave:re,onDragOver:pe,onDrop:B,children:[e.jsx("input",{ref:Me,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",className:"hidden",onChange:_}),ge?e.jsxs("div",{className:"space-y-4",children:[e.jsx(St,{className:"h-16 w-16 mx-auto text-blue-500 animate-pulse"}),e.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${q}%`}})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Uploading... ",q,"%"]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(ts,{className:"h-16 w-16 mx-auto text-gray-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload an image"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Drag and drop an image here, or click to select"}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Supports: JPG, PNG, GIF, WebP • Maximum size: 10MB"})]}),e.jsxs(k,{onClick:()=>Me.current?.click(),className:"mx-auto",children:[e.jsx(cr,{className:"h-4 w-4 mr-2"}),"Select Image"]})]})]})})})},go=[{type:"linear",angle:45,stops:[{color:"#667eea",position:0},{color:"#764ba2",position:100}]},{type:"linear",angle:90,stops:[{color:"#f093fb",position:0},{color:"#f5576c",position:100}]},{type:"linear",angle:135,stops:[{color:"#4facfe",position:0},{color:"#00f2fe",position:100}]},{type:"linear",angle:45,stops:[{color:"#43e97b",position:0},{color:"#38f9d7",position:100}]},{type:"linear",angle:90,stops:[{color:"#fa709a",position:0},{color:"#fee140",position:100}]},{type:"radial",angle:0,shape:"circle",position:"center",stops:[{color:"#667eea",position:0},{color:"#764ba2",position:100}]},{type:"linear",angle:45,stops:[{color:"#ff9a9e",position:0},{color:"#fecfef",position:50},{color:"#fecfef",position:100}]},{type:"linear",angle:90,stops:[{color:"#a8edea",position:0},{color:"#fed6e3",position:100}]},{type:"linear",angle:135,stops:[{color:"#d299c2",position:0},{color:"#fef9d7",position:100}]},{type:"radial",angle:0,shape:"ellipse",position:"center",stops:[{color:"#89f7fe",position:0},{color:"#66a6ff",position:100}]}],fo=({currentGradient:t,isEnabled:s,onGradientChange:a,onToggleGradient:r})=>{const[l,i]=n.useState(!0),[g,d]=n.useState(!1),x={type:"linear",angle:45,stops:[{color:"#667eea",position:0},{color:"#764ba2",position:100}]},o=t||x,h=m=>{const y=m.stops.sort((c,N)=>c.position-N.position).map(c=>`${c.color} ${c.position}%`).join(", ");if(m.type==="linear")return`linear-gradient(${m.angle}deg, ${y})`;{const c=m.shape||"circle",N=m.position||"center";return`radial-gradient(${c} at ${N}, ${y})`}},u=m=>{const y={...o,...m};a(y)},f=()=>{const y={color:"#000000",position:o.stops.length>0?Math.min(100,Math.max(...o.stops.map(c=>c.position))+25):50};u({stops:[...o.stops,y].sort((c,N)=>c.position-N.position)})},v=m=>{if(o.stops.length<=2)return;const y=o.stops.filter((c,N)=>N!==m);u({stops:y})},w=(m,y)=>{const c=o.stops.map((N,p)=>p===m?{...N,...y}:N);u({stops:c.sort((N,p)=>N.position-p.position)})};return e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gs,{className:"h-4 w-4"}),e.jsx(E,{className:"text-sm font-medium",children:"Gradient Background"})]}),e.jsx(k,{variant:s?"default":"outline",size:"sm",onClick:()=>r(!s),className:"h-8 px-3 text-xs",children:s?"Enabled":"Disabled"})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Preview"}),e.jsx("div",{className:"h-12 w-full rounded border",style:{background:h(o)}}),e.jsx("p",{className:"text-xs text-gray-500 font-mono break-all",children:h(o)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Type"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{variant:o.type==="linear"?"default":"outline",size:"sm",onClick:()=>u({type:"linear"}),className:"flex-1 text-xs",children:"Linear"}),e.jsx(k,{variant:o.type==="radial"?"default":"outline",size:"sm",onClick:()=>u({type:"radial"}),className:"flex-1 text-xs",children:"Radial"})]})]}),o.type==="linear"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Angle: ",o.angle,"°"]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"range",min:"0",max:"360",value:o.angle,onChange:m=>u({angle:parseInt(m.target.value)}),className:"flex-1"}),e.jsx(k,{variant:"outline",size:"sm",onClick:()=>u({angle:(o.angle+45)%360}),className:"h-8 w-8 p-0",children:e.jsx(An,{className:"h-3 w-3"})})]})]}),o.type==="radial"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Shape & Position"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(k,{variant:o.shape==="circle"?"default":"outline",size:"sm",onClick:()=>u({shape:"circle"}),className:"text-xs",children:"Circle"}),e.jsx(k,{variant:o.shape==="ellipse"?"default":"outline",size:"sm",onClick:()=>u({shape:"ellipse"}),className:"text-xs",children:"Ellipse"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Presets"}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>i(!l),className:"h-6 w-6 p-0",children:l?e.jsx(Ls,{className:"h-3 w-3"}):e.jsx(Qe,{className:"h-3 w-3"})})]}),l&&e.jsx("div",{className:"grid grid-cols-5 gap-2",children:go.map((m,y)=>e.jsx("button",{className:"h-8 w-full rounded border hover:ring-2 hover:ring-blue-300 transition-all",style:{background:h(m)},onClick:()=>a(m),title:`Preset ${y+1}`},y))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Custom Editor"}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>d(!g),className:"h-6 w-6 p-0",children:g?e.jsx(Ls,{className:"h-3 w-3"}):e.jsx(Qe,{className:"h-3 w-3"})})]}),g&&e.jsxs("div",{className:"space-y-3 p-3 bg-white rounded border",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-xs font-medium",children:"Color Stops"}),e.jsx(k,{variant:"outline",size:"sm",onClick:f,disabled:o.stops.length>=4,className:"h-6 px-2 text-xs",children:e.jsx(Je,{className:"h-3 w-3"})})]}),o.stops.map((m,y)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:m.color,onChange:c=>w(y,{color:c.target.value}),className:"w-8 h-6 rounded border cursor-pointer"}),e.jsx(ke,{type:"range",min:"0",max:"100",value:m.position,onChange:c=>w(y,{position:parseInt(c.target.value)}),className:"flex-1 h-6"}),e.jsxs("span",{className:"text-xs w-8 text-center",children:[m.position,"%"]}),o.stops.length>2&&e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>v(y),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Ue,{className:"h-3 w-3"})})]},y))]}),e.jsxs(k,{variant:"outline",size:"sm",onClick:()=>a(x),className:"w-full text-xs",children:[e.jsx(ut,{className:"h-3 w-3 mr-1"}),"Reset to Default"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Tip:"})," Gradients enhance button visual appeal"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Linear:"})," Directional color flow"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Radial:"})," Circular color spread"]})]})]})]})},jo=[{enabled:!0,horizontal:0,vertical:2,blur:4,spread:0,color:"#000000",opacity:25,inset:!1},{enabled:!0,horizontal:0,vertical:4,blur:8,spread:0,color:"#000000",opacity:15,inset:!1},{enabled:!0,horizontal:0,vertical:8,blur:16,spread:0,color:"#000000",opacity:10,inset:!1},{enabled:!0,horizontal:2,vertical:2,blur:8,spread:0,color:"#000000",opacity:20,inset:!1},{enabled:!0,horizontal:0,vertical:0,blur:0,spread:1,color:"#007cba",opacity:50,inset:!1},{enabled:!0,horizontal:0,vertical:0,blur:10,spread:0,color:"#007cba",opacity:30,inset:!1},{enabled:!0,horizontal:2,vertical:2,blur:4,spread:0,color:"#000000",opacity:15,inset:!0},{enabled:!0,horizontal:0,vertical:-2,blur:8,spread:-2,color:"#ffffff",opacity:80,inset:!1}],bo=({currentShadow:t,onShadowChange:s})=>{const[a,r]=n.useState(!0),[l,i]=n.useState(!1),g={enabled:!1,horizontal:0,vertical:2,blur:4,spread:0,color:"#000000",opacity:25,inset:!1},d=t||g,x=u=>{if(!u.enabled)return"none";const{horizontal:f,vertical:v,blur:w,spread:m,color:y,opacity:c,inset:N}=u,j=((C,S)=>{const T=parseInt(C.slice(1,3),16),D=parseInt(C.slice(3,5),16),L=parseInt(C.slice(5,7),16);return`rgba(${T}, ${D}, ${L}, ${S/100})`})(y,c);return`${N?"inset ":""}${f}px ${v}px ${w}px ${m}px ${j}`},o=u=>{const f={...d,...u};s(f)},h=()=>{o({enabled:!d.enabled})};return e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{className:"h-4 w-4"}),e.jsx(E,{className:"text-sm font-medium",children:"Box Shadow"})]}),e.jsx(k,{variant:d.enabled?"default":"outline",size:"sm",onClick:h,className:"h-8 px-3 text-xs",children:d.enabled?"Enabled":"Disabled"})]}),d.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Preview"}),e.jsx("div",{className:"p-4 bg-white rounded border",children:e.jsx("div",{className:"h-12 w-24 bg-blue-500 rounded mx-auto",style:{boxShadow:x(d)}})}),e.jsxs("p",{className:"text-xs text-gray-500 font-mono break-all",children:["box-shadow: ",x(d)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Quick Settings"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(k,{variant:d.inset?"outline":"default",size:"sm",onClick:()=>o({inset:!1}),className:"text-xs",children:[e.jsx(En,{className:"h-3 w-3 mr-1"}),"Outer"]}),e.jsxs(k,{variant:d.inset?"default":"outline",size:"sm",onClick:()=>o({inset:!0}),className:"text-xs",children:[e.jsx(_n,{className:"h-3 w-3 mr-1"}),"Inner"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Position & Size"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex justify-between text-xs",children:e.jsxs("span",{children:["Horizontal: ",d.horizontal,"px"]})}),e.jsx("input",{type:"range",min:"-20",max:"20",value:d.horizontal,onChange:u=>o({horizontal:parseInt(u.target.value)}),className:"w-full"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex justify-between text-xs",children:e.jsxs("span",{children:["Vertical: ",d.vertical,"px"]})}),e.jsx("input",{type:"range",min:"-20",max:"20",value:d.vertical,onChange:u=>o({vertical:parseInt(u.target.value)}),className:"w-full"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex justify-between text-xs",children:e.jsxs("span",{children:["Blur: ",d.blur,"px"]})}),e.jsx("input",{type:"range",min:"0",max:"30",value:d.blur,onChange:u=>o({blur:parseInt(u.target.value)}),className:"w-full"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex justify-between text-xs",children:e.jsxs("span",{children:["Spread: ",d.spread,"px"]})}),e.jsx("input",{type:"range",min:"-10",max:"10",value:d.spread,onChange:u=>o({spread:parseInt(u.target.value)}),className:"w-full"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Color & Opacity"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"color",value:d.color,onChange:u=>o({color:u.target.value}),className:"w-12 h-8 rounded border cursor-pointer"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"flex justify-between text-xs",children:e.jsxs("span",{children:["Opacity: ",d.opacity,"%"]})}),e.jsx("input",{type:"range",min:"0",max:"100",value:d.opacity,onChange:u=>o({opacity:parseInt(u.target.value)}),className:"w-full"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Presets"}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>r(!a),className:"h-6 w-6 p-0",children:a?e.jsx(Ls,{className:"h-3 w-3"}):e.jsx(Qe,{className:"h-3 w-3"})})]}),a&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:jo.map((u,f)=>e.jsx("button",{className:"h-12 w-full bg-white rounded border hover:ring-2 hover:ring-blue-300 transition-all relative overflow-hidden",onClick:()=>s(u),title:`Shadow Preset ${f+1}`,children:e.jsx("div",{className:"absolute inset-2 bg-blue-400 rounded",style:{boxShadow:x(u)}})},f))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Advanced"}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>i(!l),className:"h-6 w-6 p-0",children:l?e.jsx(Ls,{className:"h-3 w-3"}):e.jsx(Qe,{className:"h-3 w-3"})})]}),l&&e.jsxs("div",{className:"space-y-3 p-3 bg-white rounded border",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"X Offset"}),e.jsx(ke,{type:"number",value:d.horizontal,onChange:u=>o({horizontal:parseInt(u.target.value)||0}),className:"h-8 text-xs"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Y Offset"}),e.jsx(ke,{type:"number",value:d.vertical,onChange:u=>o({vertical:parseInt(u.target.value)||0}),className:"h-8 text-xs"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Blur"}),e.jsx(ke,{type:"number",value:d.blur,onChange:u=>o({blur:parseInt(u.target.value)||0}),className:"h-8 text-xs"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Spread"}),e.jsx(ke,{type:"number",value:d.spread,onChange:u=>o({spread:parseInt(u.target.value)||0}),className:"h-8 text-xs"})]})]}),e.jsxs(k,{variant:"outline",size:"sm",onClick:()=>s(g),className:"w-full text-xs",children:[e.jsx(ut,{className:"h-3 w-3 mr-1"}),"Reset Shadow"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Tip:"})," Subtle shadows enhance button depth"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Outer:"})," Creates drop shadow effect"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Inner:"})," Creates pressed/inset effect"]})]})]})]})},Ha=[{name:"star",icon:Le,category:"general"},{name:"heart",icon:pr,category:"general"},{name:"home",icon:Ct,category:"general"},{name:"user",icon:ns,category:"general"},{name:"settings",icon:ss,category:"general"},{name:"search",icon:xs,category:"general"},{name:"mail",icon:Dn,category:"communication"},{name:"phone",icon:xr,category:"communication"},{name:"download",icon:Ln,category:"action"},{name:"upload",icon:St,category:"action"},{name:"play",icon:zn,category:"media"},{name:"pause",icon:$n,category:"media"},{name:"chevron-right",icon:rs,category:"navigation"},{name:"chevron-left",icon:As,category:"navigation"},{name:"arrow-right",icon:xa,category:"navigation"},{name:"arrow-left",icon:ga,category:"navigation"},{name:"plus",icon:Je,category:"action"},{name:"x",icon:Ue,category:"action"},{name:"check",icon:qe,category:"status"},{name:"info",icon:ht,category:"status"},{name:"alert-circle",icon:Qs,category:"status"},{name:"shopping-cart",icon:Jt,category:"ecommerce"},{name:"credit-card",icon:Xa,category:"ecommerce"},{name:"eye",icon:os,category:"interface"},{name:"eye-off",icon:ua,category:"interface"},{name:"lock",icon:gr,category:"security"},{name:"unlock",icon:Rn,category:"security"},{name:"calendar",icon:at,category:"time"},{name:"clock",icon:ta,category:"time"},{name:"map-pin",icon:hr,category:"location"},{name:"globe",icon:it,category:"location"},{name:"camera",icon:On,category:"media"},{name:"image",icon:ts,category:"media"},{name:"video",icon:_t,category:"media"},{name:"music",icon:Dt,category:"media"},{name:"file-text",icon:Ne,category:"file"},{name:"folder",icon:na,category:"file"},{name:"save",icon:nt,category:"action"},{name:"edit",icon:ar,category:"action"},{name:"trash-2",icon:Es,category:"action"},{name:"share",icon:Mn,category:"action"},{name:"copy",icon:pt,category:"action"},{name:"link",icon:Js,category:"action"},{name:"external-link",icon:It,category:"action"},{name:"menu",icon:Hs,category:"interface"},{name:"more-horizontal",icon:ca,category:"interface"},{name:"bell",icon:er,category:"communication"},{name:"chevron-down",icon:Qe,category:"navigation"},{name:"chevron-up",icon:Ls,category:"navigation"},{name:"refresh-cw",icon:ut,category:"action"},{name:"zap",icon:Fn,category:"general"},{name:"shield",icon:Ks,category:"security"},{name:"award",icon:Bn,category:"general"},{name:"target",icon:Un,category:"general"},{name:"bookmark",icon:qn,category:"general"},{name:"flag",icon:Kn,category:"general"},{name:"gift",icon:Vn,category:"general"},{name:"smile",icon:Gn,category:"social"},{name:"thumbs-up",icon:Hn,category:"social"},{name:"message-circle",icon:Wn,category:"communication"},{name:"send",icon:Jn,category:"communication"},{name:"mic",icon:Qn,category:"media"},{name:"mic-off",icon:Yn,category:"media"},{name:"volume-2",icon:Xn,category:"media"},{name:"volume-x",icon:Zn,category:"media"}],yo=["all","general","action","navigation","communication","media","interface","ecommerce","security","time","location","file","social","status"],vo=({currentIcon:t,buttonText:s,onIconChange:a})=>{const[r,l]=n.useState("all"),[i,g]=n.useState(""),[d,x]=n.useState(!1),h=t||{enabled:!1,iconName:"star",position:"left",size:16,gap:8},u=Ha.filter(c=>{const N=r==="all"||c.category===r,p=c.name.toLowerCase().includes(i.toLowerCase());return N&&p}),f=c=>{const N=Ha.find(p=>p.name===c);return N?N.icon:Le},v=c=>{const N={...h,...c};a(N)},w=()=>{v({enabled:!h.enabled})},m=c=>{v({iconName:c,enabled:!0}),x(!1)},y=f(h.iconName);return e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsx(E,{className:"text-sm font-medium",children:"Button Icon"})]}),e.jsx(k,{variant:h.enabled?"default":"outline",size:"sm",onClick:w,className:"h-8 px-3 text-xs",children:h.enabled?"Enabled":"Disabled"})]}),h.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Preview"}),e.jsx("div",{className:"p-4 bg-white rounded border",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded",style:{gap:`${h.gap}px`},children:[h.position==="left"&&e.jsx(y,{size:h.size,style:{color:h.color||"inherit"}}),e.jsx("span",{children:s||"Button Text"}),h.position==="right"&&e.jsx(y,{size:h.size,style:{color:h.color||"inherit"}})]})})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:h.iconName})]}),e.jsx(k,{variant:"outline",size:"sm",onClick:()=>x(!d),className:"text-xs",children:"Change Icon"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Position"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(k,{variant:h.position==="left"?"default":"outline",size:"sm",onClick:()=>v({position:"left"}),className:"flex-1 text-xs",children:[e.jsx(ga,{className:"h-3 w-3 mr-1"}),"Left"]}),e.jsxs(k,{variant:h.position==="right"?"default":"outline",size:"sm",onClick:()=>v({position:"right"}),className:"flex-1 text-xs",children:["Right",e.jsx(xa,{className:"h-3 w-3 ml-1"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Size: ",h.size,"px"]}),e.jsx("input",{type:"range",min:"12",max:"32",value:h.size,onChange:c=>v({size:parseInt(c.target.value)}),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"12px"}),e.jsx("span",{children:"32px"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Gap: ",h.gap,"px"]}),e.jsx("input",{type:"range",min:"4",max:"20",value:h.gap,onChange:c=>v({gap:parseInt(c.target.value)}),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"4px"}),e.jsx("span",{children:"20px"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"color",value:h.color||"#ffffff",onChange:c=>v({color:c.target.value}),className:"w-12 h-8 rounded border cursor-pointer"}),e.jsx(k,{variant:"outline",size:"sm",onClick:()=>v({color:void 0}),className:"text-xs",children:"Inherit"})]})]})]}),d&&e.jsxs("div",{className:"space-y-3 p-3 bg-white rounded border",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Search Icons"}),e.jsx(ke,{type:"text",placeholder:"Search icons...",value:i,onChange:c=>g(c.target.value),className:"h-8 text-xs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs font-medium text-gray-700",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:yo.map(c=>e.jsx(k,{variant:r===c?"default":"outline",size:"sm",onClick:()=>l(c),className:"h-6 px-2 text-xs capitalize",children:c},c))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-xs font-medium text-gray-700",children:["Icons (",u.length,")"]}),e.jsx("div",{className:"grid grid-cols-8 gap-2 max-h-48 overflow-y-auto",children:u.map(c=>{const N=c.icon;return e.jsx("button",{className:`
                          h-10 w-10 flex items-center justify-center rounded border hover:bg-gray-100 transition-colors
                          ${h.iconName===c.name?"bg-blue-100 border-blue-500":""}
                        `,onClick:()=>m(c.name),title:c.name,children:e.jsx(N,{size:16})},c.name)})})]}),e.jsx(k,{variant:"outline",size:"sm",onClick:()=>x(!1),className:"w-full text-xs",children:"Close Icon Picker"})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Tip:"})," Icons enhance button meaning and UX"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Position:"})," Left for actions, right for navigation"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Size:"})," Keep consistent with text size"]})]})]})]})},wo=({id:t,content:s,onChange:a,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,isSelected:x,onSelect:o,attributes:h={}})=>{const[u,f]=n.useState(h.text||"Click here"),[v,w]=n.useState(h.url||"#"),[m,y]=n.useState(!1),[c,N]=n.useState(!1),[p,j]=n.useState(!1),{text:b="Click here",url:C="#",style:S="fill",width:T=0,align:D="center",textColor:L="#ffffff",backgroundColor:W="#007cba",borderRadius:G=2,borderWidth:H=2,linkTarget:Y="",fontSize:ie=16,paddingX:ge=24,paddingY:A=12,gradientEnabled:q=!1,gradientType:K="linear",gradientAngle:je=45,gradientStops:fe=[{color:"#667eea",position:0},{color:"#764ba2",position:100}],gradientShape:ve="circle",gradientPosition:X="center",shadowEnabled:be=!1,shadowHorizontal:he=0,shadowVertical:Ce=2,shadowBlur:De=4,shadowSpread:Me=0,shadowColor:Fe="#000000",shadowOpacity:I=25,shadowInset:V=!1,iconEnabled:_=!1,iconName:Z="star",iconPosition:re="left",iconSize:pe=16,iconGap:B=8,iconColor:J}=h;n.useEffect(()=>{f(b),w(C)},[b,C]);const U=(z,oe)=>{a(s,{...h,[z]:oe})},ee=z=>{const oe=z.replace(/<[^>]*>/g,"");f(oe),U("text",oe)},_e=()=>{if(!q||!fe||fe.length<2)return"";const z=fe.sort((oe,Ae)=>oe.position-Ae.position).map(oe=>`${oe.color} ${oe.position}%`).join(", ");return K==="linear"?`linear-gradient(${je}deg, ${z})`:`radial-gradient(${ve||"circle"} at ${X||"center"}, ${z})`},Be=()=>{if(!be)return"none";const oe=((M,Pe)=>{const Ee=parseInt(M.slice(1,3),16),O=parseInt(M.slice(3,5),16),Ve=parseInt(M.slice(5,7),16);return`rgba(${Ee}, ${O}, ${Ve}, ${Pe/100})`})(Fe,I);return`${V?"inset ":""}${he}px ${Ce}px ${De}px ${Me}px ${oe}`},ae=()=>{if(!_||!Z)return null;const oe={star:Le,heart:Le,home:Le,user:Le,settings:ss,search:Le,mail:Le,phone:Le,download:Le,upload:Le,"arrow-right":Le,"arrow-left":Le,plus:Le,check:Le,x:Ue,"external-link":It,link:Yt}[Z]||Le;return e.jsx(oe,{size:pe,style:{color:J||"inherit",flexShrink:0}})},Se=()=>{const z={fontSize:`${ie}px`,paddingLeft:`${ge}px`,paddingRight:`${ge}px`,paddingTop:`${A}px`,paddingBottom:`${A}px`,borderRadius:`${G}px`,width:T?`${T}%`:"auto",boxShadow:Be()};return S==="fill"?(q&&fe&&fe.length>=2?z.background=_e():z.backgroundColor=W,z.color=L,z.border="none"):(z.backgroundColor="transparent",q&&fe&&fe.length>=2?(z.borderImage=`${_e()} 1`,z.borderImageSlice=1,z.borderWidth=`${H}px`,z.borderStyle="solid",z.color=fe[0]?.color||W):(z.color=W,z.border=`${H}px solid ${W}`)),z},R=()=>{switch(D){case"left":return"text-left";case"center":return"text-center";case"right":return"text-right";case"wide":return"w-full max-w-4xl mx-auto";case"full":return"w-full";default:return"text-center"}};return e.jsxs(e.Fragment,{children:[x&&e.jsxs(ka,{children:[e.jsxs(ps,{children:[e.jsx(Ke,{icon:e.jsx(Yt,{className:"h-4 w-4"}),label:"Edit Link",onClick:()=>{const z=prompt("Enter URL:",v);z!==null&&(w(z),U("url",z))}}),v&&v!=="#"&&e.jsx(Ke,{icon:e.jsx(It,{className:"h-4 w-4"}),label:"Open in New Tab",isActive:Y==="_blank",onClick:()=>{U("linkTarget",Y==="_blank"?"":"_blank"),Y!=="_blank"&&U("rel","noopener noreferrer")}})]}),e.jsxs(ps,{children:[e.jsx(Ke,{icon:e.jsx(ys,{className:"h-4 w-4"}),label:"Align left",isActive:D==="left",onClick:()=>U("align","left")}),e.jsx(Ke,{icon:e.jsx(_s,{className:"h-4 w-4"}),label:"Align center",isActive:D==="center",onClick:()=>U("align","center")}),e.jsx(Ke,{icon:e.jsx(Ds,{className:"h-4 w-4"}),label:"Align right",isActive:D==="right",onClick:()=>U("align","right")}),e.jsx(Ke,{icon:e.jsx(lt,{className:"h-4 w-4"}),label:"Full width",isActive:D==="full",onClick:()=>U("align",D==="full"?"center":"full")})]}),e.jsx(ps,{children:e.jsx(Ke,{icon:e.jsx(Gs,{className:"h-4 w-4"}),label:"Gradient Background",isActive:q,onClick:()=>U("gradientEnabled",!q)})})]}),e.jsxs(tt,{id:t,type:"button",isSelected:x,onSelect:o,onDelete:r,onDuplicate:l,onMoveUp:i,onMoveDown:g,onAddBlock:d,className:"wp-block wp-block-button",customToolbarContent:x?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(k,{variant:S==="fill"?"default":"outline",size:"sm",onClick:()=>U("style","fill"),className:"h-7 px-3 text-xs",children:"Fill"}),e.jsx(k,{variant:S==="outline"?"default":"outline",size:"sm",onClick:()=>U("style","outline"),className:"h-7 px-3 text-xs",children:"Outline"})]}),e.jsx("div",{className:"w-px h-4 bg-gray-300"}),e.jsxs(k,{variant:m?"default":"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>y(!m),children:[e.jsx(Gs,{className:"h-3 w-3 mr-1"}),"Gradient"]}),e.jsxs(k,{variant:c?"default":"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>N(!c),children:[e.jsx(la,{className:"h-3 w-3 mr-1"}),"Shadow"]}),e.jsxs(k,{variant:p?"default":"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>j(!p),children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),"Icon"]}),q&&e.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Gradient On"}),be&&e.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Shadow On"}),_&&e.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Icon On"})]}):null,children:[e.jsx("div",{className:$("wp-block-button__wrapper",R()),children:e.jsx("div",{className:"wp-block-button__link-wrapper inline-block",children:e.jsxs("div",{className:$("wp-block-button__link","inline-flex items-center cursor-pointer transition-all","hover:opacity-90"),style:{...Se(),gap:_?`${B}px`:void 0},children:[_&&re==="left"&&ae(),e.jsx($r,{tagName:"span",value:u,onChange:ee,placeholder:"Add text...",className:"outline-none",allowedFormats:["core/bold","core/italic"],style:{background:"none",border:"none",padding:0}}),_&&re==="right"&&ae()]})})}),x&&m&&e.jsx("div",{className:"mt-4",children:e.jsx(fo,{currentGradient:q?{type:K,angle:je,stops:fe,shape:ve,position:X}:void 0,isEnabled:q,onGradientChange:z=>{z?(U("gradientType",z.type),U("gradientAngle",z.angle),U("gradientStops",z.stops),U("gradientShape",z.shape),U("gradientPosition",z.position)):U("gradientEnabled",!1)},onToggleGradient:z=>U("gradientEnabled",z)})}),x&&c&&e.jsx("div",{className:"mt-4",children:e.jsx(bo,{currentShadow:{enabled:be,horizontal:he,vertical:Ce,blur:De,spread:Me,color:Fe,opacity:I,inset:V},onShadowChange:z=>{U("shadowEnabled",z.enabled),U("shadowHorizontal",z.horizontal),U("shadowVertical",z.vertical),U("shadowBlur",z.blur),U("shadowSpread",z.spread),U("shadowColor",z.color),U("shadowOpacity",z.opacity),U("shadowInset",z.inset)}})}),x&&p&&e.jsx("div",{className:"mt-4",children:e.jsx(vo,{currentIcon:{enabled:_,iconName:Z,position:re,size:pe,gap:B,color:J},buttonText:u,onIconChange:z=>{U("iconEnabled",z.enabled),U("iconName",z.iconName),U("iconPosition",z.position),U("iconSize",z.size),U("iconGap",z.gap),U("iconColor",z.color)}})})]})]})},No=({id:t,type:s,children:a,isSelected:r,onSelect:l,onDelete:i,onDuplicate:g,onMoveUp:d,onMoveDown:x,onAddBlock:o,isDragging:h=!1,canMoveUp:u=!0,canMoveDown:f=!0,className:v,onDragStart:w,onDragOver:m,onDrop:y,onDragEnd:c})=>{const[N,p]=n.useState(!1),j=n.useRef(null);return n.useEffect(()=>{if(r&&j.current){const b=j.current.querySelector("[contenteditable], input, textarea, button");b instanceof HTMLElement&&b.focus()}},[r]),n.useEffect(()=>{if(!r)return;const b=C=>{if(C.altKey&&C.shiftKey)switch(C.key){case"ArrowUp":C.preventDefault(),d();break;case"ArrowDown":C.preventDefault(),x();break;case"d":C.preventDefault(),g();break}C.key==="Delete"&&C.shiftKey&&(C.preventDefault(),i()),C.key==="Enter"&&C.ctrlKey&&(C.preventDefault(),o?.("after"))};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r,d,x,g,i,o]),e.jsxs("div",{ref:j,"data-block-id":t,"data-block-type":s,className:$("block-wrapper group relative transition-all duration-200",r&&"ring-2 ring-blue-500 ring-offset-1 bg-blue-50 rounded-sm",N&&!r&&"ring-1 ring-gray-300 rounded-sm",h&&"opacity-50",v),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:b=>{b.stopPropagation(),l()},children:[r&&e.jsxs("div",{className:"absolute -top-10 left-0 flex items-center gap-1 bg-white border border-gray-200 rounded-md shadow-md p-1 z-50",children:[e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:b=>{b.stopPropagation(),d()},disabled:!u,title:"Move up (Alt+Shift+↑)",children:e.jsx(ei,{className:"h-3 w-3"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:b=>{b.stopPropagation(),x()},disabled:!f,title:"Move down (Alt+Shift+↓)",children:e.jsx(si,{className:"h-3 w-3"})}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:b=>{b.stopPropagation(),g()},title:"Duplicate block (Alt+Shift+D)",children:e.jsx(pt,{className:"h-3 w-3"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:text-red-600",onClick:b=>{b.stopPropagation(),i()},title:"Delete block (Shift+Delete)",children:e.jsx(Es,{className:"h-3 w-3"})}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx("div",{className:"cursor-move p-1 hover:bg-gray-100 rounded",draggable:!0,onDragStart:b=>{b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("blockId",t),w?.()},onDragEnd:c,title:"Drag to move block",children:e.jsx(pa,{className:"h-3 w-3"})})]}),N&&!r&&e.jsx("button",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white rounded-full p-1 opacity-0 hover:opacity-100 transition-opacity z-40",onClick:b=>{b.stopPropagation(),o?.("before")},title:"Add block before",children:e.jsx(Je,{className:"h-3 w-3"})}),e.jsx("div",{className:"block-content",children:a}),N&&!r&&e.jsx("button",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white rounded-full p-1 opacity-0 hover:opacity-100 transition-opacity z-40",onClick:b=>{b.stopPropagation(),o?.("after")},title:"Add block after",children:e.jsx(Je,{className:"h-3 w-3"})})]})},ko=({id:t,onChange:s,onDelete:a,onDuplicate:r,onMoveUp:l,onMoveDown:i,onAddBlock:g,isSelected:d,onSelect:x,attributes:o={}})=>{const{columns:h=[{id:"1",width:50,content:[]},{id:"2",width:50,content:[]}],verticalAlignment:u="top",isStackedOnMobile:f=!0,gap:v=20,minHeight:w=0,backgroundColor:m="",padding:y=0}=o,[c,N]=n.useState(h),[p,j]=n.useState(null);n.useEffect(()=>{N(h)},[h]);const b=(L,W)=>{s("",{...o,[L]:W})},C=L=>{N(L),b("columns",L),b("columnCount",L.length)},S=()=>{const L={id:Date.now().toString(),width:Math.floor(100/(c.length+1)),content:[]},W=c.length+1,G=Math.floor(100/W),H=c.map(Y=>({...Y,width:G}));C([...H,{...L,width:G}])},T=L=>{if(c.length<=1)return;const W=c.filter(Y=>Y.id!==L),G=Math.floor(100/W.length),H=W.map(Y=>({...Y,width:G}));C(H),j(null)},D=()=>{switch(u){case"center":return"items-center";case"bottom":return"items-end";default:return"items-start"}};return e.jsxs(e.Fragment,{children:[d&&e.jsxs(ka,{children:[e.jsxs(ps,{children:[e.jsx(Ke,{icon:e.jsx(Je,{className:"h-4 w-4"}),label:"Add Column",onClick:S}),p&&e.jsx(Ke,{icon:e.jsx(Es,{className:"h-4 w-4"}),label:"Remove Column",onClick:()=>T(p)})]}),e.jsxs(ps,{children:[e.jsx(Ke,{icon:e.jsx(We,{className:"h-4 w-4 rotate-90"}),label:"Align top",isActive:u==="top",onClick:()=>b("verticalAlignment","top")}),e.jsx(Ke,{icon:e.jsx(We,{className:"h-4 w-4"}),label:"Align center",isActive:u==="center",onClick:()=>b("verticalAlignment","center")}),e.jsx(Ke,{icon:e.jsx(We,{className:"h-4 w-4 rotate-90"}),label:"Align bottom",isActive:u==="bottom",onClick:()=>b("verticalAlignment","bottom")})]})]}),e.jsx(No,{id:t,type:"columns",isSelected:d,onSelect:x,onDelete:a,onDuplicate:r,onMoveUp:l,onMoveDown:i,onAddBlock:g,className:"wp-block wp-block-columns",children:e.jsx("div",{className:$("wp-block-columns__wrapper","flex",f&&"flex-col md:flex-row",D()),style:{gap:`${v}px`,minHeight:w?`${w}px`:void 0,backgroundColor:m||void 0,padding:y?`${y}px`:void 0},children:c.map((L,W)=>e.jsxs("div",{className:$("wp-block-column","flex-1 border-2 border-dashed rounded",p===L.id?"border-blue-500 bg-blue-50":"border-gray-300","p-4 min-h-[100px] cursor-pointer transition-all"),style:{flex:`0 0 ${L.width}%`,maxWidth:`${L.width}%`},onClick:G=>{G.stopPropagation(),j(L.id)},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-200",children:[e.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Column ",W+1," (",L.width,"%)"]}),e.jsx("button",{className:"text-gray-400 hover:text-red-500 transition-colors",onClick:G=>{G.stopPropagation(),T(L.id)},children:e.jsx(Es,{className:"h-3 w-3"})})]}),e.jsx("div",{className:"min-h-[60px] flex items-center justify-center text-gray-400",children:L.content.length>0?e.jsx("div",{className:"w-full",children:L.content.map(G=>e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"p-2 bg-gray-100 rounded text-sm",children:[G.type," block"]})},G.id))}):e.jsxs("div",{className:"text-center",children:[e.jsx(Je,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Add blocks here"})]})})]},L.id))})})]})},Co=n.lazy(()=>le(()=>import("./ImageBlockSettings-BRLuyuSF.js"),__vite__mapDeps([4,1,5,6,7,8,9]))),So=n.lazy(()=>le(()=>import("./ButtonBlockSettings-BjPWARGC.js"),__vite__mapDeps([10,1,5,6,7,8,9]))),Io=n.lazy(()=>le(()=>import("./GalleryBlockSettings-BUh2uzYh.js"),__vite__mapDeps([11,1,5,6,7,8,9]))),To=n.lazy(()=>le(()=>import("./CoverBlockSettings-DXIgHenZ.js"),__vite__mapDeps([12,1,5,6,7,8,9]))),Po=({block:t,onBlockSettingsChange:s})=>{if(!t)return e.jsx("div",{className:"p-4 text-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"Select a block to see its settings"})});const a=t.type?.replace("o4o/","").replace("core/",""),r=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Block Info"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[e.jsx("p",{className:"text-sm font-medium",children:t.type}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Block ID: ",t.id]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Advanced"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"CSS Class"}),e.jsx(ke,{placeholder:"custom-class",value:t.attributes?.className||"",onChange:i=>s?.({attributes:{...t.attributes,className:i.target.value}})})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"HTML Anchor"}),e.jsx(ke,{placeholder:"anchor-id",value:t.attributes?.anchor||"",onChange:i=>s?.({attributes:{...t.attributes,anchor:i.target.value}})})]})]})]})]}),l=()=>{switch(a){case"image":return e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading settings..."}),children:e.jsx(Co,{settings:t.attributes||{},onChange:i=>s?.({attributes:i})})});case"button":return e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading settings..."}),children:e.jsx(So,{settings:t.attributes||{},onChange:i=>s?.({attributes:i})})});case"gallery":return e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading settings..."}),children:e.jsx(Io,{settings:t.attributes||{},onChange:i=>s?.({attributes:i})})});case"cover":return e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading settings..."}),children:e.jsx(To,{settings:t.attributes||{},onChange:i=>s?.({attributes:i})})});case"heading":return e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Typography"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Level"}),e.jsxs(ze,{value:t.attributes?.level||"h2",onValueChange:i=>s?.({attributes:{...t.attributes,level:i}}),children:[e.jsx($e,{children:e.jsx(Re,{})}),e.jsxs(Oe,{children:[e.jsx(Q,{value:"h1",children:"H1"}),e.jsx(Q,{value:"h2",children:"H2"}),e.jsx(Q,{value:"h3",children:"H3"}),e.jsx(Q,{value:"h4",children:"H4"}),e.jsx(Q,{value:"h5",children:"H5"}),e.jsx(Q,{value:"h6",children:"H6"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Alignment"}),e.jsx("div",{className:"flex gap-1",children:["left","center","right","justify"].map(i=>e.jsxs(k,{variant:t.attributes?.align===i?"default":"outline",size:"sm",onClick:()=>s?.({attributes:{...t.attributes,align:i}}),title:i,children:[i==="left"&&e.jsx(ys,{className:"h-4 w-4"}),i==="center"&&e.jsx(_s,{className:"h-4 w-4"}),i==="right"&&e.jsx(Ds,{className:"h-4 w-4"}),i==="justify"&&e.jsx(lt,{className:"h-4 w-4"})]},i))})]})]})]});case"paragraph":return e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Typography"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Drop Cap"}),e.jsx("input",{type:"checkbox",checked:t.attributes?.dropCap||!1,onChange:i=>s?.({attributes:{...t.attributes,dropCap:i.target.checked}}),className:"ml-2"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Alignment"}),e.jsx("div",{className:"flex gap-1",children:["left","center","right","justify"].map(i=>e.jsxs(k,{variant:t.attributes?.align===i?"default":"outline",size:"sm",onClick:()=>s?.({attributes:{...t.attributes,align:i}}),title:i,children:[i==="left"&&e.jsx(ys,{className:"h-4 w-4"}),i==="center"&&e.jsx(_s,{className:"h-4 w-4"}),i==="right"&&e.jsx(Ds,{className:"h-4 w-4"}),i==="justify"&&e.jsx(lt,{className:"h-4 w-4"})]},i))})]})]})]});case"list":return e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"List Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"List Type"}),e.jsxs(ze,{value:t.attributes?.ordered?"ordered":"unordered",onValueChange:i=>s?.({attributes:{...t.attributes,ordered:i==="ordered"}}),children:[e.jsx($e,{children:e.jsx(Re,{})}),e.jsxs(Oe,{children:[e.jsx(Q,{value:"unordered",children:"Unordered (•)"}),e.jsx(Q,{value:"ordered",children:"Ordered (1.)"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Start Value (for ordered lists)"}),e.jsx(ke,{type:"number",min:"1",value:t.attributes?.start||1,onChange:i=>s?.({attributes:{...t.attributes,start:parseInt(i.target.value)||1}}),disabled:!t.attributes?.ordered})]})]})]});case"quote":return e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Quote Settings"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Citation"}),e.jsx(ke,{placeholder:"Citation source",value:t.attributes?.citation||"",onChange:i=>s?.({attributes:{...t.attributes,citation:i.target.value}})})]})})]});case"code":return e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Code Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Language"}),e.jsxs(ze,{value:t.attributes?.language||"javascript",onValueChange:i=>s?.({attributes:{...t.attributes,language:i}}),children:[e.jsx($e,{children:e.jsx(Re,{})}),e.jsxs(Oe,{children:[e.jsx(Q,{value:"javascript",children:"JavaScript"}),e.jsx(Q,{value:"typescript",children:"TypeScript"}),e.jsx(Q,{value:"python",children:"Python"}),e.jsx(Q,{value:"html",children:"HTML"}),e.jsx(Q,{value:"css",children:"CSS"}),e.jsx(Q,{value:"json",children:"JSON"}),e.jsx(Q,{value:"sql",children:"SQL"}),e.jsx(Q,{value:"bash",children:"Bash"}),e.jsx(Q,{value:"plaintext",children:"Plain Text"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Show Line Numbers"}),e.jsx("input",{type:"checkbox",checked:t.attributes?.showLineNumbers||!1,onChange:i=>s?.({attributes:{...t.attributes,showLineNumbers:i.target.checked}}),className:"ml-2"})]})]})]});case"video":return e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Video Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Autoplay"}),e.jsx("input",{type:"checkbox",checked:t.attributes?.autoplay||!1,onChange:i=>s?.({attributes:{...t.attributes,autoplay:i.target.checked}}),className:"ml-2"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Loop"}),e.jsx("input",{type:"checkbox",checked:t.attributes?.loop||!1,onChange:i=>s?.({attributes:{...t.attributes,loop:i.target.checked}}),className:"ml-2"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Muted"}),e.jsx("input",{type:"checkbox",checked:t.attributes?.muted||!1,onChange:i=>s?.({attributes:{...t.attributes,muted:i.target.checked}}),className:"ml-2"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Show Controls"}),e.jsx("input",{type:"checkbox",checked:t.attributes?.controls!==!1,onChange:i=>s?.({attributes:{...t.attributes,controls:i.target.checked}}),className:"ml-2"})]})]})]});default:return e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Block Settings"}),e.jsxs("div",{className:"p-4 text-sm text-gray-600",children:["No specific settings available for ",a," block."]})]})}};return e.jsxs("div",{className:"space-y-4 p-4",children:[l(),r()]})},Ca=n.createContext(null),Rr=n.forwardRef(({open:t,defaultOpen:s=!1,onOpenChange:a,children:r,className:l,...i},g)=>{const[d,x]=n.useState(s),o=t??d,h=u=>{t===void 0&&x(u),a?.(u)};return e.jsx(Ca.Provider,{value:{open:o,onOpenChange:h},children:e.jsx("div",{ref:g,className:l,...i,children:r})})}),Or=n.forwardRef(({onClick:t,...s},a)=>{const r=n.useContext(Ca);if(!r)throw new Error("CollapsibleTrigger must be used within Collapsible");return e.jsx("button",{ref:a,onClick:l=>{t?.(l),r.onOpenChange(!r.open)},"aria-expanded":r.open,...s})}),Mr=n.forwardRef(({className:t,style:s,children:a,...r},l)=>{const i=n.useContext(Ca);if(!i)throw new Error("CollapsibleContent must be used within Collapsible");return i.open?e.jsx("div",{ref:l,className:$("overflow-hidden","data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up",t),"data-state":i.open?"open":"closed",style:{...s},...r,children:a}):null});Rr.displayName="Collapsible";Or.displayName="CollapsibleTrigger";Mr.displayName="CollapsibleContent";const Ns=({title:t,defaultOpen:s=!0,children:a})=>{const[r,l]=n.useState(s);return e.jsxs(Rr,{open:r,onOpenChange:l,children:[e.jsxs(Or,{className:"flex items-center justify-between w-full p-4 hover:bg-gray-50 transition-colors",children:[e.jsx("h3",{className:"font-medium text-sm",children:t}),r?e.jsx(Qe,{className:"h-4 w-4 text-gray-500"}):e.jsx(rs,{className:"h-4 w-4 text-gray-500"})]}),e.jsx(Mr,{className:"px-4 pb-4",children:a})]})},Fr=({activeTab:t="document",postSettings:s,blockSettings:a,onPostSettingsChange:r,onBlockSettingsChange:l,onTabChange:i,onClose:g})=>{const[d,x]=n.useState(""),[o,h]=n.useState(!1),[u,f]=n.useState(""),v=[{id:"1",name:"News",slug:"news"},{id:"2",name:"Tutorials",slug:"tutorials"},{id:"3",name:"Updates",slug:"updates"},{id:"4",name:"Announcements",slug:"announcements"}],w=()=>{d.trim()&&(r({tags:[...s.tags,d.trim()]}),x(""))},m=c=>{r({tags:s.tags.filter(N=>N!==c)})},y=c=>{const N=s.categories.includes(c);r(N?{categories:s.categories.filter(p=>p!==c)}:{categories:[...s.categories,c]})};return e.jsxs("div",{className:"w-80 h-full bg-white border-l flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx(fa,{value:t,onValueChange:c=>i?.(c),className:"w-full",children:e.jsxs(ja,{className:"grid w-full grid-cols-2",children:[e.jsxs(Ys,{value:"document",className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Document"]}),e.jsxs(Ys,{value:"block",className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),"Block"]})]})}),g&&e.jsx(k,{variant:"ghost",size:"icon",className:"ml-2",onClick:g,children:e.jsx(Ue,{className:"h-4 w-4"})})]}),e.jsx(ct,{className:"flex-1",children:t==="document"?e.jsxs("div",{className:"w-full",children:[e.jsx(Ns,{title:"Status & visibility",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Visibility"}),e.jsxs(ze,{value:s.visibility,onValueChange:c=>r({visibility:c}),children:[e.jsx($e,{className:"w-full mt-1",children:e.jsx(Re,{})}),e.jsxs(Oe,{children:[e.jsx(Q,{value:"public",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(it,{className:"h-4 w-4"}),"Public"]})}),e.jsx(Q,{value:"private",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gr,{className:"h-4 w-4"}),"Private"]})}),e.jsx(Q,{value:"password",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4"}),"Password protected"]})})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs",children:"Publish"}),e.jsx(ke,{type:"datetime-local",value:s.publishDate?s.publishDate.replace("Z","").slice(0,16):"",onChange:c=>r({publishDate:c.target.value}),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{htmlFor:"sticky",className:"text-xs",children:"Stick to the top of the blog"}),e.jsx(Mt,{id:"sticky",checked:s.sticky,onCheckedChange:c=>r({sticky:c})})]})]})}),e.jsx(Ns,{title:"Permalink",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-xs",children:"URL Slug"}),e.jsxs("div",{className:"relative min-w-[200px]",children:[e.jsx(ke,{value:s.slug||"",onChange:c=>{const p=c.target.value.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");r({slug:p,slugError:!1})},placeholder:"post-url-slug",className:`min-w-[200px] w-full flex-shrink-0 ${s.slugError?"border-red-500 bg-red-50":""}`,style:{minWidth:"200px"}}),s.slugError&&e.jsxs("div",{className:"absolute -bottom-5 left-0 flex items-center gap-1 text-xs text-red-600",children:[e.jsx(Qs,{className:"h-3 w-3"}),e.jsx("span",{children:s.slug?"This slug is already in use. Please choose another.":"⚠️ Slug가 비어있습니다. 한글 제목은 수동으로 slug를 입력해야 합니다."})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-6",children:["The last part of the URL. Read more about ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"permalinks"})]}),s.slug&&e.jsxs("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:[e.jsx(it,{className:"h-3 w-3 inline mr-1"}),"Preview: /posts/",s.slug]})]})}),e.jsx(Ns,{title:"Categories",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(k,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>h(!o),children:[e.jsx(xs,{className:"h-4 w-4 mr-2"}),"Search categories"]}),o&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-md shadow-lg z-10",children:e.jsx(ke,{autoFocus:!0,placeholder:"Search...",value:u,onChange:c=>f(c.target.value),className:"border-0 focus-visible:ring-0"})})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:v.filter(c=>c.name.toLowerCase().includes(u.toLowerCase())).map(c=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[e.jsx("input",{type:"checkbox",checked:s.categories.includes(c.id),onChange:()=>y(c.id),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm",children:c.name})]},c.id))}),e.jsxs(k,{variant:"link",size:"sm",className:"p-0 h-auto",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),"Add New Category"]})]})}),e.jsx(Ns,{title:"Tags",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ke,{placeholder:"Add new tag",value:d,onChange:c=>x(c.target.value),onKeyPress:c=>{c.key==="Enter"&&(c.preventDefault(),w())}}),e.jsx(k,{size:"sm",onClick:w,children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(c=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-md text-sm",children:[c,e.jsx("button",{onClick:()=>m(c),className:"hover:text-red-600",children:e.jsx(Ue,{className:"h-3 w-3"})})]},c))})]})}),e.jsx(Ns,{title:"Featured image",children:e.jsx("div",{className:"space-y-3",children:s.featuredImage?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s.featuredImage,alt:"Featured",className:"w-full rounded-md"}),e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md flex items-center justify-center gap-2",children:[e.jsx(k,{size:"sm",variant:"secondary",children:"Replace"}),e.jsx(k,{size:"sm",variant:"secondary",onClick:()=>r({featuredImage:void 0}),children:"Remove"})]})]}):e.jsxs(k,{variant:"outline",className:"w-full",children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Set featured image"]})})}),e.jsx(Ns,{title:"Excerpt",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(vr,{placeholder:"Write an excerpt (optional)",value:s.excerpt,onChange:c=>r({excerpt:c.target.value}),rows:4}),e.jsx("p",{className:"text-xs text-gray-500",children:"Write an excerpt (optional)"})]})}),e.jsx(Ns,{title:"Discussion",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{htmlFor:"comments",className:"text-xs",children:"Allow comments"}),e.jsx(Mt,{id:"comments",checked:s.commentStatus,onCheckedChange:c=>r({commentStatus:c})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{htmlFor:"pingbacks",className:"text-xs",children:"Allow pingbacks & trackbacks"}),e.jsx(Mt,{id:"pingbacks",checked:s.pingStatus,onCheckedChange:c=>r({pingStatus:c})})]})]})})]}):e.jsx("div",{className:"w-full",children:e.jsx(Po,{block:a,onBlockSettingsChange:l})})})]})},Ao=({documentTitle:t="",initialBlocks:s=[],onChange:a,onTitleChange:r,onSave:l,onPublish:i,slug:g="",postSettings:d,onPostSettingsChange:x})=>{const[o,h]=n.useState(()=>s.length>0?s:[{id:`block-${Date.now()}`,type:"core/paragraph",content:{text:""},attributes:{}}]),[u,f]=n.useState(null),[v,w]=n.useState(t),[m,y]=n.useState(!0),[c,N]=n.useState(!1),[p,j]=n.useState([o]),[b,C]=n.useState(0),[S,T]=n.useState(!1);n.useEffect(()=>{s&&s.length>0&&(h(s),j([s]),C(0),T(!1))},[s]),n.useEffect(()=>{w(t)},[t]),n.useEffect(()=>{d&&I(P=>({...P,...d}))},[d]);const[D,L]=n.useState(!1),[W,G]=n.useState(null),[H,Y]=n.useState(null),[ie,ge]=n.useState(null),[A,q]=n.useState(null),[K,je]=n.useState(!1),[fe,ve]=n.useState(!1),[X,be]=n.useState(!0),[he,Ce]=n.useState("document"),[De,Me]=n.useState(null),[Fe,I]=n.useState({status:"draft",visibility:"public",publishDate:new Date().toISOString().slice(0,16),author:"Admin User",featuredImage:void 0,excerpt:"",slugError:!1,categories:[],tags:[],template:"default",commentStatus:!0,pingStatus:!0,sticky:!1,format:"standard",...d,slug:d?.slug||g||""}),V=Xs();n.useEffect(()=>{wr().catch(P=>{})},[]),n.useEffect(()=>{const P=d?.slug||g||"";P!==Fe.slug&&I(F=>({...F,slug:P}))},[d?.slug,g]),n.useEffect(()=>{if(u){const P=o.find(F=>F.id===u);Me(P||null)}else Me(null)},[u,o]);const _=n.useCallback((P,F="info")=>{q({message:P,type:F}),setTimeout(()=>q(null),3e3)},[]),Z=n.useCallback((P,F=!1)=>{h(P),T(!0);const ce=p.slice(0,b+1);ce.push(P),j(ce),C(ce.length-1),F||a?.(P)},[p,b,a]),re=n.useCallback(()=>{if(b>0){const P=b-1;C(P),h(p[P])}},[p,b]),pe=n.useCallback(()=>{if(b<p.length-1){const P=b+1;C(P),h(p[P])}},[p,b]),B=n.useCallback((P,F,ce)=>{const de=o.map(ne=>ne.id===P?{...ne,content:typeof F=="string"?{text:F}:F,attributes:ce||ne.attributes}:ne);Z(de)},[o,Z]),J=n.useCallback(P=>{const F=o.filter(ce=>ce.id!==P);F.length===0&&F.push({id:`block-${Date.now()}`,type:"core/paragraph",content:{text:""},attributes:{}}),Z(F),f(null)},[o,Z]),U=n.useCallback(P=>{const F=o.find(ce=>ce.id===P);if(F){ge({...F});const ce=JSON.stringify(F);navigator.clipboard.writeText(ce).catch(()=>{})}},[o]),ee=n.useCallback(P=>{if(ie){const F={...ie,id:`block-${Date.now()}`};if(P){const ce=o.findIndex(ne=>ne.id===P),de=[...o];de.splice(ce+1,0,F),Z(de)}else Z([...o,F]);f(F.id)}},[o,ie,Z]),_e=n.useCallback(P=>{const F={id:`block-${Date.now()}`,type:P,content:P.includes("heading")?{text:"",level:2}:{text:""},attributes:{}},ce=u?o.findIndex(ne=>ne.id===u)+1:o.length,de=[...o];de.splice(ce,0,F),Z(de),f(F.id),y(!1)},[o,u,Z]),Be=n.useCallback((P,F,ce="core/paragraph")=>{const de=o.findIndex(ws=>ws.id===P),ne={id:`block-${Date.now()}`,type:ce,content:{text:""},attributes:{}},Ie=[...o],zs=F==="after"?de+1:de;Ie.splice(zs,0,ne),Z(Ie),f(ne.id)},[o,Z]),ae=n.useCallback(async()=>{try{if(l){await l(),T(!1),_("Draft saved","success");return}_("Saving draft...","info");const P=await rt.saveDraft({title:v,content:o,status:"draft"});P.success?(T(!1),_("Draft saved successfully","success")):_(P.error||"Failed to save draft","error")}catch{_("Failed to save draft. Please try again.","error")}},[v,o,l,_]),Se=n.useCallback(async()=>{try{if(i){await i(),T(!1),_("Published successfully","success");return}_("Publishing post...","info");const P=await rt.create({title:v,content:o,status:"published"});P.success&&P.data?(T(!1),_("Post published successfully!","success")):_(P.error||"Failed to publish post","error")}catch{_("Failed to publish post. Please try again.","error")}},[v,o,i,_]),R=n.useCallback(()=>{N(!c),c?document.exitFullscreen?.():document.documentElement.requestFullscreen?.()},[c]),z=n.useCallback(()=>{L(!D)},[D]),oe=n.useCallback(P=>{G(P)},[]),Ae=n.useCallback((P,F)=>{P.preventDefault(),Y(F)},[]),M=n.useCallback((P,F)=>{if(P.preventDefault(),!W||W===F){G(null),Y(null);return}const ce=o.findIndex(ws=>ws.id===W),de=o.findIndex(ws=>ws.id===F);if(ce===-1||de===-1){G(null),Y(null);return}const ne=[...o],[Ie]=ne.splice(ce,1),zs=(ce<de,de);ne.splice(zs,0,Ie),Z(ne),G(null),Y(null)},[W,o,Z]),Pe=n.useCallback(()=>{G(null),Y(null)},[]),Ee=n.useCallback(()=>{const P={title:v,blocks:o};sessionStorage.setItem("previewContent",JSON.stringify(P)),window.open("/admin/preview","_blank")},[v,o]),O=n.useCallback(()=>{S&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||V("/admin")},[S,V]);n.useEffect(()=>{const P=F=>{if((F.ctrlKey||F.metaKey)&&F.key==="s"&&(F.preventDefault(),ae()),(F.ctrlKey||F.metaKey)&&F.key==="z"&&!F.shiftKey&&(F.preventDefault(),re()),(F.ctrlKey||F.metaKey)&&F.shiftKey&&F.key==="z"&&(F.preventDefault(),pe()),F.key==="/"&&document.activeElement?.tagName!=="INPUT"&&document.activeElement?.tagName!=="TEXTAREA"&&(F.preventDefault(),y(!m)),F.key==="Delete"&&u&&!F.shiftKey){const ce=F.target;!ce.isContentEditable&&ce.tagName!=="INPUT"&&ce.tagName!=="TEXTAREA"&&(F.preventDefault(),J(u))}if(F.key==="Tab"&&!F.ctrlKey&&!F.metaKey)if(F.preventDefault(),u){const ce=o.findIndex(de=>de.id===u);F.shiftKey?ce>0&&f(o[ce-1].id):ce<o.length-1&&f(o[ce+1].id)}else o.length>0&&f(o[0].id)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[ae,re,pe,m,u,o,J]);const Ve=n.useCallback((P,F)=>{const ce=o.map(de=>{if(de.id===P){if(F.startsWith("core/heading-")){const ne=parseInt(F.replace("core/heading-h",""));return{...de,type:"core/heading",content:{text:typeof de.content=="string"?de.content:de.content?.text||"",level:ne},attributes:de.attributes||{}}}if(F==="core/paragraph")return{...de,type:"core/paragraph",content:{text:typeof de.content=="string"?de.content:de.content?.text||""},attributes:de.attributes||{}}}return de});Z(ce)},[o,Z]),cs=n.useCallback(P=>{Z(P),f(null),_("템플릿이 적용되었습니다!","success")},[Z,_]),Ye=P=>{const F={id:P.id,content:typeof P.content=="string"?P.content:P.content?.text||"",onChange:(ne,Ie)=>B(P.id,ne,Ie),onDelete:()=>J(P.id),onDuplicate:()=>{const ne={...P,id:`block-${Date.now()}`},Ie=o.findIndex(ws=>ws.id===P.id),zs=[...o];zs.splice(Ie+1,0,ne),Z(zs)},onMoveUp:()=>{const ne=o.findIndex(Ie=>Ie.id===P.id);if(ne>0){const Ie=[...o];[Ie[ne-1],Ie[ne]]=[Ie[ne],Ie[ne-1]],Z(Ie)}},onMoveDown:()=>{const ne=o.findIndex(Ie=>Ie.id===P.id);if(ne<o.length-1){const Ie=[...o];[Ie[ne],Ie[ne+1]]=[Ie[ne+1],Ie[ne]],Z(Ie)}},onAddBlock:(ne,Ie)=>Be(P.id,ne,Ie),isSelected:u===P.id,onSelect:()=>f(P.id),attributes:P.attributes||{},isDragging:W===P.id,onDragStart:()=>oe(P.id),onDragOver:ne=>Ae(ne,P.id),onDrop:ne=>M(ne,P.id),onDragEnd:Pe,onCopy:()=>U(P.id),onPaste:()=>ee(P.id),onChangeType:ne=>Ve(P.id,ne)},ce=o.findIndex(ne=>ne.id===P.id),de={...F,canMoveUp:ce>0,canMoveDown:ce<o.length-1};switch(P.type){case"core/paragraph":case"paragraph":return e.jsx(so,{...de},P.id);case"core/heading":case"heading":return e.jsx(to,{...de,attributes:{level:P.content?.level||2,...P.attributes}},P.id);case"core/list":case"list":return e.jsx(ao,{...de},P.id);case"core/code":case"code":return e.jsx(ro,{...de},P.id);case"core/quote":case"quote":return e.jsx(po,{...de},P.id);case"core/image":case"image":return e.jsx(xo,{...de},P.id);case"core/button":case"button":return e.jsx(wo,{...F},P.id);case"core/columns":case"columns":return e.jsx(ko,{...F},P.id);default:return e.jsx("div",{className:"p-4 border border-dashed border-gray-300",children:e.jsxs("span",{className:"text-gray-500",children:["Unsupported block type: ",P.type]})},P.id)}};return e.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-50 flex flex-col",children:[e.jsx(Il,{onSave:ae,onPublish:Se,onBack:O,canUndo:b>0,canRedo:b<p.length-1,onUndo:re,onRedo:pe,isFullscreen:c,onToggleFullscreen:R,isDirty:S,onToggleListView:()=>{},onToggleCodeView:z,isCodeView:D,onPreview:Ee,onOpenDesignLibrary:()=>je(!0),onOpenAIGenerator:()=>ve(!0),onToggleInspector:()=>be(!X),isInspectorOpen:X}),e.jsxs("div",{className:"flex-1 flex relative",children:[e.jsx(zl,{isOpen:m,onClose:()=>y(!1),onSelect:_e}),e.jsx("div",{className:`flex-1 transition-all duration-300 overflow-y-auto ${m?"ml-80":"ml-0"} ${X?"mr-80":"mr-0"}`,style:{paddingTop:"10px",maxHeight:"calc(100vh - 60px)"},children:e.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-4xl font-light text-gray-800 leading-tight",children:v||""}),e.jsx("div",{className:"mt-2 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Document Title"}),e.jsx("input",{type:"text",value:v,onChange:P=>{w(P.target.value),T(!0),r&&r(P.target.value)},placeholder:"Enter your title here...",className:"w-full px-0 py-1 text-xl font-medium text-gray-900 border-0 border-b-2 border-transparent hover:border-gray-200 focus:border-blue-500 outline-none transition-colors bg-transparent",autoComplete:"off"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"This title will appear at the top of your page"})]})]}),D?e.jsx("div",{children:e.jsx("textarea",{value:JSON.stringify(o,null,2),onChange:P=>{try{const F=JSON.parse(P.target.value);h(F)}catch{}},className:"w-full min-h-[500px] font-mono text-sm p-4 border border-gray-300 rounded"})}):e.jsx("div",{className:"blocks-container",children:o.map(P=>e.jsx("div",{className:`block-item ${H===P.id?"drag-over":""} ${u===P.id?"block-selected":""}`,onDragOver:F=>Ae(F,P.id),onDrop:F=>M(F,P.id),children:Ye(P)},P.id))}),!D&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:()=>y(!0),className:"px-6 py-3 border-2 border-dashed border-gray-300 rounded hover:border-gray-400 hover:bg-gray-50 text-gray-600 text-sm transition-colors",children:"+ Add Block"})})]})}),X&&e.jsxs("div",{className:$("fixed right-0 top-[60px] w-80 bg-white border-l overflow-y-auto transition-all duration-300 z-30","shadow-lg"),style:{height:"calc(100vh - 60px)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:"Settings"}),e.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>be(!1),children:e.jsx(Ue,{className:"h-4 w-4"})})]}),e.jsx(Fr,{activeTab:he,postSettings:Fe,blockSettings:De,onPostSettingsChange:P=>{I(F=>({...F,...P})),T(!0),x?.(P)},onBlockSettingsChange:P=>{if(De){const F={...De,...P},ce=o.map(de=>de.id===De.id?F:de);Z(ce),Me(F)}},onTabChange:P=>Ce(P),onClose:()=>be(!1)})]})]}),A&&e.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-slide-up",children:e.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg bg-white ${A.type==="success"?"border-green-200":A.type==="error"?"border-red-200":"border-blue-200"}`,children:[A.type==="success"&&e.jsx(ti,{className:"h-5 w-5 text-green-500"}),A.type==="error"&&e.jsx(ai,{className:"h-5 w-5 text-red-500"}),A.type==="info"&&e.jsx(ht,{className:"h-5 w-5 text-blue-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.message})]})}),e.jsx(Rl,{isOpen:K,onClose:()=>je(!1),onApplyTemplate:cs}),e.jsx(zr,{isOpen:fe,onClose:()=>ve(!1),onGenerate:P=>{const F=P.map(ce=>({...ce,content:ce.content||{}}));Z(F),_("AI 페이지가 생성되었습니다!","success")}})]})},Eo=({items:t,className:s=""})=>{const a=vs(),l=t||(()=>{const i=a.pathname.split("/").filter(Boolean),g=[{label:"Admin",path:"/admin"}],d={users:"사용자",content:"콘텐츠",products:"상품",orders:"주문",analytics:"분석",settings:"설정",pending:"승인 대기",business:"사업자 회원",affiliates:"파트너 회원",posts:"글",pages:"페이지",cpt:"CPT 관리",categories:"카테고리",inventory:"재고 관리",sales:"매출 분석",overview:"전체 개요",general:"일반",writing:"쓰기",reading:"읽기",discussion:"토론",permalinks:"고유주소",privacy:"개인정보",theme:"테마",oauth:"OAuth",email:"이메일",integrations:"연동",shortcodes:"Shortcodes",apps:"Apps","by-app":"앱별 분류","by-category":"카테고리별",stats:"사용 통계",installed:"설치된 앱",marketplace:"마켓플레이스",all:"모든 글",new:"새 글 추가",tags:"태그",comments:"댓글",themes:"테마",ecommerce:"전자상거래",customize:"사용자 정의하기",menus:"메뉴",library:"라이브러리"},x=["settings","shortcodes","apps"],o=i[0];if(x.includes(o)){if(g.push({label:d[o]||o,path:i.length===1?void 0:`/${o}`}),i.length>1){const u=i[1];if(o==="settings"&&["general","writing","reading","discussion","privacy","oauth","email"].includes(u))g.push({label:d[u]||u,path:void 0});else if(o!=="settings"){const v=i[i.length-1];g.push({label:d[v]||v,path:void 0})}}return g}let h="";return i.forEach((u,f)=>{h+=`/${u}`,u!=="admin"&&u!=="dashboard"&&g.push({label:d[u]||u,path:f===i.length-1?void 0:h})}),g})();return l.length<=1?null:e.jsxs("nav",{className:`flex items-center space-x-2 text-sm text-wp-text-secondary mb-6 ${s}`,children:[e.jsx(Ct,{className:"w-4 h-4"}),l.map((i,g)=>e.jsxs(n.Fragment,{children:[g>0&&e.jsx(rs,{className:"w-4 h-4 text-wp-text-secondary"}),i.path?e.jsx(es,{to:i.path,className:"hover:text-admin-blue transition-colors duration-200 font-medium",children:i.label}):e.jsx("span",{className:"text-wp-text-primary font-semibold",children:i.label})]},g))]})},vt=(t,s)=>{if(t.startsWith("image/"))return"image";if(t.startsWith("video/"))return"video";if(t.startsWith("audio/"))return"audio";if(t==="application/pdf")return"pdf";if(t==="application/json")return"json";if(t==="text/markdown"||t==="text/x-markdown")return"markdown";if(t==="text/plain")return"text";if(t.includes("spreadsheet")||t==="text/csv")return"spreadsheet";if(t.includes("document"))return"document";if(s)switch(s.split(".").pop()?.toLowerCase()){case"md":case"markdown":return"markdown";case"json":return"json";case"txt":return"text";case"pdf":return"pdf";case"csv":case"xls":case"xlsx":return"spreadsheet";case"doc":case"docx":return"document";case"jpg":case"jpeg":case"png":case"gif":case"webp":case"svg":return"image";case"mp4":case"avi":case"mov":case"webm":return"video";case"mp3":case"wav":case"ogg":return"audio"}return"other"},_o=(t,s="w-5 h-5")=>{switch(t){case"image":return e.jsx(ts,{className:s});case"video":return e.jsx(_t,{className:s});case"audio":return e.jsx(Dt,{className:s});case"markdown":return e.jsx(Za,{className:s});case"json":return e.jsx(ii,{className:s});case"pdf":return e.jsx(Ne,{className:`${s} text-red-600`});case"text":return e.jsx(Ne,{className:s});case"spreadsheet":return e.jsx(ni,{className:`${s} text-green-600`});case"document":return e.jsx(ri,{className:`${s} text-blue-600`});default:return e.jsx(dr,{className:s})}},Do=t=>{switch(t){case"image":return"text-purple-600 bg-purple-50";case"video":return"text-indigo-600 bg-indigo-50";case"audio":return"text-pink-600 bg-pink-50";case"markdown":return"text-gray-700 bg-gray-100";case"json":return"text-yellow-600 bg-yellow-50";case"pdf":return"text-red-600 bg-red-50";case"text":return"text-gray-600 bg-gray-50";case"spreadsheet":return"text-green-600 bg-green-50";case"document":return"text-blue-600 bg-blue-50";default:return"text-gray-500 bg-gray-50"}},Lo=()=>{const t=Xs(),[s,a]=n.useState([]),[r,l]=n.useState(!0),[i,g]=n.useState(new Set),[d,x]=n.useState(""),[o,h]=n.useState("all"),[u,f]=n.useState(null);n.useEffect(()=>{(async()=>{try{const b=await we.getUser();f(b)}catch{f(null)}})()},[]),n.useEffect(()=>{v()},[]);const v=async()=>{try{l(!0);const j=await we.api.get("/v1/content/media?limit=100");let b=[];j.data?.data?.media?b=j.data.data.media:Array.isArray(j.data)&&(b=j.data);const C=b.map(S=>{let T=S.thumbnailUrl;!T&&S.isImage&&S.url&&(T=S.url),T&&!T.startsWith("http")&&(T=`https://api.neture.co.kr${T}`);let D=S.url;return D&&!D.startsWith("http")&&(D=`https://api.neture.co.kr${D}`),{id:S.id,title:S.originalFilename||S.filename||"Untitled",filename:S.filename,author:S.uploadedBy?.name||S.uploadedBy?.email?.split("@")[0]||u?.name||u?.email?.split("@")[0]||"Unknown",createdAt:S.createdAt,mimeType:S.mimeType||"application/octet-stream",size:parseInt(S.size)||0,thumbnailUrl:T,url:D,isImage:S.isImage||S.mimeType&&S.mimeType.startsWith("image/")}});a(C)}catch{Ze.error("Failed to load media")}finally{l(!1)}},w=async(j,b)=>{try{await we.api.put(`/v1/content/media/${j}`,{title:b}),a(C=>C.map(S=>S.id===j?{...S,title:b}:S)),Ze.success("Media updated")}catch{Ze.error("Failed to update media")}},m=async j=>{if(!window.confirm("Delete this media permanently?"))return;const C=s.find(S=>S.id===j);if(C){a(S=>S.filter(T=>T.id!==j));try{let S=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("authToken");if(!S){const T=localStorage.getItem("admin-auth-storage");if(T)try{const D=JSON.parse(T);(D.state?.accessToken||D.state?.token)&&(S=D.state.accessToken||D.state.token)}catch{}}if(!S){a(T=>[...T,C].sort((D,L)=>new Date(L.createdAt).getTime()-new Date(D.createdAt).getTime())),Ze.error("Authentication required. Please login again.");return}await Pt.delete(`https://api.neture.co.kr/api/v1/content/media/${j}`,{headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}}),Ze.success("Media deleted successfully")}catch(S){a(T=>[...T,C].sort((D,L)=>new Date(L.createdAt).getTime()-new Date(D.createdAt).getTime())),Ze.error(`Failed to delete: ${S.response?.data?.message||S.message}`)}}},y=async()=>{if(i.size===0||!window.confirm(`Delete ${i.size} items permanently?`))return;const b=s.filter(S=>i.has(S.id)),C=new Set(i);a(S=>S.filter(T=>!C.has(T.id))),g(new Set),Ze.loading(`Deleting ${C.size} items...`);try{let S=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("authToken");if(!S){const D=localStorage.getItem("admin-auth-storage");if(D)try{const L=JSON.parse(D);(L.state?.accessToken||L.state?.token)&&(S=L.state.accessToken||L.state.token)}catch{}}if(!S){a(D=>[...D,...b].sort((L,W)=>new Date(W.createdAt).getTime()-new Date(L.createdAt).getTime())),g(C),Ze.error("Authentication required. Please login again.");return}const T=Array.from(C).map(D=>Pt.delete(`https://api.neture.co.kr/api/v1/content/media/${D}`,{headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}}).catch(L=>({error:L,id:D})));Promise.all(T).then(D=>{const L=D.filter(W=>W&&"error"in W);if(L.length>0){const W=L.map(H=>H.id),G=b.filter(H=>W.includes(H.id));a(H=>[...H,...G].sort((Y,ie)=>new Date(ie.createdAt).getTime()-new Date(Y.createdAt).getTime())),Ze.error(`Failed to delete ${L.length} item(s)`)}else Ze.success("Selected media deleted successfully")})}catch(S){a(T=>[...T,...b].sort((D,L)=>new Date(L.createdAt).getTime()-new Date(D.createdAt).getTime())),g(C),Ze.error(`Failed to delete: ${S.response?.data?.message||S.message}`)}},N=(()=>{let j=s;if(o==="image"?j=j.filter(b=>b.mimeType.startsWith("image/")):o==="document"?j=j.filter(b=>{const C=vt(b.mimeType,b.filename);return["document","markdown","json","pdf","text","spreadsheet"].includes(C)}):o==="unattached"&&(j=j),d){const b=d.toLowerCase();j=j.filter(C=>C.title.toLowerCase().includes(b)||C.filename.toLowerCase().includes(b))}return j.sort((b,C)=>new Date(C.createdAt).getTime()-new Date(b.createdAt).getTime())})(),p={all:s.length,image:s.filter(j=>j.mimeType.startsWith("image/")).length,document:s.filter(j=>{const b=vt(j.mimeType,j.filename);return["document","markdown","json","pdf","text","spreadsheet"].includes(b)}).length,unattached:s.length};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"text-gray-600",children:"Loading media..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b px-8 py-3",children:e.jsx(Eo,{items:[{label:"Dashboard",path:"/"},{label:"Media",path:"/media"},{label:"Library"}]})}),e.jsxs("div",{className:"px-8 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("h1",{className:"text-2xl font-normal",children:"Media Library"}),e.jsx("button",{onClick:()=>t("/media/new"),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Add New"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[e.jsxs("button",{onClick:()=>h("all"),className:o==="all"?"font-medium":"text-blue-600 hover:text-blue-800",children:["All (",p.all,")"]}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsxs("button",{onClick:()=>h("image"),className:o==="image"?"font-medium":"text-blue-600 hover:text-blue-800",children:["Images (",p.image,")"]}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsxs("button",{onClick:()=>h("document"),className:o==="document"?"font-medium":"text-blue-600 hover:text-blue-800",children:["Documents (",p.document,")"]}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsxs("button",{onClick:()=>h("unattached"),className:o==="unattached"?"font-medium":"text-blue-600 hover:text-blue-800",children:["Unattached (",p.unattached,")"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-3 py-1.5",defaultValue:"",children:[e.jsx("option",{value:"",children:"Bulk Actions"}),e.jsx("option",{value:"delete",children:"Delete Permanently"})]}),e.jsx("button",{onClick:y,className:"px-3 py-1.5 text-sm border border-gray-300 rounded hover:bg-gray-50",disabled:i.size===0,children:"Apply"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("input",{type:"search",value:d,onChange:j=>x(j.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded",placeholder:"Search media..."})})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[N.length," items"]}),e.jsx("div",{className:"bg-white border rounded",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-10 px-3 py-3 text-left",children:e.jsx("input",{type:"checkbox",onChange:j=>{j.target.checked?g(new Set(N.map(b=>b.id))):g(new Set)},checked:i.size===N.length&&N.length>0})}),e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium",children:"File"}),e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium",children:"Author"}),e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium",children:"Date"})]})}),e.jsxs("tbody",{children:[N.map(j=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-3",children:e.jsx("input",{type:"checkbox",checked:i.has(j.id),onChange:b=>{const C=new Set(i);b.target.checked?C.add(j.id):C.delete(j.id),g(C)}})}),e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[j.thumbnailUrl||j.isImage?e.jsx("img",{src:j.thumbnailUrl||j.url,alt:j.title,className:"w-16 h-16 object-cover rounded border",onError:b=>{b.currentTarget.style.display="none",b.currentTarget.nextElementSibling?.classList.remove("hidden")}}):e.jsx("div",{className:`w-16 h-16 rounded border flex items-center justify-center ${Do(vt(j.mimeType,j.filename))}`,children:_o(vt(j.mimeType,j.filename),"w-8 h-8")}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-blue-600 hover:text-blue-800 cursor-pointer",children:j.title}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:j.filename}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs",children:[e.jsx("button",{onClick:()=>{const b=prompt("Edit title:",j.title);b&&b!==j.title&&w(j.id,b)},className:"text-blue-600 hover:text-blue-800",children:"Edit"}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("button",{onClick:()=>m(j.id),className:"text-red-600 hover:text-red-800",children:"Delete Permanently"}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"View"})]})]})]})}),e.jsx("td",{className:"px-3 py-3 text-sm text-gray-600",children:j.author}),e.jsxs("td",{className:"px-3 py-3 text-sm text-gray-600",children:[e.jsx("div",{children:vi(j.createdAt)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:wi(j.size)})]})]},j.id)),N.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-3 py-8 text-center text-gray-500",children:"No media found"})})]})]})})]})]})},Nt=n.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:$("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));Nt.displayName="Card";const Br=n.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:$("flex flex-col space-y-1.5 p-6",t),...s}));Br.displayName="CardHeader";const Ur=n.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:$("text-2xl font-semibold leading-none tracking-tight",t),...s}));Ur.displayName="CardTitle";const qr=n.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:$("text-sm text-muted-foreground",t),...s}));qr.displayName="CardDescription";const kt=n.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:$("p-6 pt-0",t),...s}));kt.displayName="CardContent";const Kr=n.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:$("flex items-center p-6 pt-0",t),...s}));Kr.displayName="CardFooter";const zo=[{id:"landing-1",name:"SaaS Landing Page",description:"Modern landing page for SaaS products with hero, features, pricing, and testimonials",category:"landing",icon:ma,tags:["saas","startup","modern"],blocks:[{type:"hero",content:{title:"Build Better Products Faster"}},{type:"features",content:{columns:3}},{type:"pricing",content:{plans:3}},{type:"testimonials",content:{count:3}},{type:"cta",content:{title:"Start Your Free Trial"}}]},{id:"product-1",name:"Product Showcase",description:"Elegant product page with gallery, description, and purchase options",category:"product",icon:js,tags:["ecommerce","product","shop"],blocks:[{type:"breadcrumb",content:{}},{type:"product-gallery",content:{}},{type:"product-info",content:{}},{type:"product-tabs",content:{}},{type:"related-products",content:{}}]},{id:"blog-1",name:"Blog Article",description:"Clean blog post layout with sidebar and comments",category:"blog",icon:fr,tags:["blog","article","content"],blocks:[{type:"post-header",content:{}},{type:"post-content",content:{}},{type:"author-bio",content:{}},{type:"related-posts",content:{}},{type:"comments",content:{}}]},{id:"about-1",name:"About Us",description:"Company about page with team, values, and history",category:"page",icon:Cs,tags:["about","company","team"],isPro:!0,blocks:[{type:"hero",content:{title:"Our Story"}},{type:"text-image",content:{}},{type:"team-grid",content:{}},{type:"values",content:{}},{type:"timeline",content:{}}]},{id:"contact-1",name:"Contact Page",description:"Contact page with form, map, and office locations",category:"page",icon:xr,tags:["contact","form","location"],blocks:[{type:"contact-hero",content:{}},{type:"contact-form",content:{}},{type:"office-locations",content:{}},{type:"map",content:{}}]}],$o=[{id:"hero-1",name:"Hero with CTA",category:"hero",blocks:[{type:"heading",content:{text:"Welcome to Our Platform"}},{type:"paragraph",content:{text:"Build amazing things with our tools"}},{type:"buttons",content:{}}]},{id:"features-1",name:"3 Column Features",category:"features",blocks:[{type:"heading",content:{text:"Our Features"}},{type:"columns",content:{count:3}}]},{id:"cta-1",name:"Centered CTA",category:"cta",blocks:[{type:"cta",content:{alignment:"center"}}]},{id:"testimonial-1",name:"Testimonial Carousel",category:"testimonial",blocks:[{type:"testimonial-carousel",content:{}}]},{id:"pricing-1",name:"3 Tier Pricing",category:"pricing",blocks:[{type:"pricing-table",content:{plans:3}}]}],Ro=({onSelectTemplate:t,onSelectPattern:s,mode:a="both"})=>{const[r,l]=n.useState("templates"),[i,g]=n.useState(""),[d,x]=n.useState("all"),[o,h]=n.useState([]),[u,f]=n.useState(null),v=[{id:"all",name:"All Templates",icon:We},{id:"landing",name:"Landing Pages",icon:ma},{id:"product",name:"Product Pages",icon:js},{id:"blog",name:"Blog Posts",icon:fr},{id:"page",name:"Pages",icon:Ne}],w=[{id:"all",name:"All Patterns",icon:We},{id:"header",name:"Headers",icon:We},{id:"hero",name:"Hero Sections",icon:Le},{id:"features",name:"Features",icon:js},{id:"cta",name:"Call to Action",icon:li},{id:"testimonial",name:"Testimonials",icon:Xe},{id:"pricing",name:"Pricing",icon:Wt},{id:"footer",name:"Footers",icon:We}],m=zo.filter(p=>{const j=p.name.toLowerCase().includes(i.toLowerCase())||p.description.toLowerCase().includes(i.toLowerCase())||p.tags.some(C=>C.toLowerCase().includes(i.toLowerCase())),b=d==="all"||p.category===d;return j&&b}),y=$o.filter(p=>{const j=p.name.toLowerCase().includes(i.toLowerCase()),b=d==="all"||p.category===d;return j&&b}),c=p=>{h(j=>j.includes(p)?j.filter(b=>b!==p):[...j,p])},N=p=>{navigator.clipboard.writeText(p),f(p),setTimeout(()=>f(null),2e3)};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Content Templates & Patterns"}),e.jsx("p",{className:"text-gray-600",children:"Choose from pre-designed templates or mix and match patterns"})]}),e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(xs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ke,{placeholder:"Search templates and patterns...",value:i,onChange:p=>g(p.target.value),className:"pl-10"})]})}),e.jsxs(fa,{value:r,onValueChange:p=>l(p),className:"flex-1 flex flex-col",children:[a==="both"&&e.jsxs(ja,{className:"mx-6",children:[e.jsx(Ys,{value:"templates",children:"Templates"}),e.jsx(Ys,{value:"patterns",children:"Patterns"})]}),e.jsxs(Tt,{value:"templates",className:"flex-1 flex m-0",children:[e.jsxs("div",{className:"w-64 border-r p-4",children:[e.jsx("h3",{className:"font-medium text-sm mb-4",children:"Categories"}),e.jsx("div",{className:"space-y-1",children:v.map(p=>e.jsxs("button",{onClick:()=>x(p.id),className:$("w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",d===p.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100"),children:[e.jsx(p.icon,{className:"h-4 w-4"}),e.jsx("span",{children:p.name})]},p.id))})]}),e.jsx(ct,{className:"flex-1 p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(p=>{const j=p.icon,b=o.includes(p.id);return e.jsxs(Nt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(Br,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"h-5 w-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx(Ur,{className:"text-lg",children:p.name}),p.isPro&&e.jsx(as,{variant:"secondary",className:"mt-1",children:"PRO"})]})]}),e.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c(p.id),children:e.jsx(pr,{className:$("h-4 w-4",b&&"fill-red-500 text-red-500")})})]})}),e.jsxs(kt,{children:[e.jsx(qr,{children:p.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:p.tags.map(C=>e.jsx(as,{variant:"outline",className:"text-xs",children:C},C))}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Contains:"}),e.jsxs("p",{className:"text-sm",children:[p.blocks.length," blocks"]})]})]}),e.jsxs(Kr,{className:"gap-2",children:[e.jsx(k,{className:"flex-1",onClick:()=>t?.(p),children:"Use Template"}),e.jsx(k,{variant:"outline",size:"icon",onClick:()=>{},children:e.jsx(os,{className:"h-4 w-4"})}),e.jsx(k,{variant:"outline",size:"icon",onClick:()=>N(p.id),children:u===p.id?e.jsx(qe,{className:"h-4 w-4 text-green-600"}):e.jsx(pt,{className:"h-4 w-4"})})]})]},p.id)})})})]}),e.jsxs(Tt,{value:"patterns",className:"flex-1 flex m-0",children:[e.jsxs("div",{className:"w-64 border-r p-4",children:[e.jsx("h3",{className:"font-medium text-sm mb-4",children:"Pattern Types"}),e.jsx("div",{className:"space-y-1",children:w.map(p=>e.jsxs("button",{onClick:()=>x(p.id),className:$("w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",d===p.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100"),children:[e.jsx(p.icon,{className:"h-4 w-4"}),e.jsx("span",{children:p.name})]},p.id))}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(ht,{className:"h-4 w-4"}),"Pro Tip"]}),e.jsx("p",{className:"text-xs text-gray-700",children:"Combine multiple patterns to create your own unique layouts. Patterns are reusable across all your pages."})]})]}),e.jsxs(ct,{className:"flex-1 p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(p=>e.jsx(Nt,{className:"cursor-pointer hover:shadow-md transition-all hover:scale-105",onClick:()=>s?.(p),children:e.jsxs(kt,{className:"p-6",children:[e.jsx("div",{className:"aspect-video bg-gray-100 rounded-md mb-4 flex items-center justify-center",children:e.jsx(We,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h4",{className:"font-medium",children:p.name}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[p.blocks.length," blocks"]})]})},p.id))}),e.jsx(Nt,{className:"mt-6 border-dashed",children:e.jsxs(kt,{className:"p-12 text-center",children:[e.jsx(Je,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Create Custom Pattern"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Save your own block combinations as reusable patterns"}),e.jsx(k,{variant:"outline",children:"Create Pattern"})]})})]})]})]})]})},Rs=oi,Os=ci,Ms=di,Ss=n.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(jr,{ref:r,sideOffset:s,className:$("z-50 overflow-hidden rounded-md bg-slate-900 px-3 py-1.5 text-xs text-slate-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));Ss.displayName=jr.displayName;const Oo=({mode:t="post",postId:s})=>{const[a,r]=n.useState(!1),[l,i]=n.useState(s==="new"?void 0:s);n.useEffect(()=>{const B=()=>{r(window.innerWidth<768)};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const g=Xs();vs();const d=ji(),x=!l,[o,h]=n.useState(""),[u,f]=n.useState([]),[v,w]=n.useState(!0),[m]=n.useState("document"),[y,c]=n.useState(null),[N,p]=n.useState(!1),[j,b]=n.useState(!1),[C,S]=n.useState(!1),T=n.useRef(null),D=n.useRef(null),[L,W]=n.useState(null),[G,H]=n.useState(!1),[Y,ie]=n.useState(!1),[ge,A]=n.useState(!1),[q,K]=n.useState(!1),[je,fe]=n.useState(!1),ve=n.useRef(null),X=n.useRef([]),[be,he]=n.useState({status:"draft",visibility:"public",publishDate:new Date().toISOString().slice(0,16),author:"Admin User",featuredImage:void 0,excerpt:"",slug:"",slugError:!1,categories:[],tags:[],template:"default",commentStatus:!0,pingStatus:!0,sticky:!1,format:"standard"}),Ce=n.useRef(be),De=B=>{if(!B)return null;let J=B;return J.success&&J.data&&(J=J.data),J.data&&!J.id&&!J.title&&(J=J.data),J.post&&!J.id&&!J.title&&(J=J.post),J.id?J:null},Me=async B=>{const J=me.loading("Loading post...");try{const U=await rt.get(String(B));if(typeof window<"u"&&(window.__LAST_API_RESPONSE=U,window.__LAST_API_RESPONSE_TIME=new Date().toISOString()),!U.success)throw new Error(U.error||"Failed to load post");const ee=De(U);if(!ee)throw new Error("Invalid post data received");const _e=ee.title||"";h(_e);let Be=[];if(ee.content)if(typeof ee.content=="string")try{const ae=JSON.parse(ee.content);Be=Array.isArray(ae)?ae:ae?.blocks||[]}catch{Be=[{id:"block-1",type:"core/paragraph",attributes:{content:ee.content}}]}else Array.isArray(ee.content)?Be=ee.content:ee.content?.blocks&&(Be=ee.content.blocks);f(Be),X.current=Be,he(ae=>{const Se=oe=>oe==="published"?"publish":oe==="trash"?"draft":oe,R=oe=>(oe?new Date(oe):new Date).toISOString().replace("Z","").slice(0,16),z={...ae,status:Se(ee.status||"draft"),visibility:"public",publishDate:R(ee.publishedAt||ee.createdAt),author:ee.author?.name||"Admin User",featuredImage:ee.featuredImage?.url,excerpt:ee.excerpt||"",slug:ee.slug||ae.slug||"",categories:ee.categories?.map(oe=>typeof oe=="object"?oe.id:oe)||[],tags:ee.tags?.map(oe=>typeof oe=="object"?oe.id:oe)||[],template:"default",commentStatus:!0,pingStatus:!0,sticky:!1,format:"standard"};return typeof window<"u"&&(window.__DEBUG_AFTER_SET={newSlug:z.slug,dataSlug:ee.slug,prevSlug:ae.slug,allNewSettings:z,timestamp:new Date().toISOString()}),z}),Ce.current={...Ce.current,slug:ee.slug||"",status:ee.status==="published"?"publish":ee.status==="trash"?"draft":ee.status||"draft",excerpt:ee.excerpt||"",categories:(ee.categories||[]).map(ae=>typeof ae=="object"?ae.id:ae),tags:(ee.tags||[]).map(ae=>typeof ae=="object"?ae.id:ae),sticky:ee.sticky||!1,featuredImage:ee.featuredImage?.url,format:ee.format||"standard",commentStatus:ee.commentStatus!==!1},A(!1),K(!0),me.dismiss(J),me.success("Post loaded")}catch(U){me.dismiss(J),me.error(U.message||"Failed to load post"),h(""),f([]),A(!1)}};n.useEffect(()=>{(async()=>{try{await wr(),H(!0),l&&!x?await Me(l):(h(""),f([]),X.current=[],A(!1),K(!0))}catch{me.error("Failed to initialize editor"),H(!0)}})()},[l,x]),n.useEffect(()=>{const B=J=>{ge&&(J.preventDefault(),J.returnValue="")};return window.addEventListener("beforeunload",B),()=>window.removeEventListener("beforeunload",B)},[ge]);const Fe=B=>{const J=JSON.stringify({title:B.title,content:B.content,status:B.status,slug:B.slug});let U=0;for(let ee=0;ee<J.length;ee++){const _e=J.charCodeAt(ee);U=(U<<5)-U+_e,U=U&U}return U.toString()},I=async(B=!1)=>{if(C){me("Save already in progress",{icon:"⏳"});return}T.current&&(T.current.abort(),T.current=null);const J=X.current,U=Ce.current,ee=o?.trim()||"";let _e=U.slug?.trim()||"";if(!_e&&ee&&!l&&(/[\u3131-\uD79D]/.test(ee)||(_e=ee.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,""))),J&&J.length>0&&J.some(ae=>{const Se=ae.content;return typeof Se=="string"?Se.trim().length>0:Se?.text&&typeof Se.text=="string"?Se.text.trim().length>0:!!Se?.url}),!ee){me.error("⚠️ 제목을 입력해주세요. 제목은 필수 항목입니다.",{duration:5e3,icon:"📝"});return}if(!_e){me.error("⚠️ Slug가 비어있습니다. 오른쪽 사이드바의 Permalink 필드에 영문 URL을 입력해주세요.",{duration:5e3,icon:"🔗"}),he(Se=>({...Se,slugError:!0})),w(!0);return}if(!/^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(_e)){me.error("⚠️ 올바르지 않은 slug 형식입니다. 소문자, 숫자, 하이픈만 사용 가능합니다.",{duration:5e3}),he(ae=>({...ae,slugError:!0})),w(!0);return}S(!0),T.current=new AbortController;try{const ae=t==="page"?"page":"post",Se={title:ee,content:JSON.stringify(J),excerpt:U.excerpt,slug:_e,status:B?"publish":U.status||"draft",type:ae,categories:U.categories,tags:U.tags,featured:!1,sticky:U.sticky,featuredImage:U.featuredImage,format:U.format,allowComments:U.commentStatus},R=Fe(Se);if(D.current===R&&!ge)return S(!1),me("No changes to save",{icon:"ℹ️"}),l!=null?String(l):void 0;const z=`${Date.now()}-${Math.random()}`,oe={...Se,_requestId:z},Ae=l?await rt.update({...oe,id:String(l)}):await rt.create(oe);if(!Ae.success)throw new Error(Ae.error||"Failed to save");const M=Ae.data;return d.invalidateQueries({queryKey:["posts"]}),d.invalidateQueries({queryKey:["posts-counts"]}),!l&&M?.id&&(i(M.id),g(`/editor/${t}s/${M.id}`,{replace:!0})),M?.slug&&M.slug!==_e&&(he(Ee=>({...Ee,slug:String(M.slug)})),Ce.current={...Ce.current,slug:M.slug}),W(new Date),A(!1),D.current=R,B?(he(Ee=>({...Ee,status:"publish"})),me.success("Published successfully!")):me.success("Saved as draft"),(M?.id!=null?String(M.id):void 0)||(l!=null?String(l):void 0)}catch(ae){const Se=ae?.response?.status,R=ae?.response?.data?.error?.message,z=ae.response?.data?.error||ae.response?.data?.error?.code,oe=ae.response?.data?.details;if(z==="INVALID_SLUG"||z==="INVALID_SLUG_FORMAT")me.error("❌ Slug 에러: "+(oe||"Invalid slug format. Use only lowercase letters, numbers, and hyphens")),he(Ae=>({...Ae,slugError:!0})),w(!0);else if(z==="SLUG_REQUIRED"||z==="SLUG_GENERATION_FAILED")me.error("❌ Slug 생성 실패: 한글 제목은 수동으로 slug를 입력해야 합니다"),he(Ae=>({...Ae,slugError:!0})),w(!0);else if(z==="DUPLICATE_SLUG"||Se===409)me.error("❌ 중복된 slug: 이미 사용 중인 slug입니다. 다른 slug를 입력해주세요"),he(Ae=>({...Ae,slugError:!0})),w(!0);else if(Se===400){const Ae=ae.response?.data?.message||R||"제목이나 내용 중 하나는 입력해야 합니다";me.error("❌ 유효성 검사 실패: "+Ae)}else Se===422?me.error("Validation failed. Please check required fields."):me.error(ae?.message||"Failed to save");return}finally{S(!1),T.current=null}},V=async()=>{await I(!0)},_=async()=>{let B=l;if(ge||!l){me("Saving draft for preview...",{icon:"💾"});const J=await I(!1);if(J)B=J;else{me.error("Failed to save. Cannot preview.");return}}B&&window.open(`/preview/posts/${B}`,"_blank")},Z=()=>{ge?confirm("You have unsaved changes. Are you sure you want to leave?")&&g(-1):g(-1)},re=B=>{f(B.blocks),X.current=B.blocks,b(!1),A(!0)},pe=B=>{const J=[...X.current,...B.blocks];f(J),X.current=J,b(!1),A(!0)};return G?e.jsxs("div",{ref:ve,className:"h-screen flex flex-col bg-white",children:[!1,e.jsxs("div",{className:$("bg-white border-b flex items-center justify-between",a?"px-2 py-2":"px-3 py-2"),children:[e.jsxs("div",{className:$("flex items-center",a?"gap-1 flex-1":"gap-2"),children:[e.jsx(Rs,{children:e.jsxs(Os,{children:[e.jsx(Ms,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:a?"h-8 w-8":"h-9 w-9",onClick:Z,children:e.jsx(ga,{className:a?"h-4 w-4":"h-5 w-5"})})}),e.jsx(Ss,{children:e.jsx("p",{children:"Back to dashboard"})})]})}),!a&&e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-700 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"W"})}),e.jsx("div",{className:"flex-1 max-w-2xl",style:{display:"none"},children:e.jsx("input",{type:"text",placeholder:"",value:o||"",onChange:B=>{h(B.target.value),A(!0)},className:$("w-full px-2 py-1 font-semibold border-0 outline-none focus:ring-0 placeholder-gray-400 text-gray-900",a?"text-base":"text-xl")})}),!a&&e.jsx(as,{variant:be.status==="publish"?"default":"secondary",className:"capitalize",children:be.status}),!a&&L&&e.jsxs("span",{className:"text-sm text-gray-500",children:["Saved ",L.toLocaleTimeString()]}),!a&&ge&&!C&&e.jsx("span",{className:"text-sm text-orange-500",children:"Unsaved changes"})]}),e.jsxs("div",{className:$("flex items-center",a?"gap-0":"gap-1"),children:[!a&&e.jsxs("div",{className:"flex items-center mr-2",children:[e.jsx(Rs,{children:e.jsxs(Os,{children:[e.jsx(Ms,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"h-9 w-9",children:e.jsx(mi,{className:"h-4 w-4"})})}),e.jsx(Ss,{children:e.jsx("p",{children:"Undo"})})]})}),e.jsx(Rs,{children:e.jsxs(Os,{children:[e.jsx(Ms,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"h-9 w-9",children:e.jsx(ui,{className:"h-4 w-4"})})}),e.jsx(Ss,{children:e.jsx("p",{children:"Redo"})})]})})]}),!a&&e.jsx(Rs,{children:e.jsxs(Os,{children:[e.jsx(Ms,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>ie(!Y),children:e.jsx(Ps,{className:"h-4 w-4"})})}),e.jsx(Ss,{children:e.jsx("p",{children:"List view"})})]})}),!a&&e.jsx(Rs,{children:e.jsxs(Os,{children:[e.jsx(Ms,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:_,children:e.jsx(os,{className:"h-4 w-4"})})}),e.jsx(Ss,{children:e.jsx("p",{children:"Preview"})})]})}),a?e.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>I(!1),disabled:C||!ge,children:C?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-gray-500 border-t-transparent rounded-full"}):e.jsx(nt,{className:"h-4 w-4"})}):e.jsx(k,{variant:"outline",size:"sm",onClick:()=>I(!1),disabled:C||!ge,children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-gray-500 border-t-transparent rounded-full mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"h-3 w-3 mr-2"}),"Save draft"]})}),e.jsx(k,{size:"sm",onClick:()=>I(!0),disabled:C,children:be.status==="publish"?"Update":"Publish"}),e.jsx(Rs,{children:e.jsxs(Os,{children:[e.jsx(Ms,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:a?"h-8 w-8":"h-9 w-9",onClick:()=>w(!v),disabled:!q&&!x,children:v?e.jsx(Ue,{className:"h-4 w-4"}):e.jsx(sr,{className:"h-4 w-4"})})}),e.jsx(Ss,{children:e.jsx("p",{children:v?"Close settings":"Settings"})})]})}),e.jsxs(bs,{children:[e.jsx(us,{children:e.jsx(k,{variant:"ghost",size:"icon",className:a?"h-8 w-8":"h-9 w-9",children:e.jsx(aa,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[a&&e.jsxs(e.Fragment,{children:[e.jsxs(ue,{onClick:_,children:[e.jsx(os,{className:"h-4 w-4 mr-2"}),"Preview"]}),e.jsx(He,{})]}),e.jsxs(ue,{onClick:()=>b(!0),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Add template"]}),e.jsx(ue,{onClick:()=>p(!0),children:"Add media"}),e.jsx(He,{}),e.jsx(ue,{children:"Copy all blocks"}),e.jsx(ue,{children:"Export"}),!a&&e.jsxs(e.Fragment,{children:[e.jsx(He,{}),e.jsxs(ue,{children:[e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Keyboard shortcuts"]})]})]})]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("div",{className:$("flex-1 overflow-auto bg-gray-50"),children:e.jsx("div",{className:"min-h-full",children:e.jsx(Ao,{documentTitle:o||"",initialBlocks:u,slug:be.slug||"",postSettings:be,onPostSettingsChange:B=>{he(J=>({...J,...B})),Ce.current={...Ce.current,...B},A(!0)},onTitleChange:B=>{h(B),A(!0)},onChange:B=>{f(B),X.current=B;const J=B.some(U=>{if(U.type==="core/paragraph"){const ee=U.content?.text||U.content||"";return typeof ee=="string"&&ee.trim().length>0}return!0});(l||J)&&A(!0)},onSave:I,onPublish:V})})}),v&&e.jsxs("div",{className:$("bg-white border-l overflow-y-auto editor-transition","editor-sidebar-enter",a?"fixed inset-0 z-50 w-full":"w-80"),children:[a&&e.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsx("h2",{className:"font-semibold",children:"Settings"}),e.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>w(!1),children:e.jsx(Ue,{className:"h-4 w-4"})})]}),e.jsx(Fr,{activeTab:m,postSettings:be,blockSettings:y,onPostSettingsChange:B=>{B.slug!==void 0&&be.slugError&&(B.slugError=!1),he(J=>{const U={...J,...B};return Ce.current=U,U}),A(!0)},onBlockSettingsChange:B=>{if(y){const J={...y,...B},U=u.map(ee=>ee.id===y.id?J:ee);f(U),X.current=U,c(J),A(!0)}},onClose:()=>w(!1)})]})]}),e.jsx(dt,{open:N,onOpenChange:p,children:e.jsx(mt,{className:"max-w-6xl h-[80vh] p-0",children:e.jsx(Lo,{})})}),e.jsx(dt,{open:j,onOpenChange:b,children:e.jsx(mt,{className:"max-w-6xl h-[80vh] p-0",children:e.jsx(Ro,{onSelectTemplate:re,onSelectPattern:pe})})}),e.jsx(zr,{isOpen:je,onClose:()=>fe(!1),onGenerate:B=>{f(B),X.current=B,A(!0),me.success("AI 페이지가 성공적으로 생성되었습니다!")}})]}):e.jsx("div",{className:"h-screen flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-gray-300 border-t-blue-600 rounded-full animate-spin mb-4 mx-auto"}),e.jsx("p",{className:"text-gray-600",children:"Initializing editor..."})]})})},ks=({mode:t="post"})=>{const{id:s}=hi(),a=vs(),r=n.useMemo(()=>s?`${t}-${s}`:`${t}-new-${a.key}`,[t,s,a.key]);return e.jsx(Oo,{mode:t,postId:s},r)},Mo=n.lazy(()=>le(()=>import("./Login-D0AEElim.js"),__vite__mapDeps([13,1,5,6,7,8,14,9]))),Fo=n.lazy(()=>le(()=>import("./ForgotPassword-DTQoVKA5.js"),__vite__mapDeps([15,1]))),Bo=n.lazy(()=>le(()=>import("./ResetPassword-Cn3aJ_fu.js"),__vite__mapDeps([16,1]))),Uo=n.lazy(()=>le(()=>import("./AdminHome-DPxRoxyY.js"),__vite__mapDeps([17,1]))),qo=n.lazy(()=>le(()=>import("./WordPressDashboard-mS2c1ly7.js"),__vite__mapDeps([18,1]))),Ko=n.lazy(()=>le(()=>import("./DashboardSimple-CPpTnndL.js"),__vite__mapDeps([19,1,5,6,7,8,20,14,9]))),Vo=n.lazy(()=>le(()=>import("./index-D5YgS6SL.js"),__vite__mapDeps([21,1,5,6,7,8,14,9]))),Vt=n.lazy(()=>le(()=>import("./UserForm-BQ1C2zZc.js"),__vite__mapDeps([22,1,23,5,6,7,8,24,25,26,20,14,9]))),Wa=n.lazy(()=>le(()=>import("./UserDetail-BjT6R_Oy.js"),__vite__mapDeps([27,1,5,6,7,8,26,20,25,14,9]))),Go=n.lazy(()=>le(()=>import("./RoleManagement-DrlzAjWi.js"),__vite__mapDeps([28,1,5,6,7,8,24,26,20,14,9]))),Ho=n.lazy(()=>le(()=>import("./UserStatistics-Dq9rkEEm.js"),__vite__mapDeps([29,1,5,6,7,8,26,20,14,9]))),Wo=n.lazy(()=>le(()=>import("./Analytics-BnI03ZAL.js"),__vite__mapDeps([30,1]))),Jo=n.lazy(()=>le(()=>import("./Settings-BBWo0jNR.js"),__vite__mapDeps([31,1,5,6,7,8,32,33,20,14,9]))),Qo=n.lazy(()=>le(()=>import("./MailManagement-Du-72rfA.js"),__vite__mapDeps([34,1,33,20,8,5,6,7,14,9]))),Yo=n.lazy(()=>le(()=>import("./PagesRouter-Rd5URAIp.js"),__vite__mapDeps([35,1,7,5,6,8,14,9]))),Xo=n.lazy(()=>le(()=>import("./Media--wF89kmR.js"),__vite__mapDeps([36,1,5,6,7,8,14,9]))),Ja=n.lazy(()=>le(()=>import("./CustomFields-CMC_Cmip.js"),__vite__mapDeps([37,1,7,8,5,6,14,9]))),Zo=n.lazy(()=>le(()=>import("./Posts-D2mfUvEq.js"),__vite__mapDeps([38,1,7,5,6,8,14,9]))),ec=n.lazy(()=>le(()=>import("./Categories-DBdAZRSY.js"),__vite__mapDeps([39,1,7,5,6,8,14,9]))),sc=n.lazy(()=>le(()=>import("./Tags-ByeGCRNT.js"),__vite__mapDeps([40,1,7,5,6,8,14,9]))),Gt=n.lazy(()=>le(()=>import("./PostPreview-BHyJLofm.js"),__vite__mapDeps([41,1,7,5,6,8,14,9,42]))),tc=n.lazy(()=>le(()=>import("./Menus-CSnhM7Ed.js"),__vite__mapDeps([43,1,20,8,7,5,6,14,9]))),ac=n.lazy(()=>le(()=>import("./TemplateParts-LJutqcUZ.js"),__vite__mapDeps([44,1,5,6,7,8,14,9]))),Qa=n.lazy(()=>le(()=>import("./page-template-editor-BTdVTS-a.js").then(t=>t.q),__vite__mapDeps([5,1,6,7,8,9]))),Ya=n.lazy(()=>le(()=>import("./IntegratedMonitoring-urW-hvRn.js"),__vite__mapDeps([45,1,7,5,6,8,46,14,9]))),rc=n.lazy(()=>le(()=>import("./PerformanceDashboard-7tN_RM9t.js"),__vite__mapDeps([46,1,7,5,6,8,14,9]))),nc=n.lazy(()=>le(()=>import("./ForumRouter-6spV-sI3.js"),__vite__mapDeps([47,5,1,6,7,8,9]))),ic=n.lazy(()=>le(()=>import("./SignageRouter-hODnk9hX.js"),__vite__mapDeps([48,5,1,6,7,8,9]))),lc=n.lazy(()=>le(()=>import("./CrowdfundingRouter-Cn5OBUov.js"),__vite__mapDeps([49,5,1,6,7,8,9]))),oc=n.lazy(()=>le(()=>import("./ToolsPage-CKRyrFZh.js"),__vite__mapDeps([50,1]))),cc=n.lazy(()=>le(()=>import("./UIShowcase-DMJAVCSu.js"),__vite__mapDeps([51,1,5,6,7,8,24,14,9]))),dc=n.lazy(()=>le(()=>import("./index-DXKOEefd.js"),__vite__mapDeps([52,1,7,5,6,8,24,2,14,9,53]))),mc=n.lazy(()=>le(()=>import("./index-CSnsWwcD.js"),__vite__mapDeps([54,1,32,8,26,20,5,6,7,14,9]))),uc=n.lazy(()=>le(()=>import("./Customize-cSIwZ4oU.js"),__vite__mapDeps([55,1,5,6,7,8,20,14,9,56]))),te=()=>e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-admin-blue"})}),hc=new br("https://api.neture.co.kr/api");function pc(){const t=Di(r=>r.checkSSOSession);n.useEffect(()=>((async()=>{try{await t()}catch(l){l?.response?.status===401&&(localStorage.removeItem("admin-auth-storage"),localStorage.removeItem("authToken"),localStorage.removeItem("accessToken"))}})(),()=>{}),[t]);const s=r=>{switch(r){case"token_refresh_failed":me.error("세션이 만료되었습니다. 다시 로그인해 주세요.");break;case"insufficient_permissions":me.error("관리자 권한이 필요합니다.");break;case"account_locked":me.error("계정이 잠겨있습니다. 관리자에게 문의하세요.");break;default:me.error("인증 오류가 발생했습니다.")}},a=r=>{const l=Math.floor(r/60);me(`${l}분 후 세션이 만료됩니다.`,{icon:"⏰",duration:5e3})};return e.jsx(Si,{children:e.jsx(Ii,{children:e.jsx(ki,{ssoClient:hc,autoRefresh:!0,onAuthError:s,onSessionExpiring:a,children:e.jsx(Ci,{warningBeforeExpiry:5*60*1e3,onSessionExpiring:a,children:e.jsxs(Ot,{children:[e.jsx(se,{path:"/login",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Mo,{})})}),e.jsx(se,{path:"/forgot-password",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Fo,{})})}),e.jsx(se,{path:"/reset-password",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Bo,{})})}),e.jsx(se,{path:"/",element:e.jsx(Cl,{})}),e.jsx(se,{path:"/admin/preview",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Gt,{})})}),e.jsx(se,{path:"/editor/*",element:e.jsx(xe,{requiredRoles:["admin"],requiredPermissions:["content:write"],children:e.jsx(kl,{children:e.jsxs(Ot,{children:[e.jsx(se,{path:"posts/new",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ks,{mode:"post"})})}),e.jsx(se,{path:"posts/:id",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ks,{mode:"post"})})}),e.jsx(se,{path:"pages/new",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ks,{mode:"page"})})}),e.jsx(se,{path:"pages/:id",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ks,{mode:"page"})})}),e.jsx(se,{path:"templates/:id",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ks,{mode:"template"})})}),e.jsx(se,{path:"patterns/:id",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ks,{mode:"pattern"})})})]})})})}),e.jsx(se,{path:"/preview/posts/:id",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Gt,{})})}),e.jsx(se,{path:"/preview/pages/:id",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Gt,{})})}),e.jsx(se,{path:"/*",element:e.jsx(xe,{requiredRoles:["admin"],showContactAdmin:!0,children:e.jsx(Nl,{children:e.jsxs(Ot,{children:[e.jsx(se,{path:"/admin",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(qo,{})})}),e.jsx(se,{path:"/home",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Uo,{})})}),e.jsx(se,{path:"/dashboard",element:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Ko,{})})}),e.jsx(se,{path:"/users",element:e.jsx(xe,{requiredPermissions:["users:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Vo,{})})})}),e.jsx(se,{path:"/users/add",element:e.jsx(xe,{requiredPermissions:["users:create"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Vt,{})})})}),e.jsx(se,{path:"/users/new",element:e.jsx(xe,{requiredPermissions:["users:create"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Vt,{})})})}),e.jsx(se,{path:"/users/profile",element:e.jsx(xe,{requiredPermissions:["users:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Wa,{})})})}),e.jsx(se,{path:"/users/roles",element:e.jsx(xe,{requiredPermissions:["users:update"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Go,{})})})}),e.jsx(se,{path:"/users/statistics",element:e.jsx(xe,{requiredPermissions:["users:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Ho,{})})})}),e.jsx(se,{path:"/users/:id",element:e.jsx(xe,{requiredPermissions:["users:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Wa,{})})})}),e.jsx(se,{path:"/users/:id/edit",element:e.jsx(xe,{requiredPermissions:["users:update"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Vt,{})})})}),e.jsx(se,{path:"/posts",element:e.jsx(xe,{requiredPermissions:["content:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Zo,{})})})}),e.jsx(se,{path:"/posts/categories",element:e.jsx(xe,{requiredPermissions:["categories:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ec,{})})})}),e.jsx(se,{path:"/posts/tags",element:e.jsx(xe,{requiredPermissions:["categories:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(sc,{})})})}),e.jsx(se,{path:"/pages/*",element:e.jsx(xe,{requiredPermissions:["pages:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Yo,{})})})}),e.jsx(se,{path:"/reusable-blocks",element:e.jsx(xe,{requiredPermissions:["content:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx("div",{children:"Reusable Blocks - Coming Soon"})})})}),e.jsx(se,{path:"/customize",element:e.jsx(xe,{requiredPermissions:["templates:write"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(uc,{})})})}),e.jsx(se,{path:"/appearance/menus/*",element:e.jsx(xe,{requiredRoles:["admin"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(tc,{})})})}),e.jsx(se,{path:"/appearance/template-parts",element:e.jsx(xe,{requiredPermissions:["templates:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ac,{})})})}),e.jsx(se,{path:"/appearance/template-parts/new",element:e.jsx(xe,{requiredPermissions:["templates:write"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Qa,{})})})}),e.jsx(se,{path:"/appearance/template-parts/:id/edit",element:e.jsx(xe,{requiredPermissions:["templates:write"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Qa,{})})})}),e.jsx(se,{path:"/media/*",element:e.jsx(xe,{requiredPermissions:["media:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Xo,{})})})}),e.jsx(se,{path:"/analytics/*",element:e.jsx(xe,{requiredPermissions:["analytics:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Wo,{})})})}),e.jsx(se,{path:"/cpt-engine/*",element:e.jsx(xe,{requiredPermissions:["content:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(dc,{})})})}),e.jsx(se,{path:"/dropshipping/*",element:e.jsx(xe,{requiredPermissions:["content:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(mc,{})})})}),e.jsx(se,{path:"/acf/*",element:e.jsx(xe,{requiredPermissions:["custom_fields:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Ja,{})})})}),e.jsx(se,{path:"/acf/groups",element:e.jsx(xe,{requiredPermissions:["custom_fields:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Ja,{})})})}),e.jsx(se,{path:"/mail/*",element:e.jsx(xe,{requiredPermissions:["settings:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Qo,{})})})}),e.jsx(se,{path:"/forum/*",element:e.jsx(xe,{requiredPermissions:["forum:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(nc,{})})})}),e.jsx(se,{path:"/signage/*",element:e.jsx(xe,{requiredPermissions:["signage:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ic,{})})})}),e.jsx(se,{path:"/crowdfunding/*",element:e.jsx(xe,{requiredPermissions:["crowdfunding:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(lc,{})})})}),e.jsx(se,{path:"/tools",element:e.jsx(xe,{requiredPermissions:["tools:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(oc,{})})})}),e.jsx(se,{path:"/settings/*",element:e.jsx(xe,{requiredPermissions:["settings:read"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Jo,{})})})}),e.jsx(se,{path:"/gutenberg",element:e.jsx(xe,{requiredPermissions:["content:write"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ks,{mode:"post"})})})}),e.jsx(se,{path:"/ui-showcase",element:e.jsx(xe,{requiredPermissions:["admin"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(cc,{})})})}),e.jsx(se,{path:"/monitoring",element:e.jsx(xe,{requiredPermissions:["admin"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Ya,{})})})}),e.jsx(se,{path:"/monitoring/performance",element:e.jsx(xe,{requiredPermissions:["admin"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(rc,{})})})}),e.jsx(se,{path:"/monitoring/security",element:e.jsx(xe,{requiredPermissions:["admin"],children:e.jsx(n.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(Ya,{})})})}),e.jsx(se,{path:"*",element:e.jsx(Qt,{to:"/",replace:!0})})]})})})})]})})})})})}const xc=new bi({defaultOptions:{queries:{retry:(t,s)=>s?.response?.status===404||s?.response?.status===401?!1:t<1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,gcTime:10*60*1e3},mutations:{retry:!1}}});Ni();pi.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(yi,{client:xc,children:e.jsxs(xi,{children:[e.jsx(pc,{}),e.jsx(gi,{position:"top-center",reverseOrder:!1})]})})}));export{Eo as A,as as B,Nt as C,dt as D,us as E,hs as F,Zt as G,He as H,ue as I,Cc as J,Sc as K,wl as L,Lo as M,Tc as N,Lr as P,Br as a,Ur as b,qr as c,kt as d,Rr as e,Or as f,Mr as g,$l as h,mt as i,ya as j,va as k,Dr as l,gl as m,At as n,Et as o,Ml as p,Pc as q,_r as r,Nc as s,Di as t,Zs as u,rt as v,wc as w,Wi as x,Ic as y,bs as z};
//# sourceMappingURL=index-C0gS3Jf3.js.map
