import{j as e,W as ge,cZ as je,c_ as ve,Y as ye,bu as Ne,X as fe,r as u,x as K,_ as we,B as be,c$ as Ce,d0 as Se,T as Ie,d1 as ae,I as re,L as Te,Q as Be,k as De,o as $e,m as Fe,n as Le,cI as Re,G as Me,h as qe,d2 as Ee,c as ze,d3 as Ae,d4 as He,i as Pe,A as ke,d as Ke,e as Oe,d5 as Ve,d6 as Qe,y as _e,z as Ge,S as Je,a1 as We,a2 as Xe,V as q,a3 as Ye,$ as Ze,O as Ue,F as es}from"./vendor-react-BZRIq8oW.js";import{B as b,c as E,v as ss,j as A,L as j,I as D,a as ts,b as as,d as O,e as V,S as Q,f as _,g as G,h as J,i as $,T as U,s as rs}from"./page-gutenberg-iVBL5IS_.js";import{c as ls}from"./vendor-ui-BkLtITBR.js";import{f as le}from"./vendor-utils-DQ8F5vJI.js";import{u as ns,a as ee,b as se}from"./vendor-query-GrNIwsDq.js";const is=({isSaving:m,lastSaved:r,hasUnsavedChanges:x,savedInLocalStorage:i,className:a})=>{const l=()=>m?e.jsx(ge,{className:"w-4 h-4 animate-spin"}):x&&i?e.jsx(je,{className:"w-4 h-4"}):r?e.jsx(ve,{className:"w-4 h-4"}):e.jsx(ye,{className:"w-4 h-4"}),N=()=>m?"저장 중...":r?`${le(r,"HH:mm")}에 저장됨`:x&&i?"로컬에 임시 저장됨":x?"저장되지 않은 변경사항":"대기 중",h=()=>m?"text-blue-600":r&&!x?"text-green-600":x?"text-yellow-600":"text-gray-500";return e.jsxs("div",{className:ls("flex items-center gap-2 text-sm",h(),a),children:[l(),e.jsx("span",{children:N()})]})},cs=({timestamp:m,onRecover:r,onDiscard:x})=>e.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-900",children:"저장되지 않은 변경사항이 있습니다"}),e.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:[le(m,"yyyy년 MM월 dd일 HH:mm"),"에 작성한 내용이 임시 저장되어 있습니다. 복구하시겠습니까?"]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(b,{size:"sm",variant:"default",onClick:r,className:"bg-yellow-600 hover:bg-yellow-700",children:"복구하기"}),e.jsx(b,{size:"sm",variant:"outline",onClick:x,children:"삭제하기"})]})]}),e.jsx("button",{onClick:x,className:"text-yellow-600 hover:text-yellow-700",children:e.jsx(fe,{className:"w-4 h-4"})})]})}),os=[{id:"paragraph",title:"단락",icon:e.jsx(Ie,{className:"w-5 h-5"}),category:"text",description:"텍스트 단락을 추가합니다"},{id:"heading",title:"제목",icon:e.jsx(ae,{className:"w-5 h-5"}),category:"text",description:"제목을 추가합니다"},{id:"image",title:"이미지",icon:e.jsx(re,{className:"w-5 h-5"}),category:"media",description:"이미지를 업로드하거나 선택합니다"},{id:"list",title:"목록",icon:e.jsx(Te,{className:"w-5 h-5"}),category:"text",description:"순서가 있거나 없는 목록을 만듭니다"},{id:"quote",title:"인용",icon:e.jsx(Be,{className:"w-5 h-5"}),category:"text",description:"인용문을 추가합니다"},{id:"code",title:"코드",icon:e.jsx(De,{className:"w-5 h-5"}),category:"text",description:"코드 블록을 추가합니다"},{id:"columns",title:"컬럼",icon:e.jsx($e,{className:"w-5 h-5"}),category:"layout",description:"여러 컬럼 레이아웃을 만듭니다"},{id:"video",title:"비디오",icon:e.jsx(Fe,{className:"w-5 h-5"}),category:"media",description:"비디오를 삽입합니다"},{id:"audio",title:"오디오",icon:e.jsx(Le,{className:"w-5 h-5"}),category:"media",description:"오디오 파일을 추가합니다"},{id:"file",title:"파일",icon:e.jsx(Re,{className:"w-5 h-5"}),category:"media",description:"다운로드 가능한 파일을 추가합니다"},{id:"spacer",title:"여백",icon:e.jsx(Me,{className:"w-5 h-5"}),category:"layout",description:"블록 사이에 여백을 추가합니다"}],ds=[{id:"text",title:"텍스트"},{id:"media",title:"미디어"},{id:"layout",title:"레이아웃"}],xs=m=>{if(!m||!m.trim())return[];const r=/<!-- wp:([a-z0-9-]+\/[a-z0-9-]+)(\s+({[^}]*}))?\s*-->([\s\S]*?)<!-- \/wp:\1 -->/g,x=[...m.matchAll(r)];return x.length>0?x.map((i,a)=>{const l=i[1],N=i[3],h=i[4].trim();let p={};if(N)try{p=JSON.parse(N)}catch{}let y={};if(l==="core/paragraph")y={text:h.replace(/<[^>]*>/g,"")};else if(l==="core/heading"){const d=h.match(/<h(\d)/)?.[1];y={text:h.replace(/<[^>]*>/g,""),level:d?parseInt(d):2}}else y={text:h};return{id:`block-${Date.now()}-${a}`,type:l==="core/paragraph"?"paragraph":l==="core/heading"?"heading":l.replace("core/",""),content:y,attributes:p}}):[{id:`block-${Date.now()}`,type:"paragraph",content:{text:m.replace(/<[^>]*>/g,"")}}]},ms=m=>m.map(r=>{const x=r.type==="paragraph"?"core/paragraph":r.type==="heading"?"core/heading":`core/${r.type}`;let i=`<!-- wp:${x}`;if(r.attributes&&Object.keys(r.attributes).length>0&&(i+=` ${JSON.stringify(r.attributes)}`),i+=` -->
`,r.type==="paragraph")i+=`<p>${r.content.text||""}</p>`;else if(r.type==="heading"){const a=r.content.level||2;i+=`<h${a}>${r.content.text||""}</h${a}>`}else r.type==="list"?i+=`<ul>${(r.content.items||[]).map(a=>`<li>${a}</li>`).join("")}</ul>`:r.type==="quote"?(i+=`<blockquote class="wp-block-quote"><p>${r.content.text||""}</p>`,r.content.citation&&(i+=`<cite>${r.content.citation}</cite>`),i+="</blockquote>"):r.type==="image"?(i+=`<figure class="wp-block-image"><img src="${r.content.url||""}" alt="${r.content.alt||""}"/>`,r.content.caption&&(i+=`<figcaption>${r.content.caption}</figcaption>`),i+="</figure>"):i+=`<div>${r.content.text||""}</div>`;return i+=`
<!-- /wp:${x} -->
`,i}).join(`
`),us=({initialBlocks:m=[],onChange:r,onSave:x,content:i,onContentChange:a})=>{const[l,N]=u.useState(()=>i?xs(i):m),[h,p]=u.useState(null),[y,d]=u.useState(!1),[f,F]=u.useState(null),[H,z]=u.useState(null),[L,P]=u.useState(!1),[R,C]=u.useState(!0),[S,k]=u.useState(""),[w,I]=u.useState(null),[T,t]=u.useState(null),g=u.useRef(null),W=os.filter(s=>{const o=!S||s.title.toLowerCase().includes(S.toLowerCase())||s.description?.toLowerCase().includes(S.toLowerCase()),c=!w||s.category===w;return o&&c}),B=s=>{N(s),r&&r(s),a&&a(ms(s))},ne=(s,o)=>{const c={id:`block-${Date.now()}`,type:s,content:ie(s),attributes:{}},n=[...l];o!==void 0?n.splice(o,0,c):n.push(c),B(n),d(!1),F(null),z(null),p(c.id)},ie=s=>{switch(s){case"paragraph":return{text:""};case"heading":return{text:"",level:2};case"image":return{url:"",alt:"",caption:""};case"list":return{items:[""],ordered:!1};case"quote":return{text:"",citation:""};case"code":return{code:"",language:"javascript"};case"columns":return{columns:2,content:[]};default:return{}}},X=(s,o)=>{const c=l.map(n=>n.id===s?{...n,content:o}:n);B(c)},ce=s=>{const o=l.filter(c=>c.id!==s);B(o),p(null)},oe=s=>{const o=l.findIndex(M=>M.id===s);if(o===-1)return;const c=l[o],n={...c,id:`block-${Date.now()}`,content:{...c.content}},v=[...l];v.splice(o+1,0,n),B(v)},Y=(s,o)=>{const c=l.findIndex(pe=>pe.id===s);if(c===-1)return;const n=o==="up"?c-1:c+1;if(n<0||n>=l.length)return;const v=[...l],[M]=v.splice(c,1);v.splice(n,0,M),B(v)},Z=(s,o)=>{t(o),s.dataTransfer.effectAllowed="move"},de=s=>{s.preventDefault(),s.dataTransfer.dropEffect="move"},xe=(s,o)=>{if(s.preventDefault(),!T)return;const c=l.findIndex(M=>M.id===T);if(c===-1)return;const n=[...l],[v]=n.splice(c,1);n.splice(o,0,v),B(n),t(null)},me=(s,o)=>{const c=s.currentTarget.getBoundingClientRect();F({x:c.left+c.width/2,y:c.top}),z(o),d(!0)},ue=()=>y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),e.jsxs("div",{className:"fixed z-50 bg-white rounded-lg shadow-xl border w-80 max-h-96 overflow-hidden",style:{left:f?`${f.x-160}px`:"50%",top:f?`${f.y+20}px`:"50%",transform:f?void 0:"translate(-50%, -50%)"},children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"블록 검색...",className:"w-full pl-9 pr-3 py-2 border rounded-md text-sm",value:S,onChange:s=>k(s.target.value),autoFocus:!0})]})}),e.jsxs("div",{className:"flex gap-2 p-3 border-b",children:[e.jsx("button",{onClick:()=>I(null),className:E("px-3 py-1 text-xs rounded-full transition-colors",w?"text-gray-600 hover:bg-gray-100":"bg-blue-100 text-blue-700"),children:"모두"}),ds.map(s=>e.jsx("button",{onClick:()=>I(s.id),className:E("px-3 py-1 text-xs rounded-full transition-colors",w===s.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:s.title},s.id))]}),e.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:W.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"검색 결과가 없습니다"}):e.jsx("div",{className:"grid grid-cols-3 gap-2",children:W.map(s=>e.jsxs("button",{onClick:()=>ne(s.id,H??void 0),className:"flex flex-col items-center gap-2 p-3 rounded-lg hover:bg-gray-100 transition-colors group",children:[e.jsx("div",{className:"text-gray-600 group-hover:text-blue-600 transition-colors",children:s.icon}),e.jsx("span",{className:"text-xs text-gray-700",children:s.title})]},s.id))})})]})]}):null,he=({block:s,index:o})=>{const c=h===s.id;return e.jsxs("div",{className:E("group relative transition-all",c&&"ring-2 ring-blue-500 ring-offset-2"),onClick:()=>p(s.id),draggable:!0,onDragStart:n=>Z(n,s.id),onDragOver:de,onDrop:n=>xe(n,o),children:[e.jsxs("div",{className:E("absolute -left-12 top-0 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",c&&"opacity-100"),children:[e.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",onMouseDown:n=>{n.preventDefault(),Z(n,s.id)},children:e.jsx(qe,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",onClick:()=>Y(s.id,"up"),children:e.jsx(Ee,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",onClick:()=>Y(s.id,"down"),children:e.jsx(ze,{className:"w-4 h-4"})})]}),c&&e.jsxs("div",{className:"absolute -top-10 left-0 flex items-center gap-1 bg-white border rounded-lg shadow-lg p-1 z-10",children:[s.type==="paragraph"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(He,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(ke,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(Ke,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(Oe,{className:"w-4 h-4"})})]}),s.type==="heading"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(ae,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:e.jsx(Qe,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",onClick:()=>oe(s.id),children:e.jsx(_e,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-red-600",onClick:()=>ce(s.id),children:e.jsx(Ge,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"min-h-[60px] p-4 bg-white border rounded-lg",children:[s.type==="paragraph"&&e.jsx("div",{contentEditable:!0,className:"outline-none",dangerouslySetInnerHTML:{__html:s.content.text||"단락을 입력하세요..."},onBlur:n=>X(s.id,{text:n.currentTarget.innerHTML})}),s.type==="heading"&&e.jsx("h2",{contentEditable:!0,className:"text-2xl font-bold outline-none",dangerouslySetInnerHTML:{__html:s.content.text||"제목을 입력하세요..."},onBlur:n=>X(s.id,{...s.content,text:n.currentTarget.innerHTML})}),s.type==="image"&&e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded",children:[e.jsx(re,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"이미지를 업로드하거나 선택하세요"}),e.jsx(b,{variant:"outline",size:"sm",className:"mt-2",children:"미디어 라이브러리"})]}),s.type==="list"&&e.jsx("ul",{className:"list-disc list-inside",children:s.content.items?.map((n,v)=>e.jsx("li",{children:n||"목록 항목"},v))}),s.type==="quote"&&e.jsxs("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic",children:[e.jsx("p",{children:s.content.text||"인용문을 입력하세요..."}),s.content.citation&&e.jsxs("cite",{className:"text-sm text-gray-600",children:["— ",s.content.citation]})]}),s.type==="code"&&e.jsx("pre",{className:"bg-gray-900 text-white p-4 rounded overflow-x-auto",children:e.jsx("code",{children:s.content.code||"// 코드를 입력하세요"})})]}),e.jsx("div",{className:"relative h-8 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",onClick:n=>{n.stopPropagation(),me(n,o+1)},children:e.jsx("button",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:e.jsx(K,{className:"w-4 h-4"})})})]})};return e.jsxs("div",{className:E("gutenberg-editor flex h-screen bg-gray-50",L&&"fixed inset-0 z-50"),children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b px-4 py-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(!y),className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(K,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-8 bg-gray-300 mx-2"}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:"outline",size:"sm",onClick:()=>x&&x(l),children:"저장"}),e.jsx("button",{onClick:()=>C(!R),className:"p-2 hover:bg-gray-100 rounded",children:e.jsx(be,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>P(!L),className:"p-2 hover:bg-gray-100 rounded",children:L?e.jsx(Ce,{className:"w-5 h-5"}):e.jsx(Se,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[e.jsx("input",{type:"text",placeholder:"제목을 입력하세요",className:"w-full text-4xl font-bold mb-8 outline-none bg-transparent"}),e.jsx("div",{className:"space-y-2 relative",ref:g,children:l.length===0?e.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>d(!0),children:[e.jsx(K,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"블록을 추가하려면 클릭하세요"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'또는 "/" 를 입력하여 빠르게 추가'})]}):l.map((s,o)=>e.jsx(he,{block:s,index:o},s.id))})]})})]}),R&&e.jsxs("div",{className:"w-80 bg-white border-l flex flex-col",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"font-semibold",children:"블록 설정"})}),e.jsx("div",{className:"flex-1 overflow-auto p-4",children:h?e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["선택된 블록: ",l.find(s=>s.id===h)?.type]})}):e.jsx("p",{className:"text-sm text-gray-500",children:"블록을 선택하여 설정을 편집하세요"})})]}),e.jsx(ue,{})]})},te=[{value:"default",label:"기본 템플릿"},{value:"full-width",label:"전체 너비"},{value:"sidebar-left",label:"왼쪽 사이드바"},{value:"sidebar-right",label:"오른쪽 사이드바"},{value:"landing",label:"랜딩 페이지"},{value:"contact",label:"연락처"},{value:"about",label:"회사 소개"}],ys=()=>{const m=We(),{id:r}=Xe(),x=ns(),i=!!r,[a,l]=u.useState({title:"",content:"",excerpt:"",type:"page",status:"draft",visibility:"public",template:"default",meta:{seoTitle:"",seoDescription:"",seoKeywords:[]}}),[N,h]=u.useState(!1),[p,y]=u.useState(null),{data:d,isLoading:f}=ee({queryKey:["page",r],queryFn:async()=>(await A.api.get(`/posts/${r}`)).data,enabled:i}),{data:F=[]}=ee({queryKey:["all-pages"],queryFn:async()=>(await A.api.get("/posts?type=page&status=published")).data.posts||[]}),{isSaving:H,lastSaved:z,hasUnsavedChanges:L,savedInLocalStorage:P,recoverFromLocalStorage:R,clearLocalStorage:C}=ss(a,{postId:r,postType:"page",interval:3e4,onSaveSuccess:()=>{}});u.useEffect(()=>{(async()=>{const g=await R();g&&!r&&(y({data:g,timestamp:new Date}),h(!0))})()},[r,R]);const S=()=>{p&&(l(p.data),C(),h(!1),q.success("임시 저장된 내용이 복구되었습니다"))},k=()=>{C(),h(!1)},w=se({mutationFn:async t=>(await A.api.post("/posts",t)).data,onSuccess:t=>{q.success("페이지가 저장되었습니다"),x.invalidateQueries({queryKey:["pages"]}),C(),m(`/content/pages/${t.id}/edit`)},onError:()=>{q.error("페이지 저장에 실패했습니다")}}),I=se({mutationFn:async t=>(await A.api.put(`/posts/${r}`,t)).data,onSuccess:()=>{q.success("페이지가 수정되었습니다"),x.invalidateQueries({queryKey:["pages"]}),x.invalidateQueries({queryKey:["page",r]}),C()},onError:()=>{q.error("페이지 수정에 실패했습니다")}});u.useEffect(()=>{d&&l({title:d.title,content:d.content,excerpt:d.excerpt||"",type:d.type,status:d.status,visibility:d.visibility,password:d.password,template:d.template||"default",parentId:d.parentId,meta:d.meta||{seoTitle:"",seoDescription:"",seoKeywords:[]}})},[d]);const T=(t="draft")=>{const g={...a,status:t};i?I.mutate({id:r,...g}):w.mutate(g)};return i&&f?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>m("/content/pages"),children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"페이지 목록"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i?"페이지 수정":"새 페이지 만들기"}),e.jsx(is,{isSaving:H,lastSaved:z,hasUnsavedChanges:L,savedInLocalStorage:P})]}),N&&p&&e.jsx(cs,{timestamp:p.timestamp,onRecover:S,onDiscard:k}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx("div",{className:"wp-card",children:e.jsxs("div",{className:"wp-card-body",children:[e.jsx(j,{htmlFor:"title",children:"제목"}),e.jsx(D,{id:"title",placeholder:"페이지 제목을 입력하세요",value:a.title,onChange:t=>l({...a,title:t.target.value}),className:"mt-2"})]})}),e.jsx("div",{className:"wp-card",children:e.jsxs("div",{className:"wp-card-body",children:[e.jsx(j,{children:"내용"}),e.jsx("div",{className:"mt-2",children:e.jsx(us,{content:a.content,onContentChange:t=>l({...a,content:t}),onSave:()=>T(a.status)})})]})}),e.jsx("div",{className:"wp-card",children:e.jsx("div",{className:"wp-card-body",children:e.jsxs(ts,{defaultValue:"page-attributes",children:[e.jsxs(as,{className:"grid w-full grid-cols-3",children:[e.jsx(O,{value:"page-attributes",children:"페이지 속성"}),e.jsx(O,{value:"seo",children:"SEO"}),e.jsx(O,{value:"advanced",children:"고급"})]}),e.jsxs(V,{value:"page-attributes",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"template",children:"템플릿"}),e.jsxs(Q,{value:a.template,onValueChange:t=>l({...a,template:t}),children:[e.jsx(_,{className:"mt-2",children:e.jsx(G,{})}),e.jsx(J,{children:te.map(t=>e.jsx($,{value:t.value,children:t.label},t.value))})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"페이지의 레이아웃을 결정합니다"})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"parent",children:"부모 페이지"}),e.jsxs(Q,{value:a.parentId||"none",onValueChange:t=>l({...a,parentId:t==="none"?void 0:t}),children:[e.jsx(_,{className:"mt-2",children:e.jsx(G,{})}),e.jsxs(J,{children:[e.jsx($,{value:"none",children:"(부모 없음)"}),F.filter(t=>t.id!==r).map(t=>e.jsx($,{value:t.id,children:t.title},t.id))]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"계층 구조를 만들 수 있습니다"})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"order",children:"순서"}),e.jsx(D,{id:"order",type:"number",placeholder:"0",value:a.order||"",onChange:t=>l({...a,order:t.target.value?parseInt(t.target.value):void 0}),className:"mt-2"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"메뉴에서의 표시 순서를 지정합니다"})]})]}),e.jsxs(V,{value:"seo",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"seoTitle",children:"SEO 제목"}),e.jsx(D,{id:"seoTitle",placeholder:"검색 결과에 표시될 제목",value:a.meta?.seoTitle,onChange:t=>l({...a,meta:{...a.meta,seoTitle:t.target.value}}),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"seoDescription",children:"SEO 설명"}),e.jsx(U,{id:"seoDescription",placeholder:"검색 결과에 표시될 설명",value:a.meta?.seoDescription,onChange:t=>l({...a,meta:{...a.meta,seoDescription:t.target.value}}),className:"mt-2",rows:3})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"seoKeywords",children:"SEO 키워드"}),e.jsx(D,{id:"seoKeywords",placeholder:"키워드를 쉼표로 구분하여 입력",value:a.meta?.seoKeywords?.join(", "),onChange:t=>l({...a,meta:{...a.meta,seoKeywords:t.target.value.split(",").map(g=>g.trim()).filter(Boolean)}}),className:"mt-2"})]})]}),e.jsx(V,{value:"advanced",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"slug",children:"슬러그"}),e.jsx(D,{id:"slug",placeholder:"url-friendly-slug",value:a.slug||"",onChange:t=>l({...a,slug:t.target.value}),className:"mt-2"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"URL에 사용될 주소입니다. 비워두면 제목에서 자동 생성됩니다"})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"excerpt",children:"요약"}),e.jsx(U,{id:"excerpt",placeholder:"페이지 요약을 입력하세요 (선택사항)",value:a.excerpt,onChange:t=>l({...a,excerpt:t.target.value}),className:"mt-2",rows:3})]})]})})]})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"wp-card",children:[e.jsx("div",{className:"wp-card-header",children:e.jsx("h3",{className:"font-medium",children:"게시"})}),e.jsxs("div",{className:"wp-card-body space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"상태:"}),e.jsxs(rs,{variant:a.status==="published"?"default":"secondary",children:[a.status==="draft"&&"임시저장",a.status==="published"&&"게시됨",a.status==="scheduled"&&"예약됨"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"공개 설정:"}),e.jsxs(Q,{value:a.visibility,onValueChange:t=>l({...a,visibility:t}),children:[e.jsx(_,{className:"w-32",children:e.jsx(G,{})}),e.jsxs(J,{children:[e.jsx($,{value:"public",children:"공개"}),e.jsx($,{value:"private",children:"비공개"}),e.jsx($,{value:"password",children:"비밀번호"})]})]})]}),a.visibility==="password"&&e.jsxs("div",{children:[e.jsx(j,{htmlFor:"password",children:"비밀번호"}),e.jsx(D,{id:"password",type:"password",value:a.password||"",onChange:t=>l({...a,password:t.target.value}),className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(b,{variant:"outline",className:"flex-1",onClick:()=>T("draft"),disabled:w.isPending||I.isPending,children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"임시저장"]}),e.jsxs(b,{className:"flex-1",onClick:()=>T("published"),disabled:w.isPending||I.isPending,children:[e.jsx(Ue,{className:"w-4 h-4 mr-2"}),"게시"]})]})]})]}),e.jsxs("div",{className:"wp-card",children:[e.jsx("div",{className:"wp-card-header",children:e.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[e.jsx(es,{className:"w-4 h-4"}),"페이지 속성"]})}),e.jsxs("div",{className:"wp-card-body space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"템플릿:"}),e.jsx("span",{className:"font-medium",children:te.find(t=>t.value===a.template)?.label||"기본 템플릿"})]}),a.parentId&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"부모 페이지:"}),e.jsx("span",{className:"font-medium",children:F.find(t=>t.id===a.parentId)?.title||"-"})]}),a.order&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"순서:"}),e.jsx("span",{className:"font-medium",children:a.order})]})]})]})]})]})]})};export{is as A,ys as P,cs as R};
