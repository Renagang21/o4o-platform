import{r as d,z as b,j as e,U as v,o as N,Z as w,n as S,cg as U,bv as L,H as C,J as u,as as T,aU as A,ci as R}from"./vendor-react-P__8vGRG.js";import{C as r,a as x,b as o,c as m,d as c,B as l}from"./index-C0gS3Jf3.js";import{S as M,d as k,e as D,f as E,g as j}from"./page-template-editor-BTdVTS-a.js";import{U as P}from"./userApi-m_Dm3U7g.js";import"./vendor-query-CucHvDcH.js";import"./vendor-socket-DgcwqWsT.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-utils-dq2XMRwt.js";import"./unified-client-DYKT-pLO.js";const t=({title:a,value:h,icon:g,trend:i,color:n="text-blue-600"})=>e.jsx(r,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:a}),e.jsx("p",{className:"text-2xl font-bold",children:h}),i&&e.jsxs("div",{className:`flex items-center gap-1 text-sm mt-1 ${i.isPositive?"text-green-600":"text-red-600"}`,children:[i.isPositive?e.jsx(A,{className:"h-4 w-4"}):e.jsx(R,{className:"h-4 w-4"}),e.jsxs("span",{children:[Math.abs(i.value),"%"]})]})]}),e.jsx("div",{className:`${n}`,children:g})]})})});function O(){const[a,h]=d.useState(null),[g,i]=d.useState(!0),[n,f]=d.useState("30d");d.useEffect(()=>{y()},[n]);const y=async()=>{try{i(!0);const s=await P.getUserStats();s.data.success&&h(s.data.data)}catch{b.error("Failed to load user statistics")}finally{i(!1)}};return g?e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(s=>e.jsx("div",{className:"h-32 bg-gray-200 rounded"},s))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-64 bg-gray-200 rounded"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})]})}):a?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"User Statistics"}),e.jsx("p",{className:"text-gray-600",children:"Overview of user registrations and activity"})]}),e.jsxs(M,{value:n,onValueChange:f,children:[e.jsx(k,{className:"w-48",children:e.jsx(D,{placeholder:"Select time range"})}),e.jsxs(E,{children:[e.jsx(j,{value:"7d",children:"Last 7 days"}),e.jsx(j,{value:"30d",children:"Last 30 days"}),e.jsx(j,{value:"90d",children:"Last 90 days"}),e.jsx(j,{value:"1y",children:"Last year"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(t,{title:"Total Users",value:a.total.toLocaleString(),icon:e.jsx(v,{className:"h-6 w-6"}),color:"text-blue-600"}),e.jsx(t,{title:"Active Users",value:a.active.toLocaleString(),icon:e.jsx(N,{className:"h-6 w-6"}),color:"text-green-600"}),e.jsx(t,{title:"Pending Approval",value:a.pending.toLocaleString(),icon:e.jsx(w,{className:"h-6 w-6"}),color:"text-yellow-600"}),e.jsx(t,{title:"New This Month",value:a.recentRegistrations.toLocaleString(),icon:e.jsx(S,{className:"h-6 w-6"}),color:"text-purple-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(t,{title:"Approved Users",value:a.approved.toLocaleString(),icon:e.jsx(N,{className:"h-6 w-6"}),color:"text-green-600"}),e.jsx(t,{title:"Rejected Users",value:a.rejected.toLocaleString(),icon:e.jsx(U,{className:"h-6 w-6"}),color:"text-red-600"}),e.jsx(t,{title:"Email Verified",value:`${(a.emailVerified/a.total*100).toFixed(1)}%`,icon:e.jsx(L,{className:"h-6 w-6"}),color:"text-blue-600"}),e.jsx(t,{title:"Suspended Users",value:a.suspended.toLocaleString(),icon:e.jsx(C,{className:"h-6 w-6"}),color:"text-orange-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Login Activity"}),e.jsx(m,{children:"User login statistics over different time periods"})]}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Today"})]}),e.jsxs(l,{className:"bg-green-100 text-green-800",children:[a.loginActivity.today," logins"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"This Week"})]}),e.jsxs(l,{className:"bg-blue-100 text-blue-800",children:[a.loginActivity.thisWeek," logins"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"This Month"})]}),e.jsxs(l,{className:"bg-purple-100 text-purple-800",children:[a.loginActivity.thisMonth," logins"]})]})]})})]}),e.jsxs(r,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Role Distribution"}),e.jsx(m,{children:"Breakdown of users by role"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:a.roleDistribution.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium capitalize",children:s.role.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[s.percentage.toFixed(1),"%"]}),e.jsx(l,{variant:"outline",children:s.count})]})]},s.role))})})]})]}),e.jsxs(r,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Registration Trends"}),e.jsx(m,{children:"Daily user registration and approval statistics"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:a.registrationTrends.slice(0,7).map((s,p)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:"font-medium",children:s.date})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(l,{variant:"outline",className:"text-blue-600",children:[s.count," registered"]}),e.jsxs(l,{variant:"outline",className:"text-green-600",children:[s.approved," approved"]}),e.jsxs(l,{variant:"outline",className:"text-red-600",children:[s.rejected," rejected"]})]})]},p))})})]}),e.jsxs(r,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Most Active Users"}),e.jsx(m,{children:"Users with the most login activity"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:a.topActiveUsers.map((s,p)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["#",p+1]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:[s.loginCount," logins"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Last: ",s.lastLogin?new Date(s.lastLogin).toLocaleDateString():"Never"]})]})]},s.id))})})]})]}):e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(v,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No statistics available"}),e.jsx("p",{className:"text-gray-600",children:"Unable to load user statistics at this time."})]})})}export{O as default};
//# sourceMappingURL=UserStatistics-Dq9rkEEm.js.map
