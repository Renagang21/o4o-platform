const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-react-BQ6HOJoh.js","assets/vendor-ui-CrFdsnXa.js","assets/vendor-monaco-BxJH8uUv.js","assets/vendor-utils-D-spY-QM.js","assets/vendor-query-LYSOqK5P.js","assets/page-template-editor-C7FodHrK.js","assets/block-manager-Ci9-lUcl.js","assets/wordpress-block-loader-CqLzQMw8.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,a as n,bc as r,bd as s,V as o,be as a,bf as l,bg as i,bh as c,bi as d,bj as u,bk as p,bl as m,bm as h,bn as g,bo as f,bp as x,bq as b,br as y,bs as w,bt as v,bu as j,bv as k,bw as N,bx as C,by as E,bz as S,bA as _,bB as P,bC as R,bD as O,bE as T,bF as A,bG as B,bH as I,bI as $,bJ as M,bK as D,bL as L,bM as F,bN as z,bO as U,bP as H,bQ as V,bR as W,bS as G,E as q,bT as J,bU as Y,bV as K,bW as Z,S as X,bX as Q,bY as ee,bZ as te,b_ as ne,b$ as re,c0 as se,c1 as oe,c2 as ae,c3 as le}from"./vendor-react-BQ6HOJoh.js";import{c as ie}from"./vendor-ui-CrFdsnXa.js";import{u as ce,a as de,b as ue}from"./vendor-query-LYSOqK5P.js";import{c as pe,a as me,b as he,I as ge,B as fe,L as xe,T as be,d as ye,e as we,f as ve,g as je,S as ke,h as Ne,i as Ce,j as Ee,k as Se}from"./page-template-editor-C7FodHrK.js";import{u as _e}from"./vendor-utils-D-spY-QM.js";import{m as Pe,j as Re,h as Oe,a2 as Te}from"./wp-block-editor-api-Buev8_QU.js";import{n as Ae,o as Be,q as Ie,s as $e,t as Me}from"./wp-core-Y-jV-nrZ.js";import{cq as De,cr as Le,aS as Fe}from"./wp-block-editor-misc-pHCPYvR2.js";import"./wp-block-editor-a11y-DrduSWFW.js";import{c as ze,r as Ue,a as He,b as Ve,u as We,d as Ge,e as qe,f as Je,g as Ye,h as Ke,i as Ze,j as Xe,k as Qe}from"./wp-data-BmtL8k4r.js";import{d as et,e as tt,f as nt}from"./wp-i18n-DGPtqsXY.js";import"./wp-block-editor-utils-M5qXzE1L.js";import"./wp-block-editor-store-B-g1aSix.js";import{X as rt,Y as st,s as ot}from"./wp-blocks-core-6vwQKPfS.js";import{SlotFillProvider as at}from"./wp-components-CeQNCpMW.js";import{q as lt,l as it}from"./wp-block-editor-ui-B8YE_4QL.js";import{W as ct,O as dt,h as ut}from"./wp-block-editor-core-DL280tSA.js";const pt={},mt=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=e?.nonce||e?.getAttribute("nonce");s=t.map(e=>{if((e=function(e){return"/"+e}(e))in pt)return;pt[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,n&&s.setAttribute("nonce",n),document.head.appendChild(s),t?new Promise((t,n)=>{s.addEventListener("load",t),s.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}),r=Promise.all(s.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))}var s;function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},ht=e.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...n}));ht.displayName="Card";const gt=e.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:pe("flex flex-col space-y-1.5 p-6",e),...n}));gt.displayName="CardHeader";const ft=e.forwardRef(({className:e,...n},r)=>t.jsx("h3",{ref:r,className:pe("text-2xl font-semibold leading-none tracking-tight",e),...n}));ft.displayName="CardTitle";const xt=e.forwardRef(({className:e,...n},r)=>t.jsx("p",{ref:r,className:pe("text-sm text-muted-foreground",e),...n}));xt.displayName="CardDescription";const bt=e.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:pe("p-6 pt-0",e),...n}));bt.displayName="CardContent";const yt=e.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:pe("flex items-center p-6 pt-0",e),...n}));yt.displayName="CardFooter";const wt=e.createContext(null),vt=e.createContext(null),jt=({open:n,defaultOpen:r=!1,onOpenChange:s,children:o})=>{const[a,l]=e.useState(r),i=n??a;return t.jsx(wt.Provider,{value:{open:i,onOpenChange:e=>{void 0===n&&l(e),s?.(e)}},children:t.jsx("div",{className:"relative inline-block text-left",children:o})})},kt=e.forwardRef(({onClick:n,...r},s)=>{const o=e.useContext(wt);if(!o)throw new Error("DropdownMenuTrigger must be used within DropdownMenu");return t.jsx("button",{ref:s,onClick:e=>{n?.(e),o.onOpenChange(!o.open)},"aria-expanded":o.open,"aria-haspopup":"true",...r})}),Nt=e.forwardRef(({className:n,sideOffset:r=4,children:s,...o})=>{const a=e.useContext(wt);if(!a)throw new Error("DropdownMenuContent must be used within DropdownMenu");const l=e.useRef(null);return e.useEffect(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&a.onOpenChange(!1)};if(a.open)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]),a.open?t.jsx("div",{ref:l,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","animate-in fade-in-0 zoom-in-95",n),style:{marginTop:`${r}px`},...o,children:s}):null}),Ct=e.forwardRef(({className:n,inset:r,disabled:s,onClick:o,...a},l)=>{const i=e.useContext(wt);return t.jsx("div",{ref:l,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors","hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground",s&&"pointer-events-none opacity-50",r&&"pl-8",n),onClick:e=>{s||(o?.(e),i?.onOpenChange(!1))},role:"menuitem","aria-disabled":s,...a})}),Et=e.forwardRef(({className:e,children:r,checked:s,onCheckedChange:o,disabled:a,onClick:l,...i},c)=>t.jsxs("div",{ref:c,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors","hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground",a&&"pointer-events-none opacity-50",e),onClick:e=>{a||(l?.(e),o?.(!s))},role:"menuitemcheckbox","aria-checked":s,"aria-disabled":a,...i,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s&&t.jsx(n,{className:"h-4 w-4"})}),r]})),St=e.forwardRef(({className:n,children:s,value:o,disabled:a,onClick:l,...i},c)=>{const d=e.useContext(vt),u=d?.value===o;return t.jsxs("div",{ref:c,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors","hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground",a&&"pointer-events-none opacity-50",n),onClick:e=>{a||(l?.(e),d?.onValueChange(o))},role:"menuitemradio","aria-checked":u,"aria-disabled":a,...i,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u&&t.jsx(r,{className:"h-2 w-2 fill-current"})}),s]})}),_t=e.forwardRef(({className:e,inset:n,...r},s)=>t.jsx("div",{ref:s,className:pe("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...r})),Pt=e.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:pe("-mx-1 my-1 h-px bg-muted",e),role:"separator",...n})),Rt=e.forwardRef(({className:n,inset:r,children:o,disabled:a,...l},i)=>{const c=e.useContext(wt);if(!c)throw new Error("DropdownMenuSubTrigger must be used within DropdownMenuSub");return t.jsxs("div",{ref:i,className:pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none","hover:bg-accent","data-[state=open]:bg-accent",a&&"pointer-events-none opacity-50",r&&"pl-8",n),onClick:()=>!a&&c.onOpenChange(!c.open),"data-state":c.open?"open":"closed",...l,children:[o,t.jsx(s,{className:"ml-auto h-4 w-4"})]})}),Ot=e.forwardRef(({className:n,children:r,...s},o)=>{const a=e.useContext(wt);if(!a)throw new Error("DropdownMenuSubContent must be used within DropdownMenuSub");return a.open?t.jsx("div",{ref:o,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg","absolute left-full top-0 ml-1","animate-in fade-in-0 zoom-in-95",n),...s,children:r}):null});kt.displayName="DropdownMenuTrigger",Nt.displayName="DropdownMenuContent",Ct.displayName="DropdownMenuItem",Et.displayName="DropdownMenuCheckboxItem",St.displayName="DropdownMenuRadioItem",_t.displayName="DropdownMenuLabel",Pt.displayName="DropdownMenuSeparator",Ot.displayName="DropdownMenuSubContent",Rt.displayName="DropdownMenuSubTrigger";const Tt=me("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function At({className:e,variant:n,...r}){return t.jsx("div",{className:pe(Tt({variant:n}),e),...r})}function Bt(t,n={}){const{saveInterval:r=n.interval||3e4,debounceDelay:s=1e3,enableLocalStorage:a=!0,enableCloudSave:l=!0,onSave:i,onRestore:c,storageKey:d=(n.postId?`wordpress-editor-autosave-${n.postType||"post"}-${n.postId}`:"wordpress-editor-autosave"),onSaveSuccess:u}=n,[p,m]=e.useState({isSaving:!1,lastSavedAt:null,hasUnsavedChanges:!1,error:null,backupExists:!1}),[h,g]=e.useState(t||null),f=function(t,n){const[r,s]=e.useState(t);return e.useEffect(()=>{const e=setTimeout(()=>{s(t)},n);return()=>{clearTimeout(e)}},[t,n]),r}(h,s),x=e.useRef(void 0),b=e.useRef(!1);e.useEffect(()=>{if(a){const e=localStorage.getItem(d);m(t=>({...t,backupExists:!!e}))}},[a,d]);const y=e.useCallback(e=>{if(a)try{const t={content:e,timestamp:(new Date).toISOString(),version:"1.0"};localStorage.setItem(d,JSON.stringify(t))}catch(t){if(t instanceof DOMException&&"QuotaExceededError"===t.name)try{localStorage.removeItem(d+"-old"),localStorage.setItem(d+"-old",localStorage.getItem(d)||""),localStorage.setItem(d,JSON.stringify(e))}catch(n){}}},[a,d]),w=e.useCallback(async e=>{if(l&&i){m(e=>({...e,isSaving:!0,error:null}));try{await i(e),m(e=>({...e,isSaving:!1,lastSavedAt:new Date,hasUnsavedChanges:!1})),u&&u(),a&&(localStorage.removeItem(d),m(e=>({...e,backupExists:!1})))}catch(t){const n=t instanceof Error?t.message:"Unknown error";m(e=>({...e,isSaving:!1,error:n})),y(e),o.error("Failed to save to cloud. Local backup created.")}}},[l,i,a,d,y,u]),v=e.useCallback(async(e=h,t=!1)=>{e&&!b.current&&(y(e),!t&&x.current||await w(e))},[h,y,w]),j=e.useCallback(e=>{b.current||(g(e),m(e=>({...e,hasUnsavedChanges:!0})))},[]);e.useEffect(()=>{f&&!b.current&&v(f)},[f,v]),e.useEffect(()=>{if(!l||!p.hasUnsavedChanges)return;const e=setInterval(()=>{p.hasUnsavedChanges&&h&&v(h,!0)},r);return()=>clearInterval(e)},[l,p.hasUnsavedChanges,h,v,r]);const k=e.useCallback(async()=>{b.current=!0;try{if(c){const e=await c();if(e)return g(e),m(e=>({...e,hasUnsavedChanges:!1,lastSavedAt:new Date})),b.current=!1,e}if(a){const e=localStorage.getItem(d);if(e){const{content:t,timestamp:n}=JSON.parse(e);return g(t),o.success(`Restored from backup (${new Date(n).toLocaleString()})`),b.current=!1,t}}}catch(e){o.error("Failed to restore backup")}finally{b.current=!1}return null},[c,a,d]),N=e.useCallback(()=>{a&&(localStorage.removeItem(d),localStorage.removeItem(d+"-old"),n.postId&&(localStorage.removeItem(`page-${n.postId}-draft`),localStorage.removeItem(`post-${n.postId}-draft`)),m(e=>({...e,backupExists:!1,hasUnsavedChanges:!1})),b.current=!0,setTimeout(()=>{b.current=!1},100))},[a,d,n.postId]);return e.useEffect(()=>{const e=e=>{if(p.hasUnsavedChanges){const t="You have unsaved changes. Are you sure you want to leave?";return e.preventDefault(),e.returnValue=t,t}};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[p.hasUnsavedChanges]),e.useEffect(()=>{const e=()=>{document.hidden&&p.hasUnsavedChanges&&h&&v(h,!0)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[p.hasUnsavedChanges,h,v]),{...p,updateContent:j,save:()=>v(h,!0),restoreFromBackup:k,clearBackup:N,lastSaved:p.lastSavedAt,savedInLocalStorage:p.backupExists,recoverFromLocalStorage:k,clearLocalStorage:N}}const It=({_isOpen:r,onClose:s,onSelect:m,allowMultiple:h=!1,acceptedTypes:g=["image/*"]})=>{const[f,x]=e.useState("grid"),[b,y]=e.useState(""),[w,v]=e.useState([]),[j,k]=e.useState("library"),N=ce(),{data:C=[],isLoading:E}=de({queryKey:["media",b],queryFn:async()=>{const e=new URLSearchParams;b&&e.append("search",b);return(await he.api.get(`/media?${e}`)).data},enabled:r}),S=ue({mutationFn:async e=>{const t=new FormData;e.forEach(e=>{t.append("files",e)});return(await he.api.post("/media/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{o.success("파일이 업로드되었습니다"),N.invalidateQueries({queryKey:["media"]}),k("library")},onError:()=>{o.error("파일 업로드에 실패했습니다")}}),_=e.useCallback(e=>{S.mutate(e)},[S]),{getRootProps:P,getInputProps:R,isDragActive:O}=a({onDrop:_,accept:g.reduce((e,t)=>({...e,[t]:[]}),{}),multiple:!0}),T=e=>{h?v(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id]):(m(e),s())};return r?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[80vh] flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"미디어 라이브러리"}),t.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(l,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex border-b",children:[t.jsx("button",{onClick:()=>k("library"),className:ie("px-6 py-3 font-medium transition-colors","library"===j?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"),children:"미디어 라이브러리"}),t.jsx("button",{onClick:()=>k("upload"),className:ie("px-6 py-3 font-medium transition-colors","upload"===j?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"),children:"파일 업로드"})]}),t.jsx("div",{className:"flex-1 overflow-hidden",children:"library"===j?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx(ge,{type:"search",placeholder:"미디어 검색...",value:b,onChange:e=>y(e.target.value),className:"pl-10 w-64"})]}),t.jsxs("div",{className:"flex items-center gap-1 border rounded-lg",children:[t.jsx("button",{onClick:()=>x("grid"),className:ie("p-2 transition-colors","grid"===f?"bg-gray-100":"hover:bg-gray-50"),children:t.jsx(c,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>x("list"),className:ie("p-2 transition-colors","list"===f?"bg-gray-100":"hover:bg-gray-50"),children:t.jsx(d,{className:"w-4 h-4"})})]})]}),h&&w.length>0&&t.jsxs(fe,{onClick:()=>{const e=C.filter(e=>w.includes(e.id));e.length>0&&(e.forEach(e=>m(e)),s())},children:[w.length,"개 선택 완료"]})]}),t.jsx("div",{className:"p-4 overflow-y-auto h-full",children:E?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):0===C.length?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[t.jsx(u,{className:"w-16 h-16 mb-4"}),t.jsx("p",{children:"미디어가 없습니다"})]}):"grid"===f?t.jsx("div",{className:"grid grid-cols-6 gap-4",children:C.map(e=>t.jsxs("div",{onClick:()=>T(e),className:ie("relative aspect-square rounded-lg overflow-hidden cursor-pointer group","border-2 transition-all hover:shadow-lg",w.includes(e.id)?"border-blue-600":"border-gray-200 hover:border-gray-300"),children:[t.jsx("img",{src:e.thumbnailUrl||e.url,alt:e.alt||e.filename,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-opacity",children:w.includes(e.id)&&t.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:t.jsx(n,{className:"w-4 h-4 text-white"})})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("p",{className:"text-xs text-white truncate",children:e.filename})})]},e.id))}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-2",children:"파일"}),t.jsx("th",{className:"text-left py-2",children:"파일명"}),t.jsx("th",{className:"text-left py-2",children:"업로드 일시"}),t.jsx("th",{className:"text-left py-2",children:"크기"})]})}),t.jsx("tbody",{children:C.map(e=>t.jsxs("tr",{onClick:()=>T(e),className:ie("border-b cursor-pointer hover:bg-gray-50",w.includes(e.id)&&"bg-blue-50"),children:[t.jsx("td",{className:"py-2",children:t.jsx("img",{src:e.thumbnailUrl||e.url,alt:e.alt||e.filename,className:"w-10 h-10 object-cover rounded"})}),t.jsx("td",{className:"py-2",children:e.filename}),t.jsx("td",{className:"py-2 text-sm text-gray-600",children:_e(new Date(e.uploadedAt),"yyyy-MM-dd HH:mm")}),t.jsxs("td",{className:"py-2 text-sm text-gray-600",children:[(e.size/1024/1024).toFixed(2)," MB"]})]},e.id))})]})})]}):t.jsxs("div",{className:"p-8 h-full flex items-center justify-center",children:[t.jsxs("div",{...P(),className:ie("w-full max-w-2xl h-64 border-2 border-dashed rounded-lg","flex flex-col items-center justify-center cursor-pointer","transition-colors",O?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[t.jsx("input",{...R()}),t.jsx(p,{className:"w-12 h-12 text-gray-400 mb-4"}),O?t.jsx("p",{className:"text-lg text-blue-600",children:"파일을 여기에 놓으세요"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"파일을 드래그하거나 클릭하여 업로드"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["지원 형식: ",g.join(", ")]})]})]}),S.isPending&&t.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})]})})]})}):null},$t=({settings:e,onChange:n})=>{const r=[{value:"left",icon:m,label:"왼쪽"},{value:"center",icon:h,label:"가운데"},{value:"right",icon:g,label:"오른쪽"},{value:"wide",icon:f,label:"넓게"},{value:"full",icon:x,label:"전체 너비"}];return t.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-sm font-medium mb-2 block",children:"정렬"}),t.jsx("div",{className:"flex gap-1",children:r.map(r=>{const s=r.icon;return t.jsx("button",{onClick:()=>n({...e,alignment:r.value}),className:ie("p-2 rounded transition-colors",e.alignment===r.value?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"),title:r.label,children:t.jsx(s,{className:"w-4 h-4"})},r.value)})})]}),t.jsxs("div",{children:[t.jsx(xe,{className:"text-sm font-medium mb-2 block",children:"이미지 크기"}),t.jsx("select",{value:e.size||"large",onChange:t=>n({...e,size:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"thumbnail",label:"썸네일 (150x150)"},{value:"medium",label:"중간 (300x300)"},{value:"large",label:"크게 (1024x1024)"},{value:"full",label:"원본 크기"}].map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),"full"===e.size&&t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"width",className:"text-sm",children:"너비"}),t.jsx(ge,{id:"width",type:"number",value:e.width||"",onChange:t=>n({...e,width:parseInt(t.target.value)||void 0}),placeholder:"px"})]}),t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"height",className:"text-sm",children:"높이"}),t.jsx(ge,{id:"height",type:"number",value:e.height||"",onChange:t=>n({...e,height:parseInt(t.target.value)||void 0}),placeholder:"px"})]})]}),t.jsxs("div",{children:[t.jsxs(xe,{htmlFor:"alt",className:"text-sm font-medium mb-1 block",children:[t.jsx(b,{className:"w-3 h-3 inline mr-1"}),"대체 텍스트"]}),t.jsx(ge,{id:"alt",value:e.alt||"",onChange:t=>n({...e,alt:t.target.value}),placeholder:"이미지 설명"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"접근성을 위해 이미지를 설명하세요"})]}),t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"caption",className:"text-sm font-medium mb-1 block",children:"캡션"}),t.jsx(be,{id:"caption",value:e.caption||"",onChange:t=>n({...e,caption:t.target.value}),placeholder:"이미지 캡션 (선택사항)",rows:2})]}),t.jsxs("div",{children:[t.jsxs(xe,{htmlFor:"link",className:"text-sm font-medium mb-1 block",children:[t.jsx(y,{className:"w-3 h-3 inline mr-1"}),"링크 URL"]}),t.jsx(ge,{id:"link",type:"url",value:e.link||"",onChange:t=>n({...e,link:t.target.value}),placeholder:"https://example.com"}),e.link&&t.jsx("div",{className:"mt-2",children:t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:"_blank"===e.linkTarget,onChange:t=>n({...e,linkTarget:t.target.checked?"_blank":"_self"}),className:"rounded"}),t.jsx("span",{className:"text-sm",children:"새 탭에서 열기"})]})})]})]})},Mt=({settings:e,onChange:n})=>t.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs(xe,{className:"text-sm font-medium mb-2 block",children:[t.jsx(c,{className:"w-3 h-3 inline mr-1"}),"컬럼 수"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(r=>t.jsxs("button",{onClick:()=>n({...e,columns:r}),className:ie("p-2 rounded transition-colors text-sm",e.columns===r?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-300"),children:[r,"열"]},r))})]}),t.jsxs("div",{children:[t.jsxs(xe,{className:"text-sm font-medium mb-2 block",children:[t.jsx(w,{className:"w-3 h-3 inline mr-1"}),"이미지 표시"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>n({...e,imageCrop:!0}),className:ie("flex-1 p-2 rounded transition-colors text-sm",e.imageCrop?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-300"),children:"자르기"}),t.jsx("button",{onClick:()=>n({...e,imageCrop:!1}),className:ie("flex-1 p-2 rounded transition-colors text-sm",e.imageCrop?"bg-white text-gray-600 hover:bg-gray-100 border border-gray-300":"bg-blue-600 text-white"),children:"전체 표시"})]})]}),t.jsxs("div",{children:[t.jsxs(xe,{className:"text-sm font-medium mb-2 block",children:[t.jsx(y,{className:"w-3 h-3 inline mr-1"}),"이미지 클릭 시"]}),t.jsxs("select",{value:e.linkTo||"none",onChange:t=>n({...e,linkTo:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"none",children:"링크 없음"}),t.jsx("option",{value:"media",children:"미디어 파일"}),t.jsx("option",{value:"attachment",children:"첨부 페이지"})]})]}),e.images&&e.images.length>0&&t.jsxs("div",{children:[t.jsx(xe,{className:"text-sm font-medium mb-2 block",children:"이미지 관리"}),t.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:e.images.map((r,s)=>t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border",children:[t.jsx("img",{src:r.thumbnailUrl||r.url,alt:r.alt||"",className:"w-10 h-10 object-cover rounded"}),t.jsx("span",{className:"flex-1 text-sm truncate",children:r.alt||`이미지 ${s+1}`}),t.jsx("button",{onClick:()=>{const t=e.images.filter((e,t)=>t!==s);n({...e,images:t})},className:"text-red-600 hover:text-red-700 text-sm",children:"제거"})]},s))})]})]}),Dt=({settings:e,onChange:n})=>{const r=[{value:"left",icon:m,label:"왼쪽"},{value:"center",icon:h,label:"가운데"},{value:"right",icon:g,label:"오른쪽"}];return t.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs(xe,{htmlFor:"title",className:"text-sm font-medium mb-1 block",children:[t.jsx(b,{className:"w-3 h-3 inline mr-1"}),"제목"]}),t.jsx(ge,{id:"title",value:e.title||"",onChange:t=>n({...e,title:t.target.value}),placeholder:"Cover 제목"})]}),t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"text",className:"text-sm font-medium mb-1 block",children:"부제목"}),t.jsx(be,{id:"text",value:e.text||"",onChange:t=>n({...e,text:t.target.value}),placeholder:"Cover 부제목 텍스트",rows:2})]}),t.jsxs("div",{children:[t.jsx(xe,{className:"text-sm font-medium mb-2 block",children:"콘텐츠 정렬"}),t.jsx("div",{className:"flex gap-1",children:r.map(r=>{const s=r.icon;return t.jsx("button",{onClick:()=>n({...e,contentAlign:r.value}),className:ie("p-2 rounded transition-colors",e.contentAlign===r.value?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"),title:r.label,children:t.jsx(s,{className:"w-4 h-4"})},r.value)})})]}),t.jsxs("div",{children:[t.jsxs(xe,{htmlFor:"minHeight",className:"text-sm font-medium mb-1 block",children:[t.jsx(v,{className:"w-3 h-3 inline mr-1"}),"최소 높이"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"range",min:"100",max:"800",value:e.minHeight||300,onChange:t=>n({...e,minHeight:parseInt(t.target.value)}),className:"flex-1"}),t.jsxs("span",{className:"text-sm w-16 text-right",children:[e.minHeight||300,"px"]})]})]}),t.jsxs("div",{children:[t.jsxs(xe,{className:"text-sm font-medium mb-2 block",children:[t.jsx(j,{className:"w-3 h-3 inline mr-1"}),"오버레이 색상"]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{color:"rgba(0, 0, 0, 0.5)",label:"블랙 50%"},{color:"rgba(0, 0, 0, 0.7)",label:"블랙 70%"},{color:"rgba(255, 255, 255, 0.5)",label:"화이트 50%"},{color:"rgba(0, 51, 102, 0.7)",label:"네이비 70%"},{color:"rgba(0, 0, 0, 0)",label:"투명"}].map(r=>t.jsxs("button",{onClick:()=>n({...e,overlayColor:r.color}),className:ie("p-2 rounded border-2 text-sm transition-colors",e.overlayColor===r.color?"border-blue-600":"border-gray-300 hover:border-gray-400"),children:[t.jsx("div",{className:"w-full h-8 rounded mb-1",style:{backgroundColor:r.color,border:"1px solid #e5e7eb"}}),t.jsx("span",{className:"text-xs",children:r.label})]},r.color))}),t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"customColor",className:"text-xs text-gray-600",children:"커스텀 색상"}),t.jsx(ge,{id:"customColor",type:"text",value:e.overlayColor||"",onChange:t=>n({...e,overlayColor:t.target.value}),placeholder:"rgba(0, 0, 0, 0.5)",className:"mt-1"})]})]})]})]})},Lt=({settings:e,onChange:n})=>t.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs(xe,{htmlFor:"text",className:"text-sm font-medium mb-1 block",children:[t.jsx(b,{className:"w-3 h-3 inline mr-1"}),"버튼 텍스트"]}),t.jsx(ge,{id:"text",value:e.text||"",onChange:t=>n({...e,text:t.target.value}),placeholder:"버튼 텍스트"})]}),t.jsxs("div",{children:[t.jsxs(xe,{htmlFor:"url",className:"text-sm font-medium mb-1 block",children:[t.jsx(k,{className:"w-3 h-3 inline mr-1"}),"링크 URL"]}),t.jsx(ge,{id:"url",type:"url",value:e.url||"",onChange:t=>n({...e,url:t.target.value}),placeholder:"https://example.com"}),t.jsx("div",{className:"mt-2",children:t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:"_blank"===e.target,onChange:t=>n({...e,target:t.target.checked?"_blank":"_self"}),className:"rounded"}),t.jsx("span",{className:"text-sm",children:"새 탭에서 열기"})]})})]}),t.jsxs("div",{children:[t.jsx(xe,{className:"text-sm font-medium mb-2 block",children:"버튼 스타일"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>n({...e,style:"fill"}),className:ie("flex-1 p-2 rounded transition-colors text-sm","fill"===e.style?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-300"),children:"채우기"}),t.jsx("button",{onClick:()=>n({...e,style:"outline"}),className:ie("flex-1 p-2 rounded transition-colors text-sm","outline"===e.style?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-300"),children:"윤곽선"})]})]}),t.jsxs("div",{children:[t.jsxs(xe,{className:"text-sm font-medium mb-2 block",children:[t.jsx(j,{className:"w-3 h-3 inline mr-1"}),"색상"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[{bg:"#007cba",text:"#ffffff",label:"파란색"},{bg:"#28a745",text:"#ffffff",label:"초록색"},{bg:"#dc3545",text:"#ffffff",label:"빨간색"},{bg:"#ffc107",text:"#000000",label:"노란색"},{bg:"#6c757d",text:"#ffffff",label:"회색"},{bg:"#000000",text:"#ffffff",label:"검정색"}].map(r=>t.jsx("button",{onClick:()=>n({...e,backgroundColor:r.bg,textColor:r.text}),className:ie("p-2 rounded border-2 transition-colors",e.backgroundColor===r.bg?"border-blue-600":"border-gray-300 hover:border-gray-400"),children:t.jsx("div",{className:"w-full h-6 rounded flex items-center justify-center text-xs font-medium",style:{backgroundColor:r.bg,color:r.text},children:r.label})},r.bg))}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"bgColor",className:"text-xs text-gray-600",children:"배경색"}),t.jsx(ge,{id:"bgColor",type:"color",value:e.backgroundColor||"#007cba",onChange:t=>n({...e,backgroundColor:t.target.value}),className:"mt-1 h-8"})]}),t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"textColor",className:"text-xs text-gray-600",children:"텍스트색"}),t.jsx(ge,{id:"textColor",type:"color",value:e.textColor||"#ffffff",onChange:t=>n({...e,textColor:t.target.value}),className:"mt-1 h-8"})]})]})]}),t.jsxs("div",{children:[t.jsxs(xe,{htmlFor:"borderRadius",className:"text-sm font-medium mb-1 block",children:[t.jsx(r,{className:"w-3 h-3 inline mr-1"}),"모서리 둥글기"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"range",min:"0",max:"50",value:e.borderRadius||4,onChange:t=>n({...e,borderRadius:parseInt(t.target.value)}),className:"flex-1"}),t.jsxs("span",{className:"text-sm w-12 text-right",children:[e.borderRadius||4,"px"]})]})]}),t.jsxs("div",{children:[t.jsx(xe,{className:"text-sm font-medium mb-2 block",children:"미리보기"}),t.jsx("div",{className:"p-4 bg-white rounded border flex justify-center",children:t.jsx("button",{className:ie("px-4 py-2 rounded transition-colors","fill"===e.style&&"text-white","outline"===e.style&&"border-2"),style:{backgroundColor:"fill"===e.style?e.backgroundColor:"transparent",color:"fill"===e.style?e.textColor:e.backgroundColor,borderColor:"outline"===e.style?e.backgroundColor:"transparent",borderRadius:`${e.borderRadius}px`},children:e.text||"버튼"})})]})]}),Ft=[{id:"uagb/advanced-heading",name:"Advanced Heading",icon:b,category:"text"},{id:"uagb/info-box",name:"Info Box",icon:T,category:"layout"},{id:"uagb/testimonial",name:"Testimonial",icon:N,category:"text"},{id:"uagb/team",name:"Team",icon:A,category:"layout"},{id:"uagb/social-share",name:"Social Share",icon:B,category:"social"},{id:"uagb/google-map",name:"Google Map",icon:I,category:"embed"},{id:"uagb/icon-list",name:"Icon List",icon:d,category:"text"},{id:"uagb/price-list",name:"Price List",icon:$,category:"layout"},{id:"uagb/post-carousel",name:"Post Carousel",icon:c,category:"layout"},{id:"uagb/table-of-contents",name:"Table of Contents",icon:d,category:"text"},{id:"uagb/timeline",name:"Timeline",icon:T,category:"layout"},{id:"uagb/blockquote",name:"Blockquote",icon:N,category:"text"},{id:"uagb/call-to-action",name:"Call To Action",icon:M,category:"layout"},{id:"uagb/columns",name:"Advanced Columns",icon:P,category:"layout"},{id:"uagb/section",name:"Section",icon:R,category:"layout"}],zt=[{id:"o4o/cpt-acf-loop",name:"CPT/ACF Loop",icon:d,category:"o4o"}],Ut=[{id:"core/paragraph",name:"Paragraph",icon:b,category:"text"},{id:"core/heading",name:"Heading",icon:b,category:"text"},{id:"core/list",name:"List",icon:d,category:"text"},{id:"core/quote",name:"Quote",icon:N,category:"text"},{id:"core/code",name:"Code",icon:C,category:"text"},{id:"core/table",name:"Table",icon:E,category:"text"},{id:"core/image",name:"Image",icon:u,category:"media"},{id:"core/gallery",name:"Gallery",icon:c,category:"media"},{id:"core/video",name:"Video",icon:S,category:"media"},{id:"core/audio",name:"Audio",icon:_,category:"media"},{id:"core/cover",name:"Cover",icon:u,category:"media"},{id:"core/columns",name:"Columns",icon:P,category:"design"},{id:"core/group",name:"Group",icon:R,category:"design"},{id:"core/button",name:"Button",icon:O,category:"design"},{id:"core/spacer",name:"Spacer",icon:R,category:"design"},{id:"core/separator",name:"Separator",icon:R,category:"design"}],Ht=({initialBlocks:n=[],onChange:r,content:s,onContentChange:o})=>{const[a,i]=e.useState(()=>s?(e=>{if(!e||!e.trim())return[];const t=[...e.matchAll(/<!-- wp:([a-z0-9-]+\/[a-z0-9-]+)(\s+({[^}]*}))?\s*-->([\s\S]*?)<!-- \/wp:\1 -->/g)];return t.length>0?t.map((e,t)=>{const n=e[1],r=e[3],s=e[4].trim();let o={};if(r)try{o=JSON.parse(r)}catch(l){}let a={};switch(n){case"core/paragraph":const e=s.match(/<p>(.*?)<\/p>/s);a={text:e?e[1]:s};break;case"core/heading":const t=s.match(/<h(\d)>(.*?)<\/h\d>/s);t&&(a={text:t[2],level:parseInt(t[1])});break;case"core/list":a={items:[...s.matchAll(/<li>(.*?)<\/li>/gs)].map(e=>e[1])};break;case"core/quote":const n=s.match(/<blockquote[^>]*><p>(.*?)<\/p>(?:<cite>(.*?)<\/cite>)?<\/blockquote>/s);n&&(a={text:n[1],citation:n[2]});break;case"core/image":const r=s.match(/<img[^>]+src="([^"]+)"[^>]*alt="([^"]*)"[^>]*>/),o=s.match(/<figcaption>(.*?)<\/figcaption>/);r&&(a={url:r[1],alt:r[2],caption:o?o[1]:void 0});break;case"o4o/cpt-acf-loop":const i=s.match(/data-block='([^']+)'/);if(i)try{a=JSON.parse(i[1])}catch(l){}break;default:const c=s.match(/data-block='([^']+)'/);if(c)try{a=JSON.parse(c[1])}catch(l){a={raw:s}}else a={raw:s}}return{id:`block-${Date.now()}-${t}`,type:n,content:a,attributes:o}}):[{id:`block-${Date.now()}`,type:"core/paragraph",content:{text:e.replace(/<[^>]*>/g,"")},attributes:{}}]})(s):n),[d,p]=e.useState(!1),[m,h]=e.useState(null),[g,f]=e.useState("all"),[x,b]=e.useState(!1),[y,w]=e.useState(null),[j,N]=e.useState(!1),C=[...Ut,...Ft,...zt],E="all"===g?C:C.filter(e=>e.category===g),S=e=>{i(e),r?.(e),o?.((e=>e.map(e=>{const t=e.type,n=e.attributes||{},r=e.content;let s=`\x3c!-- wp:${t}`;switch(Object.keys(n).length>0&&(s+=` ${JSON.stringify(n)}`),s+=" --\x3e\n",e.type){case"core/paragraph":s+=`<p>${r.text||""}</p>`;break;case"core/heading":const e=r.level||2;s+=`<h${e}>${r.text||""}</h${e}>`;break;case"core/list":s+=`<ul>${(r.items||[]).map(e=>`<li>${e}</li>`).join("\n")}</ul>`;break;case"core/quote":s+=`<blockquote class="wp-block-quote"><p>${r.text||""}</p>`,r.citation&&(s+=`<cite>${r.citation}</cite>`),s+="</blockquote>";break;case"core/image":s+=`<figure class="wp-block-image"><img src="${r.url||""}" alt="${r.alt||""}"/>`,r.caption&&(s+=`<figcaption>${r.caption}</figcaption>`),s+="</figure>";break;case"o4o/cpt-acf-loop":s+=`<div class="wp-block-o4o-cpt-acf-loop" data-block='${JSON.stringify(r)}'></div>`;break;default:s+=`<div class="wp-block-${t.replace("/","-")}" data-block='${JSON.stringify(r)}'></div>`}return s+=`\n\x3c!-- /wp:${t} --\x3e\n`,s}).join("\n"))(e))},_=e=>{switch(e){case"core/paragraph":return{text:"Start writing or type / to choose a block"};case"core/heading":return{text:"Heading",level:2};case"uagb/advanced-heading":return{text:"Advanced Heading",level:2,alignment:"center"};case"core/image":return{url:"",alt:"",caption:"",alignment:"center",size:"large"};case"core/gallery":return{images:[],columns:3,imageCrop:!0,linkTo:"none"};case"core/video":return{url:"",autoplay:!1,loop:!1,muted:!1,controls:!0};case"core/cover":return{url:"",overlayColor:"rgba(0, 0, 0, 0.5)",minHeight:300,contentAlign:"center",title:"Cover Title",text:"Cover subtitle text"};case"core/columns":return{columns:[{id:`col-${Date.now()}-1`,content:[],width:50},{id:`col-${Date.now()}-2`,content:[],width:50}]};case"core/button":return{text:"Click me",url:"#",target:"_self",style:"fill",backgroundColor:"#007cba",textColor:"#ffffff",borderRadius:4};case"core/spacer":return{height:100};case"core/separator":return{style:"default",color:"#cccccc"};case"core/code":return{content:"// Your code here",language:"javascript"};case"core/table":return{head:[["Column 1","Column 2","Column 3"]],body:[["Row 1 Cell 1","Row 1 Cell 2","Row 1 Cell 3"],["Row 2 Cell 1","Row 2 Cell 2","Row 2 Cell 3"]],foot:[]};case"core/group":return{blocks:[],backgroundColor:"",padding:20};default:return{}}};return t.jsxs("div",{className:"gutenberg-editor bg-modern-bg-card rounded-lg",children:[t.jsx("div",{className:"border-b border-modern-border-primary p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-modern-text-primary",children:"Block Editor"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"px-3 py-1.5 text-sm border border-modern-border-primary rounded hover:bg-modern-bg-hover",children:"Preview"}),t.jsx("button",{className:"px-3 py-1.5 text-sm bg-modern-primary text-white rounded hover:bg-modern-primary-hover",children:"Update"})]})]})}),t.jsxs("div",{className:"p-8 min-h-[400px]",children:[a.map(e=>{const n=C.find(t=>t.id===e.type)?.icon||T;return t.jsxs("div",{className:ie("group relative border-2 rounded-lg p-4 mb-4 transition-all",m===e.id?"border-modern-primary bg-modern-primary-alpha":"border-transparent hover:border-modern-border-primary"),onClick:()=>h(e.id),children:[t.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsxs("div",{className:"flex items-center gap-1 bg-modern-bg-card border border-modern-border-primary rounded-lg shadow-modern-shadow p-1",children:[t.jsx("button",{className:"p-1 hover:bg-modern-bg-hover rounded",children:t.jsx(v,{className:"w-4 h-4 text-modern-text-secondary"})}),t.jsx("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=a.findIndex(t=>t.id===e);if(-1!==t){const e={...a[t],id:`block-${Date.now()}`},n=[...a.slice(0,t+1),e,...a.slice(t+1)];S(n)}})(e.id)},className:"p-1 hover:bg-modern-bg-hover rounded",children:t.jsx(L,{className:"w-4 h-4 text-modern-text-secondary"})}),t.jsx("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=a.filter(t=>t.id!==e);S(t)})(e.id)},className:"p-1 hover:bg-modern-bg-hover rounded",children:t.jsx(F,{className:"w-4 h-4 text-modern-error"})}),t.jsx("button",{className:"p-1 hover:bg-modern-bg-hover rounded",children:t.jsx(z,{className:"w-4 h-4 text-modern-text-secondary"})})]})}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-modern-bg-tertiary rounded flex items-center justify-center",children:t.jsx(n,{className:"w-4 h-4 text-modern-text-secondary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-xs text-modern-text-tertiary mb-1",children:C.find(t=>t.id===e.type)?.name}),e.type.includes("heading")&&t.jsx("h2",{className:"text-2xl font-bold text-modern-text-primary",children:e.content.text}),e.type.includes("paragraph")&&t.jsx("p",{className:"text-modern-text-primary",children:e.content.text}),"core/image"===e.type&&t.jsxs("div",{className:"space-y-2",children:[e.content.url?t.jsxs("div",{className:ie("relative","left"===e.content.alignment&&"mr-auto","center"===e.content.alignment&&"mx-auto","right"===e.content.alignment&&"ml-auto","thumbnail"===e.content.size&&"max-w-[150px]","medium"===e.content.size&&"max-w-[300px]","large"===e.content.size&&"max-w-[1024px]","full"===e.content.size&&"max-w-full"),children:[t.jsx("img",{src:e.content.url,alt:e.content.alt||"",className:"w-full h-auto rounded"}),e.content.caption&&t.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center",children:e.content.caption})]}):t.jsx("button",{onClick:t=>{t.stopPropagation(),w(()=>t=>{const n={...e,content:{...e.content,url:t.url,alt:t.alt||t.filename,width:t.width,height:t.height}},r=a.map(t=>t.id===e.id?n:t);S(r),b(!1)}),b(!0)},className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center hover:border-modern-primary hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(u,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:"미디어 선택"})]})}),m===e.id&&e.content.url&&t.jsx("button",{onClick:e=>{e.stopPropagation(),N(!0)},className:"absolute top-2 right-2 p-1 bg-white rounded shadow hover:bg-gray-100",children:t.jsx(U,{className:"w-4 h-4"})})]}),"core/gallery"===e.type&&t.jsxs("div",{className:"space-y-2",children:[e.content.images&&e.content.images.length>0?t.jsx("div",{className:ie("grid gap-2",1===e.content.columns&&"grid-cols-1",2===e.content.columns&&"grid-cols-2",3===e.content.columns&&"grid-cols-3",4===e.content.columns&&"grid-cols-4",5===e.content.columns&&"grid-cols-5",6===e.content.columns&&"grid-cols-6"),children:e.content.images.map((n,r)=>t.jsx("div",{className:"relative aspect-square",children:t.jsx("img",{src:n.url||n.thumbnailUrl,alt:n.alt||"",className:ie("w-full h-full rounded",e.content.imageCrop?"object-cover":"object-contain")})},r))}):t.jsx("button",{onClick:t=>{t.stopPropagation(),w(()=>t=>{const n={...e,content:{...e.content,images:[...e.content.images||[],{id:t.id,url:t.url,thumbnailUrl:t.thumbnailUrl,alt:t.alt||t.filename}]}},r=a.map(t=>t.id===e.id?n:t);S(r)}),b(!0)},className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center hover:border-modern-primary hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(c,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:"갤러리 이미지 추가"})]})}),m===e.id&&e.content.images?.length>0&&t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:t=>{t.stopPropagation(),w(()=>t=>{const n={...e,content:{...e.content,images:[...e.content.images,{id:t.id,url:t.url,thumbnailUrl:t.thumbnailUrl,alt:t.alt||t.filename}]}},r=a.map(t=>t.id===e.id?n:t);S(r)}),b(!0)},className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"이미지 추가"}),t.jsx("button",{onClick:e=>{e.stopPropagation(),N(!0)},className:"p-1 border border-gray-300 rounded hover:bg-gray-50",children:t.jsx(U,{className:"w-4 h-4"})})]})]}),"core/cover"===e.type&&t.jsxs("div",{className:"relative rounded-lg overflow-hidden",style:{minHeight:e.content.minHeight||300},children:[e.content.url?t.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${e.content.url})`},children:t.jsx("div",{className:"absolute inset-0",style:{backgroundColor:e.content.overlayColor}})}):t.jsx("div",{className:"absolute inset-0",style:{backgroundColor:e.content.overlayColor||"#000"}}),t.jsxs("div",{className:ie("relative z-10 h-full flex flex-col justify-center p-8 text-white","left"===e.content.contentAlign&&"items-start text-left","center"===e.content.contentAlign&&"items-center text-center","right"===e.content.contentAlign&&"items-end text-right"),children:[t.jsx("h2",{className:"text-3xl font-bold mb-2",children:e.content.title}),t.jsx("p",{className:"text-lg",children:e.content.text})]}),!e.content.url&&t.jsx("button",{onClick:t=>{t.stopPropagation(),w(()=>t=>{const n={...e,content:{...e.content,url:t.url}},r=a.map(t=>t.id===e.id?n:t);S(r),b(!1)}),b(!0)},className:"absolute top-4 right-4 p-2 bg-white rounded shadow hover:bg-gray-100",children:t.jsx(u,{className:"w-4 h-4"})}),m===e.id&&t.jsx("button",{onClick:e=>{e.stopPropagation(),N(!0)},className:"absolute top-4 left-4 p-1 bg-white rounded shadow hover:bg-gray-100",children:t.jsx(U,{className:"w-4 h-4"})})]}),"core/button"===e.type&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("a",{href:e.content.url,target:e.content.target,className:ie("inline-flex items-center px-4 py-2 rounded transition-colors","fill"===e.content.style&&"text-white","outline"===e.content.style&&"border-2"),style:{backgroundColor:"fill"===e.content.style?e.content.backgroundColor:"transparent",color:"fill"===e.content.style?e.content.textColor:e.content.backgroundColor,borderColor:"outline"===e.content.style?e.content.backgroundColor:"transparent",borderRadius:`${e.content.borderRadius}px`},children:e.content.text}),t.jsx(k,{className:"w-4 h-4 text-gray-400"})]}),"core/spacer"===e.type&&t.jsx("div",{className:"relative border-2 border-dashed border-gray-300 rounded",style:{height:e.content.height},children:t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:t.jsxs("span",{className:"text-sm",children:[e.content.height,"px"]})})}),"core/separator"===e.type&&t.jsx("div",{className:"py-4",children:t.jsx("hr",{className:ie("wide"===e.content.style&&"w-full","default"===e.content.style&&"w-24 mx-auto","dots"===e.content.style&&"border-dotted"),style:{borderColor:e.content.color}})}),"core/code"===e.type&&t.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:t.jsx("code",{className:`language-${e.content.language}`,children:e.content.content})}),"core/table"===e.type&&t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full border-collapse",children:[e.content.head.length>0&&t.jsx("thead",{children:e.content.head.map((e,n)=>t.jsx("tr",{children:e.map((e,n)=>t.jsx("th",{className:"border border-gray-300 px-4 py-2 bg-gray-100 font-semibold",children:e},n))},n))}),t.jsx("tbody",{children:e.content.body.map((e,n)=>t.jsx("tr",{children:e.map((e,n)=>t.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e},n))},n))})]})}),"core/video"===e.type&&t.jsx("div",{className:"space-y-2",children:e.content.url?t.jsx("video",{src:e.content.url,controls:e.content.controls,autoPlay:e.content.autoplay,loop:e.content.loop,muted:e.content.muted,className:"w-full rounded"}):t.jsx("button",{onClick:t=>{t.stopPropagation(),w(()=>t=>{const n={...e,content:{...e.content,url:t.url}},r=a.map(t=>t.id===e.id?n:t);S(r),b(!1)}),b(!0)},className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center hover:border-modern-primary hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(H,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:"비디오 선택"})]})})}),"core/columns"===e.type&&t.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:e.content.columns.map(e=>`${e.width}%`).join(" ")},children:e.content.columns.map((e,n)=>t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded p-4 min-h-[100px]",children:t.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Column ",n+1]})},e.id))}),"core/group"===e.type&&t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded min-h-[100px]",style:{backgroundColor:e.content.backgroundColor,padding:`${e.content.padding}px`},children:t.jsx("div",{className:"text-sm text-gray-500",children:"Group Block"})})]})]})]},e.id)}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>p(!d),className:ie("w-full py-4 border-2 border-dashed rounded-lg transition-all","hover:border-modern-primary hover:bg-modern-primary-alpha","flex items-center justify-center gap-2",d?"border-modern-primary bg-modern-primary-alpha":"border-modern-border-secondary"),children:[t.jsx(D,{className:"w-5 h-5 text-modern-text-secondary"}),t.jsx("span",{className:"text-modern-text-secondary",children:"Add block"})]}),d&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-modern-bg-card border border-modern-border-primary rounded-lg shadow-modern-shadow-xl z-50",children:t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-modern-border-primary",children:["all","text","media","design","layout","social","embed","o4o"].map(e=>t.jsx("button",{onClick:()=>f(e),className:ie("px-3 py-1.5 text-sm rounded transition-colors capitalize",g===e?"bg-modern-primary text-white":"text-modern-text-secondary hover:bg-modern-bg-hover"),children:e},e))}),t.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-96 overflow-y-auto",children:E.map(e=>{const n=e.icon;return t.jsxs("button",{onClick:()=>(e=>{const t={id:`block-${Date.now()}`,type:e,content:_(e),attributes:{}},n=[...a,t];S(n),p(!1)})(e.id),className:"flex flex-col items-center gap-2 p-4 border border-modern-border-primary rounded-lg hover:border-modern-primary hover:bg-modern-bg-hover transition-all",children:[t.jsx(n,{className:"w-6 h-6 text-modern-text-secondary"}),t.jsx("span",{className:"text-xs text-modern-text-secondary text-center",children:e.name})]},e.id)})})]})})]})]}),t.jsx(It,{_isOpen:x,onClose:()=>{b(!1),w(null)},onSelect:e=>{y&&y(e)},allowMultiple:"core/gallery"===a.find(e=>e.id===m)?.type}),j&&m&&t.jsxs("div",{className:"fixed inset-y-0 right-0 w-80 bg-white shadow-xl z-40",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h3",{className:"font-semibold",children:"블록 설정"}),t.jsx("button",{onClick:()=>N(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(l,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"p-4 overflow-y-auto h-full",children:["core/image"===a.find(e=>e.id===m)?.type&&t.jsx($t,{settings:a.find(e=>e.id===m)?.content||{},onChange:e=>{const t=a.map(t=>t.id===m?{...t,content:{...t.content,...e}}:t);S(t)}}),"core/gallery"===a.find(e=>e.id===m)?.type&&t.jsx(Mt,{settings:a.find(e=>e.id===m)?.content||{},onChange:e=>{const t=a.map(t=>t.id===m?{...t,content:{...t.content,...e}}:t);S(t)}}),"core/cover"===a.find(e=>e.id===m)?.type&&t.jsx(Dt,{settings:a.find(e=>e.id===m)?.content||{},onChange:e=>{const t=a.map(t=>t.id===m?{...t,content:{...t.content,...e}}:t);S(t)}}),"core/button"===a.find(e=>e.id===m)?.type&&t.jsx(Lt,{settings:a.find(e=>e.id===m)?.content||{},onChange:e=>{const t=a.map(t=>t.id===m?{...t,content:{...t.content,...e}}:t);S(t)}})]})]})]})},Vt=e.createContext(null),Wt=({open:n,defaultOpen:r=!1,onOpenChange:s,children:o})=>{const[a,l]=e.useState(r),i=n??a;return t.jsx(Vt.Provider,{value:{open:i,onOpenChange:e=>{void 0===n&&l(e),s?.(e)}},children:o})},Gt=e.forwardRef(({onClick:n,...r},s)=>{const o=e.useContext(Vt);if(!o)throw new Error("DialogTrigger must be used within Dialog");return t.jsx("button",{ref:s,onClick:e=>{n?.(e),o.onOpenChange(!0)},...r})}),qt=({children:n})=>{const r=e.useContext(Vt);if(!r)throw new Error("DialogPortal must be used within Dialog");return r.open?t.jsx(t.Fragment,{children:n}):null},Jt=e.forwardRef(({onClick:n,...r},s)=>{const o=e.useContext(Vt);if(!o)throw new Error("DialogClose must be used within Dialog");return t.jsx("button",{ref:s,onClick:e=>{n?.(e),o.onOpenChange(!1)},...r})}),Yt=e.forwardRef(({className:n,onClick:r,...s},o)=>{const a=e.useContext(Vt);if(!a)throw new Error("DialogOverlay must be used within Dialog");return t.jsx("div",{ref:o,className:pe("fixed inset-0 z-[100000] bg-black/80",n),onClick:e=>{r?.(e),e.target===e.currentTarget&&a.onOpenChange(!1)},...s})}),Kt=e.forwardRef(({className:n,children:r,...s},o)=>{const a=e.useContext(Vt);if(!a)throw new Error("DialogContent must be used within Dialog");return e.useEffect(()=>{if(a.open){const e=e=>{"Escape"===e.key&&a.onOpenChange(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}},[a]),t.jsxs(qt,{children:[t.jsx(Yt,{}),t.jsxs("div",{ref:o,className:pe("fixed left-[50%] top-[50%] z-[100001] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg",n),...s,children:[r,t.jsxs(Jt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[t.jsx(l,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}),Zt=({className:e,...n})=>t.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...n}),Xt=({className:e,...n})=>t.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n}),Qt=e.forwardRef(({className:e,...n},r)=>t.jsx("h2",{ref:r,className:pe("text-lg font-semibold leading-none tracking-tight",e),...n})),en=e.forwardRef(({className:e,...n},r)=>t.jsx("p",{ref:r,className:pe("text-sm text-muted-foreground",e),...n}));Wt.displayName="Dialog",Gt.displayName="DialogTrigger",qt.displayName="DialogPortal",Jt.displayName="DialogClose",Yt.displayName="DialogOverlay",Kt.displayName="DialogContent",Zt.displayName="DialogHeader",Xt.displayName="DialogFooter",Qt.displayName="DialogTitle",en.displayName="DialogDescription";const tn=e.forwardRef(({className:e,value:n=0,max:r=100,...s},o)=>{const a=Math.min(Math.max(0,n/r*100),100);return t.jsx("div",{ref:o,role:"progressbar","aria-valuemin":0,"aria-valuemax":r,"aria-valuenow":n,className:pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:t.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-a}%)`}})})});tn.displayName="Progress";const nn=me("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rn=e.forwardRef(({className:e,variant:n,...r},s)=>t.jsx("div",{ref:s,role:"alert",className:pe(nn({variant:n}),e),...r}));rn.displayName="Alert";const sn=e.forwardRef(({className:e,...n},r)=>t.jsx("h5",{ref:r,className:pe("mb-1 font-medium leading-none tracking-tight",e),...n}));sn.displayName="AlertTitle";const on=e.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:pe("text-sm [&_p]:leading-relaxed",e),...n}));on.displayName="AlertDescription";const an=({onInsertBlock:n,onEditBlock:r,onCreateNew:s,compact:o=!1})=>{const[a,l]=e.useState([]),[u,p]=e.useState(!0),[m,h]=e.useState(""),[g,f]=e.useState("all"),[x,b]=e.useState("grid"),[y,w]=e.useState([]),[v,j]=e.useState(1),[k,N]=e.useState(1),C=async(e=1,t="",n="all")=>{p(!0);try{const r=new URLSearchParams({page:e.toString(),per_page:o?"8":"12",search:t,status:"active",order:"DESC",orderby:"usageCount"});"all"!==n&&r.append("category",n);const s=await fetch(`/api/reusable-blocks?${r}`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch blocks");const a=await s.json(),i=parseInt(s.headers.get("X-WP-TotalPages")||"1");l(a),N(i)}catch(r){}finally{p(!1)}};e.useEffect(()=>{C(v,m,g)},[v,m,g]),e.useEffect(()=>{(async()=>{try{const e=await fetch("/api/reusable-blocks/categories",{credentials:"include"});if(e.ok){const t=await e.json();w(t)}}catch(e){}})()},[]);const E=e=>{n&&n(e)},S=async e=>{try{(await fetch(`/api/reusable-blocks/${e}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})})).ok&&C(v,m,g)}catch(t){}},_=async e=>{if(confirm("Are you sure you want to delete this reusable block?"))try{(await fetch(`/api/reusable-blocks/${e}`,{method:"DELETE",credentials:"include"})).ok&&C(v,m,g)}catch(t){}},P=e=>t.jsxs(ht,{className:"group relative overflow-hidden",children:[t.jsxs("div",{className:"aspect-video bg-gray-50 border-b overflow-hidden",children:[e.preview?.screenshot?t.jsx("img",{src:e.preview.screenshot,alt:e.title,className:"w-full h-full object-cover"}):e.preview?.html?t.jsx("div",{className:"w-full h-full p-2 text-xs overflow-hidden",dangerouslySetInnerHTML:{__html:e.preview.html}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsx(c,{className:"h-8 w-8"})}),t.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t.jsx(fe,{size:"sm",onClick:()=>E(e),className:"bg-blue-600 hover:bg-blue-700",children:"Insert"}),e.isEditable&&r&&t.jsx(fe,{size:"sm",variant:"outline",onClick:()=>r(e.id),children:t.jsx(V,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"p-3",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:e.title}),t.jsxs(jt,{children:[t.jsx(kt,{children:t.jsx(fe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:"•••"})}),t.jsxs(Nt,{align:"end",children:[t.jsxs(Ct,{onClick:()=>E(e),children:[t.jsx(D,{className:"h-4 w-4 mr-2"}),"Insert Block"]}),t.jsxs(Ct,{onClick:()=>S(e.id),children:[t.jsx(L,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),e.isEditable&&r&&t.jsxs(Ct,{onClick:()=>r(e.id),children:[t.jsx(V,{className:"h-4 w-4 mr-2"}),"Edit"]}),"current-user-id"===e.author.id&&t.jsxs(Ct,{onClick:()=>_(e.id),className:"text-red-600",children:[t.jsx(W,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),e.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:e.description}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[e.category&&t.jsx(At,{variant:"secondary",className:"text-xs",children:e.category}),e.isGlobal&&t.jsxs(At,{variant:"outline",className:"text-xs",children:[t.jsx(M,{className:"h-3 w-3 mr-1"}),"Global"]})]}),t.jsxs("span",{children:[e.usageCount," uses"]})]}),e.tags.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map(e=>t.jsx(At,{variant:"outline",className:"text-xs",children:e},e)),e.tags.length>3&&t.jsxs(At,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]})]})]},e.id);return o?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx(ge,{placeholder:"Search reusable blocks...",value:m,onChange:e=>h(e.target.value),className:"pl-10"})]}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:u?Array.from({length:4}).map((e,n)=>t.jsx("div",{className:"aspect-video bg-gray-100 rounded animate-pulse"},n)):0===a.length?t.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:"No reusable blocks found"}):a.map(P)}),s&&t.jsxs(fe,{onClick:s,className:"w-full",variant:"outline",children:[t.jsx(D,{className:"h-4 w-4 mr-2"}),"Create New Block"]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Reusable Blocks"}),t.jsx("p",{className:"text-gray-600",children:"Browse and manage your reusable block library"})]}),s&&t.jsxs(fe,{onClick:s,children:[t.jsx(D,{className:"h-4 w-4 mr-2"}),"Create New Block"]})]}),t.jsx(ht,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx(ge,{placeholder:"Search reusable blocks...",value:m,onChange:e=>h(e.target.value),className:"pl-10 w-64"})]}),t.jsxs(jt,{children:[t.jsx(kt,{children:t.jsxs(fe,{variant:"outline",children:["Category: ","all"===g?"All":g]})}),t.jsxs(Nt,{children:[t.jsx(Ct,{onClick:()=>f("all"),children:"All Categories"}),y.map(e=>t.jsx(Ct,{onClick:()=>f(e),children:e},e))]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fe,{variant:"grid"===x?"default":"outline",size:"sm",onClick:()=>b("grid"),children:t.jsx(c,{className:"h-4 w-4"})}),t.jsx(fe,{variant:"list"===x?"default":"outline",size:"sm",onClick:()=>b("list"),children:t.jsx(d,{className:"h-4 w-4"})})]})]})}),t.jsxs(ye,{defaultValue:"all",className:"space-y-4",children:[t.jsxs(we,{children:[t.jsx(ve,{value:"all",children:"All Blocks"}),t.jsx(ve,{value:"mine",children:"My Blocks"}),t.jsx(ve,{value:"global",children:"Global Blocks"})]}),t.jsxs(je,{value:"all",className:"space-y-4",children:[u?t.jsx("div",{className:"grid "+("grid"===x?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"gap-3"),children:Array.from({length:8}).map((e,n)=>t.jsx("div",{className:"grid"===x?"aspect-video bg-gray-100 rounded animate-pulse":"h-20 bg-gray-100 rounded animate-pulse"},n))}):0===a.length?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(c,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"No reusable blocks found"}),s&&t.jsxs(fe,{onClick:s,children:[t.jsx(D,{className:"h-4 w-4 mr-2"}),"Create Your First Block"]})]}):t.jsx("div",{className:"grid"===x?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-3",children:"grid"===x?a.map(P):a.map(e=>t.jsx(ht,{className:"p-4 hover:bg-gray-50",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-12 bg-gray-100 rounded border overflow-hidden flex-shrink-0",children:e.preview?.screenshot?t.jsx("img",{src:e.preview.screenshot,alt:e.title,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsx(c,{className:"h-4 w-4"})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h3",{className:"font-medium text-sm truncate",children:e.title}),e.description&&t.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",children:e.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.category&&t.jsx(At,{variant:"secondary",className:"text-xs",children:e.category}),t.jsxs("span",{className:"text-xs text-gray-500",children:[e.usageCount," uses"]}),t.jsxs("span",{className:"text-xs text-gray-500",children:["by ",e.author.name]})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(fe,{size:"sm",onClick:()=>E(e),children:"Insert"}),t.jsxs(jt,{children:[t.jsx(kt,{children:t.jsx(fe,{variant:"ghost",size:"sm",children:"•••"})}),t.jsxs(Nt,{align:"end",children:[t.jsxs(Ct,{onClick:()=>S(e.id),children:[t.jsx(L,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),e.isEditable&&r&&t.jsxs(Ct,{onClick:()=>r(e.id),children:[t.jsx(V,{className:"h-4 w-4 mr-2"}),"Edit"]}),"current-user-id"===e.author.id&&t.jsxs(Ct,{onClick:()=>_(e.id),className:"text-red-600",children:[t.jsx(W,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]})})]})},e.id))}),k>1&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",v," of ",k]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(fe,{variant:"outline",disabled:1===v,onClick:()=>j(v-1),children:"Previous"}),t.jsx(fe,{variant:"outline",disabled:v===k,onClick:()=>j(v+1),children:"Next"})]})]})]}),t.jsx(je,{value:"mine",children:t.jsx("p",{className:"text-gray-500",children:"Your personal reusable blocks"})}),t.jsx(je,{value:"global",children:t.jsx("p",{className:"text-gray-500",children:"Blocks shared across the organization"})})]})]})};let ln,cn,dn,un,pn=!1;async function mn(){if(pn)return;await mt(()=>import("./wordpress-hooks-shim-Dsy0vzLf.js"),[]);const{default:e}=await mt(async()=>{const{default:e}=await import("./wordpress-polyfill-0dZxWs-4.js");return{default:e}},[]);e(),pn=!0}const hn=/<!--\s+(\/)?wp:([a-z][a-z0-9_-]*\/)?([a-z][a-z0-9_-]*)\s+({(?:(?=([^}]+|}+(?=})|(?!}\s+\/?-->)[^])*)\5|[^]*?)}\s+)?(\/)?-->/g;function gn(e,t,n,r,s){return{blockName:e,attrs:t,innerBlocks:n,innerHTML:r,innerContent:s}}function fn(e){return gn(null,{},[],e,[e])}const xn=e=>{ln=e,cn=0,dn=[],un=[],hn.lastIndex=0;do{}while(bn());return dn};function bn(){const e=un.length,t=function(){const e=hn.exec(ln);if(null===e)return["no-more-tokens","",null,0,0];const t=e.index,[n,r,s,o,a,,l]=e,i=n.length,c=!!r,d=!!l,u=(s||"core/")+o,p=a?function(e){try{return JSON.parse(e)}catch(t){return null}}(a):{};if(d)return["void-block",u,p,t,i];if(c)return["block-closer",u,null,t,i];return["block-opener",u,p,t,i]}(),[n,r,s,o,a]=t,l=o>cn?cn:null;switch(n){case"no-more-tokens":if(0===e)return yn(),!1;if(1===e)return vn(),!1;for(;0<un.length;)vn();return!1;case"void-block":return 0===e?(null!==l&&dn.push(fn(ln.substr(l,o-l))),dn.push(gn(r,s,[],"",[])),cn=o+a,!0):(wn(gn(r,s,[],"",[]),o,a),cn=o+a,!0);case"block-opener":return un.push(function(e,t,n,r,s){return{block:e,tokenStart:t,tokenLength:n,prevOffset:r||t+n,leadingHtmlStart:s}}(gn(r,s,[],"",[]),o,a,o+a,l)),cn=o+a,!0;case"block-closer":if(0===e)return yn(),!1;if(1===e)return vn(o),cn=o+a,!0;const t=un.pop(),n=ln.substr(t.prevOffset,o-t.prevOffset);return t.block.innerHTML+=n,t.block.innerContent.push(n),t.prevOffset=o+a,wn(t.block,t.tokenStart,t.tokenLength,o+a),cn=o+a,!0;default:return yn(),!1}}function yn(e){const t=ln.length-cn;0!==t&&dn.push(fn(ln.substr(cn,t)))}function wn(e,t,n,r){const s=un[un.length-1];s.block.innerBlocks.push(e);const o=ln.substr(s.prevOffset,t-s.prevOffset);o&&(s.block.innerHTML+=o,s.block.innerContent.push(o)),s.block.innerContent.push(null),s.prevOffset=r||t+n}function vn(e){const{block:t,leadingHtmlStart:n,prevOffset:r,tokenStart:s}=un.pop(),o=e?ln.substr(r,e-r):ln.substr(r);o&&(t.innerHTML+=o,t.innerContent.push(o)),null!==n&&dn.push(fn(ln.substr(n,s-n))),dn.push(t)}const jn=new RegExp("(<((?=!--|!\\[CDATA\\[)((?=!-)!(?:-(?!->)[^\\-]*)*(?:--\x3e)?|!\\[CDATA\\[[^\\]]*(?:](?!]>)[^\\]]*)*?(?:]]>)?)|[^>]*>?))");function kn(e,t){const n=function(e){const t=[];let n,r=e;for(;n=r.match(jn);){const e=n.index;t.push(r.slice(0,e)),t.push(n[0]),r=r.slice(e+n[0].length)}return r.length&&t.push(r),t}(e);let r=!1;const s=Object.keys(t);for(let o=1;o<n.length;o+=2)for(let e=0;e<s.length;e++){const a=s[e];if(-1!==n[o].indexOf(a)){n[o]=n[o].replace(new RegExp(a,"g"),t[a]),r=!0;break}}return r&&(e=n.join("")),e}function Nn(e,t=!0){const n=[];if(""===e.trim())return"";if(-1!==(e+="\n").indexOf("<pre")){const t=e.split("</pre>"),r=t.pop();e="";for(let s=0;s<t.length;s++){const r=t[s],o=r.indexOf("<pre");if(-1===o){e+=r;continue}const a="<pre wp-pre-tag-"+s+"></pre>";n.push([a,r.substr(o)+"</pre>"]),e+=r.substr(0,o)+a}e+=r}const r="(?:table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)";-1!==(e=kn(e=(e=(e=(e=e.replace(/<br\s*\/?>\s*<br\s*\/?>/g,"\n\n")).replace(new RegExp("(<"+r+"[\\s/>])","g"),"\n\n$1")).replace(new RegExp("(</"+r+">)","g"),"$1\n\n")).replace(/\r\n|\r/g,"\n"),{"\n":" \x3c!-- wpnl --\x3e "})).indexOf("<option")&&(e=(e=e.replace(/\s*<option/g,"<option")).replace(/<\/option>\s*/g,"</option>")),-1!==e.indexOf("</object>")&&(e=(e=(e=e.replace(/(<object[^>]*>)\s*/g,"$1")).replace(/\s*<\/object>/g,"</object>")).replace(/\s*(<\/?(?:param|embed)[^>]*>)\s*/g,"$1")),-1===e.indexOf("<source")&&-1===e.indexOf("<track")||(e=(e=(e=e.replace(/([<\[](?:audio|video)[^>\]]*[>\]])\s*/g,"$1")).replace(/\s*([<\[]\/(?:audio|video)[>\]])/g,"$1")).replace(/\s*(<(?:source|track)[^>]*>)\s*/g,"$1")),-1!==e.indexOf("<figcaption")&&(e=(e=e.replace(/\s*(<figcaption[^>]*>)/,"$1")).replace(/<\/figcaption>\s*/,"</figcaption>"));const s=(e=e.replace(/\n\n+/g,"\n\n")).split(/\n\s*\n/).filter(Boolean);return e="",s.forEach(t=>{e+="<p>"+t.replace(/^\n*|\n*$/g,"")+"</p>\n"}),e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<p>\s*<\/p>/g,"")).replace(/<p>([^<]+)<\/(div|address|form)>/g,"<p>$1</p></$2>")).replace(new RegExp("<p>\\s*(</?"+r+"[^>]*>)\\s*</p>","g"),"$1")).replace(/<p>(<li.+?)<\/p>/g,"$1")).replace(/<p><blockquote([^>]*)>/gi,"<blockquote$1><p>")).replace(/<\/blockquote><\/p>/g,"</p></blockquote>")).replace(new RegExp("<p>\\s*(</?"+r+"[^>]*>)","g"),"$1")).replace(new RegExp("(</?"+r+"[^>]*>)\\s*</p>","g"),"$1"),t&&(e=(e=(e=(e=e.replace(/<(script|style).*?<\/\\1>/g,e=>e[0].replace(/\n/g,"<WPPreserveNewline />"))).replace(/<br>|<br\/>/g,"<br />")).replace(/(<br \/>)?\s*\n/g,(e,t)=>t?e:"<br />\n")).replace(/<WPPreserveNewline \/>/g,"\n")),e=(e=(e=e.replace(new RegExp("(</?"+r+"[^>]*>)\\s*<br />","g"),"$1")).replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)/g,"$1")).replace(/\n<\/p>$/g,"</p>"),n.forEach(t=>{const[n,r]=t;e=e.replace(n,r)}),-1!==e.indexOf("\x3c!-- wpnl --\x3e")&&(e=e.replace(/\s?<!-- wpnl -->\s?/g,"\n")),e}function Cn(e){const t="blockquote|ul|ol|li|dl|dt|dd|table|thead|tbody|tfoot|tr|th|td|h[1-6]|fieldset|figure",n=t+"|div|p",r=t+"|pre",s=[];let o=!1,a=!1;return e?(-1===e.indexOf("<script")&&-1===e.indexOf("<style")||(e=e.replace(/<(script|style)[^>]*>[\s\S]*?<\/\1>/g,e=>(s.push(e),"<wp-preserve>"))),-1!==e.indexOf("<pre")&&(o=!0,e=e.replace(/<pre[^>]*>[\s\S]+?<\/pre>/g,e=>(e=(e=e.replace(/<br ?\/?>(\r\n|\n)?/g,"<wp-line-break>")).replace(/<\/?p( [^>]*)?>(\r\n|\n)?/g,"<wp-line-break>")).replace(/\r?\n/g,"<wp-line-break>"))),-1!==e.indexOf("[caption")&&(a=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,e=>e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>").replace(/[\r\n\t]+/,""))),-1!==(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(new RegExp("\\s*</("+n+")>\\s*","g"),"</$1>\n")).replace(new RegExp("\\s*<((?:"+n+")(?: [^>]*)?)>","g"),"\n<$1>")).replace(/(<p [^>]+>[\s\S]*?)<\/p>/g,"$1</p#>")).replace(/<div( [^>]*)?>\s*<p>/gi,"<div$1>\n\n")).replace(/\s*<p>/gi,"")).replace(/\s*<\/p>\s*/gi,"\n\n")).replace(/\n[\s\u00a0]+\n/g,"\n\n")).replace(/(\s*)<br ?\/?>\s*/gi,(e,t)=>t&&-1!==t.indexOf("\n")?"\n\n":"\n")).replace(/\s*<div/g,"\n<div")).replace(/<\/div>\s*/g,"</div>\n")).replace(/\s*\[caption([^\[]+)\[\/caption\]\s*/gi,"\n\n[caption$1[/caption]\n\n")).replace(/caption\]\n\n+\[caption/g,"caption]\n\n[caption")).replace(new RegExp("\\s*<((?:"+r+")(?: [^>]*)?)\\s*>","g"),"\n<$1>")).replace(new RegExp("\\s*</("+r+")>\\s*","g"),"</$1>\n")).replace(/<((li|dt|dd)[^>]*)>/g," \t<$1>")).indexOf("<option")&&(e=(e=e.replace(/\s*<option/g,"\n<option")).replace(/\s*<\/select>/g,"\n</select>")),-1!==e.indexOf("<hr")&&(e=e.replace(/\s*<hr( [^>]*)?>\s*/g,"\n\n<hr$1>\n\n")),-1!==e.indexOf("<object")&&(e=e.replace(/<object[\s\S]+?<\/object>/g,e=>e.replace(/[\r\n]+/g,""))),e=(e=(e=(e=e.replace(/<\/p#>/g,"</p>\n")).replace(/\s*(<p [^>]+>[\s\S]*?<\/p>)/g,"\n$1")).replace(/^\s+/,"")).replace(/[\s\u00a0]+$/,""),o&&(e=e.replace(/<wp-line-break>/g,"\n")),a&&(e=e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")),s.length&&(e=e.replace(/<wp-preserve>/g,()=>s.shift())),e):""}function En(e,t,n=0){const r=Sn(e);r.lastIndex=n;const s=r.exec(t);if(!s)return;if("["===s[1]&&"]"===s[7])return En(e,t,r.lastIndex);const o={index:s.index,content:s[0],shortcode:Pn(s)};return s[1]&&(o.content=o.content.slice(1),o.index++),s[7]&&(o.content=o.content.slice(0,-1)),o}function Sn(e){return new RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)","g")}const _n=Pe(e=>{const t={},n=[],r=/([\w-]+)\s*=\s*"([^"]*)"(?:\s|$)|([\w-]+)\s*=\s*'([^']*)'(?:\s|$)|([\w-]+)\s*=\s*([^\s'"]+)(?:\s|$)|"([^"]*)"(?:\s|$)|'([^']*)'(?:\s|$)|(\S+)(?:\s|$)/g;let s;for(e=e.replace(/[\u00a0\u200b]/g," ");s=r.exec(e);)s[1]?t[s[1].toLowerCase()]=s[2]:s[3]?t[s[3].toLowerCase()]=s[4]:s[5]?t[s[5].toLowerCase()]=s[6]:s[7]?n.push(s[7]):s[8]?n.push(s[8]):s[9]&&n.push(s[9]);return{named:t,numeric:n}});function Pn(e){let t;return t=e[4]?"self-closing":e[6]?"closed":"single",new Rn({tag:e[2],attrs:e[3],type:t,content:e[5]})}const Rn=Object.assign(function(e){const{tag:t,attrs:n,type:r,content:s}=e||{};if(Object.assign(this,{tag:t,type:r,content:s}),this.attrs={named:{},numeric:[]},!n)return;const o=["named","numeric"];"string"==typeof n?this.attrs=_n(n):n.length===o.length&&o.every((e,t)=>e===n[t])?this.attrs=n:Object.entries(n).forEach(([e,t])=>{this.set(e,t)})},{next:En,replace:function(e,t,n){return t.replace(Sn(e),function(e,t,r,s,o,a,l,i){if("["===t&&"]"===i)return e;const c=n(Pn(arguments));return c||""===c?t+c+i:e})},string:function(e){return new Rn(e).string()},regexp:Sn,attrs:_n,fromMatch:Pn});function On(e){return window.URL.createObjectURL(e)}function Tn(e){return!(!e||!e.indexOf)&&0===e.indexOf("blob:")}Object.assign(Rn.prototype,{get(e){return this.attrs["number"==typeof e?"numeric":"named"][e]},set(e,t){return this.attrs["number"==typeof e?"numeric":"named"][e]=t,this},string(){let e="["+this.tag;return this.attrs.numeric.forEach(t=>{/\s/.test(t)?e+=' "'+t+'"':e+=" "+t}),Object.entries(this.attrs.named).forEach(([t,n])=>{e+=" "+t+'="'+n+'"'}),"single"===this.type?e+"]":"self-closing"===this.type?e+" /]":(e+="]",this.content&&(e+=this.content),e+"[/"+this.tag+"]")}});const An=Object.create(null);function Bn(e,t={}){const{since:n,version:r,alternative:s,plugin:o,link:a,hint:l}=t,i=`${e} is deprecated${n?` since version ${n}`:""}${r?` and will be removed${o?` from ${o}`:""} in version ${r}`:""}.${s?` Please use ${s} instead.`:""}${a?` See: ${a}`:""}${l?` Note: ${l}`:""}`;i in An||(Ae("deprecated",e,t,i),An[i]=!0)}function In(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $n=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Mn=()=>Math.random().toString(36).substring(7).split("").join("."),Dn={INIT:`@@redux/INIT${Mn()}`,REPLACE:`@@redux/REPLACE${Mn()}`};function Ln(e,t,n){if("function"!=typeof e)throw new Error(In(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(In(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(In(1));return n(Ln)(e,t)}let r=e,s=t,o=new Map,a=o,l=0,i=!1;function c(){a===o&&(a=new Map,o.forEach((e,t)=>{a.set(t,e)}))}function d(){if(i)throw new Error(In(3));return s}function u(e){if("function"!=typeof e)throw new Error(In(4));if(i)throw new Error(In(5));let t=!0;c();const n=l++;return a.set(n,e),function(){if(t){if(i)throw new Error(In(6));t=!1,c(),a.delete(n),o=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(In(7));if(void 0===e.type)throw new Error(In(8));if("string"!=typeof e.type)throw new Error(In(17));if(i)throw new Error(In(9));try{i=!0,s=r(s,e)}finally{i=!1}return(o=a).forEach(e=>{e()}),e}p({type:Dn.INIT});return{dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(In(10));r=e,p({type:Dn.REPLACE})},[$n]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(In(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[$n](){return this}}}}}function Fn(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(In(15))};const a={getState:s.getState,dispatch:(e,...t)=>o(e,...t)},l=e.map(e=>e(a));return o=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}(...l)(s.dispatch),{...s,dispatch:o}}}function zn(e){return Re(e)&&"string"==typeof e.type}function Un(e={},t){const n=Object.entries(e).map(([e,t])=>(n,r,s,o,a)=>{if(i=e,!zn(l=n)||l.type!==i)return!1;var l,i;const c=t(n);return De(c)?c.then(o,a):o(c),!0});n.push((e,n)=>!!zn(e)&&(t(e),n(),!0));const r=Le.create(n);return e=>new Promise((n,s)=>r(e,e=>{zn(e)&&t(e),n(e)},s))}function Hn(e={}){return t=>{const n=Un(e,t.dispatch);return e=>t=>{return(r=t)&&"function"==typeof r[Symbol.iterator]&&"function"==typeof r.next?n(t):e(t);var r}}}const Vn=["@wordpress/block-directory","@wordpress/block-editor","@wordpress/block-library","@wordpress/blocks","@wordpress/commands","@wordpress/components","@wordpress/core-commands","@wordpress/core-data","@wordpress/customize-widgets","@wordpress/data","@wordpress/edit-post","@wordpress/edit-site","@wordpress/edit-widgets","@wordpress/editor","@wordpress/format-library","@wordpress/patterns","@wordpress/preferences","@wordpress/reusable-blocks","@wordpress/router","@wordpress/dataviews","@wordpress/fields","@wordpress/media-utils","@wordpress/upload-media"],Wn=[],Gn=!globalThis.IS_WORDPRESS_CORE,qn=(e,t)=>{if(!Vn.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}". This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);if(!Gn&&Wn.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}" which is already registered. This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);return Wn.push(t),{lock:Jn,unlock:Yn}};function Jn(e,t){if(!e)throw new Error("Cannot lock an undefined object.");const n=e;Zn in n||(n[Zn]={}),Kn.set(n[Zn],t)}function Yn(e){if(!e)throw new Error("Cannot unlock an undefined object.");const t=e;if(!(Zn in t))throw new Error("Cannot unlock an object that was not locked before. ");return Kn.get(t[Zn])}const Kn=new WeakMap,Zn=Symbol("Private API ID"),Xn=(Qn="context",e=>(t={},n)=>{const r=n[Qn];if(void 0===r)return t;const s=e(t[r],n);return s===t[r]?t:{...t,[r]:s}})((e=[],t)=>{switch(t.type){case"CREATE_NOTICE":return[...e.filter(({id:e})=>e!==t.notice.id),t.notice];case"REMOVE_NOTICE":return e.filter(({id:e})=>e!==t.id);case"REMOVE_NOTICES":return e.filter(({id:e})=>!t.ids.includes(e));case"REMOVE_ALL_NOTICES":return e.filter(({type:e})=>e!==t.noticeType)}return e});var Qn;const er="global";let tr=0;function nr(e="info",t,n={}){const{speak:r=!0,isDismissible:s=!0,context:o=er,id:a=`${o}${++tr}`,actions:l=[],type:i="default",__unstableHTML:c,icon:d=null,explicitDismiss:u=!1,onDismiss:p}=n;return{type:"CREATE_NOTICE",context:o,notice:{id:a,status:e,content:t=String(t),spokenMessage:r?t:null,__unstableHTML:c,isDismissible:s,actions:l,type:i,icon:d,explicitDismiss:u,onDismiss:p}}}const rr=Object.freeze(Object.defineProperty({__proto__:null,createErrorNotice:function(e,t){return nr("error",e,t)},createInfoNotice:function(e,t){return nr("info",e,t)},createNotice:nr,createSuccessNotice:function(e,t){return nr("success",e,t)},createWarningNotice:function(e,t){return nr("warning",e,t)},removeAllNotices:function(e="default",t=er){return{type:"REMOVE_ALL_NOTICES",noticeType:e,context:t}},removeNotice:function(e,t=er){return{type:"REMOVE_NOTICE",id:e,context:t}},removeNotices:function(e,t=er){return{type:"REMOVE_NOTICES",ids:e,context:t}}},Symbol.toStringTag,{value:"Module"})),sr=[];const or=Object.freeze(Object.defineProperty({__proto__:null,getNotices:function(e,t=er){return e[t]||sr}},Symbol.toStringTag,{value:"Module"})),ar=ze("core/notices",{reducer:Xn,actions:rr,selectors:or});function lr(e){try{return new URL(e),!0}catch{return!1}}Ue(ar);const ir=/^(mailto:)?[a-z0-9._%+-]+@[a-z0-9][a-z0-9.-]*\.[a-z]{2,63}$/i;function cr(e){const t=/^([^\s:]+:)/.exec(e);if(t)return t[1]}function dr(e){return!!e&&/^[a-z\-.\+]+[0-9]*:$/i.test(e)}function ur(e){const t=/^[^\/\s:]+:(?:\/\/)?[^\/\s#?]+[\/]([^\s#?]+)[#?]{0,1}\S*$/.exec(e);if(t)return t[1]}function pr(e){let t="";const n=Object.entries(e);let r;for(;r=n.shift();){let[e,s]=r;if(Array.isArray(s)||s&&s.constructor===Object){const t=Object.entries(s).reverse();for(const[r,s]of t)n.unshift([`${e}[${r}]`,s])}else void 0!==s&&(null===s&&(s=""),t+="&"+[e,String(s)].map(encodeURIComponent).join("="))}return t.substr(1)}function mr(e){return!!e&&/^#[^\s#?\/]*$/.test(e)}function hr(e){try{return decodeURIComponent(e)}catch(t){return e}}function gr(e){return(function(e){let t;try{t=new URL(e,"http://example.com").search.substring(1)}catch(n){}if(t)return t}(e)||"").replace(/\+/g,"%20").split("&").reduce((e,t)=>{const[n,r=""]=t.split("=").filter(Boolean).map(hr);if(n){!function(e,t,n){const r=t.length,s=r-1;for(let o=0;o<r;o++){let r=t[o];!r&&Array.isArray(e)&&(r=e.length.toString()),r=["__proto__","constructor","prototype"].includes(r)?r.toUpperCase():r;const a=!isNaN(Number(t[o+1]));e[r]=o===s?n:e[r]||(a?[]:{}),Array.isArray(e[r])&&!a&&(e[r]={...e[r]}),e=e[r]}}(e,n.replace(/\]/g,"").split("["),r)}return e},Object.create(null))}function fr(e="",t){if(!t||!Object.keys(t).length)return e;const n=function(e){const t=/^\S+?(#[^\s\?]*)/.exec(e);if(t)return t[1]}(e)||"";let r=e.replace(n,"");const s=e.indexOf("?");return-1!==s&&(t=Object.assign(gr(e),t),r=r.substr(0,s)),r+"?"+pr(t)+n}function xr(e,t){return gr(e)[t]}function br(e,t){return void 0!==xr(e,t)}function yr(e,...t){const n=e.replace(/^[^#]*/,""),r=(e=e.replace(/#.*/,"")).indexOf("?");if(-1===r)return e+n;const s=gr(e),o=e.substr(0,r);t.forEach(e=>delete s[e]);const a=pr(s);return(a?o+"?"+a:o)+n}const wr=/^(?:[a-z]+:|#|\?|\.|\/)/i;function vr(e){return e?(e=e.trim(),wr.test(e)||(t=e,ir.test(t))?e:"http://"+e):e;var t}function jr(e){try{return decodeURI(e)}catch(t){return e}}function kr(e,t=null){if(!e)return"";let n=e.replace(/^[a-z\-.\+]+[0-9]*:(\/\/)?/i,"").replace(/^www\./i,"");n.match(/^[^\/]+\/$/)&&(n=n.replace("/",""));if(!t||n.length<=t||!n.match(/\/([^\/?]+)\.(?:[\w]+)(?=\?|$)/))return n;n=n.split("?")[0];const r=n.split("/"),s=r[r.length-1];if(s.length<=t)return"…"+n.slice(-t);const o=s.lastIndexOf("."),[a,l]=[s.slice(0,o),s.slice(o+1)],i=a.slice(-3)+"."+l;return s.slice(0,t-i.length-1)+"…"+i}function Nr(e){let t;if(e){try{t=new URL(e,"http://example.com").pathname.split("/").pop()}catch(n){}return t||void 0}}function Cr(e){const t=e.split("?"),n=t[1],r=t[0];return n?r+"?"+n.split("&").map(e=>e.split("=")).map(e=>e.map(decodeURIComponent)).sort((e,t)=>e[0].localeCompare(t[0])).map(e=>e.map(encodeURIComponent)).map(e=>e.join("=")).join("&"):r}const Er="var:",Sr=(e,t)=>{let n=e;return t.forEach(e=>{n=n?.[e]}),n};function _r(e,t,n,r){const s=Sr(e,n);return s?[{selector:t?.selector,key:r,value:Rr(s)}]:[]}function Pr(e,t,n,r,s=["top","right","bottom","left"]){const o=Sr(e,n);if(!o)return[];const a=[];if("string"==typeof o)a.push({selector:t?.selector,key:r.default,value:Rr(o)});else{const e=s.reduce((e,n)=>{const s=Rr(Sr(o,[n]));return s&&e.push({selector:t?.selector,key:r?.individual.replace("%s",Or(n)),value:s}),e},[]);a.push(...e)}return a}function Rr(e){if("string"==typeof e&&e.startsWith(Er)){return`var(--wp--${e.slice(4).split("|").map(e=>Oe(e,{splitRegexp:[/([a-z0-9])([A-Z])/g,/([0-9])([a-z])/g,/([A-Za-z])([0-9])/g,/([A-Z])([A-Z][a-z])/g]})).join("--")})`}return e}function Or(e){const[t,...n]=e;return t.toUpperCase()+n.join("")}function Tr(e){try{return decodeURI(e)}catch(t){return e}}function Ar(e){return(t,n)=>_r(t,n,e,function(e){const[t,...n]=e;return t.toLowerCase()+n.map(Or).join("")}(e))}function Br(e){return(t,n)=>["color","style","width"].flatMap(r=>Ar(["border",e,r])(t,n))}const Ir={name:"radius",generate:(e,t)=>Pr(e,t,["border","radius"],{default:"borderRadius",individual:"border%sRadius"},["topLeft","topRight","bottomLeft","bottomRight"])},$r=[...[{name:"color",generate:Ar(["border","color"])},{name:"style",generate:Ar(["border","style"])},{name:"width",generate:Ar(["border","width"])},Ir,{name:"borderTop",generate:Br("top")},{name:"borderRight",generate:Br("right")},{name:"borderBottom",generate:Br("bottom")},{name:"borderLeft",generate:Br("left")}],...[{name:"text",generate:(e,t)=>_r(e,t,["color","text"],"color")},{name:"gradient",generate:(e,t)=>_r(e,t,["color","gradient"],"background")},{name:"background",generate:(e,t)=>_r(e,t,["color","background"],"backgroundColor")}],...[{name:"minHeight",generate:(e,t)=>_r(e,t,["dimensions","minHeight"],"minHeight")},{name:"aspectRatio",generate:(e,t)=>_r(e,t,["dimensions","aspectRatio"],"aspectRatio")}],...[{name:"color",generate:(e,t,n=["outline","color"],r="outlineColor")=>_r(e,t,n,r)},{name:"style",generate:(e,t,n=["outline","style"],r="outlineStyle")=>_r(e,t,n,r)},{name:"offset",generate:(e,t,n=["outline","offset"],r="outlineOffset")=>_r(e,t,n,r)},{name:"width",generate:(e,t,n=["outline","width"],r="outlineWidth")=>_r(e,t,n,r)}],...[{name:"margin",generate:(e,t)=>Pr(e,t,["spacing","margin"],{default:"margin",individual:"margin%s"})},{name:"padding",generate:(e,t)=>Pr(e,t,["spacing","padding"],{default:"padding",individual:"padding%s"})}],...[{name:"fontFamily",generate:(e,t)=>_r(e,t,["typography","fontFamily"],"fontFamily")},{name:"fontSize",generate:(e,t)=>_r(e,t,["typography","fontSize"],"fontSize")},{name:"fontStyle",generate:(e,t)=>_r(e,t,["typography","fontStyle"],"fontStyle")},{name:"fontWeight",generate:(e,t)=>_r(e,t,["typography","fontWeight"],"fontWeight")},{name:"letterSpacing",generate:(e,t)=>_r(e,t,["typography","letterSpacing"],"letterSpacing")},{name:"lineHeight",generate:(e,t)=>_r(e,t,["typography","lineHeight"],"lineHeight")},{name:"textColumns",generate:(e,t)=>_r(e,t,["typography","textColumns"],"columnCount")},{name:"textDecoration",generate:(e,t)=>_r(e,t,["typography","textDecoration"],"textDecoration")},{name:"textTransform",generate:(e,t)=>_r(e,t,["typography","textTransform"],"textTransform")},{name:"writingMode",generate:(e,t)=>_r(e,t,["typography","writingMode"],"writingMode")}],...[{name:"shadow",generate:(e,t)=>_r(e,t,["shadow"],"boxShadow")}],...[{name:"backgroundImage",generate:(e,t)=>{const n=e?.background?.backgroundImage;return"object"==typeof n&&n?.url?[{selector:t.selector,key:"backgroundImage",value:`url( '${encodeURI(Tr(n.url))}' )`}]:_r(e,t,["background","backgroundImage"],"backgroundImage")}},{name:"backgroundPosition",generate:(e,t)=>_r(e,t,["background","backgroundPosition"],"backgroundPosition")},{name:"backgroundRepeat",generate:(e,t)=>_r(e,t,["background","backgroundRepeat"],"backgroundRepeat")},{name:"backgroundSize",generate:(e,t)=>_r(e,t,["background","backgroundSize"],"backgroundSize")},{name:"backgroundAttachment",generate:(e,t)=>_r(e,t,["background","backgroundAttachment"],"backgroundAttachment")}]];function Mr(e,t={}){const n=Dr(e,t);if(!t?.selector){const e=[];return n.forEach(t=>{e.push(`${Oe(t.key)}: ${t.value};`)}),e.join(" ")}const r=n.reduce((e,t)=>{const{selector:n}=t;return n?(e[n]||(e[n]=[]),e[n].push(t),e):e},{});return Object.keys(r).reduce((e,t)=>(e.push(`${t} { ${r[t].map(e=>`${Oe(e.key)}: ${e.value};`).join(" ")} }`),e),[]).join("\n")}function Dr(e,t={}){const n=[];return $r.forEach(r=>{"function"==typeof r.generate&&n.push(...r.generate(e,t))}),n}const Lr=Object.create(null);function Fr(e,t={}){const{since:n,version:r,alternative:s,plugin:o,link:a,hint:l}=t,i=`${e} is deprecated${n?` since version ${n}`:""}${r?` and will be removed${o?` from ${o}`:""} in version ${r}`:""}.${s?` Please use ${s} instead.`:""}${a?` See: ${a}`:""}${l?` Note: ${l}`:""}`;i in Lr||(Be("deprecated",e,t,i),Lr[i]=!0)}function zr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ur=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Hr=()=>Math.random().toString(36).substring(7).split("").join("."),Vr={INIT:`@@redux/INIT${Hr()}`,REPLACE:`@@redux/REPLACE${Hr()}`};function Wr(e,t,n){if("function"!=typeof e)throw new Error(zr(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(zr(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(zr(1));return n(Wr)(e,t)}let r=e,s=t,o=new Map,a=o,l=0,i=!1;function c(){a===o&&(a=new Map,o.forEach((e,t)=>{a.set(t,e)}))}function d(){if(i)throw new Error(zr(3));return s}function u(e){if("function"!=typeof e)throw new Error(zr(4));if(i)throw new Error(zr(5));let t=!0;c();const n=l++;return a.set(n,e),function(){if(t){if(i)throw new Error(zr(6));t=!1,c(),a.delete(n),o=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(zr(7));if(void 0===e.type)throw new Error(zr(8));if("string"!=typeof e.type)throw new Error(zr(17));if(i)throw new Error(zr(9));try{i=!0,s=r(s,e)}finally{i=!1}return(o=a).forEach(e=>{e()}),e}p({type:Vr.INIT});return{dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(zr(10));r=e,p({type:Vr.REPLACE})},[Ur]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(zr(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[Ur](){return this}}}}}function Gr(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(zr(15))};const a={getState:s.getState,dispatch:(e,...t)=>o(e,...t)},l=e.map(e=>e(a));return o=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}(...l)(s.dispatch),{...s,dispatch:o}}}function qr(e){return Re(e)&&"string"==typeof e.type}function Jr(e={},t){const n=Object.entries(e).map(([e,t])=>(n,r,s,o,a)=>{if(i=e,!qr(l=n)||l.type!==i)return!1;var l,i;const c=t(n);return De(c)?c.then(o,a):o(c),!0});n.push((e,n)=>!!qr(e)&&(t(e),n(),!0));const r=Le.create(n);return e=>new Promise((n,s)=>r(e,e=>{qr(e)&&t(e),n(e)},s))}function Yr(e={}){return t=>{const n=Jr(e,t.dispatch);return e=>t=>{return(r=t)&&"function"==typeof r[Symbol.iterator]&&"function"==typeof r.next?n(t):e(t);var r}}}function Kr(e,t){if(e&&t){if(e.constructor===Object&&t.constructor===Object)return function(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;let s=0;for(;s<n.length;){const r=n[s],o=e[r];if(void 0===o&&!t.hasOwnProperty(r)||o!==t[r])return!1;s++}return!0}(e,t);if(Array.isArray(e)&&Array.isArray(t))return function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}(e,t)}return e===t}function Zr(e){if(!e){if("undefined"==typeof window)return!1;e=window}const{platform:t}=e.navigator;return-1!==t.indexOf("Mac")||["iPad","iPhone"].includes(t)}const Xr="alt",Qr="ctrl",es="meta",ts="shift";function ns(e){return e.length<2?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)}function rs(e,t){return Object.fromEntries(Object.entries(e).map(([e,n])=>[e,t(n)]))}const ss={primary:e=>e()?[es]:[Qr],primaryShift:e=>e()?[ts,es]:[Qr,ts],primaryAlt:e=>e()?[Xr,es]:[Qr,Xr],secondary:e=>e()?[ts,Xr,es]:[Qr,ts,Xr],access:e=>e()?[Qr,Xr]:[ts,Xr],ctrl:()=>[Qr],alt:()=>[Xr],ctrlShift:()=>[Qr,ts],shift:()=>[ts],shiftAlt:()=>[ts,Xr],undefined:()=>[]},os=rs(ss,e=>(t,n=Zr)=>[...e(n),t.toLowerCase()].join("+")),as=rs(rs(ss,e=>(t,n=Zr)=>{const r=n(),s={[Xr]:r?"⌥":"Alt",[Qr]:r?"⌃":"Ctrl",[es]:"⌘",[ts]:r?"⇧":"Shift"};return[...e(n).reduce((e,t)=>{var n;const o=null!==(n=s[t])&&void 0!==n?n:t;return r?[...e,o]:[...e,o,"+"]},[]),ns(t)]}),e=>(t,n=Zr)=>e(t,n).join("")),ls=rs(ss,e=>(t,n=Zr)=>{const r=n(),s={[ts]:"Shift",[es]:r?"Command":"Control",[Qr]:"Control",[Xr]:r?"Option":"Alt",",":et("Comma"),".":et("Period"),"`":et("Backtick"),"~":et("Tilde")};return[...e(n),t].map(e=>{var t;return ns(null!==(t=s[e])&&void 0!==t?t:e)}).join(r?" ":" + ")});const is=rs(ss,e=>(t,n,r=Zr)=>{const s=e(r),o=function(e){return[Xr,Qr,es,ts].filter(t=>e[`${t}Key`])}(t),a={Comma:",",Backslash:"\\",IntlRo:"\\",IntlYen:"\\"},l=s.filter(e=>!o.includes(e)),i=o.filter(e=>!s.includes(e));if(l.length>0||i.length>0)return!1;let c=t.key.toLowerCase();return n?(t.altKey&&1===n.length&&(c=String.fromCharCode(t.keyCode).toLowerCase()),t.shiftKey&&1===n.length&&a[t.code]&&(c=a[t.code]),"del"===n&&(n="delete"),c===n.toLowerCase()):s.includes(c)});const cs="undefined"==typeof window?e=>{setTimeout(()=>e(Date.now()),0)}:window.requestIdleCallback,ds=()=>{const e=new Map;let t=!1;const n=r=>{for(const[t,n]of e)if(e.delete(t),n(),"number"==typeof r||r.timeRemaining()<=0)break;0!==e.size?cs(n):t=!1};return{add:(r,s)=>{e.set(r,s),t||(t=!0,cs(n))},flush:t=>{const n=e.get(t);return void 0!==n&&(e.delete(t),n(),!0)},cancel:t=>e.delete(t),reset:()=>{e.clear(),t=!1}}},us=["@wordpress/block-directory","@wordpress/block-editor","@wordpress/block-library","@wordpress/blocks","@wordpress/commands","@wordpress/components","@wordpress/core-commands","@wordpress/core-data","@wordpress/customize-widgets","@wordpress/data","@wordpress/edit-post","@wordpress/edit-site","@wordpress/edit-widgets","@wordpress/editor","@wordpress/format-library","@wordpress/patterns","@wordpress/preferences","@wordpress/reusable-blocks","@wordpress/router","@wordpress/dataviews","@wordpress/fields","@wordpress/media-utils","@wordpress/upload-media"],ps=[],ms=!globalThis.IS_WORDPRESS_CORE,hs=(e,t)=>{if(!us.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}". This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);if(!ms&&ps.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}" which is already registered. This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);return ps.push(t),{lock:gs,unlock:fs}};function gs(e,t){if(!e)throw new Error("Cannot lock an undefined object.");const n=e;bs in n||(n[bs]={}),xs.set(n[bs],t)}function fs(e){if(!e)throw new Error("Cannot unlock an undefined object.");const t=e;if(!(bs in t))throw new Error("Cannot unlock an object that was not locked before. ");return xs.get(t[bs])}const xs=new WeakMap,bs=Symbol("Private API ID");const ys=Object.freeze(Object.defineProperty({__proto__:null,registerShortcut:function({name:e,category:t,description:n,keyCombination:r,aliases:s}){return{type:"REGISTER_SHORTCUT",name:e,category:t,keyCombination:r,aliases:s,description:n}},unregisterShortcut:function(e){return{type:"UNREGISTER_SHORTCUT",name:e}}},Symbol.toStringTag,{value:"Module"})),ws=[],vs={display:as,raw:os,ariaLabel:ls};function js(e,t){return e?e.modifier?vs[t][e.modifier](e.character):e.character:null}function ks(e,t){return e[t]?e[t].keyCombination:null}function Ns(e,t){return e[t]&&e[t].aliases?e[t].aliases:ws}const Cs=Fe((e,t)=>[ks(e,t),...Ns(e,t)].filter(Boolean),(e,t)=>[e[t]]),Es=Fe((e,t)=>Cs(e,t).map(e=>js(e,"raw")),(e,t)=>[e[t]]),Ss=Fe((e,t)=>Object.entries(e).filter(([,e])=>e.category===t).map(([e])=>e),e=>[e]),_s=He("core/keyboard-shortcuts",{reducer:function(e={},t){switch(t.type){case"REGISTER_SHORTCUT":return{...e,[t.name]:{category:t.category,keyCombination:t.keyCombination,aliases:t.aliases,description:t.description}};case"UNREGISTER_SHORTCUT":const{[t.name]:n,...r}=e;return r}return e},actions:ys,selectors:Object.freeze(Object.defineProperty({__proto__:null,getAllShortcutKeyCombinations:Cs,getAllShortcutRawKeyCombinations:Es,getCategoryShortcuts:Ss,getShortcutAliases:Ns,getShortcutDescription:function(e,t){return e[t]?e[t].description:null},getShortcutKeyCombination:ks,getShortcutRepresentation:function(e,t,n="display"){return js(ks(e,t),n)}},Symbol.toStringTag,{value:"Module"}))});function Ps(){const{getAllShortcutKeyCombinations:e}=We(_s);return function(t,n){return e(t).some(({modifier:e,character:t})=>is[e](n,t))}}Ve(_s);const Rs=new Set,Os=e=>{for(const t of Rs)t(e)},Ts=e.createContext({add:e=>{0===Rs.size&&document.addEventListener("keydown",Os),Rs.add(e)},delete:e=>{Rs.delete(e),0===Rs.size&&document.removeEventListener("keydown",Os)}});function As(t,n,{isDisabled:r=!1}={}){const s=e.useContext(Ts),o=Ps(),a=e.useRef();e.useEffect(()=>{a.current=n},[n]),e.useEffect(()=>{if(!r)return s.add(e),()=>{s.delete(e)};function e(e){o(t,e)&&a.current(e)}},[t,r,s])}const{Provider:Bs}=Ts;class Is{constructor(e=""){this._currentValue="",this._valueAsArray=[],this.value=e}entries(...e){return this._valueAsArray.entries(...e)}forEach(...e){return this._valueAsArray.forEach(...e)}keys(...e){return this._valueAsArray.keys(...e)}values(...e){return this._valueAsArray.values(...e)}get value(){return this._currentValue}set value(e){e=String(e),this._valueAsArray=[...new Set(e.split(/\s+/g).filter(Boolean))],this._currentValue=this._valueAsArray.join(" ")}get length(){return this._valueAsArray.length}toString(){return this.value}*[Symbol.iterator](){return yield*this._valueAsArray}item(e){return this._valueAsArray[e]}contains(e){return-1!==this._valueAsArray.indexOf(e)}add(...e){this.value+=" "+e.join(" ")}remove(...e){this.value=this._valueAsArray.filter(t=>!e.includes(t)).join(" ")}toggle(e,t){return void 0===t&&(t=!this.contains(e)),t?this.add(e):this.remove(e),t}replace(e,t){return!!this.contains(e)&&(this.remove(e),this.add(t),!0)}supports(e){return!0}}const $s=Object.create(null);function Ms(e,t={}){const{since:n,version:r,alternative:s,plugin:o,link:a,hint:l}=t,i=`${e} is deprecated${n?` since version ${n}`:""}${r?` and will be removed${o?` from ${o}`:""} in version ${r}`:""}.${s?` Please use ${s} instead.`:""}${a?` See: ${a}`:""}${l?` Note: ${l}`:""}`;i in $s||(Ie("deprecated",e,t,i),$s[i]=!0)}function Ds(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ls=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Fs=()=>Math.random().toString(36).substring(7).split("").join("."),zs={INIT:`@@redux/INIT${Fs()}`,REPLACE:`@@redux/REPLACE${Fs()}`};function Us(e,t,n){if("function"!=typeof e)throw new Error(Ds(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Ds(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Ds(1));return n(Us)(e,t)}let r=e,s=t,o=new Map,a=o,l=0,i=!1;function c(){a===o&&(a=new Map,o.forEach((e,t)=>{a.set(t,e)}))}function d(){if(i)throw new Error(Ds(3));return s}function u(e){if("function"!=typeof e)throw new Error(Ds(4));if(i)throw new Error(Ds(5));let t=!0;c();const n=l++;return a.set(n,e),function(){if(t){if(i)throw new Error(Ds(6));t=!1,c(),a.delete(n),o=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(Ds(7));if(void 0===e.type)throw new Error(Ds(8));if("string"!=typeof e.type)throw new Error(Ds(17));if(i)throw new Error(Ds(9));try{i=!0,s=r(s,e)}finally{i=!1}return(o=a).forEach(e=>{e()}),e}p({type:zs.INIT});return{dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Ds(10));r=e,p({type:zs.REPLACE})},[Ls]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Ds(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[Ls](){return this}}}}}function Hs(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(Ds(15))};const a={getState:s.getState,dispatch:(e,...t)=>o(e,...t)},l=e.map(e=>e(a));return o=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}(...l)(s.dispatch),{...s,dispatch:o}}}function Vs(e){return Re(e)&&"string"==typeof e.type}function Ws(e={},t){const n=Object.entries(e).map(([e,t])=>(n,r,s,o,a)=>{if(i=e,!Vs(l=n)||l.type!==i)return!1;var l,i;const c=t(n);return De(c)?c.then(o,a):o(c),!0});n.push((e,n)=>!!Vs(e)&&(t(e),n(),!0));const r=Le.create(n);return e=>new Promise((n,s)=>r(e,e=>{Vs(e)&&t(e),n(e)},s))}function Gs(e={}){return t=>{const n=Ws(e,t.dispatch);return e=>t=>{return(r=t)&&"function"==typeof r[Symbol.iterator]&&"function"==typeof r.next?n(t):e(t);var r}}}function qs(e,t){if(e&&t){if(e.constructor===Object&&t.constructor===Object)return function(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;let s=0;for(;s<n.length;){const r=n[s],o=e[r];if(void 0===o&&!t.hasOwnProperty(r)||o!==t[r])return!1;s++}return!0}(e,t);if(Array.isArray(e)&&Array.isArray(t))return function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}(e,t)}return e===t}const Js="undefined"==typeof window?e=>{setTimeout(()=>e(Date.now()),0)}:window.requestIdleCallback,Ys=()=>{const e=new Map;let t=!1;const n=r=>{for(const[t,n]of e)if(e.delete(t),n(),"number"==typeof r||r.timeRemaining()<=0)break;0!==e.size?Js(n):t=!1};return{add:(r,s)=>{e.set(r,s),t||(t=!0,Js(n))},flush:t=>{const n=e.get(t);return void 0!==n&&(e.delete(t),n(),!0)},cancel:t=>e.delete(t),reset:()=>{e.clear(),t=!1}}},Ks=["@wordpress/block-directory","@wordpress/block-editor","@wordpress/block-library","@wordpress/blocks","@wordpress/commands","@wordpress/components","@wordpress/core-commands","@wordpress/core-data","@wordpress/customize-widgets","@wordpress/data","@wordpress/edit-post","@wordpress/edit-site","@wordpress/edit-widgets","@wordpress/editor","@wordpress/format-library","@wordpress/patterns","@wordpress/preferences","@wordpress/reusable-blocks","@wordpress/router","@wordpress/dataviews","@wordpress/fields","@wordpress/media-utils","@wordpress/upload-media"],Zs=[],Xs=!globalThis.IS_WORDPRESS_CORE,Qs=(e,t)=>{if(!Ks.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}". This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);if(!Xs&&Zs.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}" which is already registered. This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);return Zs.push(t),{lock:eo,unlock:to}};function eo(e,t){if(!e)throw new Error("Cannot lock an undefined object.");const n=e;ro in n||(n[ro]={}),no.set(n[ro],t)}function to(e){if(!e)throw new Error("Cannot unlock an undefined object.");const t=e;if(!(ro in t))throw new Error("Cannot unlock an object that was not locked before. ");return no.get(t[ro])}const no=new WeakMap,ro=Symbol("Private API ID");const so=Ge({commands:function(e={},t){switch(t.type){case"REGISTER_COMMAND":return{...e,[t.name]:{name:t.name,label:t.label,searchLabel:t.searchLabel,context:t.context,callback:t.callback,icon:t.icon}};case"UNREGISTER_COMMAND":{const{[t.name]:n,...r}=e;return r}}return e},commandLoaders:function(e={},t){switch(t.type){case"REGISTER_COMMAND_LOADER":return{...e,[t.name]:{name:t.name,context:t.context,hook:t.hook}};case"UNREGISTER_COMMAND_LOADER":{const{[t.name]:n,...r}=e;return r}}return e},isOpen:function(e=!1,t){switch(t.type){case"OPEN":return!0;case"CLOSE":return!1}return e},context:function(e="root",t){return"SET_CONTEXT"===t.type?t.context:e}});const oo=Object.freeze(Object.defineProperty({__proto__:null,close:function(){return{type:"CLOSE"}},open:function(){return{type:"OPEN"}},registerCommand:function(e){return{type:"REGISTER_COMMAND",...e}},registerCommandLoader:function(e){return{type:"REGISTER_COMMAND_LOADER",...e}},unregisterCommand:function(e){return{type:"UNREGISTER_COMMAND",name:e}},unregisterCommandLoader:function(e){return{type:"UNREGISTER_COMMAND_LOADER",name:e}}},Symbol.toStringTag,{value:"Module"})),ao=Fe((e,t=!1)=>Object.values(e.commands).filter(n=>{const r=n.context&&n.context===e.context;return t?r:!r}),e=>[e.commands,e.context]),lo=Fe((e,t=!1)=>Object.values(e.commandLoaders).filter(n=>{const r=n.context&&n.context===e.context;return t?r:!r}),e=>[e.commandLoaders,e.context]);const io=Object.freeze(Object.defineProperty({__proto__:null,getCommandLoaders:lo,getCommands:ao,getContext:function(e){return e.context},isOpen:function(e){return e.isOpen}},Symbol.toStringTag,{value:"Module"}));const co=Object.freeze(Object.defineProperty({__proto__:null,setContext:function(e){return{type:"SET_CONTEXT",context:e}}},Symbol.toStringTag,{value:"Module"})),{lock:uo,unlock:po}=Qs(0,"@wordpress/commands"),mo=qe("core/commands",{reducer:so,actions:oo,selectors:io});Je(mo),po(mo).registerPrivateActions(co),tt("Search commands and settings");function ho(t){const{registerCommandLoader:n,unregisterCommandLoader:r}=Ke(mo);e.useEffect(()=>{if(!t.disabled)return n({name:t.name,hook:t.hook,context:t.context}),()=>{r(t.name)}},[t.name,t.hook,t.context,t.disabled,n,r])}uo({},{useCommandContext:function(t){const{getContext:n}=Ye(mo),r=e.useRef(n()),{setContext:s}=po(Ke(mo));e.useEffect(()=>{s(t)},[t,s]),e.useEffect(()=>{const e=r.current;return()=>s(e)},[s])}});const go=Object.create(null);function fo(e,t={}){const{since:n,version:r,alternative:s,plugin:o,link:a,hint:l}=t,i=`${e} is deprecated${n?` since version ${n}`:""}${r?` and will be removed${o?` from ${o}`:""} in version ${r}`:""}.${s?` Please use ${s} instead.`:""}${a?` See: ${a}`:""}${l?` Note: ${l}`:""}`;i in go||($e("deprecated",e,t,i),go[i]=!0)}function xo(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bo=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),yo=()=>Math.random().toString(36).substring(7).split("").join("."),wo={INIT:`@@redux/INIT${yo()}`,REPLACE:`@@redux/REPLACE${yo()}`};function vo(e,t,n){if("function"!=typeof e)throw new Error(xo(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(xo(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(xo(1));return n(vo)(e,t)}let r=e,s=t,o=new Map,a=o,l=0,i=!1;function c(){a===o&&(a=new Map,o.forEach((e,t)=>{a.set(t,e)}))}function d(){if(i)throw new Error(xo(3));return s}function u(e){if("function"!=typeof e)throw new Error(xo(4));if(i)throw new Error(xo(5));let t=!0;c();const n=l++;return a.set(n,e),function(){if(t){if(i)throw new Error(xo(6));t=!1,c(),a.delete(n),o=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(xo(7));if(void 0===e.type)throw new Error(xo(8));if("string"!=typeof e.type)throw new Error(xo(17));if(i)throw new Error(xo(9));try{i=!0,s=r(s,e)}finally{i=!1}return(o=a).forEach(e=>{e()}),e}p({type:wo.INIT});return{dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(xo(10));r=e,p({type:wo.REPLACE})},[bo]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(xo(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[bo](){return this}}}}}function jo(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(xo(15))};const a={getState:s.getState,dispatch:(e,...t)=>o(e,...t)},l=e.map(e=>e(a));return o=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}(...l)(s.dispatch),{...s,dispatch:o}}}function ko(e){return Re(e)&&"string"==typeof e.type}function No(e={},t){const n=Object.entries(e).map(([e,t])=>(n,r,s,o,a)=>{if(i=e,!ko(l=n)||l.type!==i)return!1;var l,i;const c=t(n);return De(c)?c.then(o,a):o(c),!0});n.push((e,n)=>!!ko(e)&&(t(e),n(),!0));const r=Le.create(n);return e=>new Promise((n,s)=>r(e,e=>{ko(e)&&t(e),n(e)},s))}function Co(e={}){return t=>{const n=No(e,t.dispatch);return e=>t=>{return(r=t)&&"function"==typeof r[Symbol.iterator]&&"function"==typeof r.next?n(t):e(t);var r}}}const Eo=["@wordpress/block-directory","@wordpress/block-editor","@wordpress/block-library","@wordpress/blocks","@wordpress/commands","@wordpress/components","@wordpress/core-commands","@wordpress/core-data","@wordpress/customize-widgets","@wordpress/data","@wordpress/edit-post","@wordpress/edit-site","@wordpress/edit-widgets","@wordpress/editor","@wordpress/format-library","@wordpress/patterns","@wordpress/preferences","@wordpress/reusable-blocks","@wordpress/router","@wordpress/dataviews","@wordpress/fields","@wordpress/media-utils","@wordpress/upload-media"],So=[],_o=!globalThis.IS_WORDPRESS_CORE,Po=(e,t)=>{if(!Eo.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}". This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);if(!_o&&So.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}" which is already registered. This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);return So.push(t),{lock:Ro,unlock:Oo}};function Ro(e,t){if(!e)throw new Error("Cannot lock an undefined object.");const n=e;Ao in n||(n[Ao]={}),To.set(n[Ao],t)}function Oo(e){if(!e)throw new Error("Cannot unlock an undefined object.");const t=e;if(!(Ao in t))throw new Error("Cannot unlock an object that was not locked before. ");return To.get(t[Ao])}const To=new WeakMap,Ao=Symbol("Private API ID");const Bo=function(e){let t;return(n,r)=>{if("SET_PERSISTENCE_LAYER"===r.type){const{persistenceLayer:e,persistedData:n}=r;return t=e,n}const s=e(n,r);return"SET_PREFERENCE_VALUE"===r.type&&t?.set(s),s}}((e={},t)=>{if("SET_PREFERENCE_VALUE"===t.type){const{scope:n,name:r,value:s}=t;return{...e,[n]:{...e[n],[r]:s}}}return e}),Io=Ze({defaults:function(e={},t){if("SET_PREFERENCE_DEFAULTS"===t.type){const{scope:n,defaults:r}=t;return{...e,[n]:{...e[n],...r}}}return e},preferences:Bo});const $o=Object.freeze(Object.defineProperty({__proto__:null,set:function(e,t,n){return{type:"SET_PREFERENCE_VALUE",scope:e,name:t,value:n}},setDefaults:function(e,t){return{type:"SET_PREFERENCE_DEFAULTS",scope:e,defaults:t}},setPersistenceLayer:async function(e){const t=await e.get();return{type:"SET_PERSISTENCE_LAYER",persistenceLayer:e,persistedData:t}},toggle:function(e,t){return function({select:n,dispatch:r}){const s=n.get(e,t);r.set(e,t,!s)}}},Symbol.toStringTag,{value:"Module"})),Mo=(Do=(e,t,n)=>{const r=e.preferences[t]?.[n];return void 0!==r?r:e.defaults[t]?.[n]},(e,t,n)=>["allowRightClickOverrides","distractionFree","editorMode","fixedToolbar","focusMode","hiddenBlockTypes","inactivePanels","keepCaretInsideBlock","mostUsedBlocks","openPanels","showBlockBreadcrumbs","showIconLabels","showListViewByDefault","isPublishSidebarEnabled","isComplementaryAreaVisible","pinnedItems"].includes(n)&&["core/edit-post","core/edit-site"].includes(t)?(fo(`wp.data.select( 'core/preferences' ).get( '${t}', '${n}' )`,{since:"6.5",alternative:`wp.data.select( 'core/preferences' ).get( 'core', '${n}' )`}),Do(e,"core",n)):Do(e,t,n));var Do;const Lo=Xe("core/preferences",{reducer:Io,actions:$o,selectors:Object.freeze(Object.defineProperty({__proto__:null,get:Mo},Symbol.toStringTag,{value:"Module"}))});Qe(Lo);const Fo={HTMLRegExp:/<\/?[a-z][^>]*?>/gi,HTMLcommentRegExp:/<!--[\s\S]*?-->/g,spaceRegExp:/&nbsp;|&#160;/gi,HTMLEntityRegExp:/&\S+?;/g,connectorRegExp:/--|\u2014/g,removeRegExp:new RegExp(["[","!-/:-@[-`{-~","-¿×÷"," -⯿","⸀-⹿","]"].join(""),"g"),astralRegExp:/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wordsRegExp:/\S\s+/g,characters_excluding_spacesRegExp:/\S/g,characters_including_spacesRegExp:/[^\f\n\r\t\v\u00AD\u2028\u2029]/g,l10n:{type:"words"}};function zo(e,t){return t.replace(e.HTMLRegExp,"\n")}function Uo(e,t){return t.replace(e.astralRegExp,"a")}function Ho(e,t){return t.replace(e.HTMLEntityRegExp,"")}function Vo(e,t){return t.replace(e.connectorRegExp," ")}function Wo(e,t){return t.replace(e.removeRegExp,"")}function Go(e,t){return t.replace(e.HTMLcommentRegExp,"")}function qo(e,t){return e.shortcodesRegExp?t.replace(e.shortcodesRegExp,"\n"):t}function Jo(e,t){return t.replace(e.spaceRegExp," ")}function Yo(e,t){return t.replace(e.HTMLEntityRegExp,"a")}function Ko(e,t,n){var r;return e=[zo.bind(null,n),Go.bind(null,n),qo.bind(null,n),Uo.bind(null,n),Jo.bind(null,n),Yo.bind(null,n)].reduce((e,t)=>t(e),e),e+="\n",null!==(r=e.match(t)?.length)&&void 0!==r?r:0}function Zo(e,t,n){const r=function(e="words",t={}){var n;const r={...{...Fo,...t},type:e,shortcodes:[]};return r.shortcodes=null!==(n=r.l10n?.shortcodes)&&void 0!==n?n:[],r.shortcodes&&r.shortcodes.length&&(r.shortcodesRegExp=new RegExp("\\[\\/?(?:"+r.shortcodes.join("|")+")[^\\]]*?\\]","g")),"characters_excluding_spaces"!==r.type&&"characters_including_spaces"!==r.type&&(r.type="words"),r}(t,n);let s;switch(r.type){case"words":return s=r.wordsRegExp,function(e,t,n){var r;return e=[zo.bind(null,n),Go.bind(null,n),qo.bind(null,n),Jo.bind(null,n),Ho.bind(null,n),Vo.bind(null,n),Wo.bind(null,n)].reduce((e,t)=>t(e),e),e+="\n",null!==(r=e.match(t)?.length)&&void 0!==r?r:0}(e,s,r);case"characters_including_spaces":return s=r.characters_including_spacesRegExp,Ko(e,s,r);case"characters_excluding_spaces":return s=r.characters_excluding_spacesRegExp,Ko(e,s,r);default:return 0}}function Xo(e){return Re(e)&&"string"==typeof e.type}function Qo(e={},t){const n=Object.entries(e).map(([e,t])=>(n,r,s,o,a)=>{if(i=e,!Xo(l=n)||l.type!==i)return!1;var l,i;const c=t(n);return De(c)?c.then(o,a):o(c),!0});n.push((e,n)=>!!Xo(e)&&(t(e),n(),!0));const r=Le.create(n);return e=>new Promise((n,s)=>r(e,e=>{Xo(e)&&t(e),n(e)},s))}function ea(e={}){return t=>{const n=Qo(e,t.dispatch);return e=>t=>{return(r=t)&&"function"==typeof r[Symbol.iterator]&&"function"==typeof r.next?n(t):e(t);var r}}}function ta(e){"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",e):e())}const na=()=>{const[t,n]=e.useState(!1),[r,s]=e.useState(null),o=e.useCallback(async e=>{n(!0),s(null);try{const t=await fetch("/api/reusable-blocks",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to save reusable block")}return await t.json()}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";return s(e),null}finally{n(!1)}},[]),a=e.useCallback(async e=>{n(!0),s(null);try{const t=await fetch(`/api/reusable-blocks/${e}`,{credentials:"include"});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to fetch reusable block")}const n=await t.json();let r;if(Array.isArray(n.content))r=n.content;else if(window.wp?.blocks?.parse)r=window.wp.blocks.parse(n.content);else{const{parse:e}=await mt(async()=>{const{parse:e}=await import("./wp-blocks-core-6vwQKPfS.js").then(e=>e.Z);return{parse:e}},__vite__mapDeps([0,1,2,3,4,5]));r=e(n.content)}return r}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";return s(e),null}finally{n(!1)}},[]);return{loading:t,error:r,saveAsReusableBlock:o,insertReusableBlock:a,duplicateReusableBlock:e.useCallback(async e=>{n(!0),s(null);try{const t=await fetch(`/api/reusable-blocks/${e}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to duplicate reusable block")}return await t.json()}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";return s(e),null}finally{n(!1)}},[]),deleteReusableBlock:e.useCallback(async e=>{n(!0),s(null);try{const t=await fetch(`/api/reusable-blocks/${e}`,{method:"DELETE",credentials:"include"});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete reusable block")}return!0}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";return s(e),!1}finally{n(!1)}},[]),updateReusableBlock:e.useCallback(async(e,t)=>{n(!0),s(null);try{const n=await fetch(`/api/reusable-blocks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to update reusable block")}return await n.json()}catch(r){const e=r instanceof Error?r.message:"Unknown error occurred";return s(e),null}finally{n(!1)}},[]),convertBlocksToReusable:e.useCallback(e=>{const t=e.map(e=>e.name||"unknown").join(", "),n=e=>e.map(e=>e.attributes?.content?e.attributes.content.replace(/<[^>]*>/g,""):e.innerBlocks?.length?n(e.innerBlocks):"").filter(Boolean).join(" ").slice(0,200);return{title:`Reusable Block (${t})`,description:n(e)||void 0,content:e,category:"general",tags:[],visibility:"private",isGlobal:!1,metadata:{version:"1.0.0",compatibility:["wordpress-6.0+"],keywords:t.split(", "),difficulty:"beginner"}}},[]),validateBlockData:e.useCallback(e=>{const t=[];if(e.title&&0!==e.title.trim().length||t.push("Title is required"),e.title&&e.title.length>255&&t.push("Title must be less than 255 characters"),e.content&&Array.isArray(e.content)&&0!==e.content.length||t.push("Block content is required"),e.description&&e.description.length>1e3&&t.push("Description must be less than 1000 characters"),e.category&&e.category.length>100&&t.push("Category must be less than 100 characters"),e.tags&&e.tags.length>10&&t.push("Maximum 10 tags allowed"),e.tags){e.tags.filter(e=>e.length>50).length>0&&t.push("Each tag must be less than 50 characters")}return e.visibility&&!["private","public","organization"].includes(e.visibility)&&t.push("Invalid visibility setting"),{valid:0===t.length,errors:t}},[])}},ra=({isOpen:n,onClose:r,selectedBlocks:s,onSaved:o})=>{const{saveAsReusableBlock:a,convertBlocksToReusable:i,validateBlockData:c,loading:d,error:u}=na(),[p,m]=e.useState({title:"",description:"",category:"",tags:[],visibility:"private",isGlobal:!1}),[h,g]=e.useState(""),[f,x]=e.useState([]),[b,y]=e.useState([]);e.useEffect(()=>{if(n&&s.length>0){const e=i(s);m({title:e.title,description:e.description||"",category:e.category||"",tags:e.tags||[],visibility:e.visibility||"private",isGlobal:e.isGlobal||!1})}},[n,s,i]),e.useEffect(()=>{n&&(async()=>{try{const e=await fetch("/api/reusable-blocks/categories",{credentials:"include"});if(e.ok){const t=await e.json();y(t)}}catch(e){}})()},[n]);const w=()=>{const e=h.trim();e&&!p.tags.includes(e)&&p.tags.length<10&&(m(t=>({...t,tags:[...t.tags,e]})),g(""))};return t.jsx(Wt,{open:n,onOpenChange:r,children:t.jsxs(Kt,{className:"sm:max-w-md",children:[t.jsxs(Zt,{children:[t.jsx(Qt,{children:"Save as Reusable Block"}),t.jsx(en,{children:"Save the selected blocks as a reusable block that can be used across your site."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"title",children:"Title *"}),t.jsx(ge,{id:"title",value:p.title,onChange:e=>m(t=>({...t,title:e.target.value})),placeholder:"Enter block title...",maxLength:255})]}),t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"description",children:"Description"}),t.jsx(be,{id:"description",value:p.description,onChange:e=>m(t=>({...t,description:e.target.value})),placeholder:"Describe what this block does...",rows:3,maxLength:1e3}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[p.description.length,"/1000 characters"]})]}),t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"category",children:"Category"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(ke,{value:p.category,onValueChange:e=>m(t=>({...t,category:e})),children:[t.jsx(Ne,{className:"flex-1",children:t.jsx(Ce,{placeholder:"Select or create category..."})}),t.jsxs(Ee,{children:[t.jsx(Se,{value:"general",children:"General"}),t.jsx(Se,{value:"layout",children:"Layout"}),t.jsx(Se,{value:"content",children:"Content"}),t.jsx(Se,{value:"media",children:"Media"}),t.jsx(Se,{value:"widgets",children:"Widgets"}),b.map(e=>t.jsx(Se,{value:e,children:e},e))]})]}),t.jsx(ge,{placeholder:"Or type new category",value:p.category,onChange:e=>m(t=>({...t,category:e.target.value})),className:"flex-1",maxLength:100})]})]}),t.jsxs("div",{children:[t.jsx(xe,{children:"Tags"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ge,{placeholder:"Add tags...",value:h,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),w())},maxLength:50,disabled:p.tags.length>=10}),t.jsx(fe,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:!h.trim()||p.tags.includes(h.trim())||p.tags.length>=10,children:t.jsx(D,{className:"h-4 w-4"})})]}),p.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(e=>t.jsxs(At,{variant:"secondary",className:"flex items-center gap-1",children:[e,t.jsx("button",{type:"button",onClick:()=>{return t=e,void m(e=>({...e,tags:e.tags.filter(e=>e!==t)}));var t},className:"ml-1 text-gray-500 hover:text-red-500",children:t.jsx(l,{className:"h-3 w-3"})})]},e))}),t.jsxs("div",{className:"text-xs text-gray-500",children:[p.tags.length,"/10 tags"]})]})]}),t.jsxs("div",{children:[t.jsx(xe,{htmlFor:"visibility",children:"Visibility"}),t.jsxs(ke,{value:p.visibility,onValueChange:e=>m(t=>({...t,visibility:e})),children:[t.jsx(Ne,{children:t.jsx(Ce,{})}),t.jsxs(Ee,{children:[t.jsx(Se,{value:"private",children:"Private (Only me)"}),t.jsx(Se,{value:"organization",children:"Organization (Team members)"}),t.jsx(Se,{value:"public",children:"Public (Everyone)"})]})]})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("strong",{children:"Blocks to save:"})," ",s.length," block",1!==s.length?"s":""]}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.map(e=>e.name||"unknown").join(", ")})]}),(f.length>0||u)&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:t.jsxs("div",{className:"text-sm text-red-800",children:[u&&t.jsx("div",{className:"mb-2",children:u}),f.map((e,n)=>t.jsxs("div",{children:["• ",e]},n))]})})]}),t.jsxs(Xt,{children:[t.jsx(fe,{variant:"outline",onClick:r,disabled:d,children:"Cancel"}),t.jsx(fe,{onClick:async()=>{const e={title:p.title,description:p.description||void 0,content:s,category:p.category||void 0,tags:p.tags,visibility:p.visibility,isGlobal:p.isGlobal,metadata:{version:"1.0.0",compatibility:["wordpress-6.0+"],keywords:p.tags,difficulty:"beginner"}},t=c(e);if(t.valid){x([]);try{const t=await a(e);t&&(o?.(t),r(),m({title:"",description:"",category:"",tags:[],visibility:"private",isGlobal:!1}))}catch(n){}}else x(t.errors)},disabled:d||!p.title.trim(),children:d?"Saving...":"Save Block"})]})]})})},sa=e.forwardRef(({className:e,children:n,orientation:r="vertical",...s},o)=>t.jsx("div",{ref:o,className:pe("relative overflow-auto",{"overflow-y-auto overflow-x-hidden":"vertical"===r,"overflow-x-auto overflow-y-hidden":"horizontal"===r,"overflow-auto":"both"===r},"scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100","hover:scrollbar-thumb-gray-400",e),...s,children:n}));function oa({className:e,...n}){return t.jsx("div",{className:pe("animate-pulse rounded-md bg-gray-200",e),...n})}sa.displayName="ScrollArea";const aa=({onInsertPattern:n,onPreviewPattern:r,compact:s=!1,selectedCategory:o="all"})=>{const[a,l]=e.useState([]),[u,p]=e.useState([]),[m,h]=e.useState(!0),[g,f]=e.useState(""),[x,b]=e.useState(o),[y,w]=e.useState("grid"),[v,j]=e.useState(1),[k,N]=e.useState(1),[C,E]=e.useState(null);e.useEffect(()=>{(async()=>{try{const e=await fetch("/api/block-patterns/categories");if(e.ok){const t=await e.json();p(t)}}catch(e){}})()},[]),e.useEffect(()=>{(async(e=1,t="",n="all")=>{h(!0);try{const r=new URLSearchParams({page:e.toString(),per_page:s?"12":"24",search:t,orderby:"featured",order:"DESC"});"all"!==n&&r.append("category",n);const o=await fetch(`/api/block-patterns?${r}`);if(!o.ok)throw new Error("Failed to fetch patterns");const a=await o.json(),i=parseInt(o.headers.get("X-WP-TotalPages")||"1");l(a),N(i)}catch(r){}finally{h(!1)}})(v,g,x)},[v,g,x]);const S=e=>{n&&n(e)},_=e=>{r&&r(e)},P=e=>t.jsxs(ht,{className:"group relative overflow-hidden cursor-pointer transition-all "+(C===e.id?"ring-2 ring-blue-500":""),onMouseEnter:()=>E(e.id),onMouseLeave:()=>E(null),onClick:()=>S(e),children:[t.jsxs("div",{className:"aspect-[4/3] bg-gray-50 border-b overflow-hidden relative",children:[e.preview?.screenshot?t.jsx("img",{src:e.preview.screenshot,alt:e.title,className:"w-full h-full object-cover"}):e.preview?.html?t.jsx("div",{className:"w-full h-full p-4 overflow-hidden",children:t.jsx("div",{className:"transform scale-50 origin-top-left w-[200%] h-[200%]",children:t.jsx("div",{dangerouslySetInnerHTML:{__html:e.preview.html}})})}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(G,{className:"h-12 w-12 text-gray-300"})}),t.jsxs("div",{className:"absolute top-2 left-2 flex gap-1",children:[e.featured&&t.jsxs(At,{className:"bg-yellow-500 text-white",children:[t.jsx(M,{className:"h-3 w-3 mr-1 fill-current"}),"Featured"]}),e.isPremium&&t.jsx(At,{className:"bg-purple-500 text-white",children:"Pro"}),"core"===e.source&&t.jsx(At,{variant:"secondary",children:"Core"})]}),t.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t.jsx(fe,{size:"sm",onClick:t=>{t.stopPropagation(),S(e)},className:"bg-blue-600 hover:bg-blue-700",children:"Insert Pattern"}),r&&t.jsx(fe,{size:"sm",variant:"outline",onClick:t=>{t.stopPropagation(),_(e)},className:"text-white border-white hover:bg-white/20",children:t.jsx(q,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-medium text-sm mb-1",children:e.title}),e.description&&t.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.description}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(At,{variant:"outline",className:"text-xs",children:u.find(t=>t.id===e.category)?.name||e.category}),e.usageCount>0&&t.jsxs("span",{className:"text-xs text-gray-500",children:[e.usageCount," uses"]})]}),t.jsxs("span",{className:"text-xs text-gray-400",children:["by ",e.author.name]})]}),e.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.slice(0,3).map(e=>t.jsxs("span",{className:"text-xs text-gray-500",children:["#",e]},e))})]})]},e.id),R=()=>t.jsx("div",{className:"grid"===y?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-3",children:Array.from({length:6}).map((e,n)=>t.jsxs(ht,{className:"overflow-hidden",children:[t.jsx(oa,{className:"grid"===y?"h-48":"h-20"}),t.jsxs("div",{className:"p-4 space-y-2",children:[t.jsx(oa,{className:"h-4 w-3/4"}),t.jsx(oa,{className:"h-3 w-full"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(oa,{className:"h-5 w-16"}),t.jsx(oa,{className:"h-5 w-16"})]})]})]},n))});return s?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx(ge,{placeholder:"Search patterns...",value:g,onChange:e=>f(e.target.value),className:"pl-10"})]}),t.jsx(sa,{className:"w-full",children:t.jsxs("div",{className:"flex gap-2 pb-2",children:[t.jsx(fe,{variant:"all"===x?"default":"outline",size:"sm",onClick:()=>b("all"),children:"All"}),u.map(e=>t.jsxs(fe,{variant:x===e.id?"default":"outline",size:"sm",onClick:()=>b(e.id),children:[e.name," (",e.count,")"]},e.id))]})}),t.jsx("div",{className:"space-y-3",children:m?R():0===a.length?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(G,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No patterns found"})]}):t.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.slice(0,6).map(P)})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Block Patterns"}),t.jsx("p",{className:"text-gray-600",children:"Pre-designed block layouts to speed up your workflow"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fe,{variant:"grid"===y?"default":"outline",size:"sm",onClick:()=>w("grid"),children:t.jsx(c,{className:"h-4 w-4"})}),t.jsx(fe,{variant:"list"===y?"default":"outline",size:"sm",onClick:()=>w("list"),children:t.jsx(d,{className:"h-4 w-4"})})]})]}),t.jsx(ht,{className:"p-4",children:t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(i,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx(ge,{placeholder:"Search patterns...",value:g,onChange:e=>f(e.target.value),className:"pl-10"})]})})}),t.jsxs(ye,{value:x,onValueChange:b,children:[t.jsxs(we,{className:"w-full justify-start overflow-x-auto",children:[t.jsxs(ve,{value:"all",children:["All Patterns",u.length>0&&t.jsxs("span",{className:"ml-2 text-xs",children:["(",u.reduce((e,t)=>e+t.count,0),")"]})]}),u.map(e=>t.jsxs(ve,{value:e.id,children:[e.name,t.jsxs("span",{className:"ml-2 text-xs",children:["(",e.count,")"]})]},e.id))]}),t.jsx(je,{value:x,className:"mt-6",children:m?R():0===a.length?t.jsxs("div",{className:"text-center py-16",children:[t.jsx(G,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No patterns found"}),t.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid"===y?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-3",children:"grid"===y?a.map(P):a.map(e=>t.jsx(ht,{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>S(e),children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-16 bg-gray-100 rounded border overflow-hidden flex-shrink-0",children:e.preview?.screenshot?t.jsx("img",{src:e.preview.screenshot,alt:e.title,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(G,{className:"h-6 w-6 text-gray-400"})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("h3",{className:"font-medium text-sm flex items-center gap-2",children:[e.title,e.featured&&t.jsx(M,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.isPremium&&t.jsx(At,{className:"text-xs bg-purple-500 text-white",children:"Pro"})]}),e.description&&t.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",children:e.description}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[t.jsx(At,{variant:"outline",className:"text-xs",children:u.find(t=>t.id===e.category)?.name||e.category}),t.jsxs("span",{className:"text-xs text-gray-500",children:[e.usageCount," uses"]}),t.jsxs("span",{className:"text-xs text-gray-500",children:["by ",e.author.name]})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(fe,{size:"sm",onClick:t=>{t.stopPropagation(),S(e)},children:"Insert"}),r&&t.jsx(fe,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),_(e)},children:t.jsx(q,{className:"h-4 w-4"})})]})]})})]})},e.id))}),k>1&&t.jsxs("div",{className:"flex items-center justify-between mt-8",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",v," of ",k]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(fe,{variant:"outline",disabled:1===v,onClick:()=>j(v-1),children:"Previous"}),t.jsx(fe,{variant:"outline",disabled:v===k,onClick:()=>j(v+1),children:"Next"})]})]})]})})]})]})},la=e=>e.map(e=>({name:e.name,attributes:e.attributes,innerBlocks:e.innerBlocks?la(e.innerBlocks):void 0,innerHTML:e.innerHTML})),ia=e=>{const t=e=>{const n={name:e.name,attributes:e.attributes||{},innerBlocks:[],innerHTML:e.innerHTML||""};return e.innerBlocks&&e.innerBlocks.length>0&&(n.innerBlocks=e.innerBlocks.map(t)),n.clientId=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n};return e.content.map(t)};const ca={"o4o/group":()=>mt(()=>Promise.resolve().then(()=>ba),void 0),"o4o/columns":()=>mt(()=>Promise.resolve().then(()=>wa),void 0)},da=new Set;async function ua(e){if(da.has(e))return;const t=ca[e];if(t)try{await t(),da.add(e)}catch(n){}}const pa=({showSidebar:e=!0})=>t.jsxs("div",{className:"flex h-full",children:[t.jsxs("div",{className:"flex-1 p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[t.jsx(oa,{className:"h-8 w-8"}),t.jsx(oa,{className:"h-8 w-8"}),t.jsx(oa,{className:"h-8 w-8"}),t.jsx("div",{className:"flex-1"}),t.jsx(oa,{className:"h-8 w-24"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(oa,{className:"h-12 w-2/3"}),t.jsx(oa,{className:"h-4 w-full"}),t.jsx(oa,{className:"h-4 w-full"}),t.jsx(oa,{className:"h-4 w-3/4"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[t.jsx(oa,{className:"h-32"}),t.jsx(oa,{className:"h-32"})]})]})]}),e&&t.jsxs("div",{className:"w-80 border-l p-4 space-y-4",children:[t.jsx(oa,{className:"h-8 w-full"}),t.jsx(oa,{className:"h-12 w-full"}),t.jsx(oa,{className:"h-12 w-full"}),t.jsx(oa,{className:"h-12 w-full"})]})]}),ma=({isSaving:e,lastSavedAt:n,hasError:r})=>{if(e)return t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(J,{className:"h-3 w-3 animate-spin"}),t.jsx("span",{children:"Saving..."})]});if(r)return t.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[t.jsx(Y,{className:"h-3 w-3"}),t.jsx("span",{children:"Save failed"})]});if(n){const e=function(e){const t=Math.floor(((new Date).getTime()-e.getTime())/1e3);return t<60?"just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:`${Math.floor(t/86400)}d ago`}(n);return t.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[t.jsx(K,{className:"h-3 w-3"}),t.jsxs("span",{children:["Saved ",e]})]})}return null};const ha=({initialContent:n="",onChange:r,settings:s={},showReusableBlocks:o=!0})=>{const[a,l]=e.useState([]),[i]=e.useState([]),[c,d]=e.useState(!1),[u,p]=e.useState(!1),[m,h]=e.useState(!1),[g,f]=e.useState(!0),[x,b]=e.useState(!1),y=e.useRef(null),{insertReusableBlock:w,loading:v}=na(),{insertBlockPattern:j,loading:k}=(()=>{const[t,n]=e.useState(!1),[r,s]=e.useState(null),o=e.useCallback(async e=>{n(!0),s(null);try{const t=await fetch(`/api/block-patterns/${e}`);if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to fetch block pattern")}const n=await t.json();return ia(n)}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";return s(e),null}finally{n(!1)}},[]),a=e.useCallback(async e=>{n(!0),s(null);try{const t=await fetch("/api/block-patterns",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to create block pattern")}return await t.json()}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";return s(e),null}finally{n(!1)}},[]),l=e.useCallback(async e=>{n(!0),s(null);try{const t=await fetch(`/api/block-patterns/${e}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to duplicate block pattern")}return await t.json()}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";return s(e),null}finally{n(!1)}},[]),i=e.useCallback(async e=>{n(!0),s(null);try{const t=await fetch(`/api/block-patterns/${e}`,{method:"DELETE",credentials:"include"});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete block pattern")}return!0}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";return s(e),!1}finally{n(!1)}},[]),c=e.useCallback(async(e,t)=>{n(!0),s(null);try{const n=await fetch(`/api/block-patterns/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to update block pattern")}return await n.json()}catch(r){const e=r instanceof Error?r.message:"Unknown error occurred";return s(e),null}finally{n(!1)}},[]),d=e.useCallback(e=>{const t=e.map(e=>({name:e.name,attributes:e.attributes,innerBlocks:e.innerBlocks?la(e.innerBlocks):void 0,innerHTML:e.innerHTML})),n=e.map(e=>e.name);let r="general";return n.includes("core/navigation")||n.includes("core/site-logo")?r="header":n.includes("core/heading")&&n.includes("core/buttons")?r="hero":n.includes("core/columns")&&n.length>3?r="features":(n.includes("core/quote")||n.includes("core/testimonial"))&&(r="testimonials"),{title:`Custom ${r.charAt(0).toUpperCase()+r.slice(1)} Pattern`,description:`A custom ${r} pattern created from selected blocks`,content:t,category:r,tags:[],visibility:"private",metadata:{blockTypes:n,createdFrom:"editor"}}},[]),u=e.useCallback((e,t)=>!e.dependencies||0===e.dependencies.length||(e.metadata?.blockTypes||[]).every(e=>t.includes(e)),[]),p=e.useCallback((e,t)=>{if(e.colorScheme&&e.colorScheme.length>0&&e.colorScheme.forEach((e,n)=>{t.style.setProperty(`--pattern-color-${n+1}`,e)}),e.typography&&(e.typography.fontFamily&&(t.style.fontFamily=e.typography.fontFamily),e.typography.fontSize&&(t.style.fontSize=e.typography.fontSize),e.typography.lineHeight&&(t.style.lineHeight=e.typography.lineHeight),e.typography.fontWeight&&(t.style.fontWeight=e.typography.fontWeight)),e.preview?.css){const n=document.createElement("style");n.textContent=e.preview.css,t.appendChild(n)}},[]);return{loading:t,error:r,insertBlockPattern:o,createBlockPattern:a,duplicateBlockPattern:l,deleteBlockPattern:i,updateBlockPattern:c,convertBlocksToPattern:d,transformPatternToBlocks:ia,validatePatternCompatibility:u,applyPatternStyles:p}})(),{metrics:N,measureRenderTime:C}=function(t={}){const{enableMonitoring:n=!0,warnThreshold:r={blockCount:100,renderTime:100,memoryUsage:52428800,fps:30},onPerformanceIssue:s}=t,[o,a]=e.useState({blockCount:0,renderTime:0,memoryUsage:0,fps:60,lagSpikes:0}),l=e.useRef(0),i=e.useRef(performance.now()),c=e.useRef([]),d=e.useRef(void 0),u=e.useCallback(()=>{const e=performance.now(),t=e-i.current;if(t>0){const e=1e3/t;c.current.push(e),c.current.length>60&&c.current.shift();const n=c.current.reduce((e,t)=>e+t,0)/c.current.length;t>33&&a(e=>({...e,lagSpikes:e.lagSpikes+1})),a(e=>({...e,fps:Math.round(n)}))}i.current=e,l.current++,n&&(d.current=requestAnimationFrame(u))},[n]),p=e.useCallback(async()=>{if("memory"in performance&&performance.memory){const e=performance.memory;a(t=>({...t,memoryUsage:e.usedJSHeapSize}))}},[]),m=e.useCallback(()=>{if("undefined"!=typeof window&&window.wp?.data){const{getBlocks:e}=window.wp.data.select("core/block-editor"),t=e();if(t){let e=0;const n=t=>{t.forEach(t=>{e++,t.innerBlocks?.length>0&&n(t.innerBlocks)})};n(t),a(t=>({...t,blockCount:e}))}}},[]),h=e.useCallback(e=>{const t=performance.now();e(),requestAnimationFrame(()=>{const e=performance.now()-t;a(t=>({...t,renderTime:e}))})},[]);return e.useEffect(()=>{if(!n)return;const e=[];r.blockCount&&o.blockCount>r.blockCount&&e.push(`High block count: ${o.blockCount}`),r.renderTime&&o.renderTime>r.renderTime&&e.push(`Slow render: ${o.renderTime.toFixed(2)}ms`),r.memoryUsage&&o.memoryUsage>r.memoryUsage&&e.push(`High memory usage: ${(o.memoryUsage/1024/1024).toFixed(2)}MB`),r.fps&&o.fps<r.fps&&e.push(`Low FPS: ${o.fps}`),e.length>0&&s&&s(o)},[o,r,s,n]),e.useEffect(()=>{if(!n)return;u();const e=setInterval(()=>{p(),m()},1e3);return()=>{d.current&&cancelAnimationFrame(d.current),clearInterval(e)}},[n,u,p,m]),{metrics:o,measureRenderTime:h,resetMetrics:()=>{a({blockCount:0,renderTime:0,memoryUsage:0,fps:60,lagSpikes:0}),c.current=[]}}}({onPerformanceIssue:e=>{e.blockCount}}),{isSaving:E,lastSavedAt:S,backupExists:_,updateContent:P,restoreFromBackup:R}=Bt(a,{onSave:async e=>{r&&r(ot(e),e)},saveInterval:3e4,debounceDelay:1e3}),O={alignWide:!0,availableTemplates:[],allowedBlockTypes:!0,disableCustomColors:!1,disableCustomFontSizes:!1,disableCustomGradients:!1,enableCustomSpacing:!0,isRTL:!1,mediaUpload:e=>{},__experimentalBlockPatterns:[],__experimentalSetIsInserterOpened:()=>{},...s};e.useEffect(()=>{mn().then(()=>{b(!0)})},[]),e.useEffect(()=>{if(!x)return;(async()=>{f(!0);try{if((window.wp?.domReady||(e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}))(()=>{const e=document.createElement("style");e.textContent="\n  /* Group Block Styles */\n  .o4o-group-block {\n    box-sizing: border-box;\n  }\n  \n  .o4o-group-block.flex {\n    display: flex;\n  }\n  \n  .o4o-group-block.grid {\n    display: grid;\n  }\n  \n  /* Columns Block Styles */\n  .o4o-columns-block {\n    display: flex;\n    width: 100%;\n    box-sizing: border-box;\n  }\n  \n  .o4o-column-block {\n    box-sizing: border-box;\n    flex-grow: 0;\n    flex-shrink: 0;\n  }\n  \n  @media (max-width: 768px) {\n    .o4o-columns-block.stack-on-mobile {\n      flex-direction: column !important;\n    }\n    \n    .o4o-columns-block.stack-on-mobile .o4o-column-block {\n      flex-basis: 100% !important;\n      margin-bottom: 20px;\n    }\n  }\n  \n  /* InnerBlocks Styles */\n  .block-editor-inner-blocks {\n    height: 100%;\n  }\n  \n  .block-editor-inner-blocks .block-editor-block-list__layout {\n    height: 100%;\n  }\n  \n  /* Block Appender Styles */\n  .block-list-appender {\n    margin-top: 20px;\n  }\n  \n  .block-editor-button-block-appender {\n    width: 100%;\n    justify-content: center;\n    padding: 12px;\n    border: 2px dashed #ddd;\n    color: #555;\n    transition: all 0.2s ease;\n  }\n  \n  .block-editor-button-block-appender:hover {\n    border-color: #007cba;\n    color: #007cba;\n    background-color: rgba(0, 124, 186, 0.04);\n  }\n",document.head.appendChild(e)}),function(){if("undefined"!=typeof window&&window.wp?.data){const{subscribe:e}=window.wp.data;if(!e)return;let t=new Set;e(()=>{const e=window.wp?.data?.select;if(!e)return;const n=e("core/block-editor")?.getBlocks;if(!n)return;const r=n();if(!r)return;const s=new Set,o=e=>{e.forEach(e=>{s.add(e.name),e.innerBlocks?.length>0&&o(e.innerBlocks)})};o(r),s.forEach(e=>{!t.has(e)&&ca[e]&&ua(e)}),t=s})}}(),n&&await async function(e){const t=/<!-- wp:(\S+)/g,n=new Set;let r;for(;null!==(r=t.exec(e));)n.add(r[1]);const s=Array.from(n).map(e=>ua(e));await Promise.all(s)}(n),_&&!n){if(window.confirm("Found unsaved changes. Would you like to restore them?")){const e=await R();if(e)return l(e),void f(!1)}}}catch(e){}finally{f(!1)}})()},[x]),e.useEffect(()=>{if(n)try{const e=rt(n);if(e.length>0)l(e);else{const e=st("core/paragraph",{content:n});l([e])}}catch(e){const t=st("core/paragraph");l([t])}else{const e=st("core/paragraph");l([e])}},[n]);const T=e=>{C(()=>{if(l(e),P(e),r)try{const t=ot(e);r(t,e)}catch(t){}})};return!x||g?t.jsx(pa,{showSidebar:!0}):t.jsxs("div",{className:"wordpress-block-editor",ref:y,children:[N.blockCount>100&&t.jsxs(rn,{className:"mb-4",children:[t.jsx(Y,{className:"h-4 w-4"}),t.jsxs(on,{children:["High block count (",N.blockCount," blocks) may affect performance. Consider splitting content into multiple pages."]})]}),_&&t.jsx(rn,{className:"mb-4",children:t.jsxs(on,{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Found unsaved changes from your last session."}),t.jsxs(fe,{size:"sm",variant:"outline",onClick:R,children:[t.jsx(Z,{className:"h-4 w-4 mr-2"}),"Restore"]})]})}),t.jsx(at,{children:t.jsxs(Te,{value:a,onInput:T,onChange:T,settings:O,useSubRegistry:!1,children:[t.jsx("div",{className:"block-editor-toolbar",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(lt,{}),t.jsx(ma,{isSaving:E,lastSavedAt:S,hasError:!1})]}),o&&t.jsxs("div",{className:"flex items-center gap-2",children:[i.length>0&&t.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>{i.length>0&&p(!0)},disabled:v,children:[t.jsx(X,{className:"h-4 w-4 mr-2"}),"Save as Reusable"]}),t.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[t.jsx(Q,{className:"h-4 w-4 mr-2"}),"Reusable Blocks"]}),t.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>h(!0),disabled:k,children:[t.jsx(G,{className:"h-4 w-4 mr-2"}),"Block Patterns"]})]})]})}),t.jsx("div",{className:"block-editor-content",children:t.jsx(ct,{children:t.jsx(dt,{children:t.jsx(ut,{className:"block-editor-block-list"})})})}),t.jsx("div",{className:"block-editor-inspector",children:t.jsx(it,{})})]})}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Reusable Blocks"}),t.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>d(!1),children:"×"})]}),t.jsx("div",{className:"p-4 overflow-auto max-h-[calc(90vh-120px)]",children:t.jsx(an,{onInsertBlock:async e=>{try{const t=await w(e.id);if(t&&t.length>0){const e=[...a,...t];T(e),d(!1)}}catch(t){}},compact:!1})})]})}),t.jsx(ra,{isOpen:u,onClose:()=>p(!1),selectedBlocks:i,onSaved:()=>{}}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Block Patterns"}),t.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>h(!1),children:"×"})]}),t.jsx("div",{className:"p-4 overflow-auto max-h-[calc(90vh-120px)]",children:t.jsx(aa,{onInsertPattern:async e=>{try{const t=await j(e.id);if(t&&t.length>0){const e=[...a,...t];T(e),h(!1)}}catch(t){}},compact:!1})})]})}),t.jsx("style",{children:"\n        .wordpress-block-editor {\n          display: flex;\n          flex-direction: column;\n          height: 100%;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;\n        }\n\n        .block-editor-toolbar {\n          background: #fff;\n          border-bottom: 1px solid #e0e0e0;\n          padding: 8px 16px;\n          position: sticky;\n          top: 0;\n          z-index: 20;\n        }\n\n        .block-editor-content {\n          flex: 1;\n          overflow: auto;\n          padding: 16px;\n          background: #fff;\n        }\n\n        .block-editor-inspector {\n          width: 280px;\n          background: #f8f9fa;\n          border-left: 1px solid #e0e0e0;\n          overflow: auto;\n        }\n\n        /* WordPress Block Editor Styles */\n        :global(.block-editor-block-list__layout) {\n          max-width: 840px;\n          margin: 0 auto;\n        }\n\n        :global(.block-editor-block-list__block) {\n          margin: 28px 0;\n        }\n\n        :global(.block-editor-block-list__block.is-selected) {\n          outline: 1px solid #007cba;\n          outline-offset: -1px;\n        }\n\n        :global(.block-editor-block-list__block.is-hovered) {\n          outline: 1px solid #007cba;\n          outline-offset: -1px;\n          outline-style: dashed;\n        }\n\n        /* Block Toolbar Styles */\n        :global(.block-editor-block-toolbar) {\n          background: #fff;\n          border: 1px solid #e0e0e0;\n          border-radius: 4px;\n          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\n        }\n\n        /* Popover Styles */\n        :global(.components-popover) {\n          z-index: 1000000;\n        }\n\n        :global(.components-popover__content) {\n          background: #fff;\n          border: 1px solid #e0e0e0;\n          border-radius: 4px;\n          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\n        }\n\n        /* Inspector Styles */\n        :global(.block-editor-block-inspector) {\n          padding: 16px;\n        }\n\n        :global(.block-editor-block-inspector .components-panel) {\n          border: none;\n          margin-bottom: 16px;\n        }\n\n        :global(.block-editor-block-inspector .components-panel__header) {\n          background: #f8f9fa;\n          border-bottom: 1px solid #e0e0e0;\n          padding: 8px 16px;\n          font-weight: 600;\n        }\n\n        :global(.block-editor-block-inspector .components-panel__body) {\n          padding: 16px;\n        }\n      "})]})};let ga=null;async function fa(){if(ga)return ga;try{if(await async function(){if(window.wp?._initialized)return;if("undefined"!=typeof window&&window.React){const e=window.React,t=window.ReactDOM;window.wp=window.wp||{},window.wp.element={createElement:e.createElement,createContext:e.createContext,useContext:e.useContext,useState:e.useState,useEffect:e.useEffect,useCallback:e.useCallback,useMemo:e.useMemo,useRef:e.useRef,Component:e.Component,Fragment:e.Fragment,Children:e.Children,forwardRef:e.forwardRef,memo:e.memo,lazy:e.lazy,Suspense:e.Suspense,StrictMode:e.StrictMode,PureComponent:e.PureComponent,cloneElement:e.cloneElement,isValidElement:e.isValidElement,createPortal:t.createPortal,render:t.render,unmountComponentAtNode:t.unmountComponentAtNode},window.wp.i18n={__:e=>e,_x:e=>e,_n:(e,t,n)=>1===n?e:t,_nx:(e,t,n)=>1===n?e:t,sprintf:(e,...t)=>{let n=0;return e.replace(/%[sdjf]/g,()=>String(t[n++]))},isRTL:()=>!1,setLocaleData:()=>{},getLocaleData:()=>({}),hasTranslation:()=>!1,subscribe:()=>()=>{}};const n={},r={};window.wp.hooks={addFilter:(e,t,r,s=10)=>(n[e]=n[e]||[],n[e].push(r),e),applyFilters:(e,t,...r)=>(n[e]||[]).reduce((e,t)=>t(e,...r),t),addAction:(e,t,n,s=10)=>(r[e]=r[e]||[],r[e].push(n),e),doAction:(e,...t)=>{(r[e]||[]).forEach(e=>e(...t))},removeFilter:()=>0,removeAction:()=>0,hasFilter:()=>!1,hasAction:()=>!1,removeAllFilters:()=>0,removeAllActions:()=>0,currentFilter:()=>null,currentAction:()=>null,doingFilter:()=>!1,doingAction:()=>!1,didFilter:()=>0,didAction:()=>0},window.wp.data={select:()=>({}),dispatch:()=>({}),subscribe:()=>()=>{},registerStore:()=>{},combineReducers:()=>()=>({}),createRegistry:()=>({}),createRegistrySelector:()=>()=>{},createRegistryControl:()=>()=>{},withSelect:()=>e=>e,withDispatch:()=>e=>e,useSelect:()=>{},useDispatch:()=>({}),useRegistry:()=>({}),AsyncModeProvider:({children:e})=>e,RegistryProvider:({children:e})=>e,createReduxStore:()=>({}),register:()=>{},registerGenericStore:()=>{},use:()=>{},plugins:{registerPlugin:()=>{},unregisterPlugin:()=>{},getPlugin:()=>null,getPlugins:()=>[]}},window.wp.blocks={registerBlockType:()=>{},unregisterBlockType:()=>{},getBlockType:()=>null,getBlockTypes:()=>[],getCategories:()=>[],setCategories:()=>{},updateCategory:()=>{},registerBlockCollection:()=>{},unregisterBlockCollection:()=>{},getCollections:()=>[],hasBlockSupport:()=>!1,isReusableBlock:()=>!1,getChildBlockNames:()=>[],hasChildBlocks:()=>!1,hasChildBlocksWithInserterSupport:()=>!1,unstable__bootstrapServerSideBlockDefinitions:()=>{},registerBlockStyle:()=>{},unregisterBlockStyle:()=>{},registerBlockVariation:()=>{},unregisterBlockVariation:()=>{},getBlockVariations:()=>[],getDefaultBlockVariation:()=>null,getActiveBlockVariation:()=>null,getBlockStyles:()=>[],getBlockSupport:()=>{},getPossibleBlockTransformations:()=>[],switchToBlockType:()=>null,getBlockTransforms:()=>[],findTransform:()=>null,parse:()=>[],parseWithAttributeSchema:()=>{},pasteHandler:()=>[],serialize:()=>"",getBlockContent:()=>"",getBlockDefaultClassName:()=>"",getBlockMenuDefaultClassName:()=>"",getSaveElement:()=>null,getSaveContent:()=>"",getBlockAttributes:()=>({}),createBlock:()=>({}),cloneBlock:()=>({}),__experimentalCloneSanitizedBlock:()=>({}),getPossibleBlockInsertions:()=>[],isValidBlockContent:()=>!0,getBlockFromExample:()=>({}),doBlocksMatchTemplate:()=>!0,synchronizeBlocksWithTemplate:()=>[],getPhrasingContentSchema:()=>"",isValidIcon:()=>!0,normalizeIconObject:()=>({}),store:{}},window.wp.components={Button:()=>null,TextControl:()=>null,SelectControl:()=>null,ToggleControl:()=>null,Panel:()=>null,PanelBody:()=>null,PanelRow:()=>null,Placeholder:()=>null,Spinner:()=>null,Notice:()=>null,ExternalLink:()=>null,ToolbarButton:()=>null,ToolbarGroup:()=>null,Toolbar:()=>null,DropdownMenu:()=>null,MenuItem:()=>null,MenuGroup:()=>null,Modal:()=>null,DateTimePicker:()=>null,DatePicker:()=>null,TimePicker:()=>null,ColorPicker:()=>null,ColorPalette:()=>null,RangeControl:()=>null,CheckboxControl:()=>null,RadioControl:()=>null,BaseControl:()=>null,FormToggle:()=>null,FormTokenField:()=>null,TreeSelect:()=>null,TabPanel:()=>null,Card:()=>null,CardBody:()=>null,CardDivider:()=>null,CardFooter:()=>null,CardHeader:()=>null,CardMedia:()=>null,Flex:()=>null,FlexBlock:()=>null,FlexItem:()=>null,Icon:()=>null,Dashicon:()=>null,Popover:()=>null,Slot:()=>null,Fill:()=>null,SlotFillProvider:({children:e})=>e,NavigableMenu:()=>null,TabbableContainer:()=>null,__experimentalHStack:()=>null,__experimentalVStack:()=>null,__experimentalSpacer:()=>null,__experimentalText:()=>null,createSlotFill:()=>({Slot:()=>null,Fill:()=>null}),withConstrainedTabbing:e=>e,withFallbackStyles:e=>e,withFilters:e=>e,withFocusOutside:e=>e,withFocusReturn:e=>e,withNotices:e=>e,withSpokenMessages:e=>e},window.wp.blockEditor={BlockEditorProvider:({children:e})=>e,BlockList:()=>null,BlockTools:()=>null,BlockInspector:()=>null,WritingFlow:({children:e})=>e,ObserveTyping:({children:e})=>e,BlockEditorKeyboardShortcuts:()=>null,EditorHistoryUndo:()=>null,EditorHistoryRedo:()=>null,CopyHandler:({children:e})=>e,BlockSelectionClearer:({children:e})=>e,MultiSelectScrollIntoView:()=>null,__experimentalBlockSettingsMenuFirstItem:()=>null,__experimentalBlockSettingsMenuLastItem:()=>null,BlockSettingsMenu:()=>null,BlockSettingsMenuControls:()=>null,BlockTitle:()=>null,BlockToolbar:()=>null,DefaultBlockAppender:()=>null,__unstableBlockToolbarLastItem:()=>null,__unstableBlockNameContext:()=>null,InnerBlocks:()=>null,InspectorControls:()=>null,InspectorAdvancedControls:()=>null,MediaPlaceholder:()=>null,MediaUpload:()=>null,MediaUploadCheck:({children:e})=>e,PanelColorSettings:()=>null,PlainText:()=>null,RichText:()=>null,RichTextShortcut:()=>null,RichTextToolbarButton:()=>null,__unstableRichTextInputEvent:()=>null,URLInput:()=>null,URLInputButton:()=>null,URLPopover:()=>null,AlignmentControl:()=>null,AlignmentToolbar:()=>null,Autocomplete:()=>null,BlockAlignmentControl:()=>null,BlockAlignmentToolbar:()=>null,BlockBreadcrumb:()=>null,BlockContextProvider:({children:e})=>e,BlockControls:()=>null,BlockEdit:()=>null,BlockFormatControls:()=>null,BlockIcon:()=>null,BlockNavigationDropdown:()=>null,__experimentalBlockNavigationBlockFill:()=>null,__experimentalBlockNavigationEditor:()=>null,__experimentalBlockNavigationTree:()=>null,__experimentalBlockVariationPicker:()=>null,__experimentalBlockVariationTransforms:()=>null,BlockVerticalAlignmentControl:()=>null,BlockVerticalAlignmentToolbar:()=>null,ButtonBlockAppender:()=>null,ButtonBlockerAppender:()=>null,ColorPaletteControl:()=>null,ContrastChecker:()=>null,__experimentalDuotoneControl:()=>null,__experimentalFontAppearanceControl:()=>null,__experimentalFontFamilyControl:()=>null,__experimentalColorGradientControl:()=>null,__experimentalColorGradientSettingsDropdown:()=>null,__experimentalPanelColorGradientSettings:()=>null,__experimentalImageEditor:()=>null,__experimentalImageEditingProvider:({children:e})=>e,__experimentalImageSizeControl:()=>null,__experimentalImageURLInputUI:()=>null,__experimentalLayoutStyle:()=>null,__experimentalLetterSpacingControl:()=>null,__experimentalLineHeightControl:()=>null,__experimentalListView:()=>null,__experimentalPanelBody:()=>null,__experimentalPreviewOptions:()=>null,__experimentalResponsiveBlockControl:()=>null,__experimentalTextDecorationControl:()=>null,__experimentalTextTransformControl:()=>null,__experimentalUnitControl:()=>null,__experimentalWritingModeControl:()=>null,__unstableBlockSettingsMenuFirstItem:()=>null,__unstableEditorStyles:()=>null,__unstableIframe:({children:e})=>e,__unstableInserterMenuExtension:()=>null,__unstableUseBlockSelectionClearer:()=>null,__unstableUseClipboardHandler:()=>null,__unstableUseDispatchWithMap:()=>null,__unstableUseDropZone:()=>null,__unstableUseEditorStyles:()=>null,__unstableUseTypewriter:()=>null,__unstableUseTypingObserver:()=>null,__unstableUseValidateOnChange:()=>null,getColorClassName:()=>"",getColorObjectByAttributeValues:()=>null,getColorObjectByColorValue:()=>null,getFontSize:()=>null,getFontSizeClass:()=>"",createCustomColorsHOC:()=>e=>e,withColorContext:e=>e,withColors:()=>e=>e,withFontSizes:()=>e=>e,store:{},Warning:()=>null,useBlockProps:()=>({}),useInnerBlocksProps:()=>({}),__experimentalUseBlockPreview:()=>null,__experimentalUseResizeCanvas:()=>null,useBlockEditContext:()=>({}),useBlockDisplayInformation:()=>null},window.wp.compose={compose:(...e)=>e=>e,createHigherOrderComponent:e=>e,debounce:(e,t)=>e,ifCondition:()=>e=>e,pure:e=>e,throttle:(e,t)=>e,withGlobalEvents:()=>e=>e,withInstanceId:e=>e,withSafeTimeout:e=>e,withState:()=>e=>e,useAsyncList:()=>[],useCopyOnClick:()=>({ref:{current:null}}),useCopyToClipboard:()=>[()=>{},()=>{}],useDebounce:e=>e,useFocusOnMount:()=>({current:null}),useFocusReturn:()=>({current:null}),useFocusableIframe:()=>({current:null}),useInstanceId:()=>"",useIsomorphicLayoutEffect:()=>{},useKeyboardShortcut:()=>{},useMediaQuery:()=>!1,useMergeRefs:()=>({current:null}),usePrevious:e=>e,useReducedMotion:()=>!1,useRefEffect:()=>()=>{},useResizeObserver:()=>[null,{width:0,height:0}],useThrottle:e=>e,useViewportMatch:()=>!1,useWarnOnChange:()=>{},__experimentalUseDragging:()=>({isDragging:!1}),__experimentalUseDropZone:()=>({isOver:!1}),__experimentalUseFocusOutside:()=>{},__experimentalUseFixedWindowList:()=>[]},window.wp.privateApis={lock:()=>{},unlock:()=>{},__dangerousOptInToUnstableAPIsOnlyForCoreModules:()=>({lock:()=>{},unlock:()=>{}})},window.wp.apiFetch=function(e){return fetch(e.url||e.path,{...e,headers:{"Content-Type":"application/json",...e.headers}}).then(e=>e.json())},window.wp.domReady=function(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>e()):e()},window.wp._initialized=!0}const{getBlockManager:e}=await mt(async()=>{const{getBlockManager:e}=await import("./block-manager-Ci9-lUcl.js");return{getBlockManager:e}},__vite__mapDeps([6,0,1,2,3,4,5])),t=e();return await t.loadEssentialBlocks(),t.loadBlocksProgressive(),!0}(),!window.React)throw new Error("React must be loaded before WordPress modules");const[e,t,n,r,s,o,a,l]=await Promise.all([mt(()=>import("./wp-blocks-core-6vwQKPfS.js").then(e=>e.Z),__vite__mapDeps([0,1,2,3,4,5])),mt(()=>import("./wp-components-CeQNCpMW.js"),__vite__mapDeps([0,1,2,3,4,5])),mt(()=>import("./wp-core-Y-jV-nrZ.js").then(e=>e.v),__vite__mapDeps([0,1,2,3,4,5])),mt(()=>import("./wp-data-BmtL8k4r.js").then(e=>e.l),__vite__mapDeps([0,1,2,3,4,5])),mt(()=>import("./wp-i18n-DGPtqsXY.js").then(e=>e.g),__vite__mapDeps([0,2,1,3,4,5])),mt(()=>import("./wp-core-Y-jV-nrZ.js").then(e=>e.w),__vite__mapDeps([0,1,2,3,4,5])),mt(()=>import("./wp-core-Y-jV-nrZ.js").then(e=>e.x),__vite__mapDeps([0,1,2,3,4,5])),mt(()=>import("./wp-api-BeoadipR.js"),__vite__mapDeps([0,2,1,3,4,5]))]),{loadMinimalBlockEditor:i}=await mt(async()=>{const{loadMinimalBlockEditor:e}=await import("./wordpress-block-loader-CqLzQMw8.js");return{loadMinimalBlockEditor:e}},__vite__mapDeps([7,0,1,2,3,4,5])),c=await i();return ga={blocks:e,blockEditor:c,components:t,element:n,data:r,i18n:s,hooks:o,compose:a,apiFetch:l},ga}catch(e){throw e}}const xa=()=>{if(!window.wp?.blocks?.registerBlockType)return;const{registerBlockType:e}=window.wp.blocks,{InnerBlocks:n,useBlockProps:r,InspectorControls:s}=window.wp.blockEditor,{PanelBody:o,SelectControl:a,RangeControl:l,ToggleControl:i}=window.wp.components;e("o4o/group",{title:"Group",description:"Group blocks together in a container",category:"design",icon:ee,supports:{align:["wide","full"],anchor:!0,html:!1,color:{background:!0,text:!0,gradients:!0},spacing:{padding:!0,margin:!0}},attributes:{align:{type:"string",default:void 0},backgroundColor:{type:"string",default:void 0},textColor:{type:"string",default:void 0},padding:{type:"number",default:20},margin:{type:"number",default:0},borderRadius:{type:"number",default:0},layout:{type:"string",default:"default"},verticalAlignment:{type:"string",default:"top"},isStackedOnMobile:{type:"boolean",default:!0}},edit:function({attributes:e,setAttributes:c}){const{backgroundColor:d,textColor:u,padding:p,margin:m,borderRadius:h,layout:g,verticalAlignment:f,isStackedOnMobile:x}=e,b=r({className:`o4o-group-block ${"flex"===g?"flex":""} ${"grid"===g?"grid":""}`,style:{backgroundColor:d,color:u,padding:`${p}px`,margin:`${m}px`,borderRadius:`${h}px`,..."flex"===g&&{display:"flex",flexDirection:x?"column":"row",alignItems:"center"===f?"center":"bottom"===f?"flex-end":"flex-start",gap:"20px"},..."grid"===g&&{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"}}});return t.jsxs(t.Fragment,{children:[t.jsxs(s,{children:[t.jsxs(o,{title:"Layout Settings",initialOpen:!0,children:[t.jsx(a,{label:"Layout",value:g,options:[{label:"Default",value:"default"},{label:"Flex",value:"flex"},{label:"Grid",value:"grid"}],onChange:e=>c({layout:e})}),"flex"===g&&t.jsxs(t.Fragment,{children:[t.jsx(a,{label:"Vertical Alignment",value:f,options:[{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"}],onChange:e=>c({verticalAlignment:e})}),t.jsx(i,{label:"Stack on Mobile",checked:x,onChange:e=>c({isStackedOnMobile:e}),disabled:!1,className:"",__nextHasNoMarginBottom:!1})]})]}),t.jsxs(o,{title:"Spacing",initialOpen:!1,children:[t.jsx(l,{label:"Padding",value:p,onChange:e=>c({padding:e||0}),min:0,max:100,step:5}),t.jsx(l,{label:"Margin",value:m,onChange:e=>c({margin:e||0}),min:0,max:100,step:5}),t.jsx(l,{label:"Border Radius",value:h,onChange:e=>c({borderRadius:e||0}),min:0,max:50,step:1})]})]}),t.jsx("div",{...b,children:t.jsx(n,{allowedBlocks:!0,renderAppender:n.ButtonBlockAppender})})]})},save:({attributes:e})=>{const{backgroundColor:s,textColor:o,padding:a,margin:l,borderRadius:i,layout:c,verticalAlignment:d,isStackedOnMobile:u}=e,p=r.save({className:`o4o-group-block ${"flex"===c?"flex":""} ${"grid"===c?"grid":""}`,style:{backgroundColor:s,color:o,padding:`${a}px`,margin:`${l}px`,borderRadius:`${i}px`,..."flex"===c&&{display:"flex",flexDirection:u?"column":"row",alignItems:"center"===d?"center":"bottom"===d?"flex-end":"flex-start",gap:"20px"},..."grid"===c&&{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"}}});return t.jsx("div",{...p,children:t.jsx(n.Content,{})})}})};window.wp?.blocks?.registerBlockType?xa():document.addEventListener("DOMContentLoaded",xa);const ba=Object.freeze(Object.defineProperty({__proto__:null,registerGroupBlock:xa},Symbol.toStringTag,{value:"Module"})),ya=()=>{if(!window.wp?.blocks?.registerBlockType)return;const{registerBlockType:e,createBlock:n}=window.wp.blocks,{InnerBlocks:r,useBlockProps:s,InspectorControls:o,BlockControls:a,BlockVerticalAlignmentToolbar:l}=window.wp.blockEditor,{PanelBody:i,RangeControl:c,SelectControl:d,ToggleControl:u,ToolbarGroup:p,ToolbarButton:m}=window.wp.components,{useSelect:h,useDispatch:g}=window.wp.data;e("o4o/columns",{title:"Columns",description:"Display content in multiple columns",category:"design",icon:P,supports:{align:["wide","full"],anchor:!0,html:!1,color:{background:!0,text:!0},spacing:{padding:!0,margin:!0}},attributes:{columns:{type:"number",default:2},verticalAlignment:{type:"string",default:void 0},isStackedOnMobile:{type:"boolean",default:!0},gap:{type:"number",default:20}},edit:function({attributes:e,setAttributes:f,clientId:x}){const{columns:b,verticalAlignment:y,isStackedOnMobile:w,gap:v}=e,{insertBlock:j,removeBlock:k}=g("core/block-editor"),N=h(e=>{const{getBlock:t}=e("core/block-editor");return t(x)?.innerBlocks||[]},[x]),C=e=>{const t=N.length;if(e>t)for(let r=t;r<e;r++){const t=n("o4o/column",{width:100/e});j(t,r,x,!1)}else if(e<t)for(let n=t-1;n>=e;n--)N[n]&&k(N[n].clientId,!1);N.slice(0,e).forEach(t=>{t.attributes.width=100/e}),f({columns:e})},E=s({className:"o4o-columns-block "+(w?"stack-on-mobile":""),style:{display:"flex",gap:`${v}px`,alignItems:"center"===y?"center":"bottom"===y?"flex-end":"flex-start"}});return t.jsxs(t.Fragment,{children:[t.jsxs(a,{children:[t.jsx(l,{onChange:e=>f({verticalAlignment:e}),value:y}),t.jsxs(p,{children:[t.jsx(m,{icon:te,title:"Remove column",onClick:()=>b>1&&C(b-1),disabled:b<=1}),t.jsx(m,{icon:D,title:"Add column",onClick:()=>b<6&&C(b+1),disabled:b>=6})]})]}),t.jsx(o,{children:t.jsxs(i,{title:"Columns Settings",initialOpen:!0,children:[t.jsx(c,{label:"Number of Columns",value:b,onChange:e=>e&&C(e),min:1,max:6,step:1}),t.jsx(c,{label:"Gap between columns",value:v,onChange:e=>f({gap:e||0}),min:0,max:100,step:5}),t.jsx(d,{label:"Vertical Alignment",value:y||"",options:[{label:"Default",value:""},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"}],onChange:e=>f({verticalAlignment:""===e?void 0:e})}),t.jsx(u,{label:"Stack on Mobile",checked:w,onChange:e=>f({isStackedOnMobile:e}),disabled:!1,className:"",__nextHasNoMarginBottom:!1})]})}),t.jsx("div",{...E,children:t.jsx(r,{allowedBlocks:["o4o/column"],template:Array(b).fill(["o4o/column",{width:100/b}]),templateLock:!1,renderAppender:!1})})]})},save:({attributes:e})=>{const{verticalAlignment:n,isStackedOnMobile:o,gap:a}=e,l=s.save({className:"o4o-columns-block "+(o?"stack-on-mobile":""),style:{display:"flex",gap:`${a}px`,alignItems:"center"===n?"center":"bottom"===n?"flex-end":"flex-start"}});return t.jsx("div",{...l,children:t.jsx(r.Content,{})})}}),e("o4o/column",{title:"Column",description:"A single column within a columns block",category:"design",parent:["o4o/columns"],supports:{reusable:!1,html:!1,color:{background:!0,text:!0},spacing:{padding:!0}},attributes:{width:{type:"number",default:void 0},verticalAlignment:{type:"string",default:void 0}},edit:function({attributes:e,setAttributes:n}){const{width:a,verticalAlignment:l}=e,u=s({className:"o4o-column-block",style:{flexBasis:a?`${a}%`:void 0,alignSelf:"center"===l?"center":"bottom"===l?"flex-end":"stretch"===l?"stretch":"flex-start"}});return t.jsxs(t.Fragment,{children:[t.jsx(o,{children:t.jsxs(i,{title:"Column Settings",initialOpen:!0,children:[t.jsx(c,{label:"Width (%)",value:a||0,onChange:e=>n({width:e}),min:10,max:100,step:1}),t.jsx(d,{label:"Vertical Alignment",value:l||"",options:[{label:"Default",value:""},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Stretch",value:"stretch"}],onChange:e=>n({verticalAlignment:""===e?void 0:e})})]})}),t.jsx("div",{...u,children:t.jsx(r,{allowedBlocks:!0,renderAppender:r.ButtonBlockAppender})})]})},save:({attributes:e})=>{const{width:n,verticalAlignment:o}=e,a=s.save({className:"o4o-column-block",style:{flexBasis:n?`${n}%`:void 0,alignSelf:"center"===o?"center":"bottom"===o?"flex-end":"stretch"===o?"stretch":"flex-start"}});return t.jsx("div",{...a,children:t.jsx(r.Content,{})})}})};window.wp?.blocks?.registerBlockType?ya():document.addEventListener("DOMContentLoaded",ya);const wa=Object.freeze(Object.defineProperty({__proto__:null,registerColumnsBlock:ya},Symbol.toStringTag,{value:"Module"})),va=Object.create(null);function ja(e,t={}){const{since:n,version:r,alternative:s,plugin:o,link:a,hint:l}=t,i=`${e} is deprecated${n?` since version ${n}`:""}${r?` and will be removed${o?` from ${o}`:""} in version ${r}`:""}.${s?` Please use ${s} instead.`:""}${a?` See: ${a}`:""}${l?` Note: ${l}`:""}`;i in va||(Me("deprecated",e,t,i),va[i]=!0)}function ka(e){return Re(e)&&"string"==typeof e.type}function Na(e={},t){const n=Object.entries(e).map(([e,t])=>(n,r,s,o,a)=>{if(i=e,!ka(l=n)||l.type!==i)return!1;var l,i;const c=t(n);return De(c)?c.then(o,a):o(c),!0});n.push((e,n)=>!!ka(e)&&(t(e),n(),!0));const r=Le.create(n);return e=>new Promise((n,s)=>r(e,e=>{ka(e)&&t(e),n(e)},s))}function Ca(e={}){return t=>{const n=Na(e,t.dispatch);return e=>t=>{return(r=t)&&"function"==typeof r[Symbol.iterator]&&"function"==typeof r.next?n(t):e(t);var r}}}function Ea(e,t){if(e&&t){if(e.constructor===Object&&t.constructor===Object)return function(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;let s=0;for(;s<n.length;){const r=n[s],o=e[r];if(void 0===o&&!t.hasOwnProperty(r)||o!==t[r])return!1;s++}return!0}(e,t);if(Array.isArray(e)&&Array.isArray(t))return function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}(e,t)}return e===t}function Sa(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0}function _a(e,{sequential:t=!1}={}){const n=e.querySelectorAll(function(e){return[e?'[tabindex]:not([tabindex^="-"])':"[tabindex]","a[href]","button:not([disabled])",'input:not([type="hidden"]):not([disabled])',"select:not([disabled])","textarea:not([disabled])",'iframe:not([tabindex^="-"])',"object","embed","area[href]","[contenteditable]:not([contenteditable=false])"].join(",")}(t));return Array.from(n).filter(e=>{if(!Sa(e))return!1;const{nodeName:t}=e;return"AREA"!==t||function(e){const t=e.closest("map[name]");if(!t)return!1;const n=e.ownerDocument.querySelector('img[usemap="#'+t.name+'"]');return!!n&&Sa(n)}(e)})}function Pa(e){const t=e.getAttribute("tabindex");return null===t?0:parseInt(t,10)}function Ra(e){return-1!==Pa(e)}function Oa(e,t){return{element:e,index:t}}function Ta(e){return e.element}function Aa(e,t){const n=Pa(e.element),r=Pa(t.element);return n===r?e.index-t.index:n-r}function Ba(e){return e.filter(Ra).map(Oa).sort(Aa).map(Ta).reduce(function(){const e={};return function(t,n){const{nodeName:r,type:s,checked:o,name:a}=n;if("INPUT"!==r||"radio"!==s||!a)return t.concat(n);const l=e.hasOwnProperty(a);if(!o&&l)return t;if(l){const n=e[a];t=t.filter(e=>e!==n)}return e[a]=n,t.concat(n)}}(),[])}const Ia=Object.freeze(Object.defineProperty({__proto__:null,find:function(e){return Ba(_a(e))},findNext:function(e){return Ba(_a(e.ownerDocument.body)).find(t=>e.compareDocumentPosition(t)&e.DOCUMENT_POSITION_FOLLOWING)},findPrevious:function(e){return Ba(_a(e.ownerDocument.body)).reverse().find(t=>e.compareDocumentPosition(t)&e.DOCUMENT_POSITION_PRECEDING)},isTabbableIndex:Ra},Symbol.toStringTag,{value:"Module"}));function $a(e){return e.ownerDocument.defaultView,e.ownerDocument.defaultView.getComputedStyle(e)}function Ma(e,t="vertical"){if(e){if(("vertical"===t||"all"===t)&&e.scrollHeight>e.clientHeight){const{overflowY:t}=$a(e);if(/(auto|scroll)/.test(t))return e}if(("horizontal"===t||"all"===t)&&e.scrollWidth>e.clientWidth){const{overflowX:t}=$a(e);if(/(auto|scroll)/.test(t))return e}return e.ownerDocument===e.parentNode?e:Ma(e.parentNode,t)}}const Da={tabbable:Ia};function La(e=null){if(!e){if("undefined"==typeof window)return!1;e=window}const{platform:t}=e.navigator;return-1!==t.indexOf("Mac")||["iPad","iPhone"].includes(t)}const Fa=27,za=33,Ua=34,Ha=35,Va=36,Wa="alt",Ga="ctrl",qa="meta",Ja="shift";function Ya(e){return e.length<2?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)}function Ka(e,t){return Object.fromEntries(Object.entries(e).map(([e,n])=>[e,t(n)]))}const Za={primary:e=>e()?[qa]:[Ga],primaryShift:e=>e()?[Ja,qa]:[Ga,Ja],primaryAlt:e=>e()?[Wa,qa]:[Ga,Wa],secondary:e=>e()?[Ja,Wa,qa]:[Ga,Ja,Wa],access:e=>e()?[Ga,Wa]:[Ja,Wa],ctrl:()=>[Ga],alt:()=>[Wa],ctrlShift:()=>[Ga,Ja],shift:()=>[Ja],shiftAlt:()=>[Ja,Wa],undefined:()=>[]};Ka(Za,e=>(t,n=La)=>[...e(n),t.toLowerCase()].join("+"));const Xa=Ka(Za,e=>(t,n=La)=>{const r=n(),s={[Wa]:r?"⌥":"Alt",[Ga]:r?"⌃":"Ctrl",[qa]:"⌘",[Ja]:r?"⇧":"Shift"};return[...e(n).reduce((e,t)=>{var n;const o=null!==(n=s[t])&&void 0!==n?n:t;return r?[...e,o]:[...e,o,"+"]},[]),Ya(t)]});function Qa(e,t){const n={...e};return Object.entries(t).forEach(([e,t])=>{n[e]?n[e]={...n[e],to:t.to}:n[e]=t}),n}Ka(Xa,e=>(t,n=La)=>e(t,n).join("")),Ka(Za,e=>(t,n=La)=>{const r=n(),s={[Ja]:"Shift",[qa]:r?"Command":"Control",[Ga]:"Control",[Wa]:r?"Option":"Alt",",":nt("Comma"),".":nt("Period"),"`":nt("Backtick"),"~":nt("Tilde")};return[...e(n),t].map(e=>{var t;return Ya(null!==(t=s[e])&&void 0!==t?t:e)}).join(r?" ":" + ")}),Ka(Za,e=>(t,n,r=La)=>{const s=e(r),o=function(e){return[Wa,Ga,qa,Ja].filter(t=>e[`${t}Key`])}(t),a={Comma:",",Backslash:"\\",IntlRo:"\\",IntlYen:"\\"},l=s.filter(e=>!o.includes(e)),i=o.filter(e=>!s.includes(e));if(l.length>0||i.length>0)return!1;let c=t.key.toLowerCase();return n?(t.altKey&&1===n.length&&(c=String.fromCharCode(t.keyCode).toLowerCase()),t.shiftKey&&1===n.length&&a[t.code]&&(c=a[t.code]),"del"===n&&(n="delete"),c===n.toLowerCase()):s.includes(c)});const el=(e,t)=>{const n=e?.findIndex(({id:e})=>"string"==typeof e?e===t.id:Ea(e,t.id)),r=[...e];return-1!==n?r[n]={id:t.id,changes:Qa(r[n].changes,t.changes)}:r.push(t),r};function tl(){let e=[],t=[],n=0;const r=()=>{e=e.slice(0,n||void 0),n=0},s=()=>{var n;const r=0===e.length?0:e.length-1;let s=null!==(n=e[r])&&void 0!==n?n:[];t.forEach(e=>{s=el(s,e)}),t=[],e[r]=s};return{addRecord(n,o=!1){const a=!n||(e=>!e.filter(({changes:e})=>Object.values(e).some(({from:e,to:t})=>"function"!=typeof e&&"function"!=typeof t&&!Ea(e,t))).length)(n);if(o){if(a)return;n.forEach(e=>{t=el(t,e)})}else{if(r(),t.length&&s(),a)return;e.push(n)}},undo(){t.length&&(r(),s());const o=e[e.length-1+n];if(o)return n-=1,o},redo(){const t=e[e.length+n];if(t)return n+=1,t},hasUndo:()=>!!e[e.length-1+n],hasRedo:()=>!!e[e.length+n]}}const nl="undefined"==typeof window?e=>{setTimeout(()=>e(Date.now()),0)}:window.requestIdleCallback,rl=()=>{const e=new Map;let t=!1;const n=r=>{for(const[t,n]of e)if(e.delete(t),n(),"number"==typeof r||r.timeRemaining()<=0)break;0!==e.size?nl(n):t=!1};return{add:(r,s)=>{e.set(r,s),t||(t=!0,nl(n))},flush:t=>{const n=e.get(t);return void 0!==n&&(e.delete(t),n(),!0)},cancel:t=>e.delete(t),reset:()=>{e.clear(),t=!1}}};const sl=["@wordpress/block-directory","@wordpress/block-editor","@wordpress/block-library","@wordpress/blocks","@wordpress/commands","@wordpress/components","@wordpress/core-commands","@wordpress/core-data","@wordpress/customize-widgets","@wordpress/data","@wordpress/edit-post","@wordpress/edit-site","@wordpress/edit-widgets","@wordpress/editor","@wordpress/format-library","@wordpress/interface","@wordpress/patterns","@wordpress/preferences","@wordpress/reusable-blocks","@wordpress/router","@wordpress/dataviews"],ol=[];let al;try{al=!{}.IS_WORDPRESS_CORE}catch(kl){al=!0}const ll=(e,t)=>{if(!sl.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}". This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);if(!al&&ol.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}" which is already registered. This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);return ol.push(t),{lock:il,unlock:cl}};function il(e,t){if(!e)throw new Error("Cannot lock an undefined object.");ul in e||(e[ul]={}),dl.set(e[ul],t)}function cl(e){if(!e)throw new Error("Cannot unlock an undefined object.");if(!(ul in e))throw new Error("Cannot unlock an object that was not locked before. ");return dl.get(e[ul])}const dl=new WeakMap,ul=Symbol("Private API ID"),pl=({content:e,onUpdate:n,isEditing:r=!0})=>{const{title:s="Ready to Get Started?",description:o="Join thousands of satisfied customers and transform your business today.",buttonText:a="Get Started Now",backgroundColor:l="var(--primary-500)",textColor:i="white",buttonColor:c="white",alignment:d="center"}=e;return t.jsxs("div",{className:pe("p-12 rounded-lg relative overflow-hidden","center"===d&&"text-center","left"===d&&"text-left","right"===d&&"text-right"),style:{backgroundColor:l,color:i},children:[t.jsxs("div",{className:"absolute inset-0 opacity-10",children:[t.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 rounded-full bg-white/20"}),t.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 rounded-full bg-white/20"})]}),t.jsx("div",{className:"relative z-10 max-w-3xl mx-auto",children:r?t.jsxs(t.Fragment,{children:[t.jsx(ge,{className:"text-3xl font-bold mb-4 bg-transparent border-0 text-center placeholder-white/50",style:{color:i},placeholder:"Enter title...",value:s,onChange:t=>n({...e,title:t.target.value})}),t.jsx(be,{className:"text-lg mb-8 bg-transparent border-0 text-center resize-none placeholder-white/50",style:{color:i},placeholder:"Enter description...",value:o,onChange:t=>n({...e,description:t.target.value}),rows:2}),t.jsx(ge,{className:"inline-block px-8 py-3 text-lg font-medium rounded-md transition-all hover:scale-105 bg-white/20 border-2",style:{borderColor:c,color:i},placeholder:"Button text...",value:a,onChange:t=>n({...e,buttonText:t.target.value})})]}):t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-3xl font-bold mb-4",children:s}),t.jsx("p",{className:"text-lg mb-8",children:o}),t.jsxs(fe,{size:"lg",className:"transition-all hover:scale-105",style:{backgroundColor:c,color:l},children:[a,t.jsx(le,{className:"ml-2 h-5 w-5"})]})]})})]})},ml=({content:e,onUpdate:r,isEditing:s=!0})=>{const o=e.plans||[{name:"Basic",price:"$9",period:"month",features:["10 GB Storage","100 GB Bandwidth","Email Support","Basic Analytics"],highlighted:!1},{name:"Pro",price:"$29",period:"month",features:["100 GB Storage","1 TB Bandwidth","Priority Support","Advanced Analytics","Custom Domain"],highlighted:!0},{name:"Enterprise",price:"$99",period:"month",features:["Unlimited Storage","Unlimited Bandwidth","24/7 Phone Support","Advanced Analytics","Custom Domain","API Access"],highlighted:!1}];return t.jsx("div",{className:"grid md:grid-cols-3 gap-8 py-8",children:o.map((a,l)=>t.jsxs("div",{className:pe("relative p-8 rounded-lg border-2 transition-all hover:shadow-xl",a.highlighted?"border-primary-500 shadow-lg scale-105":"border-gray-200"),children:[a.highlighted&&t.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-primary-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),t.jsxs("div",{className:"text-center mb-8",children:[s?t.jsx(ge,{className:"text-2xl font-bold mb-2 text-center border-0",placeholder:"Plan name",value:a.name,onChange:t=>{const n=[...o];n[l].name=t.target.value,r({...e,plans:n})}}):t.jsx("h3",{className:"text-2xl font-bold mb-2",children:a.name}),t.jsx("div",{className:"flex items-baseline justify-center gap-1",children:s?t.jsxs(t.Fragment,{children:[t.jsx(ge,{className:"text-4xl font-bold w-24 text-right border-0 p-0",placeholder:"$0",value:a.price,onChange:t=>{const n=[...o];n[l].price=t.target.value,r({...e,plans:n})}}),t.jsx("span",{className:"text-gray-600",children:"/"}),t.jsx(ge,{className:"text-gray-600 w-20 border-0 p-0",placeholder:"month",value:a.period,onChange:t=>{const n=[...o];n[l].period=t.target.value,r({...e,plans:n})}})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-4xl font-bold",children:a.price}),t.jsxs("span",{className:"text-gray-600",children:["/",a.period]})]})})]}),t.jsx("ul",{className:"space-y-3 mb-8",children:a.features.map((a,i)=>t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(n,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),s?t.jsx(ge,{className:"flex-1 border-0 p-0",placeholder:"Feature",value:a,onChange:t=>{const n=[...o];n[l].features[i]=t.target.value,r({...e,plans:n})}}):t.jsx("span",{children:a})]},i))}),t.jsx(fe,{className:pe("w-full",a.highlighted&&"bg-primary-500 hover:bg-primary-600"),variant:a.highlighted?"default":"outline",children:"Get Started"})]},l))})},hl=({content:e,onUpdate:n,isEditing:r=!0})=>{const{quote:s="This product has completely transformed how we do business. The results speak for themselves.",author:o="Jane Doe",position:a="CEO",company:l="Tech Company",image:i="",rating:c=5}=e;return t.jsxs("div",{className:"max-w-3xl mx-auto p-8 text-center",children:[t.jsx("div",{className:"flex justify-center gap-1 mb-6",children:[...Array(5)].map((s,o)=>t.jsx("button",{onClick:()=>r&&n({...e,rating:o+1}),className:pe("transition-colors",r&&"cursor-pointer hover:scale-110"),children:t.jsx(M,{className:pe("h-6 w-6",o<c?"fill-yellow-400 text-yellow-400":"text-gray-300")})},o))}),t.jsx("blockquote",{className:"mb-8",children:r?t.jsx(be,{className:"text-2xl leading-relaxed text-gray-700 italic text-center border-0 resize-none",placeholder:"Enter testimonial quote...",value:s,onChange:t=>n({...e,quote:t.target.value}),rows:3}):t.jsxs("p",{className:"text-2xl leading-relaxed text-gray-700 italic",children:['"',s,'"']})}),t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i?t.jsx("img",{src:i,alt:o,className:"w-16 h-16 rounded-full object-cover"}):t.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl font-bold text-gray-500",children:o.charAt(0).toUpperCase()})}),t.jsx("div",{className:"text-left",children:r?t.jsxs(t.Fragment,{children:[t.jsx(ge,{className:"font-semibold text-lg border-0 p-0 h-auto",placeholder:"Author name",value:o,onChange:t=>n({...e,author:t.target.value})}),t.jsxs("div",{className:"flex gap-2 text-gray-600",children:[t.jsx(ge,{className:"border-0 p-0 h-auto text-sm",placeholder:"Position",value:a,onChange:t=>n({...e,position:t.target.value})}),t.jsx("span",{children:"at"}),t.jsx(ge,{className:"border-0 p-0 h-auto text-sm",placeholder:"Company",value:l,onChange:t=>n({...e,company:t.target.value})})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"font-semibold text-lg",children:o}),t.jsxs("div",{className:"text-gray-600",children:[a," at ",l]})]})})]})]})},gl=({content:e,onUpdate:n,isEditing:r=!0})=>{const{title:s="Rate this product",rating:o=4,maxRating:a=5,size:l="medium",color:i="#facc15",showNumber:c=!0}=e,d={small:"h-6 w-6",medium:"h-8 w-8",large:"h-10 w-10"};return t.jsxs("div",{className:"space-y-3",children:[s&&(r?t.jsx(ge,{className:"font-medium text-lg border-0 p-0",placeholder:"Rating title...",value:s,onChange:t=>n({...e,title:t.target.value})}):t.jsx("h4",{className:"font-medium text-lg",children:s})),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex gap-1",children:[...Array(a)].map((s,a)=>t.jsx("button",{onClick:()=>r&&n({...e,rating:a+1}),className:pe("transition-all",r&&"cursor-pointer hover:scale-110"),children:t.jsx(M,{className:pe(d[l],a<o?"fill-current":"fill-none"),style:{color:a<o?i:"#e5e7eb"}})},a))}),c&&t.jsxs("span",{className:"text-lg font-medium text-gray-700",children:[o,"/",a]})]})]})},fl=({content:e,onUpdate:n,isEditing:r=!0})=>{const{icon:s="mail",title:o="Contact Us",description:a="Get in touch with our team for any questions or support.",iconColor:l="var(--primary-500)",iconBackground:i="var(--primary-100)",alignment:c="center"}=e,d={mail:ae,phone:oe,mapPin:se,star:M,dollarSign:re,messageSquare:ne}[s]||ae;return t.jsxs("div",{className:pe("p-6","center"===c&&"text-center","left"===c&&"text-left","right"===c&&"text-right"),children:[t.jsx("div",{className:pe("w-16 h-16 rounded-lg flex items-center justify-center mb-4","center"===c&&"mx-auto","right"===c&&"ml-auto"),style:{backgroundColor:i},children:t.jsx(d,{className:"h-8 w-8",style:{color:l}})}),r?t.jsxs(t.Fragment,{children:[t.jsx(ge,{className:pe("text-xl font-semibold mb-2 border-0 p-0","center"===c&&"text-center","right"===c&&"text-right"),placeholder:"Enter title...",value:o,onChange:t=>n({...e,title:t.target.value})}),t.jsx(be,{className:pe("text-gray-600 border-0 p-0 resize-none","center"===c&&"text-center","right"===c&&"text-right"),placeholder:"Enter description...",value:a,onChange:t=>n({...e,description:t.target.value}),rows:2})]}):t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"text-xl font-semibold mb-2",children:o}),t.jsx("p",{className:"text-gray-600",children:a})]})]})};function xl(){window.wp}const bl=Object.freeze(Object.defineProperty({__proto__:null,default:xl,registerCoreBlocks:xl},Symbol.toStringTag,{value:"Module"}));function yl(){window.wp}const wl=Object.freeze(Object.defineProperty({__proto__:null,default:yl,registerLayoutBlocks:yl},Symbol.toStringTag,{value:"Module"}));function vl(){window.wp}const jl=Object.freeze(Object.defineProperty({__proto__:null,default:vl,registerMediaBlocks:vl},Symbol.toStringTag,{value:"Module"}));export{hs as $,Mr as A,Nn as B,Sn as C,En as D,On as E,ea as F,Cn as G,ta as H,Ea as I,ja as J,Da as K,Fa as L,La as M,tl as N,rl as O,Ma as P,Ua as Q,za as R,Ha as S,Is as T,Va as U,Bn as V,ha as W,Fn as X,Hn as Y,Ln as Z,qn as _,fr as a,Fr as a0,Gr as a1,Yr as a2,Wr as a3,Kr as a4,ds as a5,Qs as a6,Ms as a7,Hs as a8,Gs as a9,Kt as aA,Zt as aB,Qt as aC,en as aD,Xt as aE,rn as aF,on as aG,tn as aH,an as aI,sn as aJ,fa as aK,sa as aL,yt as aM,mn as aN,fl as aO,gl as aP,hl as aQ,ml as aR,pl as aS,bl as aT,wl as aU,jl as aV,Us as aa,qs as ab,Ys as ac,Po as ad,fo as ae,jo as af,Co as ag,vo as ah,ll as ai,Ca as aj,ht as ak,gt as al,ft as am,bt as an,jt as ao,kt as ap,Nt as aq,_t as ar,Pt as as,Ct as at,mt as au,At as av,xt as aw,Bt as ax,Ht as ay,Wt as az,xr as b,As as c,cr as d,dr as e,jr as f,gr as g,br as h,mr as i,ur as j,kr as k,Lo as l,lr as m,Cr as n,Rr as o,vr as p,Dr as q,yr as r,ar as s,_s as t,Ps as u,ho as v,Nr as w,Tn as x,Zo as y,xn as z};
