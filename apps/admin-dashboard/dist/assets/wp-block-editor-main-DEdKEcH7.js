import{_ as e,d as t,r as n,j as o,m as r,w as l,e as i,T as s,f as a,h as c,i as u,k as d,l as p,n as g,o as m,p as h,q as f,t as b}from"./vendor-react-BqkIXTmC.js";import{c as k,a as v,b as x,s as y,S as _,d as C,B as j,g as S,e as w,f as I,r as B,h as N,i as E}from"./wp-block-editor-store-Cdz5rmmV.js";import{g as D,h as P,a as T,p as M,c as L,b as R,d as A,e as O,f as z,i as F,j as V,r as $,k as H,l as U,v as G,m as W,n as K,o as q,q as Z,t as Y,u as X,w as J,x as Q,y as ee,z as te,A as ne,B as oe,s as re,C as le,D as ie,E as se,F as ae,G as ce,H as ue,I as de,_ as pe,J as ge,K as me,L as he}from"./wp-blocks-core-C_Umt3qd.js";import{_ as fe,d as be,i as ke,c as ve,m as xe,e as ye,f as _e,j as Ce,k as je,l as Se,I as we,p as Ie,o as Be,a as Ne,q as Ee,s as De,t as Pe,u as Te,v as Me,w as Le,x as Re,y as Ae,z as Oe,A as ze,B as Fe,C as Ve,D as $e,E as He,F as Ue,G as Ge,H as We,J as Ke,K as qe,L as Ze,M as Ye,N as Xe,O as Je,P as Qe,Q as et,R as tt,S as nt,T as ot,U as rt,V as lt,X as it,Y as st,Z as at,$ as ct,a0 as ut,a1 as dt,a2 as pt,a3 as gt,a4 as mt,a5 as ht,a6 as ft,a7 as bt,a8 as kt,a9 as vt,aa as xt,ab as yt,ac as _t,ad as Ct,ae as jt,af as St,ag as wt,ah as It,ai as Bt,aj as Nt,ak as Et,al as Dt,am as Pt,an as Tt,ao as Mt,ap as Lt,aq as Rt,ar as At,as as Ot,at as zt,au as Ft,av as Vt,aw as $t,ax as Ht,ay as Ut,az as Gt,aA as Wt,aB as Kt,aC as qt,aD as Zt,aE as Yt,aF as Xt,aG as Jt,aH as Qt,aI as en,aJ as tn,aK as nn,aL as on,aM as rn,aN as ln,aO as sn,aP as an,aQ as cn,aR as un,aS as dn,aT as pn,aU as gn,aV as mn,aW as hn,aX as fn,aY as bn,aZ as kn,a_ as vn,a$ as xn,b0 as yn,b1 as _n,b2 as Cn,b3 as jn,b4 as Sn,b5 as wn,b6 as In,b7 as Bn,b8 as Nn,b9 as En,ba as Dn,bb as Pn,bc as Tn,bd as Mn,be as Ln,bf as Rn,bg as An,bh as On,bi as zn,bj as Fn,bk as Vn,bl as $n,bm as Hn,bn as Un,bo as Gn,bp as Wn,bq as Kn,br as qn,bs as Zn,bt as Yn,bu as Xn,bv as Jn,bw as Qn,bx as eo,by as to,bz as no,bA as oo,bB as ro,bC as lo,bD as io,bE as so}from"./wp-misc-D0_U3Yh3.js";import{a as ao,i as co,b as uo,s as po,c as go}from"./wp-i18n-DP14Ry5v.js";import{c as mo,g as ho,a as fo,b as bo,d as ko,e as vo,f as xo,u as yo,o as _o,h as Co,s as jo,i as So,j as wo,k as Io,l as Bo,m as No,n as Eo,p as Do,q as Po,r as To,t as Mo,v as Lo,w as Ro,x as Ao,I as Oo,y as zo,z as Fo,A as Vo,B as $o,C as Ho,D as Uo,E as Go,F as Wo,G as Ko,H as qo,J as Zo,K as Yo,L as Xo,M as Jo,N as Qo,O as er,P as tr,Q as nr,R as or,S as rr,T as lr,U as ir,V as sr,W as ar,X as cr,Y as ur,Z as dr,_ as pr,$ as gr,a0 as mr,a1 as hr,a2 as fr,a3 as br,a4 as kr,a5 as vr,a6 as xr,a7 as yr,a8 as _r,a9 as Cr,aa as jr,ab as Sr,ac as wr,ad as Ir,ae as Br,af as Nr,ag as Er,ah as Dr,ai as Pr,aj as Tr,ak as Mr,al as Lr,am as Rr,an as Ar,ao as Or,ap as zr,aq as Fr,ar as Vr,as as $r,at as Hr,au as Ur,av as Gr,aw as Wr,ax as Kr,ay as qr,az as Zr,aA as Yr,aB as Xr,aC as Jr,aD as Qr,aE as el,aF as tl,aG as nl,aH as ol,aI as rl,aJ as ll,aK as il,aL as sl,aM as al,aN as cl,aO as ul,aP as dl,aQ as pl,aR as gl,aS as ml,aT as hl,aU as fl,aV as bl,aW as kl,aX as vl,aY as xl,aZ as yl,a_ as _l,a$ as Cl,b0 as jl,b1 as Sl,b2 as wl,b3 as Il,b4 as Bl,b5 as Nl,b6 as El,b7 as Dl,b8 as Pl,b9 as Tl,ba as Ml,bb as Ll,bc as Rl,bd as Al,be as Ol,bf as zl,bg as Fl,bh as Vl,bi as $l,bj as Hl,bk as Ul,bl as Gl,bm as Wl,bn as Kl,bo as ql,bp as Zl,bq as Yl,br as Xl,bs as Jl,bt as Ql}from"./wp-block-editor-utils-CmROb2t9.js";import{c as ei}from"./vendor-ui-CrFdsnXa.js";import{c as ti,p as ni,u as oi,a as ri,h as li,b as ii,d as si,o as ai,e as ci,f as ui,g as di,i as pi,j as gi,k as mi,l as hi,m as fi,n as bi,q as ki,r as vi,s as xi,t as yi,v as _i,w as Ci,x as ji,y as Si,z as wi,A as Ii,B as Bi,C as Ni}from"./wp-core-skmJSxj5.js";import{withFilters as Ei,DropdownMenu as Di,MenuGroup as Pi,MenuItem as Ti,Button as Mi,privateApis as Li,FontSizePicker as Ri,ToolbarGroup as Ai,ToolbarDropdownMenu as Oi,Icon as zi,Autocomplete as Fi,__unstableUseAutocompleteProps as Vi,Flex as $i,FlexItem as Hi,__experimentalToggleGroupControl as Ui,__experimentalToggleGroupControlOptionIcon as Gi,ToggleControl as Wi,__experimentalUseCustomUnits as Ki,__experimentalVStack as qi,__experimentalUnitControl as Zi,__experimentalInputControlPrefixWrapper as Yi,__experimentalToggleGroupControlOption as Xi,BaseControl as Ji,__experimentalNumberControl as Qi,RangeControl as es,__experimentalParseQuantityAndUnitFromRawValue as ts,ToolbarButton as ns,__experimentalAlignmentMatrixControl as os,Dropdown as rs,Modal as ls,Tip as is,__experimentalText as ss,SlotFillProvider as as,__experimentalStyleProvider as cs,Disabled as us,Composite as ds,Draggable as ps,__experimentalTruncate as gs,SearchControl as ms,__experimentalHStack as hs,VisuallyHidden as fs,Tooltip as bs,__experimentalHeading as ks,Navigator as vs,__experimentalItemGroup as xs,__experimentalItem as ys,FlexBlock as _s,__experimentalView as Cs,__experimentalSpacer as js,MenuItemsChoice as Ss,ExternalLink as ws,__unstableMotion as Is,Spinner as Bs,createSlotFill as Ns,Popover as Es,__unstableAnimatePresence as Ds,__experimentalToolsPanelContext as Ps,__experimentalToolsPanel as Ts,__experimentalUseSlotFills as Ms,__unstableMotionContext as Ls,ToolbarItem as Rs,__experimentalToolbarContext as As,CheckboxControl as Os,TextControl as zs,Toolbar as Fs,NavigableMenu as Vs,__experimentalTreeGridRow as $s,__experimentalTreeGridCell as Hs,__experimentalTreeGridItem as Us,__experimentalTreeGrid as Gs,Placeholder as Ws,ColorPalette as Ks,GradientPicker as qs,Notice as Zs,CustomSelectControl as Ys,DuotonePicker as Xs,ColorIndicator as Js,DuotoneSwatch as Qs,SelectControl as ea,__experimentalDropdownContentWrapper as ta,__experimentalToolsPanelItem as na,ButtonGroup as oa,TextHighlight as ra,__experimentalInputControlSuffixWrapper as la,FormFileUpload as ia,withSpokenMessages as sa,__experimentalInputControl as aa,DropZone as ca,Slot as ua,Fill as da,PanelBody as pa,FocalPointPicker as ga,__experimentalBoxControl as ma,__experimentalHasSplitBorders as ha,__experimentalIsDefinedBorder as fa,__experimentalBorderBoxControl as ba,__experimentalZStack as ka,TextareaControl as va,TimePicker as xa,DateTimePicker as ya,ResizableBox as _a}from"./wp-components-i3qvAB06.js";import Ca from"./wp-api-Dq90bqIA.js";var ja,Sa,wa={},Ia={},Ba={};function Na(){if(ja)return Ba;ja=1,Object.defineProperty(Ba,"__esModule",{value:!0});var e={all:Symbol("all"),error:Symbol("error"),fork:Symbol("fork"),join:Symbol("join"),race:Symbol("race"),call:Symbol("call"),cps:Symbol("cps"),subscribe:Symbol("subscribe")};return Ba.default=e,Ba}function Ea(){if(Sa)return Ia;Sa=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.createChannel=Ia.subscribe=Ia.cps=Ia.apply=Ia.call=Ia.invoke=Ia.delay=Ia.race=Ia.join=Ia.fork=Ia.error=Ia.all=void 0;var e,t=Na(),n=(e=t)&&e.__esModule?e:{default:e};return Ia.all=function(e){return{type:n.default.all,value:e}},Ia.error=function(e){return{type:n.default.error,error:e}},Ia.fork=function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return{type:n.default.fork,iterator:e,args:o}},Ia.join=function(e){return{type:n.default.join,task:e}},Ia.race=function(e){return{type:n.default.race,competitors:e}},Ia.delay=function(e){return new Promise(function(t){setTimeout(function(){return t(!0)},e)})},Ia.invoke=function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return{type:n.default.call,func:e,context:null,args:o}},Ia.call=function(e,t){for(var o=arguments.length,r=Array(o>2?o-2:0),l=2;l<o;l++)r[l-2]=arguments[l];return{type:n.default.call,func:e,context:t,args:r}},Ia.apply=function(e,t,o){return{type:n.default.call,func:e,context:t,args:o}},Ia.cps=function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return{type:n.default.cps,func:e,args:o}},Ia.subscribe=function(e){return{type:n.default.subscribe,channel:e}},Ia.createChannel=function(e){var t=[];return e(function(e){return t.forEach(function(t){return t(e)})}),{subscribe:function(e){return t.push(e),function(){return t.splice(t.indexOf(e),1)}}}},Ia}var Da,Pa,Ta,Ma={},La={},Ra={};function Aa(){if(Da)return Ra;Da=1,Object.defineProperty(Ra,"__esModule",{value:!0});var e,t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},n=Na(),o=(e=n)&&e.__esModule?e:{default:e};var r={obj:function(e){return"object"===(void 0===e?"undefined":t(e))&&!!e},all:function(e){return r.obj(e)&&e.type===o.default.all},error:function(e){return r.obj(e)&&e.type===o.default.error},array:Array.isArray,func:function(e){return"function"==typeof e},promise:function(e){return e&&r.func(e.then)},iterator:function(e){return e&&r.func(e.next)&&r.func(e.throw)},fork:function(e){return r.obj(e)&&e.type===o.default.fork},join:function(e){return r.obj(e)&&e.type===o.default.join},race:function(e){return r.obj(e)&&e.type===o.default.race},call:function(e){return r.obj(e)&&e.type===o.default.call},cps:function(e){return r.obj(e)&&e.type===o.default.cps},subscribe:function(e){return r.obj(e)&&e.type===o.default.subscribe},channel:function(e){return r.obj(e)&&r.func(e.subscribe)}};return Ra.default=r,Ra}function Oa(){if(Pa)return La;Pa=1,Object.defineProperty(La,"__esModule",{value:!0}),La.iterator=La.array=La.object=La.error=La.any=void 0;var e,t=Aa(),n=(e=t)&&e.__esModule?e:{default:e};var o=La.any=function(e,t,n,o){return o(e),!0},r=La.error=function(e,t,o,r,l){return!!n.default.error(e)&&(l(e.error),!0)},l=La.object=function(e,t,o,r,l){if(!n.default.all(e)||!n.default.obj(e.value))return!1;var i={},s=Object.keys(e.value),a=0,c=!1;return s.map(function(t){o(e.value[t],function(e){return function(e,t){c||(i[e]=t,++a===s.length&&r(i))}(t,e)},function(e){return function(e,t){c||(c=!0,l(t))}(0,e)})}),!0},i=La.array=function(e,t,o,r,l){if(!n.default.all(e)||!n.default.array(e.value))return!1;var i=[],s=0,a=!1;return e.value.map(function(t,n){o(t,function(t){return function(t,n){a||(i[t]=n,++s===e.value.length&&r(i))}(n,t)},function(e){return function(e,t){a||(a=!0,l(t))}(0,e)})}),!0},s=La.iterator=function(e,t,o,r,l){return!!n.default.iterator(e)&&(o(e,t,l),!0)};return La.default=[r,s,i,l,o],La}var za,Fa,Va={},$a={};function Ha(){if(Fa)return Va;Fa=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.race=Va.join=Va.fork=Va.promise=void 0;var e=r(Aa()),t=Ea(),n=(za||(za=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.default=function(){var e=[];return{subscribe:function(t){return e.push(t),function(){e=e.filter(function(e){return e!==t})}},dispatch:function(t){e.slice().forEach(function(e){return e(t)})}}}),$a),o=r(n);function r(e){return e&&e.__esModule?e:{default:e}}var l=Va.promise=function(t,n,o,r,l){return!!e.default.promise(t)&&(t.then(n,l),!0)},i=new Map,s=Va.fork=function(n,r,l){if(!e.default.fork(n))return!1;var s=Symbol("fork"),a=(0,o.default)();i.set(s,a),l(n.iterator.apply(null,n.args),function(e){return a.dispatch(e)},function(e){return a.dispatch((0,t.error)(e))});var c=a.subscribe(function(){c(),i.delete(s)});return r(s),!0},a=Va.join=function(t,n,o,r,l){if(!e.default.join(t))return!1;var s,a=i.get(t.task);return a?s=a.subscribe(function(e){s(),n(e)}):l("join error : task not found"),!0},c=Va.race=function(t,n,o,r,l){if(!e.default.race(t))return!1;var i,s=!1,a=function(e,t,o){s||(s=!0,e[t]=o,n(e))},c=function(e){s||l(e)};return e.default.array(t.competitors)?(i=t.competitors.map(function(){return!1}),t.competitors.forEach(function(e,t){o(e,function(e){return a(i,t,e)},c)})):function(){var e=Object.keys(t.competitors).reduce(function(e,t){return e[t]=!1,e},{});Object.keys(t.competitors).forEach(function(n){o(t.competitors[n],function(t){return a(e,n,t)},c)})}(),!0};return Va.default=[l,s,a,c,function(t,n){if(!e.default.subscribe(t))return!1;if(!e.default.channel(t.channel))throw new Error('the first argument of "subscribe" must be a valid channel');var o=t.channel.subscribe(function(e){o&&o(),n(e)});return!0}],Va}var Ua,Ga,Wa={};function Ka(){if(Ua)return Wa;Ua=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.cps=Wa.call=void 0;var e,t=Aa(),n=(e=t)&&e.__esModule?e:{default:e};var o=Wa.call=function(e,t,o,r,l){if(!n.default.call(e))return!1;try{t(e.func.apply(e.context,e.args))}catch(i){l(i)}return!0},r=Wa.cps=function(e,t,o,r,l){var i;return!!n.default.cps(e)&&((i=e.func).call.apply(i,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.args),[function(e,n){e?l(e):t(n)}])),!0)};return Wa.default=[o,r],Wa}var qa=(Ga||(Ga=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapControls=e.asyncControls=e.create=void 0;var t=Ea();Object.keys(t).forEach(function(n){"default"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=function(){if(Ta)return Ma;Ta=1,Object.defineProperty(Ma,"__esModule",{value:!0});var e=n(Oa()),t=n(Aa());function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}return Ma.default=function(){var n=[].concat(o(arguments.length<=0||void 0===arguments[0]?[]:arguments[0]),o(e.default));return function e(o){var r,l,i,s=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1],a=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2],c=t.default.iterator(o)?o:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})();r=c,l=function(e){return function(t){try{var n=e?r.throw(t):r.next(t),o=n.value;if(n.done)return s(o);i(o)}catch(Nc){return a(Nc)}}},i=function t(o){n.some(function(n){return n(o,t,e,l(!1),l(!0))})},l(!1)()}},Ma}(),o=i(n),r=i(Ha()),l=i(Ka());function i(e){return e&&e.__esModule?e:{default:e}}e.create=o.default,e.asyncControls=r.default,e.wrapControls=l.default}(wa)),wa);function Za(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Ya(e){return"[object Object]"===Object.prototype.toString.call(e)}function Xa(e){var t,n;return!1!==Ya(e)&&(void 0===(t=e.constructor)||!1!==Ya(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function Ja(e){return e.toLowerCase()}var Qa,ec,tc,nc,oc=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],rc=/[^A-Z0-9]+/gi;function lc(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,o=void 0===n?oc:n,r=t.stripRegexp,l=void 0===r?rc:r,i=t.transform,s=void 0===i?Ja:i,a=t.delimiter,c=void 0===a?" ":a,u=ic(ic(e,o,"$1\0$2"),l,"\0"),d=0,p=u.length;"\0"===u.charAt(d);)d++;for(;"\0"===u.charAt(p-1);)p--;return u.slice(d,p).split("\0").map(s).join(c)}function ic(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(e,t){return e.replace(t,n)},e)}function sc(e,t){var n=e.charAt(0),o=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+o:""+n.toUpperCase()+o}function ac(t,n){return void 0===n&&(n={}),lc(t,e({delimiter:"",transform:sc},n))}function cc(e,t){return 0===t?e.toLowerCase():sc(e,t)}function uc(t,n){return void 0===n&&(n={}),ac(t,e({transform:cc},n))}function dc(t,n){return void 0===n&&(n={}),function(t,n){return void 0===n&&(n={}),lc(t,e({delimiter:"."},n))}(t,e({delimiter:"-"},n))}Qa={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},ec=["(","?"],tc={")":["("],":":["?","?:"]},nc=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var pc={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,n){if(e)throw t;return n}};function gc(e){var t=function(e){for(var t,n,o,r,l=[],i=[];t=e.match(nc);){for(n=t[0],(o=e.substr(0,t.index).trim())&&l.push(o);r=i.pop();){if(tc[n]){if(tc[n][0]===r){n=tc[n][1]||n;break}}else if(ec.indexOf(r)>=0||Qa[r]<Qa[n]){i.push(r);break}l.push(r)}tc[n]||i.push(n),e=e.substr(t.index+n.length)}return(e=e.trim())&&l.push(e),l.concat(i.reverse())}(e);return function(e){return function(e,t){var n,o,r,l,i,s,a=[];for(n=0;n<e.length;n++){if(i=e[n],l=pc[i]){for(o=l.length,r=Array(o);o--;)r[o]=a.pop();try{s=l.apply(null,r)}catch(c){return c}}else s=t.hasOwnProperty(i)?t[i]:+i;a.push(s)}return a[0]}(t,e)}}var mc={contextDelimiter:"",onMissingKey:null};function hc(e,t){var n;for(n in this.data=e,this.pluralForms={},this.options={},mc)this.options[n]=void 0!==t&&n in t?t[n]:mc[n]}hc.prototype.getPluralForm=function(e,t){var n,o,r,l=this.pluralForms[e];return l||("function"!=typeof(r=(n=this.data[e][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(o=function(e){var t,n,o;for(t=e.split(";"),n=0;n<t.length;n++)if(0===(o=t[n].trim()).indexOf("plural="))return o.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),r=function(e){var t=gc(e);return function(e){return+t({n:e})}}(o)),l=this.pluralForms[e]=r),l(t)},hc.prototype.dcnpgettext=function(e,t,n,o,r){var l,i,s;return l=void 0===r?0:this.getPluralForm(e,r),i=n,t&&(i=t+this.options.contextDelimiter+n),(s=this.data[e][i])&&s[l]?s[l]:(this.options.onMissingKey&&this.options.onMissingKey(n,e),0===l?n:o)};var fc,bc,kc={};function vc(e){return[e]}function xc(e){return!!e&&"object"==typeof e}function yc(e,t,n){var o;if(e.length!==t.length)return!1;for(o=n;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}function _c(e,t){var n,o=t||vc;function r(){n=new WeakMap}function l(){var t,r,l,i,s,a=arguments.length;for(i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];for(t=function(e){var t,o,r,l,i=n,s=!0;for(t=0;t<e.length;t++){if(!xc(o=e[t])){s=!1;break}i.has(o)?i=i.get(o):(r=new WeakMap,i.set(o,r),i=r)}return i.has(kc)||((l=function(){var e={clear:function(){e.head=null}};return e}()).isUniqueByDependants=s,i.set(kc,l)),i.get(kc)}(s=o.apply(null,i)),t.isUniqueByDependants||(t.lastDependants&&!yc(s,t.lastDependants,0)&&t.clear(),t.lastDependants=s),r=t.head;r;){if(yc(r.args,i,1))return r!==t.head&&(r.prev.next=r.next,r.next&&(r.next.prev=r.prev),r.next=t.head,r.prev=null,t.head.prev=r,t.head=r),r.val;r=r.next}return r={val:e.apply(null,i)},i[0]=null,r.args=i,t.head&&(t.head.prev=r,r.next=t.head),t.head=r,r.val}return l.getDependants=o,l.clear=r,r(),l}var Cc=function(){if(bc)return fc;bc=1;var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,o){return e.concat(t).map(function(e){return n(e,o)})}function r(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}(e))}function l(e,t){try{return t in e}catch(n){return!1}}function i(e,t,o){var i={};return o.isMergeableObject(e)&&r(e).forEach(function(t){i[t]=n(e[t],o)}),r(t).forEach(function(r){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(l(e,r)&&o.isMergeableObject(t[r])?i[r]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(r,o)(e[r],t[r],o):i[r]=n(t[r],o))}),i}function s(t,r,l){(l=l||{}).arrayMerge=l.arrayMerge||o,l.isMergeableObject=l.isMergeableObject||e,l.cloneUnlessOtherwiseSpecified=n;var s=Array.isArray(r);return s===Array.isArray(t)?s?l.arrayMerge(t,r,l):i(t,r,l):n(r,l)}return s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return s(e,n,t)},{})},fc=s}();const jc=t(Cc);function Sc(e,t){var n,o,r=0;function l(){var l,i,s=n,a=arguments.length;e:for(;s;){if(s.args.length===arguments.length){for(i=0;i<a;i++)if(s.args[i]!==arguments[i]){s=s.next;continue e}return s!==n&&(s===o&&(o=s.prev),s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.next=n,s.prev=null,n.prev=s,n=s),s.val}s=s.next}for(l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return s={args:l,val:e.apply(null,l)},n?(n.prev=s,s.next=n):o=s,r===t.maxSize?(o=o.prev).next=null:r++,n=s,s.val}return t=t||{},l.clear=function(){n=null,o=null,r=0},l}var wc={grad:.9,turn:360,rad:360/(2*Math.PI)},Ic=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},Bc=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Nc=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Ec=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Dc=function(e){return{r:Nc(e.r,0,255),g:Nc(e.g,0,255),b:Nc(e.b,0,255),a:Nc(e.a)}},Pc=function(e){return{r:Bc(e.r),g:Bc(e.g),b:Bc(e.b),a:Bc(e.a,3)}},Tc=/^#([0-9a-f]{3,8})$/i,Mc=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Lc=function(e){var t=e.r,n=e.g,o=e.b,r=e.a,l=Math.max(t,n,o),i=l-Math.min(t,n,o),s=i?l===t?(n-o)/i:l===n?2+(o-t)/i:4+(t-n)/i:0;return{h:60*(s<0?s+6:s),s:l?i/l*100:0,v:l/255*100,a:r}},Rc=function(e){var t=e.h,n=e.s,o=e.v,r=e.a;t=t/360*6,n/=100,o/=100;var l=Math.floor(t),i=o*(1-n),s=o*(1-(t-l)*n),a=o*(1-(1-t+l)*n),c=l%6;return{r:255*[o,s,i,i,a,o][c],g:255*[a,o,o,s,i,i][c],b:255*[i,i,a,o,o,s][c],a:r}},Ac=function(e){return{h:Ec(e.h),s:Nc(e.s,0,100),l:Nc(e.l,0,100),a:Nc(e.a)}},Oc=function(e){return{h:Bc(e.h),s:Bc(e.s),l:Bc(e.l),a:Bc(e.a,3)}},zc=function(e){return Rc((n=(t=e).s,{h:t.h,s:(n*=((o=t.l)<50?o:100-o)/100)>0?2*n/(o+n)*100:0,v:o+n,a:t.a}));var t,n,o},Fc=function(e){return{h:(t=Lc(e)).h,s:(r=(200-(n=t.s))*(o=t.v)/100)>0&&r<200?n*o/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,n,o,r},Vc=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$c=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hc=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Uc=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gc={string:[[function(e){var t=Tc.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?Bc(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?Bc(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Hc.exec(e)||Uc.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Dc({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Vc.exec(e)||$c.exec(e);if(!t)return null;var n,o,r=Ac({h:(n=t[1],o=t[2],void 0===o&&(o="deg"),Number(n)*(wc[o]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return zc(r)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,o=e.b,r=e.a,l=void 0===r?1:r;return Ic(t)&&Ic(n)&&Ic(o)?Dc({r:Number(t),g:Number(n),b:Number(o),a:Number(l)}):null},"rgb"],[function(e){var t=e.h,n=e.s,o=e.l,r=e.a,l=void 0===r?1:r;if(!Ic(t)||!Ic(n)||!Ic(o))return null;var i=Ac({h:Number(t),s:Number(n),l:Number(o),a:Number(l)});return zc(i)},"hsl"],[function(e){var t=e.h,n=e.s,o=e.v,r=e.a,l=void 0===r?1:r;if(!Ic(t)||!Ic(n)||!Ic(o))return null;var i=function(e){return{h:Ec(e.h),s:Nc(e.s,0,100),v:Nc(e.v,0,100),a:Nc(e.a)}}({h:Number(t),s:Number(n),v:Number(o),a:Number(l)});return Rc(i)},"hsv"]]},Wc=function(e,t){for(var n=0;n<t.length;n++){var o=t[n][0](e);if(o)return[o,t[n][1]]}return[null,void 0]},Kc=function(e,t){var n=Fc(e);return{h:n.h,s:Nc(n.s+100*t,0,100),l:n.l,a:n.a}},qc=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Zc=function(e,t){var n=Fc(e);return{h:n.h,s:n.s,l:Nc(n.l+100*t,0,100),a:n.a}},Yc=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Wc(e.trim(),Gc.string):"object"==typeof e&&null!==e?Wc(e,Gc.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return Bc(qc(this.rgba),2)},e.prototype.isDark=function(){return qc(this.rgba)<.5},e.prototype.isLight=function(){return qc(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=Pc(this.rgba)).r,n=e.g,o=e.b,l=(r=e.a)<1?Mc(Bc(255*r)):"","#"+Mc(t)+Mc(n)+Mc(o)+l;var e,t,n,o,r,l},e.prototype.toRgb=function(){return Pc(this.rgba)},e.prototype.toRgbString=function(){return t=(e=Pc(this.rgba)).r,n=e.g,o=e.b,(r=e.a)<1?"rgba("+t+", "+n+", "+o+", "+r+")":"rgb("+t+", "+n+", "+o+")";var e,t,n,o,r},e.prototype.toHsl=function(){return Oc(Fc(this.rgba))},e.prototype.toHslString=function(){return t=(e=Oc(Fc(this.rgba))).h,n=e.s,o=e.l,(r=e.a)<1?"hsla("+t+", "+n+"%, "+o+"%, "+r+")":"hsl("+t+", "+n+"%, "+o+"%)";var e,t,n,o,r},e.prototype.toHsv=function(){return e=Lc(this.rgba),{h:Bc(e.h),s:Bc(e.s),v:Bc(e.v),a:Bc(e.a,3)};var e},e.prototype.invert=function(){return Xc({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Xc(Kc(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Xc(Kc(this.rgba,-e))},e.prototype.grayscale=function(){return Xc(Kc(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Xc(Zc(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Xc(Zc(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Xc({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Bc(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=Fc(this.rgba);return"number"==typeof e?Xc({h:e,s:t.s,l:t.l,a:t.a}):Bc(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Xc(e).toHex()},e}(),Xc=function(e){return e instanceof Yc?e:new Yc(e)},Jc=[],Qc=function(e){e.forEach(function(e){Jc.indexOf(e)<0&&(e(Yc,Gc),Jc.push(e))})};function eu(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},o={};for(var r in n)o[n[r]]=r;var l={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var r,i,s=o[this.toHex()];if(s)return s;if(null==t?void 0:t.closest){var a=this.toRgb(),c=1/0,u="black";if(!l.length)for(var d in n)l[d]=new e(n[d]).toRgb();for(var p in n){var g=(r=a,i=l[p],Math.pow(r.r-i.r,2)+Math.pow(r.g-i.g,2)+Math.pow(r.b-i.b,2));g<c&&(c=g,u=p)}return u}},t.string.push([function(t){var o=t.toLowerCase(),r="transparent"===o?"#0000":n[o];return r?new e(r).toRgb():null},"name"])}var tu=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},nu=function(e){return.2126*tu(e.r)+.7152*tu(e.g)+.0722*tu(e.b)};function ou(e){e.prototype.luminance=function(){return e=nu(this.rgba),void 0===(t=2)&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},e.prototype.contrast=function(t){void 0===t&&(t="#FFF");var n,o,r,l,i,s,a,c=t instanceof e?t:new e(t);return l=this.rgba,i=c.toRgb(),n=(s=nu(l))>(a=nu(i))?(s+.05)/(a+.05):(a+.05)/(s+.05),void 0===(o=2)&&(o=0),void 0===r&&(r=Math.pow(10,o)),Math.floor(r*n)/r+0},e.prototype.isReadable=function(e,t){return void 0===e&&(e="#FFF"),void 0===t&&(t={}),this.contrast(e)>=(i=void 0===(l=(n=t).size)?"normal":l,"AAA"===(r=void 0===(o=n.level)?"AA":o)&&"normal"===i?7:"AA"===r&&"large"===i?3:4.5);var n,o,r,l,i}}var ru,lu={exports:{}};var iu=function(){if(ru)return lu.exports;ru=1;var e={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ấ":"A","Ắ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Æ":"AE","Ầ":"A","Ằ":"A","Ȃ":"A","Ả":"A","Ạ":"A","Ẩ":"A","Ẫ":"A","Ậ":"A","Ç":"C","Ḉ":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ế":"E","Ḗ":"E","Ề":"E","Ḕ":"E","Ḝ":"E","Ȇ":"E","Ẻ":"E","Ẽ":"E","Ẹ":"E","Ể":"E","Ễ":"E","Ệ":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ḯ":"I","Ȋ":"I","Ỉ":"I","Ị":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ố":"O","Ṍ":"O","Ṓ":"O","Ȏ":"O","Ỏ":"O","Ọ":"O","Ổ":"O","Ỗ":"O","Ộ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ớ":"O","Ợ":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ủ":"U","Ụ":"U","Ử":"U","Ữ":"U","Ự":"U","Ý":"Y","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ấ":"a","ắ":"a","ẳ":"a","ẵ":"a","ặ":"a","æ":"ae","ầ":"a","ằ":"a","ȃ":"a","ả":"a","ạ":"a","ẩ":"a","ẫ":"a","ậ":"a","ç":"c","ḉ":"c","è":"e","é":"e","ê":"e","ë":"e","ế":"e","ḗ":"e","ề":"e","ḕ":"e","ḝ":"e","ȇ":"e","ẻ":"e","ẽ":"e","ẹ":"e","ể":"e","ễ":"e","ệ":"e","ì":"i","í":"i","î":"i","ï":"i","ḯ":"i","ȋ":"i","ỉ":"i","ị":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ố":"o","ṍ":"o","ṓ":"o","ȏ":"o","ỏ":"o","ọ":"o","ổ":"o","ỗ":"o","ộ":"o","ờ":"o","ở":"o","ỡ":"o","ớ":"o","ợ":"o","ù":"u","ú":"u","û":"u","ü":"u","ủ":"u","ụ":"u","ử":"u","ữ":"u","ự":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","C̆":"C","c̆":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","Ǵ":"G","ĝ":"g","ǵ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ḫ":"H","ḫ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","Ḱ":"K","ḱ":"k","K̆":"K","k̆":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"l","ł":"l","Ḿ":"M","ḿ":"m","M̆":"M","m̆":"m","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","N̆":"N","n̆":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","P̆":"P","p̆":"p","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","R̆":"R","r̆":"r","Ȓ":"R","ȓ":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","Ș":"S","ș":"s","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","ț":"t","Ț":"T","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","T̆":"T","t̆":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ȗ":"U","ȗ":"u","V̆":"V","v̆":"v","Ŵ":"W","ŵ":"w","Ẃ":"W","ẃ":"w","X̆":"X","x̆":"x","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Y̆":"Y","y̆":"y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u","Ứ":"U","ứ":"u","Ṹ":"U","ṹ":"u","Ǻ":"A","ǻ":"a","Ǽ":"AE","ǽ":"ae","Ǿ":"O","ǿ":"o","Þ":"TH","þ":"th","Ṕ":"P","ṕ":"p","Ṥ":"S","ṥ":"s","X́":"X","x́":"x","Ѓ":"Г","ѓ":"г","Ќ":"К","ќ":"к","A̋":"A","a̋":"a","E̋":"E","e̋":"e","I̋":"I","i̋":"i","Ǹ":"N","ǹ":"n","Ồ":"O","ồ":"o","Ṑ":"O","ṑ":"o","Ừ":"U","ừ":"u","Ẁ":"W","ẁ":"w","Ỳ":"Y","ỳ":"y","Ȁ":"A","ȁ":"a","Ȅ":"E","ȅ":"e","Ȉ":"I","ȉ":"i","Ȍ":"O","ȍ":"o","Ȑ":"R","ȑ":"r","Ȕ":"U","ȕ":"u","B̌":"B","b̌":"b","Č̣":"C","č̣":"c","Ê̌":"E","ê̌":"e","F̌":"F","f̌":"f","Ǧ":"G","ǧ":"g","Ȟ":"H","ȟ":"h","J̌":"J","ǰ":"j","Ǩ":"K","ǩ":"k","M̌":"M","m̌":"m","P̌":"P","p̌":"p","Q̌":"Q","q̌":"q","Ř̩":"R","ř̩":"r","Ṧ":"S","ṧ":"s","V̌":"V","v̌":"v","W̌":"W","w̌":"w","X̌":"X","x̌":"x","Y̌":"Y","y̌":"y","A̧":"A","a̧":"a","B̧":"B","b̧":"b","Ḑ":"D","ḑ":"d","Ȩ":"E","ȩ":"e","Ɛ̧":"E","ɛ̧":"e","Ḩ":"H","ḩ":"h","I̧":"I","i̧":"i","Ɨ̧":"I","ɨ̧":"i","M̧":"M","m̧":"m","O̧":"O","o̧":"o","Q̧":"Q","q̧":"q","U̧":"U","u̧":"u","X̧":"X","x̧":"x","Z̧":"Z","z̧":"z","й":"и","Й":"И","ё":"е","Ё":"Е"},t=Object.keys(e).join("|"),n=new RegExp(t,"g"),o=new RegExp(t,"");function r(t){return e[t]}var l=function(e){return e.replace(n,r)};return lu.exports=l,lu.exports.has=function(e){return!!e.match(o)},lu.exports.remove=l,lu.exports}();const su=t(iu);var au,cu;var uu=(cu||(cu=1,au=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,l;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;for(r of t.entries())if(!e(r[1],n.get(r[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((o=t.length)!=n.length)return!1;for(r=o;0!==r--;)if(t[r]!==n[r])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(l=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,l[r]))return!1;for(r=o;0!==r--;){var i=l[r];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}),au);const du=t(uu);let pu,gu,mu,hu;const fu=/<(\/)?(\w+)\s*(\/)?>/g;function bu(e,t,n,o,r){return{element:e,tokenStart:t,tokenLength:n,prevOffset:o,leadingTextStart:r,children:[]}}const ku=(e,t)=>{if(pu=e,gu=0,mu=[],hu=[],fu.lastIndex=0,!vu(t))throw new TypeError("The conversionMap provided is not valid. It must be an object with values that are React Elements");do{}while(xu(t));return n.createElement(n.Fragment,null,...mu)},vu=e=>{const t="object"==typeof e,o=t&&Object.values(e);return t&&o.length&&o.every(e=>n.isValidElement(e))};function xu(e){const t=function(){const e=fu.exec(pu);if(null===e)return["no-more-tokens"];const t=e.index,[n,o,r,l]=e,i=n.length;if(l)return["self-closed",r,t,i];if(o)return["closer",r,t,i];return["opener",r,t,i]}(),[o,r,l,i]=t,s=hu.length,a=l>gu?gu:null;if(!e[r])return yu(),!1;switch(o){case"no-more-tokens":if(0!==s){const{leadingTextStart:e,tokenStart:t}=hu.pop();mu.push(pu.substr(e,t))}return yu(),!1;case"self-closed":return 0===s?(null!==a&&mu.push(pu.substr(a,l-a)),mu.push(e[r]),gu=l+i,!0):(_u(bu(e[r],l,i)),gu=l+i,!0);case"opener":return hu.push(bu(e[r],l,i,l+i,a)),gu=l+i,!0;case"closer":if(1===s)return function(e){const{element:t,leadingTextStart:o,prevOffset:r,tokenStart:l,children:i}=hu.pop(),s=e?pu.substr(r,e-r):pu.substr(r);s&&i.push(s);null!==o&&mu.push(pu.substr(o,l-o));mu.push(n.cloneElement(t,null,...i))}(l),gu=l+i,!0;const t=hu.pop(),o=pu.substr(t.prevOffset,l-t.prevOffset);t.children.push(o),t.prevOffset=l+i;const c=bu(t.element,t.tokenStart,t.tokenLength,l+i);return c.children=t.children,_u(c),gu=l+i,!0;default:return yu(),!1}}function yu(){const e=pu.length-gu;0!==e&&mu.push(pu.substr(gu,e))}function _u(e){const{element:t,tokenStart:o,tokenLength:r,prevOffset:l,children:i}=e,s=hu[hu.length-1],a=pu.substr(s.prevOffset,o-s.prevOffset);a&&s.children.push(a),s.children.push(n.cloneElement(t,null,...i)),s.prevOffset=l||o+r}const Cu={OS:"web",select:e=>"web"in e?e.web:e.default,isWeb:!0};function ju({children:e,...t}){let o="";return n.Children.toArray(e).forEach(e=>{"string"==typeof e&&""!==e.trim()&&(o+=e)}),n.createElement("div",{dangerouslySetInnerHTML:{__html:o},...t})}function Su(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wu=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Iu=()=>Math.random().toString(36).substring(7).split("").join("."),Bu={INIT:`@@redux/INIT${Iu()}`,REPLACE:`@@redux/REPLACE${Iu()}`};function Nu(e,t,n){if("function"!=typeof e)throw new Error(Su(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Su(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Su(1));return n(Nu)(e,t)}let o=e,r=t,l=new Map,i=l,s=0,a=!1;function c(){i===l&&(i=new Map,l.forEach((e,t)=>{i.set(t,e)}))}function u(){if(a)throw new Error(Su(3));return r}function d(e){if("function"!=typeof e)throw new Error(Su(4));if(a)throw new Error(Su(5));let t=!0;c();const n=s++;return i.set(n,e),function(){if(t){if(a)throw new Error(Su(6));t=!1,c(),i.delete(n),l=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(Su(7));if(void 0===e.type)throw new Error(Su(8));if("string"!=typeof e.type)throw new Error(Su(17));if(a)throw new Error(Su(9));try{a=!0,r=o(r,e)}finally{a=!1}return(l=i).forEach(e=>{e()}),e}p({type:Bu.INIT});return{dispatch:p,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Su(10));o=e,p({type:Bu.REPLACE})},[wu]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Su(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[wu](){return this}}}}}function Eu(...e){return t=>(n,o)=>{const r=t(n,o);let l=()=>{throw new Error(Su(15))};const i={getState:r.getState,dispatch:(e,...t)=>l(e,...t)},s=e.map(e=>e(i));return l=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}(...s)(r.dispatch),{...r,dispatch:l}}}function Du(e){return Xa(e)&&"string"==typeof e.type}function Pu(e={},t){const n=Object.entries(e).map(([e,t])=>(n,o,r,l,i)=>{if(a=e,!Du(s=n)||s.type!==a)return!1;var s,a;const c=t(n);return Za(c)?c.then(l,i):l(c),!0});n.push((e,n)=>!!Du(e)&&(t(e),n(),!0));const o=qa.create(n);return e=>new Promise((n,r)=>o(e,e=>{Du(e)&&t(e),n(e)},r))}function Tu(e={}){return t=>{const n=Pu(e,t.dispatch);return e=>t=>{return(o=t)&&"function"==typeof o[Symbol.iterator]&&"function"==typeof o.next?n(t):e(t);var o}}}function Mu(e){const t=new WeakMap,n=(...o)=>{let r=t.get(n.registry);return r||(r=e(n.registry.select),t.set(n.registry,r)),r(...o)};return n.isRegistrySelector=!0,n}function Lu(e){return e.isRegistryControl=!0,e}const Ru="@@data/SELECT",Au="@@data/RESOLVE_SELECT",Ou="@@data/DISPATCH",zu={[Ru]:Lu(e=>({storeKey:t,selectorName:n,args:o})=>e.select(t)[n](...o)),[Au]:Lu(e=>({storeKey:t,selectorName:n,args:o})=>{const r=e.select(t)[n].hasResolver?"resolveSelect":"select";return e[r](t)[n](...o)}),[Ou]:Lu(e=>({storeKey:t,actionName:n,args:o})=>e.dispatch(t)[n](...o))},{lock:Fu,unlock:Vu}=fe("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/data"),$u=()=>e=>t=>Za(t)?t.then(t=>{if(t)return e(t)}):e(t),Hu=(e,t)=>()=>n=>o=>{const r=e.select(t).getCachedResolvers();return Object.entries(r).forEach(([n,r])=>{const l=e.stores[t]?.resolvers?.[n];l&&l.shouldInvalidate&&r.forEach((r,i)=>{void 0!==r&&("finished"!==r.status&&"error"!==r.status||l.shouldInvalidate(o,...i)&&e.dispatch(t).invalidateResolution(n,i))})}),n(o)};function Uu(e){return"string"==typeof e?e:e.name}function Gu(e={},t=null){const n={},o=mo();let r=null;function l(){o.emit()}function i(e,o){if(n[e])return n[e];const r=o();if("function"!=typeof r.getSelectors)throw new TypeError("store.getSelectors must be a function");if("function"!=typeof r.getActions)throw new TypeError("store.getActions must be a function");if("function"!=typeof r.subscribe)throw new TypeError("store.subscribe must be a function");r.emitter=mo();const i=r.subscribe;if(r.subscribe=e=>{const t=r.emitter.subscribe(e),n=i(()=>{r.emitter.isPaused?r.emitter.emit():e()});return()=>{n?.(),t?.()}},n[e]=r,r.subscribe(l),t)try{Vu(r.store).registerPrivateActions(Vu(t).privateActionsOf(e)),Vu(r.store).registerPrivateSelectors(Vu(t).privateSelectorsOf(e))}catch(Nc){}return r}let s={batch:function(e){if(o.isPaused)e();else{o.pause(),Object.values(n).forEach(e=>e.emitter.pause());try{e()}finally{o.resume(),Object.values(n).forEach(e=>e.emitter.resume())}}},stores:n,namespaces:n,subscribe:(e,r)=>{if(!r)return o.subscribe(e);const l=Uu(r),i=n[l];return i?i.subscribe(e):t?t.subscribe(e,r):o.subscribe(e)},select:function(e){const o=Uu(e);r?.add(o);const l=n[o];return l?l.getSelectors():t?.select(o)},resolveSelect:function(e){const o=Uu(e);r?.add(o);const l=n[o];return l?l.getResolveSelectors():t&&t.resolveSelect(o)},suspendSelect:function(e){const o=Uu(e);r?.add(o);const l=n[o];return l?l.getSuspendSelectors():t&&t.suspendSelect(o)},dispatch:function(e){const o=Uu(e),r=n[o];return r?r.getActions():t&&t.dispatch(o)},use:function(e,t){if(!e)return;return s={...s,...e(s,t)},s},register:function(e){i(e.name,()=>e.instantiate(s))},registerGenericStore:function(e,t){be("wp.data.registerGenericStore",{since:"5.9",alternative:"wp.data.register( storeDescriptor )"}),i(e,()=>t)},registerStore:function(e,t){if(!t.reducer)throw new TypeError("Must specify store reducer");return i(e,()=>v(e,t).instantiate(s)).store},__unstableMarkListeningStores:function(e,t){r=new Set;try{return e.call(this)}finally{t.current=Array.from(r),r=null}}};s.register(k);for(const[u,d]of Object.entries(e))s.register(v(u,d));t&&t.subscribe(l);const a=(c=s,Object.fromEntries(Object.entries(c).map(([e,t])=>"function"!=typeof t?[e,t]:[e,function(){return s[e].apply(null,arguments)}])));var c;return Fu(a,{privateActionsOf:e=>{try{return Vu(n[e].store).privateActions}catch(Nc){return{}}},privateSelectorsOf:e=>{try{return Vu(n[e].store).privateSelectors}catch(Nc){return{}}}}),a}const Wu=Gu(),Ku=n.createContext(Wu),{Consumer:qu,Provider:Zu}=Ku;function Yu(){return n.useContext(Ku)}const Xu=n.createContext(!1),{Consumer:Ju,Provider:Qu}=Xu;const ed=ve();function td(e,t){const n=e.select,o={};let r,l,i,s,a,c=!1;const u=new Map;function d(t){var n;return null!==(n=e.stores[t]?.store?.getState?.())&&void 0!==n?n:{}}return(t,p)=>{function g(){if(c&&t===r)return l;const p={current:null},g=e.__unstableMarkListeningStores(()=>t(n,e),p);if(globalThis.SCRIPT_DEBUG&&!a){const o=t(n,e);ke(g,o)||(!function(e,t){if(!e||!t)return;"object"==typeof e&&"object"==typeof t&&Object.keys(e).filter(n=>e[n]!==t[n])}(g,o),a=!0)}if(s)s.updateStores(p.current);else{for(const e of p.current)u.set(e,d(e));s=(t=>{const n=[...t],r=new Set;return{subscribe:function(t){if(c)for(const e of n)u.get(e)!==d(e)&&(c=!1);u.clear();const l=()=>{c=!1,t()},s=()=>{i?ed.add(o,l):l()},a=[];function p(t){a.push(e.subscribe(s,t))}for(const e of n)p(e);return r.add(p),()=>{r.delete(p);for(const e of a.values())e?.();ed.cancel(o)}},updateStores:function(e){for(const t of e)if(!n.includes(t)){n.push(t);for(const e of r)e(t)}}}})(p.current)}ke(l,g)||(l=g),r=t,c=!0}return i&&!p&&(c=!1,ed.cancel(o)),g(),i=p,{subscribe:s.subscribe,getValue:function(){return g(),l}}}}function nd(e,t,o){const r=Yu(),l=n.useContext(Xu),i=n.useMemo(()=>td(r),[r,e]),s=n.useCallback(t,o),{subscribe:a,getValue:c}=i(s,l),u=n.useSyncExternalStore(a,c,c);return n.useDebugValue(u),u}function od(e,t){const o="function"!=typeof e,r=n.useRef(o);if(o!==r.current){const e=r.current?"static":"mapping";throw new Error(`Switching useSelect from ${e} to ${o?"static":"mapping"} is not allowed`)}return o?(l=e,Yu().select(l)):nd(!1,e,t);var l}const rd=e=>ti(t=>ni(n=>{const r=od((t,o)=>e(t,n,o));return o.jsx(t,{...n,...r})}),"withSelect"),ld=e=>{const{dispatch:t}=Yu();return void 0===e?t:t(e)},id=e=>ti(t=>r=>{const l=((e,t)=>{const o=Yu(),r=n.useRef(e);return oi(()=>{r.current=e}),n.useMemo(()=>{const e=r.current(o.dispatch,o);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...t)=>r.current(o.dispatch,o)[e](...t)]))},[o,...t])})((t,n)=>e(t,r,n),[]);return o.jsx(t,{...r,...l})},"withDispatch");function sd(e){return Wu.select(e)}const ad=x;Wu.resolveSelect,Wu.suspendSelect,Wu.subscribe,Wu.registerGenericStore;const cd=Wu.registerStore;Wu.use,Wu.register;const ud=Symbol("mayDisplayControls"),dd=Symbol("mayDisplayParentControls"),pd=Symbol("blockEditingMode"),gd=Symbol("blockBindings"),md=Symbol("isPreviewMode"),hd={name:"",isSelected:!1},fd=n.createContext(hd),{Provider:bd}=fd;function kd(){return n.useContext(fd)}var vd=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xd=r(function(e){return vd.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),yd=function(e){return"theme"!==e},_d=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?xd:yd},Cd=function(e,t,n){var o;if(t){var r=t.shouldForwardProp;o=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!=typeof o&&n&&(o=e.__emotion_forwardProp),o},jd=function(e){var t=e.cache,n=e.serialized,o=e.isStringTag;return u(t,n,o),d(function(){return p(t,n,o)}),null},Sd=function e(t,o){var r,u,d=t.__emotion_real===t,p=d&&t.__emotion_base||t;void 0!==o&&(r=o.label,u=o.target);var g=Cd(t,o,d),m=g||_d(p),h=!m("as");return function(){var f=arguments,b=d&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&b.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)b.push.apply(b,f);else{var k=f[0];b.push(k[0]);for(var v=f.length,x=1;x<v;x++)b.push(f[x],k[x])}var y=l(function(e,t,o){var r=h&&e.as||p,l="",i=[],d=e;if(null==e.theme){for(var f in d={},e)d[f]=e[f];d.theme=n.useContext(s)}"string"==typeof e.className?l=a(t.registered,i,e.className):null!=e.className&&(l=e.className+" ");var k=c(b.concat(i),t.registered,d);l+=t.key+"-"+k.name,void 0!==u&&(l+=" "+u);var v=h&&void 0===g?_d(r):m,x={};for(var y in e)h&&"as"===y||v(y)&&(x[y]=e[y]);return x.className=l,o&&(x.ref=o),n.createElement(n.Fragment,null,n.createElement(jd,{cache:t,serialized:k,isStringTag:"string"==typeof r}),n.createElement(r,x))});return y.displayName=void 0!==r?r:"Styled("+("string"==typeof p?p:p.displayName||p.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=p,y.__emotion_styles=b,y.__emotion_forwardProp=g,Object.defineProperty(y,"toString",{value:function(){return"."+u}}),y.withComponent=function(t,n){return e(t,i({},o,n,{shouldForwardProp:Cd(y,n,!0)})).apply(void 0,b)},y}};const{lock:wd,unlock:Id}=fe("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/block-editor"),Bd=n.createContext({});function Nd({value:e,children:t}){const r=n.useContext(Bd),l=n.useMemo(()=>({...r,...e}),[r,e]);return o.jsx(Bd.Provider,{value:l,children:t})}const Ed={},Dd=Ei("editor.BlockEdit")(e=>{const{name:t}=e,n=D(t);if(!n)return null;const r=n.edit||n.save;return o.jsx(r,{...e})}),Pd=e=>{const{attributes:t={},name:r}=e,l=D(r),i=n.useContext(Bd),s=n.useMemo(()=>l&&l.usesContext?Object.fromEntries(Object.entries(i).filter(([e])=>l.usesContext.includes(e))):Ed,[l,i]);if(!l)return null;if(l.apiVersion>1)return o.jsx(Dd,{...e,context:s});const a=P(l,"className",!0)?T(r):null,c=ei(a,t.className,e.className);return o.jsx(Dd,{...e,context:s,className:c})};function Td({className:e,actions:t,children:r,secondaryActions:l}){return o.jsx("div",{style:{display:"contents",all:"initial"},children:o.jsx("div",{className:ei(e,"block-editor-warning"),children:o.jsxs("div",{className:"block-editor-warning__contents",children:[o.jsx("p",{className:"block-editor-warning__message",children:r}),(n.Children.count(t)>0||l)&&o.jsxs("div",{className:"block-editor-warning__actions",children:[n.Children.count(t)>0&&n.Children.map(t,(e,t)=>o.jsx("span",{className:"block-editor-warning__action",children:e},t)),l&&o.jsx(Di,{className:"block-editor-warning__secondary",icon:xe,label:ao("More options"),popoverProps:{position:"bottom left",className:"block-editor-warning__dropdown"},noIcons:!0,children:()=>o.jsx(Pi,{children:l.map((e,t)=>o.jsx(Ti,{onClick:e.onClick,children:e.title},t))})})]})]})})})}function Md({originalBlockClientId:e,name:t,onReplace:n}){const{selectBlock:r}=ld(y),l=D(t);return o.jsxs(Td,{actions:[o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"secondary",onClick:()=>r(e),children:ao("Find original")},"find-original"),o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"secondary",onClick:()=>n([]),children:ao("Remove")},"remove")],children:[o.jsxs("strong",{children:[l?.title,": "]}),ao("This block can only be used once.")]})}const Ld=n.createContext({});function Rd({mayDisplayControls:e,mayDisplayParentControls:t,blockEditingMode:r,isPreviewMode:l,...i}){const{name:s,isSelected:a,clientId:c,attributes:u={},__unstableLayoutClassNames:d}=i,{layout:p=null,metadata:g={}}=u,{bindings:m}=g,h=P(s,"layout",!1)||P(s,"__experimentalLayout",!1),{originalBlockClientId:f}=n.useContext(Ld);return o.jsxs(bd,{value:n.useMemo(()=>({name:s,isSelected:a,clientId:c,layout:h?p:null,__unstableLayoutClassNames:d,[ud]:e,[dd]:t,[pd]:r,[gd]:m,[md]:l}),[s,a,c,h,p,d,e,t,r,m,l]),children:[o.jsx(Pd,{...i}),f&&o.jsx(Md,{originalBlockClientId:f,name:s,onReplace:i.onReplace})]})}function Ad(...e){const{clientId:t=null}=kd();return od(n=>Id(n(y)).getBlockSettings(t,...e),[t,...e])}const{kebabCase:Od}=Id(Li),zd=([e,...t])=>e.toUpperCase()+t.join("");function Fd(e,t){const r=e.reduce((e,t)=>({...e,..."string"==typeof t?{[t]:Od(t)}:t}),{});return ri([t,e=>class extends n.Component{constructor(e){super(e),this.setters=this.createSetters(),this.colorUtils={getMostReadableColor:this.getMostReadableColor.bind(this)},this.state={}}getMostReadableColor(e){const{colors:t}=this.props;return ho(t,e)}createSetters(){return Object.keys(r).reduce((e,t)=>{const n=zd(t),o=`custom${n}`;return e[`set${n}`]=this.createSetColor(t,o),e},{})}createSetColor(e,t){return n=>{const o=fo(this.props.colors,n);this.props.setAttributes({[e]:o&&o.slug?o.slug:void 0,[t]:o&&o.slug?void 0:n})}}static getDerivedStateFromProps({attributes:e,colors:t},n){return Object.entries(r).reduce((o,[r,l])=>{const i=bo(t,e[r],e[`custom${zd(r)}`]),s=n[r],a=s?.color;return a===i.color&&s?o[r]=s:o[r]={...i,class:ko(l,i.slug)},o},{})}render(){return o.jsx(e,{...this.props,colors:void 0,...this.state,...this.setters,colorUtils:this.colorUtils})}}])}function Vd(e){if(e)return`has-${e}-gradient-background`}function $d(e,t){const n=e?.find(e=>e.slug===t);return n&&n.gradient}function Hd(e,t){const n=e?.find(e=>e.gradient===t);return n}function Ud(e,t){const n=Hd(e,t);return n&&n.slug}const Gd=[],Wd=([e,...t])=>e.toUpperCase()+t.join(""),Kd=[{icon:ye,title:ao("Align text left"),align:"left"},{icon:_e,title:ao("Align text center"),align:"center"},{icon:Ce,title:ao("Align text right"),align:"right"}],qd={placement:"bottom-start"};function Zd({value:e,onChange:t,alignmentControls:n=Kd,label:r=ao("Align text"),description:l=ao("Change text alignment"),isCollapsed:i=!0,isToolbar:s}){function a(n){return()=>t(e===n?void 0:n)}const c=n.find(t=>t.align===e);const u=s?Ai:Oi,d=s?{isCollapsed:i}:{toggleProps:{description:l},popoverProps:qd};return o.jsx(u,{icon:c?c.icon:co()?Ce:ye,label:r,controls:n.map(t=>{const{align:n}=t,o=e===n;return{...t,isActive:o,role:i?"menuitemradio":void 0,onClick:a(n)}}),...d})}const Yd=e=>o.jsx(Zd,{...e,isToolbar:!1}),Xd=e=>e.name||"",Jd=e=>e.title,Qd=e=>e.description||"",ep=e=>e.keywords||[],tp=e=>e.category,np=()=>null,op=[/([\p{Ll}\p{Lo}\p{N}])([\p{Lu}\p{Lt}])/gu,/([\p{Lu}\p{Lt}])([\p{Lu}\p{Lt}][\p{Ll}\p{Lo}])/gu],rp=/(\p{C}|\p{P}|\p{S})+/giu,lp=new Map,ip=new Map;function sp(e=""){if(lp.has(e))return lp.get(e);const t=lc(e,{splitRegexp:op,stripRegexp:rp}).split(" ").filter(Boolean);return lp.set(e,t),t}function ap(e=""){if(ip.has(e))return ip.get(e);let t=su(e);return t=t.replace(/^\//,""),t=t.toLowerCase(),ip.set(e,t),t}const cp=(e="")=>sp(ap(e)),up=(e,t,n,o)=>{if(0===cp(o).length)return e;return dp(e,o,{getCategory:e=>t.find(({slug:t})=>t===e.category)?.title,getCollection:e=>n[e.name.split("/")[0]]?.title})},dp=(e=[],t="",n={})=>{if(0===cp(t).length)return e;const o=e.map(e=>[e,pp(e,t,n)]).filter(([,e])=>e>0);return o.sort(([,e],[,t])=>t-e),o.map(([e])=>e)};function pp(e,t,n={}){const{getName:o=Xd,getTitle:r=Jd,getDescription:l=Qd,getKeywords:i=ep,getCategory:s=tp,getCollection:a=np}=n,c=o(e),u=r(e),d=l(e),p=i(e),g=s(e),m=a(e),h=ap(t),f=ap(u);let b=0;if(h===f)b+=30;else if(f.startsWith(h))b+=20;else{const e=[c,u,d,...p,g,m].join(" ");0===((e,t)=>e.filter(e=>!cp(t).some(t=>t.includes(e))))(sp(h),e).length&&(b+=10)}if(0!==b&&c.startsWith("core/")){b+=c!==e.id?1:2}return b}const gp=n.memo(function({icon:e,showColors:t=!1,className:n,context:r}){"block-default"===e?.src&&(e={src:je});const l=o.jsx(zi,{icon:e&&e.src?e.src:e,context:r}),i=t?{backgroundColor:e&&e.background,color:e&&e.foreground}:{};return o.jsx("span",{style:i,className:ei("block-editor-block-icon",n,{"has-colors":t}),children:l})}),mp=()=>{};const hp={name:"blocks",className:"block-editor-autocompleters__block",triggerPrefix:"/",useItems(e){const{rootClientId:t,selectedBlockName:r,prioritizedBlocks:l}=od(e=>{const{getSelectedBlockClientId:t,getBlockName:n,getBlockListSettings:o,getBlockRootClientId:r}=e(y),l=t(),i=r(l);return{selectedBlockName:l?n(l):null,rootClientId:i,prioritizedBlocks:o(i)?.prioritizedInserterBlocks}},[]),[i,s,a]=yo(t,mp,!0),c=n.useMemo(()=>(e.trim()?up(i,s,a,e):_o(Co(i,"frecency","desc"),l)).filter(e=>e.name!==r).slice(0,9),[e,r,i,s,a,l]);return[n.useMemo(()=>c.map(e=>{const{title:t,icon:n,isDisabled:r}=e;return{key:`block-${e.id}`,value:e,label:o.jsxs(o.Fragment,{children:[o.jsx(gp,{icon:n,showColors:!0},"icon"),t]}),isDisabled:r}}),[c])]},allowContext:(e,t)=>!(/\S/.test(e)||/\S/.test(t)),getOptionCompletion(e){const{name:t,initialAttributes:n,innerBlocks:o,syncStatus:r,content:l}=e;return{action:"replace",value:"unsynced"===r?M(l,{__unstableSkipMigrationLogs:!0}):L(t,n,R(o))}}};const fp={name:"links",className:"block-editor-autocompleters__link",triggerPrefix:"[[",options:async e=>{let t=await Ca({path:Ne("/wp/v2/search",{per_page:10,search:e,type:"post",order_by:"menu_order"})});return t=t.filter(e=>""!==e.title),t},getOptionKeywords:e=>[...e.title.split(/\s+/)],getOptionLabel:e=>o.jsxs(o.Fragment,{children:[o.jsx(we,{icon:"page"===e.subtype?Ie:Be},"icon"),Se(e.title)]}),getOptionCompletion:e=>o.jsx("a",{href:e.url,children:e.title})},bp=[];function kp({completers:e=bp}){const{name:t}=kd();return n.useMemo(()=>{let n=[...e,fp];return(t===A()||O(t,"__experimentalSlashInserter",!1))&&(n=[...n,hp]),li("editor.Autocomplete.completers")&&(n===e&&(n=n.map(e=>({...e}))),n=ii("editor.Autocomplete.completers",n,t)),n},[e,t])}const vp={default:{name:"default",slug:"flow",className:"is-layout-flow",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}}],spacingStyles:[{selector:" > :first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},constrained:{name:"constrained",slug:"constrained",className:"is-layout-constrained",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > :where(:not(.alignleft):not(.alignright):not(.alignfull))",rules:{"max-width":"var(--wp--style--global--content-size)","margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > .alignwide",rules:{"max-width":"var(--wp--style--global--wide-size)"}}],spacingStyles:[{selector:" > :first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},flex:{name:"flex",slug:"flex",className:"is-layout-flex",displayMode:"flex",baseStyles:[{selector:"",rules:{"flex-wrap":"wrap","align-items":"center"}},{selector:" > :is(*, div)",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]},grid:{name:"grid",slug:"grid",className:"is-layout-grid",displayMode:"grid",baseStyles:[{selector:" > :is(*, div)",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]}},xp={left:"flex-start",right:"flex-end",center:"center","space-between":"space-between"},yp={left:"flex-start",right:"flex-end",center:"center",stretch:"stretch"},_p={top:"flex-start",center:"center",bottom:"flex-end",stretch:"stretch","space-between":"space-between"},Cp=["wrap","nowrap"],jp={name:"flex",label:ao("Flex"),inspectorControls:function({layout:e={},onChange:t,layoutBlockSupport:n={}}){const{allowOrientation:r=!0}=n;return o.jsxs(o.Fragment,{children:[o.jsxs($i,{children:[o.jsx(Hi,{children:o.jsx(Ip,{layout:e,onChange:t})}),o.jsx(Hi,{children:r&&o.jsx(Np,{layout:e,onChange:t})})]}),o.jsx(Bp,{layout:e,onChange:t})]})},toolBarControls:function({layout:e={},onChange:t,layoutBlockSupport:n}){if(n?.allowSwitching)return null;const{allowVerticalAlignment:r=!0}=n;return o.jsxs(rk,{group:"block",__experimentalShareWithChildBlocks:!0,children:[o.jsx(Ip,{layout:e,onChange:t,isToolbar:!0}),r&&o.jsx(Sp,{layout:e,onChange:t})]})},getLayoutStyle:function({selector:e,layout:t,style:n,blockName:o,hasBlockGapSupport:r,layoutDefinitions:l=vp}){const{orientation:i="horizontal"}=t,s=n?.spacing?.blockGap&&!jo(o,"spacing","blockGap")?So(n?.spacing?.blockGap,"0.5em"):void 0,a=xp[t.justifyContent],c=Cp.includes(t.flexWrap)?t.flexWrap:"wrap",u=_p[t.verticalAlignment],d=yp[t.justifyContent]||yp.left;let p="";const g=[];return c&&"wrap"!==c&&g.push(`flex-wrap: ${c}`),"horizontal"===i?(u&&g.push(`align-items: ${u}`),a&&g.push(`justify-content: ${a}`)):(u&&g.push(`justify-content: ${u}`),g.push("flex-direction: column"),g.push(`align-items: ${d}`)),g.length&&(p=`${wo(e)} {\n\t\t\t\t${g.join("; ")};\n\t\t\t}`),r&&s&&(p+=Io(e,l,"flex",s)),p},getOrientation(e){const{orientation:t="horizontal"}=e;return t},getAlignments:()=>[]};function Sp({layout:e,onChange:t}){const{orientation:n="horizontal"}=e,r="horizontal"===n?_p.center:_p.top,{verticalAlignment:l=r}=e;return o.jsx(gx,{onChange:n=>{t({...e,verticalAlignment:n})},value:l,controls:"horizontal"===n?["top","center","bottom","stretch"]:["top","center","bottom","space-between"]})}const wp={placement:"bottom-start"};function Ip({layout:e,onChange:t,isToolbar:n=!1}){const{justifyContent:r="left",orientation:l="horizontal"}=e,i=n=>{t({...e,justifyContent:n})},s=["left","center","right"];if("horizontal"===l?s.push("space-between"):s.push("stretch"),n)return o.jsx(fy,{allowedControls:s,value:r,onChange:i,popoverProps:wp});const a=[{value:"left",icon:Ee,label:ao("Justify items left")},{value:"center",icon:De,label:ao("Justify items center")},{value:"right",icon:Pe,label:ao("Justify items right")}];return"horizontal"===l?a.push({value:"space-between",icon:Te,label:ao("Space between items")}):a.push({value:"stretch",icon:Me,label:ao("Stretch items")}),o.jsx(Ui,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:ao("Justification"),value:r,onChange:i,className:"block-editor-hooks__flex-layout-justification-controls",children:a.map(({value:e,icon:t,label:n})=>o.jsx(Gi,{value:e,icon:t,label:n},e))})}function Bp({layout:e,onChange:t}){const{flexWrap:n="wrap"}=e;return o.jsx(Wi,{__nextHasNoMarginBottom:!0,label:ao("Allow to wrap to multiple lines"),onChange:n=>{t({...e,flexWrap:n?"wrap":"nowrap"})},checked:"wrap"===n})}function Np({layout:e,onChange:t}){const{orientation:n="horizontal",verticalAlignment:r,justifyContent:l}=e;return o.jsxs(Ui,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,className:"block-editor-hooks__flex-layout-orientation-controls",label:ao("Orientation"),value:n,onChange:n=>{let o=r,i=l;return"horizontal"===n?("space-between"===r&&(o="center"),"stretch"===l&&(i="left")):("stretch"===r&&(o="top"),"space-between"===l&&(i="left")),t({...e,orientation:n,verticalAlignment:o,justifyContent:i})},children:[o.jsx(Gi,{icon:Le,value:"horizontal",label:ao("Horizontal")}),o.jsx(Gi,{icon:Re,value:"vertical",label:ao("Vertical")})]})}const Ep={name:"default",label:ao("Flow"),inspectorControls:function(){return null},toolBarControls:function(){return null},getLayoutStyle:function({selector:e,style:t,blockName:n,hasBlockGapSupport:o,layoutDefinitions:r=vp}){const l=So(t?.spacing?.blockGap);let i="";jo(n,"spacing","blockGap")||(l?.top?i=So(l?.top):"string"==typeof l&&(i=So(l)));let s="";return o&&i&&(s+=Io(e,r,"default",i)),s},getOrientation:()=>"vertical",getAlignments(e,t){const n=Bo(e);if(void 0!==e.alignments)return e.alignments.includes("none")||e.alignments.unshift("none"),e.alignments.map(e=>({name:e,info:n[e]}));const o=[{name:"left"},{name:"center"},{name:"right"}];if(!t){const{contentSize:t,wideSize:r}=e;t&&o.unshift({name:"full"}),r&&o.unshift({name:"wide",info:n.wide})}return o.unshift({name:"none",info:n.none}),o}},Dp={name:"constrained",label:ao("Constrained"),inspectorControls:function({layout:e,onChange:t,layoutBlockSupport:n={}}){const{wideSize:r,contentSize:l,justifyContent:i="center"}=e,{allowJustification:s=!0,allowCustomContentAndWideSize:a=!0}=n,c=[{value:"left",icon:Ee,label:ao("Justify items left")},{value:"center",icon:De,label:ao("Justify items center")},{value:"right",icon:Pe,label:ao("Justify items right")}],[u]=Ad("spacing.units"),d=Ki({availableUnits:u||["%","px","em","rem","vw"]});return o.jsxs(qi,{spacing:4,className:"block-editor-hooks__layout-constrained",children:[a&&o.jsxs(o.Fragment,{children:[o.jsx(Zi,{__next40pxDefaultSize:!0,label:ao("Content width"),labelPosition:"top",value:l||r||"",onChange:n=>{n=0>parseFloat(n)?"0":n,t({...e,contentSize:n})},units:d,prefix:o.jsx(Yi,{variant:"icon",children:o.jsx(we,{icon:Oe})})}),o.jsx(Zi,{__next40pxDefaultSize:!0,label:ao("Wide width"),labelPosition:"top",value:r||l||"",onChange:n=>{n=0>parseFloat(n)?"0":n,t({...e,wideSize:n})},units:d,prefix:o.jsx(Yi,{variant:"icon",children:o.jsx(we,{icon:ze})})}),o.jsx("p",{className:"block-editor-hooks__layout-constrained-helptext",children:ao("Customize the width for all elements that are assigned to the center or wide columns.")})]}),s&&o.jsx(Ui,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:ao("Justification"),value:i,onChange:n=>{t({...e,justifyContent:n})},children:c.map(({value:e,icon:t,label:n})=>o.jsx(Gi,{value:e,icon:t,label:n},e))})]})},toolBarControls:function({layout:e={},onChange:t,layoutBlockSupport:n}){const{allowJustification:r=!0}=n;return r?o.jsx(rk,{group:"block",__experimentalShareWithChildBlocks:!0,children:o.jsx(Tp,{layout:e,onChange:t})}):null},getLayoutStyle:function({selector:e,layout:t={},style:n,blockName:o,hasBlockGapSupport:r,layoutDefinitions:l=vp}){const{contentSize:i,wideSize:s,justifyContent:a}=t,c=So(n?.spacing?.blockGap);let u="";jo(o,"spacing","blockGap")||(c?.top?u=So(c?.top):"string"==typeof c&&(u=So(c)));const d="left"===a?"0 !important":"auto !important",p="right"===a?"0 !important":"auto !important";let g=i||s?`\n\t\t\t\t\t${wo(e,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")} {\n\t\t\t\t\t\tmax-width: ${null!=i?i:s};\n\t\t\t\t\t\tmargin-left: ${d};\n\t\t\t\t\t\tmargin-right: ${p};\n\t\t\t\t\t}\n\t\t\t\t\t${wo(e,"> .alignwide")}  {\n\t\t\t\t\t\tmax-width: ${null!=s?s:i};\n\t\t\t\t\t}\n\t\t\t\t\t${wo(e,"> .alignfull")} {\n\t\t\t\t\t\tmax-width: none;\n\t\t\t\t\t}\n\t\t\t\t`:"";if("left"===a?g+=`${wo(e,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-left: ${d}; }`:"right"===a&&(g+=`${wo(e,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-right: ${p}; }`),n?.spacing?.padding){Ae(n).forEach(t=>{if("paddingRight"===t.key){const n="0"===t.value?"0px":t.value;g+=`\n\t\t\t\t\t${wo(e,"> .alignfull")} {\n\t\t\t\t\t\tmargin-right: calc(${n} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`}else if("paddingLeft"===t.key){const n="0"===t.value?"0px":t.value;g+=`\n\t\t\t\t\t${wo(e,"> .alignfull")} {\n\t\t\t\t\t\tmargin-left: calc(${n} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`}})}return r&&u&&(g+=Io(e,l,"constrained",u)),g},getOrientation:()=>"vertical",getAlignments(e){const t=Bo(e);if(void 0!==e.alignments)return e.alignments.includes("none")||e.alignments.unshift("none"),e.alignments.map(e=>({name:e,info:t[e]}));const{contentSize:n,wideSize:o}=e,r=[{name:"left"},{name:"center"},{name:"right"}];return n&&r.unshift({name:"full"}),o&&r.unshift({name:"wide",info:t.wide}),r.unshift({name:"none",info:t.none}),r}},Pp={placement:"bottom-start"};function Tp({layout:e,onChange:t}){const{justifyContent:n="center"}=e;return o.jsx(fy,{allowedControls:["left","center","right"],value:n,onChange:n=>{t({...e,justifyContent:n})},popoverProps:Pp})}const Mp={px:600,"%":100,vw:100,vh:100,em:38,rem:38,svw:100,lvw:100,dvw:100,svh:100,lvh:100,dvh:100,vi:100,svi:100,lvi:100,dvi:100,vb:100,svb:100,lvb:100,dvb:100,vmin:100,svmin:100,lvmin:100,dvmin:100,vmax:100,svmax:100,lvmax:100,dvmax:100},Lp=[{value:"px",label:"px",default:0},{value:"rem",label:"rem",default:0},{value:"em",label:"em",default:0}],Rp={name:"grid",label:ao("Grid"),inspectorControls:function({layout:e={},onChange:t,layoutBlockSupport:n={}}){const{allowSizingOnChildren:r=!1}=n,l=window.__experimentalEnableGridInteractivity||!!e?.columnCount,i=window.__experimentalEnableGridInteractivity||!e?.columnCount;return o.jsxs(o.Fragment,{children:[o.jsx(zp,{layout:e,onChange:t}),o.jsxs(qi,{spacing:4,children:[l&&o.jsx(Op,{layout:e,onChange:t,allowSizingOnChildren:r}),i&&o.jsx(Ap,{layout:e,onChange:t})]})]})},toolBarControls:function(){return null},getLayoutStyle:function({selector:e,layout:t,style:n,blockName:o,hasBlockGapSupport:r,layoutDefinitions:l=vp}){const{minimumColumnWidth:i=null,columnCount:s=null,rowCount:a=null}=t,c=n?.spacing?.blockGap&&!jo(o,"spacing","blockGap")?So(n?.spacing?.blockGap,"0.5em"):void 0;let u="";const d=[];if(i&&s>0){const e=`max(${i}, ( 100% - (${c||"1.2rem"}*${s-1}) ) / ${s})`;d.push(`grid-template-columns: repeat(auto-fill, minmax(${e}, 1fr))`,"container-type: inline-size"),a&&d.push(`grid-template-rows: repeat(${a}, minmax(1rem, auto))`)}else s?(d.push(`grid-template-columns: repeat(${s}, minmax(0, 1fr))`),a&&d.push(`grid-template-rows: repeat(${a}, minmax(1rem, auto))`)):d.push(`grid-template-columns: repeat(auto-fill, minmax(min(${i||"12rem"}, 100%), 1fr))`,"container-type: inline-size");return d.length&&(u=`${wo(e)} { ${d.join("; ")}; }`),r&&c&&(u+=Io(e,l,"grid",c)),u},getOrientation:()=>"horizontal",getAlignments:()=>[]};function Ap({layout:e,onChange:t}){const{minimumColumnWidth:n,columnCount:r,isManualPlacement:l}=e,i=n||(l||r?null:"12rem"),[s,a="rem"]=ts(i);return o.jsxs("fieldset",{children:[o.jsx(Ji.VisualLabel,{as:"legend",children:ao("Minimum column width")}),o.jsxs($i,{gap:4,children:[o.jsx(Hi,{isBlock:!0,children:o.jsx(Zi,{size:"__unstable-large",onChange:n=>{t({...e,minimumColumnWidth:""===n?void 0:n})},onUnitChange:n=>{let o;["em","rem"].includes(n)&&"px"===a?o=(s/16).toFixed(2)+n:["em","rem"].includes(a)&&"px"===n&&(o=Math.round(16*s)+n),t({...e,minimumColumnWidth:o})},value:i,units:Lp,min:0,label:ao("Minimum column width"),hideLabelFromVision:!0})}),o.jsx(Hi,{isBlock:!0,children:o.jsx(es,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:n=>{t({...e,minimumColumnWidth:[n,a].join("")})},value:s||0,min:0,max:Mp[a]||600,withInputField:!1,label:ao("Minimum column width"),hideLabelFromVision:!0})})]})]})}function Op({layout:e,onChange:t,allowSizingOnChildren:n}){const r=window.__experimentalEnableGridInteractivity?void 0:3,{columnCount:l=r,rowCount:i,isManualPlacement:s}=e;return o.jsx(o.Fragment,{children:o.jsxs("fieldset",{children:[(!window.__experimentalEnableGridInteractivity||!s)&&o.jsx(Ji.VisualLabel,{as:"legend",children:ao("Columns")}),o.jsxs($i,{gap:4,children:[o.jsx(Hi,{isBlock:!0,children:o.jsx(Qi,{size:"__unstable-large",onChange:n=>{if(window.__experimentalEnableGridInteractivity){const o=""===n||"0"===n?s?1:void 0:parseInt(n,10);t({...e,columnCount:o})}else{const o=""===n||"0"===n?1:parseInt(n,10);t({...e,columnCount:o})}},value:l,min:1,label:ao("Columns"),hideLabelFromVision:!window.__experimentalEnableGridInteractivity||!s})}),o.jsx(Hi,{isBlock:!0,children:window.__experimentalEnableGridInteractivity&&n&&s?o.jsx(Qi,{size:"__unstable-large",onChange:n=>{const o=""===n||"0"===n?1:parseInt(n,10);t({...e,rowCount:o})},value:i,min:1,label:ao("Rows")}):o.jsx(es,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,value:null!=l?l:1,onChange:n=>t({...e,columnCount:""===n||"0"===n?1:n}),min:1,max:16,withInputField:!1,label:ao("Columns"),hideLabelFromVision:!0})})]})]})})}function zp({layout:e,onChange:t}){const{columnCount:r,rowCount:l,minimumColumnWidth:i,isManualPlacement:s}=e,[a,c]=n.useState(r||3),[u,d]=n.useState(l),[p,g]=n.useState(i||"12rem"),m=s||r&&!window.__experimentalEnableGridInteractivity?"manual":"auto",h=ao("manual"===m?"Grid items can be manually placed in any position on the grid.":"Grid items are placed automatically depending on their order.");return o.jsxs(Ui,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:ao("Grid item position"),value:m,onChange:n=>{"manual"===n?g(i||"12rem"):(c(r||3),d(l)),t({...e,columnCount:"manual"===n?a:null,rowCount:"manual"===n&&window.__experimentalEnableGridInteractivity?u:void 0,isManualPlacement:!("manual"!==n||!window.__experimentalEnableGridInteractivity)||void 0,minimumColumnWidth:"auto"===n?p:null})},isBlock:!0,help:window.__experimentalEnableGridInteractivity?h:void 0,children:[o.jsx(Xi,{value:"auto",label:ao("Auto")},"auto"),o.jsx(Xi,{value:"manual",label:ao("Manual")},"manual")]})}const Fp=[Ep,jp,Dp,Rp];function Vp(e="default"){return Fp.find(t=>t.name===e)}function $p(){return Fp}const Hp={type:"default"},Up=n.createContext(Hp),Gp=Up.Provider;function Wp(){return n.useContext(Up)}const Kp=[],qp=["none","left","center","right","wide","full"],Zp=["wide","full"];function Yp(e=qp){e.includes("none")||(e=["none",...e]);const t=1===e.length&&"none"===e[0],[n,o,r]=od(e=>{var n;if(t)return[!1,!1,!1];const o=e(y).getSettings();return[null!==(n=o.alignWide)&&void 0!==n&&n,o.supportsLayout,o.__unstableIsBlockBasedTheme]},[t]),l=Wp();if(t)return Kp;const i=Vp(l?.type);if(o){const t=i.getAlignments(l,r).filter(t=>e.includes(t.name));return 1===t.length&&"none"===t[0].name?Kp:t}if("default"!==i.name&&"constrained"!==i.name)return Kp;const s=e.filter(e=>l.alignments?l.alignments.includes(e):!(!n&&Zp.includes(e))&&qp.includes(e)).map(e=>({name:e}));return 1===s.length&&"none"===s[0].name?Kp:s}const Xp={none:{icon:Oe,title:uo("None","Alignment option")},left:{icon:He,title:ao("Align left")},center:{icon:$e,title:ao("Align center")},right:{icon:Ve,title:ao("Align right")},wide:{icon:ze,title:ao("Wide width")},full:{icon:Fe,title:ao("Full width")}};function Jp({value:e,onChange:t,controls:n,isToolbar:r,isCollapsed:l=!0}){const i=Yp(n);if(!!!i.length)return null;function s(n){t([e,"none"].includes(n)?void 0:n)}const a=Xp[e],c=Xp.none,u=r?Ai:Oi,d={icon:a?a.icon:c.icon,label:ao("Align")},p=r?{isCollapsed:l,controls:i.map(({name:t})=>({...Xp[t],isActive:e===t||!e&&"none"===t,role:l?"menuitemradio":void 0,onClick:()=>s(t)}))}:{toggleProps:{description:ao("Change alignment")},children:({onClose:t})=>o.jsx(o.Fragment,{children:o.jsx(Pi,{className:"block-editor-block-alignment-control__menu-group",children:i.map(({name:n,info:r})=>{const{icon:l,title:i}=Xp[n],a=n===e||!e&&"none"===n;return o.jsx(Ti,{icon:l,iconPosition:"left",className:ei("components-dropdown-menu__menu-item",{"is-active":a}),isSelected:a,onClick:()=>{s(n),t()},role:"menuitemradio",info:r,children:i},n)})})})};return o.jsx(u,{...d,...p})}const Qp=e=>o.jsx(Jp,{...e,isToolbar:!1});const eg={plural_forms:e=>1===e?0:1},tg=/^i18n\.(n?gettext|has_translation)(_|$)/,ng=((e,t,n)=>{const o=new hc({}),r=new Set,l=()=>{r.forEach(e=>e())},i=(e,t="default")=>{o.data[t]={...o.data[t],...e},o.data[t][""]={...eg,...o.data[t]?.[""]},delete o.pluralForms[t]},s=(e,t)=>{i(e,t),l()},a=(e="default",t,n,r,l)=>(o.data[e]||i(void 0,e),o.dcnpgettext(e,t,n,r,l)),c=e=>e||"default",u=(e,t,o)=>{let r=a(o,t,e);return n?(r=n.applyFilters("i18n.gettext_with_context",r,e,t,o),n.applyFilters("i18n.gettext_with_context_"+c(o),r,e,t,o)):r};if(n){const e=e=>{tg.test(e)&&l()};n.addAction("hookAdded","core/i18n",e),n.addAction("hookRemoved","core/i18n",e)}return{getLocaleData:(e="default")=>o.data[e],setLocaleData:s,addLocaleData:(e,t="default")=>{o.data[t]={...o.data[t],...e,"":{...eg,...o.data[t]?.[""],...e?.[""]}},delete o.pluralForms[t],l()},resetLocaleData:(e,t)=>{o.data={},o.pluralForms={},s(e,t)},subscribe:e=>(r.add(e),()=>r.delete(e)),__:(e,t)=>{let o=a(t,void 0,e);return n?(o=n.applyFilters("i18n.gettext",o,e,t),n.applyFilters("i18n.gettext_"+c(t),o,e,t)):o},_x:u,_n:(e,t,o,r)=>{let l=a(r,void 0,e,t,o);return n?(l=n.applyFilters("i18n.ngettext",l,e,t,o,r),n.applyFilters("i18n.ngettext_"+c(r),l,e,t,o,r)):l},_nx:(e,t,o,r,l)=>{let i=a(l,r,e,t,o);return n?(i=n.applyFilters("i18n.ngettext_with_context",i,e,t,o,r,l),n.applyFilters("i18n.ngettext_with_context_"+c(l),i,e,t,o,r,l)):i},isRTL:()=>"rtl"===u("ltr","text direction"),hasTranslation:(e,t,r)=>{const l=t?t+""+e:e;let i=!!o.data?.[null!=r?r:"default"]?.[l];return n&&(i=n.applyFilters("i18n.has_translation",i,e,t,r),i=n.applyFilters("i18n.has_translation_"+c(r),i,e,t,r)),i}}})(0,0,si);function og(e){if(!e){if("undefined"==typeof window)return!1;e=window}const{platform:t}=e.navigator;return-1!==t.indexOf("Mac")||["iPad","iPhone"].includes(t)}ng.getLocaleData.bind(ng),ng.setLocaleData.bind(ng),ng.resetLocaleData.bind(ng),ng.subscribe.bind(ng),ng.__.bind(ng),ng._x.bind(ng),ng._n.bind(ng),ng._nx.bind(ng),ng.isRTL.bind(ng),ng.hasTranslation.bind(ng);const rg=8,lg=13,ig=38,sg=40,ag=46,cg="alt",ug="ctrl",dg="meta",pg="shift";function gg(e,t){return Object.fromEntries(Object.entries(e).map(([e,n])=>[e,t(n)]))}const mg={primary:e=>e()?[dg]:[ug],primaryShift:e=>e()?[pg,dg]:[ug,pg],primaryAlt:e=>e()?[cg,dg]:[ug,cg],secondary:e=>e()?[pg,cg,dg]:[ug,pg,cg],access:e=>e()?[ug,cg]:[pg,cg],ctrl:()=>[ug],alt:()=>[cg],ctrlShift:()=>[ug,pg],shift:()=>[pg],shiftAlt:()=>[pg,cg],undefined:()=>[]},hg=gg(mg,e=>(t,n=og)=>{const o=n(),r={[cg]:o?"⌥":"Alt",[ug]:o?"⌃":"Ctrl",[dg]:"⌘",[pg]:o?"⇧":"Shift"};return[...e(n).reduce((e,t)=>{var n;const l=null!==(n=r[t])&&void 0!==n?n:t;return o?[...e,l]:[...e,l,"+"]},[]),(l=t,l.length<2?l.toUpperCase():l.charAt(0).toUpperCase()+l.slice(1))];var l}),fg=gg(hg,e=>(t,n=og)=>e(t,n).join(""));const bg=gg(mg,e=>(t,n,o=og)=>{const r=e(o),l=function(e){return[cg,ug,dg,pg].filter(t=>e[`${t}Key`])}(t),i={Comma:",",Backslash:"\\",IntlRo:"\\",IntlYen:"\\"},s=r.filter(e=>!l.includes(e)),a=l.filter(e=>!r.includes(e));if(s.length>0||a.length>0)return!1;let c=t.key.toLowerCase();return n?(t.altKey&&1===n.length&&(c=String.fromCharCode(t.keyCode).toLowerCase()),t.shiftKey&&1===n.length&&i[t.code]&&(c=i[t.code]),"del"===n&&(n="delete"),c===n.toLowerCase()):r.includes(c)}),kg=()=>{};function vg({clientId:e,maximumLength:t,context:n}){const o=od(t=>{if(!e)return null;const{getBlockName:o,getBlockAttributes:r}=t(y),{getBlockType:l,getActiveBlockVariation:i}=t(z),s=o(e),a=l(s);if(!a)return null;const c=r(e),u=F(a,c,n);if(u!==a.title)return u;const d=i(s,c);return d?.title||a.title},[e,n]);if(!o)return null;if(t&&t>0&&o.length>t){const e="...";return o.slice(0,t-e.length)+e}return o}function xg({clientId:e,maximumLength:t,context:n}){return vg({clientId:e,maximumLength:t,context:n})}const yg=n.createContext({refsMap:ai()});function _g({children:e}){const t=n.useMemo(()=>({refsMap:ai()}),[]);return o.jsx(yg.Provider,{value:t,children:e})}function Cg(e){const{refsMap:t}=n.useContext(yg);return ci(n=>(t.set(e,n),()=>t.delete(e)),[e])}function jg(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function Sg(e,t){const{refsMap:o}=n.useContext(yg);n.useLayoutEffect(()=>{jg(t,o.get(e));const n=o.subscribe(e,()=>jg(t,o.get(e)));return()=>{n(),jg(t,null)}},[o,e,t])}function wg(e){const[t,o]=n.useState(null);return Sg(e,o),t}var Ig,Bg,Ng={},Eg={};var Dg=function(){if(Bg)return Ng;Bg=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.diffChars=function(e,t,o){return n.diff(e,t,o)},Ng.characterDiff=void 0;var e,t=(e=function(){if(Ig)return Eg;function e(){}function t(e,t,n,o,r){for(var l=0,i=t.length,s=0,a=0;l<i;l++){var c=t[l];if(c.removed){if(c.value=e.join(o.slice(a,a+c.count)),a+=c.count,l&&t[l-1].added){var u=t[l-1];t[l-1]=t[l],t[l]=u}}else{if(!c.added&&r){var d=n.slice(s,s+c.count);d=d.map(function(e,t){var n=o[a+t];return n.length>e.length?n:e}),c.value=e.join(d)}else c.value=e.join(n.slice(s,s+c.count));s+=c.count,c.added||(a+=c.count)}}var p=t[i-1];return i>1&&"string"==typeof p.value&&(p.added||p.removed)&&e.equals("",p.value)&&(t[i-2].value+=p.value,t.pop()),t}function n(e){return{newPos:e.newPos,components:e.components.slice(0)}}return Ig=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.default=e,e.prototype={diff:function(e,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=r.callback;"function"==typeof r&&(l=r,r={}),this.options=r;var i=this;function s(e){return l?(setTimeout(function(){l(void 0,e)},0),!0):e}e=this.castInput(e),o=this.castInput(o),e=this.removeEmpty(this.tokenize(e));var a=(o=this.removeEmpty(this.tokenize(o))).length,c=e.length,u=1,d=a+c,p=[{newPos:-1,components:[]}],g=this.extractCommon(p[0],o,e,0);if(p[0].newPos+1>=a&&g+1>=c)return s([{value:this.join(o),count:o.length}]);function m(){for(var r=-1*u;r<=u;r+=2){var l=void 0,d=p[r-1],g=p[r+1],m=(g?g.newPos:0)-r;d&&(p[r-1]=void 0);var h=d&&d.newPos+1<a,f=g&&0<=m&&m<c;if(h||f){if(!h||f&&d.newPos<g.newPos?(l=n(g),i.pushComponent(l.components,void 0,!0)):((l=d).newPos++,i.pushComponent(l.components,!0,void 0)),m=i.extractCommon(l,o,e,r),l.newPos+1>=a&&m+1>=c)return s(t(i,l.components,o,e,i.useLongestToken));p[r]=l}else p[r]=void 0}u++}if(l)!function e(){setTimeout(function(){if(u>d)return l();m()||e()},0)}();else for(;u<=d;){var h=m();if(h)return h}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var r=t.length,l=n.length,i=e.newPos,s=i-o,a=0;i+1<r&&s+1<l&&this.equals(t[i+1],n[s+1]);)i++,s++,a++;return a&&e.components.push({count:a}),e.newPos=i,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}},Eg}(),e&&e.__esModule?e:{default:e}),n=new t.default;return Ng.characterDiff=n,Ng}();function Pg({title:e,rawContent:t,renderedContent:n,action:r,actionText:l,className:i}){return o.jsxs("div",{className:i,children:[o.jsxs("div",{className:"block-editor-block-compare__content",children:[o.jsx("h2",{className:"block-editor-block-compare__heading",children:e}),o.jsx("div",{className:"block-editor-block-compare__html",children:t}),o.jsx("div",{className:"block-editor-block-compare__preview edit-post-visual-editor",children:o.jsx(ju,{children:We(n)})})]}),o.jsx("div",{className:"block-editor-block-compare__action",children:o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"secondary",tabIndex:"0",onClick:r,children:l})})]})}function Tg({block:e,onKeep:t,onConvert:n,convertor:r,convertButtonText:l}){const i=(s=r(e),(Array.isArray(s)?s:[s]).map(e=>V(e.name,e.attributes,e.innerBlocks)).join(""));var s;const a=(c=e.originalContent,u=i,Dg.diffChars(c,u).map((e,t)=>{const n=ei({"block-editor-block-compare__added":e.added,"block-editor-block-compare__removed":e.removed});return o.jsx("span",{className:n,children:e.value},t)}));var c,u;return o.jsxs("div",{className:"block-editor-block-compare__wrapper",children:[o.jsx(Pg,{title:ao("Current"),className:"block-editor-block-compare__current",action:t,actionText:ao("Convert to HTML"),rawContent:e.originalContent,renderedContent:e.originalContent}),o.jsx(Pg,{title:ao("After Conversion"),className:"block-editor-block-compare__converted",action:n,actionText:l,rawContent:a,renderedContent:i})]})}const Mg=e=>$({HTML:e.originalContent});function Lg({clientId:e}){const{block:t,canInsertHTMLBlock:r,canInsertClassicBlock:l}=od(t=>{const{canInsertBlockType:n,getBlock:o,getBlockRootClientId:r}=t(y),l=r(e);return{block:o(e),canInsertHTMLBlock:n("core/html",l),canInsertClassicBlock:n("core/freeform",l)}},[e]),{replaceBlock:i}=ld(y),[s,a]=n.useState(!1),c=n.useCallback(()=>a(!1),[]),u=n.useMemo(()=>({toClassic(){const e=L("core/freeform",{content:t.originalContent});return i(t.clientId,e)},toHTML(){const e=L("core/html",{content:t.originalContent});return i(t.clientId,e)},toBlocks(){const e=Mg(t);return i(t.clientId,e)},toRecoveredBlock(){const e=L(t.name,t.attributes,t.innerBlocks);return i(t.clientId,e)}}),[t,i]),d=n.useMemo(()=>[{title:uo("Resolve","imperative verb"),onClick:()=>a(!0)},r&&{title:ao("Convert to HTML"),onClick:u.toHTML},l&&{title:ao("Convert to Classic Block"),onClick:u.toClassic}].filter(Boolean),[r,l,u]);return o.jsxs(o.Fragment,{children:[o.jsx(Td,{actions:[o.jsx(Mi,{__next40pxDefaultSize:!0,onClick:u.toRecoveredBlock,variant:"primary",children:ao("Attempt recovery")},"recover")],secondaryActions:d,children:ao("Block contains unexpected or invalid content.")}),s&&o.jsx(ls,{title:ao("Resolve Block"),onRequestClose:c,className:"block-editor-block-compare",children:o.jsx(Tg,{block:t,onKeep:u.toHTML,onConvert:u.toBlocks,convertor:Mg,convertButtonText:ao("Convert to Blocks")})})]})}const Rg=o.jsx(Td,{className:"block-editor-block-list__block-crash-warning",children:ao("This block has encountered an error and cannot be previewed.")}),Ag=()=>Rg;class Og extends n.Component{constructor(){super(...arguments),this.state={hasError:!1}}componentDidCatch(){this.setState({hasError:!0})}render(){return this.state.hasError?this.props.fallback:this.props.children}}function zg({clientId:e}){const[t,r]=n.useState(""),l=od(t=>t(y).getBlock(e),[e]),{updateBlock:i}=ld(y);return n.useEffect(()=>{r(H(l))},[l]),o.jsx(g,{className:"block-editor-block-list__block-html-textarea",value:t,onBlur:()=>{const n=D(l.name);if(!n)return;const o=U(n,t,l.attributes),s=t||V(n,o),[a]=t?G({...l,attributes:o,originalContent:s}):[!0];i(e,{attributes:o,originalContent:s,isValid:a}),t||r(s)},onChange:e=>r(e.target.value)})}function Fg(e){return{top:e.offsetTop,left:e.offsetLeft}}function Vg({triggerAnimationOnChange:e,clientId:t}){const o=n.useRef(),{isTyping:r,getGlobalBlockCount:l,isBlockSelected:i,isFirstMultiSelectedBlock:s,isBlockMultiSelected:a,isAncestorMultiSelected:c}=od(y),{previous:u,prevRect:d}=n.useMemo(()=>({previous:o.current&&Fg(o.current),prevRect:o.current&&o.current.getBoundingClientRect()}),[e]);return n.useLayoutEffect(()=>{if(!u||!o.current)return;const e=Ke(o.current),n=i(t),p=n||s(t);function g(){if(p&&d){const t=o.current.getBoundingClientRect().top-d.top;t&&(e.scrollTop+=t)}}if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||r()||l()>200)return void g();const h=n||a(t)||c(t)?"1":"",f=new m({x:0,y:0,config:{mass:5,tension:2e3,friction:200},onChange({value:e}){if(!o.current)return;let{x:t,y:n}=e;t=Math.round(t),n=Math.round(n);const r=0===t&&0===n;o.current.style.transformOrigin="center center",o.current.style.transform=r?null:`translate3d(${t}px,${n}px,0)`,o.current.style.zIndex=h,g()}});o.current.style.transform=void 0;const b=Fg(o.current),k=Math.round(u.left-b.left),v=Math.round(u.top-b.top);return f.start({x:0,y:0,from:{x:k,y:v}}),()=>{f.stop(),f.set({x:0,y:0})}},[u,d,t,r,l,i,s,a,c]),o}function $g({clientId:e,initialPosition:t}){const o=n.useRef(),{isBlockSelected:r,isMultiSelecting:l,__unstableGetEditorMode:i}=od(y);return n.useEffect(()=>{if(!r(e)||l()||"zoom-out"===i())return;if(null==t)return;if(!o.current)return;const{ownerDocument:n}=o.current;if(Eo(o.current,n.activeElement))return;const s=qe.tabbable.find(o.current).filter(e=>Ze(e)),a=-1===t,c=s[a?s.length-1:0]||o.current;if(Eo(o.current,c)){if(!o.current.getAttribute("contenteditable")){const e=qe.tabbable.findNext(o.current);if(e&&Eo(o.current,e)&&Ye(e))return void e.focus()}Xe(c,a)}else o.current.focus()},[t,e]),o}function Hg({clientId:e}){const{hoverBlock:t}=ld(y);function n(n){if(n.defaultPrevented)return;const o="mouseover"===n.type?"add":"remove";n.preventDefault(),n.currentTarget.classList[o]("is-hovered"),t("add"===o?e:null)}return ci(e=>(e.addEventListener("mouseout",n),e.addEventListener("mouseover",n),()=>{e.removeEventListener("mouseout",n),e.removeEventListener("mouseover",n),e.classList.remove("is-hovered"),t(null)}),[])}function Ug(e){const{isBlockSelected:t}=od(y),{selectBlock:n,selectionChange:o}=ld(y);return ci(r=>{function l(l){r.parentElement.closest('[contenteditable="true"]')||(t(e)?l.target.isContentEditable||o(e):Eo(r,l.target)&&n(e))}return r.addEventListener("focusin",l),()=>{r.removeEventListener("focusin",l)}},[t,n])}function Gg({clientId:e,isSelected:t}){const{getBlockRootClientId:n,getBlockIndex:o}=od(y),{insertAfterBlock:r,removeBlock:l}=ld(y);return ci(n=>{if(t)return n.addEventListener("keydown",o),n.addEventListener("dragstart",i),()=>{n.removeEventListener("keydown",o),n.removeEventListener("dragstart",i)};function o(t){const{keyCode:o,target:i}=t;o!==lg&&o!==rg&&o!==ag||i!==n||Ze(i)||(t.preventDefault(),o===lg?r(e):l(e))}function i(e){e.preventDefault()}},[e,t,n,o,r,l])}function Wg(){const{getSettings:e,isZoomOut:t,__unstableGetEditorMode:n}=Id(od(y)),{__unstableSetEditorMode:o,resetZoomLevel:r}=Id(ld(y));return ci(l=>{function i(l){if("zoom-out"===n()&&t()&&!l.defaultPrevented){l.preventDefault();const{__experimentalSetIsInserterOpened:t}=e();"function"==typeof t&&t(!1),o("edit"),r()}}return l.addEventListener("dblclick",i),()=>{l.removeEventListener("dblclick",i)}},[e,o,n,t,r])}function Kg(){const e=n.useContext(Ff);return ci(t=>{if(e)return e.observe(t),()=>{e.unobserve(t)}},[e])}function qg({isSelected:e}){const t=ui();return ci(n=>{if(e){const{ownerDocument:e}=n,{defaultView:o}=e;if(!o.IntersectionObserver)return;const r=new o.IntersectionObserver(e=>{e[0].isIntersecting||n.scrollIntoView({behavior:t?"instant":"smooth"}),r.disconnect()});return r.observe(n),()=>{r.disconnect()}}},[e])}function Zg({clientId:e="",isEnabled:t=!0}={}){const{getEnabledClientIdsTree:n}=Id(od(y));return ci(o=>{if(!t)return;const r=t=>{(t.target===o||t.target.classList.contains("is-root-container"))&&(t.defaultPrevented||(t.preventDefault(),n(e).forEach(({clientId:e})=>{const t=o.querySelector(`[data-block="${e}"]`);t&&(t.classList.remove("has-editable-outline"),t.offsetWidth,t.classList.add("has-editable-outline"))})))};return o.addEventListener("click",r),()=>o.removeEventListener("click",r)},[t])}function Yg(e){if(e.includes(" "))return!1;const t=Je(e),n=et(t),o=function(e,t=6){const n=e.split(/[?#]/)[0];return new RegExp(`(?<=\\S)\\.(?:[a-zA-Z_]{2,${t}})(?:\\/|$)`).test(n)}(e),r=e?.startsWith("www."),l=e?.startsWith("#")&&Qe(e);return n||r||l||o}function Xg(e={},{__unstableIsHtml:t}={}){const{clientId:o,className:r,wrapperProps:l={},isAligned:i,index:s,mode:a,name:c,blockApiVersion:u,blockTitle:d,isSelected:p,isSubtreeDisabled:g,hasOverlay:m,initialPosition:h,blockEditingMode:f,isHighlighted:b,isMultiSelected:k,isPartiallySelected:v,isReusable:x,isDragging:y,hasChildSelected:_,isEditingDisabled:C,hasEditableOutline:j,isTemporarilyEditingAsBlocks:S,defaultClassName:w,isSectionBlock:I}=n.useContext(Ld),B=po(ao("Block: %s"),d),N="html"!==a||t?"":"-visual",E=di([e.ref,$g({clientId:o,initialPosition:h}),Cg(o),Ug(o),Gg({clientId:o,isSelected:p}),Wg(),Hg({clientId:o}),Kg(),Vg({triggerAnimationOnChange:s,clientId:o}),pi({isDisabled:!m}),Zg({clientId:o,isEnabled:I}),qg({isSelected:p})]),D=kd(),P=!!D[gd]&&Do(c)?{"--wp-admin-theme-color":"var(--wp-block-synced-color)","--wp-admin-theme-color--rgb":"var(--wp-block-synced-color--rgb)"}:{};u<2&&o===D.clientId&&!0===globalThis.SCRIPT_DEBUG&&tt(`Block type "${c}" must support API version 2 or higher to work correctly with "useBlockProps" method.`);let T=!1;return"-"!==l?.style?.marginTop?.charAt(0)&&"-"!==l?.style?.marginBottom?.charAt(0)&&"-"!==l?.style?.marginLeft?.charAt(0)&&"-"!==l?.style?.marginRight?.charAt(0)||(T=!0),{tabIndex:"disabled"===f?-1:0,...l,...e,ref:E,id:`block-${o}${N}`,role:"document","aria-label":B,"data-block":o,"data-type":c,"data-title":d,inert:g?"true":void 0,className:ei("block-editor-block-list__block",{"wp-block":!i,"has-block-overlay":m,"is-selected":p,"is-highlighted":b,"is-multi-selected":k,"is-partially-selected":v,"is-reusable":x,"is-dragging":y,"has-child-selected":_,"is-editing-disabled":C,"has-editable-outline":j,"has-negative-margin":T,"is-content-locked-temporarily-editing-as-blocks":S},r,e.className,l.className,w),style:{...l.style,...e.style,...P}}}Xg.save=W;const{isUnmodifiedBlockContent:Jg}=Id(Z);function Qg({children:e,isHtml:t,...n}){return o.jsx("div",{...Xg(n,{__unstableIsHtml:t}),children:e})}function em({block:{__unstableBlockSource:e},mode:t,isLocked:r,canRemove:l,clientId:i,isSelected:s,isSelectionEnabled:a,className:c,__unstableLayoutClassNames:u,name:d,isValid:p,attributes:g,wrapperProps:m,setAttributes:h,onReplace:f,onInsertBlocksAfter:b,onMerge:k,toggleSelection:v}){var x;const{mayDisplayControls:_,mayDisplayParentControls:C,themeSupportsLayout:j,...S}=n.useContext(Ld),{removeBlock:w}=ld(y),I=n.useCallback(()=>w(i),[i,w]),B=Wp()||{};let N=o.jsx(Rd,{name:d,isSelected:s,attributes:g,setAttributes:h,insertBlocksAfter:r?void 0:b,onReplace:l?f:void 0,onRemove:l?I:void 0,mergeBlocks:l?k:void 0,clientId:i,isSelectionEnabled:a,toggleSelection:v,__unstableLayoutClassNames:u,__unstableParentLayout:Object.keys(B).length?B:void 0,mayDisplayControls:_,mayDisplayParentControls:C,blockEditingMode:S.blockEditingMode,isPreviewMode:S.isPreviewMode});const E=D(d);E?.getEditWrapperProps&&(m=function(e,t){const n={...e,...t};return e?.hasOwnProperty("className")&&t?.hasOwnProperty("className")&&(n.className=ei(e.className,t.className)),e?.hasOwnProperty("style")&&t?.hasOwnProperty("style")&&(n.style={...e.style,...t.style}),n}(m,E.getEditWrapperProps(g)));const P=m&&!!m["data-align"]&&!j,T=c?.includes("is-position-sticky");let M;if(P&&(N=o.jsx("div",{className:ei("wp-block",T&&c),"data-align":m["data-align"],children:N})),p)M="html"===t?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{display:"none"},children:N}),o.jsx(Qg,{isHtml:!0,children:o.jsx(zg,{clientId:i})})]}):E?.apiVersion>1?N:o.jsx(Qg,{children:N});else{const t=e?q(e):V(E,g);M=o.jsxs(Qg,{className:"has-warning",children:[o.jsx(Lg,{clientId:i}),o.jsx(ju,{children:We(t)})]})}const{"data-align":L,...R}=null!==(x=m)&&void 0!==x?x:{},A={...R,className:ei(R.className,L&&j&&`align${L}`,!(L&&T)&&c)};return o.jsx(Ld.Provider,{value:{wrapperProps:A,isAligned:P,...S},children:o.jsx(Og,{fallback:o.jsx(Qg,{className:"has-warning",children:o.jsx(Ag,{})}),children:M})})}const tm=id((e,t,n)=>{const{updateBlockAttributes:o,insertBlocks:r,mergeBlocks:l,replaceBlocks:i,toggleSelection:s,__unstableMarkLastChangeAsPersistent:a,moveBlocksToPosition:c,removeBlock:u,selectBlock:d}=e(y);return{setAttributes(e){const{getMultiSelectedBlockClientIds:r}=n.select(y),l=r(),{clientId:i}=t,s=l.length?l:[i];o(s,e)},onInsertBlocks(e,n){const{rootClientId:o}=t;r(e,n,o)},onInsertBlocksAfter(e){const{clientId:o,rootClientId:l}=t,{getBlockIndex:i}=n.select(y),s=i(o);r(e,s+1,l)},onMerge(e){const{clientId:o,rootClientId:s}=t,{getPreviousBlockClientId:a,getNextBlockClientId:p,getBlock:g,getBlockAttributes:m,getBlockName:h,getBlockOrder:f,getBlockIndex:b,getBlockRootClientId:k,canInsertBlockType:v}=n.select(y);function x(){const e=g(o),t=A();if(h(o)!==t){const n=X(e,t);n&&n.length&&i(o,n)}else if(Y(e)){const e=p(o);e&&n.batch(()=>{u(o),d(e)})}}function _(e,t=!0){const l=k(e),s=f(e),[a]=s;1===s.length&&J(g(a))?u(e):n.batch(()=>{const n=g(a),s=Jg(n),m=A(),h=X(n,m),k=!!h?.length&&h.every(t=>v(t.name,e));if(s&&k)i(a,h,t);else if(s&&n.name===m){u(a);const e=p(o);e&&d(e)}else if(v(n.name,l))c([a],e,l,b(e));else{!!h?.length&&h.every(e=>v(e.name,l))?(r(h,b(e),l,t),u(a,!1)):x()}!f(e).length&&J(g(e))&&u(e,!1)})}if(e){if(s){const e=p(s);if(e){if(h(s)!==h(e))return void l(s,e);{const t=m(s),o=m(e);if(Object.keys(t).every(e=>t[e]===o[e]))return void n.batch(()=>{c(f(e),e,s),u(e,!1)})}}}const e=p(o);if(!e)return;f(e).length?_(e,!1):l(o,e)}else{const e=a(o);if(e)l(e,o);else if(s){const e=a(s);if(e&&h(s)===h(e)){const t=m(s),o=m(e);if(Object.keys(t).every(e=>t[e]===o[e]))return void n.batch(()=>{c(f(s),s,e),u(s,!1)})}_(s)}else x()}},onReplace(e,n,o){e.length&&!Y(e[e.length-1])&&a();const r=1===e?.length&&Array.isArray(e[0])?e[0]:e;i([t.clientId],r,n,o)},toggleSelection(e){s(e)}}});em=ri(tm,Ei("editor.BlockListBlock"))(em);const nm=n.memo(function(e){const{clientId:t,rootClientId:r}=e,l=od(e=>{const{isBlockSelected:n,getBlockMode:o,isSelectionEnabled:l,getTemplateLock:i,isSectionBlock:s,getBlockWithoutAttributes:a,getBlockAttributes:c,canRemoveBlock:u,canMoveBlock:d,getSettings:p,getTemporarilyEditingAsBlocks:g,getBlockEditingMode:m,getBlockName:h,isFirstMultiSelectedBlock:f,getMultiSelectedBlockClientIds:b,hasSelectedInnerBlock:k,getBlocksByName:v,getBlockIndex:x,isBlockMultiSelected:_,isBlockSubtreeDisabled:C,isBlockHighlighted:j,__unstableIsFullySelected:S,__unstableSelectionHasUnmergeableBlock:w,isBlockBeingDragged:I,isDragging:B,__unstableHasActiveBlockOverlayActive:N,getSelectedBlocksInitialCaretPosition:E}=Id(e(y)),M=a(t);if(!M)return;const{hasBlockSupport:L,getActiveBlockVariation:R}=e(z),A=c(t),{name:O,isValid:F}=M,V=D(O),{supportsLayout:$,__unstableIsPreviewMode:H}=p(),U=V?.apiVersion>1,G={isPreviewMode:H,blockWithoutAttributes:M,name:O,attributes:A,isValid:F,themeSupportsLayout:$,index:x(t),isReusable:K(V),className:U?A.className:void 0,defaultClassName:U?T(O):void 0,blockTitle:V?.title};if(H)return G;const W=n(t),q=u(t),Z=d(t),Y=R(O,A),X=_(t),J=k(t,!0),Q=m(t),ee=P(O,"multiple",!0)?[]:v(O),te=ee.length&&ee[0]!==t;return{...G,mode:o(t),isSelectionEnabled:l(),isLocked:!!i(r),isSectionBlock:s(t),canRemove:q,canMove:Z,isSelected:W,isTemporarilyEditingAsBlocks:g()===t,blockEditingMode:Q,mayDisplayControls:W||f(t)&&b().every(e=>h(e)===O),mayDisplayParentControls:L(h(t),"__experimentalExposeControlsToChildren",!1)&&k(t),blockApiVersion:V?.apiVersion||1,blockTitle:Y?.title||V?.title,isSubtreeDisabled:"disabled"===Q&&C(t),hasOverlay:N(t)&&!B(),initialPosition:W?E():void 0,isHighlighted:j(t),isMultiSelected:X,isPartiallySelected:X&&!S()&&!w(),isDragging:I(t),hasChildSelected:J,isEditingDisabled:"disabled"===Q,hasEditableOutline:"disabled"!==Q&&"disabled"===m(r),originalBlockClientId:!!te&&ee[0]}},[t,r]),{isPreviewMode:i,mode:s="visual",isSelectionEnabled:a=!1,isLocked:c=!1,canRemove:u=!1,canMove:d=!1,blockWithoutAttributes:p,name:g,attributes:m,isValid:h,isSelected:f=!1,themeSupportsLayout:b,isTemporarilyEditingAsBlocks:k,blockEditingMode:v,mayDisplayControls:x,mayDisplayParentControls:_,index:C,blockApiVersion:j,blockTitle:S,isSubtreeDisabled:w,hasOverlay:I,initialPosition:B,isHighlighted:N,isMultiSelected:E,isPartiallySelected:M,isReusable:L,isDragging:R,hasChildSelected:A,isSectionBlock:O,isEditingDisabled:F,hasEditableOutline:V,className:$,defaultClassName:H,originalBlockClientId:U}=l,G=n.useMemo(()=>({...p,attributes:m}),[p,m]);if(!l)return null;const W={isPreviewMode:i,clientId:t,className:$,index:C,mode:s,name:g,blockApiVersion:j,blockTitle:S,isSelected:f,isSubtreeDisabled:w,hasOverlay:I,initialPosition:B,blockEditingMode:v,isHighlighted:N,isMultiSelected:E,isPartiallySelected:M,isReusable:L,isDragging:R,hasChildSelected:A,isSectionBlock:O,isEditingDisabled:F,hasEditableOutline:V,isTemporarilyEditingAsBlocks:k,defaultClassName:H,mayDisplayControls:x,mayDisplayParentControls:_,originalBlockClientId:U,themeSupportsLayout:b};return o.jsx(Ld.Provider,{value:W,children:o.jsx(em,{...e,mode:s,isSelectionEnabled:a,isLocked:c,canRemove:u,canMove:d,block:G,name:g,attributes:m,isValid:h,isSelected:f})})}),om=[ku(ao("While writing, you can press <kbd>/</kbd> to quickly insert new blocks."),{kbd:o.jsx("kbd",{})}),ku(ao("Indent a list by pressing <kbd>space</kbd> at the beginning of a line."),{kbd:o.jsx("kbd",{})}),ku(ao("Outdent a list by pressing <kbd>backspace</kbd> at the beginning of a line."),{kbd:o.jsx("kbd",{})}),ao("Drag files into the editor to automatically insert media blocks."),ao("Change a block's type by pressing the block icon on the toolbar.")];function rm(){const[e]=n.useState(Math.floor(Math.random()*om.length));return o.jsx(is,{children:om[e]})}function lm({title:e,icon:t,description:n,blockType:r,className:l,name:i}){r&&(be("`blockType` property in `BlockCard component`",{since:"5.7",alternative:"`title, icon and description` properties"}),({title:e,icon:t,description:n}=r));const{parentNavBlockClientId:s}=od(e=>{const{getSelectedBlockClientId:t,getBlockParentsByBlockName:n}=e(y);return{parentNavBlockClientId:n(t(),"core/navigation",!0)[0]}},[]),{selectBlock:a}=ld(y);return o.jsxs("div",{className:ei("block-editor-block-card",l),children:[s&&o.jsx(Mi,{onClick:()=>a(s),label:ao("Go to parent Navigation block"),style:{minWidth:24,padding:0},icon:co()?nt:ot,size:"small"}),o.jsx(gp,{icon:t,showColors:!0}),o.jsxs(qi,{spacing:1,children:[o.jsx("h2",{className:"block-editor-block-card__title",children:i?.length?po(ao("%1$s (%2$s)"),i,e):e}),n&&o.jsx(ss,{className:"block-editor-block-card__description",children:n})]})]})}const im=ti(e=>({useSubRegistry:t=!0,...r})=>{const l=Yu(),[i]=n.useState(()=>new WeakMap),s=function(e,t,n){if(!n)return t;let o=e.get(t);return o||(o=Gu({},t),o.registerStore(_,C),e.set(t,o)),o}(i,l,t);return s===l?o.jsx(e,{registry:l,...r}):o.jsx(Zu,{value:s,children:o.jsx(e,{registry:s,...r})})},"withRegistryProvider"),sm=()=>{};function am({clientId:e=null,value:t,selection:o,onChange:r=sm,onInput:l=sm}){const i=Yu(),{resetBlocks:s,resetSelection:a,replaceInnerBlocks:c,setHasControlledInnerBlocks:u,__unstableMarkNextChangeAsNotPersistent:d}=i.dispatch(y),{getBlockName:p,getBlocks:g,getSelectionStart:m,getSelectionEnd:h}=i.select(y),f=od(t=>!e||t(y).areInnerBlocksControlled(e),[e]),b=n.useRef({incoming:null,outgoing:[]}),k=n.useRef(!1),v=()=>{t&&(d(),e?i.batch(()=>{u(e,!0);const n=t.map(e=>Q(e));k.current&&(b.current.incoming=n),d(),c(e,n)}):(k.current&&(b.current.incoming=t),s(t)))},x=n.useRef(l),_=n.useRef(r);n.useEffect(()=>{x.current=l,_.current=r},[l,r]),n.useEffect(()=>{b.current.outgoing.includes(t)?b.current.outgoing[b.current.outgoing.length-1]===t&&(b.current.outgoing=[]):g(e)!==t&&(b.current.outgoing=[],v(),o&&a(o.selectionStart,o.selectionEnd,o.initialPosition))},[t,e]);const C=n.useRef(!1);n.useEffect(()=>{C.current?f||(b.current.outgoing=[],v()):C.current=!0},[f]),n.useEffect(()=>{const{getSelectedBlocksInitialCaretPosition:t,isLastBlockChangePersistent:n,__unstableIsLastBlockChangeIgnored:o,areInnerBlocksControlled:r}=i.select(y);let l=g(e),s=n(),a=!1;k.current=!0;const c=i.subscribe(()=>{if(null!==e&&null===p(e))return;if(!(!e||r(e)))return;const i=n(),c=g(e),u=c!==l;if(l=c,u&&(b.current.incoming||o()))return b.current.incoming=null,void(s=i);if(u||a&&!u&&i&&!s){s=i,b.current.outgoing.push(l);(s?_.current:x.current)(l,{selection:{selectionStart:m(),selectionEnd:h(),initialPosition:t()}})}a=u},y);return()=>{k.current=!1,c()}},[i,e]),n.useEffect(()=>()=>{d(),e?(u(e,!1),d(),c(e,[])):s([])},[])}function cm(){return null}cm.Register=function(){const{registerShortcut:e}=ld(rt);return n.useEffect(()=>{e({name:"core/block-editor/duplicate",category:"block",description:ao("Duplicate the selected block(s)."),keyCombination:{modifier:"primaryShift",character:"d"}}),e({name:"core/block-editor/remove",category:"block",description:ao("Remove the selected block(s)."),keyCombination:{modifier:"access",character:"z"}}),e({name:"core/block-editor/insert-before",category:"block",description:ao("Insert a new block before the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"t"}}),e({name:"core/block-editor/insert-after",category:"block",description:ao("Insert a new block after the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"y"}}),e({name:"core/block-editor/delete-multi-selection",category:"block",description:ao("Delete selection."),keyCombination:{character:"del"},aliases:[{character:"backspace"}]}),e({name:"core/block-editor/select-all",category:"selection",description:ao("Select all text when typing. Press again to select all blocks."),keyCombination:{modifier:"primary",character:"a"}}),e({name:"core/block-editor/unselect",category:"selection",description:ao("Clear selection."),keyCombination:{character:"escape"}}),e({name:"core/block-editor/multi-text-selection",category:"selection",description:ao("Select text across multiple blocks."),keyCombination:{modifier:"shift",character:"arrow"}}),e({name:"core/block-editor/focus-toolbar",category:"global",description:ao("Navigate to the nearest toolbar."),keyCombination:{modifier:"alt",character:"F10"}}),e({name:"core/block-editor/move-up",category:"block",description:ao("Move the selected block(s) up."),keyCombination:{modifier:"secondary",character:"t"}}),e({name:"core/block-editor/move-down",category:"block",description:ao("Move the selected block(s) down."),keyCombination:{modifier:"secondary",character:"y"}}),e({name:"core/block-editor/collapse-list-view",category:"list-view",description:ao("Collapse all other items."),keyCombination:{modifier:"alt",character:"l"}}),e({name:"core/block-editor/group",category:"block",description:ao("Create a group block from the selected multiple blocks."),keyCombination:{modifier:"primary",character:"g"}})},[e]),null};const um=im(e=>{const{children:t,settings:r,stripExperimentalSettings:l=!1}=e,{__experimentalUpdateSettings:i}=Id(ld(y));return n.useEffect(()=>{i({...r,__internalIsInitialized:!0},{stripExperimentalSettings:l,reset:!0})},[r,l,i]),am(e),o.jsxs(as,{passthrough:!0,children:[!r?.__unstableIsPreviewMode&&o.jsx(cm.Register,{}),o.jsx(_g,{children:t})]})}),dm=e=>o.jsx(um,{...e,stripExperimentalSettings:!0,children:e.children});function pm(){const{getSettings:e,hasSelectedBlock:t,hasMultiSelection:n}=od(y),{clearSelectedBlock:o}=ld(y),{clearBlockSelection:r}=e();return ci(e=>{if(r)return e.addEventListener("mousedown",l),()=>{e.removeEventListener("mousedown",l)};function l(r){(t()||n())&&r.target===e&&o()}},[t,n,o,r])}function gm(e){const{isMultiSelecting:t,getMultiSelectedBlockClientIds:n,hasMultiSelection:o,getSelectedBlockClientId:r,getSelectedBlocksInitialCaretPosition:l,__unstableIsFullySelected:i}=e(y);return{isMultiSelecting:t(),multiSelectedBlockClientIds:n(),hasMultiSelection:o(),selectedBlockClientId:r(),initialPosition:l(),isFullSelection:i()}}function mm(){const{initialPosition:e,isMultiSelecting:t,multiSelectedBlockClientIds:n,hasMultiSelection:o,selectedBlockClientId:r,isFullSelection:l}=od(gm,[]);return ci(r=>{const{ownerDocument:i}=r,{defaultView:s}=i;if(null==e)return;if(!o||t)return;const{length:a}=n;a<2||l&&(r.contentEditable=!0,r.focus(),s.getSelection().removeAllRanges())},[o,t,n,r,e,l])}function hm(e,t,n,o){let r,l=qe.focusable.find(n);return t&&l.reverse(),l=l.slice(l.indexOf(e)+1),o&&(r=e.getBoundingClientRect()),l.find(function(e){if(!(e.closest("[inert]")||1===e.children.length&&Po(e,e.firstElementChild)&&"true"===e.firstElementChild.getAttribute("contenteditable"))){if(!qe.tabbable.isTabbableIndex(e))return!1;if(e.isContentEditable&&"true"!==e.contentEditable)return!1;if(o){const t=e.getBoundingClientRect();if(t.left>=r.right||t.right<=r.left)return!1}return!0}})}function fm(){const{getMultiSelectedBlocksStartClientId:e,getMultiSelectedBlocksEndClientId:t,getSettings:n,hasMultiSelection:o,__unstableIsFullySelected:r}=od(y),{selectBlock:l}=ld(y);return ci(i=>{let s;function a(){s=null}function c(a){if(a.defaultPrevented)return;const{keyCode:c,target:u,shiftKey:d,ctrlKey:p,altKey:g,metaKey:m}=a,h=c===ig,f=37===c,b=h||f,k=f||39===c,v=h||c===sg,x=k||v,y=d||p||g||m,_=v?st:at,{ownerDocument:C}=i,{defaultView:j}=C;if(!x)return;if(o()){if(d)return;if(!r())return;return a.preventDefault(),void(b?l(e()):l(t(),-1))}if(!function(e,t,n){const o=t===ig||t===sg,{tagName:r}=e,l=e.getAttribute("type");if(o&&!n)return"INPUT"!==r||!["date","datetime-local","month","number","range","time","week"].includes(l);if("INPUT"===r)return["button","checkbox","number","color","file","image","radio","reset","submit"].includes(l);return"TEXTAREA"!==r}(u,c,y))return;v?s||(s=lt(j)):s=null;const S=it(u)?!b:b,{keepCaretInsideBlock:w}=n();if(d)(function(e,t){const n=hm(e,t,i);return n&&To(n)})(u,b)&&_(u,b)&&(i.contentEditable=!0,i.focus());else if(!v||!st(u,b)||g&&!at(u,S)||w){if(k&&j.getSelection().isCollapsed&&at(u,S)&&!w){const e=hm(u,S,i);Xe(e,b),a.preventDefault()}}else{const e=hm(u,b,i,!0);e&&(ct(e,g?!b:b,g?void 0:s),a.preventDefault())}}return i.addEventListener("mousedown",a),i.addEventListener("keydown",c),()=>{i.removeEventListener("mousedown",a),i.removeEventListener("keydown",c)}},[])}function bm(){const{getBlockOrder:e,getSelectedBlockClientIds:t,getBlockRootClientId:n}=od(y),{multiSelect:o,selectBlock:r}=ld(y),l=ut();return ci(i=>{function s(s){if(!l("core/block-editor/select-all",s))return;const a=t();if(a.length<2&&!dt(s.target))return;s.preventDefault();const[c]=a,u=n(c),d=e(u);a.length!==d.length?o(d[0],d[d.length-1]):u&&(i.ownerDocument.defaultView.getSelection().removeAllRanges(),r(u))}return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[])}function km(e,t){e.contentEditable=t,t&&e.focus()}function vm(){const{startMultiSelect:e,stopMultiSelect:t}=ld(y),{isSelectionEnabled:n,hasSelectedBlock:o,isDraggingBlocks:r,isMultiSelecting:l}=od(y);return ci(i=>{const{ownerDocument:s}=i,{defaultView:a}=s;let c,u;function d(){t(),a.removeEventListener("mouseup",d),u=a.requestAnimationFrame(()=>{if(!o())return;km(i,!1);const e=a.getSelection();if(e.rangeCount){const t=e.getRangeAt(0),{commonAncestorContainer:n}=t,o=t.cloneRange();c.contains(n)&&(c.focus(),e.removeAllRanges(),e.addRange(o))}})}function p({buttons:t,target:o,relatedTarget:s}){o.contains(s)||r()||1===t&&(l()||i!==o&&"true"===o.getAttribute("contenteditable")&&n()&&(c=o,e(),a.addEventListener("mouseup",d),km(i,!0)))}return i.addEventListener("mouseout",p),()=>{i.removeEventListener("mouseout",p),a.removeEventListener("mouseup",d),a.cancelAnimationFrame(u)}},[e,t,n,o])}function xm(e,t){e.contentEditable!==String(t)&&(e.contentEditable=t)}function ym(e){const t=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;return t?.closest("[data-wp-block-attribute-key]")}function _m(){const{multiSelect:e,selectBlock:t,selectionChange:n}=ld(y),{getBlockParents:o,getBlockSelectionStart:r,isMultiSelecting:l}=od(y);return ci(i=>{const{ownerDocument:s}=i,{defaultView:a}=s;function c(s){const c=a.getSelection();if(!c.rangeCount)return;const u=function(e){const{anchorNode:t,anchorOffset:n}=e;return t.nodeType===t.TEXT_NODE||0===n?t:t.childNodes[n-1]}(c),d=function(e){const{focusNode:t,focusOffset:n}=e;return t.nodeType===t.TEXT_NODE||n===t.childNodes.length?t:0===n&&gt(e)?null!==(o=t.previousSibling)&&void 0!==o?o:t.parentElement:t.childNodes[n];var o}(c);if(!i.contains(u)||!i.contains(d))return;const p=s.shiftKey&&"mouseup"===s.type;if(c.isCollapsed&&!p){if("true"===i.contentEditable&&!l()){xm(i,!1);let e=u.nodeType===u.ELEMENT_NODE?u:u.parentElement;e=e?.closest("[contenteditable]"),e?.focus()}return}let g=To(u),m=To(d);if(p){const e=r(),t=To(s.target),n=t!==m;(g===m&&c.isCollapsed||!m||n)&&(m=t),g!==e&&(g=e)}if(void 0===g&&void 0===m)return void xm(i,!1);if(g===m)l()?e(g,g):t(g);else{const t=[...o(g),g],r=[...o(m),m],l=function(e,t){let n=0;for(;e[n]===t[n];)n++;return n}(t,r);if(t[l]!==g||r[l]!==m)return void e(t[l],r[l]);const i=ym(u),s=ym(d);if(i&&s){var h,f;const e=c.getRangeAt(0),t=pt({element:i,range:e,__unstableIsEditableTree:!0}),o=pt({element:s,range:e,__unstableIsEditableTree:!0}),r=null!==(h=t.start)&&void 0!==h?h:t.end,l=null!==(f=o.start)&&void 0!==f?f:o.end;n({start:{clientId:g,attributeKey:i.dataset.wpBlockAttributeKey,offset:r},end:{clientId:m,attributeKey:s.dataset.wpBlockAttributeKey,offset:l}})}else e(g,m)}}return s.addEventListener("selectionchange",c),a.addEventListener("mouseup",c),()=>{s.removeEventListener("selectionchange",c),a.removeEventListener("mouseup",c)}},[e,t,n,o])}function Cm(){const{selectBlock:e}=ld(y),{isSelectionEnabled:t,getBlockSelectionStart:n,hasMultiSelection:o}=od(y);return ci(r=>{function l(l){if(!t()||0!==l.button)return;const i=n(),s=To(l.target);l.shiftKey?i!==s&&(r.contentEditable=!0,r.focus()):o()&&e(s)}return r.addEventListener("mousedown",l),()=>{r.removeEventListener("mousedown",l)}},[e,t,n,o])}function jm(){const{__unstableIsFullySelected:e,getSelectedBlockClientIds:t,getSelectedBlockClientId:n,__unstableIsSelectionMergeable:o,hasMultiSelection:r,getBlockName:l,canInsertBlockType:i,getBlockRootClientId:s,getSelectionStart:a,getSelectionEnd:c,getBlockAttributes:u}=od(y),{replaceBlocks:d,__unstableSplitSelection:p,removeBlocks:g,__unstableDeleteSelection:m,__unstableExpandSelection:h,__unstableMarkAutomaticChange:f}=ld(y);return ci(b=>{function k(e){"true"===b.contentEditable&&e.preventDefault()}function v(k){if(!k.defaultPrevented)if(r())k.keyCode===lg?(b.contentEditable=!1,k.preventDefault(),e()?d(t(),L(A())):p()):k.keyCode===rg||k.keyCode===ag?(b.contentEditable=!1,k.preventDefault(),e()?g(t()):o()?m(k.keyCode===ag):h()):1!==k.key.length||k.metaKey||k.ctrlKey||(b.contentEditable=!1,o()?m(k.keyCode===ag):(k.preventDefault(),b.ownerDocument.defaultView.getSelection().removeAllRanges()));else if(k.keyCode===lg){if(k.shiftKey||e())return;const t=n(),o=l(t),r=a(),g=c();if(r.attributeKey===g.attributeKey){const e=u(t)[r.attributeKey],n=ee("from").filter(({type:e})=>"enter"===e),o=te(n,t=>t.regExp.test(e));if(o)return d(t,o.transform({content:e})),void f()}if(!P(o,"splitting",!1)&&!k.__deprecatedOnSplit)return;i(o,s(t))&&(p(),k.preventDefault())}}function x(e){r()&&(b.contentEditable=!1,o()?m():(e.preventDefault(),b.ownerDocument.defaultView.getSelection().removeAllRanges()))}return b.addEventListener("beforeinput",k),b.addEventListener("keydown",v),b.addEventListener("compositionstart",x),()=>{b.removeEventListener("beforeinput",k),b.removeEventListener("keydown",v),b.removeEventListener("compositionstart",x)}},[])}function Sm(){const e=Yu(),{getBlocksByClientId:t,getSelectedBlockClientIds:n,hasMultiSelection:o,getSettings:r,getBlockName:l,__unstableIsFullySelected:i,__unstableIsSelectionCollapsed:s,__unstableIsSelectionMergeable:a,__unstableGetSelectedBlocksWithPartialSelection:c,canInsertBlockType:u,getBlockRootClientId:d}=od(y),{flashBlock:p,removeBlocks:g,replaceBlocks:m,__unstableDeleteSelection:h,__unstableExpandSelection:f,__unstableSplitSelection:b}=ld(y),k=Mo();return ci(v=>{function x(x){if(x.defaultPrevented)return;const y=n();if(0===y.length)return;if(!o()){const{target:e}=x,{ownerDocument:t}=e;if("copy"===x.type||"cut"===x.type?mt(t):ht(t)&&!t.activeElement.isContentEditable)return}const{activeElement:_}=x.target.ownerDocument;if(!v.contains(_))return;const C=a(),j=s()||i(),S=!j&&!C;if("copy"===x.type||"cut"===x.type)if(x.preventDefault(),1===y.length&&p(y[0]),S)f();else{let n;if(k(x.type,y),j)n=t(y);else{const[e,o]=c();n=[e,...t(y.slice(1,y.length-1)),o]}Lo(x,n,e)}if("cut"===x.type)j&&!S?g(y):(x.target.ownerDocument.activeElement.contentEditable=!1,h());else if("paste"===x.type){const{__experimentalCanUserUseUnfilteredHTML:e}=r();if("true"===x.clipboardData.getData("rich-text"))return;const{plainText:t,html:n,files:s}=Ro(x),a=i();let c=[];if(s.length){const e=ee("from");c=s.reduce((t,n)=>{const o=te(e,e=>"files"===e.type&&e.isMatch([n]));return o&&t.push(o.transform([n])),t},[]).flat()}else c=ne({HTML:n,plainText:t,mode:a?"BLOCKS":"AUTO"});if("string"==typeof c)return;if(a)return m(y,c,c.length-1,-1),void x.preventDefault();if(!o()&&!P(l(y[0]),"splitting",!1)&&!x.__deprecatedOnSplit)return;const[p]=y,g=d(p),h=[];for(const o of c)if(u(o.name,g))h.push(o);else{const e=l(g),t=o.name!==e?X(o,e):[o];if(!t)return;for(const n of t)for(const e of n.innerBlocks)h.push(e)}b(h),x.preventDefault()}}return v.ownerDocument.addEventListener("copy",x),v.ownerDocument.addEventListener("cut",x),v.ownerDocument.addEventListener("paste",x),()=>{v.ownerDocument.removeEventListener("copy",x),v.ownerDocument.removeEventListener("cut",x),v.ownerDocument.removeEventListener("paste",x)}},[])}function wm(){const[e,t,r]=function(){const e=n.useRef(),t=n.useRef(),r=n.useRef(),{hasMultiSelection:l,getSelectedBlockClientId:i,getBlockCount:s}=od(y),{setLastFocus:a}=Id(ld(y)),{getLastFocus:c}=Id(od(y)),u=n.useRef();function d(t){if(u.current)u.current=null;else if(l())e.current.focus();else if(i())c()?.current?c().current.focus():e.current.querySelector(`[data-block="${i()}"]`).focus();else{const n=e.current.ownerDocument===t.target.ownerDocument?e.current:e.current.ownerDocument.defaultView.frameElement,o=t.target.compareDocumentPosition(n)&t.target.DOCUMENT_POSITION_FOLLOWING,r=qe.tabbable.find(e.current);r.length&&(o?r[0]:r[r.length-1]).focus()}}const p=o.jsx("div",{ref:t,tabIndex:"0",onFocus:d}),g=o.jsx("div",{ref:r,tabIndex:"0",onFocus:d}),m=ci(n=>{function o(e){if(e.defaultPrevented)return;if(9!==e.keyCode)return;const n=e.shiftKey,o=n?"findPrevious":"findNext",l=qe.tabbable[o](e.target),i=e.target.closest("[data-block]"),s=i&&l&&(Po(i,l)||Eo(i,l));if(Ye(l)&&s)return;const a=n?t:r;u.current=!0,a.current.focus({preventScroll:!0})}function l(e){a({...c(),current:e.target});const{ownerDocument:t}=n;e.relatedTarget||t.activeElement!==t.body||0!==s()||n.focus()}function i(n){if(9!==n.keyCode)return;if("region"===n.target?.getAttribute("role"))return;if(e.current===n.target)return;const o=n.shiftKey?"findPrevious":"findNext",l=qe.tabbable[o](n.target);l!==t.current&&l!==r.current||(n.preventDefault(),l.focus({preventScroll:!0}))}const{ownerDocument:d}=n,{defaultView:p}=d;return p.addEventListener("keydown",i),n.addEventListener("keydown",o),n.addEventListener("focusout",l),()=>{p.removeEventListener("keydown",i),n.removeEventListener("keydown",o),n.removeEventListener("focusout",l)}},[]);return[p,di([e,m]),g]}(),l=od(e=>e(y).hasMultiSelection(),[]);return[e,di([t,Sm(),jm(),vm(),_m(),Cm(),mm(),bm(),fm(),ci(e=>{if(e.tabIndex=0,l)return e.classList.add("has-multi-selection"),e.setAttribute("aria-label",ao("Multiple selected blocks")),()=>{e.classList.remove("has-multi-selection"),e.removeAttribute("aria-label")}},[l])]),r]}const Im=n.forwardRef(function({children:e,...t},n){const[r,l,i]=wm();return o.jsxs(o.Fragment,{children:[r,o.jsx("div",{...t,ref:di([l,n]),className:ei(t.className,"block-editor-writing-flow"),children:e}),i]})});let Bm=null;function Nm(e,t,n){const o={};for(const l in e)o[l]=e[l];if(e instanceof n.contentDocument.defaultView.MouseEvent){const e=n.getBoundingClientRect();o.clientX+=e.left,o.clientY+=e.top}const r=new t(e.type,o);o.defaultPrevented&&r.preventDefault();!n.dispatchEvent(r)&&e.preventDefault()}function Em(e){return ci(()=>{const{defaultView:t}=e;if(!t)return;const{frameElement:n}=t,o=e.documentElement,r=["dragover","mousemove"],l={};for(const e of r)l[e]=e=>{const t=Object.getPrototypeOf(e).constructor.name;Nm(e,window[t],n)},o.addEventListener(e,l[e]);return()=>{for(const e of r)o.removeEventListener(e,l[e])}})}function Dm({contentRef:e,children:t,tabIndex:r=0,scale:l=1,frameSize:i=0,readonly:s,forwardedRef:a,title:c=ao("Editor canvas"),...u}){const{resolvedAssets:d,isPreviewMode:p}=od(e=>{const{getSettings:t}=e(y),n=t();return{resolvedAssets:n.__unstableResolvedAssets,isPreviewMode:n.__unstableIsPreviewMode}},[]),{styles:g="",scripts:m=""}=d,[f,b]=n.useState(),k=n.useRef(),[v,x]=n.useState([]),_=pm(),[C,j,S]=wm(),[w,{height:I}]=gi(),[B,{width:N}]=gi(),E=ci(e=>{let t;function n(e){e.preventDefault()}function o(){const{contentDocument:o,ownerDocument:r}=e,{documentElement:l}=o;t=o,l.classList.add("block-editor-iframe__html"),_(l),x(Array.from(r.body.classList).filter(e=>e.startsWith("admin-color-")||e.startsWith("post-type-")||"wp-embed-responsive"===e)),o.dir=r.dir;for(const e of Bm||(Bm=Array.from(document.styleSheets).reduce((e,t)=>{try{t.cssRules}catch(Nc){return e}const{ownerNode:n,cssRules:o}=t;if(null===n)return e;if(!o)return e;if(["wp-reset-editor-styles-css","wp-reset-editor-styles-rtl-css"].includes(n.id))return e;if(!n.id)return e;if(function e(t){return Array.from(t).find(({selectorText:t,conditionText:n,cssRules:o})=>n?e(o):t&&(t.includes(".editor-styles-wrapper")||t.includes(".wp-block")))}(o)){const t="STYLE"===n.tagName;if(t){const t=n.id.replace("-inline-css","-css"),o=document.getElementById(t);o&&e.push(o.cloneNode(!0))}if(e.push(n.cloneNode(!0)),!t){const t=n.id.replace("-css","-inline-css"),o=document.getElementById(t);o&&e.push(o.cloneNode(!0))}}return e},[]),Bm))o.getElementById(e.id)||o.head.appendChild(e.cloneNode(!0));t.addEventListener("dragover",n,!1),t.addEventListener("drop",n,!1)}return e._load=()=>{b(e.contentDocument)},e.addEventListener("load",o),()=>{delete e._load,e.removeEventListener("load",o),t?.removeEventListener("dragover",n),t?.removeEventListener("drop",n)}},[]),[D,P]=n.useState(),T=ci(e=>{const t=e.ownerDocument.defaultView;P(t.innerHeight);const n=()=>{P(t.innerHeight)};return t.addEventListener("resize",n),()=>{t.removeEventListener("resize",n)}},[]),[M,L]=n.useState(),R=ci(e=>{const t=e.ownerDocument.defaultView;L(t.innerWidth);const n=()=>{L(t.innerWidth)};return t.addEventListener("resize",n),()=>{t.removeEventListener("resize",n)}},[]),A=1!==l;n.useEffect(()=>{A||(k.current=N)},[N,A]);const O=pi({isDisabled:!s}),z=di([Em(f),e,_,j,O,A?T:null]),F=`<!doctype html>\n<html>\n\t<head>\n\t\t<meta charset="utf-8">\n\t\t<script>window.frameElement._load()<\/script>\n\t\t<style>\n\t\t\thtml{\n\t\t\t\theight: auto !important;\n\t\t\t\tmin-height: 100%;\n\t\t\t}\n\t\t\t/* Lowest specificity to not override global styles */\n\t\t\t:where(body) {\n\t\t\t\tmargin: 0;\n\t\t\t\t/* Default background color in case zoom out mode background\n\t\t\t\tcolors the html element */\n\t\t\t\tbackground-color: white;\n\t\t\t}\n\t\t</style>\n\t\t${g}\n\t\t${m}\n\t</head>\n\t<body>\n\t\t<script>document.currentScript.parentElement.remove()<\/script>\n\t</body>\n</html>`,[V,$]=n.useMemo(()=>{const e=URL.createObjectURL(new window.Blob([F],{type:"text/html"}));return[e,()=>URL.revokeObjectURL(e)]},[F]);n.useEffect(()=>$,[$]),n.useEffect(()=>{if(!f||!A)return;f.documentElement.classList.add("is-zoomed-out");return f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-scale","default"===l?Math.min(N,750)/k.current:l),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-frame-size","number"==typeof i?`${i}px`:i),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-content-height",`${I}px`),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-inner-height",`${D}px`),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-container-width",`${N}px`),f.documentElement.style.setProperty("--wp-block-editor-iframe-zoom-out-prev-container-width",`${k.current}px`),()=>{f.documentElement.classList.remove("is-zoomed-out"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-scale"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-frame-size"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-content-height"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-inner-height"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-container-width"),f.documentElement.style.removeProperty("--wp-block-editor-iframe-zoom-out-prev-container-width")}},[l,i,f,D,I,N,M,A]);const H=r>=0&&!p,U=o.jsxs(o.Fragment,{children:[H&&C,o.jsx("iframe",{...u,style:{...u.style,height:u.style?.height},ref:di([a,E]),tabIndex:r,src:V,title:c,onKeyDown:e=>{if(u.onKeyDown&&u.onKeyDown(e),e.currentTarget.ownerDocument!==e.target.ownerDocument){const{stopPropagation:t}=e.nativeEvent;e.nativeEvent.stopPropagation=()=>{},e.stopPropagation(),e.nativeEvent.stopPropagation=t,Nm(e,window.KeyboardEvent,e.currentTarget)}},children:f&&h.createPortal(o.jsxs("body",{ref:z,className:ei("block-editor-iframe__body","editor-styles-wrapper",...v),children:[w,o.jsx(cs,{document:f,children:t})]}),f.documentElement)}),H&&S]});return o.jsxs("div",{className:"block-editor-iframe__container",ref:R,children:[B,o.jsx("div",{className:ei("block-editor-iframe__scale-container",A&&"is-zoomed-out"),style:{"--wp-block-editor-iframe-zoom-out-container-width":A&&`${N}px`,"--wp-block-editor-iframe-zoom-out-prev-container-width":A&&`${k.current}px`},children:U})]})}const Pm=n.forwardRef(function(e,t){const n=od(e=>e(y).getSettings().__internalIsInitialized,[]);return n?o.jsx(Dm,{...e,forwardedRef:t}):null});function Tm(e,t){return n.useCallback(e=>{if(!e)return;const{ownerDocument:n}=e,{defaultView:o,body:r}=n,l=t?n.querySelector(t):r;let i;if(l)i=o?.getComputedStyle(l,null).getPropertyValue("background-color");else{const e=n.createElement("div");e.classList.add("editor-styles-wrapper"),r.appendChild(e),i=o?.getComputedStyle(e,null).getPropertyValue("background-color"),r.removeChild(e)}const s=Xc(i);s.luminance()>.5||0===s.alpha()?r.classList.remove("is-dark-theme"):r.classList.add("is-dark-theme")},[e,t])}Qc([eu,ou]);const Mm=n.memo(function({styles:e,scope:t,transformOptions:r}){const l=od(e=>Id(e(y)).getStyleOverrides(),[]),[i,s]=n.useMemo(()=>{const n=Object.values(null!=e?e:[]);for(const[e,t]of l){const o=n.findIndex(({id:t})=>e===t),r={...t,id:e};-1===o?n.push(r):n[o]=r}return[Ao(n.filter(e=>e?.css),t,r),n.filter(e=>"svgs"===e.__unstableType).map(e=>e.assets).join("")]},[e,l,t,r]);return o.jsxs(o.Fragment,{children:[o.jsx("style",{ref:Tm(i,t)}),i.map((e,t)=>o.jsx("style",{children:e},t)),o.jsx(ft,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 0 0",width:"0",height:"0",role:"none",style:{visibility:"hidden",position:"absolute",left:"-9999px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:s}})]})});let Lm;const Rm=2e3,Am=[];function Om({viewportWidth:e,containerWidth:t,minHeight:r,additionalStyles:l=Am}){e||(e=t);const[i,{height:s}]=gi(),{styles:a}=od(e=>({styles:e(y).getSettings().styles}),[]),c=n.useMemo(()=>a?[...a,{css:"body{height:auto;overflow:hidden;border:none;padding:0;}",__unstableType:"presets"},...l]:a,[a,l]);Lm=Lm||n.memo(Uf);const u=t/e,d=s?t/(s*u):0;return o.jsx(us,{className:"block-editor-block-preview__content",style:{transform:`scale(${u})`,aspectRatio:d,maxHeight:s>Rm?Rm*u:void 0,minHeight:r},children:o.jsxs(Pm,{contentRef:ci(e=>{const{ownerDocument:{documentElement:t}}=e;t.classList.add("block-editor-block-preview__content-iframe"),t.style.position="absolute",t.style.width="100%",e.style.boxSizing="border-box",e.style.position="absolute",e.style.width="100%"},[]),"aria-hidden":!0,tabIndex:-1,style:{position:"absolute",width:e,height:s,pointerEvents:"none",maxHeight:Rm,minHeight:0!==u&&u<1&&r?r/u:r},children:[o.jsx(Mm,{styles:c}),i,o.jsx(Lm,{renderAppender:!1})]})})}function zm(e){const[t,{width:n}]=gi();return o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{position:"relative",width:"100%",height:0},children:t}),o.jsx("div",{className:"block-editor-block-preview__container",children:!!n&&o.jsx(Om,{...e,containerWidth:n})})]})}const Fm=[];const Vm=n.memo(function({blocks:e,viewportWidth:t=1200,minHeight:r,additionalStyles:l=Fm,__experimentalMinHeight:i,__experimentalPadding:s}){i&&(r=i,be("The __experimentalMinHeight prop",{since:"6.2",version:"6.4",alternative:"minHeight"})),s&&(l=[...l,{css:`body { padding: ${s}px; }`}],be("The __experimentalPadding prop of BlockPreview",{since:"6.2",version:"6.4",alternative:"additionalStyles"}));const a=od(e=>e(y).getSettings(),[]),c=n.useMemo(()=>({...a,focusMode:!1,__unstableIsPreviewMode:!0}),[a]),u=n.useMemo(()=>Array.isArray(e)?e:[e],[e]);return e&&0!==e.length?o.jsx(um,{value:u,settings:c,children:o.jsx(zm,{viewportWidth:t,minHeight:r,additionalStyles:l})}):null});function $m({item:e}){var t;const{name:r,title:l,icon:i,description:s,initialAttributes:a,example:c}=e,u=K(e),d=n.useMemo(()=>c?oe(r,{attributes:{...c.attributes,...a},innerBlocks:c.innerBlocks}):L(r,a),[r,c,a]),p=144,g=null!==(t=c?.viewportWidth)&&void 0!==t?t:500,m=280/g,h=0!==m&&m<1?p/m:p;return o.jsxs("div",{className:"block-editor-inserter__preview-container",children:[o.jsx("div",{className:"block-editor-inserter__preview",children:u||c?o.jsx("div",{className:"block-editor-inserter__preview-content",children:o.jsx(Vm,{blocks:d,viewportWidth:g,minHeight:p,additionalStyles:[{css:`\n\t\t\t\t\t\t\t\t\t\tbody { \n\t\t\t\t\t\t\t\t\t\t\tpadding: 24px;\n\t\t\t\t\t\t\t\t\t\t\tmin-height:${Math.round(h)}px;\n\t\t\t\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t.is-root-container { width: 100%; }\n\t\t\t\t\t\t\t\t\t`}]})}):o.jsx("div",{className:"block-editor-inserter__preview-content-missing",children:ao("No preview available.")})}),!u&&o.jsx(lm,{title:l,icon:i,description:s})]})}const Hm=n.forwardRef(function(e,t){const[r,l]=n.useState(!1);return n.useEffect(()=>{r&&bt(ao("Use left and right arrow keys to move through blocks"))},[r]),o.jsx("div",{ref:t,role:"listbox","aria-orientation":"horizontal",onFocus:()=>{l(!0)},onBlur:e=>{!e.currentTarget.contains(e.relatedTarget)&&l(!1)},...e})});const Um=n.forwardRef(function(e,t){return o.jsx(ds.Group,{role:"presentation",ref:t,...e})});const Gm=n.forwardRef(function({isFirst:e,as:t,children:n,...r},l){return o.jsx(ds.Item,{ref:l,role:"option",accessibleWhenDisabled:!0,...r,render:r=>{const l={...r,tabIndex:e?0:r.tabIndex};return t?o.jsx(t,{...l,children:n}):"function"==typeof n?n(l):o.jsx(Mi,{__next40pxDefaultSize:!0,...l,children:n})}})});function Wm({children:e}){return o.jsx(ds,{focusShift:!0,focusWrap:"horizontal",render:o.jsx(o.Fragment,{}),children:e})}function Km({count:e,icon:t,isPattern:n,fadeWhenDisabled:r}){const l=n&&ao("Pattern");return o.jsx("div",{className:"block-editor-block-draggable-chip-wrapper",children:o.jsx("div",{className:"block-editor-block-draggable-chip","data-testid":"block-draggable-chip",children:o.jsxs($i,{justify:"center",className:"block-editor-block-draggable-chip__content",children:[o.jsx(Hi,{children:t?o.jsx(gp,{icon:t}):l||po(go("%d block","%d blocks",e),e)}),o.jsx(Hi,{children:o.jsx(gp,{icon:kt})}),r&&o.jsx(Hi,{className:"block-editor-block-draggable-chip__disabled",children:o.jsx("span",{className:"block-editor-block-draggable-chip__disabled-icon"})})]})})})}const qm=({isEnabled:e,blocks:t,icon:n,children:r,pattern:l})=>{const i={type:"inserter",blocks:t},s=od(e=>{const{getBlockType:n}=e(z);return 1===t.length&&n(t[0].name)?.icon},[t]),{startDragging:a,stopDragging:c}=Id(ld(y));return e?o.jsx(ps,{__experimentalTransferDataType:"wp-blocks",transferData:i,onDragStart:e=>{a();const n=l?.type===Oo.user&&"unsynced"!==l?.syncStatus?[L("core/block",{ref:l.id})]:t;e.dataTransfer.setData("text/html",re(n))},onDragEnd:()=>{c()},__experimentalDragComponent:o.jsx(Km,{count:t.length,icon:n||!l&&s,isPattern:!!l}),children:({onDraggableStart:e,onDraggableEnd:t})=>r({draggable:!0,onDragStart:e,onDragEnd:t})}):r({draggable:!1,onDragStart:void 0,onDragEnd:void 0})};const Zm=n.memo(function({className:e,isFirst:t,item:r,onSelect:l,onHover:i,isDraggable:s,...a}){const c=n.useRef(!1),u=r.icon?{backgroundColor:r.icon.background,color:r.icon.foreground}:{},d=n.useMemo(()=>[L(r.name,r.initialAttributes,R(r.innerBlocks))],[r.name,r.initialAttributes,r.innerBlocks]),p=K(r)&&"unsynced"!==r.syncStatus||le(r);return o.jsx(qm,{isEnabled:s&&!r.isDisabled,blocks:d,icon:r.icon,children:({draggable:n,onDragStart:s,onDragEnd:d})=>o.jsx("div",{className:ei("block-editor-block-types-list__list-item",{"is-synced":p}),draggable:n,onDragStart:e=>{c.current=!0,s&&(i(null),s(e))},onDragEnd:e=>{c.current=!1,d&&d(e)},children:o.jsxs(Gm,{isFirst:t,className:ei("block-editor-block-types-list__item",e),disabled:r.isDisabled,onClick:e=>{e.preventDefault(),l(r,og()?e.metaKey:e.ctrlKey),i(null)},onKeyDown:e=>{const{keyCode:t}=e;t===lg&&(e.preventDefault(),l(r,og()?e.metaKey:e.ctrlKey),i(null))},onMouseEnter:()=>{c.current||i(r)},onMouseLeave:()=>i(null),...a,children:[o.jsx("span",{className:"block-editor-block-types-list__item-icon",style:u,children:o.jsx(gp,{icon:r.icon,showColors:!0})}),o.jsx("span",{className:"block-editor-block-types-list__item-title",children:o.jsx(gs,{numberOfLines:3,children:r.title})})]})})})});function Ym(e,t){const n=[];for(let o=0,r=e.length;o<r;o+=t)n.push(e.slice(o,o+t));return n}function Xm({items:e=[],onSelect:t,onHover:n=()=>{},children:r,label:l,isDraggable:i=!0}){const s="block-editor-block-types-list",a=mi(Xm,s);return o.jsxs(Hm,{className:s,"aria-label":l,children:[Ym(e,3).map((e,r)=>o.jsx(Um,{children:e.map((e,l)=>o.jsx(Zm,{item:e,className:ie(e.id),onSelect:t,onHover:n,isDraggable:i&&!e.isDisabled,isFirst:0===r&&0===l,rowId:`${a}-${r}`},e.id))},r)),r]})}function Jm({title:e,icon:t,children:n}){return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"block-editor-inserter__panel-header",children:[o.jsx("h2",{className:"block-editor-inserter__panel-title",children:e}),o.jsx(zi,{icon:t})]}),o.jsx("div",{className:"block-editor-inserter__panel-content",children:n})]})}function Qm(){return o.jsxs("div",{className:"block-editor-inserter__no-results",children:[o.jsx(we,{className:"block-editor-inserter__no-results-icon",icon:je}),o.jsx("p",{children:ao("No results found.")})]})}const eh=[];function th({items:e,collections:t,categories:r,onSelectItem:l,onHover:i,showMostUsedBlocks:s,className:a}){const c=n.useMemo(()=>Co(e,"frecency","desc").slice(0,6),[e]),u=n.useMemo(()=>e.filter(e=>!e.category),[e]),d=n.useMemo(()=>{const n={...t};return Object.keys(t).forEach(t=>{n[t]=e.filter(e=>(e=>e.name.split("/")[0])(e)===t),0===n[t].length&&delete n[t]}),n},[e,t]);n.useEffect(()=>()=>i(null),[]);const p=hi(r),g=r.length===p.length,m=n.useMemo(()=>Object.entries(t),[t]),h=hi(g?m:eh);return o.jsxs("div",{className:a,children:[s&&e.length>3&&!!c.length&&o.jsx(Jm,{title:uo("Most used","blocks"),children:o.jsx(Xm,{items:c,onSelect:l,onHover:i,label:uo("Most used","blocks")})}),p.map(t=>{const n=e.filter(e=>e.category===t.slug);return n&&n.length?o.jsx(Jm,{title:t.title,icon:t.icon,children:o.jsx(Xm,{items:n,onSelect:l,onHover:i,label:t.title})},t.slug):null}),g&&u.length>0&&o.jsx(Jm,{className:"block-editor-inserter__uncategorized-blocks-panel",title:ao("Uncategorized"),children:o.jsx(Xm,{items:u,onSelect:l,onHover:i,label:ao("Uncategorized")})}),h.map(([e,t])=>{const n=d[e];return n&&n.length?o.jsx(Jm,{title:t.title,icon:t.icon,children:o.jsx(Xm,{items:n,onSelect:l,onHover:i,label:t.title})},e):null})]})}const nh=n.forwardRef(function({rootClientId:e,onInsert:t,onHover:n,showMostUsedBlocks:r},l){const[i,s,a,c]=yo(e,t);if(!i.length)return o.jsx(Qm,{});const u=[],d=[];for(const o of i)"reusable"!==o.category&&(e&&o.isAllowedInCurrentRoot?u.push(o):d.push(o));return o.jsx(Wm,{children:o.jsxs("div",{ref:l,children:[!!u.length&&o.jsx(o.Fragment,{children:o.jsx(th,{items:u,categories:s,collections:a,onSelectItem:c,onHover:n,showMostUsedBlocks:r,className:"block-editor-inserter__insertable-blocks-at-selection"})}),o.jsx(th,{items:d,categories:s,collections:a,onSelectItem:c,onHover:n,showMostUsedBlocks:r,className:"block-editor-inserter__all-blocks"})]})})});function oh({selectedCategory:e,patternCategories:t,onClickCategory:n}){const r="block-editor-block-patterns-explorer__sidebar";return o.jsx("div",{className:`${r}__categories-list`,children:t.map(({name:t,label:l})=>o.jsx(Mi,{__next40pxDefaultSize:!0,label:l,className:`${r}__categories-list__item`,isPressed:e===t,onClick:()=>{n(t)},children:l},t))})}function rh({searchValue:e,setSearchValue:t}){return o.jsx("div",{className:"block-editor-block-patterns-explorer__search",children:o.jsx(ms,{__nextHasNoMarginBottom:!0,onChange:t,value:e,label:ao("Search for patterns"),placeholder:ao("Search")})})}function lh({selectedCategory:e,patternCategories:t,onClickCategory:n,searchValue:r,setSearchValue:l}){return o.jsxs("div",{className:"block-editor-block-patterns-explorer__sidebar",children:[o.jsx(rh,{searchValue:r,setSearchValue:l}),!r&&o.jsx(oh,{selectedCategory:e,patternCategories:t,onClickCategory:n})]})}function ih({currentPage:e,numPages:t,changePage:n,totalItems:r}){return o.jsxs(qi,{className:"block-editor-patterns__grid-pagination-wrapper",children:[o.jsx(ss,{variant:"muted",children:po(go("%s item","%s items",r),r)}),t>1&&o.jsxs(hs,{expanded:!1,spacing:3,justify:"flex-start",className:"block-editor-patterns__grid-pagination",children:[o.jsxs(hs,{expanded:!1,spacing:1,className:"block-editor-patterns__grid-pagination-previous",children:[o.jsx(Mi,{variant:"tertiary",onClick:()=>n(1),disabled:1===e,"aria-label":ao("First page"),size:"compact",accessibleWhenDisabled:!0,className:"block-editor-patterns__grid-pagination-button",children:o.jsx("span",{children:"«"})}),o.jsx(Mi,{variant:"tertiary",onClick:()=>n(e-1),disabled:1===e,"aria-label":ao("Previous page"),size:"compact",accessibleWhenDisabled:!0,className:"block-editor-patterns__grid-pagination-button",children:o.jsx("span",{children:"‹"})})]}),o.jsx(ss,{variant:"muted",children:po(uo("%1$s of %2$s","paging"),e,t)}),o.jsxs(hs,{expanded:!1,spacing:1,className:"block-editor-patterns__grid-pagination-next",children:[o.jsx(Mi,{variant:"tertiary",onClick:()=>n(e+1),disabled:e===t,"aria-label":ao("Next page"),size:"compact",accessibleWhenDisabled:!0,className:"block-editor-patterns__grid-pagination-button",children:o.jsx("span",{children:"›"})}),o.jsx(Mi,{variant:"tertiary",onClick:()=>n(t),disabled:e===t,"aria-label":ao("Last page"),size:"compact",accessibleWhenDisabled:!0,className:"block-editor-patterns__grid-pagination-button",children:o.jsx("span",{children:"»"})})]})]})]})}const sh=({showTooltip:e,title:t,children:n})=>e?o.jsx(bs,{text:t,children:n}):o.jsx(o.Fragment,{children:n});function ah({id:e,isDraggable:t,pattern:r,onClick:l,onHover:i,showTitle:s=!0,showTooltip:a,category:c}){const[u,d]=n.useState(!1),{blocks:p,viewportWidth:g}=r,m=`block-editor-block-patterns-list__item-description-${mi(ah)}`,h=n.useMemo(()=>c&&t?(null!=p?p:[]).map(e=>{const t=Q(e);return t.attributes.metadata?.categories?.includes(c)&&(t.attributes.metadata.categories=[c]),t}):p,[p,t,c]);return o.jsx(qm,{isEnabled:t,blocks:h,pattern:r,children:({draggable:t,onDragStart:n,onDragEnd:c})=>o.jsx("div",{className:"block-editor-block-patterns-list__list-item",draggable:t,onDragStart:e=>{d(!0),n&&(i?.(null),n(e))},onDragEnd:e=>{d(!1),c&&c(e)},children:o.jsx(sh,{showTooltip:a&&!r.type!==Oo.user,title:r.title,children:o.jsxs(ds.Item,{render:o.jsx("div",{role:"option","aria-label":r.title,"aria-describedby":r.description?m:void 0,className:ei("block-editor-block-patterns-list__item",{"block-editor-block-patterns-list__list-item-synced":r.type===Oo.user&&!r.syncStatus})}),id:e,onClick:()=>{l(r,p),i?.(null)},onMouseEnter:()=>{u||i?.(r)},onMouseLeave:()=>i?.(null),children:[o.jsx(Vm,{blocks:p,viewportWidth:g}),s&&o.jsxs(hs,{className:"block-editor-patterns__pattern-details",spacing:2,children:[r.type===Oo.user&&!r.syncStatus&&o.jsx("div",{className:"block-editor-patterns__pattern-icon-wrapper",children:o.jsx(we,{className:"block-editor-patterns__pattern-icon",icon:vt})}),(!a||r.type===Oo.user)&&o.jsx("div",{className:"block-editor-block-patterns-list__item-title",children:r.title})]}),!!r.description&&o.jsx(fs,{id:m,children:r.description})]})})})})}function ch(){return o.jsx("div",{className:"block-editor-block-patterns-list__item is-placeholder"})}const uh=n.forwardRef(function({isDraggable:e,blockPatterns:t,shownPatterns:r,onHover:l,onClickPattern:i,orientation:s,label:a=ao("Block patterns"),category:c,showTitle:u=!0,showTitlesAsTooltip:d,pagingProps:p},g){const[m,h]=n.useState(void 0);return n.useEffect(()=>{const e=t.find(e=>r.includes(e))?.name;h(e)},[r,t]),o.jsxs(ds,{orientation:s,activeId:m,setActiveId:h,role:"listbox",className:"block-editor-block-patterns-list","aria-label":a,ref:g,children:[t.map(t=>r.includes(t)?o.jsx(ah,{id:t.name,pattern:t,onClick:i,onHover:l,isDraggable:e,showTitle:u,showTooltip:d,category:c},t.name):o.jsx(ch,{},t.name)),p&&o.jsx(ih,{...p})]})});function dh({filterValue:e,filteredBlockPatternsLength:t}){return e?o.jsx(ks,{level:2,lineHeight:"48px",className:"block-editor-block-patterns-explorer__search-results-count",children:po(go("%d pattern found","%d patterns found",t),t)}):null}function ph({searchValue:e,selectedCategory:t,patternCategories:r,rootClientId:l}){const i=n.useRef(),s=fi(bt,500),[a,c]=zo({rootClientId:l,shouldFocusBlock:!0}),[u,,d]=Fo(c,a,t),p=n.useMemo(()=>r.map(e=>e.name),[r]),g=n.useMemo(()=>{const n=u.filter(e=>{if(t===Vo.name)return!0;if(t===$o.name&&e.type===Oo.user)return!0;if("uncategorized"===t){const t=e.categories.some(e=>p.includes(e));return!e.categories?.length||!t}return e.categories?.includes(t)});return e?dp(n,e):n},[e,u,t,p]);n.useEffect(()=>{if(!e)return;const t=g.length,n=po(go("%d result found.","%d results found.",t),t);s(n)},[e,s,g.length]);const m=Ho(g,t,i),[h,f]=n.useState(e);e!==h&&(f(e),m.changePage(1));const b=!!g?.length;return o.jsxs("div",{className:"block-editor-block-patterns-explorer__list",ref:i,children:[o.jsx(dh,{filterValue:e,filteredBlockPatternsLength:g.length}),o.jsx(Wm,{children:b&&o.jsxs(o.Fragment,{children:[o.jsx(uh,{shownPatterns:m.categoryPatternsAsyncList,blockPatterns:m.categoryPatterns,onClickPattern:d,isDraggable:!1}),o.jsx(ih,{...m})]})})]})}function gh(e,t="all"){const[o,r]=Fo(void 0,e),l=n.useMemo(()=>"all"===t?o:o.filter(e=>!Uo(e,t)),[t,o]),i=n.useMemo(()=>{const e=r.filter(e=>l.some(t=>t.categories?.includes(e.name))).sort((e,t)=>e.label.localeCompare(t.label));return l.some(e=>!function(e,t){return!(!e.categories||!e.categories.length)&&e.categories.some(e=>t.some(t=>t.name===e))}(e,r))&&!e.find(e=>"uncategorized"===e.name)&&e.push({name:"uncategorized",label:uo("Uncategorized")}),l.some(e=>e.type===Oo.user)&&e.unshift($o),l.length>0&&e.unshift({name:Vo.name,label:Vo.label}),bt(po(go("%d category button displayed.","%d category buttons displayed.",e.length),e.length)),e},[r,l]);return i}function mh({initialCategory:e,rootClientId:t}){const[r,l]=n.useState(""),[i,s]=n.useState(e?.name),a=gh(t);return o.jsxs("div",{className:"block-editor-block-patterns-explorer",children:[o.jsx(lh,{selectedCategory:i,patternCategories:a,onClickCategory:s,searchValue:r,setSearchValue:l}),o.jsx(ph,{searchValue:r,selectedCategory:i,patternCategories:a,rootClientId:t})]})}function hh({onModalClose:e,...t}){return o.jsx(ls,{title:ao("Patterns"),onRequestClose:e,isFullScreen:!0,children:o.jsx(mh,{...t})})}function fh({title:e}){return o.jsx(qi,{spacing:0,children:o.jsx(Cs,{children:o.jsx(js,{marginBottom:0,paddingX:4,paddingY:3,children:o.jsxs(hs,{spacing:2,children:[o.jsx(vs.BackButton,{style:{minWidth:24,padding:0},icon:co()?nt:ot,size:"small",label:ao("Back")}),o.jsx(js,{children:o.jsx(ks,{level:5,children:e})})]})})})})}function bh({categories:e,children:t}){return o.jsxs(vs,{initialPath:"/",className:"block-editor-inserter__mobile-tab-navigation",children:[o.jsx(vs.Screen,{path:"/",children:o.jsx(xs,{children:e.map(e=>o.jsx(vs.Button,{path:`/category/${e.name}`,as:ys,isAction:!0,children:o.jsxs(hs,{children:[o.jsx(_s,{children:e.label}),o.jsx(we,{icon:co()?ot:nt})]})},e.name))})}),e.map(e=>o.jsxs(vs.Screen,{path:`/category/${e.name}`,children:[o.jsx(fh,{title:ao("Back")}),t(e)]},e.name))]})}const kh=e=>"all"!==e&&"user"!==e,vh=[{value:"all",label:uo("All","patterns")},{value:Oo.directory,label:ao("Pattern Directory")},{value:Oo.theme,label:ao("Theme & Plugins")},{value:Oo.user,label:ao("User")}];function xh({setPatternSyncFilter:e,setPatternSourceFilter:t,patternSyncFilter:r,patternSourceFilter:l,scrollContainerRef:i,category:s}){const a=s.name===$o.name?Oo.user:l,c=kh(a),u=(e=>e.name===$o.name)(s),d=n.useMemo(()=>[{value:"all",label:uo("All","patterns")},{value:Go.full,label:uo("Synced","patterns"),disabled:c},{value:Go.unsynced,label:uo("Not synced","patterns"),disabled:c}],[c]);return o.jsx(o.Fragment,{children:o.jsx(Di,{popoverProps:{placement:"right-end"},label:ao("Filter patterns"),toggleProps:{size:"compact"},icon:o.jsx(we,{icon:o.jsx(ft,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx(xt,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z",fill:"currentColor"})})}),children:()=>o.jsxs(o.Fragment,{children:[!u&&o.jsx(Pi,{label:ao("Source"),children:o.jsx(Ss,{choices:vh,onSelect:n=>{var o;t(o=n),kh(o)&&e("all"),i.current?.scrollTo(0,0)},value:a})}),o.jsx(Pi,{label:ao("Type"),children:o.jsx(Ss,{choices:d,onSelect:t=>{e(t),i.current?.scrollTo(0,0)},value:r})}),o.jsx("div",{className:"block-editor-tool-selector__help",children:ku(ao("Patterns are available from the <Link>WordPress.org Pattern Directory</Link>, bundled in the active theme, or created by users on this site. Only patterns created on this site can be synced."),{Link:o.jsx(ws,{href:ao("https://wordpress.org/patterns/")})})})]})})})}const yh=()=>{};function _h({rootClientId:e,onInsert:t,onHover:r=yh,category:l,showTitlesAsTooltip:i}){const s=od(e=>"zoom-out"===e(y).__unstableGetEditorMode(),[]),[a,,c]=Fo(t,e,l?.name),[u,d]=n.useState("all"),[p,g]=n.useState("all"),m=gh(e,p),h=n.useRef(),f=n.useMemo(()=>a.filter(e=>!Uo(e,p,u)&&(l.name===Vo.name||(l.name===$o.name&&e.type===Oo.user||("uncategorized"===l.name?!e.categories||!e.categories.some(e=>m.some(t=>t.name===e)):e.categories?.includes(l.name))))),[a,m,l.name,p,u]),b=Ho(f,l,h),{changePage:k}=b;n.useEffect(()=>()=>r(null),[]);const v=n.useCallback(e=>{d(e),k(1)},[d,k]),x=n.useCallback(e=>{g(e),k(1)},[g,k]);return o.jsxs(o.Fragment,{children:[o.jsxs(qi,{spacing:2,className:"block-editor-inserter__patterns-category-panel-header",children:[o.jsxs(hs,{children:[o.jsx(_s,{children:o.jsx(ks,{className:"block-editor-inserter__patterns-category-panel-title",size:13,level:4,as:"div",children:l.label})}),o.jsx(xh,{patternSyncFilter:u,patternSourceFilter:p,setPatternSyncFilter:v,setPatternSourceFilter:x,scrollContainerRef:h,category:l})]}),!f.length&&o.jsx(ss,{variant:"muted",className:"block-editor-inserter__patterns-category-no-results",children:ao("No results found")})]}),f.length>0&&o.jsxs(o.Fragment,{children:[s&&o.jsx(ss,{size:"12",as:"p",className:"block-editor-inserter__help-text",children:ao("Drag and drop patterns into the canvas.")}),o.jsx(uh,{ref:h,shownPatterns:b.categoryPatternsAsyncList,blockPatterns:b.categoryPatterns,onClickPattern:c,onHover:r,label:l.label,orientation:"vertical",category:l.name,isDraggable:!0,showTitlesAsTooltip:i,patternFilter:p,pagingProps:b})]})]})}const{Tabs:Ch}=Id(Li);function jh({categories:e,selectedCategory:t,onSelectCategory:n,children:r}){const l={type:"tween",duration:ui()?0:.25,ease:[.6,0,.4,1]},i=bi(t);return o.jsxs(Ch,{className:"block-editor-inserter__category-tabs",selectOnMove:!1,selectedTabId:t?t.name:null,orientation:"vertical",onSelect:t=>{n(e.find(e=>e.name===t))},children:[o.jsx(Ch.TabList,{className:"block-editor-inserter__category-tablist",children:e.map(e=>o.jsx(Ch.Tab,{tabId:e.name,className:"block-editor-inserter__category-tab","aria-label":e.label,"aria-current":e===t?"true":void 0,children:o.jsxs(hs,{children:[o.jsx(_s,{children:e.label}),o.jsx(we,{icon:co()?ot:nt})]})},e.name))}),e.map(e=>o.jsx(Ch.TabPanel,{tabId:e.name,focusable:!1,children:o.jsx(Is.div,{className:"block-editor-inserter__category-panel",initial:i?"open":"closed",animate:"open",variants:{open:{transform:"translateX( 0 )",transitionEnd:{zIndex:"1"}},closed:{transform:"translateX( -100% )",zIndex:"-1"}},transition:l,children:r})},e.name))]})}function Sh({onSelectCategory:e,selectedCategory:t,onInsert:r,rootClientId:l,children:i}){const[s,a]=n.useState(!1),c=gh(l),u=ki("medium","<"),d=od(e=>Id(e(y)).isResolvingPatterns(),[]);return d?o.jsx("div",{className:"block-editor-inserter__patterns-loading",children:o.jsx(Bs,{})}):c.length?o.jsxs(o.Fragment,{children:[!u&&o.jsxs("div",{className:"block-editor-inserter__block-patterns-tabs-container",children:[o.jsx(jh,{categories:c,selectedCategory:t,onSelectCategory:e,children:i}),o.jsx(Mi,{__next40pxDefaultSize:!0,className:"block-editor-inserter__patterns-explore-button",onClick:()=>a(!0),variant:"secondary",children:ao("Explore all patterns")})]}),u&&o.jsx(bh,{categories:c,children:e=>o.jsx("div",{className:"block-editor-inserter__category-panel",children:o.jsx(_h,{onInsert:r,rootClientId:l,category:e,showTitlesAsTooltip:!1},e.name)})}),s&&o.jsx(hh,{initialCategory:t||c[0],patternCategories:c,onModalClose:()=>a(!1),rootClientId:l})]}):o.jsx(Qm,{})}const wh=["image"],Ih={position:"bottom left",className:"block-editor-inserter__media-list__item-preview-options__popover"};function Bh({category:e,media:t}){if(!e.getReportUrl)return null;const n=e.getReportUrl(t);return o.jsx(Di,{className:"block-editor-inserter__media-list__item-preview-options",label:ao("Options"),popoverProps:Ih,icon:xe,children:()=>o.jsx(Pi,{children:o.jsx(Ti,{onClick:()=>window.open(n,"_blank").focus(),icon:jt,children:po(ao("Report %s"),e.mediaType)})})})}function Nh({onClose:e,onSubmit:t}){return o.jsxs(ls,{title:ao("Insert external image"),onRequestClose:e,className:"block-editor-inserter-media-tab-media-preview-inserter-external-image-modal",children:[o.jsxs(qi,{spacing:3,children:[o.jsx("p",{children:ao("This image cannot be uploaded to your Media Library, but it can still be inserted as an external image.")}),o.jsx("p",{children:ao("External images can be removed by the external provider without warning and could even have legal compliance issues related to privacy legislation.")})]}),o.jsxs($i,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:!1,children:[o.jsx(Hi,{children:o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:e,children:ao("Cancel")})}),o.jsx(Hi,{children:o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"primary",onClick:t,children:ao("Insert")})})]})]})}function Eh({media:e,onClick:t,category:r}){const[l,i]=n.useState(!1),[s,a]=n.useState(!1),[c,u]=n.useState(!1),[d,p]=n.useMemo(()=>Wo(e,r.mediaType),[e,r.mediaType]),{createErrorNotice:g,createSuccessNotice:m}=ld(yt),{getSettings:h,getBlock:f}=od(y),{updateBlockAttributes:b}=ld(y),k=n.useCallback(e=>{if(c)return;const n=h(),o=Q(e),{id:r,url:l,caption:s}=o.attributes;r||n.mediaUpload?r?t(o):(u(!0),window.fetch(l).then(e=>e.blob()).then(e=>{const r=_t(l)||"image.jpg",i=new File([e],r,{type:e.type});n.mediaUpload({filesList:[i],additionalData:{caption:s},onFileChange([e]){Ct(e.url)||(f(o.clientId)?b(o.clientId,{...o.attributes,id:e.id,url:e.url}):(t({...o,attributes:{...o.attributes,id:e.id,url:e.url}}),m(ao("Image uploaded and inserted."),{type:"snackbar",id:"inserter-notice"})),u(!1))},allowedTypes:wh,onError(e){g(e,{type:"snackbar",id:"inserter-notice"}),u(!1)}})}).catch(()=>{i(!0),u(!1)})):i(!0)},[c,h,t,m,b,g,f]),v="string"==typeof e.title?e.title:e.title?.rendered||ao("no title");let x;if(v.length>25){const e="...";x=v.slice(0,25-e.length)+e}const _=n.useCallback(()=>a(!0),[]),C=n.useCallback(()=>a(!1),[]);return o.jsxs(o.Fragment,{children:[o.jsx(qm,{isEnabled:!0,blocks:[d],children:({draggable:t,onDragStart:n,onDragEnd:l})=>o.jsx("div",{className:ei("block-editor-inserter__media-list__list-item",{"is-hovered":s}),draggable:t,onDragStart:n,onDragEnd:l,children:o.jsxs("div",{onMouseEnter:_,onMouseLeave:C,children:[o.jsx(bs,{text:x||v,children:o.jsx(ds.Item,{render:o.jsx("div",{"aria-label":v,role:"option",className:"block-editor-inserter__media-list__item"}),onClick:()=>k(d),children:o.jsxs("div",{className:"block-editor-inserter__media-list__item-preview",children:[p,c&&o.jsx("div",{className:"block-editor-inserter__media-list__item-preview-spinner",children:o.jsx(Bs,{})})]})})}),!c&&o.jsx(Bh,{category:r,media:e})]})})}),l&&o.jsx(Nh,{onClose:()=>i(!1),onSubmit:()=>{t(Q(d)),m(ao("Image inserted."),{type:"snackbar",id:"inserter-notice"}),i(!1)}})]})}function Dh({mediaList:e,category:t,onClick:n,label:r=ao("Media List")}){return o.jsx(ds,{role:"listbox",className:"block-editor-inserter__media-list","aria-label":r,children:e.map((e,r)=>o.jsx(Eh,{media:e,category:t,onClick:n},e.id||e.sourceId||r))})}function Ph({rootClientId:e,onInsert:t,category:n}){const[r,l,i]=vi(),{mediaList:s,isLoading:a}=Ko(n,{per_page:i?20:10,search:i}),c="block-editor-inserter__media-panel",u=n.labels.search_items||ao("Search");return o.jsxs("div",{className:c,children:[o.jsx(ms,{__nextHasNoMarginBottom:!0,className:`${c}-search`,onChange:l,value:r,label:u,placeholder:u}),a&&o.jsx("div",{className:`${c}-spinner`,children:o.jsx(Bs,{})}),!a&&!s?.length&&o.jsx(Qm,{}),!a&&!!s?.length&&o.jsx(Dh,{rootClientId:e,onClick:t,mediaList:s,category:n})]})}function Th({fallback:e=null,children:t}){const n=od(e=>{const{getSettings:t}=e(y);return!!t().mediaUpload},[]);return n?t:e}const Mh=Ei("editor.MediaUpload")(()=>null),Lh=["image","video","audio"];function Rh({rootClientId:e,selectedCategory:t,onSelectCategory:r,onInsert:l,children:i}){const s=qo(e),a=ki("medium","<"),c=n.useCallback(e=>{if(!e?.url)return;const[t]=Wo(e,e.type);l(t)},[l]),u=n.useMemo(()=>s.map(e=>({...e,label:e.labels.name})),[s]);return u.length?o.jsxs(o.Fragment,{children:[!a&&o.jsxs("div",{className:"block-editor-inserter__media-tabs-container",children:[o.jsx(jh,{categories:u,selectedCategory:t,onSelectCategory:r,children:i}),o.jsx(Th,{children:o.jsx(Mh,{multiple:!1,onSelect:c,allowedTypes:Lh,render:({open:e})=>o.jsx(Mi,{__next40pxDefaultSize:!0,onClick:t=>{t.target.focus(),e()},className:"block-editor-inserter__media-library-button",variant:"secondary","data-unstable-ignore-focus-outside-for-relatedtarget":".media-modal",children:ao("Open Media Library")})})})]}),a&&o.jsx(bh,{categories:u,children:t=>o.jsx(Ph,{onInsert:l,rootClientId:e,category:t})})]}):o.jsx(Qm,{})}const{Fill:Ah,Slot:Oh}=Ns("__unstableInserterMenuExtension");Ah.Slot=Oh;const zh=[];function Fh({filterValue:e,onSelect:t,onHover:r,onHoverPattern:l,rootClientId:i,clientId:s,isAppender:a,__experimentalInsertionIndex:c,maxBlockPatterns:u,maxBlockTypes:d,showBlockDirectory:p=!1,isDraggable:g=!0,shouldFocusBlock:m=!0,prioritizePatterns:h,selectBlockOnInsert:f,isQuick:b}){const k=fi(bt,500),{prioritizedBlocks:v}=od(e=>{const t=e(y).getBlockListSettings(i);return{prioritizedBlocks:t?.prioritizedInserterBlocks||zh}},[i]),[x,_]=zo({onSelect:t,rootClientId:i,clientId:s,isAppender:a,insertionIndex:c,shouldFocusBlock:m,selectBlockOnInsert:f}),[C,j,S,w]=yo(x,_,b),[I,,B]=Fo(_,x),N=n.useMemo(()=>{if(0===u)return[];const t=dp(I,e);return void 0!==u?t.slice(0,u):t},[e,I,u]);let E=d;h&&N.length>2&&(E=0);const D=n.useMemo(()=>{if(0===E)return[];const t=C.filter(e=>"core/block"!==e.name);let n=Co(t,"frecency","desc");!e&&v.length&&(n=_o(n,v));const o=up(n,j,S,e);return void 0!==E?o.slice(0,E):o},[e,C,j,S,E,v]);n.useEffect(()=>{if(!e)return;const t=D.length+N.length,n=po(go("%d result found.","%d results found.",t),t);k(n)},[e,k,D,N]);const P=hi(D,{step:9}),T=hi(P.length===D.length?N:zh),M=D.length>0||N.length>0,L=!!D.length&&o.jsx(Jm,{title:o.jsx(fs,{children:ao("Blocks")}),children:o.jsx(Xm,{items:P,onSelect:w,onHover:r,label:ao("Blocks"),isDraggable:g})}),R=!!N.length&&o.jsx(Jm,{title:o.jsx(fs,{children:ao("Block patterns")}),children:o.jsx("div",{className:"block-editor-inserter__quick-inserter-patterns",children:o.jsx(uh,{shownPatterns:T,blockPatterns:N,onClickPattern:B,onHover:l,isDraggable:g})})});return o.jsxs(Wm,{children:[!p&&!M&&o.jsx(Qm,{}),h?R:L,!!D.length&&!!N.length&&o.jsx("div",{className:"block-editor-inserter__quick-inserter-separator"}),h?L:R,p&&o.jsx(Ah.Slot,{fillProps:{onSelect:w,onHover:r,filterValue:e,hasItems:M,rootClientId:x},children:e=>e.length?e:M?null:o.jsx(Qm,{})})]})}const{Tabs:Vh}=Id(Li);const $h=n.forwardRef(function({defaultTabId:e,onClose:t,onSelect:n,selectedTab:r,tabs:l,closeButtonLabel:i},s){return o.jsx("div",{className:"block-editor-tabbed-sidebar",children:o.jsxs(Vh,{selectOnMove:!1,defaultTabId:e,onSelect:n,selectedTabId:r,children:[o.jsxs("div",{className:"block-editor-tabbed-sidebar__tablist-and-close-button",children:[o.jsx(Mi,{className:"block-editor-tabbed-sidebar__close-button",icon:St,label:i,onClick:()=>t(),size:"small"}),o.jsx(Vh.TabList,{className:"block-editor-tabbed-sidebar__tablist",ref:s,children:l.map(e=>o.jsx(Vh.Tab,{tabId:e.name,className:"block-editor-tabbed-sidebar__tab",children:e.title},e.name))})]}),l.map(e=>o.jsx(Vh.TabPanel,{tabId:e.name,focusable:!1,className:"block-editor-tabbed-sidebar__tabpanel",ref:e.panelRef,children:e.panel},e.name))]})})}),Hh=()=>{};const Uh=n.forwardRef(function({rootClientId:e,clientId:t,isAppender:r,__experimentalInsertionIndex:l,onSelect:i,showInserterHelpPanel:s,showMostUsedBlocks:a,__experimentalFilterValue:c="",shouldFocusBlock:u=!0,onPatternCategorySelection:d,onClose:p,__experimentalInitialTab:g,__experimentalInitialCategory:m},h){const f=od(e=>"zoom-out"===e(y).__unstableGetEditorMode(),[]),[b,k,v]=vi(c),[x,_]=n.useState(null),[C,j]=n.useState(m),[S,w]=n.useState("all"),[I,B]=n.useState(null),[N,E]=n.useState(g||(f?"patterns":void 0)),[D,P,T]=zo({rootClientId:e,clientId:t,isAppender:r,insertionIndex:l,shouldFocusBlock:u}),M=n.useRef(),L=n.useCallback((e,t,n,o)=>{P(e,t,n,o),i(e),window.requestAnimationFrame(()=>{u||M.current?.contains(h.current.ownerDocument.activeElement)||M.current?.querySelector("button").focus()})},[P,i,u]),R=n.useCallback((e,t,...n)=>{T(!1),P(e,{patternName:t},...n),i()},[P,i]),A=n.useCallback(e=>{T(e),_(e)},[T,_]),O=n.useCallback((e,t)=>{j(e),w(t),d?.()},[j,d]),z="patterns"===N&&!v&&!!C,F="media"===N&&!!I,V=n.useMemo(()=>"media"===N?null:o.jsxs(o.Fragment,{children:[o.jsx(ms,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",onChange:e=>{x&&_(null),k(e)},value:b,label:ao("Search for blocks and patterns"),placeholder:ao("Search")}),!!v&&o.jsx(Fh,{filterValue:v,onSelect:i,onHover:A,rootClientId:e,clientId:t,isAppender:r,__experimentalInsertionIndex:l,showBlockDirectory:!0,shouldFocusBlock:u,prioritizePatterns:"patterns"===N})]}),[N,x,_,k,b,v,i,A,u,t,e,l,r]),$=n.useMemo(()=>o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"block-editor-inserter__block-list",children:o.jsx(nh,{ref:M,rootClientId:D,onInsert:L,onHover:A,showMostUsedBlocks:a})}),s&&o.jsxs("div",{className:"block-editor-inserter__tips",children:[o.jsx(fs,{as:"h2",children:ao("A tip for using the block editor")}),o.jsx(rm,{})]})]}),[D,L,A,a,s]),H=n.useMemo(()=>o.jsx(Sh,{rootClientId:D,onInsert:R,onSelectCategory:O,selectedCategory:C,children:z&&o.jsx(_h,{rootClientId:D,onInsert:R,category:C,patternFilter:S,showTitlesAsTooltip:!0})}),[D,R,O,S,C,z]),U=n.useMemo(()=>o.jsx(Rh,{rootClientId:D,selectedCategory:I,onSelectCategory:B,onInsert:L,children:F&&o.jsx(Ph,{rootClientId:D,onInsert:L,category:I})}),[D,L,I,B,F]),G=n.useRef();return n.useLayoutEffect(()=>{G.current&&window.requestAnimationFrame(()=>{G.current.querySelector('[role="tab"][aria-selected="true"]')?.focus()})},[]),o.jsxs("div",{className:ei("block-editor-inserter__menu",{"show-panel":z||F,"is-zoom-out":f}),ref:h,children:[o.jsx("div",{className:"block-editor-inserter__main-area",children:o.jsx($h,{ref:G,onSelect:e=>{"patterns"!==e&&j(null),E(e)},onClose:p,selectedTab:N,closeButtonLabel:ao("Close block inserter"),tabs:[{name:"blocks",title:ao("Blocks"),panel:o.jsxs(o.Fragment,{children:[V,"blocks"===N&&!v&&$]})},{name:"patterns",title:ao("Patterns"),panel:o.jsxs(o.Fragment,{children:[V,"patterns"===N&&!v&&H]})},{name:"media",title:ao("Media"),panel:o.jsxs(o.Fragment,{children:[V,U]})}]})}),s&&x&&o.jsx(Es,{className:"block-editor-inserter__preview-container__popover",placement:"right-start",offset:16,focusOnMount:!1,animate:!1,children:o.jsx($m,{item:x})})]})});const Gh=n.forwardRef(function(e,t){return o.jsx(Uh,{...e,onPatternCategorySelection:Hh,ref:t})});function Wh({onSelect:e,rootClientId:t,clientId:r,isAppender:l,prioritizePatterns:i,selectBlockOnInsert:s,hasSearch:a=!0}){const[c,u]=n.useState(""),[d,p]=zo({onSelect:e,rootClientId:t,clientId:r,isAppender:l,selectBlockOnInsert:s}),[g]=yo(d,p,!0),[m]=Fo(p,d,void 0,!0),{setInserterIsOpened:h,insertionIndex:f}=od(e=>{const{getSettings:t,getBlockIndex:n,getBlockCount:o}=e(y),l=t(),i=n(r),s=o();return{setInserterIsOpened:l.__experimentalSetIsInserterOpened,insertionIndex:-1===i?s:i}},[r]),b=m.length&&(!!c||i),k=a&&(b&&m.length>6||g.length>6);n.useEffect(()=>{h&&h(!1)},[h]);let v=0;return b&&(v=i?4:2),o.jsxs("div",{className:ei("block-editor-inserter__quick-inserter",{"has-search":k,"has-expand":h}),children:[k&&o.jsx(ms,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",value:c,onChange:e=>{u(e)},label:ao("Search for blocks and patterns"),placeholder:ao("Search")}),o.jsx("div",{className:"block-editor-inserter__quick-inserter-results",children:o.jsx(Fh,{filterValue:c,onSelect:e,rootClientId:t,clientId:r,isAppender:l,maxBlockPatterns:v,maxBlockTypes:6,isDraggable:!1,prioritizePatterns:i,selectBlockOnInsert:s,isQuick:!0})}),h&&o.jsx(Mi,{__next40pxDefaultSize:!0,className:"block-editor-inserter__quick-inserter-expand",onClick:()=>{h({filterValue:c,onSelect:e,rootClientId:t,insertionIndex:f})},"aria-label":ao("Browse all. This will open the main inserter panel in the editor toolbar."),children:ao("Browse all")})]})}const Kh=({onToggle:e,disabled:t,isOpen:n,blockTitle:r,hasSingleBlockType:l,toggleProps:i={},prioritizePatterns:s})=>{const{as:a=Mi,label:c,onClick:u,...d}=i;let p=c;return!p&&l?p=po(uo("Add %s","directly add the only allowed block"),r):!p&&s?p=ao("Add pattern"):p||(p=uo("Add block","Generic label for block inserter button")),o.jsx(a,{icon:wt,label:p,tooltipPosition:"bottom",onClick:function(t){e&&e(t),u&&u(t)},className:"block-editor-inserter__toggle","aria-haspopup":!l&&"true","aria-expanded":!l&&n,disabled:t,...d})};class qh extends n.Component{constructor(){super(...arguments),this.onToggle=this.onToggle.bind(this),this.renderToggle=this.renderToggle.bind(this),this.renderContent=this.renderContent.bind(this)}onToggle(e){const{onToggle:t}=this.props;t&&t(e)}renderToggle({onToggle:e,isOpen:t}){const{disabled:n,blockTitle:o,hasSingleBlockType:r,directInsertBlock:l,toggleProps:i,hasItems:s,renderToggle:a=Kh,prioritizePatterns:c}=this.props;return a({onToggle:e,isOpen:t,disabled:n||!s,blockTitle:o,hasSingleBlockType:r,directInsertBlock:l,toggleProps:i,prioritizePatterns:c})}renderContent({onClose:e}){const{rootClientId:t,clientId:n,isAppender:r,showInserterHelpPanel:l,__experimentalIsQuick:i,prioritizePatterns:s,onSelectOrClose:a,selectBlockOnInsert:c}=this.props;return i?o.jsx(Wh,{onSelect:t=>{const n=Array.isArray(t)&&t?.length?t[0]:t;a&&"function"==typeof a&&a(n),e()},rootClientId:t,clientId:n,isAppender:r,prioritizePatterns:s,selectBlockOnInsert:c}):o.jsx(Gh,{onSelect:()=>{e()},rootClientId:t,clientId:n,isAppender:r,showInserterHelpPanel:l})}render(){const{position:e,hasSingleBlockType:t,directInsertBlock:n,insertOnlyAllowedBlock:r,__experimentalIsQuick:l,onSelectOrClose:i}=this.props;return t||n?this.renderToggle({onToggle:r}):o.jsx(rs,{className:"block-editor-inserter",contentClassName:ei("block-editor-inserter__popover",{"is-quick":l}),popoverProps:{position:e,shift:!0},onToggle:this.onToggle,expandOnMobile:!0,headerTitle:ao("Add a block"),renderToggle:this.renderToggle,renderContent:this.renderContent,onClose:i})}}const Zh=ri([rd((e,{clientId:t,rootClientId:n,shouldDirectInsert:o=!0})=>{const{getBlockRootClientId:r,hasInserterItems:l,getAllowedBlocks:i,getDirectInsertBlock:s,getSettings:a}=e(y),{getBlockVariations:c}=e(z),u=i(n=n||r(t)||void 0),d=o&&s(n),p=a(),g=1===u?.length&&0===c(u[0].name,"inserter")?.length;let m=!1;return g&&(m=u[0]),{hasItems:l(n),hasSingleBlockType:g,blockTitle:m?m.title:"",allowedBlockType:m,directInsertBlock:d,rootClientId:n,prioritizePatterns:p.__experimentalPreferPatternsOnRoot&&!n}}),id((e,t,{select:n})=>({insertOnlyAllowedBlock(){const{rootClientId:o,clientId:r,isAppender:l,hasSingleBlockType:i,allowedBlockType:s,directInsertBlock:a,onSelectOrClose:c,selectBlockOnInsert:u}=t;if(!i&&!a)return;const{insertBlock:d}=e(y);let p;if(a){const e=function(e){const{getBlock:t,getPreviousBlockClientId:l}=n(y);if(!e||!r&&!o)return{};const i={};let s={};if(r){const e=t(r),n=t(l(r));e?.name===n?.name&&(s=n?.attributes||{})}else{const e=t(o);if(e?.innerBlocks?.length){const t=e.innerBlocks[e.innerBlocks.length-1];a&&a?.name===t.name&&(s=t.attributes)}}return e.forEach(e=>{s.hasOwnProperty(e)&&(i[e]=s[e])}),i}(a.attributesToCopy);p=L(a.name,{...a.attributes||{},...e})}else p=L(s.name);d(p,function(){const{getBlockIndex:e,getBlockSelectionEnd:t,getBlockOrder:i,getBlockRootClientId:s}=n(y);if(r)return e(r);const a=t();return!l&&a&&s(a)===o?e(a)+1:i(o).length}(),o,u),c&&c({clientId:p?.clientId});const g=po(ao("%s block added"),s.title);bt(g)}})),xi(({hasItems:e,isAppender:t,rootClientId:n,clientId:o})=>e||!t&&!n&&!o)])(qh),Yh="\ufeff";function Xh({rootClientId:e}){const{showPrompt:t,isLocked:n,placeholder:r,isManualGrid:l}=od(t=>{const{getBlockCount:n,getSettings:o,getTemplateLock:r,getBlockAttributes:l}=t(y),i=!n(e),{bodyPlaceholder:s}=o();return{showPrompt:i,isLocked:!!r(e),placeholder:s,isManualGrid:l(e)?.layout?.isManualPlacement}},[e]),{insertDefaultBlock:i,startTyping:s}=ld(y);if(n||l)return null;const a=Se(r)||ao("Type / to choose a block"),c=()=>{i(void 0,e),s()};return o.jsxs("div",{"data-root-client-id":e||"",className:ei("block-editor-default-block-appender",{"has-visible-prompt":t}),children:[o.jsx("p",{tabIndex:"0",role:"button","aria-label":ao("Add default block"),className:"block-editor-default-block-appender__content",onKeyDown:e=>{lg!==e.keyCode&&32!==e.keyCode||c()},onClick:()=>c(),onFocus:()=>{t&&c()},children:t?a:Yh}),o.jsx(Zh,{rootClientId:e,position:"bottom right",isAppender:!0,__experimentalIsQuick:!0})]})}function Jh({rootClientId:e,className:t,onFocus:r,tabIndex:l,onSelect:i},s){const a=n.useRef(),c=di([a,s]);return o.jsx(Zh,{position:"bottom center",rootClientId:e,__experimentalIsQuick:!0,onSelectOrClose:(...e)=>{i&&"function"==typeof i&&i(...e),a.current?.focus()},renderToggle:({onToggle:e,disabled:n,isOpen:i,blockTitle:s,hasSingleBlockType:a})=>{const u=!a,d=a?po(uo("Add %s","directly add the only allowed block"),s):uo("Add block","Generic label for block inserter button");return o.jsx(Mi,{__next40pxDefaultSize:!0,ref:c,onFocus:r,tabIndex:l,className:ei(t,"block-editor-button-block-appender"),onClick:e,"aria-haspopup":u?"true":void 0,"aria-expanded":u?i:void 0,disabled:n,label:d,showTooltip:!0,children:o.jsx(we,{icon:wt})})},isAppender:!0})}const Qh=n.forwardRef((e,t)=>(be("wp.blockEditor.ButtonBlockerAppender",{alternative:"wp.blockEditor.ButtonBlockAppender",since:"5.9"}),Jh(e,t))),ef=n.forwardRef(Jh);function tf({rootClientId:e}){const t=od(t=>t(y).canInsertBlockType(A(),e));return t?o.jsx(Xh,{rootClientId:e}):o.jsx(ef,{rootClientId:e,className:"block-list-appender__toggle"})}function nf({rootClientId:e,CustomAppender:t,className:n,tagName:r="div"}){const l=od(t=>{const{getBlockInsertionPoint:n,isBlockInsertionPointVisible:o,getBlockCount:r}=t(y),l=n();return o()&&e===l?.rootClientId&&0===r(e)},[e]);return o.jsx(r,{tabIndex:-1,className:ei("block-list-appender wp-block",n,{"is-drag-over":l}),contentEditable:!1,"data-block":!0,children:t?o.jsx(t,{}):o.jsx(tf,{rootClientId:e})})}function of(e){return ci(t=>{if(!e)return;function n(t){const{deltaX:n,deltaY:o}=t;e.current.scrollBy(n,o)}const o={passive:!0};return t.addEventListener("wheel",n,o),()=>{t.removeEventListener("wheel",n,o)}},[e])}const rf=Number.MAX_SAFE_INTEGER;function lf({previousClientId:e,nextClientId:t,children:r,__unstablePopoverSlot:l,__unstableContentRef:i,operation:s="insert",nearestSide:a="right",...c}){const[u,d]=n.useReducer(e=>(e+1)%rf,0),{orientation:p,rootClientId:g,isVisible:m}=od(n=>{const{getBlockListSettings:o,getBlockRootClientId:r,isBlockVisible:l}=n(y),i=r(null!=e?e:t);return{orientation:o(i)?.orientation||"vertical",rootClientId:i,isVisible:l(e)&&l(t)}},[e,t]),h=wg(e),f=wg(t),b="vertical"===p,k=n.useMemo(()=>{if(u<0||!h&&!f||!m)return;return{contextElement:"group"===s?f||h:h||f,getBoundingClientRect(){const e=h?h.getBoundingClientRect():null,t=f?f.getBoundingClientRect():null;let n=0,o=0,r=0,l=0;if("group"===s){const i=t||e;o=i.top,r=0,l=i.bottom-i.top,n="left"===a?i.left-2:i.right-2}else b?(o=e?e.bottom:t.top,r=e?e.width:t.width,l=t&&e?t.top-e.bottom:0,n=e?e.left:t.left):(o=e?e.top:t.top,l=e?e.height:t.height,co()?(n=t?t.right:e.left,r=e&&t?e.left-t.right:0):(n=e?e.right:t.left,r=e&&t?t.left-e.right:0));return new window.DOMRect(n,o,r,l)}}},[h,f,u,b,m,s,a]),v=of(i);return n.useLayoutEffect(()=>{if(!h)return;const e=new window.MutationObserver(d);return e.observe(h,{attributes:!0}),()=>{e.disconnect()}},[h]),n.useLayoutEffect(()=>{if(!f)return;const e=new window.MutationObserver(d);return e.observe(f,{attributes:!0}),()=>{e.disconnect()}},[f]),n.useLayoutEffect(()=>{if(h)return h.ownerDocument.defaultView.addEventListener("resize",d),()=>{h.ownerDocument.defaultView?.removeEventListener("resize",d)}},[h]),(h||f)&&m?o.jsx(Es,{ref:v,animate:!1,anchor:k,focusOnMount:!1,__unstableSlotName:l,inline:!l,...c,className:ei("block-editor-block-popover","block-editor-block-popover__inbetween",c.className),resize:!1,flip:!1,placement:"overlay",variant:"unstyled",children:o.jsx("div",{className:"block-editor-block-popover__inbetween-container",children:r})},t+"--"+g):null}n.createContext();const sf=Number.MAX_SAFE_INTEGER;const af=n.forwardRef(function({clientId:e,bottomClientId:t,children:r,__unstablePopoverSlot:l,__unstableContentRef:i,shift:s=!0,...a},c){const u=wg(e),d=wg(null!=t?t:e),p=di([c,of(i)]),[g,m]=n.useReducer(e=>(e+1)%sf,0);n.useLayoutEffect(()=>{if(!u)return;const e=new window.MutationObserver(m);return e.observe(u,{attributes:!0}),()=>{e.disconnect()}},[u]);const h=n.useMemo(()=>{if(!(g<0||!u||t&&!d))return{getBoundingClientRect:()=>d?Zo(Yo(u),Yo(d)):Yo(u),contextElement:u}},[t,d,u,g]);return!u||t&&!d?null:o.jsx(Es,{ref:p,animate:!1,focusOnMount:!1,anchor:h,__unstableSlotName:l,inline:!l,placement:"top-start",resize:!1,flip:!1,shift:s,...a,className:ei("block-editor-block-popover",a.className),variant:"unstyled",children:r})}),cf=n.forwardRef(({clientId:e,bottomClientId:t,children:n,...r},l)=>o.jsx(af,{...r,bottomClientId:t,clientId:e,__unstableContentRef:void 0,__unstablePopoverSlot:void 0,ref:l,children:n}));function uf({selectedElement:e,additionalStyles:t={},children:r}){const[l,i]=n.useState(e.offsetWidth),[s,a]=n.useState(e.offsetHeight);n.useEffect(()=>{const t=new window.ResizeObserver(()=>{i(e.offsetWidth),a(e.offsetHeight)});return t.observe(e,{box:"border-box"}),()=>t.disconnect()},[e]);const c=n.useMemo(()=>({position:"absolute",width:l,height:s,...t}),[l,s,t]);return o.jsx("div",{style:c,children:r})}const df=n.forwardRef(function({clientId:e,bottomClientId:t,children:n,shift:r=!1,additionalStyles:l,...i},s){var a;null!==(a=t)&&void 0!==a||(t=e);const c=wg(e);return o.jsx(af,{ref:s,clientId:e,bottomClientId:t,shift:r,...i,children:c&&e===t?o.jsx(uf,{selectedElement:c,additionalStyles:l,children:n}):n})}),pf={hide:{opacity:0,scaleY:.75},show:{opacity:1,scaleY:1},exit:{opacity:0,scaleY:.9}};function gf({__unstablePopoverSlot:e,__unstableContentRef:t}){const{clientId:n}=od(e=>{const{getBlockOrder:t,getBlockInsertionPoint:n}=e(y),o=n(),r=t(o.rootClientId);return r.length?{clientId:r[o.index]}:{}},[]),r=ui();return o.jsx(df,{clientId:n,__unstablePopoverSlot:e,__unstableContentRef:t,className:"block-editor-block-popover__drop-zone",children:o.jsx(Is.div,{"data-testid":"block-popover-drop-zone",initial:r?pf.show:pf.hide,animate:pf.show,exit:r?pf.show:pf.exit,className:"block-editor-block-popover__drop-zone-foreground"})})}const mf=n.createContext();function hf({__unstablePopoverSlot:e,__unstableContentRef:t,operation:r="insert",nearestSide:l="right"}){const{selectBlock:i,hideInsertionPoint:s}=ld(y),a=n.useContext(mf),c=n.useRef(),{orientation:u,previousClientId:d,nextClientId:p,rootClientId:g,isInserterShown:m,isDistractionFree:h,isZoomOutMode:f}=od(e=>{const{getBlockOrder:t,getBlockListSettings:n,getBlockInsertionPoint:o,isBlockBeingDragged:r,getPreviousBlockClientId:l,getNextBlockClientId:i,getSettings:s,__unstableGetEditorMode:a}=e(y),c=o(),u=t(c.rootClientId);if(!u.length)return{};let d=u[c.index-1],p=u[c.index];for(;r(d);)d=l(d);for(;r(p);)p=i(p);const g=s();return{previousClientId:d,nextClientId:p,orientation:n(c.rootClientId)?.orientation||"vertical",rootClientId:c.rootClientId,isDistractionFree:g.isDistractionFree,isInserterShown:c?.__unstableWithInserter,isZoomOutMode:"zoom-out"===a()}},[]),{getBlockEditingMode:b}=od(y),k=ui();const v={start:{opacity:0,scale:0},rest:{opacity:1,scale:1,transition:{delay:m?.5:0,type:"tween"}},hover:{opacity:1,scale:1,transition:{delay:.5,type:"tween"}}},x={start:{scale:k?1:0},rest:{scale:1,transition:{delay:.4,type:"tween"}}};if(h)return null;if(f&&"insert"!==r)return null;const _=ei("block-editor-block-list__insertion-point","horizontal"===u||"group"===r?"is-horizontal":"is-vertical");return o.jsx(lf,{previousClientId:d,nextClientId:p,__unstablePopoverSlot:e,__unstableContentRef:t,operation:r,nearestSide:l,children:o.jsxs(Is.div,{layout:!k,initial:k?"rest":"start",animate:"rest",whileHover:"hover",whileTap:"pressed",exit:"start",ref:c,tabIndex:-1,onClick:function(e){e.target===c.current&&p&&"disabled"!==b(p)&&i(p,-1)},onFocus:function(e){e.target!==c.current&&(a.current=!0)},className:ei(_,{"is-with-inserter":m}),onHoverEnd:function(e){e.target!==c.current||a.current||s()},children:[o.jsx(Is.div,{variants:v,className:"block-editor-block-list__insertion-point-indicator","data-testid":"block-list-insertion-point-indicator"}),m&&o.jsx(Is.div,{variants:x,className:ei("block-editor-block-list__insertion-point-inserter"),children:o.jsx(Zh,{position:"bottom center",clientId:p,rootClientId:g,__experimentalIsQuick:!0,onToggle:e=>{a.current=e},onSelectOrClose:()=>{a.current=!1}})})]})})}function ff(e){const{insertionPoint:t,isVisible:n,isBlockListEmpty:r}=od(e=>{const{getBlockInsertionPoint:t,isBlockInsertionPointVisible:n,getBlockCount:o}=e(y),r=t();return{insertionPoint:r,isVisible:n(),isBlockListEmpty:0===o(r?.rootClientId)}},[]);return!n||r?null:"replace"===t.operation?o.jsx(gf,{...e},`${t.rootClientId}-${t.index}`):o.jsx(hf,{operation:t.operation,nearestSide:t.nearestSide,...e})}function bf(){const e=n.useContext(mf),t=od(e=>e(y).getSettings().isDistractionFree||"zoom-out"===e(y).__unstableGetEditorMode(),[]),{getBlockListSettings:o,getBlockIndex:r,isMultiSelecting:l,getSelectedBlockClientIds:i,getSettings:s,getTemplateLock:a,__unstableIsWithinBlockOverlay:c,getBlockEditingMode:u,getBlockName:d,getBlockAttributes:p,getParentSectionBlock:g}=Id(od(y)),{showInsertionPoint:m,hideInsertionPoint:h}=ld(y);return ci(n=>{if(!t)return n.addEventListener("mousemove",f),()=>{n.removeEventListener("mousemove",f)};function f(t){if(void 0===e||e.current)return;if(t.target.nodeType===t.target.TEXT_NODE)return;if(l())return;if(!t.target.classList.contains("block-editor-block-list__layout"))return void h();let n;if(!t.target.classList.contains("is-root-container")){n=(t.target.getAttribute("data-block")?t.target:t.target.closest("[data-block]")).getAttribute("data-block")}if(a(n)||"disabled"===u(n)||"core/block"===d(n)||n&&p(n).layout?.isManualPlacement)return;const f=o(n),b=f?.orientation||"vertical",k=!!f?.__experimentalCaptureToolbars,v=t.clientY,x=t.clientX;let y=Array.from(t.target.children).find(e=>{const t=e.getBoundingClientRect();return e.classList.contains("wp-block")&&"vertical"===b&&t.top>v||e.classList.contains("wp-block")&&"horizontal"===b&&(co()?t.right<x:t.left>x)});if(!y)return void h();if(!y.id&&(y=y.firstElementChild,!y))return void h();const _=y.id.slice(6);if(!_||c(_)||g(_))return;if(i().includes(_)&&"vertical"===b&&!k&&!s().hasFixedToolbar)return;const C=y.getBoundingClientRect();if("horizontal"===b&&(t.clientY>C.bottom||t.clientY<C.top)||"vertical"===b&&(t.clientX>C.right||t.clientX<C.left))return void h();const j=r(_);0!==j?m(n,j,{__unstableWithInserter:!0}):h()}},[e,o,r,l,m,h,i,t])}const kf=new WeakMap;function vf(e,t,o,r,l,i,s,a,c,u,d,p){const g=Yu(),m=function(e){const[t,o]=n.useState(e);return ke(t,e)||o(e),t}(o),h=n.useMemo(()=>r,r),f=void 0===c||"contentOnly"===t?t:c;n.useLayoutEffect(()=>{const t={allowedBlocks:m,prioritizedInserterBlocks:h,templateLock:f};if(void 0!==u&&(t.__experimentalCaptureToolbars=u),void 0!==d)t.orientation=d;else{const e=Vp(p?.type);t.orientation=e.getOrientation(p)}void 0!==s&&(be("__experimentalDefaultBlock",{alternative:"defaultBlock",since:"6.3",version:"6.4"}),t.defaultBlock=s),void 0!==l&&(t.defaultBlock=l),void 0!==a&&(be("__experimentalDirectInsert",{alternative:"directInsert",since:"6.3",version:"6.4"}),t.directInsert=a),void 0!==i&&(t.directInsert=i),void 0!==t.directInsert&&"boolean"!=typeof t.directInsert&&be("Using `Function` as a `directInsert` argument",{alternative:"`boolean` values",since:"6.5"}),kf.get(g)||kf.set(g,{}),kf.get(g)[e]=t,window.queueMicrotask(()=>{const e=kf.get(g);if(Object.keys(e).length){const{updateBlockListSettings:t}=g.dispatch(y);t(e),kf.set(g,{})}})},[e,m,h,f,l,i,s,a,u,d,p,g])}function xf(e,t,n,o,r,l,i,s,a){return c=>{const{srcRootClientId:u,srcClientIds:d,type:p,blocks:g}=function(e){let t={srcRootClientId:null,srcClientIds:null,srcIndex:null,type:null,blocks:null};if(!e.dataTransfer)return t;try{t=Object.assign(t,JSON.parse(e.dataTransfer.getData("wp-blocks")))}catch(n){return t}return t}(c);if("inserter"===p){i();const e=g.map(e=>Q(e));l(e,!0,null)}if("block"===p){const i=n(d[0]);if(u===e&&i===t)return;if(d.includes(e)||o(d).some(t=>t===e))return;if("group"===s){const e=d.map(e=>a(e));return void l(e,!0,null,d)}const c=u===e,p=d.length;r(d,u,c&&i<t?t-p:t)}}}function yf(e,t,o={}){const{operation:r="insert",nearestSide:l="right"}=o,{canInsertBlockType:i,getBlockIndex:s,getClientIdsOfDescendants:a,getBlockOrder:c,getBlocksByClientId:u,getSettings:d,getBlock:p}=od(y),{getGroupingBlockName:g}=od(z),{insertBlocks:m,moveBlocksToPosition:h,updateBlockAttributes:f,clearSelectedBlock:b,replaceBlocks:k,removeBlocks:v}=ld(y),x=Yu(),_=n.useCallback((n,o=!0,s=0,a=[])=>{Array.isArray(n)||(n=[n]);const u=c(e)[t];if("replace"===r)k(u,n,void 0,s);else if("group"===r){const t=p(u);"left"===l?n.push(t):n.unshift(t);const o=n.map(e=>L(e.name,e.attributes,e.innerBlocks)),r=n.every(e=>"core/image"===e.name),c=i("core/gallery",e),d=L(r&&c?"core/gallery":g(),{layout:{type:"flex",flexWrap:r&&c?null:"nowrap"}},o);k([u,...a],d,void 0,s)}else m(n,t,e,o,s)},[c,e,t,r,k,p,l,i,g,m]),C=n.useCallback((n,o,l)=>{if("replace"===r){const o=u(n),r=c(e)[t];x.batch(()=>{v(n,!1),k(r,o,void 0,0)})}else h(n,o,e,l)},[r,c,u,h,x,v,k,t,e]),j=xf(e,t,s,a,C,_,b,r,p),S=function(e,t,n,o,r){return l=>{if(!t().mediaUpload)return;const i=te(ee("from"),t=>"files"===t.type&&o(t.blockName,e)&&t.isMatch(l));if(i){const e=i.transform(l,n);r(e)}}}(e,d,f,i,_),w=function(e){return t=>{const n=ne({HTML:t,mode:"BLOCKS"});n.length&&e(n)}}(_);return e=>{const t=It(e.dataTransfer),n=e.dataTransfer.getData("text/html");n?w(n):t.length?S(t):j(e)}}const _f=30,Cf=120,jf=120;function Sf(e,t,n,o){let r=!0;if(t){const e=t?.map(({name:e})=>e);r=n.every(t=>e?.includes(t))}const l=n.map(t=>e(t)).every(e=>{const[t]=e?.parent||[];return!t||t===o});return r&&l}function wf(e,t){const{defaultView:n}=t;return!!(n&&e instanceof n.HTMLElement&&e.dataset.isInsertionPoint)}function If({dropZoneElement:e,rootClientId:t="",parentClientId:o="",isDisabled:r=!1}={}){const l=Yu(),[i,s]=n.useState({index:null,operation:"insert"}),{getBlockType:a,getBlockVariations:c,getGroupingBlockName:u}=od(z),{canInsertBlockType:d,getBlockListSettings:p,getBlocks:g,getBlockIndex:m,getDraggedBlockClientIds:h,getBlockNamesByClientId:f,getAllowedBlocks:b,isDragging:k,isGroupable:v,isZoomOutMode:x,getSectionRootClientId:_}=Id(od(y)),{showInsertionPoint:C,hideInsertionPoint:j,startDragging:S,stopDragging:w}=Id(ld(y)),I=yf("before"===i.operation||"after"===i.operation?o:t,i.index,{operation:i.operation,nearestSide:i.nearestSide}),B=yi(n.useCallback((n,r)=>{k()||S();const i=b(t),y=f([t])[0],j=f(h());if(!Sf(a,i,j,y))return;const w=_();if(x()&&w!==t)return;const I=g(t);if(0===I.length)return void l.batch(()=>{s({index:0,operation:"insert"}),C(t,0,{operation:"insert"})});const B=function(e,t,n="vertical",o={}){const r="horizontal"===n?["left","right"]:["top","bottom"];let l=0,i="before",s=1/0,a=null,c="right";const{dropZoneElement:u,parentBlockOrientation:d,rootBlockIndex:p=0}=o;if(u&&"horizontal"!==d){const e=u.getBoundingClientRect(),[n,o]=Xo(t,e,["top","bottom"]);if(e.height>Cf&&n<_f){if("top"===o)return[p,"before"];if("bottom"===o)return[p+1,"after"]}}const g=co();if(u&&"horizontal"===d){const e=u.getBoundingClientRect(),[n,o]=Xo(t,e,["left","right"]);if(e.width>jf&&n<_f){if(g&&"right"===o||!g&&"left"===o)return[p,"before"];if(g&&"left"===o||!g&&"right"===o)return[p+1,"after"]}}e.forEach(({isUnmodifiedDefaultBlock:e,getBoundingClientRect:o,blockIndex:u,blockOrientation:d})=>{const p=o();let[m,h]=Xo(t,p,r);const[f,b]=Xo(t,p,["left","right"]),k=Jo(t,p);e&&k?m=0:"vertical"===n&&"horizontal"!==d&&(k&&f<_f||!k&&Qo(t,p))&&(a=u,c=b),m<s&&(i="bottom"===h||!g&&"right"===h||g&&"left"===h?"after":"before",s=m,l=u)});const m=l+("after"===i?1:-1),h=!!e[l]?.isUnmodifiedDefaultBlock,f=!!e[m]?.isUnmodifiedDefaultBlock;if(null!==a)return[a,"group",c];if(!h&&!f)return["after"===i?l+1:l,"insert"];return[h?l:m,"replace"]}(I.map(e=>{const t=e.clientId;return{isUnmodifiedDefaultBlock:Y(e),getBoundingClientRect:()=>r.getElementById(`block-${t}`).getBoundingClientRect(),blockIndex:m(t),blockOrientation:p(t)?.orientation}}),{x:n.clientX,y:n.clientY},p(t)?.orientation,{dropZoneElement:e,parentBlockOrientation:o?p(o)?.orientation:void 0,rootBlockIndex:m(t)}),[N,E,D]=B;if(!x()||"insert"===E){if("group"===E){const e=I[N],n=[e.name,...j].every(e=>"core/image"===e),o=d("core/gallery",t),r=v([e.clientId,h()]),l=c(u(),"block"),i=l&&l.find(({name:e})=>"group-row"===e);if(n&&!o&&(!r||!i))return;if(!(n||r&&i))return}l.batch(()=>{s({index:N,operation:E,nearestSide:D});const e=["before","after"].includes(E)?o:t;C(e,N,{operation:E,nearestSide:D})})}},[k,b,t,f,h,a,_,x,g,p,e,o,m,l,S,C,d,v,c,u]),200);return _i({dropZoneElement:e,isDisabled:r,onDrop:I,onDragOver(e){B(e,e.currentTarget.ownerDocument)},onDragLeave(e){const{ownerDocument:t}=e.currentTarget;wf(e.relatedTarget,t)||wf(e.target,t)||(B.cancel(),j())},onDragEnd(){B.cancel(),w(),j()}})}const Bf={};function Nf({children:e,clientId:t}){const n=function(e){return od(t=>{const n=t(y).getBlock(e);if(!n)return;const o=t(z).getBlockType(n.name);return o&&0!==Object.keys(o.providesContext).length?Object.fromEntries(Object.entries(o.providesContext).map(([e,t])=>[e,n.attributes[t]])):void 0},[e])}(t);return o.jsx(Nd,{value:n,children:e})}const Ef=n.memo(qf);function Df(e){const{clientId:t,allowedBlocks:r,prioritizedInserterBlocks:l,defaultBlock:i,directInsert:s,__experimentalDefaultBlock:a,__experimentalDirectInsert:c,template:u,templateLock:d,wrapperRef:p,templateInsertUpdatesSelection:g,__experimentalCaptureToolbars:m,__experimentalAppenderTagName:h,renderAppender:f,orientation:b,placeholder:k,layout:v,name:x,blockType:_,parentLock:C,defaultLayout:j}=e;vf(t,C,r,l,i,s,a,c,d,m,b,v),function(e,t,o,r){const{getBlocks:l,getSelectedBlocksInitialCaretPosition:i,isBlockSelected:s}=od(y),{replaceInnerBlocks:a,__unstableMarkNextChangeAsNotPersistent:c}=ld(y),u=n.useRef(null);n.useLayoutEffect(()=>{let n=!1;return window.queueMicrotask(()=>{if(n)return;const d=l(e),p=0===d.length||"all"===o||"contentOnly"===o,g=!du(t,u.current);if(!p||!g)return;u.current=t;const m=se(d,t);du(m,d)||(c(),a(e,m,0===d.length&&r&&0!==m.length&&s(e),i()))}),()=>{n=!0}},[t,o,e])}(t,u,d,g);const S=O(x,"layout")||O(x,"__experimentalLayout")||Bf,{allowSizingOnChildren:w=!1}=S,I=v||S,B=n.useMemo(()=>({...j,...I,...w&&{allowSizingOnChildren:!0}}),[j,I,w]),N=o.jsx(Ef,{rootClientId:t,renderAppender:f,__experimentalAppenderTagName:h,layout:B,wrapperRef:p,placeholder:k});return _?.providesContext&&0!==Object.keys(_.providesContext).length?o.jsx(Nf,{clientId:t,children:N}):N}function Pf(e){return am(e),o.jsx(Df,{...e})}const Tf=n.forwardRef((e,t)=>{const n=Mf({ref:t},e);return o.jsx("div",{className:"block-editor-inner-blocks",children:o.jsx("div",{...n})})});function Mf(e={},t={}){const{__unstableDisableLayoutClassNames:n,__unstableDisableDropZone:r,dropZoneElement:l}=t,{clientId:i,layout:s=null,__unstableLayoutClassNames:a=""}=kd(),c=od(e=>{const{getBlockName:t,__unstableGetEditorMode:n,getTemplateLock:o,getBlockRootClientId:r,getBlockEditingMode:l,getBlockSettings:s,getSectionRootClientId:a}=Id(e(y));let c;if(!i)return{isDropZoneDisabled:c};const{hasBlockSupport:u,getBlockType:d}=e(z),p=t(i),g=l(i),m=r(i),[h]=s(i,"layout");if(c="disabled"===g,"zoom-out"===n()){const e=a();c=i!==e}return{__experimentalCaptureToolbars:u(p,"__experimentalExposeControlsToChildren",!1),name:p,blockType:d(p),parentLock:o(m),parentClientId:m,isDropZoneDisabled:c,defaultLayout:h}},[i]),{__experimentalCaptureToolbars:u,name:d,blockType:p,parentLock:g,parentClientId:m,isDropZoneDisabled:h,defaultLayout:f}=c,b=If({dropZoneElement:l,rootClientId:i,parentClientId:m}),k=di([e.ref,r||h||s?.isManualPlacement&&window.__experimentalEnableGridInteractivity?null:b]),v={__experimentalCaptureToolbars:u,layout:s,name:d,blockType:p,parentLock:g,defaultLayout:f,...t},x=v.value&&v.onChange?Pf:Df;return{...e,ref:k,className:ei(e.className,"block-editor-block-list__layout",n?"":a),children:i?o.jsx(x,{...v,clientId:i}):o.jsx(qf,{...t})}}Mf.save=ae,Tf.DefaultBlockAppender=function(){const{clientId:e}=kd();return o.jsx(Xh,{rootClientId:e})},Tf.ButtonBlockAppender=function({showSeparator:e,isFloating:t,onAddBlock:n,isToggle:r}){const{clientId:l}=kd();return o.jsx(ef,{className:ei({"block-list-appender__toggle":r}),rootClientId:l,showSeparator:e,isFloating:t,onAddBlock:n})},Tf.Content=()=>Mf.save().children;const Lf=new Set([ig,39,sg,37,lg,rg]);function Rf(){const e=od(e=>e(y).isTyping(),[]),{stopTyping:t}=ld(y);return ci(n=>{if(!e)return;const{ownerDocument:o}=n;let r,l;function i(e){const{clientX:n,clientY:o}=e;r&&l&&(r!==n||l!==o)&&t(),r=n,l=o}return o.addEventListener("mousemove",i),()=>{o.removeEventListener("mousemove",i)}},[e,t])}function Af(){const{isTyping:e}=od(e=>{const{isTyping:t}=e(y);return{isTyping:t()}},[]),{startTyping:t,stopTyping:n}=ld(y),o=Rf(),r=ci(o=>{const{ownerDocument:r}=o,{defaultView:l}=r,i=l.getSelection();if(e){let a;function c(e){const{target:t}=e;a=l.setTimeout(()=>{Ze(t)||n()})}function u(e){const{keyCode:t}=e;27!==t&&9!==t||n()}function d(){i.isCollapsed||n()}return o.addEventListener("focus",c),o.addEventListener("keydown",u),r.addEventListener("selectionchange",d),()=>{l.clearTimeout(a),o.removeEventListener("focus",c),o.removeEventListener("keydown",u),r.removeEventListener("selectionchange",d)}}function s(e){const{type:n,target:r}=e;Ze(r)&&o.contains(r)&&("keydown"!==n||function(e){const{keyCode:t,shiftKey:n}=e;return!n&&Lf.has(t)}(e))&&t()}return o.addEventListener("keypress",s),o.addEventListener("keydown",s),()=>{o.removeEventListener("keypress",s),o.removeEventListener("keydown",s)}},[e,t,n]);return di([o,r])}function Of({children:e}){return o.jsx("div",{ref:Af(),children:e})}function zf({clientId:e,rootClientId:t="",position:r="top"}){const[l,i]=n.useState(!1),{sectionRootClientId:s,sectionClientIds:a,insertionPoint:c,blockInsertionPointVisible:u,blockInsertionPoint:d}=od(e=>{const{getInsertionPoint:t,getBlockOrder:n,getSectionRootClientId:o,isBlockInsertionPointVisible:r,getBlockInsertionPoint:l}=Id(e(y)),i=o();return{sectionRootClientId:i,sectionClientIds:n(i),blockOrder:n(i),insertionPoint:t(),blockInsertionPoint:l(),blockInsertionPointVisible:r()}},[]),p=ui();if(!e)return;let g=!1;if(!(t===s&&a&&a.includes(e)))return null;const m=0===c?.index&&e===a[c.index],h=c&&c.hasOwnProperty("index")&&e===a[c.index-1];return"top"===r&&(g=m||u&&0===d.index&&e===a[d.index]),"bottom"===r&&(g=h||u&&e===a[d.index-1]),o.jsx(Ds,{children:g&&o.jsx(Is.div,{as:"button",layout:!p,initial:{height:0},animate:{height:"120px"},exit:{height:0},transition:{type:"tween",duration:.2,ease:[.6,0,.4,1]},className:ei("block-editor-block-list__zoom-out-separator",{"is-dragged-over":l}),"data-is-insertion-point":"true",onDragOver:()=>i(!0),onDragLeave:()=>i(!1),children:o.jsx(Is.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.1},children:ao("Drop pattern.")})})})}const Ff=n.createContext(),Vf=new WeakMap;function $f({className:e,...t}){const r=ki("medium"),{isOutlineMode:l,isFocusMode:i,temporarilyEditingAsBlocks:s}=od(e=>{const{getSettings:t,getTemporarilyEditingAsBlocks:n,isTyping:o}=Id(e(y)),{outlineMode:r,focusMode:l}=t();return{isOutlineMode:r&&!o(),isFocusMode:l,temporarilyEditingAsBlocks:n()}},[]),a=Yu(),{setBlockVisibility:c}=ld(y),u=fi(n.useCallback(()=>{const e={};Vf.get(a).forEach(([t,n])=>{e[t]=n}),c(e)},[a]),300,{trailing:!0}),d=n.useMemo(()=>{const{IntersectionObserver:e}=window;if(e)return new e(e=>{Vf.get(a)||Vf.set(a,[]);for(const t of e){const e=t.target.getAttribute("data-block");Vf.get(a).push([e,t.isIntersecting])}u()})},[]),p=Mf({ref:di([pm(),bf(),Af()]),className:ei("is-root-container",e,{"is-outline-mode":l,"is-focus-mode":i&&r})},t);return o.jsxs(Ff.Provider,{value:d,children:[o.jsx("div",{...p}),!!s&&o.jsx(Hf,{clientId:s})]})}function Hf({clientId:e}){const{stopEditingAsBlocks:t}=Id(ld(y)),o=od(t=>{const{isBlockSelected:n,hasSelectedInnerBlock:o}=t(y);return n(e)||o(e,!0)},[e]);return n.useEffect(()=>{o||t(e)},[o,e,t]),null}function Uf(e){return o.jsx(bd,{value:hd,children:o.jsx($f,{...e})})}const Gf=[],Wf=new Set;function Kf({placeholder:e,rootClientId:t,renderAppender:n,__experimentalAppenderTagName:r,layout:l=Hp}){const i=!1!==n,s=!!n,{order:a,isZoomOut:c,selectedBlocks:u,visibleBlocks:d,shouldRenderAppender:p}=od(e=>{const{getSettings:n,getBlockOrder:o,getSelectedBlockClientId:r,getSelectedBlockClientIds:l,__unstableGetVisibleBlocks:a,getTemplateLock:c,getBlockEditingMode:u,__unstableGetEditorMode:d,isSectionBlock:p}=Id(e(y)),g=o(t);if(n().__unstableIsPreviewMode)return{order:g,selectedBlocks:Gf,visibleBlocks:Wf};const m=r();return{order:g,selectedBlocks:l(),visibleBlocks:a(),isZoomOut:"zoom-out"===d(),shouldRenderAppender:!p(t)&&"disabled"!==u(t)&&!c(t)&&i&&"zoom-out"!==d()&&(s||t===m||!t&&!m&&!g.length)}},[t,i,s]);return o.jsxs(Gp,{value:l,children:[a.map(e=>o.jsxs(Qu,{value:!d.has(e)&&!u.includes(e),children:[c&&o.jsx(zf,{clientId:e,rootClientId:t,position:"top"}),o.jsx(nm,{rootClientId:t,clientId:e}),c&&o.jsx(zf,{clientId:e,rootClientId:t,position:"bottom"})]},e)),a.length<1&&e,p&&o.jsx(nf,{tagName:r,rootClientId:t,CustomAppender:n})]})}function qf(e){return o.jsx(Qu,{value:!1,children:o.jsx(Kf,{...e})})}const Zf=Ns("InspectorControls"),Yf=Ns("InspectorAdvancedControls"),Xf=Ns("InspectorControlsBindings"),Jf=Ns("InspectorControlsBackground"),Qf=Ns("InspectorControlsBorder"),eb=Ns("InspectorControlsColor"),tb=Ns("InspectorControlsFilter"),nb=Ns("InspectorControlsDimensions"),ob=Ns("InspectorControlsPosition"),rb=Ns("InspectorControlsTypography"),lb=Ns("InspectorControlsListView"),ib=Ns("InspectorControlsStyles"),sb={default:Zf,advanced:Yf,background:Jf,bindings:Xf,border:Qf,color:eb,dimensions:nb,effects:Ns("InspectorControlsEffects"),filter:tb,list:lb,position:ob,settings:Zf,styles:ib,typography:rb};function ab({children:e,group:t="default",__experimentalGroup:n,resetAllFilter:r}){n&&(be("`__experimentalGroup` property in `InspectorControlsFill`",{since:"6.2",version:"6.4",alternative:"`group`"}),t=n);const l=kd(),i=sb[t]?.Fill;return i?l[ud]?o.jsx(cs,{document:document,children:o.jsx(i,{children:t=>o.jsx(ub,{fillProps:t,children:e,resetAllFilter:r})})}):null:(!0===globalThis.SCRIPT_DEBUG&&tt(`Unknown InspectorControls group "${t}" provided.`),null)}function cb({resetAllFilter:e,children:t}){const{registerResetAllFilter:o,deregisterResetAllFilter:r}=n.useContext(Ps);return n.useEffect(()=>{if(e&&o&&r)return o(e),()=>{r(e)}},[e,o,r]),t}function ub({children:e,resetAllFilter:t,fillProps:n}){const{forwardedContext:r=[]}=n,l=o.jsx(cb,{resetAllFilter:t,children:e});return r.reduce((e,[t,n])=>o.jsx(t,{...n,children:e}),l)}function db({children:e,group:t,label:r}){const{updateBlockAttributes:l}=ld(y),{getBlockAttributes:i,getMultiSelectedBlockClientIds:s,getSelectedBlockClientId:a,hasMultiSelection:c}=od(y),u=er(),d=a(),p=n.useCallback((e=[])=>{const t={},n=c()?s():[d];n.forEach(n=>{const{style:o}=i(n);let r={style:o};e.forEach(e=>{r={...r,...e(r)}}),r={...r,style:tr(r.style)},t[n]=r}),l(n,t,!0)},[i,s,c,d,l]);return o.jsx(Ts,{className:`${t}-block-support-panel`,label:r,resetAll:p,panelId:d,hasInnerWrapper:!0,shouldRenderPlaceholderItems:!0,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",dropdownMenuProps:u,children:e},d)}function pb({Slot:e,fillProps:t,...r}){const l=n.useContext(Ps),i=n.useMemo(()=>{var e;return{...null!=t?t:{},forwardedContext:[...null!==(e=t?.forwardedContext)&&void 0!==e?e:[],[Ps.Provider,{value:l}]]}},[l,t]);return o.jsx(e,{...r,fillProps:i,bubblesVirtually:!0})}function gb({__experimentalGroup:e,group:t="default",label:r,fillProps:l,...i}){e&&(be("`__experimentalGroup` property in `InspectorControlsSlot`",{since:"6.2",version:"6.4",alternative:"`group`"}),t=e);const s=sb[t]?.Slot,a=Ms(s?.__unstableName),c=n.useContext(Ls),u=n.useMemo(()=>{var e;return{...null!=l?l:{},forwardedContext:[...null!==(e=l?.forwardedContext)&&void 0!==e?e:[],[Ls.Provider,{value:c}]]}},[c,l]);return s?a?.length?r?o.jsx(db,{group:t,label:r,children:o.jsx(pb,{...i,fillProps:u,Slot:s})}):o.jsx(s,{...i,fillProps:u,bubblesVirtually:!0}):null:(!0===globalThis.SCRIPT_DEBUG&&tt(`Unknown InspectorControls group "${t}" provided.`),null)}const mb=ab;mb.Slot=gb;const hb=e=>o.jsx(ab,{...e,group:"advanced"});function fb(e){return od(t=>{if(!e)return null;const{getBlockName:n,getBlockAttributes:o}=t(y),{getBlockType:r,getActiveBlockVariation:l}=t(z),i=n(e),s=r(i);if(!s)return null;const a=o(e),c=l(i,a),u=K(s)||le(s),d=(u?F(s,a):void 0)||s.title,p=function(e){const t=e?.style?.position?.type;return"sticky"===t?ao("Sticky"):"fixed"===t?ao("Fixed"):null}(a),g={isSynced:u,title:d,icon:s.icon,description:s.description,anchor:a?.anchor,positionLabel:p,positionType:a?.style?.position?.type,name:a?.metadata?.name};return c?{isSynced:u,title:c.title||s.title,icon:c.icon||s.icon,description:c.description||s.description,anchor:a?.anchor,positionLabel:p,positionType:a?.style?.position?.type,name:a?.metadata?.name}:g},[e])}hb.Slot=e=>o.jsx(gb,{...e,group:"advanced"}),hb.slotName="InspectorAdvancedControls";const bb={placement:"top-start"},kb={...bb,flip:!1,shift:!0},vb={...bb,flip:!0,shift:!1};function xb(e,t,n,o,r){if(!e||!t)return kb;const l=n?.scrollTop||0,i=Yo(t),s=l+e.getBoundingClientRect().top,a=e.ownerDocument.documentElement.clientHeight,c=s+o,u=i.top>c,d=i.height>a-o;return r||!u&&!d?vb:kb}function yb({contentElement:e,clientId:t}){const o=wg(t),[r,l]=n.useState(0),{blockIndex:i,isSticky:s}=od(e=>{const{getBlockIndex:n,getBlockAttributes:o}=e(y);return{blockIndex:n(t),isSticky:nr(o(t))}},[t]),a=n.useMemo(()=>{if(e)return Ke(e)},[e]),[c,u]=n.useState(()=>xb(e,o,a,r,s)),d=ci(e=>{l(e.offsetHeight)},[]),p=n.useCallback(()=>u(xb(e,o,a,r,s)),[e,o,a,r]);return n.useLayoutEffect(p,[i,p]),n.useLayoutEffect(()=>{if(!e||!o)return;const t=e?.ownerDocument?.defaultView;let n;t?.addEventHandler?.("resize",p);const r=o?.ownerDocument?.defaultView;return r.ResizeObserver&&(n=new r.ResizeObserver(p),n.observe(o)),()=>{t?.removeEventHandler?.("resize",p),n&&n.disconnect()}},[p,e,o]),{...c,ref:d}}function _b(e){const t=od(t=>{const{getBlockRootClientId:n,getBlockParents:o,__experimentalGetBlockListSettingsForBlocks:r,isBlockInsertionPointVisible:l,getBlockInsertionPoint:i,getBlockOrder:s,hasMultiSelection:a,getLastMultiSelectedBlockClientId:c}=t(y),u=o(e),d=r(u),p=u.find(e=>d[e]?.__experimentalCaptureToolbars);let g=!1;if(l()){const t=i();g=s(t.rootClientId)[t.index]===e}return{capturingClientId:p,isInsertionPointVisible:g,lastClientId:a()?c():null,rootClientId:n(e)}},[e]);return t}function Cb({clientId:e,__unstableContentRef:t}){const{capturingClientId:n,isInsertionPointVisible:r,lastClientId:l,rootClientId:i}=_b(e),s=yb({contentElement:t?.current,clientId:e});return o.jsx(df,{clientId:n||e,bottomClientId:l,className:ei("block-editor-block-list__block-side-inserter-popover",{"is-insertion-point-visible":r}),__unstableContentRef:t,...s,children:o.jsx("div",{className:"block-editor-block-list__empty-block-inserter",children:o.jsx(Zh,{position:"bottom right",rootClientId:i,clientId:e,__experimentalIsQuick:!0})})})}const jb=({appendToOwnerDocument:e,children:t,clientIds:r,cloneClassname:l,elementId:i,onDragStart:s,onDragEnd:a,fadeWhenDisabled:c=!1,dragComponent:u})=>{const{srcRootClientId:d,isDraggable:p,icon:g,visibleInserter:m,getBlockType:h}=od(e=>{const{canMoveBlocks:t,getBlockRootClientId:n,getBlockName:o,getBlockAttributes:l,isBlockInsertionPointVisible:i}=e(y),{getBlockType:s,getActiveBlockVariation:a}=e(z),c=n(r[0]),u=o(r[0]),d=a(u,l(r[0]));return{srcRootClientId:c,isDraggable:t(r),icon:d?.icon||s(u)?.icon,visibleInserter:i(),getBlockType:s}},[r]),f=n.useRef(!1),[b,k,v]=function(){const e=n.useRef(null),t=n.useRef(null),o=n.useRef(null),r=n.useRef(null);return n.useEffect(()=>()=>{r.current&&(clearInterval(r.current),r.current=null)},[]),[n.useCallback(n=>{e.current=n.clientY,o.current=Ke(n.target),r.current=setInterval(()=>{if(o.current&&t.current){const e=o.current.scrollTop+t.current;o.current.scroll({top:e})}},25)},[]),n.useCallback(n=>{if(!o.current)return;const r=o.current.offsetHeight,l=e.current-o.current.offsetTop,i=n.clientY-o.current.offsetTop;if(n.clientY>l){const e=Math.max(r-l-50,0),n=Math.max(i-l-50,0),o=0===e||0===n?0:n/e;t.current=25*o}else if(n.clientY<l){const e=Math.max(l-50,0),n=Math.max(l-i-50,0),o=0===e||0===n?0:n/e;t.current=-25*o}else t.current=0},[]),()=>{e.current=null,o.current=null,r.current&&(clearInterval(r.current),r.current=null)}]}(),{getAllowedBlocks:x,getBlockNamesByClientId:_,getBlockRootClientId:C}=od(y),{startDraggingBlocks:j,stopDraggingBlocks:S}=ld(y);n.useEffect(()=>()=>{f.current&&S()},[]);const w=wg(r[0]),I=w?.closest("body");if(n.useEffect(()=>{if(!I||!c)return;const e=Ci(e=>{if(!e.target.closest("[data-block]"))return;const t=_(r),n=e.target.closest("[data-block]").getAttribute("data-block"),o=x(n),l=_([n])[0];let i;if(0===o?.length){const e=C(n),o=_([e])[0],r=x(e);i=Sf(h,r,t,o)}else i=Sf(h,o,t,l);i||m?window?.document?.body?.classList?.remove("block-draggable-invalid-drag-token"):window?.document?.body?.classList?.add("block-draggable-invalid-drag-token")},200);return I.addEventListener("dragover",e),()=>{I.removeEventListener("dragover",e)}},[r,I,c,x,_,C,h,m]),!p)return t({draggable:!1});const B={type:"block",srcClientIds:r,srcRootClientId:d};return o.jsx(ps,{appendToOwnerDocument:e,cloneClassname:l,__experimentalTransferDataType:"wp-blocks",transferData:B,onDragStart:e=>{window.requestAnimationFrame(()=>{j(r),f.current=!0,b(e),s&&s()})},onDragOver:k,onDragEnd:()=>{S(),f.current=!1,v(),a&&a()},__experimentalDragComponent:void 0!==u?u:o.jsx(Km,{count:r.length,icon:g,fadeWhenDisabled:!0}),elementId:i,children:({onDraggableStart:e,onDraggableEnd:n})=>t({draggable:!0,onDragStart:e,onDragEnd:n})})},Sb=(e,t)=>"up"===e?"horizontal"===t?co()?"right":"left":"up":"down"===e?"horizontal"===t?co()?"left":"right":"down":null;function wb(e,t,n,o,r,l,i){const s=n+1;if(e>1)return function(e,t,n,o,r,l){const i=t+1;if(n&&o)return ao("All blocks are selected, and cannot be moved");if(r>0&&!o){const t=Sb("down",l);if("down"===t)return po(ao("Move %1$d blocks from position %2$d down by one place"),e,i);if("left"===t)return po(ao("Move %1$d blocks from position %2$d left by one place"),e,i);if("right"===t)return po(ao("Move %1$d blocks from position %2$d right by one place"),e,i)}if(r>0&&o){const e=Sb("down",l);if("down"===e)return ao("Blocks cannot be moved down as they are already at the bottom");if("left"===e)return ao("Blocks cannot be moved left as they are already are at the leftmost position");if("right"===e)return ao("Blocks cannot be moved right as they are already are at the rightmost position")}if(r<0&&!n){const t=Sb("up",l);if("up"===t)return po(ao("Move %1$d blocks from position %2$d up by one place"),e,i);if("left"===t)return po(ao("Move %1$d blocks from position %2$d left by one place"),e,i);if("right"===t)return po(ao("Move %1$d blocks from position %2$d right by one place"),e,i)}if(r<0&&n){const e=Sb("up",l);if("up"===e)return ao("Blocks cannot be moved up as they are already at the top");if("left"===e)return ao("Blocks cannot be moved left as they are already are at the leftmost position");if("right"===e)return ao("Blocks cannot be moved right as they are already are at the rightmost position")}}(e,n,o,r,l,i);if(o&&r)return po(ao("Block %s is the only block, and cannot be moved"),t);if(l>0&&!r){const e=Sb("down",i);if("down"===e)return po(ao("Move %1$s block from position %2$d down to position %3$d"),t,s,s+1);if("left"===e)return po(ao("Move %1$s block from position %2$d left to position %3$d"),t,s,s+1);if("right"===e)return po(ao("Move %1$s block from position %2$d right to position %3$d"),t,s,s+1)}if(l>0&&r){const e=Sb("down",i);if("down"===e)return po(ao("Block %1$s is at the end of the content and can’t be moved down"),t);if("left"===e)return po(ao("Block %1$s is at the end of the content and can’t be moved left"),t);if("right"===e)return po(ao("Block %1$s is at the end of the content and can’t be moved right"),t)}if(l<0&&!o){const e=Sb("up",i);if("up"===e)return po(ao("Move %1$s block from position %2$d up to position %3$d"),t,s,s-1);if("left"===e)return po(ao("Move %1$s block from position %2$d left to position %3$d"),t,s,s-1);if("right"===e)return po(ao("Move %1$s block from position %2$d right to position %3$d"),t,s,s-1)}if(l<0&&o){const e=Sb("up",i);if("up"===e)return po(ao("Block %1$s is at the beginning of the content and can’t be moved up"),t);if("left"===e)return po(ao("Block %1$s is at the beginning of the content and can’t be moved left"),t);if("right"===e)return po(ao("Block %1$s is at the beginning of the content and can’t be moved right"),t)}}const Ib=(e,t)=>"up"===e?"horizontal"===t?co()?nt:ot:Bt:"down"===e?"horizontal"===t?co()?ot:nt:Nt:null,Bb=(e,t)=>"up"===e?"horizontal"===t?co()?ao("Move right"):ao("Move left"):ao("Move up"):"down"===e?"horizontal"===t?co()?ao("Move left"):ao("Move right"):ao("Move down"):null,Nb=n.forwardRef(({clientIds:e,direction:t,orientation:n,...r},l)=>{const i=mi(Nb),s=Array.isArray(e)?e:[e],a=s.length,{disabled:c}=r,{blockType:u,isDisabled:d,rootClientId:p,isFirst:g,isLast:m,firstIndex:h,orientation:f="vertical"}=od(e=>{const{getBlockIndex:o,getBlockRootClientId:r,getBlockOrder:l,getBlock:i,getBlockListSettings:a}=e(y),u=s[0],d=r(u),p=o(u),g=o(s[s.length-1]),m=l(d),h=i(u),f=0===p,b=g===m.length-1,{orientation:k}=a(d)||{};return{blockType:h?D(h.name):null,isDisabled:c||("up"===t?f:b),rootClientId:d,firstIndex:p,isFirst:f,isLast:b,orientation:n||k}},[e,t]),{moveBlocksDown:b,moveBlocksUp:k}=ld(y),v="up"===t?k:b,x=`block-editor-block-mover-button__description-${i}`;return o.jsxs(o.Fragment,{children:[o.jsx(Mi,{__next40pxDefaultSize:!0,ref:l,className:ei("block-editor-block-mover-button",`is-${t}-button`),icon:Ib(t,f),label:Bb(t,f),"aria-describedby":x,...r,onClick:d?null:t=>{v(e,p),r.onClick&&r.onClick(t)},disabled:d,accessibleWhenDisabled:!0}),o.jsx(fs,{id:x,children:wb(a,u&&u.title,h,g,m,"up"===t?-1:1,f)})]})}),Eb=n.forwardRef((e,t)=>o.jsx(Nb,{direction:"up",ref:t,...e})),Db=n.forwardRef((e,t)=>o.jsx(Nb,{direction:"down",ref:t,...e}));function Pb({clientIds:e,hideDragHandle:t,isBlockMoverUpButtonDisabled:n,isBlockMoverDownButtonDisabled:r}){const{canMove:l,rootClientId:i,isFirst:s,isLast:a,orientation:c,isManualGrid:u}=od(t=>{var n;const{getBlockIndex:o,getBlockListSettings:r,canMoveBlocks:l,getBlockOrder:i,getBlockRootClientId:s,getBlockAttributes:a}=t(y),c=Array.isArray(e)?e:[e],u=c[0],d=s(u),p=o(u),g=o(c[c.length-1]),m=i(d),{layout:h={}}=null!==(n=a(d))&&void 0!==n?n:{};return{canMove:l(e),rootClientId:d,isFirst:0===p,isLast:g===m.length-1,orientation:r(d)?.orientation,isManualGrid:"grid"===h.type&&h.isManualPlacement&&window.__experimentalEnableGridInteractivity}},[e]);return!l||s&&a&&!i||t&&u?null:o.jsxs(Ai,{className:ei("block-editor-block-mover",{"is-horizontal":"horizontal"===c}),children:[!t&&o.jsx(jb,{clientIds:e,fadeWhenDisabled:!0,children:e=>o.jsx(Mi,{__next40pxDefaultSize:!0,icon:kt,className:"block-editor-block-mover__drag-handle",label:ao("Drag"),tabIndex:"-1",...e})}),!u&&o.jsxs("div",{className:"block-editor-block-mover__move-button-container",children:[o.jsx(Rs,{children:t=>o.jsx(Eb,{disabled:n,clientIds:e,...t})}),o.jsx(Rs,{children:t=>o.jsx(Db,{disabled:r,clientIds:e,...t})})]})]})}function Tb(){const{selectBlock:e}=ld(y),{parentClientId:t,isVisible:r}=od(e=>{const{getBlockName:t,getBlockParents:n,getSelectedBlockClientId:o,getBlockEditingMode:r,getParentSectionBlock:l}=Id(e(y)),{hasBlockSupport:i}=e(z),s=o(),a=l(s),c=n(s),u=null!=a?a:c[c.length-1],d=t(u),p=D(d);return{parentClientId:u,isVisible:u&&"disabled"!==r(u)&&i(p,"__experimentalParentSelector",!0)}},[]),l=fb(t),i=n.useRef(),s=or({ref:i,highlightParent:!0});return r?o.jsx("div",{className:"block-editor-block-parent-selector",ref:i,...s,children:o.jsx(ns,{className:"block-editor-block-parent-selector__button",onClick:()=>e(t),label:po(ao("Select parent block: %s"),l?.title),showTooltip:!0,icon:o.jsx(gp,{icon:l?.icon})})},t):null}function Mb({blocks:e}){return ki("medium","<")?null:o.jsx("div",{className:"block-editor-block-switcher__popover-preview-container",children:o.jsx(Es,{className:"block-editor-block-switcher__popover-preview",placement:"right-start",focusOnMount:!1,offset:16,children:o.jsxs("div",{className:"block-editor-block-switcher__preview",children:[o.jsx("div",{className:"block-editor-block-switcher__preview-title",children:ao("Preview")}),o.jsx(Vm,{viewportWidth:500,blocks:e})]})})})}const Lb={};const Rb=({transformations:e,onSelect:t,blocks:r})=>{const[l,i]=n.useState();return o.jsxs(o.Fragment,{children:[l&&o.jsx(Mb,{blocks:Q(r[0],e.find(({name:e})=>e===l).attributes)}),e?.map(e=>o.jsx(Ab,{item:e,onSelect:t,setHoveredTransformItemName:i},e.name))]})};function Ab({item:e,onSelect:t,setHoveredTransformItemName:n}){const{name:r,icon:l,title:i}=e;return o.jsxs(Ti,{className:ie(r),onClick:e=>{e.preventDefault(),t(r)},onMouseLeave:()=>n(null),onMouseEnter:()=>n(r),children:[o.jsx(gp,{icon:l,showColors:!0}),i]})}const Ob=({className:e,possibleBlockTransformations:t,possibleBlockVariationTransformations:r,onSelect:l,onSelectVariation:i,blocks:s})=>{const[a,c]=n.useState(),{priorityTextTransformations:u,restTransformations:d}=function(e){const t={"core/paragraph":1,"core/heading":2,"core/list":3,"core/quote":4},o=n.useMemo(()=>{const n=Object.keys(t),o=e.reduce((e,t)=>{const{name:o}=t;return n.includes(o)?e.priorityTextTransformations.push(t):e.restTransformations.push(t),e},{priorityTextTransformations:[],restTransformations:[]});if(1===o.priorityTextTransformations.length&&"core/quote"===o.priorityTextTransformations[0].name){const e=o.priorityTextTransformations.pop();o.restTransformations.push(e)}return o},[e]);return o.priorityTextTransformations.sort(({name:e},{name:n})=>t[e]<t[n]?-1:1),o}(t),p=u.length&&d.length,g=!!d.length&&o.jsx(zb,{restTransformations:d,onSelect:l,setHoveredTransformItemName:c});return o.jsxs(o.Fragment,{children:[o.jsxs(Pi,{label:ao("Transform to"),className:e,children:[a&&o.jsx(Mb,{blocks:X(s,a)}),!!r?.length&&o.jsx(Rb,{transformations:r,blocks:s,onSelect:i}),u.map(e=>o.jsx(Fb,{item:e,onSelect:l,setHoveredTransformItemName:c},e.name)),!p&&g]}),!!p&&o.jsx(Pi,{className:e,children:g})]})};function zb({restTransformations:e,onSelect:t,setHoveredTransformItemName:n}){return e.map(e=>o.jsx(Fb,{item:e,onSelect:t,setHoveredTransformItemName:n},e.name))}function Fb({item:e,onSelect:t,setHoveredTransformItemName:n}){const{name:r,icon:l,title:i,isDisabled:s}=e;return o.jsxs(Ti,{className:ie(r),onClick:e=>{e.preventDefault(),t(r)},disabled:s,onMouseLeave:()=>n(null),onMouseEnter:()=>n(r),children:[o.jsx(gp,{icon:l,showColors:!0}),i]})}function Vb({clientId:e,onSwitch:t}){const{styles:o,block:r,blockType:l,className:i}=od(t=>{const{getBlock:n}=t(y),o=n(e);if(!o)return{};const r=D(o.name),{getBlockStyles:l}=t(z);return{block:o,blockType:r,styles:l(o.name),className:o.attributes.className||""}},[e]),{updateBlockAttributes:s}=ld(y),a=rr(o),c=lr(a,i),u=function(e,t){return n.useMemo(()=>{const n=t?.example,o=t?.name;return n&&o?oe(o,{attributes:n.attributes,innerBlocks:n.innerBlocks}):e?Q(e):void 0},[t?.example?e?.name:e,t])}(r,l);return{onSelect:n=>{const o=ir(i,c,n);s(e,{className:o}),t()},stylesToRender:a,activeStyle:c,genericPreviewBlock:u,className:i}}const $b=()=>{};function Hb({clientId:e,onSwitch:t=$b}){const{onSelect:n,stylesToRender:r,activeStyle:l}=Vb({clientId:e,onSwitch:t});return r&&0!==r.length?o.jsx(o.Fragment,{children:r.map(e=>{const t=e.label||e.name;return o.jsx(Ti,{icon:l.name===e.name?Et:null,onClick:()=>n(e),children:o.jsx(ss,{as:"span",limit:18,ellipsizeMode:"tail",truncate:!0,children:t})},e.name)})}):null}function Ub({hoveredBlock:e,onSwitch:t}){const{clientId:n}=e;return o.jsx(Pi,{label:ao("Styles"),className:"block-editor-block-switcher__styles__menugroup",children:o.jsx(Hb,{clientId:n,onSwitch:t})})}const Gb=(e,t)=>{const n=ar(t.name,t.attributes);e.attributes={...e.attributes,...n}},Wb=(e,t)=>n.useMemo(()=>e.reduce((e,n)=>{const o=((e,t)=>{const n=t.map(e=>Q(e)),o=new Set;for(const r of e){let e=!1;for(const t of n){const n=sr(t,r.name,o);if(n){e=!0,o.add(n.clientId),Gb(n,r);break}}if(!e)return}return n})(t,n.blocks);return o&&e.push({...n,transformedBlocks:o}),e},[]),[e,t]);function Kb({blocks:e,patterns:t,onSelect:r}){const[l,i]=n.useState(!1),s=Wb(t,e);return s.length?o.jsxs(Pi,{className:"block-editor-block-switcher__pattern__transforms__menugroup",children:[l&&o.jsx(qb,{patterns:s,onSelect:r}),o.jsx(Ti,{onClick:e=>{e.preventDefault(),i(!l)},icon:nt,children:ao("Patterns")})]}):null}function qb({patterns:e,onSelect:t}){const n=ki("medium","<");return o.jsx("div",{className:"block-editor-block-switcher__popover-preview-container",children:o.jsx(Es,{className:"block-editor-block-switcher__popover-preview",placement:n?"bottom":"right-start",offset:16,children:o.jsx("div",{className:"block-editor-block-switcher__preview is-pattern-list-preview",children:o.jsx(Zb,{patterns:e,onSelect:t})})})})}function Zb({patterns:e,onSelect:t}){return o.jsx(ds,{role:"listbox",className:"block-editor-block-switcher__preview-patterns-container","aria-label":ao("Patterns list"),children:e.map(e=>o.jsx(Yb,{pattern:e,onSelect:t},e.name))})}function Yb({pattern:e,onSelect:t}){const n="block-editor-block-switcher__preview-patterns-container",r=mi(Yb,`${n}-list__item-description`);return o.jsxs("div",{className:`${n}-list__list-item`,children:[o.jsxs(ds.Item,{render:o.jsx("div",{role:"option","aria-label":e.title,"aria-describedby":e.description?r:void 0,className:`${n}-list__item`}),onClick:()=>t(e.transformedBlocks),children:[o.jsx(Vm,{blocks:e.transformedBlocks,viewportWidth:e.viewportWidth||500}),o.jsx("div",{className:`${n}-list__item-title`,children:e.title})]}),!!e.description&&o.jsx(fs,{id:r,children:e.description})]})}function Xb({onClose:e,clientIds:t,hasBlockStyles:r,canRemove:l}){const{replaceBlocks:i,multiSelect:s,updateBlockAttributes:a}=ld(y),{possibleBlockTransformations:c,patterns:u,blocks:d,isUsingBindings:p}=od(e=>{const{getBlockAttributes:n,getBlocksByClientId:o,getBlockRootClientId:r,getBlockTransformItems:l,__experimentalGetPatternTransformItems:i}=e(y),s=r(t[0]),a=o(t);return{blocks:a,possibleBlockTransformations:l(a,s),patterns:i(a,s),isUsingBindings:t.every(e=>!!n(e)?.metadata?.bindings)}},[t]),g=function({clientIds:e,blocks:t}){const{activeBlockVariation:o,blockVariationTransformations:r}=od(n=>{const{getBlockAttributes:o,canRemoveBlocks:r}=n(y),{getActiveBlockVariation:l,getBlockVariations:i}=n(z),s=r(e);if(1!==t.length||!s)return Lb;const[a]=t;return{blockVariationTransformations:i(a.name,"transform"),activeBlockVariation:l(a.name,o(a.clientId))}},[e,t]);return n.useMemo(()=>r?.filter(({name:e})=>e!==o?.name),[r,o])}({clientIds:t,blocks:d});function m(e){e.length>1&&s(e[0].clientId,e[e.length-1].clientId)}const h=1===d.length,f=h&&le(d[0]),b=!!c.length&&l&&!f,k=!!g?.length,v=!!u?.length&&l,x=b||k;if(!(r||x||v))return o.jsx("p",{className:"block-editor-block-switcher__no-transforms",children:ao("No transforms.")});const _=uo(h?"This block is connected.":"These blocks are connected.","block toolbar button label and description");return o.jsxs("div",{className:"block-editor-block-switcher__container",children:[v&&o.jsx(Kb,{blocks:d,patterns:u,onSelect:n=>{!function(e){i(t,e),m(e)}(n),e()}}),x&&o.jsx(Ob,{className:"block-editor-block-switcher__transforms__menugroup",possibleBlockTransformations:c,possibleBlockVariationTransformations:g,blocks:d,onSelect:n=>{!function(e){const n=X(d,e);i(t,n),m(n)}(n),e()},onSelectVariation:t=>{!function(e){a(d[0].clientId,{...g.find(({name:t})=>t===e).attributes})}(t),e()}}),r&&o.jsx(Ub,{hoveredBlock:d[0],onSwitch:e}),p&&o.jsx(Pi,{children:o.jsx(ss,{className:"block-editor-block-switcher__binding-indicator",children:_})})]})}const Jb=({icon:e,showTitle:t,blockTitle:n})=>o.jsxs(o.Fragment,{children:[o.jsx(gp,{className:"block-editor-block-switcher__toggle",icon:e,showColors:!0}),t&&n&&o.jsx("span",{className:"block-editor-block-switcher__toggle-text",children:n})]}),Qb=({clientIds:e})=>{const{hasContentOnlyLocking:t,canRemove:n,hasBlockStyles:r,icon:l,invalidBlocks:i,isReusable:s,isTemplate:a,isDisabled:c}=od(t=>{const{getTemplateLock:n,getBlocksByClientId:o,getBlockAttributes:r,canRemoveBlocks:l,getBlockEditingMode:i}=t(y),{getBlockStyles:s,getBlockType:a,getActiveBlockVariation:c}=t(z),u=o(e);if(!u.length||u.some(e=>!e))return{invalidBlocks:!0};const[{name:d}]=u,p=1===u.length,g=a(d),m=i(e[0]);let h,f;if(p){const t=c(d,r(e[0]));h=t?.icon||g.icon,f="contentOnly"===n(e[0])}else{const t=1===new Set(u.map(({name:e})=>e)).size;f=e.some(e=>"contentOnly"===n(e)),h=t?g.icon:Dt}return{canRemove:l(e),hasBlockStyles:p&&!!s(d)?.length,icon:h,isReusable:p&&K(u[0]),isTemplate:p&&le(u[0]),hasContentOnlyLocking:f,isDisabled:"default"!==m}},[e]),u=vg({clientId:e?.[0],maximumLength:35});if(i)return null;const d=1===e.length,p=d?u:ao("Multiple blocks selected");if(c||!r&&!n||t)return o.jsx(Ai,{children:o.jsx(ns,{disabled:!0,className:"block-editor-block-switcher__no-switcher-icon",title:p,icon:o.jsx(Jb,{icon:l,showTitle:s||a,blockTitle:u})})});const g=d?ao("Change block type or style"):po(go("Change type of %d block","Change type of %d blocks",e.length),e.length);return o.jsx(Ai,{children:o.jsx(Rs,{children:t=>o.jsx(Di,{className:"block-editor-block-switcher",label:p,popoverProps:{placement:"bottom-start",className:"block-editor-block-switcher__popover"},icon:o.jsx(Jb,{icon:l,showTitle:s||a,blockTitle:u}),toggleProps:{description:g,...t},menuProps:{orientation:"both"},children:({onClose:t})=>o.jsx(Xb,{onClose:t,clientIds:e,hasBlockStyles:r,canRemove:n})})})})},ek={default:Ns("BlockControls"),block:Ns("BlockControlsBlock"),inline:Ns("BlockFormatControls"),other:Ns("BlockControlsOther"),parent:Ns("BlockControlsParent")};function tk({group:e="default",controls:t,children:n,__experimentalShareWithChildBlocks:r=!1}){const l=function(e,t){const n=kd();return n[ud]?ek[e]?.Fill:n[dd]&&t?ek.parent.Fill:null}(e,r);if(!l)return null;const i=o.jsxs(o.Fragment,{children:["default"===e&&o.jsx(Ai,{controls:t}),n]});return o.jsx(cs,{document:document,children:o.jsx(l,{children:e=>{const{forwardedContext:t=[]}=e;return t.reduce((e,[t,n])=>o.jsx(t,{...n,children:e}),i)}})})}const{ComponentsContext:nk}=Id(Li);function ok({group:e="default",...t}){const r=n.useContext(As),l=n.useContext(nk),i=n.useMemo(()=>({forwardedContext:[[As.Provider,{value:r}],[nk.Provider,{value:l}]]}),[r,l]),s=ek[e]?.Slot,a=Ms(s?.__unstableName);if(!s)return!0===globalThis.SCRIPT_DEBUG&&tt(`Unknown BlockControls group "${e}" provided.`),null;if(!a?.length)return null;const c=o.jsx(s,{...t,bubblesVirtually:!0,fillProps:i});return"default"===e?c:o.jsx(Ai,{children:c})}const rk=tk;rk.Slot=ok;const lk=e=>o.jsx(tk,{group:"inline",...e});lk.Slot=e=>o.jsx(ok,{group:"inline",...e});const{Fill:ik,Slot:sk}=Ns("__unstableBlockToolbarLastItem");ik.Slot=sk;const ak={align:vr,borderColor:e=>kr(e,"color"),backgroundColor:br,textAlign:fr,textColor:hr,gradient:mr,className:gr,fontFamily:pr,fontSize:dr,layout:ur,style:cr};function ck(e,t){return Object.entries(ak).reduce((n,[o,r])=>(r(e.name)&&r(t.name)&&(n[o]=e.attributes[o]),n),{})}function uk(e,t,n){for(let o=0;o<Math.min(t.length,e.length);o+=1)n(e[o].clientId,ck(t[o],e[o])),uk(e[o].innerBlocks,t[o].innerBlocks,n)}function dk(){const e=Yu(),{updateBlockAttributes:t}=ld(y),{createSuccessNotice:o,createWarningNotice:r,createErrorNotice:l}=ld(yt);return n.useCallback(async n=>{let i="";try{if(!window.navigator.clipboard)return void l(ao("Unable to paste styles. This feature is only available on secure (https) sites in supporting browsers."),{type:"snackbar"});i=await window.navigator.clipboard.readText()}catch(a){return void l(ao("Unable to paste styles. Please allow browser clipboard permissions before continuing."),{type:"snackbar"})}if(!i||!function(e){try{const t=M(e,{__unstableSkipMigrationLogs:!0,__unstableSkipAutop:!0});return 1!==t.length||"core/freeform"!==t[0].name}catch(t){return!1}}(i))return void r(ao("Unable to paste styles. Block styles couldn't be found within the copied content."),{type:"snackbar"});const s=M(i);if(1===s.length?e.batch(()=>{uk(n,n.map(()=>s[0]),t)}):e.batch(()=>{uk(n,s,t)}),1===n.length){const e=D(n[0].name)?.title;o(po(ao("Pasted styles to %s."),e),{type:"snackbar"})}else o(po(ao("Pasted styles to %d blocks."),n.length),{type:"snackbar"})},[e.batch,t,o,r,l])}function pk({clientId:e}){const t=od(t=>t(y).getBlock(e),[e]),{replaceBlocks:n}=ld(y);return t&&"core/html"===t.name?o.jsx(Ti,{onClick:()=>n(e,$({HTML:H(t)})),children:ao("Convert to Blocks")}):null}const{Fill:gk,Slot:mk}=Ns("__unstableBlockSettingsMenuFirstItem");function hk(e){return od(t=>{const{getBlocksByClientId:n,getSelectedBlockClientIds:o,isUngroupable:r,isGroupable:l}=t(y),{getGroupingBlockName:i,getBlockType:s}=t(z),a=e?.length?e:o(),c=n(a),[u]=c,d=1===a.length&&r(a[0]);return{clientIds:a,isGroupable:l(a),isUngroupable:d,blocksSelection:c,groupingBlockName:i(),onUngroup:d&&s(u.name)?.transforms?.ungroup}},[e])}gk.Slot=mk;const fk={group:{type:"constrained"},row:{type:"flex",flexWrap:"nowrap"},stack:{type:"flex",orientation:"vertical"},grid:{type:"grid"}};function bk(){const{blocksSelection:e,clientIds:t,groupingBlockName:n,isGroupable:r}=hk(),{replaceBlocks:l}=ld(y),{canRemove:i,variations:s}=od(e=>{const{canRemoveBlocks:o}=e(y),{getBlockVariations:r}=e(z);return{canRemove:o(t),variations:r(n,"transform")}},[t,n]),a=o=>{const r=X(e,n);"string"!=typeof o&&(o="group"),r&&r.length>0&&(r[0].attributes.layout=fk[o],l(t,r))};if(!r||!i)return null;const c=!!s.find(({name:e})=>"group-row"===e),u=!!s.find(({name:e})=>"group-stack"===e),d=!!s.find(({name:e})=>"group-grid"===e);return o.jsxs(Ai,{children:[o.jsx(ns,{icon:Pt,label:uo("Group","verb"),onClick:a}),c&&o.jsx(ns,{icon:Tt,label:uo("Row","single horizontal line"),onClick:()=>a("row")}),u&&o.jsx(ns,{icon:Mt,label:uo("Stack","verb"),onClick:()=>a("stack")}),d&&o.jsx(ns,{icon:Lt,label:uo("Grid","verb"),onClick:()=>a("grid")})]})}function kk({clientIds:e,isGroupable:t,isUngroupable:n,onUngroup:r,blocksSelection:l,groupingBlockName:i,onClose:s=()=>{}}){const{getSelectedBlockClientIds:a}=od(y),{replaceBlocks:c}=ld(y);if(!t&&!n)return null;const u=a();return o.jsxs(o.Fragment,{children:[t&&o.jsx(Ti,{shortcut:u.length>1?fg.primary("g"):void 0,onClick:()=>{(()=>{const t=X(l,i);t&&c(e,t)})(),s()},children:uo("Group","verb")}),n&&o.jsx(Ti,{onClick:()=>{(()=>{let t=l[0].innerBlocks;t.length&&(r&&(t=r(l[0].attributes,l[0].innerBlocks)),c(e,t))})(),s()},children:uo("Ungroup","Ungrouping blocks from within a grouping block back into individual blocks within the Editor")})]})}function vk(e){return od(t=>{const{canEditBlock:n,canMoveBlock:o,canRemoveBlock:r,canLockBlockType:l,getBlockName:i,getTemplateLock:s}=t(y),a=n(e),c=o(e),u=r(e);return{canEdit:a,canMove:c,canRemove:u,canLock:l(i(e)),isContentLocked:"contentOnly"===s(e),isLocked:!a||!c||!u}},[e])}const xk=["core/block","core/navigation"];function yk(e){return e.remove&&e.move?"all":!(!e.remove||e.move)&&"insert"}function _k({clientId:e,onClose:t}){const[r,l]=n.useState({move:!1,remove:!1}),{canEdit:i,canMove:s,canRemove:a}=vk(e),{allowsEditLocking:c,templateLock:u,hasTemplateLock:d}=od(t=>{const{getBlockName:n,getBlockAttributes:o}=t(y),r=n(e),l=D(r);return{allowsEditLocking:xk.includes(r),templateLock:o(e)?.templateLock,hasTemplateLock:!!l?.attributes?.templateLock}},[e]),[p,g]=n.useState(!!u),{updateBlockAttributes:m}=ld(y),h=fb(e);n.useEffect(()=>{l({move:!s,remove:!a,...c?{edit:!i}:{}})},[i,s,a,c]);const f=Object.values(r).every(Boolean),b=Object.values(r).some(Boolean)&&!f;return o.jsx(ls,{title:po(ao("Lock %s"),h.title),overlayClassName:"block-editor-block-lock-modal",onRequestClose:t,children:o.jsxs("form",{onSubmit:n=>{n.preventDefault(),m([e],{lock:r,templateLock:p?yk(r):void 0}),t()},children:[o.jsxs("fieldset",{className:"block-editor-block-lock-modal__options",children:[o.jsx("legend",{children:ao("Choose specific attributes to restrict or lock all available options.")}),o.jsx("ul",{role:"list",className:"block-editor-block-lock-modal__checklist",children:o.jsxs("li",{children:[o.jsx(Os,{__nextHasNoMarginBottom:!0,className:"block-editor-block-lock-modal__options-all",label:ao("Lock all"),checked:f,indeterminate:b,onChange:e=>l({move:e,remove:e,...c?{edit:e}:{}})}),o.jsxs("ul",{role:"list",className:"block-editor-block-lock-modal__checklist",children:[c&&o.jsxs("li",{className:"block-editor-block-lock-modal__checklist-item",children:[o.jsx(Os,{__nextHasNoMarginBottom:!0,label:ao("Restrict editing"),checked:!!r.edit,onChange:e=>l(t=>({...t,edit:e}))}),o.jsx(zi,{className:"block-editor-block-lock-modal__lock-icon",icon:r.edit?Rt:At})]}),o.jsxs("li",{className:"block-editor-block-lock-modal__checklist-item",children:[o.jsx(Os,{__nextHasNoMarginBottom:!0,label:ao("Disable movement"),checked:r.move,onChange:e=>l(t=>({...t,move:e}))}),o.jsx(zi,{className:"block-editor-block-lock-modal__lock-icon",icon:r.move?Rt:At})]}),o.jsxs("li",{className:"block-editor-block-lock-modal__checklist-item",children:[o.jsx(Os,{__nextHasNoMarginBottom:!0,label:ao("Prevent removal"),checked:r.remove,onChange:e=>l(t=>({...t,remove:e}))}),o.jsx(zi,{className:"block-editor-block-lock-modal__lock-icon",icon:r.remove?Rt:At})]})]})]})}),d&&o.jsx(Wi,{__nextHasNoMarginBottom:!0,className:"block-editor-block-lock-modal__template-lock",label:ao("Apply to all blocks inside"),checked:p,disabled:r.move&&!r.remove,onChange:()=>g(!p)})]}),o.jsxs($i,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:!1,children:[o.jsx(Hi,{children:o.jsx(Mi,{variant:"tertiary",onClick:t,__next40pxDefaultSize:!0,children:ao("Cancel")})}),o.jsx(Hi,{children:o.jsx(Mi,{variant:"primary",type:"submit",__next40pxDefaultSize:!0,children:ao("Apply")})})]})]})})}function Ck({clientId:e}){const{canLock:t,isLocked:r}=vk(e),[l,i]=n.useReducer(e=>!e,!1);if(!t)return null;const s=ao(r?"Unlock":"Lock");return o.jsxs(o.Fragment,{children:[o.jsx(Ti,{icon:r?At:Ot,onClick:i,"aria-expanded":l,"aria-haspopup":"dialog",children:s}),l&&o.jsx(_k,{clientId:e,onClose:i})]})}function jk({clientId:e}){const{canLock:t,isLocked:r}=vk(e),[l,i]=n.useReducer(e=>!e,!1),s=n.useRef(!1);if(n.useEffect(()=>{r&&(s.current=!0)},[r]),!r&&!s.current)return null;let a=ao(r?"Unlock":"Lock");return!t&&r&&(a=ao("Locked")),o.jsxs(o.Fragment,{children:[o.jsx(Ai,{className:"block-editor-block-lock-toolbar",children:o.jsx(ns,{disabled:!t,icon:r?Rt:At,label:a,onClick:i,"aria-expanded":l,"aria-haspopup":"dialog"})}),l&&o.jsx(_k,{clientId:e,onClose:i})]})}const Sk=()=>{};function wk({clientId:e,onToggle:t=Sk}){const{blockType:n,mode:r,isCodeEditingEnabled:l}=od(t=>{const{getBlock:n,getBlockMode:o,getSettings:r}=t(y),l=n(e);return{mode:o(e),blockType:l?D(l.name):null,isCodeEditingEnabled:r().codeEditingEnabled}},[e]),{toggleBlockMode:i}=ld(y);if(!n||!P(n,"html",!0)||!l)return null;const s=ao("visual"===r?"Edit as HTML":"Edit visually");return o.jsx(Ti,{onClick:()=>{i(e),t()},children:s})}function Ik({clientId:e,onClose:t}){const{templateLock:n,isLockedByParent:r,isEditingAsBlocks:l}=od(t=>{const{getContentLockingParent:n,getTemplateLock:o,getTemporarilyEditingAsBlocks:r}=Id(t(y));return{templateLock:o(e),isLockedByParent:!!n(e),isEditingAsBlocks:r()===e}},[e]),i=ld(y),s=!r&&"contentOnly"===n;if(!s&&!l)return null;const{modifyContentLockBlock:a}=Id(i);return!l&&s&&o.jsx(Ti,{onClick:()=>{a(e),t()},children:uo("Modify","Unlock content locked blocks")})}function Bk(e){return 0===e?.trim()?.length}function Nk({blockName:e,originalBlockName:t,onClose:r,onSave:l,hasOverridesWarning:i}){const[s,a]=n.useState(e),c=s!==e,u=s===t,d=Bk(s),p=c||u;return o.jsx(ls,{title:ao("Rename"),onRequestClose:r,overlayClassName:"block-editor-block-rename-modal",focusOnMount:"firstContentElement",size:"small",children:o.jsx("form",{onSubmit:e=>{e.preventDefault(),p&&(()=>{const e=po(ao(u||d?'Block name reset to: "%s".':'Block name changed to: "%s".'),s);bt(e,"assertive"),l(s),r()})()},children:o.jsxs(qi,{spacing:"3",children:[o.jsx(zs,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,value:s,label:ao("Name"),help:i?ao("This block allows overrides. Changing the name can cause problems with content entered into instances of this pattern."):void 0,placeholder:t,onChange:a,onFocus:e=>e.target.select()}),o.jsxs(hs,{justify:"right",children:[o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:r,children:ao("Cancel")}),o.jsx(Mi,{__next40pxDefaultSize:!0,"aria-disabled":!p,variant:"primary",type:"submit",children:ao("Save")})]})]})})})}function Ek({clientId:e}){const[t,r]=n.useState(!1),{metadata:l}=od(t=>{const{getBlockAttributes:n}=t(y),o=n(e)?.metadata;return{metadata:o}},[e]),{updateBlockAttributes:i}=ld(y),s=l?.name,a=!!s&&!!l?.bindings&&Object.values(l.bindings).some(e=>"core/pattern-overrides"===e.source);const c=fb(e);return o.jsxs(o.Fragment,{children:[o.jsx(Ti,{onClick:()=>{r(!0)},"aria-expanded":t,"aria-haspopup":"dialog",children:ao("Rename")}),t&&o.jsx(Nk,{blockName:s||"",originalBlockName:c?.title,hasOverridesWarning:a,onClose:()=>r(!1),onSave:t=>{(t===c?.title||Bk(t))&&(t=void 0),function(t){i([e],{metadata:{...l,name:t}})}(t)}})]})}const{Fill:Dk,Slot:Pk}=Ns("BlockSettingsMenuControls");function Tk({...e}){return o.jsx(cs,{document:document,children:o.jsx(Dk,{...e})})}function Mk({parentClientId:e,parentBlockType:t}){const r=ki("medium","<"),{selectBlock:l}=ld(y),i=n.useRef(),s=or({ref:i,highlightParent:!0});return r?o.jsx(Ti,{...s,ref:i,icon:o.jsx(gp,{icon:t.icon}),onClick:()=>l(e),children:po(ao("Select parent block (%s)"),t.title)}):null}Tk.Slot=({fillProps:e,clientIds:t=null})=>{const{selectedBlocks:n,selectedClientIds:r,isContentOnly:l}=od(e=>{const{getBlockNamesByClientId:n,getSelectedBlockClientIds:o,getBlockEditingMode:r}=e(y),l=null!==t?t:o();return{selectedBlocks:n(l),selectedClientIds:l,isContentOnly:"contentOnly"===r(l[0])}},[t]),{canLock:i}=vk(r[0]),{canRename:s}=(a=n[0],{canRename:O(a,"renaming",!0)});var a;const c=1===r.length&&i&&!l,u=1===r.length&&s&&!l,d=hk(r),{isGroupable:p,isUngroupable:g}=d,m=p||g;return o.jsx(Pk,{fillProps:{...e,selectedBlocks:n,selectedClientIds:r},children:t=>!t?.length>0&&!m&&!c?null:o.jsxs(Pi,{children:[m&&o.jsx(kk,{...d,onClose:e?.onClose}),c&&o.jsx(Ck,{clientId:r[0]}),u&&o.jsx(Ek,{clientId:r[0]}),t,1===r.length&&o.jsx(Ik,{clientId:r[0],onClose:e?.onClose}),1===e?.count&&!l&&o.jsx(wk,{clientId:e?.firstBlockClientId,onToggle:e?.onClose})]})})};const Lk={className:"block-editor-block-settings-menu__popover",placement:"bottom-start"};function Rk({clientIds:e,onCopy:t,label:n,shortcut:r}){const{getBlocksByClientId:l}=od(y),i=Si(()=>re(l(e)),t),s=n||ao("Copy");return o.jsx(Ti,{ref:i,shortcut:r,children:s})}function Ak({block:e,clientIds:t,children:r,__experimentalSelectBlock:l,...i}){const s=e?.clientId,a=t.length,c=t[0],{firstParentClientId:u,parentBlockType:d,previousBlockClientId:p,selectedBlockClientIds:g,openedBlockSettingsMenu:m,isContentOnly:h}=od(e=>{const{getBlockName:t,getBlockRootClientId:n,getPreviousBlockClientId:o,getSelectedBlockClientIds:r,getBlockAttributes:l,getOpenedBlockSettingsMenu:i,getBlockEditingMode:s}=Id(e(y)),{getActiveBlockVariation:a}=e(z),u=n(c),d=u&&t(u);return{firstParentClientId:u,parentBlockType:u&&(a(d,l(u))||D(d)),previousBlockClientId:o(c),selectedBlockClientIds:r(),openedBlockSettingsMenu:i(),isContentOnly:"contentOnly"===s(c)}},[c]),{getBlockOrder:f,getSelectedBlockClientIds:b}=od(y),{setOpenedBlockSettingsMenu:k}=Id(ld(y)),v=od(e=>{const{getShortcutRepresentation:t}=e(rt);return{duplicate:t("core/block-editor/duplicate"),remove:t("core/block-editor/remove"),insertAfter:t("core/block-editor/insert-after"),insertBefore:t("core/block-editor/insert-before")}},[]),x=g.length>0;async function _(e){if(!l)return;const t=await e;t&&t[0]&&l(t[0],!1)}function C(){if(!l)return;let e=p||u;e||(e=f()[0]);const t=x&&0===b().length;l(e,t)}const S=g?.includes(u),w=s?m===s||!1:void 0;function I(e){e&&m!==s?k(s):!e&&m&&m===s&&k(void 0)}const B=!S&&!!u;return o.jsx(j,{clientIds:t,__experimentalUpdateSelection:!l,children:({canCopyStyles:e,canDuplicate:l,canInsertBlock:s,canRemove:p,onDuplicate:g,onInsertAfter:m,onInsertBefore:f,onRemove:b,onCopy:k,onPasteStyles:x})=>!p&&!l&&!s&&h?null:o.jsx(Di,{icon:xe,label:ao("Options"),className:"block-editor-block-settings-menu",popoverProps:Lk,open:w,onToggle:I,noIcons:!0,...i,children:({onClose:i})=>o.jsxs(o.Fragment,{children:[o.jsxs(Pi,{children:[o.jsx(gk.Slot,{fillProps:{onClose:i}}),B&&o.jsx(Mk,{parentClientId:u,parentBlockType:d}),1===a&&o.jsx(pk,{clientId:c}),!h&&o.jsx(Rk,{clientIds:t,onCopy:k,shortcut:fg.primary("c")}),l&&o.jsx(Ti,{onClick:ji(i,g,_),shortcut:v.duplicate,children:ao("Duplicate")}),s&&!h&&o.jsxs(o.Fragment,{children:[o.jsx(Ti,{onClick:ji(i,f),shortcut:v.insertBefore,children:ao("Add before")}),o.jsx(Ti,{onClick:ji(i,m),shortcut:v.insertAfter,children:ao("Add after")})]})]}),e&&!h&&o.jsxs(Pi,{children:[o.jsx(Rk,{clientIds:t,onCopy:k,label:ao("Copy styles")}),o.jsx(Ti,{onClick:x,children:ao("Paste styles")})]}),o.jsx(Tk.Slot,{fillProps:{onClose:i,count:a,firstBlockClientId:c},clientIds:t}),"function"==typeof r?r({onClose:i}):n.Children.map(e=>n.cloneElement(e,{onClose:i})),p&&o.jsx(Pi,{children:o.jsx(Ti,{onClick:ji(i,b,C),shortcut:v.remove,children:ao("Delete")})})]})})})}function Ok({clientIds:e,...t}){return o.jsx(Ai,{children:o.jsx(Rs,{children:n=>o.jsx(Ak,{clientIds:e,toggleProps:n,...t})})})}function zk({clientIds:e}){const t=1===e.length?e[0]:void 0,n=od(e=>!!t&&"html"===e(y).getBlockMode(t),[t]),{toggleBlockMode:r}=ld(y);return n?o.jsx(Ai,{children:o.jsx(ns,{onClick:()=>{r(t)},children:ao("Edit visually")})}):null}const Fk=n.createContext("");function Vk(e){return Array.from(e.querySelectorAll("[data-toolbar-item]:not([disabled])"))}function $k(e){return e.contains(e.ownerDocument.activeElement)}function Hk({toolbarRef:e,focusOnMount:t,isAccessibleToolbar:o,defaultIndex:r,onIndexChange:l,shouldUseKeyboardFocusShortcut:i,focusEditorOnEscape:s}){const[a]=n.useState(t),[c]=n.useState(r),u=n.useCallback(()=>{!function(e){const[t]=qe.tabbable.find(e);t&&t.focus({preventScroll:!0})}(e.current)},[e]);zt("core/block-editor/focus-toolbar",()=>{i&&u()}),n.useEffect(()=>{a&&u()},[o,a,u]),n.useEffect(()=>{const t=e.current;let n=0;return a||$k(t)||(n=window.requestAnimationFrame(()=>{const e=Vk(t),n=c||0;e[n]&&$k(t)&&e[n].focus({preventScroll:!0})})),()=>{if(window.cancelAnimationFrame(n),!l||!t)return;const e=Vk(t).findIndex(e=>0===e.tabIndex);l(e)}},[c,a,l,e]);const{getLastFocus:d}=Id(od(y));n.useEffect(()=>{const t=e.current;if(s){const e=e=>{const t=d();27===e.keyCode&&t?.current&&(e.preventDefault(),t.current.focus())};return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}},[s,d,e])}function Uk({children:e,focusOnMount:t,focusEditorOnEscape:r=!1,shouldUseKeyboardFocusShortcut:l=!0,__experimentalInitialIndex:i,__experimentalOnIndexChange:s,orientation:a="horizontal",...c}){const u=n.useRef(),d=function(e){const[t,o]=n.useState(!0),r=n.useCallback(()=>{const t=!qe.tabbable.find(e.current).some(e=>!("toolbarItem"in e.dataset));t||be("Using custom components as toolbar controls",{since:"5.6",alternative:"ToolbarItem, ToolbarButton or ToolbarDropdownMenu components",link:"https://developer.wordpress.org/block-editor/components/toolbar-button/#inside-blockcontrols"}),o(t)},[e]);return n.useLayoutEffect(()=>{const t=new window.MutationObserver(r);return t.observe(e.current,{childList:!0,subtree:!0}),()=>t.disconnect()},[r,t,e]),t}(u);return Hk({toolbarRef:u,focusOnMount:t,defaultIndex:i,onIndexChange:s,isAccessibleToolbar:d,shouldUseKeyboardFocusShortcut:l,focusEditorOnEscape:r}),d?o.jsx(Fs,{label:c["aria-label"],ref:u,orientation:a,...c,children:e}):o.jsx(Vs,{orientation:a,role:"toolbar",ref:u,...c,children:e})}function Gk(){const{isToolbarEnabled:e,isBlockDisabled:t}=od(e=>{const{getBlockEditingMode:t,getBlockName:n,getBlockSelectionStart:o}=e(y),r=o(),l=r&&D(n(r));return{isToolbarEnabled:l&&P(l,"__experimentalToolbar",!0),isBlockDisabled:"disabled"===t(r)}},[]);return!(!e||t)}function Wk({hideDragHandle:e,focusOnMount:t,__experimentalInitialIndex:r,__experimentalOnIndexChange:l,variant:i="unstyled"}){const{blockClientId:s,blockClientIds:a,isDefaultEditingMode:c,blockType:u,toolbarKey:d,shouldShowVisualToolbar:p,showParentSelector:g,isUsingBindings:m,hasParentPattern:h,hasContentOnlyLocking:f}=od(e=>{const{getBlockName:t,getBlockMode:n,getBlockParents:o,getSelectedBlockClientIds:r,isBlockValid:l,getBlockEditingMode:i,getBlockAttributes:s,getBlockParentsByBlockName:a,getTemplateLock:c,getParentSectionBlock:u}=Id(e(y)),d=r(),p=d[0],g=o(p),m=u(p),h=null!=m?m:g[g.length-1],f=t(h),b=D(f),k="default"===i(p),v=t(p),x=d.every(e=>l(e)),_=d.every(e=>"visual"===n(e)),C=d.every(e=>!!s(e)?.metadata?.bindings),j=d.every(e=>a(e,"core/block",!0).length>0),S=d.some(e=>"contentOnly"===c(e));return{blockClientId:p,blockClientIds:d,isDefaultEditingMode:k,blockType:p&&D(v),shouldShowVisualToolbar:x&&_,toolbarKey:`${p}${h}`,showParentSelector:b&&"disabled"!==i(h)&&P(b,"__experimentalParentSelector",!0)&&1===d.length,isUsingBindings:C,hasParentPattern:j,hasContentOnlyLocking:S}},[]),b=n.useRef(null),k=n.useRef(),v=or({ref:k}),x=!ki("medium","<");if(!Gk())return null;const _=a.length>1,C=K(u)||le(u),j=ei("block-editor-block-contextual-toolbar",{"has-parent":g}),S=ei("block-editor-block-toolbar",{"is-synced":C,"is-connected":m});return o.jsx(Uk,{focusEditorOnEscape:!0,className:j,"aria-label":ao("Block tools"),variant:"toolbar"===i?void 0:i,focusOnMount:t,__experimentalInitialIndex:r,__experimentalOnIndexChange:l,children:o.jsxs("div",{ref:b,className:S,children:[!_&&x&&o.jsx(Tb,{}),(p||_)&&!h&&o.jsx("div",{ref:k,...v,children:o.jsxs(Ai,{className:"block-editor-block-toolbar__block-controls",children:[o.jsx(Qb,{clientIds:a}),!_&&c&&o.jsx(jk,{clientId:s}),o.jsx(Pb,{clientIds:a,hideDragHandle:e})]})}),!f&&p&&_&&o.jsx(bk,{}),p&&o.jsxs(o.Fragment,{children:[o.jsx(rk.Slot,{group:"parent",className:"block-editor-block-toolbar__slot"}),o.jsx(rk.Slot,{group:"block",className:"block-editor-block-toolbar__slot"}),o.jsx(rk.Slot,{className:"block-editor-block-toolbar__slot"}),o.jsx(rk.Slot,{group:"inline",className:"block-editor-block-toolbar__slot"}),o.jsx(rk.Slot,{group:"other",className:"block-editor-block-toolbar__slot"}),o.jsx(Fk.Provider,{value:u?.name,children:o.jsx(ik.Slot,{})})]}),o.jsx(zk,{clientIds:a}),o.jsx(Ok,{clientIds:a})]})},d)}function Kk({hideDragHandle:e,variant:t}){return o.jsx(Wk,{hideDragHandle:e,variant:t,focusOnMount:void 0,__experimentalInitialIndex:void 0,__experimentalOnIndexChange:void 0})}function qk({clientId:e,isTyping:t,__unstableContentRef:r}){const{capturingClientId:l,isInsertionPointVisible:i,lastClientId:s}=_b(e),a=n.useRef();n.useEffect(()=>{a.current=void 0},[e]);const{stopTyping:c}=ld(y),u=n.useRef(!1);zt("core/block-editor/focus-toolbar",()=>{u.current=!0,c(!0)}),n.useEffect(()=>{u.current=!1});const d=l||e,p=yb({contentElement:r?.current,clientId:d});return!t&&o.jsx(cf,{clientId:d,bottomClientId:s,className:ei("block-editor-block-list__block-popover",{"is-insertion-point-visible":i}),resize:!1,...p,children:o.jsx(Wk,{focusOnMount:u.current,__experimentalInitialIndex:a.current,__experimentalOnIndexChange:e=>{a.current=e},variant:"toolbar"})})}const Zk=[];function Yk(e){return o.jsx(Ai,{children:o.jsx(ns,{...e})})}function Xk({clientId:e,as:t=Yk}){const{categories:r,patterns:l,patternName:i}=od(t=>{const{getBlockAttributes:n,getBlockRootClientId:o,__experimentalGetAllowedPatterns:r}=t(y),l=n(e),i=l?.metadata?.categories||Zk,s=l?.metadata?.patternName,a=o(e);return{categories:i,patterns:i.length>0?r(a):Zk,patternName:s}},[e]),{replaceBlocks:s}=ld(y),a=n.useMemo(()=>0!==r.length&&l&&0!==l.length?l.filter(e=>{const t="core"===e.source||e.source?.startsWith("pattern-directory")&&"pattern-directory/theme"!==e.source;return 1===e.blocks.length&&!t&&e.categories?.some(e=>r.includes(e))&&("unsynced"===e.syncStatus||!e.id)}):Zk,[r,l]);if(a.length<2)return null;const c=t;return o.jsx(c,{label:ao("Shuffle"),icon:Ft,className:"block-editor-block-toolbar-shuffle",onClick:()=>{const t=function(){const e=a.length,t=a.findIndex(({name:e})=>e===i);return a[t+1<e?t+1:0]}();t.blocks[0].attributes={...t.blocks[0].attributes,metadata:{...t.blocks[0].attributes.metadata,categories:r}},s(e,t.blocks)}})}function Jk({clientId:e,__unstableContentRef:t}){const n=od(t=>{const{getBlock:n,getNextBlockClientId:o,getPreviousBlockClientId:r,canRemoveBlock:l,canMoveBlock:i,getSettings:s}=t(y),{__experimentalSetIsInserterOpened:a}=s(),{getBlockType:c}=t(z),{name:u}=n(e),d=c(u),p="core/template-part"===d?.name;let g=!1;const m=o();if(m){const{name:e}=n(m),t=c(e);g="core/template-part"===t?.name}let h=!1;const f=r();if(f){const{name:e}=n(f),t=c(e);h="core/template-part"===t?.name}return{isBlockTemplatePart:p,isNextBlockTemplatePart:g,isPrevBlockTemplatePart:h,canRemove:l(e),canMove:i(e),setIsInserterOpened:a}},[e]),{isBlockTemplatePart:r,isNextBlockTemplatePart:l,isPrevBlockTemplatePart:i,canRemove:s,canMove:a,setIsInserterOpened:c}=n,{removeBlock:u,__unstableSetEditorMode:d,resetZoomLevel:p}=Id(ld(y)),g=a&&!r;return o.jsxs(Uk,{className:"zoom-out-toolbar","aria-label":ao("Block tools"),variant:"unstyled",orientation:"vertical",children:[g&&o.jsx(jb,{clientIds:[e],children:e=>o.jsx(Mi,{icon:kt,className:"block-selection-button_drag-handle zoom-out-toolbar-button",label:ao("Drag"),iconSize:24,size:"compact",tabIndex:"-1",...e})}),!r&&o.jsx(Pb,{clientIds:[e],hideDragHandle:!0,isBlockMoverUpButtonDisabled:i,isBlockMoverDownButtonDisabled:l,iconSize:24,size:"compact"}),a&&s&&o.jsx(Xk,{clientId:e,as:ns}),!r&&o.jsx(ns,{className:"zoom-out-toolbar-button",icon:Vt,label:ao("Edit"),onClick:()=>{"function"==typeof c&&c(!1),d("edit"),p(),t.current?.focus()}}),s&&!r&&o.jsx(ns,{className:"zoom-out-toolbar-button",icon:$t,label:ao("Delete"),onClick:()=>{u(e),t.current?.focus()}})]})}function Qk({clientId:e,__unstableContentRef:t}){const{capturingClientId:n,isInsertionPointVisible:r,lastClientId:l}=_b(e),i={...yb({contentElement:t?.current,clientId:e}),placement:"left-start",flip:!1,shift:!0};return o.jsx(cf,{clientId:n||e,bottomClientId:l,className:ei("zoom-out-toolbar-popover",{"is-insertion-point-visible":r}),resize:!1,...i,children:o.jsx(Jk,{__unstableContentRef:t,clientId:e})})}function ev({onClick:e}){return o.jsx(Mi,{variant:"primary",icon:wt,size:"compact",className:ei("block-editor-button-pattern-inserter__button","block-editor-block-tools__zoom-out-mode-inserter-button"),onClick:e,label:uo("Add pattern","Generic label for pattern inserter button")})}function tv(){const[e,t]=n.useState(!1),{hasSelection:r,insertionPoint:l,blockOrder:i,blockInsertionPointVisible:s,setInserterIsOpened:a,sectionRootClientId:c,selectedBlockClientId:u}=od(e=>{const{getSettings:t,getInsertionPoint:n,getBlockOrder:o,getSelectionStart:r,getSelectedBlockClientId:l,getSectionRootClientId:i,isBlockInsertionPointVisible:s}=Id(e(y)),a=i();return{hasSelection:!!r().clientId,insertionPoint:n(),blockOrder:o(a),blockInsertionPointVisible:s(),sectionRootClientId:a,setInserterIsOpened:t().__experimentalSetIsInserterOpened,selectedBlockClientId:l()}},[]),{showInsertionPoint:d}=Id(ld(y));return n.useEffect(()=>{const e=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(e)}},[]),e&&r?[void 0,...i].map((e,t)=>{const n=s&&l?.index===t,r=e,p=i[t],g=u===r||u===p;return o.jsx(lf,{previousClientId:r,nextClientId:p,children:!n&&g&&o.jsx(ev,{onClick:()=>{a({rootClientId:c,insertionIndex:t,tab:"patterns",category:"all"}),d(c,t,{operation:"insert"})}})},t)}):null}function nv(e){const{getSelectedBlockClientId:t,getFirstMultiSelectedBlockClientId:n,getSettings:o,__unstableGetEditorMode:r,isTyping:l,isDragging:i}=Id(e(y)),s=t()||n(),a=r();return{clientId:s,hasFixedToolbar:o().hasFixedToolbar,isTyping:l(),isZoomOutMode:"zoom-out"===a,isDragging:i()}}function ov({children:e,__unstableContentRef:t,...r}){const{clientId:l,hasFixedToolbar:i,isTyping:s,isZoomOutMode:a,isDragging:c}=od(nv,[]),u=ut(),{getBlocksByClientId:d,getSelectedBlockClientIds:p,getBlockRootClientId:g,isGroupable:m}=od(y),{getGroupingBlockName:h}=od(z),{showEmptyBlockSideInserter:f,showBlockToolbarPopover:b,showZoomOutToolbar:k}=od(e=>{const{getSelectedBlockClientId:t,getFirstMultiSelectedBlockClientId:n,getBlock:o,getBlockMode:r,getSettings:l,__unstableGetEditorMode:i,isTyping:s}=e(y),a=t()||n(),c=o(a),u=i(),d=!!a&&!!c,p=d&&Y(c)&&"html"!==r(a),g=a&&!s()&&"edit"===u&&p,m="zoom-out"===u&&"full"===c?.attributes?.align&&!g;return{showEmptyBlockSideInserter:g,showBlockToolbarPopover:!m&&!l().hasFixedToolbar&&!g&&d&&!p,showZoomOutToolbar:m}},[]),{clearSelectedBlock:v,duplicateBlocks:x,removeBlocks:_,replaceBlocks:C,insertAfterBlock:j,insertBeforeBlock:S,selectBlock:w,moveBlocksUp:I,moveBlocksDown:B,expandBlock:N}=Id(ld(y)),E=n.useRef();const D=of(t),P=of(t);return o.jsx("div",{...r,onKeyDown:function(e){if(!e.defaultPrevented)if(u("core/block-editor/move-up",e)){const t=p();if(t.length){e.preventDefault();const n=g(t[0]);I(t,n)}}else if(u("core/block-editor/move-down",e)){const t=p();if(t.length){e.preventDefault();const n=g(t[0]);B(t,n)}}else if(u("core/block-editor/duplicate",e)){const t=p();t.length&&(e.preventDefault(),x(t))}else if(u("core/block-editor/remove",e)){const t=p();t.length&&(e.preventDefault(),_(t))}else if(u("core/block-editor/insert-after",e)){const t=p();t.length&&(e.preventDefault(),j(t[t.length-1]))}else if(u("core/block-editor/insert-before",e)){const t=p();t.length&&(e.preventDefault(),S(t[0]))}else if(u("core/block-editor/unselect",e)){if(e.target.closest("[role=toolbar]"))return;const n=p();n.length>1?(e.preventDefault(),w(n[0])):1===n.length&&e.target===E?.current&&(e.preventDefault(),v(),No(t.current)?.focus())}else if(u("core/block-editor/collapse-list-view",e)){if(Ze(e.target)||Ze(e.target?.contentWindow?.document?.activeElement))return;e.preventDefault(),N(l)}else if(u("core/block-editor/group",e)){const t=p();if(t.length>1&&m(t)){e.preventDefault();const n=d(t),o=h(),r=X(n,o);C(t,r),bt(ao("Selected blocks are grouped."))}}},children:o.jsxs(mf.Provider,{value:n.useRef(!1),children:[!s&&!a&&o.jsx(ff,{__unstableContentRef:t}),f&&o.jsx(Cb,{__unstableContentRef:t,clientId:l}),b&&o.jsx(qk,{__unstableContentRef:t,clientId:l,isTyping:s}),k&&o.jsx(Qk,{__unstableContentRef:t,clientId:l}),!a&&!i&&o.jsx(Es.Slot,{name:"block-toolbar",ref:D}),e,o.jsx(Es.Slot,{name:"__unstable-block-tools-after",ref:P}),a&&!c&&o.jsx(tv,{__unstableContentRef:t})]})})}const rv=()=>{const{replaceBlocks:e,multiSelect:t}=ld(y),{blocks:n,clientIds:r,canRemove:l,possibleBlockTransformations:i,invalidSelection:s}=od(e=>{const{getBlockRootClientId:t,getBlockTransformItems:n,getSelectedBlockClientIds:o,getBlocksByClientId:r,canRemoveBlocks:l}=e(y),i=o(),s=r(i);if(s.filter(e=>!e).length>0)return{invalidSelection:!0};return{blocks:s,clientIds:i,possibleBlockTransformations:n(s,t(i[0])),canRemove:l(i),invalidSelection:!1}},[]);if(s)return{isLoading:!1,commands:[]};const a=1===n.length&&le(n[0]);function c(o){const l=X(n,o);var i;e(r,l),(i=l).length>1&&t(i[0].clientId,i[i.length-1].clientId)}const u=!!i.length&&l&&!a;if(!r||r.length<1||!u)return{isLoading:!1,commands:[]};return{isLoading:!1,commands:i.map(e=>{const{name:t,title:n,icon:r}=e;return{name:"core/block-editor/transform-to-"+t.replace("/","-"),label:po(ao("Transform to %s"),n),icon:o.jsx(gp,{icon:r}),callback:({close:e})=>{c(t),e()}}})}},lv=()=>{const{clientIds:e,isUngroupable:t,isGroupable:n}=od(e=>{const{getSelectedBlockClientIds:t,isUngroupable:n,isGroupable:o}=e(y);return{clientIds:t(),isUngroupable:n(),isGroupable:o()}},[]),{canInsertBlockType:o,getBlockRootClientId:r,getBlocksByClientId:l,canRemoveBlocks:i}=od(y),{getDefaultBlockName:s,getGroupingBlockName:a}=od(z),c=l(e),{removeBlocks:u,replaceBlocks:d,duplicateBlocks:p,insertAfterBlock:g,insertBeforeBlock:m}=ld(y),h=()=>{if(!c.length)return;const t=a(),n=X(c,t);n&&d(e,n)},f=()=>{if(!c.length)return;const t=c[0].innerBlocks;t.length&&d(e,t)};if(!e||e.length<1)return{isLoading:!1,commands:[]};const b=r(e[0]),k=o(s(),b),v=c.every(e=>!!e&&P(e.name,"multiple",!0)&&o(e.name,b)),x=i(e),_=[];return v&&_.push({name:"duplicate",label:ao("Duplicate"),callback:()=>p(e,!0),icon:Dt}),k&&_.push({name:"add-before",label:ao("Add before"),callback:()=>{const t=Array.isArray(e)?e[0]:t;m(t)},icon:wt},{name:"add-after",label:ao("Add after"),callback:()=>{const t=Array.isArray(e)?e[e.length-1]:t;g(t)},icon:wt}),n&&_.push({name:"Group",label:ao("Group"),callback:h,icon:Pt}),t&&_.push({name:"ungroup",label:ao("Ungroup"),callback:f,icon:Ut}),x&&_.push({name:"remove",label:ao("Delete"),callback:()=>u(e,!0),icon:$t}),{isLoading:!1,commands:_.map(e=>({...e,name:"core/block-editor/action-"+e.name,callback:({close:t})=>{e.callback(),t()}}))}},iv=()=>{Ht({name:"core/block-editor/blockTransforms",hook:rv}),Ht({name:"core/block-editor/blockQuickActions",hook:lv,context:"block-selection-edit"})},sv={ignoredSelectors:[/\.editor-styles-wrapper/gi]};function av({shouldIframe:e=!0,height:t="300px",children:r=o.jsx(Uf,{}),styles:l,contentRef:i,iframeProps:s}){iv();const a=Rf(),c=pm(),u=n.useRef(),d=di([i,c,u]);return e?o.jsx(ov,{__unstableContentRef:u,style:{height:t,display:"flex"},children:o.jsxs(Pm,{...s,ref:a,contentRef:d,style:{...s?.style},name:"editor-canvas",children:[o.jsx(Mm,{styles:l}),r]})}):o.jsxs(ov,{__unstableContentRef:u,style:{height:t,display:"flex"},children:[o.jsx(Mm,{styles:l,scope:":where(.editor-styles-wrapper)",transformOptions:sv}),o.jsx(Im,{ref:d,className:"editor-styles-wrapper",tabIndex:-1,style:{height:"100%",width:"100%"},children:r})]})}const cv=()=>o.jsx(ft,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:o.jsx(xt,{d:"M7.434 5l3.18 9.16H8.538l-.692-2.184H4.628l-.705 2.184H2L5.18 5h2.254zm-1.13 1.904h-.115l-1.148 3.593H7.44L6.304 6.904zM14.348 7.006c1.853 0 2.9.876 2.9 2.374v4.78h-1.79v-.914h-.114c-.362.64-1.123 1.022-2.031 1.022-1.346 0-2.292-.826-2.292-2.108 0-1.27.972-2.006 2.71-2.107l1.696-.102V9.38c0-.584-.42-.914-1.18-.914-.667 0-1.112.228-1.264.647h-1.701c.12-1.295 1.307-2.107 3.066-2.107zm1.079 4.1l-1.416.09c-.793.056-1.18.342-1.18.844 0 .52.45.837 1.091.837.857 0 1.505-.545 1.505-1.256v-.515z"})}),uv=({style:e,className:t})=>o.jsx("div",{className:"block-library-colors-selector__icon-container",children:o.jsx("div",{className:`${t} block-library-colors-selector__state-selection`,style:e,children:o.jsx(cv,{})})}),dv=({TextColor:e,BackgroundColor:t})=>({onToggle:n,isOpen:r})=>o.jsx(Ai,{children:o.jsx(ns,{className:"components-toolbar__control block-library-colors-selector__toggle",label:ao("Open Colors Selector"),onClick:n,onKeyDown:e=>{r||e.keyCode!==sg||(e.preventDefault(),n())},icon:o.jsx(t,{children:o.jsx(e,{children:o.jsx(uv,{})})})})}),pv=n.createContext({}),gv=()=>n.useContext(pv);function mv({children:e,...t}){const r=n.useRef();return n.useEffect(()=>{r.current&&(r.current.textContent=r.current.textContent)},[e]),o.jsx("div",{hidden:!0,...t,ref:r,children:e})}const hv=n.forwardRef(({nestingLevel:e,blockCount:t,clientId:r,...l},i)=>{const{insertedBlock:s,setInsertedBlock:a}=gv(),c=mi(hv),u=od(e=>{const{getTemplateLock:t,__unstableGetEditorMode:n}=e(y);return!!t(r)||"zoom-out"===n()},[r]),d=vg({clientId:r,context:"list-view"}),p=vg({clientId:s?.clientId,context:"list-view"});if(n.useEffect(()=>{p?.length&&bt(po(ao("%s block inserted"),p),"assertive")},[p]),u)return null;const g=`list-view-appender__${c}`,m=po(ao("Append to %1$s block at position %2$d, Level %3$d"),d,t+1,e);return o.jsxs("div",{className:"list-view-appender",children:[o.jsx(Zh,{ref:i,rootClientId:r,position:"bottom right",isAppender:!0,selectBlockOnInsert:!1,shouldDirectInsert:!1,__experimentalIsQuick:!0,...l,toggleProps:{"aria-describedby":g},onSelectOrClose:e=>{e?.clientId&&a(e)}}),o.jsx(mv,{id:g,children:m})]})}),fv=f($s),bv=n.forwardRef(({isDragged:e,isSelected:t,position:n,level:r,rowCount:l,children:i,className:s,path:a,...c},u)=>{const d=Vg({clientId:c["data-block"],triggerAnimationOnChange:a}),p=di([u,d]);return o.jsx(fv,{ref:p,className:ei("block-editor-list-view-leaf",s),level:r,positionInSet:n,setSize:l,isExpanded:void 0,...c,children:i})});function kv({onClick:e}){return o.jsx("span",{className:"block-editor-list-view__expander",onClick:t=>e(t,{forceToggle:!0}),"aria-hidden":"true","data-testid":"list-view-expander",children:o.jsx(we,{icon:co()?Gt:Ge})})}function vv(e){if("core/image"===e.name)return e.attributes?.url?{url:e.attributes.url,alt:e.attributes.alt,clientId:e.clientId}:void 0}function xv(e,t){const n=vv(e);return n?[n]:t?[]:function(e){if("core/gallery"!==e.name||!e.innerBlocks)return[];const t=[];for(const n of e.innerBlocks){const e=vv(n);if(e&&t.push(e),t.length>=3)return t}return t}(e)}const yv=n.forwardRef(function({className:e,block:{clientId:t},onClick:r,onContextMenu:l,onMouseDown:i,onToggleExpanded:s,tabIndex:a,onFocus:c,onDragStart:u,onDragEnd:d,draggable:p,isExpanded:g,ariaDescribedBy:m},h){const f=fb(t),b=vg({clientId:t,context:"list-view"}),{isLocked:k}=vk(t),{isContentOnly:v}=od(e=>({isContentOnly:"contentOnly"===e(y).getBlockEditingMode(t)}),[t]),x=k&&!v,_="sticky"===f?.positionType,C=function({clientId:e,isExpanded:t}){const{block:o}=od(t=>({block:t(y).getBlock(e)}),[e]);return n.useMemo(()=>xv(o,t),[o,t])}({clientId:t,isExpanded:g});return o.jsxs("a",{className:ei("block-editor-list-view-block-select-button",e),onClick:r,onContextMenu:l,onKeyDown:function(e){e.keyCode!==lg&&32!==e.keyCode||r(e)},onMouseDown:i,ref:h,tabIndex:a,onFocus:c,onDragStart:e=>{e.dataTransfer.clearData(),u?.(e)},onDragEnd:d,draggable:p,href:`#block-${t}`,"aria-describedby":m,"aria-expanded":g,children:[o.jsx(kv,{onClick:s}),o.jsx(gp,{icon:f?.icon,showColors:!0,context:"list-view"}),o.jsxs(hs,{alignment:"center",className:"block-editor-list-view-block-select-button__label-wrapper",justify:"flex-start",spacing:1,children:[o.jsx("span",{className:"block-editor-list-view-block-select-button__title",children:o.jsx(gs,{ellipsizeMode:"auto",children:b})}),f?.anchor&&o.jsx("span",{className:"block-editor-list-view-block-select-button__anchor-wrapper",children:o.jsx(gs,{className:"block-editor-list-view-block-select-button__anchor",ellipsizeMode:"auto",children:f.anchor})}),_&&o.jsx("span",{className:"block-editor-list-view-block-select-button__sticky",children:o.jsx(we,{icon:Wt})}),C.length?o.jsx("span",{className:"block-editor-list-view-block-select-button__images","aria-hidden":!0,children:C.map((e,t)=>o.jsx("span",{className:"block-editor-list-view-block-select-button__image",style:{backgroundImage:`url(${e.url})`,zIndex:C.length-t}},e.clientId))}):null,x&&o.jsx("span",{className:"block-editor-list-view-block-select-button__lock",children:o.jsx(we,{icon:Kt})})]})]})}),_v=n.forwardRef(({onClick:e,onToggleExpanded:t,block:n,isSelected:r,position:l,siblingBlockCount:i,level:s,isExpanded:a,selectedClientIds:c,...u},d)=>{const{clientId:p}=n,{AdditionalBlockContent:g,insertedBlock:m,setInsertedBlock:h}=gv(),f=c.includes(p)?c:[p];return o.jsxs(o.Fragment,{children:[g&&o.jsx(g,{block:n,insertedBlock:m,setInsertedBlock:h}),o.jsx(jb,{appendToOwnerDocument:!0,clientIds:f,cloneClassname:"block-editor-list-view-draggable-chip",children:({draggable:c,onDragStart:p,onDragEnd:g})=>o.jsx(yv,{ref:d,className:"block-editor-list-view-block-contents",block:n,onClick:e,onToggleExpanded:t,isSelected:r,position:l,siblingBlockCount:i,level:s,draggable:c,onDragStart:p,onDragEnd:g,isExpanded:a,...u})})]})});const Cv=n.memo(function e({block:{clientId:t},displacement:r,isAfterDraggedBlocks:l,isDragged:i,isNesting:s,isSelected:a,isBranchSelected:c,selectBlock:u,position:d,level:p,rowCount:g,siblingBlockCount:m,showBlockMovers:h,path:f,isExpanded:b,selectedClientIds:k,isSyncedBranch:v}){const x=n.useRef(null),_=n.useRef(null),C=n.useRef(null),[j,S]=n.useState(!1),[w,I]=n.useState(),{isLocked:B,canEdit:N,canMove:E}=vk(t),D=a&&k[0]===t,T=a&&k[k.length-1]===t,{toggleBlockHighlight:M,duplicateBlocks:L,multiSelect:R,replaceBlocks:A,removeBlocks:O,insertAfterBlock:F,insertBeforeBlock:V,setOpenedBlockSettingsMenu:$}=Id(ld(y)),{canInsertBlockType:H,getSelectedBlockClientIds:U,getPreviousBlockClientId:G,getBlockRootClientId:W,getBlockOrder:K,getBlockParents:q,getBlocksByClientId:Z,canRemoveBlocks:Y,isGroupable:J}=od(y),{getGroupingBlockName:Q}=od(z),ee=fb(t),{block:te,blockName:ne,allowRightClickOverrides:oe}=od(e=>{const{getBlock:n,getBlockName:o,getSettings:r}=e(y);return{block:n(t),blockName:o(t),allowRightClickOverrides:r().allowRightClickOverrides}},[t]),re=P(ne,"__experimentalToolbar",!0),le=`list-view-block-select-button__description-${mi(e)}`,{expand:ie,collapse:se,collapseAll:ae,BlockSettingsMenu:ce,listViewInstanceId:ue,expandedState:de,setInsertedBlock:pe,treeGridElementRef:ge,rootClientId:me}=gv(),he=ut();function fe(){const e=U(),n=e.includes(t),o=n?e[0]:t,r=W(o);return{blocksToUpdate:n?e:[t],firstBlockClientId:o,firstBlockRootClientId:r,selectedBlockClientIds:e}}const be=n.useCallback(()=>{S(!0),M(t,!0)},[t,S,M]),ve=n.useCallback(()=>{S(!1),M(t,!1)},[t,S,M]),ye=n.useCallback(e=>{u(e,t),e.preventDefault()},[t,u]),_e=n.useCallback((e,t)=>{t&&u(void 0,e,null,null),xr(e,ge?.current)},[u,ge]),Ce=n.useCallback(e=>{e.preventDefault(),e.stopPropagation(),!0===b?se(t):!1===b&&ie(t)},[t,ie,se,b]),je=n.useCallback(e=>{re&&oe&&(C.current?.click(),I(new window.DOMRect(e.clientX,e.clientY,0,0)),e.preventDefault())},[oe,C,re]),Se=n.useCallback(e=>{oe&&2===e.button&&e.preventDefault()},[oe]),we=n.useMemo(()=>{const{ownerDocument:e}=_?.current||{};if(w&&e)return{ownerDocument:e,getBoundingClientRect:()=>w}},[w]),Ie=n.useCallback(()=>{I(void 0)},[I]);if(function({isSelected:e,selectedClientIds:t,rowItemRef:o}){const r=1===t.length;n.useLayoutEffect(()=>{if(!e||!r||!o.current)return;const t=Ke(o.current),{ownerDocument:n}=o.current;if(t===n.body||t===n.documentElement||!t)return;const l=o.current.getBoundingClientRect(),i=t.getBoundingClientRect();(l.top<i.top||l.bottom>i.bottom)&&o.current.scrollIntoView()},[e,r,o])}({isSelected:a,rowItemRef:_,selectedClientIds:k}),!te)return null;const Be=yr(d,m,p),Ne=_r(ee,B),Ee=h&&m>0,De=ei("block-editor-list-view-block__mover-cell",{"is-visible":j||a}),Pe=ei("block-editor-list-view-block__menu-cell",{"is-visible":j||D});let Te;Ee?Te=2:re||(Te=3);const Me=ei({"is-selected":a,"is-first-selected":D,"is-last-selected":T,"is-branch-selected":c,"is-synced-branch":v,"is-dragging":i,"has-single-cell":!re,"is-synced":ee?.isSynced,"is-draggable":E,"is-displacement-normal":"normal"===r,"is-displacement-up":"up"===r,"is-displacement-down":"down"===r,"is-after-dragged-blocks":l,"is-nesting":s}),Le=k.includes(t)?k:[t],Re=a&&1===k.length;return o.jsxs(bv,{className:Me,isDragged:i,onKeyDown:async function(e){if(e.defaultPrevented)return;if(e.target.closest("[role=dialog]"))return;const t=[rg,ag].includes(e.keyCode);if(he("core/block-editor/unselect",e)&&k.length>0)e.stopPropagation(),e.preventDefault(),u(e,void 0);else if(t||he("core/block-editor/remove",e)){var n;const{blocksToUpdate:e,firstBlockClientId:t,firstBlockRootClientId:o,selectedBlockClientIds:r}=fe();if(!Y(e))return;let l=null!==(n=G(t))&&void 0!==n?n:o;O(e,!1);const i=r.length>0&&0===U().length;l||(l=K()[0]),_e(l,i)}else if(he("core/block-editor/duplicate",e)){e.preventDefault();const{blocksToUpdate:t,firstBlockRootClientId:n}=fe();if(Z(t).every(e=>!!e&&P(e.name,"multiple",!0)&&H(e.name,n))){const e=await L(t,!1);e?.length&&_e(e[0],!1)}}else if(he("core/block-editor/insert-before",e)){e.preventDefault();const{blocksToUpdate:t}=fe();await V(t[0]);const n=U();$(void 0),_e(n[0],!1)}else if(he("core/block-editor/insert-after",e)){e.preventDefault();const{blocksToUpdate:t}=fe();await F(t.at(-1));const n=U();$(void 0),_e(n[0],!1)}else if(he("core/block-editor/select-all",e)){e.preventDefault();const{firstBlockRootClientId:t,selectedBlockClientIds:n}=fe(),o=K(t);if(!o.length)return;if(ke(n,o)&&t&&t!==me)return void _e(t,!0);R(o[0],o[o.length-1],null)}else if(he("core/block-editor/collapse-list-view",e)){e.preventDefault();const{firstBlockClientId:t}=fe(),n=q(t,!1);ae(),ie(n)}else if(he("core/block-editor/group",e)){const{blocksToUpdate:t}=fe();if(t.length>1&&J(t)){e.preventDefault();const n=Z(t),o=Q(),r=X(n,o);A(t,r),bt(ao("Selected blocks are grouped."));const l=U();$(void 0),_e(l[0],!1)}}},onMouseEnter:be,onMouseLeave:ve,onFocus:be,onBlur:ve,level:p,position:d,rowCount:g,path:f,id:`list-view-${ue}-block-${t}`,"data-block":t,"data-expanded":N?b:void 0,ref:_,children:[o.jsx(Hs,{className:"block-editor-list-view-block__contents-cell",colSpan:Te,ref:x,"aria-selected":!!a,children:({ref:e,tabIndex:t,onFocus:n})=>o.jsxs("div",{className:"block-editor-list-view-block__contents-container",children:[o.jsx(_v,{block:te,onClick:ye,onContextMenu:je,onMouseDown:Se,onToggleExpanded:Ce,isSelected:a,position:d,siblingBlockCount:m,level:p,ref:e,tabIndex:Re?0:t,onFocus:n,isExpanded:N?b:void 0,selectedClientIds:k,ariaDescribedBy:le}),o.jsx(mv,{id:le,children:[Be,Ne].filter(Boolean).join(" ")})]})}),Ee&&o.jsx(o.Fragment,{children:o.jsxs(Hs,{className:De,withoutGridItem:!0,children:[o.jsx(Us,{children:({ref:e,tabIndex:n,onFocus:r})=>o.jsx(Eb,{orientation:"vertical",clientIds:[t],ref:e,tabIndex:n,onFocus:r})}),o.jsx(Us,{children:({ref:e,tabIndex:n,onFocus:r})=>o.jsx(Db,{orientation:"vertical",clientIds:[t],ref:e,tabIndex:n,onFocus:r})})]})}),re&&ce&&o.jsx(Hs,{className:Pe,"aria-selected":!!a,ref:C,children:({ref:e,tabIndex:t,onFocus:n})=>o.jsx(ce,{clientIds:Le,block:te,icon:xe,label:ao("Options"),popoverProps:{anchor:we},toggleProps:{ref:e,className:"block-editor-list-view-block__menu",tabIndex:t,onClick:Ie,onFocus:n},disableOpenOnArrowDown:!0,expand:ie,expandedState:de,setInsertedBlock:pe,__experimentalSelectBlock:_e})})]})});function jv(e,t,n,o){var r;const l=n?.includes(e.clientId);if(l)return 0;return(null!==(r=t[e.clientId])&&void 0!==r?r:o)?1+e.innerBlocks.reduce(Sv(t,n,o),0):1}const Sv=(e,t,n)=>(o,r)=>{var l;const i=t?.includes(r.clientId);if(i)return o;return(null!==(l=e[r.clientId])&&void 0!==l?l:n)&&r.innerBlocks.length>0?o+jv(r,e,t,n):o+1},wv=()=>{};const Iv=n.memo(function e(t){const{blocks:n,selectBlock:r=wv,showBlockMovers:l,selectedClientIds:i,level:s=1,path:a="",isBranchSelected:c=!1,listPosition:u=0,fixedListWindow:d,isExpanded:p,parentId:g,shouldShowInnerBlocks:m=!0,isSyncedBranch:h=!1,showAppender:f=!0}=t,b=fb(g),k=h||!!b?.isSynced,v=od(e=>!g||e(y).canEditBlock(g),[g]),{blockDropPosition:x,blockDropTargetIndex:_,firstDraggedBlockIndex:C,blockIndexes:j,expandedState:S,draggedClientIds:w}=gv();if(!v)return null;const I=f&&1===s,B=n.filter(Boolean),N=B.length,E=I?N+1:N;let D=u;return o.jsxs(o.Fragment,{children:[B.map((t,n)=>{var u;const{clientId:g,innerBlocks:h}=t;n>0&&(D+=jv(B[n-1],S,w,p));const f=!!w?.includes(g),{displacement:b,isAfterDraggedBlocks:v,isNesting:y}=Cr({blockIndexes:j,blockDropTargetIndex:_,blockDropPosition:x,clientId:g,firstDraggedBlockIndex:C,isDragged:f}),{itemInView:I}=d,P=I(D),T=n+1,M=a.length>0?`${a}_${T}`:`${T}`,L=!!h?.length,R=L&&m?null!==(u=S[g])&&void 0!==u?u:p:void 0,A=jr(g,i),O=c||A&&L,z=f||P||A&&g===i[0]||0===n||n===N-1;return o.jsxs(Qu,{value:!A,children:[z&&o.jsx(Cv,{block:t,selectBlock:r,isSelected:A,isBranchSelected:O,isDragged:f,level:s,position:T,rowCount:E,siblingBlockCount:N,showBlockMovers:l,path:M,isExpanded:!f&&R,listPosition:D,selectedClientIds:i,isSyncedBranch:k,displacement:b,isAfterDraggedBlocks:v,isNesting:y}),!z&&o.jsx("tr",{children:o.jsx("td",{className:"block-editor-list-view-placeholder"})}),L&&R&&!f&&o.jsx(e,{parentId:g,blocks:h,selectBlock:r,showBlockMovers:l,level:s+1,path:M,listPosition:D+1,fixedListWindow:d,isBranchSelected:O,selectedClientIds:i,isExpanded:p,isSyncedBranch:k})]},g)}),I&&o.jsx($s,{level:s,setSize:E,positionInSet:E,isExpanded:!0,children:o.jsx(Hs,{children:e=>o.jsx(hv,{clientId:g,nestingLevel:s,blockCount:N,...e})})})]})});function Bv({draggedBlockClientId:e,listViewRef:t,blockDropTarget:r}){const l=fb(e),i=vg({clientId:e,context:"list-view"}),{rootClientId:s,clientId:a,dropPosition:c}=r||{},[u,d]=n.useMemo(()=>{if(!t.current)return[];return[s?t.current.querySelector(`[data-block="${s}"]`):void 0,a?t.current.querySelector(`[data-block="${a}"]`):void 0]},[t,s,a]),p=d||u,g=co(),m=n.useCallback((e,t)=>{if(!p)return 0;let n=p.offsetWidth;const o=Ke(p,"horizontal"),r=p.ownerDocument,l=o===r.body||o===r.documentElement;if(o&&!l){const r=o.getBoundingClientRect(),l=co()?r.right-e.right:e.left-r.left,i=o.clientWidth;if(i<n+l&&(n=i-l),!g&&e.left+t<r.left)return n-=r.left-e.left,n;if(g&&e.right-t>r.right)return n-=e.right-r.right,n}return n-t},[g,p]),h=n.useMemo(()=>{if(!p)return{};const e=p.getBoundingClientRect();return{width:m(e,0)}},[m,p]),f=n.useMemo(()=>{if(!p)return{};const e=Ke(p),t=p.ownerDocument,n=e===t.body||e===t.documentElement;if(e&&!n){const t=e.getBoundingClientRect(),n=p.getBoundingClientRect(),o=g?t.right-n.right:n.left-t.left;if(!g&&t.left>n.left)return{transform:`translateX( ${o}px )`};if(g&&t.right<n.right)return{transform:`translateX( ${-1*o}px )`}}return{}},[g,p]),b=n.useMemo(()=>{if(!u)return 1;const e=parseInt(u.getAttribute("aria-level"),10);return e?e+1:1},[u]),k=n.useMemo(()=>!!p&&p.classList.contains("is-branch-selected"),[p]),v=n.useMemo(()=>{if(p&&("top"===c||"bottom"===c||"inside"===c))return{contextElement:p,getBoundingClientRect(){const e=p.getBoundingClientRect();let t=e.left,n=0;const o=Ke(p,"horizontal"),r=p.ownerDocument,l=o===r.body||o===r.documentElement;if(o&&!l){const e=o.getBoundingClientRect(),n=g?o.offsetWidth-o.clientWidth:0;t<e.left+n&&(t=e.left+n)}n="top"===c?e.top-2*e.height:e.top;const i=m(e,0),s=e.height;return new window.DOMRect(t,n,i,s)}}},[p,c,m,g]);return p?o.jsx(Es,{animate:!1,anchor:v,focusOnMount:!1,className:"block-editor-list-view-drop-indicator--preview",variant:"unstyled",flip:!1,resize:!0,children:o.jsx("div",{style:h,className:ei("block-editor-list-view-drop-indicator__line",{"block-editor-list-view-drop-indicator__line--darker":k}),children:o.jsxs("div",{className:"block-editor-list-view-leaf","aria-level":b,children:[o.jsxs("div",{className:ei("block-editor-list-view-block-select-button","block-editor-list-view-block-contents"),style:f,children:[o.jsx(kv,{onClick:()=>{}}),o.jsx(gp,{icon:l?.icon,showColors:!0,context:"list-view"}),o.jsx(hs,{alignment:"center",className:"block-editor-list-view-block-select-button__label-wrapper",justify:"flex-start",spacing:1,children:o.jsx("span",{className:"block-editor-list-view-block-select-button__title",children:o.jsx(gs,{ellipsizeMode:"auto",children:i})})})]}),o.jsx("div",{className:"block-editor-list-view-block__menu-cell"})]})})}):null}const Nv=24;function Ev(e,t){const n=e[t+1];return n&&n.isDraggedBlock?Ev(e,t+1):n}const Dv=["top","bottom"];function Pv(e,t,n=!1){let o,r,l,i,s;for(let d=0;d<e.length;d++){const n=e[d];if(n.isDraggedBlock)continue;const a=n.element.getBoundingClientRect(),[c,u]=Xo(t,a,Dv),p=Jo(t,a);if(void 0===l||c<l||p){l=c;const t=e.indexOf(n),d=e[t-1];if("top"===u&&d&&d.rootClientId===n.rootClientId&&!d.isDraggedBlock?(r=d,o="bottom",i=d.element.getBoundingClientRect(),s=t-1):(r=n,o=u,i=a,s=t),p)break}}if(!r)return;const a=function(e,t){const n=[];let o=e;for(;o;)n.push({...o}),o=t.find(e=>e.clientId===o.rootClientId);return n}(r,e),c="bottom"===o;if(c&&r.canInsertDraggedBlocksAsChild&&(r.innerBlockCount>0&&r.isExpanded||function(e,t,n=1,o=!1){const r=o?t.right-n*Nv:t.left+n*Nv;return(o?e.x<r-Nv:e.x>r+Nv)&&e.y<t.bottom}(t,i,a.length,n))){const e=r.isExpanded?0:r.innerBlockCount||0;return{rootClientId:r.clientId,clientId:r.clientId,blockIndex:e,dropPosition:"inside"}}if(c&&r.rootClientId&&function(e,t,n=1,o=!1){const r=o?t.right-n*Nv:t.left+n*Nv;return o?e.x>r:e.x<r}(t,i,a.length,n)){const l=Ev(e,s),c=r.nestingLevel,u=l?l.nestingLevel:1;if(c&&u){const d=function(e,t,n=1,o=!1){const r=o?t.right-n*Nv:t.left+n*Nv,l=o?r-e.x:e.x-r,i=Math.round(l/Nv);return Math.abs(i)}(t,i,a.length,n),p=Math.max(Math.min(d,c-u),0);if(a[p]){let t=r.blockIndex;if(a[p].nestingLevel===l?.nestingLevel)t=l?.blockIndex;else for(let n=s;n>=0;n--){const o=e[n];if(o.rootClientId===a[p].rootClientId){t=o.blockIndex+1;break}}return{rootClientId:a[p].rootClientId,clientId:r.clientId,blockIndex:t,dropPosition:o}}}}if(!r.canInsertDraggedBlocksAsSibling)return;const u=c?1:0;return{rootClientId:r.rootClientId,clientId:r.clientId,blockIndex:r.blockIndex+u,dropPosition:o}}const Tv={leading:!1,trailing:!0};function Mv({selectBlock:e}){const t=Yu(),{getBlockOrder:n,getBlockRootClientId:o,getBlocksByClientId:r,getPreviousBlockClientId:l,getSelectedBlockClientIds:i,getSettings:s,canInsertBlockType:a,canRemoveBlocks:c}=od(y),{flashBlock:u,removeBlocks:d,replaceBlocks:p,insertBlocks:g}=ld(y),m=Mo();return ci(h=>{function f(t,n){n&&e(void 0,t,null,null),xr(t,h)}function b(e){if(e.defaultPrevented)return;if(!h.contains(e.target.ownerDocument.activeElement))return;const b=e.target.ownerDocument.activeElement?.closest("[role=row]"),k=b?.dataset?.block;if(!k)return;const{blocksToUpdate:v,firstBlockClientId:x,firstBlockRootClientId:y,originallySelectedBlockClientIds:_}=function(e){const t=i(),n=t.includes(e),r=n?t[0]:e;return{blocksToUpdate:n?t:[e],firstBlockClientId:r,firstBlockRootClientId:o(r),originallySelectedBlockClientIds:t}}(k);if(0!==v.length){if(e.preventDefault(),"copy"===e.type||"cut"===e.type){1===v.length&&u(v[0]),m(e.type,v);const n=r(v);Lo(e,n,t)}if("cut"===e.type){var C;if(!c(v))return;let e=null!==(C=l(x))&&void 0!==C?C:y;d(v,!1);const t=_.length>0&&0===i().length;e||(e=n()[0]),f(e,t)}else if("paste"===e.type){const{__experimentalCanUserUseUnfilteredHTML:t}=s(),n=wr(e);if(1===v.length){const[e]=v;if(n.every(t=>a(t.name,e)))return g(n,void 0,e),void f(n[0]?.clientId,!1)}p(v,n,n.length-1,-1),f(n[0]?.clientId,!1)}}}return h.ownerDocument.addEventListener("copy",b),h.ownerDocument.addEventListener("cut",b),h.ownerDocument.addEventListener("paste",b),()=>{h.ownerDocument.removeEventListener("copy",b),h.ownerDocument.removeEventListener("cut",b),h.ownerDocument.removeEventListener("paste",b)}},[])}const Lv=(e,t)=>"clear"===t.type?{}:Array.isArray(t.clientIds)?{...e,...t.clientIds.reduce((e,n)=>({...e,[n]:"expand"===t.type}),{})}:e;const Rv=n.forwardRef(function e({id:t,blocks:r,dropZoneElement:l,showBlockMovers:i=!1,isExpanded:s=!1,showAppender:a=!1,blockSettingsMenu:c=Ak,rootClientId:u,description:d,onSelect:p,additionalBlockContent:g},m){r&&be("`blocks` property in `wp.blockEditor.__experimentalListView`",{since:"6.3",alternative:"`rootClientId` property"});const h=mi(e),{clientIdsTree:f,draggedClientIds:b,selectedClientIds:k}=function({blocks:e,rootClientId:t}){return od(n=>{const{getDraggedBlockClientIds:o,getSelectedBlockClientIds:r,getEnabledClientIdsTree:l}=Id(n(y));return{selectedClientIds:r(),draggedClientIds:o(),clientIdsTree:null!=e?e:l(t)}},[e,t])}({blocks:r,rootClientId:u}),v=function(e){return n.useMemo(()=>{const t={};let n=0;const o=e=>{e.forEach(e=>{t[e.clientId]=n,n++,e.innerBlocks.length>0&&o(e.innerBlocks)})};return o(e),t},[e])}(f),{getBlock:x}=od(y),{visibleBlockCount:_}=od(e=>{const{getGlobalBlockCount:t,getClientIdsOfDescendants:n}=e(y),o=b?.length>0?n(b).length+1:0;return{visibleBlockCount:t()-o}},[b]),{updateBlockSelection:C}=function(){const{clearSelectedBlock:e,multiSelect:t,selectBlock:o}=ld(y),{getBlockName:r,getBlockParents:l,getBlockSelectionStart:i,getSelectedBlockClientIds:s,hasMultiSelection:a,hasSelectedBlock:c}=od(y),{getBlockType:u}=od(z);return{updateBlockSelection:n.useCallback(async(n,d,p,g)=>{if(!n?.shiftKey&&27!==n?.keyCode)return void o(d,g);n.preventDefault();const m="keydown"===n.type&&27===n.keyCode,h="keydown"===n.type&&(n.keyCode===ig||n.keyCode===sg||36===n.keyCode||35===n.keyCode);if(!h&&!c()&&!a())return void o(d,null);const f=s(),b=[...l(d),d];if((m||h&&!f.some(e=>b.includes(e)))&&await e(),!m){let e=i(),n=d;h&&(c()||a()||(e=d),p&&(n=p));const o=l(e),r=l(n),{start:s,end:u}=Sr(e,n,o,r);await t(s,u,null)}const k=s();if((36===n.keyCode||35===n.keyCode)&&k.length>1)return;const v=f.filter(e=>!k.includes(e));let x;if(1===v.length){const e=u(r(v[0]))?.title;e&&(x=po(ao("%s deselected."),e))}else v.length>1&&(x=po(ao("%s blocks deselected."),v.length));x&&bt(x,"assertive")},[e,r,u,l,i,s,a,c,t,o])}}(),[j,S]=n.useReducer(Lv,{}),[w,I]=n.useState(null),{setSelectedTreeId:B}=function({firstSelectedBlockClientId:e,setExpandedState:t}){const[o,r]=n.useState(null),{selectedBlockParentClientIds:l}=od(t=>{const{getBlockParents:n}=t(y);return{selectedBlockParentClientIds:n(e,!1)}},[e]);return n.useEffect(()=>{o!==e&&l?.length&&t({type:"expand",clientIds:l})},[e,l,o,t]),{setSelectedTreeId:r}}({firstSelectedBlockClientId:k[0],setExpandedState:S}),N=n.useCallback((e,t,n)=>{C(e,t,null,n),B(t),p&&p(x(t))},[B,C,p,x]),{ref:E,target:D}=function({dropZoneElement:e,expandedState:t,setExpandedState:o}){const{getBlockRootClientId:r,getBlockIndex:l,getBlockCount:i,getDraggedBlockClientIds:s,canInsertBlocks:a}=od(y),[c,u]=n.useState(),{rootClientId:d,blockIndex:p}=c||{},g=yf(d,p),m=co(),h=bi(d),f=n.useCallback((e,t)=>{const{rootClientId:n}=t||{};n&&("inside"!==t?.dropPosition||e[n]||o({type:"expand",clientIds:[n]}))},[o]),b=yi(f,500,Tv);n.useEffect(()=>{"inside"===c?.dropPosition&&h===c?.rootClientId?b(t,c):b.cancel()},[t,h,c,b]);const k=s(),v=yi(n.useCallback((e,t)=>{const n={x:e.clientX,y:e.clientY},o=!!k?.length,s=Pv(Array.from(t.querySelectorAll("[data-block]")).map(e=>{const t=e.dataset.block,n="true"===e.dataset.expanded,s=e.classList.contains("is-dragging"),c=parseInt(e.getAttribute("aria-level"),10),u=r(t);return{clientId:t,isExpanded:n,rootClientId:u,blockIndex:l(t),element:e,nestingLevel:c||void 0,isDraggedBlock:!!o&&s,innerBlockCount:i(t),canInsertDraggedBlocksAsSibling:!o||a(k,u),canInsertDraggedBlocksAsChild:!o||a(k,t)}}),n,m);s&&u(s)},[a,k,i,l,r,m]),50);return{ref:_i({dropZoneElement:e,onDrop(e){v.cancel(),c&&g(e),u(void 0)},onDragLeave(){v.cancel(),u(null)},onDragOver(e){v(e,e.currentTarget)},onDragEnd(){v.cancel(),u(void 0)}}),target:c}}({dropZoneElement:l,expandedState:j,setExpandedState:S}),P=n.useRef(),T=Mv({selectBlock:N}),M=di([T,P,E,m]);n.useEffect(()=>{k?.length&&xr(k[0],P?.current)},[]);const L=n.useCallback(e=>{if(!e)return;const t=Array.isArray(e)?e:[e];S({type:"expand",clientIds:t})},[S]),R=n.useCallback(e=>{e&&S({type:"collapse",clientIds:[e]})},[S]),A=n.useCallback(()=>{S({type:"clear"})},[S]),O=n.useCallback(e=>{L(e?.dataset?.block)},[L]),F=n.useCallback(e=>{R(e?.dataset?.block)},[R]),V=n.useCallback((e,t,n)=>{e.shiftKey&&C(e,t?.dataset?.block,n?.dataset?.block)},[C]);!function({collapseAll:e,expand:t}){const{expandedBlock:o,getBlockParents:r}=od(e=>{const{getBlockParents:t,getExpandedBlock:n}=Id(e(y));return{expandedBlock:n(),getBlockParents:t}},[]);n.useEffect(()=>{if(o){const n=r(o,!1);e(),t(n)}},[e,t,o,r])}({collapseAll:A,expand:L});const $=b?.[0],{blockDropTargetIndex:H,blockDropPosition:U,firstDraggedBlockIndex:G}=n.useMemo(()=>{let e,t;if(D?.clientId){const t=v[D.clientId];e=void 0===t||"top"===D?.dropPosition?t:t+1}else null===D&&(e=null);if($){const e=v[$];t=void 0===e||"top"===D?.dropPosition?e:e+1}return{blockDropTargetIndex:e,blockDropPosition:D?.dropPosition,firstDraggedBlockIndex:t}},[D,v,$]),W=n.useMemo(()=>({blockDropPosition:U,blockDropTargetIndex:H,blockIndexes:v,draggedClientIds:b,expandedState:j,expand:L,firstDraggedBlockIndex:G,collapse:R,collapseAll:A,BlockSettingsMenu:c,listViewInstanceId:h,AdditionalBlockContent:g,insertedBlock:w,setInsertedBlock:I,treeGridElementRef:P,rootClientId:u}),[U,H,v,b,j,L,G,R,A,c,h,g,w,I,u]),[K]=wi(P,32,_,{expandedState:j,useWindowing:!0,windowOverscan:40});if(!f.length&&!a)return null;const q=d&&`block-editor-list-view-description-${h}`;return o.jsxs(Qu,{value:!0,children:[o.jsx(Bv,{draggedBlockClientId:$,listViewRef:P,blockDropTarget:D}),d&&o.jsx(fs,{id:q,children:d}),o.jsx(Gs,{id:t,className:ei("block-editor-list-view-tree",{"is-dragging":b?.length>0&&void 0!==H}),"aria-label":ao("Block navigation structure"),ref:M,onCollapseRow:F,onExpandRow:O,onFocusRow:V,applicationAriaLabel:ao("Block navigation structure"),"aria-describedby":q,style:{"--wp-admin--list-view-dragged-items-height":b?.length?32*(b.length-1)+"px":null},children:o.jsx(pv.Provider,{value:W,children:o.jsx(Iv,{blocks:f,parentId:u,selectBlock:N,showBlockMovers:i,fixedListWindow:K,selectedClientIds:k,isExpanded:s,showAppender:a})})})]})}),Av=n.forwardRef((e,t)=>o.jsx(Rv,{ref:t,...e,showAppender:!1,rootClientId:null,onSelect:null,additionalBlockContent:null,blockSettingsMenu:void 0}));function Ov({isEnabled:e,onToggle:t,isOpen:n,innerRef:r,...l}){return o.jsx(Mi,{__next40pxDefaultSize:!0,...l,ref:r,icon:qt,"aria-expanded":n,"aria-haspopup":"true",onClick:e?t:void 0,label:ao("List view"),className:"block-editor-block-navigation","aria-disabled":!e})}const zv=n.forwardRef(function({isDisabled:e,...t},n){be("wp.blockEditor.BlockNavigationDropdown",{since:"6.1",alternative:"wp.components.Dropdown and wp.blockEditor.ListView"});const r=od(e=>!!e(y).getBlockCount(),[]),l=r&&!e;return o.jsx(rs,{contentClassName:"block-editor-block-navigation__popover",popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:e,onToggle:r})=>o.jsx(Ov,{...t,innerRef:n,isOpen:e,onToggle:r,isEnabled:l}),renderContent:()=>o.jsxs("div",{className:"block-editor-block-navigation__container",children:[o.jsx("p",{className:"block-editor-block-navigation__label",children:ao("List view")}),o.jsx(Av,{})]})})});function Fv({genericPreviewBlock:e,style:t,className:r,activeStyle:l}){const i=D(e.name)?.example,s=ir(r,l,t),a=n.useMemo(()=>({...e,title:t.label||t.name,description:t.description,initialAttributes:{...e.attributes,className:s+" block-editor-block-styles__block-preview-container"},example:i}),[e,s]);return o.jsx($m,{item:a})}const Vv=()=>{};function $v({clientId:e,onSwitch:t=Vv,onHoverClassName:r=Vv}){const{onSelect:l,stylesToRender:i,activeStyle:s,genericPreviewBlock:a,className:c}=Vb({clientId:e,onSwitch:t}),[u,d]=n.useState(null),p=ki("medium","<");if(!i||0===i.length)return null;const g=Ii(d,250),m=e=>{var t;u!==e?(g(e),r(null!==(t=e?.name)&&void 0!==t?t:null)):g.cancel()};return o.jsxs("div",{className:"block-editor-block-styles",children:[o.jsx("div",{className:"block-editor-block-styles__variants",children:i.map(e=>{const t=e.label||e.name;return o.jsx(Mi,{__next40pxDefaultSize:!0,className:ei("block-editor-block-styles__item",{"is-active":s.name===e.name}),variant:"secondary",label:t,onMouseEnter:()=>m(e),onFocus:()=>m(e),onMouseLeave:()=>m(null),onBlur:()=>m(null),onClick:()=>(e=>{l(e),r(null),d(null),g.cancel()})(e),"aria-current":s.name===e.name,children:o.jsx(gs,{numberOfLines:1,className:"block-editor-block-styles__item-text",children:t})},e.name)})}),u&&!p&&o.jsx(Es,{placement:"left-start",offset:34,focusOnMount:!1,children:o.jsx("div",{className:"block-editor-block-styles__preview-panel",onMouseLeave:()=>m(null),children:o.jsx(Fv,{activeStyle:s,className:c,genericPreviewBlock:a,style:u})})})]})}const Hv={0:tn,1:en,2:Qt,3:Jt,4:Xt,5:Yt,6:Zt};function Uv({level:e}){return Hv[e]?o.jsx(zi,{icon:Hv[e]}):null}const Gv=[1,2,3,4,5,6],Wv={className:"block-library-heading-level-dropdown"};const Kv="carousel",qv="grid",Zv=({onBlockPatternSelect:e})=>o.jsx("div",{className:"block-editor-block-pattern-setup__actions",children:o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"primary",onClick:e,children:ao("Choose")})}),Yv=({handlePrevious:e,handleNext:t,activeSlide:n,totalSlides:r})=>o.jsxs("div",{className:"block-editor-block-pattern-setup__navigation",children:[o.jsx(Mi,{size:"compact",icon:co()?nt:ot,label:ao("Previous pattern"),onClick:e,disabled:0===n,accessibleWhenDisabled:!0}),o.jsx(Mi,{size:"compact",icon:co()?ot:nt,label:ao("Next pattern"),onClick:t,disabled:n===r-1,accessibleWhenDisabled:!0})]}),Xv=({viewMode:e,setViewMode:t,handlePrevious:n,handleNext:r,activeSlide:l,totalSlides:i,onBlockPatternSelect:s})=>{const a=e===Kv,c=o.jsxs("div",{className:"block-editor-block-pattern-setup__display-controls",children:[o.jsx(Mi,{size:"compact",icon:Fe,label:ao("Carousel view"),onClick:()=>t(Kv),isPressed:a}),o.jsx(Mi,{size:"compact",icon:Lt,label:ao("Grid view"),onClick:()=>t(qv),isPressed:e===qv})]});return o.jsxs("div",{className:"block-editor-block-pattern-setup__toolbar",children:[a&&o.jsx(Yv,{handlePrevious:n,handleNext:r,activeSlide:l,totalSlides:i}),c,a&&o.jsx(Zv,{onBlockPatternSelect:s})]})};const Jv=({viewMode:e,activeSlide:t,patterns:n,onBlockPatternSelect:r,showTitles:l})=>{const i="block-editor-block-pattern-setup__container";if(e===Kv){const e=new Map([[t,"active-slide"],[t-1,"previous-slide"],[t+1,"next-slide"]]);return o.jsx("div",{className:"block-editor-block-pattern-setup__carousel",children:o.jsx("div",{className:i,children:o.jsx("div",{className:"carousel-container",children:n.map((n,r)=>o.jsx(ex,{active:r===t,className:e.get(r)||"",pattern:n},n.name))})})})}return o.jsx("div",{className:"block-editor-block-pattern-setup__grid",children:o.jsx(ds,{role:"listbox",className:i,"aria-label":ao("Patterns list"),children:n.map(e=>o.jsx(Qv,{pattern:e,onSelect:r,showTitles:l},e.name))})})};function Qv({pattern:e,onSelect:t,showTitles:n}){const r="block-editor-block-pattern-setup-list",{blocks:l,description:i,viewportWidth:s=700}=e,a=mi(Qv,`${r}__item-description`);return o.jsx("div",{className:`${r}__list-item`,children:o.jsxs(ds.Item,{render:o.jsx("div",{"aria-describedby":i?a:void 0,"aria-label":e.title,className:`${r}__item`}),id:`${r}__pattern__${e.name}`,role:"option",onClick:()=>t(l),children:[o.jsx(Vm,{blocks:l,viewportWidth:s}),n&&o.jsx("div",{className:`${r}__item-title`,children:e.title}),!!i&&o.jsx(fs,{id:a,children:i})]})})}function ex({active:e,className:t,pattern:n,minHeight:r}){const{blocks:l,title:i,description:s}=n,a=mi(ex,"block-editor-block-pattern-setup-list__item-description");return o.jsxs("div",{"aria-hidden":!e,role:"img",className:`pattern-slide ${t}`,"aria-label":i,"aria-describedby":s?a:void 0,children:[o.jsx(Vm,{blocks:l,minHeight:r}),!!s&&o.jsx(fs,{id:a,children:s})]})}function tx({className:e,onSelectVariation:t,selectedValue:n,variations:r}){return o.jsxs("fieldset",{className:e,children:[o.jsx(fs,{as:"legend",children:ao("Transform to variation")}),r.map(e=>o.jsx(Mi,{__next40pxDefaultSize:!0,size:"compact",icon:o.jsx(gp,{icon:e.icon,showColors:!0}),isPressed:n===e.name,label:n===e.name?e.title:po(ao("Transform to %s"),e.title),onClick:()=>t(e.name),"aria-label":e.title,showTooltip:!0},e.name))]})}function nx({className:e,onSelectVariation:t,selectedValue:n,variations:r}){const l=r.map(({name:e,title:t,description:n})=>({value:e,label:t,info:n}));return o.jsx(Di,{className:e,label:ao("Transform to variation"),text:ao("Transform to variation"),popoverProps:{position:"bottom center",className:`${e}__popover`},icon:Nt,toggleProps:{iconPosition:"right"},children:()=>o.jsx("div",{className:`${e}__container`,children:o.jsx(Pi,{children:o.jsx(Ss,{choices:l,value:n,onSelect:t})})})})}function ox({className:e,onSelectVariation:t,selectedValue:n,variations:r}){return o.jsx("div",{className:e,children:o.jsx(Ui,{label:ao("Transform to variation"),value:n,hideLabelFromVision:!0,onChange:t,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,children:r.map(e=>o.jsx(Gi,{icon:o.jsx(gp,{icon:e.icon,showColors:!0}),value:e.name,label:n===e.name?e.title:po(ao("Transform to %s"),e.title)},e.name))})})}function rx({blockClientId:e}){const{updateBlockAttributes:t}=ld(y),{activeBlockVariation:r,variations:l,isContentOnly:i}=od(t=>{const{getActiveBlockVariation:n,getBlockVariations:o}=t(z),{getBlockName:r,getBlockAttributes:l,getBlockEditingMode:i}=t(y),s=e&&r(e),{hasContentRoleAttribute:a}=Id(t(z)),c=a(s);return{activeBlockVariation:n(s,l(e)),variations:s&&o(s,"transform"),isContentOnly:"contentOnly"===i(e)&&!c}},[e]),s=r?.name,a=n.useMemo(()=>{const e=new Set;return!!l&&(l.forEach(t=>{t.icon&&e.add(t.icon?.src||t.icon)}),e.size===l.length)},[l]);if(!l?.length||i)return null;const c=l.length>5,u=a?c?tx:ox:nx;return o.jsx(u,{className:"block-editor-block-variation-transforms",onSelectVariation:n=>{t(e,{...l.find(({name:e})=>e===n).attributes})},selectedValue:s,variations:l})}const lx=o.jsx(ft,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:o.jsx(xt,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"})}),ix=o.jsx(ft,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:o.jsx(xt,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"})}),sx=o.jsx(ft,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:o.jsx(xt,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"})}),ax=o.jsx(ft,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:o.jsx(xt,{d:"M4 4L20 4L20 5.5L4 5.5L4 4ZM10 7L14 7L14 17L10 17L10 7ZM20 18.5L4 18.5L4 20L20 20L20 18.5Z"})}),cx=o.jsx(ft,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:o.jsx(xt,{d:"M7 4H17V8L7 8V4ZM7 16L17 16V20L7 20V16ZM20 11.25H4V12.75H20V11.25Z"})}),ux={top:{icon:sx,title:uo("Align top","Block vertical alignment setting")},center:{icon:ix,title:uo("Align middle","Block vertical alignment setting")},bottom:{icon:lx,title:uo("Align bottom","Block vertical alignment setting")},stretch:{icon:ax,title:uo("Stretch to fill","Block vertical alignment setting")},"space-between":{icon:cx,title:uo("Space between","Block vertical alignment setting")}},dx=["top","center","bottom"];function px({value:e,onChange:t,controls:n=dx,isCollapsed:r=!0,isToolbar:l}){const i=ux[e],s=ux.top,a=l?Ai:Oi,c=l?{isCollapsed:r}:{};return o.jsx(a,{icon:i?i.icon:s.icon,label:uo("Change vertical alignment","Block vertical alignment setting label"),controls:n.map(n=>{return{...ux[n],isActive:e===n,role:r?"menuitemradio":void 0,onClick:(o=n,()=>t(e===o?void 0:o))};var o}),...c})}const gx=e=>o.jsx(px,{...e,isToolbar:!1});function mx({onChange:e,selectedUnits:t,setSelectedUnits:n,values:r,...l}){let i=Ir(r);void 0===i&&(i=Br(t));const s=Nr(r)&&Er(r),a=s?ao("Mixed"):null;return o.jsx(Zi,{...l,"aria-label":ao("Border radius"),disableUnits:s,isOnly:!0,value:i,onChange:t=>{const n=!isNaN(parseFloat(t));e(n?t:void 0)},onUnitChange:e=>{n({topLeft:e,topRight:e,bottomLeft:e,bottomRight:e})},placeholder:a,size:"__unstable-large"})}const hx={topLeft:ao("Top left"),topRight:ao("Top right"),bottomLeft:ao("Bottom left"),bottomRight:ao("Bottom right")};function fx({onChange:e,selectedUnits:t,setSelectedUnits:n,values:r,...l}){const i=t=>n=>{if(!e)return;const o=!isNaN(parseFloat(n))?n:void 0;e({...s,[t]:o})},s="string"!=typeof r?r:{topLeft:r,topRight:r,bottomLeft:r,bottomRight:r};return o.jsx("div",{className:"components-border-radius-control__input-controls-wrapper",children:Object.entries(hx).map(([e,r])=>{const[a,c]=ts(s[e]),u=s[e]?c:t[e]||t.flat;return o.jsx(bs,{text:r,placement:"top",children:o.jsx("div",{className:"components-border-radius-control__tooltip-wrapper",children:o.jsx(Zi,{...l,"aria-label":r,value:[a,u].join(""),onChange:i(e),onUnitChange:(d=e,e=>{const o={...t};o[d]=e,n(o)}),size:"__unstable-large"})})},e);var d})})}function bx({isLinked:e,...t}){const n=ao(e?"Unlink radii":"Link radii");return o.jsx(bs,{text:n,children:o.jsx(Mi,{...t,className:"component-border-radius-control__linked-button",size:"small",icon:e?on:rn,iconSize:24,"aria-label":n})})}const kx={topLeft:void 0,topRight:void 0,bottomLeft:void 0,bottomRight:void 0},vx={px:100,em:20,rem:20};function xx({onChange:e,values:t}){const[r,l]=n.useState(!Nr(t)||!Er(t)),[i,s]=n.useState({flat:"string"==typeof t?ts(t)[1]:void 0,topLeft:ts(t?.topLeft)[1],topRight:ts(t?.topRight)[1],bottomLeft:ts(t?.bottomLeft)[1],bottomRight:ts(t?.bottomRight)[1]}),[a]=Ad("spacing.units"),c=Ki({availableUnits:a||["px","em","rem"]}),u=Br(i),d=c&&c.find(e=>e.value===u),p=d?.step||1,[g]=ts(Ir(t));return o.jsxs("fieldset",{className:"components-border-radius-control",children:[o.jsx(Ji.VisualLabel,{as:"legend",children:ao("Radius")}),o.jsxs("div",{className:"components-border-radius-control__wrapper",children:[r?o.jsxs(o.Fragment,{children:[o.jsx(mx,{className:"components-border-radius-control__unit-control",values:t,min:0,onChange:e,selectedUnits:i,setSelectedUnits:s,units:c}),o.jsx(es,{__next40pxDefaultSize:!0,label:ao("Border radius"),hideLabelFromVision:!0,className:"components-border-radius-control__range-control",value:null!=g?g:"",min:0,max:vx[u],initialPosition:0,withInputField:!1,onChange:t=>{e(void 0!==t?`${t}${u}`:void 0)},step:p,__nextHasNoMarginBottom:!0})]}):o.jsx(fx,{min:0,onChange:e,selectedUnits:i,setSelectedUnits:s,values:t||kx,units:c}),o.jsx(bx,{onClick:()=>l(!r),isLinked:r})]})]})}const yx=ti(e=>t=>{const[n,r]=Ad("color.palette","color.custom"),{colors:l=n,disableCustomColors:i=!r}=t,s=l&&l.length>0||!i;return o.jsx(e,{...t,colors:l,disableCustomColors:i,hasColorsToChoose:s})},"withColorContext"),_x=yx(Ks),{Tabs:Cx}=Id(Li),jx=["colors","disableCustomColors","gradients","disableCustomGradients"],Sx="color",wx="gradient";function Ix({colors:e,gradients:t,disableCustomColors:n,disableCustomGradients:r,__experimentalIsRenderedInSidebar:l,className:i,label:s,onColorChange:a,onGradientChange:c,colorValue:u,gradientValue:d,clearable:p,showTitle:g=!0,enableAlpha:m,headingLevel:h}){const f=a&&(e&&e.length>0||!n),b=c&&(t&&t.length>0||!r);if(!f&&!b)return null;const k={[Sx]:o.jsx(Ks,{value:u,onChange:b?e=>{a(e),c()}:a,colors:e,disableCustomColors:n,__experimentalIsRenderedInSidebar:l,clearable:p,enableAlpha:m,headingLevel:h}),[wx]:o.jsx(qs,{value:d,onChange:f?e=>{c(e),a()}:c,gradients:t,disableCustomGradients:r,__experimentalIsRenderedInSidebar:l,clearable:p,headingLevel:h})},v=e=>o.jsx("div",{className:"block-editor-color-gradient-control__panel",children:k[e]});return o.jsx(Ji,{__nextHasNoMarginBottom:!0,className:ei("block-editor-color-gradient-control",i),children:o.jsx("fieldset",{className:"block-editor-color-gradient-control__fieldset",children:o.jsxs(qi,{spacing:1,children:[g&&o.jsx("legend",{children:o.jsx("div",{className:"block-editor-color-gradient-control__color-indicator",children:o.jsx(Ji.VisualLabel,{children:s})})}),f&&b&&o.jsx("div",{children:o.jsxs(Cx,{defaultTabId:d?wx:!!f&&Sx,children:[o.jsxs(Cx.TabList,{children:[o.jsx(Cx.Tab,{tabId:Sx,children:ao("Color")}),o.jsx(Cx.Tab,{tabId:wx,children:ao("Gradient")})]}),o.jsx(Cx.TabPanel,{tabId:Sx,className:"block-editor-color-gradient-control__panel",focusable:!1,children:k.color}),o.jsx(Cx.TabPanel,{tabId:wx,className:"block-editor-color-gradient-control__panel",focusable:!1,children:k.gradient})]})}),!b&&v(Sx),!f&&v(wx)]})})})}function Bx(e){const[t,n,r,l]=Ad("color.palette","color.gradients","color.custom","color.customGradient");return o.jsx(Ix,{colors:t,gradients:n,disableCustomColors:!r,disableCustomGradients:!l,...e})}function Nx(e){return jx.every(t=>e.hasOwnProperty(t))?o.jsx(Ix,{...e}):o.jsx(Bx,{...e})}function Ex({backgroundColor:e,fallbackBackgroundColor:t,fallbackTextColor:n,fallbackLinkColor:r,fontSize:l,isLargeText:i,textColor:s,linkColor:a,enableAlphaChecker:c=!1}){const u=e||t;if(!u)return null;const d=s||n,p=a||r;if(!d&&!p)return null;const g=[{color:d,description:ao("text color")},{color:p,description:ao("link color")}],m=Xc(u),h=m.alpha()<1,f=m.brightness(),b={level:"AA",size:i||!1!==i&&l>=24?"large":"small"};let k="",v="";for(const o of g){if(!o.color)continue;const e=Xc(o.color),t=e.isReadable(m,b),n=e.alpha()<1;if(!t){if(h||n)continue;k=f<e.brightness()?po(ao("This color combination may be hard for people to read. Try using a darker background color and/or a brighter %s."),o.description):po(ao("This color combination may be hard for people to read. Try using a brighter background color and/or a darker %s."),o.description),v=ao("This color combination may be hard for people to read.");break}n&&c&&(k=ao("Transparent text may be hard for people to read."),v=ao("Transparent text may be hard for people to read."))}return k?(bt(v),o.jsx("div",{className:"block-editor-contrast-checker",children:o.jsx(Zs,{spokenMessage:null,status:"warning",isDismissible:!1,children:k})})):null}Qc([eu,ou]);const Dx=new Date;function Px({format:e,onChange:t}){var r;const l=[...[...new Set(["Y-m-d",uo("n/j/Y","short date format"),uo("n/j/Y g:i A","short date format with time"),uo("M j, Y","medium date format"),uo("M j, Y g:i A","medium date format with time"),uo("F j, Y","long date format"),uo("M j","short date format without the year")])].map((e,t)=>({key:`suggested-${t}`,name:ln(e,Dx),format:e})),{key:"human-diff",name:sn(Dx),format:"human-diff"}],i={key:"custom",name:ao("Custom"),className:"block-editor-date-format-picker__custom-format-select-control__custom-option",hint:ao("Enter your own date format")},[s,a]=n.useState(()=>!!e&&!l.some(t=>t.format===e));return o.jsxs(qi,{children:[o.jsx(Ys,{__next40pxDefaultSize:!0,label:ao("Choose a format"),options:[...l,i],value:s?i:null!==(r=l.find(t=>t.format===e))&&void 0!==r?r:i,onChange:({selectedItem:e})=>{e===i?a(!0):(a(!1),t(e.format))}}),s&&o.jsx(zs,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:ao("Custom format"),hideLabelFromVision:!0,help:ku(ao("Enter a date or time <Link>format string</Link>."),{Link:o.jsx(ws,{href:ao("https://wordpress.org/documentation/article/customize-date-and-time-format/")})}),value:e,onChange:e=>t(e)})]})}function Tx({id:e,colorPalette:t,duotonePalette:n,disableCustomColors:r,disableCustomDuotone:l,value:i,onChange:s}){let a;a="unset"===i?o.jsx(Js,{className:"block-editor-duotone-control__unset-indicator"}):i?o.jsx(Qs,{values:i}):o.jsx(we,{icon:an});const c=ao("Apply duotone filter"),u=`${mi(Tx,"duotone-control",e)}__description`;return o.jsx(rs,{popoverProps:{className:"block-editor-duotone-control__popover",headerTitle:ao("Duotone")},renderToggle:({isOpen:e,onToggle:t})=>o.jsx(ns,{showTooltip:!0,onClick:t,"aria-haspopup":"true","aria-expanded":e,onKeyDown:n=>{e||n.keyCode!==sg||(n.preventDefault(),t())},label:c,icon:a}),renderContent:()=>o.jsxs(Pi,{label:ao("Duotone"),children:[o.jsx("p",{children:ao("Create a two-tone color effect without losing your original image.")}),o.jsx(Xs,{"aria-label":c,"aria-describedby":u,colorPalette:t,duotonePalette:n,disableCustomColors:r,disableCustomDuotone:l,value:i,onChange:s})]})})}Dx.setDate(20),Dx.setMonth(Dx.getMonth()-3),4===Dx.getMonth()&&Dx.setMonth(3);function Mx(e){const{__next40pxDefaultSize:t=!1,onChange:r,hasFontStyles:l=!0,hasFontWeights:i=!0,fontFamilyFaces:s,value:{fontStyle:a,fontWeight:c},...u}=e,d=l||i,p=((e,t)=>ao(e?t?"Appearance":"Font style":"Font weight"))(l,i),g={key:"default",name:ao("Default"),style:{fontStyle:void 0,fontWeight:void 0}},{fontStyles:m,fontWeights:h,combinedStyleAndWeightOptions:f}=Dr(s),b=n.useMemo(()=>l&&i?(()=>{const e=[g];return f&&e.push(...f),e})():l?(()=>{const e=[g];return m.forEach(({name:t,value:n})=>{e.push({key:n,name:t,style:{fontStyle:n,fontWeight:void 0}})}),e})():(()=>{const e=[g];return h.forEach(({name:t,value:n})=>{e.push({key:n,name:t,style:{fontStyle:void 0,fontWeight:n}})}),e})(),[e.options,m,h,f]),k=b.find(e=>e.style.fontStyle===a&&e.style.fontWeight===c)||b[0];return d&&o.jsx(Ys,{...u,className:"components-font-appearance-control",__next40pxDefaultSize:t,label:p,describedBy:k?po(ao(l?i?"Currently selected font appearance: %s":"Currently selected font style: %s":"Currently selected font weight: %s"),k.name):ao("No selected font appearance"),options:b,value:k,onChange:({selectedItem:e})=>r(e.style)})}function Lx({__next40pxDefaultSize:e=!1,__nextHasNoMarginBottom:t=!1,value:n="",onChange:r,fontFamilies:l,...i}){const[s]=Ad("typography.fontFamilies");if(l||(l=s),!l||0===l.length)return null;const a=[{value:"",label:ao("Default")},...l.map(({fontFamily:e,name:t})=>({value:e,label:t||e}))];return t||be("Bottom margin styles for wp.blockEditor.FontFamilyControl",{since:"6.7",version:"7.0",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version"}),o.jsx(ea,{__next40pxDefaultSize:e,__nextHasNoMarginBottom:t,label:ao("Font"),options:a,value:n,onChange:r,labelPosition:"top",...i})}function Rx({__next40pxDefaultSize:e=!1,value:t,onChange:n,__unstableInputWidth:r="60px",...l}){const[i]=Ad("spacing.units"),s=Ki({availableUnits:i||["px","em","rem"],defaultValues:{px:2,em:.2,rem:.2}});return o.jsx(Zi,{__next40pxDefaultSize:e,...l,label:ao("Letter spacing"),value:t,__unstableInputWidth:r,units:s,onChange:n})}const Ax=[{label:ao("None"),value:"none",icon:cn},{label:ao("Underline"),value:"underline",icon:un},{label:ao("Strikethrough"),value:"line-through",icon:dn}];function Ox({value:e,onChange:t,className:n}){return o.jsx(Ui,{isDeselectable:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:ao("Decoration"),className:ei("block-editor-text-decoration-control",n),value:e,onChange:n=>{t(n===e?void 0:n)},children:Ax.map(e=>o.jsx(Gi,{value:e.value,icon:e.icon,label:e.label},e.value))})}const zx=[{label:ao("None"),value:"none",icon:cn},{label:ao("Uppercase"),value:"uppercase",icon:pn},{label:ao("Lowercase"),value:"lowercase",icon:gn},{label:ao("Capitalize"),value:"capitalize",icon:mn}];function Fx({className:e,value:t,onChange:n}){return o.jsx(Ui,{isDeselectable:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:ao("Letter case"),className:ei("block-editor-text-transform-control",e),value:t,onChange:e=>{n(e===t?void 0:e)},children:zx.map(e=>o.jsx(Gi,{value:e.value,icon:e.icon,label:e.label},e.value))})}const Vx=[{label:ao("Horizontal"),value:"horizontal-tb",icon:hn},{label:ao("Vertical"),value:co()?"vertical-lr":"vertical-rl",icon:fn}];function $x({className:e,value:t,onChange:n}){return o.jsx(Ui,{isDeselectable:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:ao("Orientation"),className:ei("block-editor-writing-mode-control",e),value:t,onChange:e=>{n(e===t?void 0:e)},children:Vx.map(e=>o.jsx(Gi,{value:e.value,icon:e.icon,label:e.label},e.value))})}const Hx=({setting:e,children:t,panelId:n,...r})=>o.jsx(na,{hasValue:()=>!!e.colorValue||!!e.gradientValue,label:e.label,onDeselect:()=>{e.colorValue?e.onColorChange():e.gradientValue&&e.onGradientChange()},isShownByDefault:void 0===e.isShownByDefault||e.isShownByDefault,...r,className:"block-editor-tools-panel-color-gradient-settings__item",panelId:n,resetAllFilter:e.resetAllFilter,children:t}),Ux=({colorValue:e,label:t})=>o.jsxs(hs,{justify:"flex-start",children:[o.jsx(Js,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:e}),o.jsx(Hi,{className:"block-editor-panel-color-gradient-settings__color-name",title:t,children:t})]}),Gx=e=>({onToggle:t,isOpen:n})=>{const{colorValue:r,label:l}=e,i={onClick:t,className:ei("block-editor-panel-color-gradient-settings__dropdown",{"is-open":n}),"aria-expanded":n};return o.jsx(Mi,{__next40pxDefaultSize:!0,...i,children:o.jsx(Ux,{colorValue:r,label:l})})};function Wx({colors:e,disableCustomColors:t,disableCustomGradients:n,enableAlpha:r,gradients:l,settings:i,__experimentalIsRenderedInSidebar:s,...a}){let c;return s&&(c={placement:"left-start",offset:36,shift:!0}),o.jsx(o.Fragment,{children:i.map((i,u)=>{var d;const p={clearable:!1,colorValue:i.colorValue,colors:e,disableCustomColors:t,disableCustomGradients:n,enableAlpha:r,gradientValue:i.gradientValue,gradients:l,label:i.label,onColorChange:i.onColorChange,onGradientChange:i.onGradientChange,showTitle:!1,__experimentalIsRenderedInSidebar:s,...i},g={colorValue:null!==(d=i.gradientValue)&&void 0!==d?d:i.colorValue,label:i.label};return i&&o.jsx(Hx,{setting:i,...a,children:o.jsx(rs,{popoverProps:c,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:Gx(g),renderContent:()=>o.jsx(ta,{paddingSize:"none",children:o.jsx("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:o.jsx(Nx,{...p})})})})},u)})})}function Kx(){const[e,t,o,r,l,i,s,a,c,u]=Ad("color.custom","color.palette.custom","color.palette.theme","color.palette.default","color.defaultPalette","color.customGradient","color.gradients.custom","color.gradients.theme","color.gradients.default","color.defaultGradients"),d={disableCustomColors:!e,disableCustomGradients:!i};return d.colors=n.useMemo(()=>{const e=[];return o&&o.length&&e.push({name:uo("Theme","Indicates this palette comes from the theme."),colors:o}),l&&r&&r.length&&e.push({name:uo("Default","Indicates this palette comes from WordPress."),colors:r}),t&&t.length&&e.push({name:uo("Custom","Indicates this palette comes from the theme."),colors:t}),e},[t,o,r,l]),d.gradients=n.useMemo(()=>{const e=[];return a&&a.length&&e.push({name:uo("Theme","Indicates this palette comes from the theme."),gradients:a}),u&&c&&c.length&&e.push({name:uo("Default","Indicates this palette comes from WordPress."),gradients:c}),s&&s.length&&e.push({name:uo("Custom","Indicates this palette is created by the user."),gradients:s}),e},[s,a,c,u]),d.hasColorsOrGradients=!!d.colors.length||!!d.gradients.length,d}const qx=["colors","disableCustomColors","gradients","disableCustomGradients"],Zx=({className:e,colors:t,gradients:n,disableCustomColors:r,disableCustomGradients:l,children:i,settings:s,title:a,showTitle:c=!0,__experimentalIsRenderedInSidebar:u,enableAlpha:d})=>{const p=mi(Zx),{batch:g}=Yu();return t&&0!==t.length||n&&0!==n.length||!r||!l||!s?.every(e=>(!e.colors||0===e.colors.length)&&(!e.gradients||0===e.gradients.length)&&(void 0===e.disableCustomColors||e.disableCustomColors)&&(void 0===e.disableCustomGradients||e.disableCustomGradients))?o.jsxs(Ts,{className:ei("block-editor-panel-color-gradient-settings",e),label:c?a:void 0,resetAll:()=>{g(()=>{s.forEach(({colorValue:e,gradientValue:t,onColorChange:n,onGradientChange:o})=>{e?n():t&&o()})})},panelId:p,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",children:[o.jsx(Wx,{settings:s,panelId:p,colors:t,gradients:n,disableCustomColors:r,disableCustomGradients:l,__experimentalIsRenderedInSidebar:u,enableAlpha:d}),!!i&&o.jsxs(o.Fragment,{children:[o.jsx(js,{marginY:4})," ",i]})]}):null},Yx=e=>{const t=Kx();return o.jsx(Zx,{...t,...e})},Xx=e=>qx.every(t=>e.hasOwnProperty(t))?o.jsx(Zx,{...e}):o.jsx(Yx,{...e}),Jx={px:{max:1e3,step:1},"%":{max:100,step:1},vw:{max:100,step:1},vh:{max:100,step:1},em:{max:50,step:.1},rem:{max:50,step:.1},svw:{max:100,step:1},lvw:{max:100,step:1},dvw:{max:100,step:1},svh:{max:100,step:1},lvh:{max:100,step:1},dvh:{max:100,step:1},vi:{max:100,step:1},svi:{max:100,step:1},lvi:{max:100,step:1},dvi:{max:100,step:1},vb:{max:100,step:1},svb:{max:100,step:1},lvb:{max:100,step:1},dvb:{max:100,step:1},vmin:{max:100,step:1},svmin:{max:100,step:1},lvmin:{max:100,step:1},dvmin:{max:100,step:1},vmax:{max:100,step:1},svmax:{max:100,step:1},lvmax:{max:100,step:1},dvmax:{max:100,step:1}};function Qx({label:e=ao("Height"),onChange:t,value:r}){var l,i;const s=parseFloat(r),[a]=Ad("spacing.units"),c=Ki({availableUnits:a||["%","px","em","rem","vh","vw"]}),u=n.useMemo(()=>ts(r),[r])[1]||c[0]?.value||"px";return o.jsxs("fieldset",{className:"block-editor-height-control",children:[o.jsx(Ji.VisualLabel,{as:"legend",children:e}),o.jsxs($i,{children:[o.jsx(Hi,{isBlock:!0,children:o.jsx(Zi,{value:r,units:c,onChange:t,onUnitChange:e=>{const[n,o]=ts(r);["em","rem"].includes(e)&&"px"===o?t((n/16).toFixed(2)+e):["em","rem"].includes(o)&&"px"===e?t(Math.round(16*n)+e):["%","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax"].includes(e)&&n>100&&t(100+e)},min:0,size:"__unstable-large",label:e,hideLabelFromVision:!0})}),o.jsx(Hi,{isBlock:!0,children:o.jsx(js,{marginX:2,marginBottom:0,children:o.jsx(es,{__next40pxDefaultSize:!0,value:s,min:0,max:null!==(l=Jx[u]?.max)&&void 0!==l?l:100,step:null!==(i=Jx[u]?.step)&&void 0!==i?i:.1,withInputField:!1,onChange:e=>{t([e,u].join(""))},__nextHasNoMarginBottom:!0,label:e,hideLabelFromVision:!0})})})]})]})}const ey={placement:"bottom-start"};const ty=n.createContext({}),ny=()=>n.useContext(ty);function oy({id:e,url:t,naturalWidth:r,naturalHeight:l,onFinishEditing:i,onSaveImage:s,children:a}){const c=function({url:e,naturalWidth:t,naturalHeight:o}){const[r,l]=n.useState(),[i,s]=n.useState(),[a,c]=n.useState({x:0,y:0}),[u,d]=n.useState(100),[p,g]=n.useState(0),m=t/o,[h,f]=n.useState(m),b=n.useCallback(()=>{const t=(p+90)%360;let n=m;if(p%180==90&&(n=1/m),0===t)return l(),g(t),f(m),void c(e=>({x:-e.y*n,y:e.x*n}));const o=new window.Image;o.src=e,o.onload=function(e){const o=document.createElement("canvas");let r=0,i=0;t%180?(o.width=e.target.height,o.height=e.target.width):(o.width=e.target.width,o.height=e.target.height),90!==t&&180!==t||(r=o.width),270!==t&&180!==t||(i=o.height);const s=o.getContext("2d");s.translate(r,i),s.rotate(t*Math.PI/180),s.drawImage(e.target,0,0),o.toBlob(e=>{l(URL.createObjectURL(e)),g(t),f(o.width/o.height),c(e=>({x:-e.y*n,y:e.x*n}))})};const r=ii("media.crossOrigin",void 0,e);"string"==typeof r&&(o.crossOrigin=r)},[p,m,e]);return n.useMemo(()=>({editedUrl:r,setEditedUrl:l,crop:i,setCrop:s,position:a,setPosition:c,zoom:u,setZoom:d,rotation:p,setRotation:g,rotateClockwise:b,aspect:h,setAspect:f,defaultAspect:m}),[r,i,a,u,p,b,h,m])}({url:t,naturalWidth:r,naturalHeight:l}),u=function({crop:e,rotation:t,url:o,id:r,onSaveImage:l,onFinishEditing:i}){const{createErrorNotice:s}=ld(yt),[a,c]=n.useState(!1),u=n.useCallback(()=>{c(!1),i()},[i]),d=n.useCallback(()=>{c(!0);const n=[];if(t>0&&n.push({type:"rotate",args:{angle:t}}),(e.width<99.9||e.height<99.9)&&n.push({type:"crop",args:{left:e.x,top:e.y,width:e.width,height:e.height}}),0===n.length)return c(!1),void i();Ca({path:`/wp/v2/media/${r}/edit`,method:"POST",data:{src:o,modifiers:n}}).then(e=>{l({id:e.id,url:e.source_url})}).catch(e=>{s(po(ao("Could not edit image. %s"),bn(e.message)),{id:"image-editing-error",type:"snackbar"})}).finally(()=>{c(!1),i()})},[e,t,r,o,l,s,i]);return n.useMemo(()=>({isInProgress:a,apply:d,cancel:u}),[a,d,u])}({id:e,url:t,onSaveImage:s,onFinishEditing:i,...c}),d=n.useMemo(()=>({...c,...u}),[c,u]);return o.jsx(ty.Provider,{value:d,children:a})}function ry({aspectRatios:e,isDisabled:t,label:n,onClick:r,value:l}){return o.jsx(Pi,{label:n,children:e.map(({name:e,slug:n,ratio:i})=>o.jsx(Ti,{disabled:t,onClick:()=>{r(i)},role:"menuitemradio",isSelected:i===l,icon:i===l?Et:void 0,children:e},n))})}function ly(e){const[t,n,...o]=e.split("/").map(Number);return t<=0||n<=0||Number.isNaN(t)||Number.isNaN(n)||o.length?NaN:n?t/n:t}function iy({ratio:e,...t}){return{ratio:ly(e),...t}}function sy({toggleProps:e}){const{isInProgress:t,aspect:n,setAspect:r,defaultAspect:l}=ny(),[i,s,a]=Ad("dimensions.aspectRatios.default","dimensions.aspectRatios.theme","dimensions.defaultAspectRatios");return o.jsx(Di,{icon:kn,label:ao("Aspect Ratio"),popoverProps:ey,toggleProps:e,children:({onClose:e})=>o.jsxs(o.Fragment,{children:[o.jsx(ry,{isDisabled:t,onClick:t=>{r(t),e()},value:n,aspectRatios:[{slug:"original",name:ao("Original"),aspect:l},...a?i.map(iy).filter(({ratio:e})=>1===e):[]]}),s?.length>0&&o.jsx(ry,{label:ao("Theme"),isDisabled:t,onClick:t=>{r(t),e()},value:n,aspectRatios:s}),a&&o.jsx(ry,{label:ao("Landscape"),isDisabled:t,onClick:t=>{r(t),e()},value:n,aspectRatios:i.map(iy).filter(({ratio:e})=>e>1)}),a&&o.jsx(ry,{label:ao("Portrait"),isDisabled:t,onClick:t=>{r(t),e()},value:n,aspectRatios:i.map(iy).filter(({ratio:e})=>e<1)})]})})}function ay({url:e,width:t,height:n,naturalHeight:r,naturalWidth:l,borderProps:i}){const{isInProgress:s,editedUrl:a,position:c,zoom:u,aspect:d,setPosition:p,setCrop:g,setZoom:m,rotation:h}=ny(),[f,{width:k}]=gi();let v=n||k*r/l;h%180==90&&(v=k*l/r);const x=o.jsxs("div",{className:ei("wp-block-image__crop-area",i?.className,{"is-applying":s}),style:{...i?.style,width:t||k,height:v},children:[o.jsx(b,{image:a||e,disabled:s,minZoom:1,maxZoom:3,crop:c,zoom:u/100,aspect:d,onCropChange:e=>{p(e)},onCropComplete:e=>{g(e)},onZoomChange:e=>{m(100*e)}}),s&&o.jsx(Bs,{})]});return o.jsxs(o.Fragment,{children:[f,x]})}function cy(){const{isInProgress:e,zoom:t,setZoom:n}=ny();return o.jsx(rs,{contentClassName:"wp-block-image__zoom",popoverProps:ey,renderToggle:({isOpen:t,onToggle:n})=>o.jsx(ns,{icon:vn,label:ao("Zoom"),onClick:n,"aria-expanded":t,disabled:e}),renderContent:()=>o.jsx(ta,{paddingSize:"medium",children:o.jsx(es,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:ao("Zoom"),min:100,max:300,value:Math.round(t),onChange:n})})})}function uy(){const{isInProgress:e,rotateClockwise:t}=ny();return o.jsx(ns,{icon:xn,label:ao("Rotate"),onClick:t,disabled:e})}function dy(){const{isInProgress:e,apply:t,cancel:n}=ny();return o.jsxs(o.Fragment,{children:[o.jsx(ns,{onClick:t,disabled:e,children:ao("Apply")}),o.jsx(ns,{onClick:n,children:ao("Cancel")})]})}const py=[25,50,75,100],gy=()=>{};const my={left:Ee,center:De,right:Pe,"space-between":Te,stretch:Me};function hy({allowedControls:e=["left","center","right","space-between"],isCollapsed:t=!0,onChange:n,value:r,popoverProps:l,isToolbar:i}){const s=e=>{n(e===r?void 0:e)},a=r?my[r]:my.left,c=[{name:"left",icon:Ee,title:ao("Justify items left"),isActive:"left"===r,onClick:()=>s("left")},{name:"center",icon:De,title:ao("Justify items center"),isActive:"center"===r,onClick:()=>s("center")},{name:"right",icon:Pe,title:ao("Justify items right"),isActive:"right"===r,onClick:()=>s("right")},{name:"space-between",icon:Te,title:ao("Space between items"),isActive:"space-between"===r,onClick:()=>s("space-between")},{name:"stretch",icon:Me,title:ao("Stretch items"),isActive:"stretch"===r,onClick:()=>s("stretch")}],u=i?Ai:Oi,d=i?{isCollapsed:t}:{};return o.jsx(u,{icon:a,popoverProps:l,label:ao("Change items justification"),controls:c.filter(t=>e.includes(t.name)),...d})}const fy=e=>o.jsx(hy,{...e,isToolbar:!1});function by({children:e,settingsOpen:t,setSettingsOpen:r}){const l=ui(),i=l?n.Fragment:Ds,s=l?"div":Is.div,a=`link-control-settings-drawer-${mi(by)}`;return o.jsxs(o.Fragment,{children:[o.jsx(Mi,{__next40pxDefaultSize:!0,className:"block-editor-link-control__drawer-toggle","aria-expanded":t,onClick:()=>r(!t),icon:co()?Gt:Ge,"aria-controls":a,children:uo("Advanced","Additional link settings")}),o.jsx(i,{children:t&&o.jsx(s,{className:"block-editor-link-control__drawer",hidden:!t,id:a,initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.1},children:o.jsx("div",{className:"block-editor-link-control__drawer-inner",children:e})})})]})}const ky=({searchTerm:e,onClick:t,itemProps:n,buttonText:r})=>{if(!e)return null;let l;return l=r?"function"==typeof r?r(e):r:ku(po(ao("Create: <mark>%s</mark>"),e),{mark:o.jsx("mark",{})}),o.jsx(Ti,{...n,iconPosition:"left",icon:wt,className:"block-editor-link-control__search-item",onClick:t,children:l})},vy={post:In,page:Ie,post_tag:wn,category:Sn,attachment:jn};function xy({isURL:e,suggestion:t}){let n=null;return e?n=Bn:t.type in vy&&(n=vy[t.type],"page"===t.type&&(t.isFrontPage&&(n=Nn),t.isBlogHome&&(n=En))),n?o.jsx(we,{className:"block-editor-link-control__search-item-icon",icon:n}):null}function yy(e){const t=e?.trim();return t?.length?e?.replace(/^\/?/,"/"):e}function _y(e){const t=e?.trim();return t?.length?e?.replace(/\/$/,""):e}const Cy=({itemProps:e,suggestion:t,searchTerm:n,onClick:r,isURL:l=!1,shouldShowType:i=!1})=>{const s=l?ao("Press ENTER to add this link"):(a=t.url)?ji(yn,_n,(e=>t=>null==t||t!=t?e:t)(""),((e,...t)=>(...n)=>e(...n,...t))(Cn,24),_y,yy)(a):a;var a;return o.jsx(Ti,{...e,info:s,iconPosition:"left",icon:o.jsx(xy,{suggestion:t,isURL:l}),onClick:r,shortcut:i&&jy(t),className:"block-editor-link-control__search-item",children:o.jsx(ra,{text:bn(t.title),highlight:n})})};function jy(e){return e.isFrontPage?"front page":e.isBlogHome?"blog home":"post_tag"===e.type?"tag":e.type}const Sy="__CREATE__",wy="link",Iy="mailto",By="internal",Ny=[wy,Iy,"tel",By],Ey=[{id:"opensInNewTab",title:ao("Open in new tab")}];function Dy({instanceId:e,withCreateSuggestion:t,currentInputValue:n,handleSuggestionClick:r,suggestionsListProps:l,buildSuggestionItemProps:i,suggestions:s,selectedSuggestion:a,isLoading:c,isInitialSuggestions:u,createSuggestionButtonText:d,suggestionsQuery:p}){const g=ei("block-editor-link-control__search-results",{"is-loading":c}),m=1===s.length&&Ny.includes(s[0].type),h=t&&!m&&!u,f=!p?.type,b=`block-editor-link-control-search-results-label-${e}`,k=u?ao("Suggestions"):po(ao('Search results for "%s"'),n),v=o.jsx(fs,{id:b,children:k});return o.jsxs("div",{className:"block-editor-link-control__search-results-wrapper",children:[v,o.jsx("div",{...l,className:g,"aria-labelledby":b,children:o.jsx(Pi,{children:s.map((e,t)=>h&&Sy===e.type?o.jsx(ky,{searchTerm:n,buttonText:d,onClick:()=>r(e),itemProps:i(e,t),isSelected:t===a},e.type):Sy===e.type?null:o.jsx(Cy,{itemProps:i(e,t),suggestion:e,index:t,onClick:()=>{r(e)},isSelected:t===a,isURL:Ny.includes(e.type),searchTerm:n,shouldShowType:f,isFrontPage:e?.isFrontPage,isBlogHome:e?.isBlogHome},`${e.id}-${e.type}`))})})]})}const Py=()=>Promise.resolve([]),Ty=e=>{let t=wy;const n=Je(e)||"";return n.includes("mailto")&&(t=Iy),n.includes("tel")&&(t="tel"),e?.startsWith("#")&&(t=By),Promise.resolve([{id:e,title:e,url:"URL"===t?Dn(e):e,type:t}])};function My(e,t,o){const{fetchSearchSuggestions:r,pageOnFront:l,pageForPosts:i}=od(e=>{const{getSettings:t}=e(y);return{pageOnFront:t().pageOnFront,pageForPosts:t().pageForPosts,fetchSearchSuggestions:t().__experimentalFetchLinkSuggestions}},[]),s=t?Ty:Py;return n.useCallback((t,{isInitialSuggestions:n})=>Yg(t)?s(t):(async(e,t,n,o,r,l)=>{const{isInitialSuggestions:i}=t,s=await n(e,t);return s.map(e=>Number(e.id)===r?(e.isFrontPage=!0,e):Number(e.id)===l?(e.isBlogHome=!0,e):e),i||Yg(e)||!o?s:s.concat({title:e,url:e,type:Sy})})(t,{...e,isInitialSuggestions:n},r,o,l,i),[s,r,l,i,e,o])}const Ly=()=>Promise.resolve([]),Ry=()=>{},Ay=n.forwardRef(({value:e,children:t,currentLink:r={},className:l=null,placeholder:i=null,withCreateSuggestion:s=!1,onCreateSuggestion:a=Ry,onChange:c=Ry,onSelect:u=Ry,showSuggestions:d=!0,renderSuggestions:p=e=>o.jsx(Dy,{...e}),fetchSuggestions:g=null,allowDirectEntry:m=!0,showInitialSuggestions:h=!1,suggestionsQuery:f={},withURLSuggestion:b=!0,createSuggestionButtonText:k,hideLabelFromVision:v=!1,suffix:x},y)=>{const _=My(f,m,s),C=d?g||_:Ly,j=mi(Ay),[S,w]=n.useState(),I=async e=>{let t=e;if(Sy!==e.type){if(m||t&&Object.keys(t).length>=1){const{id:e,url:n,...o}=null!=r?r:{};u({...o,...t},t)}}else try{t=await a(e.title),t?.url&&u(t)}catch(Nc){}};return o.jsxs("div",{className:"block-editor-link-control__search-input-container",children:[o.jsx(i_,{disableSuggestions:r?.url===e,label:ao("Link"),hideLabelFromVision:v,className:l,value:e,onChange:(e,t)=>{c(e),w(t)},placeholder:null!=i?i:ao("Search or type URL"),__experimentalRenderSuggestions:d?e=>p({...e,instanceId:j,withCreateSuggestion:s,createSuggestionButtonText:k,suggestionsQuery:f,handleSuggestionClick:t=>{e.handleSuggestionClick&&e.handleSuggestionClick(t),I(t)}}):null,__experimentalFetchLinkSuggestions:C,__experimentalHandleURLSuggestions:!0,__experimentalShowInitialSuggestions:h,onSubmit:(t,n)=>{const o=t||S;o||e?.trim()?.length?I(o||{url:e}):n.preventDefault()},ref:y,suffix:x}),t]})}),{Slot:Oy,Fill:zy}=Ns("BlockEditorLinkControlViewer");function Fy(e,t){switch(t.type){case"RESOLVED":return{...e,isFetching:!1,richData:t.richData};case"ERROR":return{...e,isFetching:!1,richData:null};case"LOADING":return{...e,isFetching:!0};default:throw new Error(`Unexpected action type ${t.type}`)}}function Vy({value:e,onEditClick:t,hasRichPreviews:r=!1,hasUnlinkControl:l=!1,onRemove:i}){const s=od(e=>e(Pn).get("core","showIconLabels"),[]),a=r?e?.url:null,{richData:c,isFetching:u}=function(e){const[t,o]=n.useReducer(Fy,{richData:null,isFetching:!1}),{fetchRichUrlData:r}=od(e=>{const{getSettings:t}=e(y);return{fetchRichUrlData:t().__experimentalFetchRichUrlData}},[]);return n.useEffect(()=>{if(e?.length&&r&&"undefined"!=typeof AbortController){o({type:"LOADING"});const t=new window.AbortController,n=t.signal;return r(e,{signal:n}).then(e=>{o({type:"RESOLVED",richData:e})}).catch(()=>{n.aborted||o({type:"ERROR"})}),()=>{t.abort()}}},[e]),t}(a),d=c&&Object.keys(c).length,p=e&&Cn(yn(e.url),24)||"",g=!e?.url?.length,m=!g&&bn(c?.title||e?.title||p),h=!e?.url||m.replace(/^[a-z\-.\+]+[0-9]*:(\/\/)?/i,"").replace(/^www\./i,"")===p;let f;f=c?.icon?o.jsx("img",{src:c?.icon,alt:""}):g?o.jsx(we,{icon:Mn,size:32}):o.jsx(we,{icon:Bn});const{createNotice:b}=ld(yt),k=Si(e.url,()=>{b("info",ao("Link copied to clipboard."),{isDismissible:!0,type:"snackbar"})});return o.jsx("div",{"aria-label":ao("Currently selected"),className:ei("block-editor-link-control__search-item",{"is-current":!0,"is-rich":d,"is-fetching":!!u,"is-preview":!0,"is-error":g,"is-url-title":m===p}),children:o.jsxs("div",{className:"block-editor-link-control__search-item-top",children:[o.jsxs("span",{className:"block-editor-link-control__search-item-header",children:[o.jsx("span",{className:ei("block-editor-link-control__search-item-icon",{"is-image":c?.icon}),children:f}),o.jsx("span",{className:"block-editor-link-control__search-item-details",children:g?o.jsx("span",{className:"block-editor-link-control__search-item-error-notice",children:ao("Link is empty")}):o.jsxs(o.Fragment,{children:[o.jsx(ws,{className:"block-editor-link-control__search-item-title",href:e.url,children:o.jsx(gs,{numberOfLines:1,children:m})}),!h&&o.jsx("span",{className:"block-editor-link-control__search-item-info",children:o.jsx(gs,{numberOfLines:1,children:p})})]})})]}),o.jsx(Mi,{icon:Vt,label:ao("Edit link"),onClick:t,size:"compact"}),l&&o.jsx(Mi,{icon:rn,label:ao("Remove link"),onClick:i,size:"compact"}),o.jsx(Mi,{icon:Tn,label:po(ao("Copy link%s"),g||s?"":": "+e.url),ref:k,accessibleWhenDisabled:!0,disabled:g,size:"compact"}),o.jsx(Oy,{fillProps:e})]})})}const $y=()=>{},Hy=({value:e,onChange:t=$y,settings:n})=>{if(!n||!n.length)return null;const r=n=>o=>{t({...e,[n.id]:o})},l=n.map(t=>o.jsx(Os,{__nextHasNoMarginBottom:!0,className:"block-editor-link-control__setting",label:t.title,onChange:r(t),checked:!!e&&!!e[t.id],help:t?.help},t.id));return o.jsxs("fieldset",{className:"block-editor-link-control__settings",children:[o.jsx(fs,{as:"legend",children:ao("Currently selected link settings")}),l]})};const Uy=e=>{let t=!1;return{promise:new Promise((n,o)=>{e.then(e=>t?o({isCanceled:!0}):n(e),e=>o(t?{isCanceled:!0}:e))}),cancel(){t=!0}}};var Gy,Wy;var Ky=(Wy||(Wy=1,Gy=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,l;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(l=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,l[r]))return!1;for(r=o;0!==r--;){var i=l[r];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}),Gy);const qy=t(Ky);const Zy=()=>{},Yy="core/block-editor",Xy="linkControlSettingsDrawer";function Jy({searchInputPlaceholder:e,value:t,settings:r=Ey,onChange:l=Zy,onRemove:i,onCancel:s,noDirectEntry:a=!1,showSuggestions:c=!0,showInitialSuggestions:u,forceIsEditingLink:d,createSuggestion:p,withCreateSuggestion:g,inputValue:m="",suggestionsQuery:h={},noURLSuggestion:f=!1,createSuggestionButtonText:b,hasRichPreviews:k=!1,hasTextControl:v=!1,renderControlBottom:x=null}){void 0===g&&p&&(g=!0);const[y,_]=n.useState(!1),{advancedSettingsPreference:C}=od(e=>{var t;return{advancedSettingsPreference:null!==(t=e(Pn).get(Yy,Xy))&&void 0!==t&&t}},[]),{set:j}=ld(Pn),S=C||y,w=n.useRef(!0),I=n.useRef(),B=n.useRef(),N=n.useRef(!1),E=r.map(({id:e})=>e),[D,P,T,M,L]=function(e){const[t,o]=n.useState(e||{}),[r,l]=n.useState(e);return qy(e,r)||(l(e),o(e)),[t,o,e=>{o({...t,url:e})},e=>{o({...t,title:e})},e=>n=>{const r=Object.keys(n).reduce((t,o)=>(e.includes(o)&&(t[o]=n[o]),t),{});o({...t,...r})}]}(t),R=t&&!Ln(D,t),[A,O]=n.useState(void 0!==d?d:!t||!t.url),{createPage:z,isCreatingPage:F,errorMessage:V}=function(e){const t=n.useRef(),[o,r]=n.useState(!1),[l,i]=n.useState(null);return n.useEffect(()=>()=>{t.current&&t.current.cancel()},[]),{createPage:async function(n){r(!0),i(null);try{return t.current=Uy(Promise.resolve(e(n))),await t.current.promise}catch(o){if(o&&o.isCanceled)return;throw i(o.message||ao("An unknown error occurred during creation. Please try again.")),o}finally{r(!1)}},isCreatingPage:o,errorMessage:l}}(p);n.useEffect(()=>{void 0!==d&&O(d)},[d]),n.useEffect(()=>{if(w.current)return;(qe.focusable.find(I.current)[0]||I.current).focus(),N.current=!1},[A,F]),n.useEffect(()=>(w.current=!1,()=>{w.current=!0}),[]);const $=t?.url?.trim()?.length>0,H=()=>{N.current=!!I.current?.contains(I.current.ownerDocument.activeElement),O(!1)},U=()=>{R&&l({...t,...D,url:G}),H()},G=m||D?.url||"",W=!G?.trim()?.length,K=i&&t&&!A&&!F,q=A&&$,Z=$&&v,Y=(A||!t)&&!F,X=!R||W,J=!!r?.length&&A&&$;return o.jsxs("div",{tabIndex:-1,ref:I,className:"block-editor-link-control",children:[F&&o.jsxs("div",{className:"block-editor-link-control__loading",children:[o.jsx(Bs,{})," ",ao("Creating"),"…"]}),Y&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:ei({"block-editor-link-control__search-input-wrapper":!0,"has-text-control":Z,"has-actions":q}),children:[Z&&o.jsx(zs,{__nextHasNoMarginBottom:!0,ref:B,className:"block-editor-link-control__field block-editor-link-control__text-content",label:ao("Text"),value:D?.title,onChange:M,onKeyDown:e=>{const{keyCode:t}=e;t!==lg||W||(e.preventDefault(),U())},__next40pxDefaultSize:!0}),o.jsx(Ay,{currentLink:t,className:"block-editor-link-control__field block-editor-link-control__search-input",placeholder:e,value:G,withCreateSuggestion:g,onCreateSuggestion:z,onChange:T,onSelect:e=>{const t=Object.keys(e).reduce((t,n)=>(E.includes(n)||(t[n]=e[n]),t),{});l({...D,...t,title:D?.title||e?.title}),H()},showInitialSuggestions:u,allowDirectEntry:!a,showSuggestions:c,suggestionsQuery:h,withURLSuggestion:!f,createSuggestionButtonText:b,hideLabelFromVision:!Z,suffix:q?void 0:o.jsx(la,{variant:"control",children:o.jsx(Mi,{onClick:X?Zy:U,label:ao("Submit"),icon:Rn,className:"block-editor-link-control__search-submit","aria-disabled":X,size:"small"})})})]}),V&&o.jsx(Zs,{className:"block-editor-link-control__search-error",status:"error",isDismissible:!1,children:V})]}),t&&!A&&!F&&o.jsx(Vy,{value:t,onEditClick:()=>O(!0),hasRichPreviews:k,hasUnlinkControl:K,onRemove:()=>{i(),O(!0)}},t?.url),J&&o.jsx("div",{className:"block-editor-link-control__tools",children:!W&&o.jsx(by,{settingsOpen:S,setSettingsOpen:e=>{j&&j(Yy,Xy,e),_(e)},children:o.jsx(Hy,{value:D,settings:r,onChange:L(E)})})}),q&&o.jsxs(hs,{justify:"right",className:"block-editor-link-control__search-actions",children:[o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:e=>{e.preventDefault(),e.stopPropagation(),P(t),$?H():i?.(),s?.()},children:ao("Cancel")}),o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"primary",onClick:X?Zy:U,className:"block-editor-link-control__search-submit","aria-disabled":X,children:ao("Save")})]}),!F&&x&&x()]})}Jy.ViewerFill=zy,Jy.DEFAULT_LINK_SETTINGS=Ey;const Qy=({__next40pxDefaultSize:e=!1,value:t,onChange:n,__unstableInputWidth:r="60px",...l})=>{const i=Rr(t),s=(e,t)=>{if(i)return e;const n=Mr*Tr;switch(`${e}`){case`${n}`:return Lr+n;case"0":return t?e:Lr-n;case"":return Lr;default:return e}},a=i?t:Pr;return o.jsx("div",{className:"block-editor-line-height-control",children:o.jsx(Qi,{...l,__next40pxDefaultSize:e,__unstableInputWidth:r,__unstableStateReducer:(e,t)=>{const n=["insertText","insertFromPaste"].includes(t.payload.event.nativeEvent?.inputType),o=s(e.value,n);return{...e,value:o}},onChange:(e,{event:t})=>{""!==e?"click"!==t.type?n(`${e}`):n(s(`${e}`,!1)):n()},label:ao("Line height"),placeholder:Lr,step:Mr,spinFactor:Tr,value:a,min:0,spinControls:"custom"})})},e_=()=>{};let t_=0;const n_=ri([id(e=>{const{createNotice:t,removeNotice:n}=e(yt);return{createNotice:t,removeNotice:n}}),Ei("editor.MediaReplaceFlow")])(({mediaURL:e,mediaId:t,mediaIds:r,allowedTypes:l,accept:i,onError:s,onSelect:a,onSelectURL:c,onReset:u,onToggleFeaturedImage:d,useFeaturedImage:p,onFilesUpload:g=e_,name:m=ao("Replace"),createNotice:h,removeNotice:f,children:b,multiple:k=!1,addToGallery:v,handleUpload:x=!0,popoverProps:_})=>{const C=od(e=>e(y).getSettings().mediaUpload,[]),j=!!C,S=n.useRef(),w="block-editor/media-replace-flow/error-notice/"+ ++t_,I=e=>{const t=bn(e);s?s(t):setTimeout(()=>{h("error",t,{speak:!0,id:w,isDismissible:!0})},1e3)},B=(e,t)=>{p&&d&&d(),t(),a(e),bt(ao("The media file has been replaced")),f(w)},N=e=>{e.keyCode===sg&&(e.preventDefault(),e.target.click())},E=k&&!(!l||0===l.length)&&l.every(e=>"image"===e||e.startsWith("image/"));return o.jsx(rs,{popoverProps:_,contentClassName:"block-editor-media-replace-flow__options",renderToggle:({isOpen:e,onToggle:t})=>o.jsx(ns,{ref:S,"aria-expanded":e,"aria-haspopup":"true",onClick:t,onKeyDown:N,children:m}),renderContent:({onClose:n})=>o.jsxs(o.Fragment,{children:[o.jsxs(Vs,{className:"block-editor-media-replace-flow__media-upload-menu",children:[o.jsxs(Th,{children:[o.jsx(Mh,{gallery:E,addToGallery:v,multiple:k,value:k?r:t,onSelect:e=>B(e,n),allowedTypes:l,render:({open:e})=>o.jsx(Ti,{icon:An,onClick:e,children:ao("Open Media Library")})}),o.jsx(ia,{onChange:e=>{((e,t)=>{const n=e.target.files;if(!x)return t(),a(n);g(n),C({allowedTypes:l,filesList:n,onFileChange:([e])=>{B(e,t)},onError:I})})(e,n)},accept:i,multiple:!!k,render:({openFileDialog:e})=>o.jsx(Ti,{icon:On,onClick:()=>{e()},children:ao("Upload")})})]}),d&&o.jsx(Ti,{icon:zn,onClick:d,isPressed:p,children:ao("Use featured image")}),e&&u&&o.jsx(Ti,{onClick:()=>{u(),n()},children:ao("Reset")}),"function"==typeof b?b({onClose:n}):b]}),c&&o.jsxs("form",{className:ei("block-editor-media-flow__url-input",{"has-siblings":j||d}),children:[o.jsx("span",{className:"block-editor-media-replace-flow__image-url-label",children:ao("Current media URL:")}),o.jsx(Jy,{value:{url:e},settings:[],showSuggestions:!1,onChange:({url:e})=>{c(e),S.current.focus()}})]})]})})});function o_({url:e,urlLabel:t,className:n}){const r=ei(n,"block-editor-url-popover__link-viewer-url");return e?o.jsx(ws,{className:r,href:e,children:t||Cn(yn(e))}):o.jsx("span",{className:r})}function r_(e){return"function"==typeof e}class l_ extends n.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.selectLink=this.selectLink.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.bindSuggestionNode=this.bindSuggestionNode.bind(this),this.autocompleteRef=e.autocompleteRef||n.createRef(),this.inputRef=n.createRef(),this.updateSuggestions=Ii(this.updateSuggestions.bind(this),200),this.suggestionNodes=[],this.suggestionsRequest=null,this.state={suggestions:[],showSuggestions:!1,suggestionsValue:null,selectedSuggestion:null,suggestionsListboxId:"",suggestionOptionIdPrefix:""}}componentDidUpdate(e){const{showSuggestions:t,selectedSuggestion:n}=this.state,{value:o,__experimentalShowInitialSuggestions:r=!1}=this.props;t&&null!==n&&this.suggestionNodes[n]&&this.suggestionNodes[n].scrollIntoView({behavior:"instant",block:"nearest",inline:"nearest"}),e.value===o||this.props.disableSuggestions||(o?.length?this.updateSuggestions(o):r&&this.updateSuggestions())}componentDidMount(){this.shouldShowInitialSuggestions()&&this.updateSuggestions()}componentWillUnmount(){this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null}bindSuggestionNode(e){return t=>{this.suggestionNodes[e]=t}}shouldShowInitialSuggestions(){const{__experimentalShowInitialSuggestions:e=!1,value:t}=this.props;return e&&!(t&&t.length)}updateSuggestions(e=""){const{__experimentalFetchLinkSuggestions:t,__experimentalHandleURLSuggestions:n}=this.props;if(!t)return;const o=!e?.length;if(e=e.trim(),!o&&(e.length<2||!n&&Fn(e)))return this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null,void this.setState({suggestions:[],showSuggestions:!1,suggestionsValue:e,selectedSuggestion:null,loading:!1});this.setState({selectedSuggestion:null,loading:!0});const r=t(e,{isInitialSuggestions:o});r.then(t=>{this.suggestionsRequest===r&&(this.setState({suggestions:t,suggestionsValue:e,loading:!1,showSuggestions:!!t.length}),t.length?this.props.debouncedSpeak(po(go("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",t.length),t.length),"assertive"):this.props.debouncedSpeak(ao("No results."),"assertive"))}).catch(()=>{this.suggestionsRequest===r&&this.setState({loading:!1})}).finally(()=>{this.suggestionsRequest===r&&(this.suggestionsRequest=null)}),this.suggestionsRequest=r}onChange(e){this.props.onChange(e)}onFocus(){const{suggestions:e}=this.state,{disableSuggestions:t,value:n}=this.props;!n||t||e&&e.length||null!==this.suggestionsRequest||this.updateSuggestions(n)}onKeyDown(e){this.props.onKeyDown?.(e);const{showSuggestions:t,selectedSuggestion:n,suggestions:o,loading:r}=this.state;if(!t||!o.length||r){switch(e.keyCode){case ig:0!==e.target.selectionStart&&(e.preventDefault(),e.target.setSelectionRange(0,0));break;case sg:this.props.value.length!==e.target.selectionStart&&(e.preventDefault(),e.target.setSelectionRange(this.props.value.length,this.props.value.length));break;case lg:this.props.onSubmit&&(e.preventDefault(),this.props.onSubmit(null,e))}return}const l=this.state.suggestions[this.state.selectedSuggestion];switch(e.keyCode){case ig:{e.preventDefault();const t=n?n-1:o.length-1;this.setState({selectedSuggestion:t});break}case sg:{e.preventDefault();const t=null===n||n===o.length-1?0:n+1;this.setState({selectedSuggestion:t});break}case 9:null!==this.state.selectedSuggestion&&(this.selectLink(l),this.props.speak(ao("Link selected.")));break;case lg:e.preventDefault(),null!==this.state.selectedSuggestion?(this.selectLink(l),this.props.onSubmit&&this.props.onSubmit(l,e)):this.props.onSubmit&&this.props.onSubmit(null,e)}}selectLink(e){this.props.onChange(e.url,e),this.setState({selectedSuggestion:null,showSuggestions:!1})}handleOnClick(e){this.selectLink(e),this.inputRef.current.focus()}static getDerivedStateFromProps({value:e,instanceId:t,disableSuggestions:n,__experimentalShowInitialSuggestions:o=!1},{showSuggestions:r}){let l=r;const i=e&&e.length;return o||i||(l=!1),!0===n&&(l=!1),{showSuggestions:l,suggestionsListboxId:`block-editor-url-input-suggestions-${t}`,suggestionOptionIdPrefix:`block-editor-url-input-suggestion-${t}`}}render(){return o.jsxs(o.Fragment,{children:[this.renderControl(),this.renderSuggestions()]})}renderControl(){const{label:e=null,className:t,isFullWidth:n,instanceId:r,placeholder:l=ao("Paste URL or type to search"),__experimentalRenderControl:i,value:s="",hideLabelFromVision:a=!1}=this.props,{loading:c,showSuggestions:u,selectedSuggestion:d,suggestionsListboxId:p,suggestionOptionIdPrefix:g}=this.state,m=`url-input-control-${r}`,h={id:m,label:e,className:ei("block-editor-url-input",t,{"is-full-width":n}),hideLabelFromVision:a},f={id:m,value:s,required:!0,type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder:l,onKeyDown:this.onKeyDown,role:"combobox","aria-label":e?void 0:ao("URL"),"aria-expanded":u,"aria-autocomplete":"list","aria-owns":p,"aria-activedescendant":null!==d?`${g}-${d}`:void 0,ref:this.inputRef,suffix:this.props.suffix};return i?i(h,f,c):o.jsxs(Ji,{__nextHasNoMarginBottom:!0,...h,children:[o.jsx(aa,{...f,__next40pxDefaultSize:!0}),c&&o.jsx(Bs,{})]})}renderSuggestions(){const{className:e,__experimentalRenderSuggestions:t}=this.props,{showSuggestions:r,suggestions:l,suggestionsValue:i,selectedSuggestion:s,suggestionsListboxId:a,suggestionOptionIdPrefix:c,loading:u}=this.state;if(!r||0===l.length)return null;const d={id:a,ref:this.autocompleteRef,role:"listbox"},p=(e,t)=>({role:"option",tabIndex:"-1",id:`${c}-${t}`,ref:this.bindSuggestionNode(t),"aria-selected":t===s||void 0});return r_(t)?t({suggestions:l,selectedSuggestion:s,suggestionsListProps:d,buildSuggestionItemProps:p,isLoading:u,handleSuggestionClick:this.handleOnClick,isInitialSuggestions:!i?.length,currentInputValue:i}):o.jsx(Es,{placement:"bottom",focusOnMount:!1,children:o.jsx("div",{...d,className:ei("block-editor-url-input__suggestions",`${e}__suggestions`),children:l.map((e,t)=>n.createElement(Mi,{__next40pxDefaultSize:!0,...p(0,t),key:e.id,className:ei("block-editor-url-input__suggestion",{"is-selected":t===s}),onClick:()=>this.handleOnClick(e)},e.title))})})}}const i_=ri(Bi,sa,Ni,rd((e,t)=>{if(r_(t.__experimentalFetchLinkSuggestions))return;const{getSettings:n}=e(y);return{__experimentalFetchLinkSuggestions:n().__experimentalFetchLinkSuggestions}}))(l_);const{__experimentalPopoverLegacyPositionToPlacement:s_}=Id(Li),a_=n.forwardRef(({additionalControls:e,children:t,renderSettings:r,placement:l,focusOnMount:i="firstElement",position:s,...a},c)=>{let u;void 0!==s&&be("`position` prop in wp.blockEditor.URLPopover",{since:"6.2",alternative:"`placement` prop"}),void 0!==l?u=l:void 0!==s&&(u=s_(s)),u=u||"bottom";const[d,p]=n.useState(!1),g=!!r&&d;return o.jsxs(Es,{ref:c,role:"dialog","aria-modal":"true","aria-label":ao("Edit URL"),className:"block-editor-url-popover",focusOnMount:i,placement:u,shift:!0,variant:"toolbar",...a,children:[o.jsx("div",{className:"block-editor-url-popover__input-container",children:o.jsxs("div",{className:"block-editor-url-popover__row",children:[t,!!r&&o.jsx(Mi,{className:"block-editor-url-popover__settings-toggle",icon:Nt,label:ao("Link settings"),onClick:()=>{p(!d)},"aria-expanded":d,size:"compact"})]})}),g&&o.jsx("div",{className:"block-editor-url-popover__settings",children:r()}),e&&!g&&o.jsx("div",{className:"block-editor-url-popover__additional-controls",children:e})]})});a_.LinkEditor=function({autocompleteRef:e,className:t,onChangeInputValue:n,value:r,...l}){return o.jsxs("form",{className:ei("block-editor-url-popover__link-editor",t),...l,children:[o.jsx(i_,{value:r,onChange:n,autocompleteRef:e}),o.jsx(Mi,{icon:Rn,label:ao("Apply"),type:"submit",size:"compact"})]})},a_.LinkViewer=function({className:e,linkClassName:t,onEditLinkClick:n,url:r,urlLabel:l,...i}){return o.jsxs("div",{className:ei("block-editor-url-popover__link-viewer",e),...i,children:[o.jsx(o_,{url:r,urlLabel:l,className:t}),n&&o.jsx(Mi,{icon:Vt,label:ao("Edit"),onClick:n,size:"compact"})]})};const c_=()=>{},u_=({src:e,onChange:t,onSubmit:n,onClose:r,popoverAnchor:l})=>o.jsx(a_,{anchor:l,onClose:r,children:o.jsx("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:n,children:o.jsx(aa,{__next40pxDefaultSize:!0,label:ao("URL"),hideLabelFromVision:!0,placeholder:ao("Paste or type URL"),onChange:t,value:e,suffix:o.jsx(la,{variant:"control",children:o.jsx(Mi,{size:"small",icon:Rn,label:ao("Apply"),type:"submit"})})})})}),d_=({src:e,onChangeSrc:t,onSelectURL:r})=>{const[l,i]=n.useState(null),[s,a]=n.useState(!1),c=()=>{a(!1),l?.focus()};return o.jsxs("div",{className:"block-editor-media-placeholder__url-input-container",children:[o.jsx(Mi,{__next40pxDefaultSize:!0,className:"block-editor-media-placeholder__button",onClick:()=>{a(!0)},isPressed:s,variant:"secondary","aria-haspopup":"dialog",ref:i,children:ao("Insert from URL")}),s&&o.jsx(u_,{src:e,onChange:t,onSubmit:t=>{t.preventDefault(),e&&r&&(r(e),c())},onClose:c,popoverAnchor:l})]})};const p_=Ei("editor.MediaPlaceholder")(function({value:e={},allowedTypes:t,className:r,icon:l,labels:i={},mediaPreview:s,notices:a,isAppender:c,accept:u,addToGallery:d,multiple:p=!1,handleUpload:g=!0,disableDropZone:m,disableMediaButtons:h,onError:f,onSelect:b,onCancel:k,onSelectURL:v,onToggleFeaturedImage:x,onDoubleClick:_,onFilesPreUpload:C=c_,onHTMLDrop:j,children:S,mediaLibraryButton:w,placeholder:I,style:B}){j&&be("wp.blockEditor.MediaPlaceholder onHTMLDrop prop",{since:"6.2",version:"6.4"});const N=od(e=>{const{getSettings:t}=e(y);return t().mediaUpload},[]),[E,D]=n.useState("");n.useEffect(()=>{var t;D(null!==(t=e?.src)&&void 0!==t?t:"")},[e?.src]);const P=n=>{if(!g||"function"==typeof g&&!g(n))return b(n);let o;if(C(n),p)if(d){let t=[];o=n=>{const o=(null!=e?e:[]).filter(e=>e.id?!t.some(({id:t})=>Number(t)===Number(e.id)):!t.some(({urlSlug:t})=>e.url.includes(t)));b(o.concat(n)),t=n.map(e=>{const t=e.url.lastIndexOf("."),n=e.url.slice(0,t);return{id:e.id,urlSlug:n}})}}else o=b;else o=([e])=>b(e);N({allowedTypes:t,filesList:n,onFileChange:o,onError:f})};async function T(e){const n=ne({HTML:e});return await async function(e){if(!e||!Array.isArray(e))return;const n=function e(t){return t.flatMap(t=>"core/image"!==t.name&&"core/audio"!==t.name&&"core/video"!==t.name||!t.attributes.url?e(t.innerBlocks):[t])}(e);if(!n.length)return;const o=await Promise.all(n.map(e=>e.attributes.id?e.attributes:new Promise((n,o)=>{window.fetch(e.attributes.url).then(e=>e.blob()).then(r=>N({filesList:[r],additionalData:{title:e.attributes.title,alt_text:e.attributes.alt,caption:e.attributes.caption},onFileChange:([e])=>{e.id&&n(e)},allowedTypes:t,onError:o})).catch(()=>n(e.attributes.url))}))).catch(e=>f(e));b(p?o:o[0])}(n)}const M=e=>{P(e.target.files)},L=null!=I?I:e=>{let{instructions:n,title:u}=i;if(N||v||(n=ao("To edit this block, you need permission to upload media.")),void 0===n||void 0===u){const e=null!=t?t:[],[o]=e,r=1===e.length,l=r&&"audio"===o,i=r&&"image"===o,s=r&&"video"===o;void 0===n&&N&&(n=ao("Upload a media file or pick one from your media library."),l?n=ao("Upload or drag an audio file here, or pick one from your library."):i?n=ao("Upload or drag an image file here, or pick one from your library."):s&&(n=ao("Upload or drag a video file here, or pick one from your library."))),void 0===u&&(u=ao("Media"),l?u=ao("Audio"):i?u=ao("Image"):s&&(u=ao("Video")))}const d=ei("block-editor-media-placeholder",r,{"is-appender":c});return o.jsxs(Ws,{icon:l,label:u,instructions:n,className:d,notices:a,onDoubleClick:_,preview:s,style:B,children:[e,S]})},R=()=>m?null:o.jsx(ca,{onFilesDrop:P,onHTMLDrop:T}),A=()=>k&&o.jsx(Mi,{__next40pxDefaultSize:!0,className:"block-editor-media-placeholder__cancel-button",title:ao("Cancel"),variant:"link",onClick:k,children:ao("Cancel")}),O=()=>v&&o.jsx(d_,{src:E,onChangeSrc:D,onSelectURL:v}),z=()=>x&&o.jsx("div",{className:"block-editor-media-placeholder__url-input-container",children:o.jsx(Mi,{__next40pxDefaultSize:!0,className:"block-editor-media-placeholder__button",onClick:x,variant:"secondary",children:ao("Use featured image")})});return h?o.jsx(Th,{children:R()}):o.jsx(Th,{fallback:L(O()),children:(()=>{const n=null!=w?w:({open:e})=>o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"secondary",onClick:()=>{e()},children:ao("Media Library")}),r=o.jsx(Mh,{addToGallery:d,gallery:p&&!(!t||0===t.length)&&t.every(e=>"image"===e||e.startsWith("image/")),multiple:p,onSelect:b,allowedTypes:t,mode:"browse",value:Array.isArray(e)?e.map(({id:e})=>e):e.id,render:n});if(N&&c)return o.jsxs(o.Fragment,{children:[R(),o.jsx(ia,{onChange:M,accept:u,multiple:!!p,render:({openFileDialog:e})=>{const t=o.jsxs(o.Fragment,{children:[o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"primary",className:ei("block-editor-media-placeholder__button","block-editor-media-placeholder__upload-button"),onClick:e,children:ao("Upload")}),r,O(),z(),A()]});return L(t)}})]});if(N){const e=o.jsxs(o.Fragment,{children:[R(),o.jsx(ia,{render:({openFileDialog:e})=>o.jsx(Mi,{__next40pxDefaultSize:!0,onClick:e,variant:"primary",className:ei("block-editor-media-placeholder__button","block-editor-media-placeholder__upload-button"),children:ao("Upload")}),onChange:M,accept:u,multiple:!!p}),r,O(),z(),A()]});return L(e)}return L(r)})()})}),g_={placement:"bottom-start"},m_=()=>o.jsxs(o.Fragment,{children:[["bold","italic","link","unknown"].map(e=>o.jsx(ua,{name:`RichText.ToolbarControls.${e}`},e)),o.jsx(ua,{name:"RichText.ToolbarControls",children:e=>{if(!e.length)return null;const t=e.map(([{props:e}])=>e).some(({isActive:e})=>e);return o.jsx(Rs,{children:n=>o.jsx(Di,{icon:Nt,label:ao("More"),toggleProps:{...n,className:ei(n.className,{"is-pressed":t}),description:ao("Displays more block tools")},controls:Co(e.map(([{props:e}])=>e),"title"),popoverProps:g_})})}})]});function h_({popoverAnchor:e}){return o.jsx(Es,{placement:"top",focusOnMount:!1,anchor:e,className:"block-editor-rich-text__inline-format-toolbar",__unstableSlotName:"block-toolbar",children:o.jsx(Uk,{className:"block-editor-rich-text__inline-format-toolbar-group","aria-label":ao("Format tools"),children:o.jsx(Ai,{children:o.jsx(m_,{})})})})}const f_=({inline:e,editableContentElement:t})=>e?o.jsx(h_,{popoverAnchor:t}):o.jsx(rk,{group:"inline",children:o.jsx(m_,{})});function b_(e){return e(Vn).getFormatTypes()}const k_=new Set(["a","audio","button","details","embed","iframe","input","label","select","textarea","video"]);function v_(e,t){return e[t]?e[t]:Object.keys(e).filter(e=>e.startsWith(t+".")).reduce((n,o)=>(n[o.slice(t.length+1)]=e[o],n),{})}const x_=["`",'"',"'","“”","‘’"];function y_(e){let t=e.length;for(;t--;){const n=Or(e[t].attributes);if(n)return e[t].attributes[n]=e[t].attributes[n].toString().replace(Ar,""),[e[t].clientId,n,0,0];const o=y_(e[t].innerBlocks);if(o)return o}return[]}const __=[e=>t=>{function n(n){const{inputType:o,data:r}=n,{value:l,onChange:i,registry:s}=e.current;if("insertText"!==o)return;if($n(l))return;const a=ii("blockEditor.wrapSelectionSettings",x_).find(([e,t])=>e===r||t===r);if(!a)return;const[c,u=c]=a,d=l.start,p=l.end+c.length;let g=Hn(l,c,d,d);g=Hn(g,u,p,p);const{__unstableMarkLastChangeAsPersistent:m,__unstableMarkAutomaticChange:h}=s.dispatch(y);m(),i(g),h();const f={};for(const e in n)f[e]=n[e];f.data=u;const{ownerDocument:b}=t,{defaultView:k}=b,v=new k.InputEvent("input",f);window.queueMicrotask(()=>{n.target.dispatchEvent(v)}),n.preventDefault()}return t.addEventListener("beforeinput",n),()=>{t.removeEventListener("beforeinput",n)}},e=>t=>{function n(){const{getValue:t,onReplace:n,selectionChange:o,registry:r}=e.current;if(!n)return;const l=t(),{start:i,text:s}=l;if(" "!==s.slice(i-1,i))return;const a=s.slice(0,i).trim(),c=ee("from").filter(({type:e})=>"prefix"===e),u=te(c,({prefix:e})=>a===e);if(!u)return;const d=Un({value:Hn(l,Ar,0,i)}),p=u.transform(d);return o(...y_([p])),n([p]),r.dispatch(y).__unstableMarkAutomaticChange(),!0}function o(t){const{inputType:o,type:r}=t,{getValue:l,onChange:i,__unstableAllowPrefixTransformations:s,formatTypes:a,registry:c}=e.current;if("insertText"!==o&&"compositionend"!==r)return;if(s&&n())return;const u=l(),d=a.reduce((e,{__unstableInputRule:t})=>(t&&(e=t(e)),e),function(e){const t="tales of gutenberg",{start:n,text:o}=e;return n<18||o.slice(n-18,n).toLowerCase()!==t?e:Hn(e," 🐡🐢🦀🐤🦋🐘🐧🐹🦁🦄🦍🐼🐿🎃🐴🐝🐆🦕🦔🌱🍇π🍌🐉💧🥨🌌🍂🍠🥦🥚🥝🎟🥥🥒🛵🥖🍒🍯🎾🎲🐺🐚🐮⌛️")}(u)),{__unstableMarkLastChangeAsPersistent:p,__unstableMarkAutomaticChange:g}=c.dispatch(y);d!==u&&(p(),i({...d,activeFormats:u.activeFormats}),g())}return t.addEventListener("input",o),t.addEventListener("compositionend",o),()=>{t.removeEventListener("input",o),t.removeEventListener("compositionend",o)}},e=>t=>{function n(t){if("insertReplacementText"!==t.inputType)return;const{registry:n}=e.current;n.dispatch(y).__unstableMarkLastChangeAsPersistent()}return t.addEventListener("beforeinput",n),()=>{t.removeEventListener("beforeinput",n)}},()=>e=>{function t(e){(bg.primary(e,"z")||bg.primary(e,"y")||bg.primaryShift(e,"z"))&&e.preventDefault()}return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},e=>t=>{const{keyboardShortcuts:n}=e.current;function o(e){for(const t of n.current)t(e)}return t.addEventListener("keydown",o),()=>{t.removeEventListener("keydown",o)}},e=>t=>{const{inputEvents:n}=e.current;function o(e){for(const t of n.current)t(e)}return t.addEventListener("input",o),()=>{t.removeEventListener("input",o)}},e=>t=>{function n(t){const{keyCode:n}=t;if(t.defaultPrevented)return;if(n!==rg&&27!==n)return;const{registry:o}=e.current,{didAutomaticChange:r,getSettings:l}=o.select(y),{__experimentalUndo:i}=l();i&&r()&&(t.preventDefault(),i())}return t.addEventListener("keydown",n),()=>{t.removeEventListener("keydown",n)}},e=>t=>{function n(n){const{disableFormats:o,onChange:r,value:l,formatTypes:i,tagName:s,onReplace:a,__unstableEmbedURLOnPaste:c,preserveWhiteSpace:u,pastePlainText:d}=e.current;if(!t.contains(n.target))return;if(n.defaultPrevented)return;const{plainText:p,html:g}=Ro(n);if(n.preventDefault(),window.console.log("Received HTML:\n\n",g),window.console.log("Received plain text:\n\n",p),o)return void r(Hn(l,p));function m(e){const t=i.reduce((e,{__unstablePasteRule:t})=>(t&&e===l&&(e=t(l,{html:g,plainText:p})),e),l);if(t!==l)r(t);else{const t=pt({html:e});zr(t,l.activeFormats),r(Hn(l,t))}}if("true"===n.clipboardData.getData("rich-text"))return void m(g);if(d)return void r(Hn(l,pt({text:p})));let h="INLINE";const f=p.trim();c&&Gn(l)&&Fn(f)&&/^https?:/.test(f)&&(h="BLOCKS");const b=ne({HTML:g,plainText:p,mode:h,tagName:s});"string"==typeof b?m(b):b.length>0&&a&&Gn(l)&&a(b,b.length-1,-1)}const{defaultView:o}=t.ownerDocument;return o.addEventListener("paste",n),()=>{o.removeEventListener("paste",n)}},e=>t=>{function n(t){const{keyCode:n}=t;if(t.defaultPrevented)return;const{value:o,onMerge:r,onRemove:l}=e.current;if(n===ag||n===rg){const{start:e,end:i,text:s}=o,a=n===rg,c=o.activeFormats&&!!o.activeFormats.length;if(!$n(o)||c||a&&0!==e||!a&&i!==s.length)return;r?r(!a):l&&Gn(o)&&a&&l(!a),t.preventDefault()}}return t.addEventListener("keydown",n),()=>{t.removeEventListener("keydown",n)}},e=>t=>{function n(t){if(t.keyCode!==lg)return;const{onReplace:n,onSplit:o}=e.current;n&&o&&(t.__deprecatedOnSplit=!0)}function o(n){if(n.defaultPrevented)return;if(n.target!==t)return;if(n.keyCode!==lg)return;const{value:o,onChange:r,disableLineBreaks:l,onSplitAtEnd:i,onSplitAtDoubleLineEnd:s,registry:a}=e.current;n.preventDefault();const{text:c,start:u,end:d}=o;n.shiftKey?l||r(Hn(o,"\n")):i&&u===d&&d===c.length?i():s&&u===d&&d===c.length&&"\n\n"===c.slice(-2)?a.batch(()=>{const e={...o};e.start=e.end-2,r(Wn(e)),s()}):l||r(Hn(o,"\n"))}const{defaultView:r}=t.ownerDocument;return r.addEventListener("keydown",o),t.addEventListener("keydown",n),()=>{r.removeEventListener("keydown",o),t.removeEventListener("keydown",n)}},e=>t=>{function n(){const{registry:n}=e.current;if(!n.select(y).isMultiSelecting())return;const o=t.parentElement.closest('[contenteditable="true"]');o&&o.focus()}return t.addEventListener("focus",n),()=>{t.removeEventListener("focus",n)}}];function C_(e){const t=n.useRef(e);t.current=e;const o=n.useMemo(()=>__.map(e=>e(t)),[t]);return ci(t=>{if(!e.isSelected)return;const n=o.map(e=>e(t));return()=>{n.forEach(e=>e())}},[o,e.isSelected])}const j_={},S_=Symbol("usesContext");function w_({onChange:e,onFocus:t,value:r,forwardedRef:l,settings:i}){const{name:s,edit:a,[S_]:c}=i,u=n.useContext(Bd),d=n.useMemo(()=>c?Object.fromEntries(Object.entries(u).filter(([e])=>c.includes(e))):j_,[c,u]);if(!a)return null;const p=Kn(r,s),g=void 0!==p,m=qn(r),h=void 0!==m&&m.type===s;return o.jsx(a,{isActive:g,activeAttributes:g&&p.attributes||{},isObjectActive:h,activeObjectAttributes:h&&m.attributes||{},value:r,onChange:e,onFocus:t,contentRef:l,context:d},s)}function I_({formatTypes:e,...t}){return e.map(e=>n.createElement(w_,{settings:e,...t,key:e.name}))}function B_(e,t){if(O_.isEmpty(e)){const e=Fr(t);return e?`<${e}></${e}>`:""}return Array.isArray(e)?(be("wp.blockEditor.RichText value prop as children type",{since:"6.1",version:"6.3",alternative:"value prop as string",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/"}),ce.toHTML(e)):"string"==typeof e?e:e.toHTMLString()}function N_({value:e,tagName:t,multiline:n,format:r,...l}){return e=o.jsx(ju,{children:B_(e,n)}),t?o.jsx(t,{...l,children:e}):e}const E_=n.forwardRef(function({children:e,identifier:t,tagName:n="div",value:r="",onChange:l,multiline:i,...s},a){be("wp.blockEditor.RichText multiline prop",{since:"6.1",version:"6.3",alternative:"nested blocks (InnerBlocks)",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/nested-blocks-inner-blocks/"});const{clientId:c}=kd(),{getSelectionStart:u,getSelectionEnd:d}=od(y),{selectionChange:p}=ld(y),g=Fr(i),m=`</${g}>${r=r||`<${g}></${g}>`}<${g}>`.split(`</${g}><${g}>`);function h(e){l(`<${g}>${e.join(`</${g}><${g}>`)}</${g}>`)}return m.shift(),m.pop(),o.jsx(n,{ref:a,children:m.map((e,n)=>o.jsx(L_,{identifier:`${t}-${n}`,tagName:g,value:e,onChange:e=>{const t=m.slice();t[n]=e,h(t)},isSelected:void 0,onKeyDown:o=>{if(o.keyCode!==lg)return;o.preventDefault();const{offset:r}=u(),{offset:l}=d();if("number"!=typeof r||"number"!=typeof l)return;const i=pt({html:e});i.start=r,i.end=l;const s=Zn(i).map(e=>Un({value:e})),a=m.slice();a.splice(n,1,...s),h(a),p(c,`${t}-${n+1}`,0,0)},onMerge:e=>{const o=m.slice();let r=0;if(e){if(!o[n+1])return;o.splice(n,2,o[n]+o[n+1]),r=o[n].length-1}else{if(!o[n-1])return;o.splice(n-1,2,o[n-1]+o[n]),r=o[n-1].length-1}h(o),p(c,`${t}-${n-(e?0:1)}`,r,r)},...s},n))})});const D_=n.createContext(),P_=n.createContext(),T_=Symbol("instanceId");function M_(e){const{__unstableMobileNoFocusOnMount:t,deleteEnter:n,placeholderTextColor:o,textAlign:r,selectionColor:l,tagsToEliminate:i,disableEditingMenu:s,fontSize:a,fontFamily:c,fontWeight:u,fontStyle:d,minWidth:p,maxWidth:g,disableSuggestions:m,disableAutocorrection:h,...f}=e;return f}function L_({children:e,tagName:t="div",value:r="",onChange:l,isSelected:i,multiline:s,inlineToolbar:a,wrapperClassName:c,autocompleters:u,onReplace:d,placeholder:p,allowedFormats:g,withoutInteractiveFormatting:m,onRemove:h,onMerge:f,onSplit:b,__unstableOnSplitAtEnd:k,__unstableOnSplitAtDoubleLineEnd:v,identifier:x,preserveWhiteSpace:_,__unstablePastePlainText:C,__unstableEmbedURLOnPaste:j,__unstableDisableFormats:S,disableLineBreaks:w,__unstableAllowPrefixTransformations:I,readOnly:B,...N},E){N=M_(N),b&&be("wp.blockEditor.RichText onSplit prop",{since:"6.4",alternative:'block.json support key: "splitting"'});const D=mi(L_),P=n.useRef(),T=kd(),{clientId:M,isSelected:L,name:R}=T,A=T[gd],O=n.useContext(Bd),z=Yu(),{selectionStart:F,selectionEnd:V,isSelected:$}=od(e=>{if(!L)return{isSelected:!1};const{getSelectionStart:t,getSelectionEnd:n}=e(y),o=t(),r=n();let l;return void 0===i?l=o.clientId===M&&r.clientId===M&&(x?o.attributeKey===x:o[T_]===D):i&&(l=o.clientId===M),{selectionStart:l?o.offset:void 0,selectionEnd:l?r.offset:void 0,isSelected:l}},[M,x,D,i,L]),{disableBoundBlock:H,bindingsPlaceholder:U,bindingsLabel:G}=od(e=>{var t;if(!A?.[x]||!Do(R))return{};const n=A[x],o=ue(n.source),l={};if(o?.usesContext?.length)for(const r of o.usesContext)l[r]=O[r];const i=!o?.canUserEditValue?.({select:e,context:l,args:n.args});if(r.length>0)return{disableBoundBlock:i,bindingsPlaceholder:null,bindingsLabel:null};const{getBlockAttributes:s}=e(y),a=s(M),c=o?.getFieldsList?.({select:e,context:l}),u=null!==(t=c?.[n?.args?.key]?.label)&&void 0!==t?t:o?.label,d=i?u:po(ao("Add %s"),u),p=i?n?.args?.key||o?.label:po(ao("Empty %s; start writing to edit its value"),n?.args?.key||o?.label);return{disableBoundBlock:i,bindingsPlaceholder:a?.placeholder||d,bindingsLabel:p}},[A,x,R,O,r]),W=B||H,{getSelectionStart:K,getSelectionEnd:q,getBlockRootClientId:Z}=od(y),{selectionChange:Y}=ld(y),X=Vr({allowedFormats:g,disableFormats:S}),J=!X||X.length>0,Q=n.useCallback((e,t)=>{const n={},o=void 0===e&&void 0===t,r={clientId:M,[x?"attributeKey":T_]:x||D};if("number"==typeof e||o){if(void 0===t&&Z(M)!==Z(q().clientId))return;n.start={...r,offset:e}}if("number"==typeof t||o){if(void 0===e&&Z(M)!==Z(K().clientId))return;n.end={...r,offset:t}}Y(n)},[M,Z,q,K,x,D,Y]),{formatTypes:ee,prepareHandlers:te,valueHandlers:ne,changeHandlers:oe,dependencies:re}=function({clientId:e,identifier:t,withoutInteractiveFormatting:o,allowedFormats:r}){const l=od(b_,[]),i=n.useMemo(()=>l.filter(({name:e,interactive:t,tagName:n})=>!(r&&!r.includes(e)||o&&(t||k_.has(n)))),[l,r,o]),s=od(n=>i.reduce((o,r)=>{return r.__experimentalGetPropsForEditableTreePreparation?{...o,...(l=r.__experimentalGetPropsForEditableTreePreparation(n,{richTextIdentifier:t,blockClientId:e}),i=r.name,"object"!=typeof l?{[i]:l}:Object.fromEntries(Object.entries(l).map(([e,t])=>[`${i}.${e}`,t])))}:o;var l,i},{}),[i,e,t]),a=ld(),c=[],u=[],d=[],p=[];for(const n in s)p.push(s[n]);return i.forEach(n=>{if(n.__experimentalCreatePrepareEditableTree){const o=n.__experimentalCreatePrepareEditableTree(v_(s,n.name),{richTextIdentifier:t,blockClientId:e});n.__experimentalCreateOnChangeEditableValue?u.push(o):c.push(o)}if(n.__experimentalCreateOnChangeEditableValue){let o={};n.__experimentalGetPropsForEditableTreeChangeHandler&&(o=n.__experimentalGetPropsForEditableTreeChangeHandler(a,{richTextIdentifier:t,blockClientId:e}));const r=v_(s,n.name);d.push(n.__experimentalCreateOnChangeEditableValue({..."object"==typeof r?r:{},...o},{richTextIdentifier:t,blockClientId:e}))}}),{formatTypes:i,prepareHandlers:c,valueHandlers:u,changeHandlers:d,dependencies:p}}({clientId:M,identifier:x,withoutInteractiveFormatting:m,allowedFormats:X});function le(e){return ee.forEach(t=>{t.__experimentalCreatePrepareEditableTree&&(e=Jn(e,t.name,0,e.text.length))}),e.formats}const{value:ie,getValue:se,onChange:ae,ref:ce}=Xn({value:r,onChange(e,{__unstableFormats:t,__unstableText:n}){l(e),Object.values(oe).forEach(e=>{e(t,n)})},selectionStart:F,selectionEnd:V,onSelectionChange:Q,placeholder:U||p,__unstableIsSelected:$,__unstableDisableFormats:S,preserveWhiteSpace:_,__unstableDependencies:[...re,t],__unstableAfterParse:function(e){return ne.reduce((t,n)=>n(t,e.text),e.formats)},__unstableBeforeSerialize:le,__unstableAddInvisibleFormats:function(e){return te.reduce((t,n)=>n(t,e.text),e.formats)}}),de=function(e){return Vi({...e,completers:kp(e)})}({onReplace:d,completers:u,record:ie,onChange:ae});!function({html:e,value:t}){const o=n.useRef(),r=!!t.activeFormats?.length,{__unstableMarkLastChangeAsPersistent:l}=ld(y);n.useLayoutEffect(()=>{if(o.current){if(o.current!==t.text){const e=window.setTimeout(()=>{l()},1e3);return o.current=t.text,()=>{window.clearTimeout(e)}}l()}else o.current=t.text},[e,r])}({html:r,value:ie});const pe=n.useRef(new Set),ge=n.useRef(new Set);function me(){P.current?.focus()}const he=t;return o.jsxs(o.Fragment,{children:[$&&o.jsx(D_.Provider,{value:pe,children:o.jsx(P_.Provider,{value:ge,children:o.jsxs(Es.__unstableSlotNameProvider,{value:"__unstable-block-tools-after",children:[e&&e({value:ie,onChange:ae,onFocus:me}),o.jsx(I_,{value:ie,onChange:ae,onFocus:me,formatTypes:ee,forwardedRef:P})]})})}),$&&J&&o.jsx(f_,{inline:a,editableContentElement:P.current}),o.jsx(he,{role:"textbox","aria-multiline":!w,"aria-readonly":W,...N,"aria-label":G||N["aria-label"]||p,...de,ref:di([ce,E,de.ref,N.ref,C_({registry:z,getValue:se,onChange:ae,__unstableAllowPrefixTransformations:I,formatTypes:ee,onReplace:d,selectionChange:Y,isSelected:$,disableFormats:S,value:ie,tagName:t,onSplit:b,__unstableEmbedURLOnPaste:j,pastePlainText:C,onMerge:f,onRemove:h,removeEditorOnlyFormats:le,disableLineBreaks:w,onSplitAtEnd:k,onSplitAtDoubleLineEnd:v,keyboardShortcuts:pe,inputEvents:ge}),P]),contentEditable:!W,suppressContentEditableWarning:!0,className:ei("block-editor-rich-text__editable",N.className,"rich-text"),tabIndex:0!==N.tabIndex||W?N.tabIndex:null,"data-wp-block-attribute-key":x})]})}const R_=(A_=n.forwardRef(L_),n.forwardRef((e,t)=>{let n=e.value,r=e.onChange;Array.isArray(n)&&(be("wp.blockEditor.RichText value prop as children type",{since:"6.1",version:"6.3",alternative:"value prop as string",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/"}),n=ce.toHTML(e.value),r=t=>e.onChange(ce.fromDOM(Yn(document,t).childNodes)));const l=e.multiline?E_:A_;return o.jsx(l,{...e,value:n,onChange:r,ref:t})}));var A_;R_.Content=N_,R_.isEmpty=e=>!e||0===e.length;const O_=n.forwardRef((e,t)=>{if(kd()[md]){const{children:t,tagName:n="div",value:r,onChange:l,isSelected:i,multiline:s,inlineToolbar:a,wrapperClassName:c,autocompleters:u,onReplace:d,placeholder:p,allowedFormats:g,withoutInteractiveFormatting:m,onRemove:h,onMerge:f,onSplit:b,__unstableOnSplitAtEnd:k,__unstableOnSplitAtDoubleLineEnd:v,identifier:x,preserveWhiteSpace:y,__unstablePastePlainText:_,__unstableEmbedURLOnPaste:C,__unstableDisableFormats:j,disableLineBreaks:S,__unstableAllowPrefixTransformations:w,readOnly:I,...B}=M_(e);return o.jsx(n,{...B,dangerouslySetInnerHTML:{__html:B_(r,s)}})}return o.jsx(R_,{ref:t,...e,readOnly:!1})});O_.Content=N_,O_.isEmpty=e=>!e||0===e.length;const z_=n.forwardRef((e,t)=>o.jsx(O_,{ref:t,...e,__unstableDisableFormats:!0}));z_.Content=({value:e="",tagName:t="div",...n})=>o.jsx(t,{...n,children:e});const F_=n.forwardRef(({__experimentalVersion:e,...t},n)=>{if(2===e)return o.jsx(z_,{ref:n,...t});const{className:r,onChange:l,...i}=t;return o.jsx(g,{ref:n,className:ei("block-editor-plain-text",r),onChange:e=>l(e.target.value),...i})});function V_({property:e,viewport:t,desc:n}){const r=mi(V_),l=n||po(uo("Controls the %1$s property for %2$s viewports.","Text labelling a interface as controlling a given layout property (eg: margin) for a given screen size."),e,t.label);return o.jsxs(o.Fragment,{children:[o.jsx("span",{"aria-describedby":`rbc-desc-${r}`,children:t.label}),o.jsx(fs,{as:"span",id:`rbc-desc-${r}`,children:l})]})}const $_=o.jsx(ft,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:o.jsx(xt,{d:"M9.4 20.5L5.2 3.8l14.6 9-2 .3c-.2 0-.4.1-.7.1-.9.2-1.6.3-2.2.5-.8.3-1.4.5-1.8.8-.4.3-.8.8-1.3 1.5-.4.5-.8 1.2-1.2 2l-.3.6-.9 1.9zM7.6 7.1l2.4 9.3c.2-.4.5-.8.7-1.1.6-.8 1.1-1.4 1.6-1.8.5-.4 1.3-.8 2.2-1.1l1.2-.3-8.1-5z"})});const H_=n.forwardRef(function(e,t){const n=od(e=>e(y).__unstableGetEditorMode(),[]),{__unstableSetEditorMode:r}=Id(ld(y));return o.jsx(rs,{renderToggle:({isOpen:r,onToggle:l})=>o.jsx(Mi,{size:"compact",...e,ref:t,icon:"navigation"===n?Vt:$_,"aria-expanded":r,"aria-haspopup":"true",onClick:l,label:ao("Tools")}),popoverProps:{placement:"bottom-start"},renderContent:()=>o.jsxs(o.Fragment,{children:[o.jsx(Vs,{className:"block-editor-tool-selector__menu",role:"menu","aria-label":ao("Tools"),children:o.jsx(Ss,{value:"navigation"===n?"navigation":"edit",onSelect:r,choices:[{value:"navigation",label:o.jsxs(o.Fragment,{children:[o.jsx(we,{icon:Vt}),ao("Write")]}),info:ao("Focus on content.")},{value:"edit",label:o.jsxs(o.Fragment,{children:[$_,ao("Design")]}),info:ao("Edit layout and styles.")}]})}),o.jsx("div",{className:"block-editor-tool-selector__help",children:ao("Tools provide different sets of interactions for blocks. Toggle between simplified content tools (Write) and advanced visual editing tools (Design).")})]})})});class U_ extends n.Component{constructor(){super(...arguments),this.toggle=this.toggle.bind(this),this.submitLink=this.submitLink.bind(this),this.state={expanded:!1}}toggle(){this.setState({expanded:!this.state.expanded})}submitLink(e){e.preventDefault(),this.toggle()}render(){const{url:e,onChange:t}=this.props,{expanded:n}=this.state,r=ao(e?"Edit link":"Insert link");return o.jsxs("div",{className:"block-editor-url-input__button",children:[o.jsx(Mi,{size:"compact",icon:on,label:r,onClick:this.toggle,className:"components-toolbar__control",isPressed:!!e}),n&&o.jsx("form",{className:"block-editor-url-input__button-modal",onSubmit:this.submitLink,children:o.jsxs("div",{className:"block-editor-url-input__button-modal-line",children:[o.jsx(Mi,{__next40pxDefaultSize:!0,className:"block-editor-url-input__back",icon:Qn,label:ao("Close"),onClick:this.toggle}),o.jsx(i_,{value:e||"",onChange:t,suffix:o.jsx(la,{variant:"control",children:o.jsx(Mi,{size:"small",icon:Rn,label:ao("Submit"),type:"submit"})})})]})})]})}}const G_="none",W_="custom",K_="media",q_="attachment",Z_=["noreferrer","noopener"],Y_={px:{max:300,steps:1},"%":{max:100,steps:1},vw:{max:100,steps:1},vh:{max:100,steps:1},em:{max:10,steps:.1},rm:{max:10,steps:.1},svw:{max:100,steps:1},lvw:{max:100,steps:1},dvw:{max:100,steps:1},svh:{max:100,steps:1},lvh:{max:100,steps:1},dvh:{max:100,steps:1},vi:{max:100,steps:1},svi:{max:100,steps:1},lvi:{max:100,steps:1},dvi:{max:100,steps:1},vb:{max:100,steps:1},svb:{max:100,steps:1},lvb:{max:100,steps:1},dvb:{max:100,steps:1},vmin:{max:100,steps:1},svmin:{max:100,steps:1},lvmin:{max:100,steps:1},dvmin:{max:100,steps:1},vmax:{max:100,steps:1},svmax:{max:100,steps:1},lvmax:{max:100,steps:1},dvmax:{max:100,steps:1}};function X_({icon:e,isMixed:t=!1,minimumCustomValue:r,onChange:l,onMouseOut:i,onMouseOver:s,showSideInLabel:a=!0,side:c,spacingSizes:u,type:d,value:p}){var g,m;p=$r(p,u);let h=u;const f=u.length<=Hr,b=od(e=>{const t=e(y).getSettings();return t?.disableCustomSpacingSizes}),[k,v]=n.useState(!b&&void 0!==p&&!Ur(p)),[x,_]=n.useState(r),C=bi(p);p&&C!==p&&!Ur(p)&&!0!==k&&v(!0);const[j]=Ad("spacing.units"),S=Ki({availableUnits:j||["px","em","rem"]});let w=null;!f&&!k&&void 0!==p&&(!Ur(p)||Ur(p)&&t)?(h=[...u,{name:t?ao("Mixed"):po(ao("Custom (%s)"),p),slug:"custom",size:p}],w=h.length-1):t||(w=k?Wr(p,u):Gr(p,u));const I=n.useMemo(()=>ts(w),[w])[1]||S[0]?.value,B=parseFloat(w,10),N=(e,t)=>{const n=parseInt(e,10);if("selectList"===t){if(0===n)return;if(1===n)return"0"}else if(0===n)return"0";return`var:preset|spacing|${u[e]?.slug}`},E=t?ao("Mixed"):null,D=h.map((e,t)=>({key:t,name:e.name})),P=u.slice(1,u.length-1).map((e,t)=>({value:t+1,label:void 0})),T=Kr.includes(c)&&a?qr[c]:"",M=a?d?.toLowerCase():d,L=po(ao("%1$s %2$s"),T,M).trim();return o.jsxs(hs,{className:"spacing-sizes-control__wrapper",children:[e&&o.jsx(zi,{className:"spacing-sizes-control__icon",icon:e,size:24}),k&&o.jsxs(o.Fragment,{children:[o.jsx(Zi,{onMouseOver:s,onMouseOut:i,onFocus:s,onBlur:i,onChange:e=>l((e=>isNaN(parseFloat(e))?void 0:e)(e)),value:w,units:S,min:x,placeholder:E,disableUnits:t,label:L,hideLabelFromVision:!0,className:"spacing-sizes-control__custom-value-input",size:"__unstable-large",onDragStart:()=>{"-"===p?.charAt(0)&&_(0)},onDrag:()=>{"-"===p?.charAt(0)&&_(0)},onDragEnd:()=>{_(r)}}),o.jsx(es,{__next40pxDefaultSize:!0,onMouseOver:s,onMouseOut:i,onFocus:s,onBlur:i,value:B,min:0,max:null!==(g=Y_[I]?.max)&&void 0!==g?g:10,step:null!==(m=Y_[I]?.steps)&&void 0!==m?m:.1,withInputField:!1,onChange:e=>{l([e,I].join(""))},className:"spacing-sizes-control__custom-value-range",__nextHasNoMarginBottom:!0,label:L,hideLabelFromVision:!0})]}),f&&!k&&o.jsx(es,{__next40pxDefaultSize:!0,onMouseOver:s,onMouseOut:i,className:"spacing-sizes-control__range-control",value:w,onChange:e=>l(N(e)),onMouseDown:e=>{e?.nativeEvent?.offsetX<35&&void 0===p&&l("0")},withInputField:!1,"aria-valuenow":w,"aria-valuetext":u[w]?.name,renderTooltipContent:e=>void 0===p?void 0:u[e]?.name,min:0,max:u.length-1,marks:P,label:L,hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,onFocus:s,onBlur:i}),!f&&!k&&o.jsx(Ys,{className:"spacing-sizes-control__custom-select-control",value:D.find(e=>e.key===w)||"",onChange:e=>{l(N(e.selectedItem.key,"selectList"))},options:D,label:L,hideLabelFromVision:!0,size:"__unstable-large",onMouseOver:s,onMouseOut:i,onFocus:s,onBlur:i}),!b&&o.jsx(Mi,{label:ao(k?"Use size preset":"Set custom size"),icon:to,onClick:()=>{v(!k)},isPressed:k,size:"small",className:"spacing-sizes-control__custom-toggle",iconSize:24})]})}const J_=["vertical","horizontal"];function Q_({minimumCustomValue:e,onChange:t,onMouseOut:n,onMouseOver:r,sides:l,spacingSizes:i,type:s,values:a}){const c=e=>n=>{if(!t)return;const o={...Object.keys(a).reduce((e,t)=>(e[t]=$r(a[t],i),e),{})};"vertical"===e&&(o.top=n,o.bottom=n),"horizontal"===e&&(o.left=n,o.right=n),t(o)},u=l?.length?J_.filter(e=>Zr(l,e)):J_;return o.jsx(o.Fragment,{children:u.map(t=>{const l="vertical"===t?a.top:a.left;return o.jsx(X_,{icon:Yr[t],label:qr[t],minimumCustomValue:e,onChange:c(t),onMouseOut:n,onMouseOver:r,side:t,spacingSizes:i,type:s,value:l,withInputField:!1},`spacing-sizes-control-${t}`)})})}function eC({minimumCustomValue:e,onChange:t,onMouseOut:n,onMouseOver:r,sides:l,spacingSizes:i,type:s,values:a}){const c=l?.length?Kr.filter(e=>l.includes(e)):Kr,u=e=>n=>{const o={...Object.keys(a).reduce((e,t)=>(e[t]=$r(a[t],i),e),{})};o[e]=n,t(o)};return o.jsx(o.Fragment,{children:c.map(t=>o.jsx(X_,{icon:Yr[t],label:qr[t],minimumCustomValue:e,onChange:u(t),onMouseOut:n,onMouseOver:r,side:t,spacingSizes:i,type:s,value:a[t],withInputField:!1},`spacing-sizes-control-${t}`))})}function tC({minimumCustomValue:e,onChange:t,onMouseOut:n,onMouseOver:r,showSideInLabel:l,side:i,spacingSizes:s,type:a,values:c}){return o.jsx(X_,{label:qr[i],minimumCustomValue:e,onChange:(u=i,e=>{const n={...Object.keys(c).reduce((e,t)=>(e[t]=$r(c[t],s),e),{})};n[u]=e,t(n)}),onMouseOut:n,onMouseOver:r,showSideInLabel:l,side:i,spacingSizes:s,type:a,value:c[i],withInputField:!1});var u}function nC({isLinked:e,...t}){const n=e?po(ao("Unlink %1$s"),t.label.toLowerCase()).trim():po(ao("Link %1$s"),t.label.toLowerCase()).trim();return o.jsx(bs,{text:n,children:o.jsx(Mi,{...t,size:"small",icon:e?on:rn,iconSize:24,"aria-label":n})})}function oC({inputProps:e,label:t,minimumCustomValue:r=0,onChange:l,onMouseOut:i,onMouseOver:s,showSideInLabel:a=!0,sides:c=Kr,useSelect:u,values:d}){const p=Xr(),g=d||el,m=1===c?.length,h=c?.includes("horizontal")&&c?.includes("vertical")&&2===c?.length,[f,b]=n.useState(Jr(g,c)),k={...e,minimumCustomValue:r,onChange:e=>{const t={...d,...e};l(t)},onMouseOut:i,onMouseOver:s,sides:c,spacingSizes:p,type:t,useSelect:u,values:g},v=Kr.includes(f)&&a?qr[f]:"",x=po(ao("%1$s %2$s"),t,v).trim();return o.jsxs("fieldset",{className:"spacing-sizes-control",children:[o.jsxs(hs,{className:"spacing-sizes-control__header",children:[o.jsx(Ji.VisualLabel,{as:"legend",className:"spacing-sizes-control__label",children:x}),!m&&!h&&o.jsx(nC,{label:t,onClick:()=>{b(f===Qr.axial?Qr.custom:Qr.axial)},isLinked:f===Qr.axial})]}),o.jsx(qi,{spacing:.5,children:f===Qr.axial?o.jsx(Q_,{...k}):f===Qr.custom?o.jsx(eC,{...k}):o.jsx(tC,{side:f,...k,showSideInLabel:a})})]})}function rC(){const e=od(e=>e(y).getBlockSelectionStart(),[]),t=n.useRef();Sg(e,t);return e?o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"secondary",className:"block-editor-skip-to-selected-block",onClick:()=>{t.current?.focus()},children:ao("Skip to the selected block")}):null}function lC(){const{blocks:e}=od(e=>{const{getMultiSelectedBlocks:t}=e(y);return{blocks:t()}},[]),t=no(re(e),"words");return o.jsxs("div",{className:"block-editor-multi-selection-inspector__card",children:[o.jsx(gp,{icon:Dt,showColors:!0}),o.jsxs("div",{className:"block-editor-multi-selection-inspector__card-content",children:[o.jsx("div",{className:"block-editor-multi-selection-inspector__card-title",children:po(go("%d Block","%d Blocks",e.length),e.length)}),o.jsx("div",{className:"block-editor-multi-selection-inspector__card-description",children:po(go("%d word selected.","%d words selected.",t),t)})]})]})}const iC=()=>{const e=Ms(hb.slotName);return Boolean(e&&e.length)?o.jsx(pa,{className:"block-editor-block-inspector__advanced",title:ao("Advanced"),initialOpen:!1,children:o.jsx(mb.Slot,{group:"advanced"})}):null},sC=()=>{const[e,t]=n.useState(),{multiSelectedBlocks:r}=od(e=>{const{getBlocksByClientId:t,getSelectedBlockClientIds:n}=e(y);return{multiSelectedBlocks:t(n())}},[]);return n.useLayoutEffect(()=>{void 0===e&&t(r.some(({attributes:e})=>!!e?.style?.position?.type))},[e,r,t]),o.jsx(pa,{className:"block-editor-block-inspector__position",title:ao("Position"),initialOpen:null!=e&&e,children:o.jsx(mb.Slot,{group:"position"})})},aC=()=>{const e=Ms(sb.position.Slot.__unstableName);return Boolean(e&&e.length)?o.jsx(sC,{}):null},cC=({showAdvancedControls:e=!1})=>o.jsxs(o.Fragment,{children:[o.jsx(mb.Slot,{}),o.jsx(aC,{}),o.jsx(mb.Slot,{group:"bindings"}),e&&o.jsx("div",{children:o.jsx(iC,{})})]}),uC=n.createContext({user:{},base:{},merged:{},setUserConfig:()=>{}});function dC(e,t="root",n={}){if(!t)return null;const{fallback:o=!1}=n,{name:r,selectors:l,supports:i}=e,s=l&&Object.keys(l).length>0,a=Array.isArray(t)?t.join("."):t;let c=null;if(c=s&&l.root?l?.root:i?.__experimentalSelector?i.__experimentalSelector:".wp-block-"+r.replace("core/","").replace("/","-"),"root"===a)return c;const u=Array.isArray(t)?t:t.split(".");if(1===u.length){const e=o?c:null;if(s){return tl(l,`${a}.root`,null)||tl(l,a,null)||e}const t=tl(i,`${a}.__experimentalSelector`,null);return t?nl(c,t):e}let d;return s&&(d=tl(l,a,null)),d||(o?dC(e,u[0],n):null)}const pC="image",gC={placement:"left-start",offset:36,shift:!0,className:"block-editor-global-styles-background-panel__popover"},mC=()=>{};const hC=e=>{if(!e)return{x:void 0,y:void 0};let[t,n]=e.split(" ").map(e=>parseFloat(e)/100);return t=isNaN(t)?void 0:t,n=isNaN(n)?t:n,{x:t,y:n}};function fC({as:e="span",imgUrl:t,toggleProps:r={},filename:l,label:i,className:s,onToggleCallback:a=mC}){return n.useEffect(()=>{void 0!==r?.isOpen&&a(r?.isOpen)},[r?.isOpen,a]),o.jsx(xs,{as:e,className:s,...r,children:o.jsxs(hs,{justify:"flex-start",as:"span",className:"block-editor-global-styles-background-panel__inspector-preview-inner",children:[t&&o.jsx("span",{className:"block-editor-global-styles-background-panel__inspector-image-indicator-wrapper","aria-hidden":!0,children:o.jsx("span",{className:"block-editor-global-styles-background-panel__inspector-image-indicator",style:{backgroundImage:`url(${t})`}})}),o.jsxs(Hi,{as:"span",style:t?{}:{flexGrow:1},children:[o.jsx(gs,{numberOfLines:1,className:"block-editor-global-styles-background-panel__inspector-media-replace-title",children:i}),o.jsx(fs,{as:"span",children:t?po(ao("Background image: %s"),l||i):ao("No background image selected")})]})]})})}function bC({label:e,filename:t,url:n,children:r,onToggle:l=mC,hasImageValue:i}){if(!i)return;const s=e||_t(n)||ao("Add background image");return o.jsx(rs,{popoverProps:gC,renderToggle:({onToggle:e,isOpen:r})=>{const i={onClick:e,className:"block-editor-global-styles-background-panel__dropdown-toggle","aria-expanded":r,"aria-label":ao("Background size, position and repeat options."),isOpen:r};return o.jsx(fC,{imgUrl:n,filename:t,label:s,toggleProps:i,as:"button",onToggleCallback:l})},renderContent:()=>o.jsx(ta,{className:"block-editor-global-styles-background-panel__dropdown-content-wrapper",paddingSize:"medium",children:r})})}function kC(){return o.jsx(Ws,{className:"block-editor-global-styles-background-panel__loading",children:o.jsx(Bs,{})})}function vC({onChange:e,style:t,inheritedValue:r,onRemoveImage:l=mC,onResetImage:i=mC,displayInPanel:s,defaultValues:a}){const[c,u]=n.useState(!1),{getSettings:d}=od(y),{id:p,title:g,url:m}=t?.background?.backgroundImage||{...r?.background?.backgroundImage},h=n.useRef(),{createErrorNotice:f}=ld(yt),b=e=>{f(e,{type:"snackbar"}),u(!1)},k=n=>{if(!n||!n.url)return e(rl(t,["background","backgroundImage"],void 0)),void u(!1);if(Ct(n.url))return void u(!0);if(n.media_type&&n.media_type!==pC||!n.media_type&&n.type&&n.type!==pC)return void b(ao("Only images can be used as a background image."));const o=t?.background?.backgroundSize||a?.backgroundSize,r=t?.background?.backgroundPosition;e(rl(t,["background"],{...t?.background,backgroundImage:{url:n.url,id:n.id,source:"file",title:n.title||void 0},backgroundPosition:r||"auto"!==o&&o?r:"50% 0",backgroundSize:o})),u(!1)},v=jC(t),x=()=>{const[e]=qe.tabbable.find(h.current);e?.focus(),e?.click()},_=!v&&jC(r),C=g||_t(m)||ao("Add background image");return o.jsxs("div",{ref:h,className:"block-editor-global-styles-background-panel__image-tools-panel-item",children:[c&&o.jsx(kC,{}),o.jsx(n_,{mediaId:p,mediaURL:m,allowedTypes:[pC],accept:"image/*",onSelect:k,popoverProps:{className:ei({"block-editor-global-styles-background-panel__media-replace-popover":s})},name:o.jsx(fC,{className:"block-editor-global-styles-background-panel__image-preview",imgUrl:m,filename:g,label:C}),variant:"secondary",onError:b,onReset:()=>{x(),i()},children:_&&o.jsx(Ti,{onClick:()=>{x(),e(rl(t,["background"],{backgroundImage:"none"})),l()},children:ao("Remove")})}),o.jsx(ca,{onFilesDrop:e=>{e?.length>1?b(ao("Only one image can be used as a background image.")):d().mediaUpload({allowedTypes:[pC],filesList:e,onFileChange([e]){k(e)},onError:b})},label:ao("Drop to upload")})]})}function xC({onChange:e,style:t,inheritedValue:n,defaultValues:r}){const l=t?.background?.backgroundSize||n?.background?.backgroundSize,i=t?.background?.backgroundRepeat||n?.background?.backgroundRepeat,s=t?.background?.backgroundImage?.url||n?.background?.backgroundImage?.url,a=t?.background?.backgroundImage?.id,c=t?.background?.backgroundPosition||n?.background?.backgroundPosition,u=t?.background?.backgroundAttachment||n?.background?.backgroundAttachment;let d=!l&&a?r?.backgroundSize:l||"auto";d=["cover","contain","auto"].includes(d)?d:"auto";const p=!("no-repeat"===i||"cover"===d&&void 0===i),g=n=>{let o=i,r=c;"contain"===n&&(o="no-repeat",r=void 0),"cover"===n&&(o=void 0,r=void 0),"cover"!==d&&"contain"!==d||"auto"!==n||(o=void 0,t?.background?.backgroundImage?.id&&(r="50% 0")),n||"auto"!==d||(n="auto"),e(rl(t,["background"],{...t?.background,backgroundPosition:r,backgroundRepeat:o,backgroundSize:n}))},m=!c&&a&&"contain"===l?r?.backgroundPosition:c;return o.jsxs(qi,{spacing:3,className:"single-column",children:[o.jsx(ga,{__nextHasNoMarginBottom:!0,label:ao("Focal point"),url:s,value:hC(m),onChange:n=>{e(rl(t,["background","backgroundPosition"],(e=>{if(!e||isNaN(e.x)&&isNaN(e.y))return;return`${100*(isNaN(e.x)?.5:e.x)}% ${100*(isNaN(e.y)?.5:e.y)}%`})(n)))}}),o.jsx(Wi,{__nextHasNoMarginBottom:!0,label:ao("Fixed background"),checked:"fixed"===u,onChange:()=>e(rl(t,["background","backgroundAttachment"],"fixed"===u?"scroll":"fixed"))}),o.jsxs(Ui,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:ao("Size"),value:d,onChange:g,isBlock:!0,help:(h=l||r?.backgroundSize,ao("cover"===h||void 0===h?"Image covers the space evenly.":"contain"===h?"Image is contained without distortion.":"Image has a fixed width.")),children:[o.jsx(Xi,{value:"cover",label:uo("Cover","Size option for background image control")},"cover"),o.jsx(Xi,{value:"contain",label:uo("Contain","Size option for background image control")},"contain"),o.jsx(Xi,{value:"auto",label:uo("Tile","Size option for background image control")},"tile")]}),o.jsxs(hs,{justify:"flex-start",spacing:2,as:"span",children:[o.jsx(Zi,{"aria-label":ao("Background image width"),onChange:g,value:l,size:"__unstable-large",__unstableInputWidth:"100px",min:0,placeholder:ao("Auto"),disabled:"auto"!==d||void 0===d}),o.jsx(Wi,{__nextHasNoMarginBottom:!0,label:ao("Repeat"),checked:p,onChange:()=>e(rl(t,["background","backgroundRepeat"],!0===p?"no-repeat":"repeat")),disabled:"cover"===d})]})]});var h}function yC({value:e,onChange:t,inheritedValue:r=e,settings:l,defaultValues:i={}}){const{globalStyles:s,_links:a}=od(e=>{const{getSettings:t}=e(y),n=t();return{globalStyles:n[w],_links:n[S]}},[]),c=n.useMemo(()=>{const e={background:{}};return r?.background?(Object.entries(r?.background).forEach(([t,n])=>{e.background[t]=ol(n,{styles:s,_links:a})}),e):r},[s,a,r]),u=()=>t(rl(e,["background"],{})),{title:d,url:p}=e?.background?.backgroundImage||{...c?.background?.backgroundImage},g=jC(e)||jC(c),m=g&&"none"!==(e?.background?.backgroundImage||r?.background?.backgroundImage)&&(l?.background?.backgroundSize||l?.background?.backgroundPosition||l?.background?.backgroundRepeat),[h,f]=n.useState(!1);return o.jsx("div",{className:ei("block-editor-global-styles-background-panel__inspector-media-replace-container",{"is-open":h}),children:m?o.jsx(bC,{label:d,filename:d,url:p,onToggle:f,hasImageValue:g,children:o.jsxs(qi,{spacing:3,className:"single-column",children:[o.jsx(vC,{onChange:t,style:e,inheritedValue:c,displayInPanel:!0,onResetImage:()=>{f(!1),u()},onRemoveImage:()=>f(!1),defaultValues:i}),o.jsx(xC,{onChange:t,style:e,defaultValues:i,inheritedValue:c})]})}):o.jsx(vC,{onChange:t,style:e,inheritedValue:c,defaultValues:i,onResetImage:()=>{f(!1),u()},onRemoveImage:()=>f(!1)})})}const _C={backgroundImage:!0};function CC(e){return e?.background?.backgroundImage}function jC(e){return!!e?.background?.backgroundImage?.id||"string"==typeof e?.background?.backgroundImage||!!e?.background?.backgroundImage?.url}function SC({resetAllFilter:e,onChange:t,value:n,panelId:r,children:l,headerLabel:i}){const s=er();return o.jsx(Ts,{label:i,resetAll:()=>{const o=e(n);t(o)},panelId:r,dropdownMenuProps:s,children:l})}function wC({as:e=SC,value:t,onChange:r,inheritedValue:l,settings:i,panelId:s,defaultControls:a=_C,defaultValues:c={},headerLabel:u=ao("Background image")}){const d=CC(i),p=n.useCallback(e=>({...e,background:{}}),[]);return o.jsx(e,{resetAllFilter:p,value:t,onChange:r,panelId:s,headerLabel:u,children:d&&o.jsx(na,{hasValue:()=>!!t?.background,label:ao("Image"),onDeselect:()=>r(rl(t,["background"],{})),isShownByDefault:a.backgroundImage,panelId:s,children:o.jsx(yC,{value:t,onChange:r,settings:i,inheritedValue:l,defaultControls:a,defaultValues:c})})})}const IC={button:"wp-element-button",caption:"wp-element-caption"},BC={__experimentalBorder:"border",color:"color",spacing:"spacing",typography:"typography"},{kebabCase:NC}=Id(Li);function EC(e={},t,n){let o=[];return Object.keys(e).forEach(r=>{const l=t+NC(r.replace("/","-")),i=e[r];if(i instanceof Object){const e=l+n;o=[...o,...EC(i,e,n)]}else o.push(`${l}: ${i}`)}),o}const DC=(e,t)=>{const n={};return Object.entries(e).forEach(([e,o])=>{if("root"===e||!t?.[e])return;const r="string"==typeof o;if(r||Object.entries(o).forEach(([o,r])=>{if("root"===o||!t?.[e][o])return;const l=PC({[e]:{[o]:t[e][o]}});n[r]=[...n[r]||[],...l],delete t[e][o]}),r||o.root){const l=r?o:o.root,i=PC({[e]:t[e]});n[l]=[...n[l]||[],...i],delete t[e]}}),n};function PC(e={},t="",n,o={},r=!1){const l=ll===t,i=Object.entries(ge).reduce((t,[o,{value:r,properties:i,useEngine:s,rootOnly:a}])=>{if(a&&!l)return t;const c=r;if("elements"===c[0]||s)return t;const u=tl(e,c);if("--wp--style--root--padding"===o&&("string"==typeof u||!n))return t;if(i&&"string"!=typeof u)Object.entries(i).forEach(e=>{const[n,o]=e;if(!tl(u,[o],!1))return;const r=n.startsWith("--")?n:NC(n);t.push(`${r}: ${oo(tl(u,[o]))}`)});else if(tl(e,c,!1)){const n=o.startsWith("--")?o:NC(o);t.push(`${n}: ${oo(tl(e,c))}`)}return t},[]);e.background&&(e.background?.backgroundImage&&(e.background.backgroundImage=ol(e.background.backgroundImage,o)),!l&&e.background?.backgroundImage?.id&&(e={...e,background:{...e.background,...ul(e.background)}}));return Ae(e).forEach(e=>{if(l&&(n||r)&&e.key.startsWith("padding"))return;const t=e.key.startsWith("--")?e.key:NC(e.key);let s=ol(e.value,o);"font-size"===t&&(s=dl({size:s},o?.settings)),"aspect-ratio"===t&&i.push("min-height: unset"),i.push(`${t}: ${s}`)}),i}function TC({layoutDefinitions:e=vp,style:t,selector:n,hasBlockGapSupport:o,hasFallbackGapSupport:r,fallbackGapValue:l}){let i="",s=o?So(t?.spacing?.blockGap):"";if(r&&(n===ll?s=s||"0.5em":!o&&l&&(s=l)),s&&e&&(Object.values(e).forEach(({className:e,name:t,spacingStyles:r})=>{(o||"flex"===t||"grid"===t)&&r?.length&&r.forEach(t=>{const r=[];if(t.rules&&Object.entries(t.rules).forEach(([e,t])=>{r.push(`${e}: ${t||s}`)}),r.length){let l="";l=o?n===ll?`:root :where(.${e})${t?.selector||""}`:`:root :where(${n}-${e})${t?.selector||""}`:n===ll?`:where(.${e}${t?.selector||""})`:`:where(${n}.${e}${t?.selector||""})`,i+=`${l} { ${r.join("; ")}; }`}})}),n===ll&&o&&(i+=`${cl} { --wp--style--block-gap: ${s}; }`)),n===ll&&e){const t=["block","flex","grid"];Object.values(e).forEach(({className:e,displayMode:o,baseStyles:r})=>{o&&t.includes(o)&&(i+=`${n} .${e} { display:${o}; }`),r?.length&&r.forEach(t=>{const n=[];if(t.rules&&Object.entries(t.rules).forEach(([e,t])=>{n.push(`${e}: ${t}`)}),n.length){i+=`${`.${e}${t?.selector||""}`} { ${n.join("; ")}; }`}})})}return i}const MC=["border","color","dimensions","spacing","typography","filter","outline","shadow","background"];function LC(e){if(!e)return{};const t=Object.entries(e).filter(([e])=>MC.includes(e)).map(([e,t])=>[e,JSON.parse(JSON.stringify(t))]);return Object.fromEntries(t)}const RC=(e,t)=>{var n;const o=[];if(!e?.settings)return o;const r=e=>{let t={};return gl.forEach(({path:n})=>{const o=tl(e,n,!1);!1!==o&&(t=rl(t,n,o))}),t},l=r(e.settings),i=e.settings?.custom;return(Object.keys(l).length>0||i)&&o.push({presets:l,custom:i,selector:cl}),Object.entries(null!==(n=e.settings?.blocks)&&void 0!==n?n:{}).forEach(([e,n])=>{const l=r(n),i=n.custom;(Object.keys(l).length>0||i)&&o.push({presets:l,custom:i,selector:t[e]?.selector})}),o},AC=(e,t)=>{const n=RC(e,t);let o="";return n.forEach(({presets:t,custom:n,selector:r})=>{const l=function(e={},t){return gl.reduce((n,{path:o,valueKey:r,valueFunc:l,cssVarInfix:i})=>{const s=tl(e,o,[]);return["default","theme","custom"].forEach(e=>{s[e]&&s[e].forEach(e=>{r&&!l?n.push(`--wp--preset--${i}--${NC(e.slug)}: ${e[r]}`):l&&"function"==typeof l&&n.push(`--wp--preset--${i}--${NC(e.slug)}: ${l(e,t)}`)})}),n},[])}(t,e?.settings),i=EC(n,"--wp--custom--","--");i.length>0&&l.push(...i),l.length>0&&(o+=`${r}{${l.join(";")};}`)}),o},OC=(e,t,n,o,r=!1,l=!1,i=void 0)=>{const s={blockGap:!0,blockStyles:!0,layoutStyles:!0,marginReset:!0,presets:!0,rootPadding:!0,variationStyles:!1,...i},a=((e,t)=>{var n;const o=[];if(!e?.styles)return o;const r=LC(e.styles);return r&&o.push({styles:r,selector:ll,skipSelectorWrapper:!0}),Object.entries(pe).forEach(([t,n])=>{e.styles?.elements?.[t]&&o.push({styles:e.styles?.elements?.[t],selector:n,skipSelectorWrapper:!IC[t]})}),Object.entries(null!==(n=e.styles?.blocks)&&void 0!==n?n:{}).forEach(([e,n])=>{var r;const l=LC(n);if(n?.variations){const r={};Object.entries(n.variations).forEach(([n,l])=>{var i,s;r[n]=LC(l),l?.css&&(r[n].css=l.css);const a=t[e]?.styleVariationSelectors?.[n];Object.entries(null!==(i=l?.elements)&&void 0!==i?i:{}).forEach(([e,t])=>{t&&pe[e]&&o.push({styles:t,selector:nl(a,pe[e])})}),Object.entries(null!==(s=l?.blocks)&&void 0!==s?s:{}).forEach(([e,n])=>{var r;const l=nl(a,t[e]?.selector),i=nl(a,t[e]?.duotoneSelector),s=al(a,t[e]?.featureSelectors),c=LC(n);n?.css&&(c.css=n.css),o.push({selector:l,duotoneSelector:i,featureSelectors:s,fallbackGapValue:t[e]?.fallbackGapValue,hasLayoutSupport:t[e]?.hasLayoutSupport,styles:c}),Object.entries(null!==(r=n.elements)&&void 0!==r?r:{}).forEach(([e,t])=>{t&&pe[e]&&o.push({styles:t,selector:nl(l,pe[e])})})})}),l.variations=r}t?.[e]?.selector&&o.push({duotoneSelector:t[e].duotoneSelector,fallbackGapValue:t[e].fallbackGapValue,hasLayoutSupport:t[e].hasLayoutSupport,selector:t[e].selector,styles:l,featureSelectors:t[e].featureSelectors,styleVariationSelectors:t[e].styleVariationSelectors}),Object.entries(null!==(r=n?.elements)&&void 0!==r?r:{}).forEach(([n,r])=>{r&&t?.[e]&&pe[n]&&o.push({styles:r,selector:t[e]?.selector.split(",").map(e=>pe[n].split(",").map(t=>e+" "+t)).join(",")})})}),o})(e,t),c=RC(e,t),u=e?.settings?.useRootPaddingAwareAlignments,{contentSize:d,wideSize:p}=e?.settings?.layout||{},g=s.marginReset||s.rootPadding||s.layoutStyles;let m="";if(s.presets&&(d||p)&&(m+=`${cl} {`,m=d?m+` --wp--style--global--content-size: ${d};`:m,m=p?m+` --wp--style--global--wide-size: ${p};`:m,m+="}"),g&&(m+=":where(body) {margin: 0;",s.rootPadding&&u&&(m+="padding-right: 0; padding-left: 0; padding-top: var(--wp--style--root--padding-top); padding-bottom: var(--wp--style--root--padding-bottom) }\n\t\t\t\t.has-global-padding { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t\t.has-global-padding > .alignfull { margin-right: calc(var(--wp--style--root--padding-right) * -1); margin-left: calc(var(--wp--style--root--padding-left) * -1); }\n\t\t\t\t.has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) { padding-right: 0; padding-left: 0; }\n\t\t\t\t.has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) > .alignfull { margin-left: 0; margin-right: 0;\n\t\t\t\t"),m+="}"),s.blockStyles&&a.forEach(({selector:t,duotoneSelector:i,styles:a,fallbackGapValue:c,hasLayoutSupport:d,featureSelectors:p,styleVariationSelectors:g,skipSelectorWrapper:h})=>{if(p){const e=DC(p,a);Object.entries(e).forEach(([e,t])=>{if(t.length){const n=t.join(";");m+=`:root :where(${e}){${n};}`}})}if(i){const e={};a?.filter&&(e.filter=a.filter,delete a.filter);const t=PC(e);t.length&&(m+=`${i}{${t.join(";")};}`)}r||ll!==t&&!d||(m+=TC({style:a,selector:t,hasBlockGapSupport:n,hasFallbackGapSupport:o,fallbackGapValue:c}));const f=PC(a,t,u,e,l);if(f?.length){m+=`${h?t:`:root :where(${t})`}{${f.join(";")};}`}a?.css&&(m+=VC(a.css,`:root :where(${t})`)),s.variationStyles&&g&&Object.entries(g).forEach(([t,n])=>{const o=a?.variations?.[t];if(o){if(p){const e=DC(p,o);Object.entries(e).forEach(([e,t])=>{if(t.length){const o=function(e,t){const n=e.split(","),o=[];return n.forEach(e=>{o.push(`${t.trim()}${e.trim()}`)}),o.join(", ")}(e,n),r=t.join(";");m+=`:root :where(${o}){${r};}`}})}const t=PC(o,n,u,e);t.length&&(m+=`:root :where(${n}){${t.join(";")};}`),o?.css&&(m+=VC(o.css,`:root :where(${n})`))}});const b=Object.entries(a).filter(([e])=>e.startsWith(":"));b?.length&&b.forEach(([e,n])=>{const o=PC(n);if(!o?.length)return;const r=`:root :where(${t.split(",").map(t=>t+e).join(",")}){${o.join(";")};}`;m+=r})}),s.layoutStyles&&(m+=".wp-site-blocks > .alignleft { float: left; margin-right: 2em; }",m+=".wp-site-blocks > .alignright { float: right; margin-left: 2em; }",m+=".wp-site-blocks > .aligncenter { justify-content: center; margin-left: auto; margin-right: auto; }"),s.blockGap&&n){const t=So(e?.styles?.spacing?.blockGap)||"0.5em";m+=`:root :where(.wp-site-blocks) > * { margin-block-start: ${t}; margin-block-end: 0; }`,m+=":root :where(.wp-site-blocks) > :first-child { margin-block-start: 0; }",m+=":root :where(.wp-site-blocks) > :last-child { margin-block-end: 0; }"}return s.presets&&c.forEach(({selector:e,presets:t})=>{ll!==e&&cl!==e||(e="");const n=function(e="*",t={}){return gl.reduce((n,{path:o,cssVarInfix:r,classes:l})=>{if(!l)return n;const i=tl(t,o,[]);return["default","theme","custom"].forEach(t=>{i[t]&&i[t].forEach(({slug:t})=>{l.forEach(({classSuffix:o,propertyName:l})=>{const i=`.has-${NC(t)}-${o}`,s=e.split(",").map(e=>`${e}${i}`).join(","),a=`var(--wp--preset--${r}--${NC(t)})`;n+=`${s}{${l}: ${a} !important;}`})})}),n},"")}(e,t);n.length>0&&(m+=n)}),m};function zC(e,t){return RC(e,t).flatMap(({presets:e})=>function(e={}){return gl.filter(e=>"duotone"===e.path.at(-1)).flatMap(t=>{const n=tl(e,t.path,{});return["default","theme"].filter(e=>n[e]).flatMap(e=>n[e].map(e=>ml(`wp-duotone-${e.slug}`,e.colors))).join("")})}(e))}const FC=(e,t,n)=>{const o={};return e.forEach(e=>{const r=e.name,l=dC(e);let i=dC(e,"filter.duotone");if(!i){const t=dC(e),n=O(e,"color.__experimentalDuotone",!1);i=n&&nl(t,n)}const s=!!e?.supports?.layout||!!e?.supports?.__experimentalLayout,a=e?.supports?.spacing?.blockGap?.__experimentalDefault,c=t(r),u={};c?.forEach(e=>{const t=n?`-${n}`:"",o=`${e.name}${t}`,r=il(o,l);u[o]=r});const d=((e,t)=>{if(e?.selectors&&Object.keys(e.selectors).length>0)return e.selectors;const n={root:t};return Object.entries(BC).forEach(([t,o])=>{const r=dC(e,t);r&&(n[o]=r)}),n})(e,l);o[r]={duotoneSelector:i,fallbackGapValue:a,featureSelectors:Object.keys(d).length?d:void 0,hasLayoutSupport:s,name:r,selector:l,styleVariationSelectors:c?.length?u:void 0}}),o};function VC(e,t){let n="";if(!e||""===e.trim())return n;return e.split("&").forEach(e=>{if(!e||""===e.trim())return;if(!e.includes("{"))n+=`:root :where(${t}){${e.trim()}}`;else{const o=e.replace("}","").split("{");if(2!==o.length)return;const[r,l]=o,i=r.match(/([>+~\s]*::[a-zA-Z-]+)/),s=i?i[1]:"",a=i?r.replace(s,"").trim():r.trim();let c;c=""===a?t:r.startsWith(" ")?nl(t,a):pl(t,a),n+=`:root :where(${c})${s}{${l.trim()}}`}}),n}function $C(e={},t){const[o]=sl("spacing.blockGap"),r=null!==o,l=!r,i=od(e=>{const{getSettings:t}=e(y);return!!t().disableLayoutStyles}),{getBlockStyles:s}=od(z);return n.useMemo(()=>{var n;if(!e?.styles||!e?.settings)return[];const o=(a=e,a.styles?.blocks?.["core/separator"]&&a.styles?.blocks?.["core/separator"].color?.background&&!a.styles?.blocks?.["core/separator"].color?.text&&!a.styles?.blocks?.["core/separator"].border?.color?{...a,styles:{...a.styles,blocks:{...a.styles.blocks,"core/separator":{...a.styles.blocks["core/separator"],color:{...a.styles.blocks["core/separator"].color,text:a.styles?.blocks["core/separator"].color.background}}}}}:a);var a;const c=FC(de(),s),u=AC(o,c),d=OC(o,c,r,l,i,t),p=zC(o,c),g=[{css:u,isGlobalStyles:!0},{css:d,isGlobalStyles:!0},{css:null!==(n=o.styles.css)&&void 0!==n?n:"",isGlobalStyles:!0},{assets:p,__unstableType:"svg",isGlobalStyles:!0}];return de().forEach(e=>{if(o.styles.blocks[e.name]?.css){const t=c[e.name].selector;g.push({css:VC(o.styles.blocks[e.name]?.css,t),isGlobalStyles:!0})}}),[g,o.settings]},[r,l,e,i,t,s])}const HC=[{label:ao("Align text left"),value:"left",icon:ye},{label:ao("Align text center"),value:"center",icon:_e},{label:ao("Align text right"),value:"right",icon:Ce},{label:ao("Justify text"),value:"justify",icon:ro}],UC=["left","center","right"];function GC({className:e,value:t,onChange:r,options:l=UC}){const i=n.useMemo(()=>HC.filter(e=>l.includes(e.value)),[l]);return i.length?o.jsx(Ui,{isDeselectable:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:ao("Text alignment"),className:ei("block-editor-text-alignment-control",e),value:t,onChange:e=>{r(e===t?void 0:e)},children:i.map(e=>o.jsx(Gi,{value:e.value,icon:e.icon,label:e.label},e.value))}):null}function WC(e){const t=qC(e),n=ZC(e),o=YC(e),r=XC(e),l=QC(e),i=JC(e),s=ej(e),a=tj(e),c=nj(e),u=KC(e);return t||n||o||r||l||i||u||s||a||c}function KC(e){return!1!==e?.typography?.defaultFontSizes&&e?.typography?.fontSizes?.default?.length||e?.typography?.fontSizes?.theme?.length||e?.typography?.fontSizes?.custom?.length||e?.typography?.customFontSize}function qC(e){return["default","theme","custom"].some(t=>e?.typography?.fontFamilies?.[t]?.length)}function ZC(e){return e?.typography?.lineHeight}function YC(e){return e?.typography?.fontStyle||e?.typography?.fontWeight}function XC(e){return e?.typography?.letterSpacing}function JC(e){return e?.typography?.textTransform}function QC(e){return e?.typography?.textAlign}function ej(e){return e?.typography?.textDecoration}function tj(e){return e?.typography?.writingMode}function nj(e){return e?.typography?.textColumns}function oj({resetAllFilter:e,onChange:t,value:n,panelId:r,children:l}){const i=er();return o.jsx(Ts,{label:ao("Typography"),resetAll:()=>{const o=e(n);t(o)},panelId:r,dropdownMenuProps:i,children:l})}const rj={fontFamily:!0,fontSize:!0,fontAppearance:!0,lineHeight:!0,letterSpacing:!0,textAlign:!0,textTransform:!0,textDecoration:!0,writingMode:!0,textColumns:!0};function lj({as:e=oj,value:t,onChange:r,inheritedValue:l=t,settings:i,panelId:s,defaultControls:a=rj}){const c=e=>hl({settings:i},"",e),u=qC(i),d=c(l?.typography?.fontFamily),{fontFamilies:p,fontFamilyFaces:g}=n.useMemo(()=>fl(i,d),[i,d]),m=e=>{const n=p?.find(({fontFamily:t})=>t===e)?.slug;r(rl(t,["typography","fontFamily"],n?`var:preset|font-family|${n}`:e||void 0))},h=KC(i),f=!i?.typography?.customFontSize,b=function(e){var t,n,o;const r=e?.typography?.fontSizes,l=!!e?.typography?.defaultFontSizes;return[...null!==(t=r?.custom)&&void 0!==t?t:[],...null!==(n=r?.theme)&&void 0!==n?n:[],...l&&null!==(o=r?.default)&&void 0!==o?o:[]]}(i),k=c(l?.typography?.fontSize),v=(e,n)=>{r(rl(t,["typography","fontSize"],(n?.slug?`var:preset|font-size|${n?.slug}`:e)||void 0))},x=YC(i),y=function(e){return ao(e?.typography?.fontStyle?e?.typography?.fontWeight?"Appearance":"Font style":"Font weight")}(i),_=i?.typography?.fontStyle,C=i?.typography?.fontWeight,j=c(l?.typography?.fontStyle),S=c(l?.typography?.fontWeight),{nearestFontStyle:w,nearestFontWeight:I}=bl(g,j,S),B=n.useCallback(({fontStyle:e,fontWeight:n})=>{e===j&&n===S||r({...t,typography:{...t?.typography,fontStyle:e||void 0,fontWeight:n||void 0}})},[j,S,r,t]),N=n.useCallback(()=>{B({})},[B]);n.useEffect(()=>{w&&I?B({fontStyle:w,fontWeight:I}):N()},[w,I,N,B]);const E=ZC(i),D=c(l?.typography?.lineHeight),P=e=>{r(rl(t,["typography","lineHeight"],e||void 0))},T=XC(i),M=c(l?.typography?.letterSpacing),L=e=>{r(rl(t,["typography","letterSpacing"],e||void 0))},R=nj(i),A=c(l?.typography?.textColumns),O=e=>{r(rl(t,["typography","textColumns"],e||void 0))},z=JC(i),F=c(l?.typography?.textTransform),V=e=>{r(rl(t,["typography","textTransform"],e||void 0))},$=ej(i),H=c(l?.typography?.textDecoration),U=e=>{r(rl(t,["typography","textDecoration"],e||void 0))},G=tj(i),W=c(l?.typography?.writingMode),K=e=>{r(rl(t,["typography","writingMode"],e||void 0))},q=QC(i),Z=c(l?.typography?.textAlign),Y=e=>{r(rl(t,["typography","textAlign"],e||void 0))},X=n.useCallback(e=>({...e,typography:{}}),[]);return o.jsxs(e,{resetAllFilter:X,value:t,onChange:r,panelId:s,children:[u&&o.jsx(na,{label:ao("Font"),hasValue:()=>!!t?.typography?.fontFamily,onDeselect:()=>m(void 0),isShownByDefault:a.fontFamily,panelId:s,children:o.jsx(Lx,{fontFamilies:p,value:d,onChange:m,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),h&&o.jsx(na,{label:ao("Size"),hasValue:()=>!!t?.typography?.fontSize,onDeselect:()=>v(void 0),isShownByDefault:a.fontSize,panelId:s,children:o.jsx(Ri,{value:k,onChange:v,fontSizes:b,disableCustomFontSizes:f,withReset:!1,withSlider:!0,size:"__unstable-large"})}),x&&o.jsx(na,{className:"single-column",label:y,hasValue:()=>!!t?.typography?.fontStyle||!!t?.typography?.fontWeight,onDeselect:N,isShownByDefault:a.fontAppearance,panelId:s,children:o.jsx(Mx,{value:{fontStyle:j,fontWeight:S},onChange:B,hasFontStyles:_,hasFontWeights:C,fontFamilyFaces:g,size:"__unstable-large"})}),E&&o.jsx(na,{className:"single-column",label:ao("Line height"),hasValue:()=>void 0!==t?.typography?.lineHeight,onDeselect:()=>P(void 0),isShownByDefault:a.lineHeight,panelId:s,children:o.jsx(Qy,{__unstableInputWidth:"auto",value:D,onChange:P,size:"__unstable-large"})}),T&&o.jsx(na,{className:"single-column",label:ao("Letter spacing"),hasValue:()=>!!t?.typography?.letterSpacing,onDeselect:()=>L(void 0),isShownByDefault:a.letterSpacing,panelId:s,children:o.jsx(Rx,{value:M,onChange:L,size:"__unstable-large",__unstableInputWidth:"auto"})}),R&&o.jsx(na,{className:"single-column",label:ao("Columns"),hasValue:()=>!!t?.typography?.textColumns,onDeselect:()=>O(void 0),isShownByDefault:a.textColumns,panelId:s,children:o.jsx(Qi,{label:ao("Columns"),max:6,min:1,onChange:O,size:"__unstable-large",spinControls:"custom",value:A,initialPosition:1})}),$&&o.jsx(na,{className:"single-column",label:ao("Decoration"),hasValue:()=>!!t?.typography?.textDecoration,onDeselect:()=>U(void 0),isShownByDefault:a.textDecoration,panelId:s,children:o.jsx(Ox,{value:H,onChange:U,size:"__unstable-large",__unstableInputWidth:"auto"})}),G&&o.jsx(na,{className:"single-column",label:ao("Orientation"),hasValue:()=>!!t?.typography?.writingMode,onDeselect:()=>K(void 0),isShownByDefault:a.writingMode,panelId:s,children:o.jsx($x,{value:W,onChange:K,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),z&&o.jsx(na,{label:ao("Letter case"),hasValue:()=>!!t?.typography?.textTransform,onDeselect:()=>V(void 0),isShownByDefault:a.textTransform,panelId:s,children:o.jsx(Fx,{value:F,onChange:V,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),q&&o.jsx(na,{label:ao("Text alignment"),hasValue:()=>!!t?.typography?.textAlign,onDeselect:()=>Y(void 0),isShownByDefault:a.textAlign,panelId:s,children:o.jsx(GC,{value:Z,onChange:Y,size:"__unstable-large",__nextHasNoMarginBottom:!0})})]})}function ij(e,t){const{getBlockOrder:n,getBlockAttributes:o}=od(y);return(r,l)=>{const i=(l-1)*t+r-1;let s=0;for(const c of n(e)){var a;const{columnStart:e,rowStart:n}=null!==(a=o(c).style?.layout)&&void 0!==a?a:{};(n-1)*t+e-1<i&&s++}return s}}function sj(e,t){const{orientation:n="horizontal"}=t;return ao("fill"===e?"Stretch to fill available space.":"fixed"===e&&"horizontal"===n?"Specify a fixed width.":"fixed"===e?"Specify a fixed height.":"Fit contents.")}function aj({value:e={},onChange:t,parentLayout:n,isShownByDefault:r,panelId:l}){const{type:i,default:{type:s="default"}={}}=null!=n?n:{},a=i||s;return"flex"===a?o.jsx(cj,{childLayout:e,onChange:t,parentLayout:n,isShownByDefault:r,panelId:l}):"grid"===a?o.jsx(dj,{childLayout:e,onChange:t,parentLayout:n,isShownByDefault:r,panelId:l}):null}function cj({childLayout:e,onChange:t,parentLayout:r,isShownByDefault:l,panelId:i}){const{selfStretch:s,flexSize:a}=e,{orientation:c="horizontal"}=null!=r?r:{},u=ao("horizontal"===c?"Width":"Height");return n.useEffect(()=>{"fixed"!==s||a||t({...e,selfStretch:"fit"})},[]),o.jsxs(qi,{as:na,spacing:2,hasValue:()=>!!s,label:u,onDeselect:()=>{t({selfStretch:void 0,flexSize:void 0})},isShownByDefault:l,panelId:i,children:[o.jsxs(Ui,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:uj(r),value:s||"fit",help:sj(s,r),onChange:e=>{t({selfStretch:e,flexSize:"fixed"!==e?null:a})},isBlock:!0,children:[o.jsx(Xi,{value:"fit",label:uo("Fit","Intrinsic block width in flex layout")},"fit"),o.jsx(Xi,{value:"fill",label:uo("Grow","Block with expanding width in flex layout")},"fill"),o.jsx(Xi,{value:"fixed",label:uo("Fixed","Block with fixed width in flex layout")},"fixed")]}),"fixed"===s&&o.jsx(Zi,{size:"__unstable-large",onChange:e=>{t({selfStretch:s,flexSize:e})},value:a,label:u,hideLabelFromVision:!0})]})}function uj(e){const{orientation:t="horizontal"}=e;return ao("horizontal"===t?"Width":"Height")}function dj({childLayout:e,onChange:t,parentLayout:n,isShownByDefault:r,panelId:l}){const{columnStart:i,rowStart:s,columnSpan:a,rowSpan:c}=e,{columnCount:u=3,rowCount:d}=null!=n?n:{},p=od(e=>e(y).getBlockRootClientId(l)),{moveBlocksToPosition:g,__unstableMarkNextChangeAsNotPersistent:m}=ld(y),h=ij(p,u);return o.jsxs(o.Fragment,{children:[o.jsxs(hs,{as:na,hasValue:()=>!!a||!!c,label:ao("Grid span"),onDeselect:()=>{t({columnSpan:void 0,rowSpan:void 0})},isShownByDefault:r,panelId:l,children:[o.jsx(aa,{size:"__unstable-large",label:ao("Column span"),type:"number",onChange:e=>{const n=""===e?1:parseInt(e,10);t({columnStart:i,rowStart:s,rowSpan:c,columnSpan:n})},value:null!=a?a:1,min:1}),o.jsx(aa,{size:"__unstable-large",label:ao("Row span"),type:"number",onChange:e=>{const n=""===e?1:parseInt(e,10);t({columnStart:i,rowStart:s,columnSpan:a,rowSpan:n})},value:null!=c?c:1,min:1})]}),window.__experimentalEnableGridInteractivity&&u&&o.jsxs($i,{as:na,hasValue:()=>!!i||!!s,label:ao("Grid placement"),onDeselect:()=>{t({columnStart:void 0,rowStart:void 0})},isShownByDefault:!1,panelId:l,children:[o.jsx(Hi,{style:{width:"50%"},children:o.jsx(aa,{size:"__unstable-large",label:ao("Column"),type:"number",onChange:e=>{const n=""===e?1:parseInt(e,10);t({columnStart:n,rowStart:s,columnSpan:a,rowSpan:c}),m(),g([l],p,p,h(n,s))},value:null!=i?i:1,min:1,max:u?u-(null!=a?a:1)+1:void 0})}),o.jsx(Hi,{style:{width:"50%"},children:o.jsx(aa,{size:"__unstable-large",label:ao("Row"),type:"number",onChange:e=>{const n=""===e?1:parseInt(e,10);t({columnStart:i,rowStart:n,columnSpan:a,rowSpan:c}),m(),g([l],p,p,h(i,n))},value:null!=s?s:1,min:1,max:d?d-(null!=c?c:1)+1:void 0})})]})]})}function pj({panelId:e,value:t,onChange:n=()=>{},options:r,defaultValue:l="auto",hasValue:i,isShownByDefault:s=!0}){const a=null!=t?t:"auto",[c,u,d]=Ad("dimensions.aspectRatios.default","dimensions.aspectRatios.theme","dimensions.defaultAspectRatios"),p=u?.map(({name:e,ratio:t})=>({label:e,value:t})),g=c?.map(({name:e,ratio:t})=>({label:e,value:t})),m=[{label:uo("Original","Aspect ratio option for dimensions control"),value:"auto"},...d?g:[],...p||[],{label:uo("Custom","Aspect ratio option for dimensions control"),value:"custom",disabled:!0,hidden:!0}];return o.jsx(na,{hasValue:i||(()=>a!==l),label:ao("Aspect ratio"),onDeselect:()=>n(void 0),isShownByDefault:s,panelId:e,children:o.jsx(ea,{label:ao("Aspect ratio"),value:a,options:null!=r?r:m,onChange:n,size:"__unstable-large",__nextHasNoMarginBottom:!0})})}const gj=["horizontal","vertical"];function mj(e){const t=hj(e),n=fj(e),o=bj(e),r=kj(e),l=vj(e),i=xj(e),s=yj(e),a=_j(e);return t||n||o||r||l||i||s||a}function hj(e){return e?.layout?.contentSize}function fj(e){return e?.layout?.wideSize}function bj(e){return e?.spacing?.padding}function kj(e){return e?.spacing?.margin}function vj(e){return e?.spacing?.blockGap}function xj(e){return e?.dimensions?.minHeight}function yj(e){return e?.dimensions?.aspectRatio}function _j(e){var t;const{type:n="default",default:{type:o="default"}={},allowSizingOnChildren:r=!1}=null!==(t=e?.parentLayout)&&void 0!==t?t:{},l=("flex"===o||"flex"===n||"grid"===o||"grid"===n)&&r;return!!e?.layout&&l}function Cj(e,t){if(!t||!e)return e;const n={};return t.forEach(t=>{"vertical"===t&&(n.top=e.top,n.bottom=e.bottom),"horizontal"===t&&(n.left=e.left,n.right=e.right),n[t]=e?.[t]}),n}function jj(e){return e&&"string"==typeof e?{top:e,right:e,bottom:e,left:e}:e}function Sj({resetAllFilter:e,onChange:t,value:n,panelId:r,children:l}){const i=er();return o.jsx(Ts,{label:ao("Dimensions"),resetAll:()=>{const o=e(n);t(o)},panelId:r,dropdownMenuProps:i,children:l})}const wj={contentSize:!0,wideSize:!0,padding:!0,margin:!0,blockGap:!0,minHeight:!0,aspectRatio:!0,childLayout:!0};function Ij({as:e=Sj,value:t,onChange:r,inheritedValue:l=t,settings:i,panelId:s,defaultControls:a=wj,onVisualize:c=()=>{},includeLayoutControls:u=!1}){var d,p,g,m,h,f,b,k;const{dimensions:v,spacing:x}=i,y=e=>e&&"object"==typeof e?Object.keys(e).reduce((t,n)=>(t[n]=hl({settings:{dimensions:v,spacing:x}},"",e[n]),t),{}):hl({settings:{dimensions:v,spacing:x}},"",e),_=function(e){const{defaultSpacingSizes:t,spacingSizes:n}=e?.spacing||{};return!1!==t&&n?.default?.length>0||n?.theme?.length>0||n?.custom?.length>0}(i),C=Ki({availableUnits:i?.spacing?.units||["%","px","em","rem","vw"]}),j=-1/0,[S,w]=n.useState(j),I=hj(i)&&u,B=y(l?.layout?.contentSize),N=e=>{r(rl(t,["layout","contentSize"],e||void 0))},E=fj(i)&&u,D=y(l?.layout?.wideSize),P=e=>{r(rl(t,["layout","wideSize"],e||void 0))},T=bj(i),M=jj(y(l?.spacing?.padding)),L=Array.isArray(i?.spacing?.padding)?i?.spacing?.padding:i?.spacing?.padding?.sides,R=L&&L.some(e=>gj.includes(e)),A=e=>{const n=Cj(e,L);r(rl(t,["spacing","padding"],n))},O=()=>c("padding"),z=kj(i),F=jj(y(l?.spacing?.margin)),V=Array.isArray(i?.spacing?.margin)?i?.spacing?.margin:i?.spacing?.margin?.sides,$=V&&V.some(e=>gj.includes(e)),H=e=>{const n=Cj(e,V);r(rl(t,["spacing","margin"],n))},U=()=>c("margin"),G=vj(i),W=y(l?.spacing?.blockGap),K=function(e){return e&&"string"==typeof e?{top:e}:e?{...e,right:e?.left,bottom:e?.top}:e}(W),q=Array.isArray(i?.spacing?.blockGap)?i?.spacing?.blockGap:i?.spacing?.blockGap?.sides,Z=q&&q.some(e=>gj.includes(e)),Y=e=>{r(rl(t,["spacing","blockGap"],e))},X=e=>{e||Y(null),!Z&&e?.hasOwnProperty("top")?Y(e.top):Y({top:e?.top,left:e?.left})},J=xj(i),Q=y(l?.dimensions?.minHeight),ee=e=>{const n=rl(t,["dimensions","minHeight"],e);r(rl(n,["dimensions","aspectRatio"],void 0))},te=yj(i),ne=y(l?.dimensions?.aspectRatio),oe=_j(i),re=l?.layout,le=n.useCallback(e=>({...e,layout:tr({...e?.layout,contentSize:void 0,wideSize:void 0,selfStretch:void 0,flexSize:void 0,columnStart:void 0,rowStart:void 0,columnSpan:void 0,rowSpan:void 0}),spacing:{...e?.spacing,padding:void 0,margin:void 0,blockGap:void 0},dimensions:{...e?.dimensions,minHeight:void 0,aspectRatio:void 0}}),[]),ie=()=>c(!1),se={min:S,onDragStart:()=>{w(0)},onDragEnd:()=>{w(j)}};return o.jsxs(e,{resetAllFilter:le,value:t,onChange:r,panelId:s,children:[(I||E)&&o.jsx("span",{className:"span-columns",children:ao("Set the width of the main content area.")}),I&&o.jsx(na,{label:ao("Content width"),hasValue:()=>!!t?.layout?.contentSize,onDeselect:()=>N(void 0),isShownByDefault:null!==(d=a.contentSize)&&void 0!==d?d:wj.contentSize,panelId:s,children:o.jsx(Zi,{__next40pxDefaultSize:!0,label:ao("Content width"),labelPosition:"top",value:B||"",onChange:e=>{N(e)},units:C,prefix:o.jsx(Yi,{variant:"icon",children:o.jsx(we,{icon:Oe})})})}),E&&o.jsx(na,{label:ao("Wide width"),hasValue:()=>!!t?.layout?.wideSize,onDeselect:()=>P(void 0),isShownByDefault:null!==(p=a.wideSize)&&void 0!==p?p:wj.wideSize,panelId:s,children:o.jsx(Zi,{__next40pxDefaultSize:!0,label:ao("Wide width"),labelPosition:"top",value:D||"",onChange:e=>{P(e)},units:C,prefix:o.jsx(Yi,{variant:"icon",children:o.jsx(we,{icon:ze})})})}),T&&o.jsxs(na,{hasValue:()=>!!t?.spacing?.padding&&Object.keys(t?.spacing?.padding).length,label:ao("Padding"),onDeselect:()=>A(void 0),isShownByDefault:null!==(g=a.padding)&&void 0!==g?g:wj.padding,className:ei({"tools-panel-item-spacing":_}),panelId:s,children:[!_&&o.jsx(ma,{__next40pxDefaultSize:!0,values:M,onChange:A,label:ao("Padding"),sides:L,units:C,allowReset:!1,splitOnAxis:R,onMouseOver:O,onMouseOut:ie}),_&&o.jsx(oC,{values:M,onChange:A,label:ao("Padding"),sides:L,units:C,allowReset:!1,onMouseOver:O,onMouseOut:ie})]}),z&&o.jsxs(na,{hasValue:()=>!!t?.spacing?.margin&&Object.keys(t?.spacing?.margin).length,label:ao("Margin"),onDeselect:()=>H(void 0),isShownByDefault:null!==(m=a.margin)&&void 0!==m?m:wj.margin,className:ei({"tools-panel-item-spacing":_}),panelId:s,children:[!_&&o.jsx(ma,{__next40pxDefaultSize:!0,values:F,onChange:H,inputProps:se,label:ao("Margin"),sides:V,units:C,allowReset:!1,splitOnAxis:$,onMouseOver:U,onMouseOut:ie}),_&&o.jsx(oC,{values:F,onChange:H,minimumCustomValue:-1/0,label:ao("Margin"),sides:V,units:C,allowReset:!1,onMouseOver:U,onMouseOut:ie})]}),G&&o.jsxs(na,{hasValue:()=>!!t?.spacing?.blockGap,label:ao("Block spacing"),onDeselect:()=>Y(void 0),isShownByDefault:null!==(h=a.blockGap)&&void 0!==h?h:wj.blockGap,className:ei({"tools-panel-item-spacing":_,"single-column":!_&&!Z}),panelId:s,children:[!_&&(Z?o.jsx(ma,{__next40pxDefaultSize:!0,label:ao("Block spacing"),min:0,onChange:X,units:C,sides:q,values:K,allowReset:!1,splitOnAxis:Z}):o.jsx(Zi,{__next40pxDefaultSize:!0,label:ao("Block spacing"),min:0,onChange:Y,units:C,value:W})),_&&o.jsx(oC,{label:ao("Block spacing"),min:0,onChange:X,showSideInLabel:!1,sides:Z?q:["top"],values:K,allowReset:!1})]}),oe&&o.jsx(aj,{value:re,onChange:e=>{r({...t,layout:{...e}})},parentLayout:i?.parentLayout,panelId:s,isShownByDefault:null!==(f=a.childLayout)&&void 0!==f?f:wj.childLayout}),J&&o.jsx(na,{hasValue:()=>!!t?.dimensions?.minHeight,label:ao("Minimum height"),onDeselect:()=>{ee(void 0)},isShownByDefault:null!==(b=a.minHeight)&&void 0!==b?b:wj.minHeight,panelId:s,children:o.jsx(Qx,{label:ao("Minimum height"),value:Q,onChange:ee})}),te&&o.jsx(pj,{hasValue:()=>!!t?.dimensions?.aspectRatio,value:ne,onChange:e=>{const n=rl(t,["dimensions","aspectRatio"],e);r(rl(n,["dimensions","minHeight"],void 0))},panelId:s,isShownByDefault:null!==(k=a.aspectRatio)&&void 0!==k?k:wj.aspectRatio})]})}const Bj=[];function Nj({shadow:e,onShadowChange:t,settings:n}){const r=Mj(n);return o.jsx("div",{className:"block-editor-global-styles__shadow-popover-container",children:o.jsxs(qi,{spacing:4,children:[o.jsx(ks,{level:5,children:ao("Drop shadow")}),o.jsx(Ej,{presets:r,activeShadow:e,onSelect:t}),o.jsx("div",{className:"block-editor-global-styles__clear-shadow",children:o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:()=>t(void 0),children:ao("Clear")})})]})})}function Ej({presets:e,activeShadow:t,onSelect:n}){return e?o.jsx(ds,{role:"listbox",className:"block-editor-global-styles__shadow__list","aria-label":ao("Drop shadows"),children:e.map(({name:e,slug:r,shadow:l})=>o.jsx(Dj,{label:e,isActive:l===t,type:"unset"===r?"unset":"preset",onSelect:()=>n(l===t?void 0:l),shadow:l},r))}):null}function Dj({type:e,label:t,isActive:n,onSelect:r,shadow:l}){return o.jsx(bs,{text:t,children:o.jsx(ds.Item,{role:"option","aria-label":t,"aria-selected":n,className:ei("block-editor-global-styles__shadow__item",{"is-active":n}),render:o.jsx("button",{className:ei("block-editor-global-styles__shadow-indicator",{unset:"unset"===e}),onClick:r,style:{boxShadow:l},"aria-label":t,children:n&&o.jsx(we,{icon:Et})})})})}function Pj({shadow:e,onShadowChange:t,settings:n}){return o.jsx(rs,{popoverProps:{placement:"left-start",offset:36,shift:!0},className:"block-editor-global-styles__shadow-dropdown",renderToggle:Tj(),renderContent:()=>o.jsx(ta,{paddingSize:"medium",children:o.jsx(Nj,{shadow:e,onShadowChange:t,settings:n})})})}function Tj(){return({onToggle:e,isOpen:t})=>{const n={onClick:e,className:ei({"is-open":t}),"aria-expanded":t};return o.jsx(Mi,{__next40pxDefaultSize:!0,...n,children:o.jsxs(hs,{justify:"flex-start",children:[o.jsx(we,{className:"block-editor-global-styles__toggle-icon",icon:lo,size:24}),o.jsx(Hi,{children:ao("Drop shadow")})]})})}}function Mj(e){return n.useMemo(()=>{var t;if(!e?.shadow)return Bj;const n=e?.shadow?.defaultPresets,{default:o,theme:r,custom:l}=null!==(t=e?.shadow?.presets)&&void 0!==t?t:{},i={name:ao("Unset"),slug:"unset",shadow:"none"},s=[...n&&o||Bj,...r||Bj,...l||Bj];return s.length&&s.unshift(i),s},[e])}function Lj(e){return Object.values(Rj(e)).some(Boolean)}function Rj(e){return{hasBorderColor:Aj(e),hasBorderRadius:Oj(e),hasBorderStyle:zj(e),hasBorderWidth:Fj(e),hasShadow:Vj(e)}}function Aj(e){return e?.border?.color}function Oj(e){return e?.border?.radius}function zj(e){return e?.border?.style}function Fj(e){return e?.border?.width}function Vj(e){const t=Mj(e);return!!e?.shadow&&t.length>0}function $j({resetAllFilter:e,onChange:t,value:n,panelId:r,children:l,label:i}){const s=er();return o.jsx(Ts,{label:i,resetAll:()=>{const o=e(n);t(o)},panelId:r,dropdownMenuProps:s,children:l})}const Hj={radius:!0,color:!0,width:!0,shadow:!0};function Uj({as:e=$j,value:t,onChange:r,inheritedValue:l=t,settings:i,panelId:s,name:a,defaultControls:c=Hj}){var u,d,p,g;const m=kl(i),h=n.useCallback(e=>hl({settings:i},"",e),[i]),f=e=>{const t=m.flatMap(({colors:e})=>e).find(({color:t})=>t===e);return t?"var:preset|color|"+t.slug:e},b=n.useMemo(()=>{if(ha(l?.border)){const e={...l?.border};return["top","right","bottom","left"].forEach(t=>{e[t]={...e[t],color:h(e[t]?.color)}}),e}return{...l?.border,color:l?.border?.color?h(l?.border?.color):void 0}},[l?.border,h]),k=e=>r({...t,border:e}),v=Aj(i),x=zj(i),y=Fj(i),_=Oj(i),C=h(b?.radius),j=e=>k({...b,radius:e}),S=()=>{const e=t?.border?.radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},w=Vj(i),I=h(l?.shadow),B=null!==(u=i?.shadow?.presets)&&void 0!==u?u:{},N=null!==(d=null!==(p=null!==(g=B.custom)&&void 0!==g?g:B.theme)&&void 0!==p?p:B.default)&&void 0!==d?d:[],E=e=>{const n=N?.find(({shadow:t})=>t===e)?.slug;r(rl(t,["shadow"],n?`var:preset|shadow|${n}`:e||void 0))},D=n.useCallback(e=>({...e,border:void 0,shadow:void 0}),[]),P=c?.color||c?.width,T=v||x||y||_,M=vl({blockName:a,hasShadowControl:w,hasBorderControl:T});return o.jsxs(e,{resetAllFilter:D,value:t,onChange:r,panelId:s,label:M,children:[(y||v)&&o.jsx(na,{hasValue:()=>fa(t?.border),label:ao("Border"),onDeselect:()=>(()=>{if(S())return k({radius:t?.border?.radius});k(void 0)})(),isShownByDefault:P,panelId:s,children:o.jsx(ba,{colors:m,enableAlpha:!0,enableStyle:x,onChange:e=>{const t={...e};ha(t)?["top","right","bottom","left"].forEach(e=>{t[e]&&(t[e]={...t[e],color:f(t[e]?.color)})}):t&&(t.color=f(t.color)),k({radius:b?.radius,...t})},popoverOffset:40,popoverPlacement:"left-start",value:b,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large",hideLabelFromVision:!w,label:ao("Border")})}),_&&o.jsx(na,{hasValue:S,label:ao("Radius"),onDeselect:()=>j(void 0),isShownByDefault:c.radius,panelId:s,children:o.jsx(xx,{values:C,onChange:e=>{j(e||void 0)}})}),w&&o.jsxs(na,{label:ao("Shadow"),hasValue:()=>!!t?.shadow,onDeselect:()=>E(void 0),isShownByDefault:c.shadow,panelId:s,children:[T?o.jsx(Ji.VisualLabel,{as:"legend",children:ao("Shadow")}):null,o.jsx(xs,{isBordered:!0,isSeparated:!0,children:o.jsx(Pj,{shadow:I,onShadowChange:E,settings:i})})]})]})}function Gj(e){const t=Wj(e),n=Xj(e),o=Kj(e),r=Zj(e),l=Yj(e),i=qj(e);return t||n||o||r||l||i}function Wj(e){const t=kl(e);return e?.color?.text&&(t?.length>0||e?.color?.custom)}function Kj(e){const t=kl(e);return e?.color?.link&&(t?.length>0||e?.color?.custom)}function qj(e){const t=kl(e);return e?.color?.caption&&(t?.length>0||e?.color?.custom)}function Zj(e){const t=kl(e),n=xl(e);return e?.color?.heading&&(t?.length>0||e?.color?.custom||n?.length>0||e?.color?.customGradient)}function Yj(e){const t=kl(e),n=xl(e);return e?.color?.button&&(t?.length>0||e?.color?.custom||n?.length>0||e?.color?.customGradient)}function Xj(e){const t=kl(e),n=xl(e);return e?.color?.background&&(t?.length>0||e?.color?.custom||n?.length>0||e?.color?.customGradient)}function Jj({resetAllFilter:e,onChange:t,value:n,panelId:r,children:l}){const i=er();return o.jsx(Ts,{label:ao("Elements"),resetAll:()=>{const o=e(n);t(o)},panelId:r,hasInnerWrapper:!0,headingLevel:3,className:"color-block-support-panel",__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",dropdownMenuProps:i,children:o.jsx("div",{className:"color-block-support-panel__inner-wrapper",children:l})})}const Qj={text:!0,background:!0,link:!0,heading:!0,button:!0,caption:!0},eS={placement:"left-start",offset:36,shift:!0},{Tabs:tS}=Id(Li),nS=({indicators:e,label:t})=>o.jsxs(hs,{justify:"flex-start",children:[o.jsx(ka,{isLayered:!1,offset:-8,children:e.map((e,t)=>o.jsx($i,{expanded:!1,children:o.jsx(Js,{colorValue:e})},t))}),o.jsx(Hi,{className:"block-editor-panel-color-gradient-settings__color-name",title:t,children:t})]});function oS({isGradient:e,inheritedValue:t,userValue:n,setValue:r,colorGradientControlSettings:l}){return o.jsx(Nx,{...l,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:t,gradientValue:e?t:void 0,onColorChange:e?void 0:r,onGradientChange:e?r:void 0,clearable:t===n,headingLevel:3})}function rS({label:e,hasValue:t,resetValue:n,isShownByDefault:r,indicators:l,tabs:i,colorGradientControlSettings:s,panelId:a}){var c;const u=i.find(e=>void 0!==e.userValue),{key:d,...p}=null!==(c=i[0])&&void 0!==c?c:{};return o.jsx(na,{className:"block-editor-tools-panel-color-gradient-settings__item",hasValue:t,label:e,onDeselect:n,isShownByDefault:r,panelId:a,children:o.jsx(rs,{popoverProps:eS,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:t,isOpen:n})=>{const r={onClick:t,className:ei("block-editor-panel-color-gradient-settings__dropdown",{"is-open":n}),"aria-expanded":n,"aria-label":po(ao("Color %s styles"),e)};return o.jsx(Mi,{__next40pxDefaultSize:!0,...r,children:o.jsx(nS,{indicators:l,label:e})})},renderContent:()=>o.jsx(ta,{paddingSize:"none",children:o.jsxs("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:[1===i.length&&o.jsx(oS,{...p,colorGradientControlSettings:s},d),i.length>1&&o.jsxs(tS,{defaultTabId:u?.key,children:[o.jsx(tS.TabList,{children:i.map(e=>o.jsx(tS.Tab,{tabId:e.key,children:e.label},e.key))}),i.map(e=>{const{key:t,...n}=e;return o.jsx(tS.TabPanel,{tabId:t,focusable:!1,children:o.jsx(oS,{...n,colorGradientControlSettings:s},t)},t)})]})]})})})})}function lS({as:e=Jj,value:t,onChange:r,inheritedValue:l=t,settings:i,panelId:s,defaultControls:a=Qj,children:c}){const u=kl(i),d=xl(i),p=i?.color?.custom,g=i?.color?.customGradient,m=u.length>0||p,h=d.length>0||g,f=e=>hl({settings:i},"",e),b=e=>{const t=u.flatMap(({colors:e})=>e).find(({color:t})=>t===e);return t?"var:preset|color|"+t.slug:e},k=e=>{const t=d.flatMap(({gradients:e})=>e).find(({gradient:t})=>t===e);return t?"var:preset|gradient|"+t.slug:e},v=Xj(i),x=f(l?.color?.background),y=f(t?.color?.background),_=f(l?.color?.gradient),C=f(t?.color?.gradient),j=Kj(i),S=f(l?.elements?.link?.color?.text),w=f(t?.elements?.link?.color?.text),I=f(l?.elements?.link?.[":hover"]?.color?.text),B=f(t?.elements?.link?.[":hover"]?.color?.text),N=Wj(i),E=f(l?.color?.text),D=f(t?.color?.text),P=e=>{let n=rl(t,["color","text"],b(e));E===S&&(n=rl(n,["elements","link","color","text"],b(e))),r(n)},T=[{name:"caption",label:ao("Captions"),showPanel:qj(i)},{name:"button",label:ao("Button"),showPanel:Yj(i)},{name:"heading",label:ao("Heading"),showPanel:Zj(i)},{name:"h1",label:ao("H1"),showPanel:Zj(i)},{name:"h2",label:ao("H2"),showPanel:Zj(i)},{name:"h3",label:ao("H3"),showPanel:Zj(i)},{name:"h4",label:ao("H4"),showPanel:Zj(i)},{name:"h5",label:ao("H5"),showPanel:Zj(i)},{name:"h6",label:ao("H6"),showPanel:Zj(i)}],M=n.useCallback(e=>({...e,color:void 0,elements:{...e?.elements,link:{...e?.elements?.link,color:void 0,":hover":{color:void 0}},...T.reduce((t,n)=>({...t,[n.name]:{...e?.elements?.[n.name],color:void 0}}),{})}}),[]),L=[N&&{key:"text",label:ao("Text"),hasValue:()=>!!D,resetValue:()=>P(void 0),isShownByDefault:a.text,indicators:[E],tabs:[{key:"text",label:ao("Text"),inheritedValue:E,setValue:P,userValue:D}]},v&&{key:"background",label:ao("Background"),hasValue:()=>!!y||!!C,resetValue:()=>{const e=rl(t,["color","background"],void 0);e.color.gradient=void 0,r(e)},isShownByDefault:a.background,indicators:[null!=_?_:x],tabs:[m&&{key:"background",label:ao("Color"),inheritedValue:x,setValue:e=>{const n=rl(t,["color","background"],b(e));n.color.gradient=void 0,r(n)},userValue:y},h&&{key:"gradient",label:ao("Gradient"),inheritedValue:_,setValue:e=>{const n=rl(t,["color","gradient"],k(e));n.color.background=void 0,r(n)},userValue:C,isGradient:!0}].filter(Boolean)},j&&{key:"link",label:ao("Link"),hasValue:()=>!!w||!!B,resetValue:()=>{let e=rl(t,["elements","link",":hover","color","text"],void 0);e=rl(e,["elements","link","color","text"],void 0),r(e)},isShownByDefault:a.link,indicators:[S,I],tabs:[{key:"link",label:ao("Default"),inheritedValue:S,setValue:e=>{r(rl(t,["elements","link","color","text"],b(e)))},userValue:w},{key:"hover",label:ao("Hover"),inheritedValue:I,setValue:e=>{r(rl(t,["elements","link",":hover","color","text"],b(e)))},userValue:B}]}].filter(Boolean);return T.forEach(({name:e,label:n,showPanel:o})=>{if(!o)return;const i=f(l?.elements?.[e]?.color?.background),s=f(l?.elements?.[e]?.color?.gradient),c=f(l?.elements?.[e]?.color?.text),u=f(t?.elements?.[e]?.color?.background),d=f(t?.elements?.[e]?.color?.gradient),p=f(t?.elements?.[e]?.color?.text),g="caption"!==e;L.push({key:e,label:n,hasValue:()=>!!(p||u||d),resetValue:()=>{const n=rl(t,["elements",e,"color","background"],void 0);n.elements[e].color.gradient=void 0,n.elements[e].color.text=void 0,r(n)},isShownByDefault:a[e],indicators:g?[c,null!=s?s:i]:[c],tabs:[m&&{key:"text",label:ao("Text"),inheritedValue:c,setValue:n=>{r(rl(t,["elements",e,"color","text"],b(n)))},userValue:p},m&&g&&{key:"background",label:ao("Background"),inheritedValue:i,setValue:n=>{const o=rl(t,["elements",e,"color","background"],b(n));o.elements[e].color.gradient=void 0,r(o)},userValue:u},h&&g&&{key:"gradient",label:ao("Gradient"),inheritedValue:s,setValue:n=>{const o=rl(t,["elements",e,"color","gradient"],k(n));o.elements[e].color.background=void 0,r(o)},userValue:d,isGradient:!0}].filter(Boolean)})}),o.jsxs(e,{resetAllFilter:M,value:t,onChange:r,panelId:s,children:[L.map(e=>{const{key:t,...n}=e;return o.jsx(rS,{...n,colorGradientControlSettings:{colors:u,disableCustomColors:!p,gradients:d,disableCustomGradients:!g},panelId:s},t)}),c]})}const iS=[];function sS(e,{presetSetting:t,defaultSetting:o}){const r=!e?.color?.[o],l=e?.color?.[t]?.custom||iS,i=e?.color?.[t]?.theme||iS,s=e?.color?.[t]?.default||iS;return n.useMemo(()=>[...l,...i,...r?iS:s],[r,l,i,s])}function aS(e){return e.color.customDuotone||e.color.defaultDuotone||e.color.duotone.length>0}function cS({resetAllFilter:e,onChange:t,value:n,panelId:r,children:l}){const i=er();return o.jsx(Ts,{label:uo("Filters","Name for applying graphical effects"),resetAll:()=>{const o=e(n);t(o)},panelId:r,dropdownMenuProps:i,children:l})}const uS={duotone:!0},dS={placement:"left-start",offset:36,shift:!0,className:"block-editor-duotone-control__popover",headerTitle:ao("Duotone")},pS=({indicator:e,label:t})=>o.jsxs(hs,{justify:"flex-start",children:[o.jsx(ka,{isLayered:!1,offset:-8,children:o.jsx($i,{expanded:!1,children:"unset"!==e&&e?o.jsx(Qs,{values:e}):o.jsx(Js,{className:"block-editor-duotone-control__unset-indicator"})})}),o.jsx(Hi,{title:t,children:t})]});function gS({as:e=cS,value:t,onChange:r,inheritedValue:l=t,settings:i,panelId:s,defaultControls:a=uS}){const c=aS(i),u=sS(i,{presetSetting:"duotone",defaultSetting:"defaultDuotone"}),d=sS(i,{presetSetting:"palette",defaultSetting:"defaultPalette"}),p=(g=l?.filter?.duotone,hl({settings:i},"",g));var g;const m=e=>{const n=u.find(({colors:t})=>t===e),o=n?`var:preset|duotone|${n.slug}`:e;r(rl(t,["filter","duotone"],o))},h=n.useCallback(e=>({...e,filter:{...e.filter,duotone:void 0}}),[]);return o.jsx(e,{resetAllFilter:h,value:t,onChange:r,panelId:s,children:c&&o.jsx(na,{label:ao("Duotone"),hasValue:()=>!!t?.filter?.duotone,onDeselect:()=>m(void 0),isShownByDefault:a.duotone,panelId:s,children:o.jsx(rs,{popoverProps:dS,className:"block-editor-global-styles-filters-panel__dropdown",renderToggle:({onToggle:e,isOpen:t})=>{const n={onClick:e,className:ei({"is-open":t}),"aria-expanded":t};return o.jsx(xs,{isBordered:!0,isSeparated:!0,children:o.jsx(Mi,{__next40pxDefaultSize:!0,...n,children:o.jsx(pS,{indicator:p,label:ao("Duotone")})})})},renderContent:()=>o.jsx(ta,{paddingSize:"small",children:o.jsxs(Pi,{label:ao("Duotone"),children:[o.jsx("p",{children:ao("Create a two-tone color effect without losing your original image.")}),o.jsx(Xs,{colorPalette:d,duotonePalette:u,disableCustomColors:!0,disableCustomDuotone:!0,value:p,onChange:m})]})})})})})}const mS=new Map,hS=[],fS={caption:ao("Caption"),link:ao("Link"),button:ao("Button"),heading:ao("Heading"),h1:ao("H1"),h2:ao("H2"),h3:ao("H3"),h4:ao("H4"),h5:ao("H5"),h6:ao("H6"),"settings.color":ao("Color"),"settings.typography":ao("Typography"),"styles.color":ao("Colors"),"styles.spacing":ao("Spacing"),"styles.background":ao("Background"),"styles.typography":ao("Typography")},bS=Sc(()=>de().reduce((e,{name:t,title:n})=>(e[t]=n,e),{})),kS=e=>null!==e&&"object"==typeof e;function vS(e,t,n=""){if(!kS(e)&&!kS(t))return e!==t?n.split(".").slice(0,2).join("."):void 0;e=kS(e)?e:{},t=kS(t)?t:{};const o=new Set([...Object.keys(e),...Object.keys(t)]);let r=[];for(const l of o){const o=n?n+"."+l:l,i=vS(e[l],t[l],o);i&&(r=r.concat(i))}return r}function xS(e,t){const n=JSON.stringify({next:e,previous:t});if(mS.has(n))return mS.get(n);const o=vS({styles:{background:e?.styles?.background,color:e?.styles?.color,typography:e?.styles?.typography,spacing:e?.styles?.spacing},blocks:e?.styles?.blocks,elements:e?.styles?.elements,settings:e?.settings},{styles:{background:t?.styles?.background,color:t?.styles?.color,typography:t?.styles?.typography,spacing:t?.styles?.spacing},blocks:t?.styles?.blocks,elements:t?.styles?.elements,settings:t?.settings});if(!o.length)return mS.set(n,hS),hS;const r=[...new Set(o)].reduce((e,t)=>{const n=function(e){if(fS[e])return fS[e];const t=e.split(".");if("blocks"===t?.[0]){const e=bS()?.[t[1]];return e||t[1]}return"elements"===t?.[0]?fS[t[1]]||t[1]:void 0}(t);return n&&e.push([t.split(".")[0],n]),e},[]);return mS.set(n,r),r}const yS=Object.freeze(Object.defineProperty({__proto__:null,AdvancedPanel:function({value:e,onChange:t,inheritedValue:r=e}){const[l,i]=n.useState(null),s=r?.css;return o.jsxs(qi,{spacing:3,children:[l&&o.jsx(Zs,{status:"error",onRemove:()=>i(null),children:l}),o.jsx(va,{label:ao("Additional CSS"),__nextHasNoMarginBottom:!0,value:s,onChange:n=>function(n){if(t({...e,css:n}),l){const[e]=Ao([{css:n}],".for-validation-only");e&&i(null)}}(n),onBlur:function(e){if(!e?.target?.value)return void i(null);const[t]=Ao([{css:e.target.value}],".for-validation-only");i(null===t?ao("There is an error with your CSS structure."):null)},className:"block-editor-global-styles-advanced-panel__custom-css-input",spellCheck:!1})]})},BackgroundPanel:wC,BorderPanel:Uj,ColorPanel:lS,DimensionsPanel:Ij,FiltersPanel:gS,GlobalStylesContext:uC,ImageSettingsPanel:function({onChange:e,value:t,inheritedValue:n,panelId:r}){const l=er(),i=()=>{e(void 0)};let s=!1;return n?.lightbox?.enabled&&(s=n.lightbox.enabled),o.jsx(o.Fragment,{children:o.jsx(Ts,{label:uo("Settings","Image settings"),resetAll:i,panelId:r,dropdownMenuProps:l,children:o.jsx(na,{hasValue:()=>!!t?.lightbox,label:ao("Expand on click"),onDeselect:i,isShownByDefault:!0,panelId:r,children:o.jsx(Wi,{__nextHasNoMarginBottom:!0,label:ao("Expand on click"),checked:s,onChange:t=>{e({enabled:t})}})})})})},TypographyPanel:lj,areGlobalStyleConfigsEqual:yl,getBlockCSSSelector:dC,getBlockSelectors:FC,getGlobalStylesChanges:function(e,t,n={}){let o=xS(e,t);const r=o.length,{maxResults:l}=n;return r?(l&&r>l&&(o=o.slice(0,l)),Object.entries(o.reduce((e,t)=>{const n=e[t[0]]||[];return n.includes(t[1])||(e[t[0]]=[...n,t[1]]),e},{})).map(([e,t])=>{const n=t.length,o=t.join(ao(", "));switch(e){case"blocks":return po(go("%s block.","%s blocks.",n),o);case"elements":return po(go("%s element.","%s elements.",n),o);case"settings":return po(ao("%s settings."),o);case"styles":return po(ao("%s styles."),o);default:return po(ao("%s."),o)}})):hS},getLayoutStyles:TC,toStyles:OC,useGlobalSetting:sl,useGlobalStyle:_l,useGlobalStylesOutput:function(e=!1){const{merged:t}=n.useContext(uC);return $C(t,e)},useGlobalStylesOutputWithConfig:$C,useGlobalStylesReset:Cl,useHasBackgroundPanel:CC,useHasBorderPanel:Lj,useHasBorderPanelControls:Rj,useHasColorPanel:Gj,useHasDimensionsPanel:mj,useHasFiltersPanel:function(e){return aS(e)},useHasImageSettingsPanel:function(e,t,n){return"core/image"===e&&n?.lightbox?.allowEditing||!!t?.lightbox},useHasTypographyPanel:WC,useSettingsForBlockElement:jl},Symbol.toStringTag,{value:"Module"})),_S=({blockName:e,clientId:t,hasBlockStyles:n})=>{const r=vl({blockName:e});return o.jsxs(o.Fragment,{children:[n&&o.jsx("div",{children:o.jsx(pa,{title:ao("Styles"),children:o.jsx($v,{clientId:t})})}),o.jsx(mb.Slot,{group:"color",label:ao("Color"),className:"color-block-support-panel__inner-wrapper"}),o.jsx(mb.Slot,{group:"background",label:ao("Background image")}),o.jsx(mb.Slot,{group:"filter"}),o.jsx(mb.Slot,{group:"typography",label:ao("Typography")}),o.jsx(mb.Slot,{group:"dimensions",label:ao("Dimensions")}),o.jsx(mb.Slot,{group:"border",label:r}),o.jsx(mb.Slot,{group:"styles"})]})},CS=["core/navigation"],jS=e=>!CS.includes(e),{Tabs:SS}=Id(Li);function wS({blockName:e,clientId:t,hasBlockStyles:n,tabs:r}){const l=od(e=>e(Pn).get("core","showIconLabels"),[]),i=jS(e)?void 0:Sl.name;return o.jsx("div",{className:"block-editor-block-inspector__tabs",children:o.jsxs(SS,{defaultTabId:i,children:[o.jsx(SS.TabList,{children:r.map(e=>l?o.jsx(SS.Tab,{tabId:e.name,className:e.className,children:e.title},e.name):o.jsx(bs,{text:e.title,children:o.jsx(SS.Tab,{tabId:e.name,className:e.className,"aria-label":e.title,children:o.jsx(zi,{icon:e.icon})})},e.name))}),o.jsx(SS.TabPanel,{tabId:wl.name,focusable:!1,children:o.jsx(cC,{showAdvancedControls:!!e})}),o.jsx(SS.TabPanel,{tabId:Il.name,focusable:!1,children:o.jsx(_S,{blockName:e,clientId:t,hasBlockStyles:n})}),o.jsx(SS.TabPanel,{tabId:Sl.name,focusable:!1,children:o.jsx(mb.Slot,{group:"list"})})]},t)})}const IS=[];function BS(e){const t=[],{bindings:n,border:o,color:r,default:l,dimensions:i,list:s,position:a,styles:c,typography:u,effects:d}=sb,p=jS(e),g=Ms(s.Slot.__unstableName),m=!p&&!!g&&g.length,h=[...Ms(o.Slot.__unstableName)||[],...Ms(r.Slot.__unstableName)||[],...Ms(i.Slot.__unstableName)||[],...Ms(c.Slot.__unstableName)||[],...Ms(u.Slot.__unstableName)||[],...Ms(d.Slot.__unstableName)||[]].length,f=[...Ms(hb.slotName)||[],...Ms(n.Slot.__unstableName)||[]],b=[...Ms(l.Slot.__unstableName)||[],...Ms(a.Slot.__unstableName)||[],...m&&h>1?f:[]];m&&t.push(Sl),b.length&&t.push(wl),h&&t.push(Il);const k=od(e=>e(y).getSettings().blockInspectorTabs,[]),v=function(e,t={}){return void 0!==t[e]?t[e]:void 0===t.default||t.default}(e,k);return v?t:IS}const{createPrivateSlotFill:NS}=Id(Li),{Fill:ES,Slot:DS}=NS("BlockInformation"),PS=e=>kd()[ud]?o.jsx(ES,{...e}):null;function TS({clientIds:e,onSelect:t}){return e.length?o.jsx(qi,{spacing:1,children:e.map(e=>o.jsx(MS,{onSelect:t,clientId:e},e))}):null}function MS({clientId:e,onSelect:t}){const n=fb(e),r=vg({clientId:e,context:"list-view"}),{isSelected:l}=od(t=>{const{isBlockSelected:n,hasSelectedInnerBlock:o}=t(y);return{isSelected:n(e)||o(e,!0)}},[e]),{selectBlock:i}=ld(y);return o.jsx(Mi,{__next40pxDefaultSize:!0,isPressed:l,onClick:async()=>{await i(e),t&&t(e)},children:o.jsxs($i,{children:[o.jsx(Hi,{children:o.jsx(gp,{icon:n?.icon})}),o.jsx(_s,{style:{textAlign:"left"},children:o.jsx(gs,{children:r})})]})})}function LS({clientId:e}){return o.jsx(pa,{title:ao("Styles"),children:o.jsx($v,{clientId:e})})}PS.Slot=e=>o.jsx(DS,{...e});const RS=({showNoBlockSelectedMessage:e=!0})=>{const{count:t,selectedBlockName:n,selectedBlockClientId:r,blockType:l,isSectionBlock:i}=od(e=>{const{getSelectedBlockClientId:t,getSelectedBlockCount:n,getBlockName:o,getParentSectionBlock:r,isSectionBlock:l}=Id(e(y)),i=r(t())||t(),s=i&&o(i),a=s&&D(s);return{count:n(),selectedBlockClientId:i,selectedBlockName:s,blockType:a,isSectionBlock:l(i)}},[]),s=BS(l?.name),a=s?.length>1,c=function(e){return od(t=>{if(e){const n=t(y).getSettings().blockInspectorAnimation,o=n?.animationParent,{getSelectedBlockClientId:r,getBlockParentsByBlockName:l}=t(y);return l(r(),o,!0)[0]||e.name===o?n?.[e.name]:null}return null},[e])}(l),u=vl({blockName:n});if(t>1&&!i)return o.jsxs("div",{className:"block-editor-block-inspector",children:[o.jsx(lC,{}),a?o.jsx(wS,{tabs:s}):o.jsxs(o.Fragment,{children:[o.jsx(mb.Slot,{}),o.jsx(mb.Slot,{group:"color",label:ao("Color"),className:"color-block-support-panel__inner-wrapper"}),o.jsx(mb.Slot,{group:"background",label:ao("Background image")}),o.jsx(mb.Slot,{group:"typography",label:ao("Typography")}),o.jsx(mb.Slot,{group:"dimensions",label:ao("Dimensions")}),o.jsx(mb.Slot,{group:"border",label:u}),o.jsx(mb.Slot,{group:"styles"})]})]});const d=n===me();return l&&r&&!d?o.jsx(AS,{animate:c,wrapper:e=>o.jsx(OS,{blockInspectorAnimationSettings:c,selectedBlockClientId:r,children:e}),children:o.jsx(zS,{clientId:r,blockName:l.name,isSectionBlock:i})}):e?o.jsx("span",{className:"block-editor-block-inspector__no-blocks",children:ao("No block selected.")}):null},AS=({animate:e,wrapper:t,children:n})=>e?t(n):n,OS=({blockInspectorAnimationSettings:e,selectedBlockClientId:t,children:n})=>{const r=e&&"leftToRight"===e.enterDirection?-50:50;return o.jsx(Is.div,{animate:{x:0,opacity:1,transition:{ease:"easeInOut",duration:.14}},initial:{x:r,opacity:0},children:n},t)},zS=({clientId:e,blockName:t,isSectionBlock:n})=>{const r=BS(t),l=!n&&r?.length>1,i=od(e=>{const{getBlockStyles:n}=e(z),o=n(t);return o&&o.length>0},[t]),s=fb(e),a=vl({blockName:t}),c=od(t=>{if(!n)return;const{getClientIdsOfDescendants:o,getBlockName:r,getBlockEditingMode:l}=t(y);return o(e).filter(e=>"core/list-item"!==r(e)&&"contentOnly"===l(e))},[n,e]);return o.jsxs("div",{className:"block-editor-block-inspector",children:[o.jsx(lm,{...s,className:s.isSynced&&"is-synced"}),o.jsx(rx,{blockClientId:e}),o.jsx(PS.Slot,{}),l&&o.jsx(wS,{hasBlockStyles:i,clientId:e,blockName:t,tabs:r}),!l&&o.jsxs(o.Fragment,{children:[i&&o.jsx(LS,{clientId:e}),c&&c?.length>0&&o.jsx(pa,{title:ao("Content"),children:o.jsx(TS,{clientIds:c})}),!n&&o.jsxs(o.Fragment,{children:[o.jsx(mb.Slot,{}),o.jsx(mb.Slot,{group:"list"}),o.jsx(mb.Slot,{group:"color",label:ao("Color"),className:"color-block-support-panel__inner-wrapper"}),o.jsx(mb.Slot,{group:"background",label:ao("Background image")}),o.jsx(mb.Slot,{group:"typography",label:ao("Typography")}),o.jsx(mb.Slot,{group:"dimensions",label:ao("Dimensions")}),o.jsx(mb.Slot,{group:"border",label:a}),o.jsx(mb.Slot,{group:"styles"}),o.jsx(aC,{}),o.jsx(mb.Slot,{group:"bindings"}),o.jsx("div",{children:o.jsx(iC,{})})]})]}),o.jsx(rC,{},"back")]})};const FS=()=>{};const VS=n.forwardRef(function({rootClientId:e,clientId:t,isAppender:n,showInserterHelpPanel:r,showMostUsedBlocks:l=!1,__experimentalInsertionIndex:i,__experimentalInitialTab:s,__experimentalInitialCategory:a,__experimentalFilterValue:c,onPatternCategorySelection:u,onSelect:d=FS,shouldFocusBlock:p=!1,onClose:g},m){const{destinationRootClientId:h}=od(n=>{const{getBlockRootClientId:o}=n(y);return{destinationRootClientId:e||o(t)||void 0}},[t,e]);return o.jsx(Uh,{onSelect:d,rootClientId:h,clientId:t,isAppender:n,showInserterHelpPanel:r,showMostUsedBlocks:l,__experimentalInsertionIndex:i,__experimentalFilterValue:c,onPatternCategorySelection:u,__experimentalInitialTab:s,__experimentalInitialCategory:a,shouldFocusBlock:p,ref:m,onClose:g})});const $S=n.forwardRef(function(e,t){return o.jsx(VS,{...e,onPatternCategorySelection:void 0,ref:t})});const HS=-1!==window.navigator.userAgent.indexOf("Trident"),US=new Set([ig,sg,37,39]);function GS(){const e=od(e=>e(y).hasSelectedBlock(),[]);return ci(t=>{if(!e)return;const{ownerDocument:n}=t,{defaultView:o}=n;let r,l,i;function s(){r||(r=o.requestAnimationFrame(()=>{p(),r=null}))}function a(e){l&&o.cancelAnimationFrame(l),l=o.requestAnimationFrame(()=>{c(e),l=null})}function c({keyCode:e}){if(!g())return;const r=lt(o);if(!r)return;if(!i)return void(i=r);if(US.has(e))return void(i=r);const l=r.top-i.top;if(0===l)return;const s=Ke(t);if(!s)return;const a=s===n.body||s===n.documentElement,c=a?o.scrollY:s.scrollTop,u=a?0:s.getBoundingClientRect().top,d=a?i.top/o.innerHeight:(i.top-u)/(o.innerHeight-u);if(0===c&&d<.75&&function(){const e=t.querySelectorAll('[contenteditable="true"]');return e[e.length-1]===n.activeElement}())return void(i=r);const p=a?o.innerHeight:s.clientHeight;i.top+i.height>u+p||i.top<u?i=r:a?o.scrollBy(0,l):s.scrollTop+=l}function u(){n.addEventListener("selectionchange",d)}function d(){n.removeEventListener("selectionchange",d),p()}function p(){g()&&(i=lt(o))}function g(){return t.contains(n.activeElement)&&n.activeElement.isContentEditable}return o.addEventListener("scroll",s,!0),o.addEventListener("resize",s,!0),t.addEventListener("keydown",a),t.addEventListener("keyup",c),t.addEventListener("mousedown",u),t.addEventListener("touchstart",u),()=>{o.removeEventListener("scroll",s,!0),o.removeEventListener("resize",s,!0),t.removeEventListener("keydown",a),t.removeEventListener("keyup",c),t.removeEventListener("mousedown",u),t.removeEventListener("touchstart",u),n.removeEventListener("selectionchange",d),o.cancelAnimationFrame(r),o.cancelAnimationFrame(l)}},[e])}const WS=HS?e=>e.children:function({children:e}){return o.jsx("div",{ref:GS(),className:"block-editor__typewriter",children:e})},KS=n.createContext({});function qS({children:e,uniqueId:t,blockName:r=""}){const l=n.useContext(KS),{name:i}=kd();r=r||i;const s=n.useMemo(()=>function(e,t,n){const o={...e,[t]:e[t]?new Set(e[t]):new Set};return o[t].add(n),o}(l,r,t),[l,r,t]);return o.jsx(KS.Provider,{value:s,children:e})}function ZS(e,t=""){const o=n.useContext(KS),{name:r}=kd();return t=t||r,Boolean(o[t]?.has(e))}function YS({title:e,help:t,actions:n=[],onClose:r}){return o.jsxs(qi,{className:"block-editor-inspector-popover-header",spacing:4,children:[o.jsxs(hs,{alignment:"center",children:[o.jsx(ks,{className:"block-editor-inspector-popover-header__heading",level:2,size:13,children:e}),o.jsx(js,{}),n.map(({label:e,icon:t,onClick:n})=>o.jsx(Mi,{size:"small",className:"block-editor-inspector-popover-header__action",label:e,icon:t,variant:!t&&"tertiary",onClick:n,children:!t&&e},e)),r&&o.jsx(Mi,{size:"small",className:"block-editor-inspector-popover-header__action",label:ao("Close"),icon:St,onClick:r})]}),t&&o.jsx(ss,{children:t})]})}const XS=n.forwardRef(function({onClose:e,onChange:t,showPopoverHeaderActions:n,isCompact:r,currentDate:l,...i},s){const a={startOfWeek:io().l10n.startOfWeek,onChange:t,currentDate:r?void 0:l,currentTime:r?l:void 0,...i},c=r?xa:ya;return o.jsxs("div",{ref:s,className:"block-editor-publish-date-time-picker",children:[o.jsx(YS,{title:ao("Publish"),actions:n?[{label:ao("Now"),onClick:()=>t?.(null)}]:void 0,onClose:e}),o.jsx(c,{...a})]})});const JS=n.forwardRef(function(e,t){return o.jsx(XS,{...e,showPopoverHeaderActions:!0,isCompact:!1,ref:t})});function QS(e){const t=kd(),{clientId:o=""}=t,{setBlockEditingMode:r,unsetBlockEditingMode:l}=ld(y),i=od(e=>o?null:e(y).getBlockEditingMode(),[o]);return n.useEffect(()=>(e&&r(o,e),()=>{e&&l(o)}),[o,e,r,l]),o?t[pd]:i}function ew({clientId:e,contentRef:t,parentLayout:n}){const r=od(e=>e(y).getSettings().isDistractionFree,[]),l=wg(e);if(r||!l)return null;const i=n?.isManualPlacement&&window.__experimentalEnableGridInteractivity;return o.jsx(tw,{gridClientId:e,gridElement:l,isManualGrid:i,ref:t})}const tw=n.forwardRef(({gridClientId:e,gridElement:t,isManualGrid:r},l)=>{const[i,s]=n.useState(()=>Bl(t)),[a,c]=n.useState(!1);return n.useEffect(()=>{const e=[];for(const n of[t,...t.children]){const o=new window.ResizeObserver(()=>{s(Bl(t))});o.observe(n),e.push(o)}return()=>{for(const t of e)t.disconnect()}},[t]),n.useEffect(()=>{function e(){c(!0)}function t(){c(!1)}return document.addEventListener("drag",e),document.addEventListener("dragend",t),()=>{document.removeEventListener("drag",e),document.removeEventListener("dragend",t)}},[]),o.jsx(df,{className:ei("block-editor-grid-visualizer",{"is-dropping-allowed":a}),clientId:e,__unstablePopoverSlot:"__unstable-block-tools-after",children:o.jsx("div",{ref:l,className:"block-editor-grid-visualizer__grid",style:i.style,children:r?o.jsx(nw,{gridClientId:e,gridInfo:i}):Array.from({length:i.numItems},(e,t)=>o.jsx(ow,{color:i.currentColor},t))})})});function nw({gridClientId:e,gridInfo:t}){const[r,l]=n.useState(null),i=od(t=>{const{getBlockOrder:n,getBlockStyles:o}=Id(t(y));return o(n(e))},[e]),s=n.useMemo(()=>{const e=[];for(const n of Object.values(i)){var t;const{columnStart:o,rowStart:r,columnSpan:l=1,rowSpan:i=1}=null!==(t=n?.layout)&&void 0!==t?t:{};o&&r&&e.push(new Nl({columnStart:o,rowStart:r,columnSpan:l,rowSpan:i}))}return e},[i]);return El(1,t.numRows).map(n=>El(1,t.numColumns).map(i=>{var a;const c=s.some(e=>e.contains(i,n)),u=null!==(a=r?.contains(i,n))&&void 0!==a&&a;return o.jsx(ow,{color:t.currentColor,className:u&&"is-highlighted",children:c?o.jsx(lw,{column:i,row:n,gridClientId:e,gridInfo:t,setHighlightedRect:l}):o.jsx(iw,{column:i,row:n,gridClientId:e,gridInfo:t,setHighlightedRect:l})},`${n}-${i}`)}))}function ow({color:e,children:t,className:n}){return o.jsx("div",{className:ei("block-editor-grid-visualizer__cell",n),style:{boxShadow:`inset 0 0 0 1px color-mix(in srgb, ${e} 20%, #0000)`,color:e},children:t})}function rw(e,t,n,o,r){const{getBlockAttributes:l,getBlockRootClientId:i,canInsertBlockType:s,getBlockName:a}=od(y),{updateBlockAttributes:c,moveBlocksToPosition:u,__unstableMarkNextChangeAsNotPersistent:d}=ld(y),p=ij(n,o.numColumns);return function({validateDrag:e,onDragEnter:t,onDragLeave:n,onDrop:o}){const{getDraggedBlockClientIds:r}=od(y);return _i({onDragEnter(){const[n]=r();n&&e(n)&&t(n)},onDragLeave(){n()},onDrop(){const[t]=r();t&&e(t)&&o(t)}})}({validateDrag(r){const i=a(r);if(!s(i,n))return!1;const c=l(r),u=new Nl({columnStart:e,rowStart:t,columnSpan:c.style?.layout?.columnSpan,rowSpan:c.style?.layout?.rowSpan});return new Nl({columnSpan:o.numColumns,rowSpan:o.numRows}).containsRect(u)},onDragEnter(n){const o=l(n);r(new Nl({columnStart:e,rowStart:t,columnSpan:o.style?.layout?.columnSpan,rowSpan:o.style?.layout?.rowSpan}))},onDragLeave(){r(n=>n?.columnStart===e&&n?.rowStart===t?null:n)},onDrop(o){r(null);const s=l(o);c(o,{style:{...s.style,layout:{...s.style?.layout,columnStart:e,rowStart:t}}}),d(),u([o],i(o),n,p(e,t))}})}function lw({column:e,row:t,gridClientId:n,gridInfo:r,setHighlightedRect:l}){return o.jsx("div",{className:"block-editor-grid-visualizer__drop-zone",ref:rw(e,t,n,r,l)})}function iw({column:e,row:t,gridClientId:n,gridInfo:r,setHighlightedRect:l}){const{updateBlockAttributes:i,moveBlocksToPosition:s,__unstableMarkNextChangeAsNotPersistent:a}=ld(y),c=ij(n,r.numColumns);return o.jsx(ef,{rootClientId:n,className:"block-editor-grid-visualizer__appender",ref:rw(e,t,n,r,l),style:{color:r.currentColor},onSelect:o=>{o&&(i(o.clientId,{style:{layout:{columnStart:e,rowStart:t}}}),a(),s([o.clientId],n,n,c(e,t)))}})}function sw({clientId:e,bounds:t,onChange:n,parentLayout:r}){const l=wg(e),i=l?.parentElement,{isManualPlacement:s}=r;return l&&i?o.jsx(aw,{clientId:e,bounds:t,blockElement:l,rootBlockElement:i,onChange:n,isManualGrid:s&&window.__experimentalEnableGridInteractivity}):null}function aw({clientId:e,bounds:t,blockElement:r,rootBlockElement:l,onChange:i,isManualGrid:s}){const[a,c]=n.useState(null),[u,d]=n.useState({top:!1,bottom:!1,left:!1,right:!1});n.useEffect(()=>{const e=new window.ResizeObserver(()=>{const e=r.getBoundingClientRect(),t=l.getBoundingClientRect();d({top:e.top>t.top,bottom:e.bottom<t.bottom,left:e.left>t.left,right:e.right<t.right})});return e.observe(r),()=>e.disconnect()},[r,l]);const p={right:"left",left:"right"},g={top:"flex-end",bottom:"flex-start"},m={display:"flex",justifyContent:"center",alignItems:"center",...p[a]&&{justifyContent:p[a]},...g[a]&&{alignItems:g[a]}};return o.jsx(df,{className:"block-editor-grid-item-resizer",clientId:e,__unstablePopoverSlot:"__unstable-block-tools-after",additionalStyles:m,children:o.jsx(_a,{className:"block-editor-grid-item-resizer__box",size:{width:"100%",height:"100%"},enable:{bottom:u.bottom,bottomLeft:!1,bottomRight:!1,left:u.left,right:u.right,top:u.top,topLeft:!1,topRight:!1},bounds:t,boundsByDirection:!0,onPointerDown:({target:e,pointerId:t})=>{e.setPointerCapture(t)},onResizeStart:(e,t)=>{c(t)},onResizeStop:(e,t,n)=>{const o=parseFloat(Dl(l,"column-gap")),a=parseFloat(Dl(l,"row-gap")),c=Pl(Dl(l,"grid-template-columns"),o),u=Pl(Dl(l,"grid-template-rows"),a),d=new window.DOMRect(r.offsetLeft+n.offsetLeft,r.offsetTop+n.offsetTop,n.offsetWidth,n.offsetHeight),p=Tl(c,d.left)+1,g=Tl(u,d.top)+1,m=Tl(c,d.right,"end")+1,h=Tl(u,d.bottom,"end")+1;i({columnSpan:m-p+1,rowSpan:h-g+1,columnStart:s?p:void 0,rowStart:s?g:void 0})}})})}function cw({layout:e,parentLayout:t,onChange:n,gridClientId:r,blockClientId:l}){var i,s,a,c;const{moveBlocksToPosition:u,__unstableMarkNextChangeAsNotPersistent:d}=ld(y),p=null!==(i=e?.columnStart)&&void 0!==i?i:1,g=null!==(s=e?.rowStart)&&void 0!==s?s:1,m=null!==(a=e?.columnSpan)&&void 0!==a?a:1,h=null!==(c=e?.rowSpan)&&void 0!==c?c:1,f=p+m-1,b=g+h-1,k=t?.columnCount,v=t?.rowCount,x=ij(r,k);return o.jsx(rk,{group:"parent",children:o.jsxs(Ai,{className:"block-editor-grid-item-mover__move-button-container",children:[o.jsx("div",{className:"block-editor-grid-item-mover__move-horizontal-button-container is-left",children:o.jsx(uw,{icon:co()?nt:ot,label:ao("Move left"),description:ao("Move left"),isDisabled:p<=1,onClick:()=>{n({columnStart:p-1}),d(),u([l],r,r,x(p-1,g))}})}),o.jsxs("div",{className:"block-editor-grid-item-mover__move-vertical-button-container",children:[o.jsx(uw,{className:"is-up-button",icon:Bt,label:ao("Move up"),description:ao("Move up"),isDisabled:g<=1,onClick:()=>{n({rowStart:g-1}),d(),u([l],r,r,x(p,g-1))}}),o.jsx(uw,{className:"is-down-button",icon:Nt,label:ao("Move down"),description:ao("Move down"),isDisabled:v&&b>=v,onClick:()=>{n({rowStart:g+1}),d(),u([l],r,r,x(p,g+1))}})]}),o.jsx("div",{className:"block-editor-grid-item-mover__move-horizontal-button-container is-right",children:o.jsx(uw,{icon:co()?ot:nt,label:ao("Move right"),description:ao("Move right"),isDisabled:k&&f>=k,onClick:()=>{n({columnStart:p+1}),d(),u([l],r,r,x(p+1,g))}})})]})})}function uw({className:e,icon:t,label:n,isDisabled:r,onClick:l,description:i}){const s=`block-editor-grid-item-mover-button__description-${mi(uw)}`;return o.jsxs(o.Fragment,{children:[o.jsx(ns,{className:ei("block-editor-grid-item-mover-button",e),icon:t,label:n,"aria-describedby":s,onClick:r?null:l,disabled:r,accessibleWhenDisabled:!0}),o.jsx(fs,{id:s,children:i})]})}function dw({clientId:e}){const{gridLayout:t,blockOrder:o,selectedBlockLayout:r}=od(t=>{var n;const{getBlockAttributes:o,getBlockOrder:r}=t(y),l=t(y).getSelectedBlock();return{gridLayout:null!==(n=o(e).layout)&&void 0!==n?n:{},blockOrder:r(e),selectedBlockLayout:l?.attributes.style?.layout}},[e]),{getBlockAttributes:l,getBlockRootClientId:i}=od(y),{updateBlockAttributes:s,__unstableMarkNextChangeAsNotPersistent:a}=ld(y),c=n.useMemo(()=>r?new Nl(r):null,[r]),u=bi(c),d=bi(t.isManualPlacement),p=bi(o);n.useEffect(()=>{const n={};if(t.isManualPlacement){const s=[];for(const e of o){var r;const{columnStart:t,rowStart:n,columnSpan:o=1,rowSpan:i=1}=null!==(r=l(e).style?.layout)&&void 0!==r?r:{};t&&n&&s.push(new Nl({columnStart:t,rowStart:n,columnSpan:o,rowSpan:i}))}for(const e of o){var c;const o=l(e),{columnStart:r,rowStart:i,columnSpan:a=1,rowSpan:d=1}=null!==(c=o.style?.layout)&&void 0!==c?c:{};if(r&&i)continue;const[p,g]=pw(s,t.columnCount,a,d,u?.columnEnd,u?.rowEnd);s.push(new Nl({columnStart:p,rowStart:g,columnSpan:a,rowSpan:d})),n[e]={style:{...o.style,layout:{...o.style?.layout,columnStart:p,rowStart:g}}}}const a=Math.max(...s.map(e=>e.rowEnd));(!t.rowCount||t.rowCount<a)&&(n[e]={layout:{...t,rowCount:a}});for(const e of null!=p?p:[])if(!o.includes(e)){var g;const t=i(e);if(null===t)continue;const o=l(t);if("grid"===o?.layout?.type)continue;const r=l(e),{columnStart:s,rowStart:a,columnSpan:c,rowSpan:u,...d}=null!==(g=r.style?.layout)&&void 0!==g?g:{};if(s||a||c||u){const t=0===Object.keys(d).length;n[e]=rl(r,["style","layout"],t?void 0:d)}}}else{if(!0===d)for(const e of o){var m;const t=l(e),{columnStart:o,rowStart:r,...i}=null!==(m=t.style?.layout)&&void 0!==m?m:{};if(o||r){const o=0===Object.keys(i).length;n[e]=rl(t,["style","layout"],o?void 0:i)}}t.rowCount&&(n[e]={layout:{...t,rowCount:void 0}})}Object.keys(n).length&&(a(),s(Object.keys(n),n,!0))},[e,t,p,o,u,d,a,l,i,s])}function pw(e,t,n,o,r=1,l=1){for(let i=l;;i++)for(let s=i===l?r:1;s<=t;s++){const t=new Nl({columnStart:s,rowStart:i,columnSpan:n,rowSpan:o});if(!e.some(e=>e.intersectsRect(t)))return[s,i]}}const gw={button:"wp-element-button",caption:"wp-element-caption"};function mw(e,t,o){if(null==e||!1===e)return;if(Array.isArray(e))return hw(e,t,o);switch(typeof e){case"string":case"number":return}const{type:r,props:l}=e;switch(r){case n.StrictMode:case n.Fragment:return hw(l.children,t,o);case ju:return;case Tf.Content:return fw(t,o);case N_:return void t.push(l.value)}switch(typeof r){case"string":return void 0!==l.children?hw(l.children,t,o):void 0;case"function":return mw(r.prototype&&"function"==typeof r.prototype.render?new r(l).render():r(l),t,o)}}function hw(e,...t){e=Array.isArray(e)?e:[e];for(let n=0;n<e.length;n++)mw(e[n],...t)}function fw(e,t){for(let n=0;n<t.length;n++){const{name:r,attributes:l,innerBlocks:i}=t[n];mw(he(r,l,o.jsx(Tf.Content,{})),e,i)}}const bw=[{value:"fill",label:uo("Fill","Scale option for dimensions control"),help:ao("Fill the space by stretching the content.")},{value:"contain",label:uo("Contain","Scale option for dimensions control"),help:ao("Fit the content to the space without clipping.")},{value:"cover",label:uo("Cover","Scale option for dimensions control"),help:ao("Fill the space by clipping what doesn't fit.")},{value:"none",label:uo("None","Scale option for dimensions control"),help:ao("Do not adjust the sizing of the content. Content that is too large will be clipped, and content that is too small will have additional padding.")},{value:"scale-down",label:uo("Scale down","Scale option for dimensions control"),help:ao("Scale down the content to fit the space if it is too big. Content that is too small will have additional padding.")}];function kw({panelId:e,value:t,onChange:r,options:l=bw,defaultValue:i=bw[0].value,isShownByDefault:s=!0}){const a=null!=t?t:"fill",c=n.useMemo(()=>l.reduce((e,t)=>(e[t.value]=t.help,e),{}),[l]);return o.jsx(na,{label:ao("Scale"),isShownByDefault:s,hasValue:()=>a!==i,onDeselect:()=>r(i),panelId:e,children:o.jsx(Ui,{__nextHasNoMarginBottom:!0,label:ao("Scale"),isBlock:!0,help:c[a],value:a,onChange:r,size:"__unstable-large",children:l.map(e=>o.jsx(Xi,{...e},e.value))})})}const vw=Sd(na,{target:"ef8pe3d0"})({name:"957xgf",styles:"grid-column:span 1"});function xw({panelId:e,value:t={},onChange:n=()=>{},units:r,isShownByDefault:l=!0}){var i,s;const a="auto"===t.width?"":null!==(i=t.width)&&void 0!==i?i:"",c="auto"===t.height?"":null!==(s=t.height)&&void 0!==s?s:"",u=e=>o=>{const r={...t};o?r[e]=o:delete r[e],n(r)};return o.jsxs(o.Fragment,{children:[o.jsx(vw,{label:ao("Width"),isShownByDefault:l,hasValue:()=>""!==a,onDeselect:u("width"),panelId:e,children:o.jsx(Zi,{label:ao("Width"),placeholder:ao("Auto"),labelPosition:"top",units:r,min:0,value:a,onChange:u("width"),size:"__unstable-large"})}),o.jsx(vw,{label:ao("Height"),isShownByDefault:l,hasValue:()=>""!==c,onDeselect:u("height"),panelId:e,children:o.jsx(Zi,{label:ao("Height"),placeholder:ao("Auto"),labelPosition:"top",units:r,min:0,value:c,onChange:u("height"),size:"__unstable-large"})})]})}const yw=[{label:uo("Thumbnail","Image size option for resolution control"),value:"thumbnail"},{label:uo("Medium","Image size option for resolution control"),value:"medium"},{label:uo("Large","Image size option for resolution control"),value:"large"},{label:uo("Full Size","Image size option for resolution control"),value:"full"}];const _w={};wd(_w,{...yS,ExperimentalBlockCanvas:av,ExperimentalBlockEditorProvider:um,getDuotoneFilter:ml,getRichTextValues:function(e=[]){W.skipFilters=!0;const t=[];return fw(t,e),W.skipFilters=!1,t.map(e=>e instanceof so?e:so.fromHTMLString(e))},PrivateQuickInserter:Wh,extractWords:sp,getNormalizedSearchTerms:cp,normalizeString:ap,PrivateListView:Rv,ResizableBoxPopover:function({clientId:e,resizableBoxProps:t,...n}){return o.jsx(df,{clientId:e,__unstablePopoverSlot:"block-toolbar",...n,children:o.jsx(_a,{...t})})},BlockInfo:PS,useHasBlockToolbar:Gk,cleanEmptyObject:tr,BlockQuickNavigation:TS,LayoutStyle:function({layout:e={},css:t,...n}){const r=Vp(e.type),[l]=Ad("spacing.blockGap"),i=null!==l;if(r){if(t)return o.jsx("style",{children:t});const l=r.getLayoutStyle?.({hasBlockGapSupport:i,layout:e,...n});if(l)return o.jsx("style",{children:l})}return null},BlockRemovalWarningModal:function({rules:e}){const{clientIds:t,selectPrevious:r,message:l}=od(e=>Id(e(y)).getRemovalPromptData()),{clearBlockRemovalPrompt:i,setBlockRemovalRules:s,privateRemoveBlocks:a}=Id(ld(y));if(n.useEffect(()=>(s(e),()=>{s()}),[e,s]),!l)return;return o.jsxs(ls,{title:ao("Be careful!"),onRequestClose:i,size:"medium",children:[o.jsx("p",{children:l}),o.jsxs(hs,{justify:"right",children:[o.jsx(Mi,{variant:"tertiary",onClick:i,__next40pxDefaultSize:!0,children:ao("Cancel")}),o.jsx(Mi,{variant:"primary",onClick:()=>{a(t,r,!0),i()},__next40pxDefaultSize:!0,children:ao("Delete")})]})]})},useLayoutClasses:Al,useLayoutStyles:Rl,DimensionsTool:function({panelId:e,value:t={},onChange:r=()=>{},aspectRatioOptions:l,defaultAspectRatio:i="auto",scaleOptions:s,defaultScale:a="fill",unitsOptions:c,tools:u=["aspectRatio","widthHeight","scale"]}){const d=void 0===t.width||"auto"===t.width?null:t.width,p=void 0===t.height||"auto"===t.height?null:t.height,g=void 0===t.aspectRatio||"auto"===t.aspectRatio?null:t.aspectRatio,m=void 0===t.scale||"fill"===t.scale?null:t.scale,[h,f]=n.useState(m),[b,k]=n.useState(g),v=d&&p?"custom":b,x=g||d&&p;return o.jsxs(o.Fragment,{children:[u.includes("aspectRatio")&&o.jsx(pj,{panelId:e,options:l,defaultValue:i,value:v,onChange:e=>{const n={...t};k(e="auto"===e?null:e),e?n.aspectRatio=e:delete n.aspectRatio,e?h?n.scale=h:(n.scale=a,f(a)):delete n.scale,"custom"!==e&&d&&p&&delete n.height,r(n)}}),u.includes("widthHeight")&&o.jsx(xw,{panelId:e,units:c,value:{width:d,height:p},onChange:({width:e,height:n})=>{const o={...t};n="auto"===n?null:n,(e="auto"===e?null:e)?o.width=e:delete o.width,n?o.height=n:delete o.height,e&&n?delete o.aspectRatio:b&&(o.aspectRatio=b),b||!!e==!!n?h?o.scale=h:(o.scale=a,f(a)):delete o.scale,r(o)}}),u.includes("scale")&&x&&o.jsx(kw,{panelId:e,options:s,defaultValue:a,value:h,onChange:e=>{const n={...t};f(e="fill"===e?null:e),e?n.scale=e:delete n.scale,r(n)}})]})},ResolutionTool:function({panelId:e,value:t,onChange:n,options:r=yw,defaultValue:l=yw[0].value,isShownByDefault:i=!0}){const s=null!=t?t:l;return o.jsx(na,{hasValue:()=>s!==l,label:ao("Resolution"),onDeselect:()=>n(l),isShownByDefault:i,panelId:e,children:o.jsx(ea,{__nextHasNoMarginBottom:!0,label:ao("Resolution"),value:s,options:r,onChange:n,help:ao("Select the size of the source image."),size:"__unstable-large"})})},TabbedSidebar:$h,TextAlignmentControl:GC,usesContextKey:S_,useFlashEditableBlocks:Zg,globalStylesDataKey:w,globalStylesLinksDataKey:S,selectBlockPatternsKey:N,requiresWrapperOnCopy:Ll,PrivateRichText:R_,PrivateInserterLibrary:VS,reusableBlocksSelectKey:B,PrivateBlockPopover:af,PrivatePublishDateTimePicker:XS,useSpacingSizes:Xr,useBlockDisplayTitle:vg,__unstableBlockStyleVariationOverridesWithConfig:Ml,setBackgroundStyleDefaults:ul,sectionRootClientIdKey:I});const Cw=Object.freeze(Object.defineProperty({__proto__:null,AlignmentControl:Yd,AlignmentToolbar:e=>o.jsx(Zd,{...e,isToolbar:!0}),Autocomplete:function(e){return o.jsx(Fi,{...e,completers:kp(e)})},BlockAlignmentControl:Qp,BlockAlignmentToolbar:e=>o.jsx(Jp,{...e,isToolbar:!0}),BlockBreadcrumb:function({rootLabelText:e}){const{selectBlock:t,clearSelectedBlock:r}=ld(y),{clientId:l,parents:i,hasSelection:s}=od(e=>{const{getSelectionStart:t,getSelectedBlockClientId:n,getEnabledBlockParents:o}=Id(e(y)),r=n();return{parents:o(r),clientId:r,hasSelection:!!t().clientId}},[]),a=e||ao("Document"),c=n.useRef();return Sg(l,c),o.jsxs("ul",{className:"block-editor-block-breadcrumb",role:"list","aria-label":ao("Block breadcrumb"),children:[o.jsxs("li",{className:s?void 0:"block-editor-block-breadcrumb__current","aria-current":s?void 0:"true",children:[s&&o.jsx(Mi,{size:"small",className:"block-editor-block-breadcrumb__button",onClick:()=>{const e=c.current?.closest(".editor-styles-wrapper");r(),No(e)?.focus()},children:a}),!s&&a,!!l&&o.jsx(we,{icon:Ge,className:"block-editor-block-breadcrumb__separator"})]}),i.map(e=>o.jsxs("li",{children:[o.jsx(Mi,{size:"small",className:"block-editor-block-breadcrumb__button",onClick:()=>t(e),children:o.jsx(xg,{clientId:e,maximumLength:35})}),o.jsx(we,{icon:Ge,className:"block-editor-block-breadcrumb__separator"})]},e)),!!l&&o.jsx("li",{className:"block-editor-block-breadcrumb__current","aria-current":"true",children:o.jsx(xg,{clientId:l,maximumLength:35})})]})},BlockCanvas:function({children:e,height:t,styles:n}){return o.jsx(av,{height:t,styles:n,children:e})},BlockColorsStyleSelector:({children:e,...t})=>(be("wp.blockEditor.BlockColorsStyleSelector",{alternative:"block supports API",since:"6.1",version:"6.3"}),o.jsx(rs,{popoverProps:{placement:"bottom-start"},className:"block-library-colors-selector",contentClassName:"block-library-colors-selector__popover",renderToggle:dv(t),renderContent:()=>e})),BlockContextProvider:Nd,BlockControls:rk,BlockEdit:Rd,BlockEditorKeyboardShortcuts:cm,BlockEditorProvider:dm,BlockFormatControls:lk,BlockIcon:gp,BlockInspector:RS,BlockList:Uf,BlockMover:Pb,BlockNavigationDropdown:zv,BlockPopover:cf,BlockPreview:Vm,BlockSelectionClearer:function(e){return o.jsx("div",{ref:pm(),...e})},BlockSettingsMenu:Ok,BlockSettingsMenuControls:Tk,BlockStyles:$v,BlockTitle:xg,BlockToolbar:Kk,BlockTools:ov,BlockVerticalAlignmentControl:gx,BlockVerticalAlignmentToolbar:e=>o.jsx(px,{...e,isToolbar:!0}),ButtonBlockAppender:ef,ButtonBlockerAppender:Qh,ColorPalette:_x,ColorPaletteControl:function({onChange:e,value:t,...n}){return o.jsx(Nx,{...n,onColorChange:e,colorValue:t,gradients:[],disableCustomGradients:!0})},ContrastChecker:Ex,CopyHandler:function(e){return be("CopyHandler",{alternative:"BlockCanvas or WritingFlow",since:"6.4",version:"6.7"}),o.jsx("div",{...e,ref:Sm()})},DefaultBlockAppender:Xh,FontSizePicker:function(e){const[t,n]=Ad("typography.fontSizes","typography.customFontSize");return o.jsx(Ri,{...e,fontSizes:t,disableCustomFontSizes:!n})},HeadingLevelDropdown:function({options:e=Gv,value:t,onChange:n}){const r=e.filter(e=>0===e||Gv.includes(e)).sort((e,t)=>e-t);return o.jsx(Oi,{popoverProps:Wv,icon:o.jsx(Uv,{level:t}),label:ao("Change level"),controls:r.map(e=>{const r=e===t;return{icon:o.jsx(Uv,{level:e}),title:0===e?ao("Paragraph"):po(ao("Heading %d"),e),isActive:r,onClick(){n(e)},role:"menuitemradio"}})})},HeightControl:Qx,InnerBlocks:Tf,Inserter:Zh,InspectorAdvancedControls:hb,InspectorControls:mb,JustifyContentControl:fy,JustifyToolbar:e=>o.jsx(hy,{...e,isToolbar:!0}),LineHeightControl:Qy,MediaPlaceholder:p_,MediaReplaceFlow:n_,MediaUpload:Mh,MediaUploadCheck:Th,MultiSelectScrollIntoView:function(){return be("wp.blockEditor.MultiSelectScrollIntoView",{hint:"This behaviour is now built-in.",since:"5.8"}),null},NavigableToolbar:Uk,ObserveTyping:Of,PanelColorSettings:({colorSettings:e,...t})=>{const n=e.map(e=>{if(!e)return e;const{value:t,onChange:n,...o}=e;return{...o,colorValue:t,onColorChange:n}});return o.jsx(Xx,{settings:n,gradients:[],disableCustomGradients:!0,...t})},PlainText:F_,RecursionProvider:qS,RichText:O_,RichTextShortcut:function({character:e,type:t,onUse:o}){const r=n.useContext(D_),l=n.useRef();return l.current=o,n.useEffect(()=>{function n(n){bg[t](n,e)&&(l.current(),n.preventDefault())}return r.current.add(n),()=>{r.current.delete(n)}},[e,t]),null},RichTextToolbarButton:function({name:e,shortcutType:t,shortcutCharacter:n,...r}){let l,i="RichText.ToolbarControls";return e&&(i+=`.${e}`),t&&n&&(l=fg[t](n)),o.jsx(da,{name:i,children:o.jsx(ns,{...r,shortcut:l})})},SETTINGS_DEFAULTS:E,SkipToSelectedBlock:rC,ToolSelector:H_,Typewriter:WS,URLInput:i_,URLInputButton:U_,URLPopover:a_,Warning:Td,WritingFlow:Im,__experimentalBlockAlignmentMatrixControl:function(e){const{label:t=ao("Change matrix alignment"),onChange:n=kg,value:r="center",isDisabled:l}=e,i=o.jsx(os.Icon,{value:r});return o.jsx(rs,{popoverProps:{placement:"bottom-start"},renderToggle:({onToggle:e,isOpen:n})=>o.jsx(ns,{onClick:e,"aria-haspopup":"true","aria-expanded":n,onKeyDown:t=>{n||t.keyCode!==sg||(t.preventDefault(),e())},label:t,icon:i,showTooltip:!0,disabled:l}),renderContent:()=>o.jsx(os,{hasFocusBorder:!1,onChange:n,value:r})})},__experimentalBlockFullHeightAligmentControl:function({isActive:e,label:t=ao("Toggle full height"),onToggle:n,isDisabled:r}){return o.jsx(ns,{isActive:e,icon:Ue,label:t,onClick:()=>n(!e),disabled:r})},__experimentalBlockPatternSetup:({clientId:e,blockName:t,filterPatternsFn:r,onBlockPatternSelect:l,initialViewMode:i=Kv,showTitles:s=!1})=>{const[a,c]=n.useState(i),[u,d]=n.useState(0),{replaceBlock:p}=ld(y),g=function(e,t,n){return od(o=>{const{getBlockRootClientId:r,getPatternsByBlockTypes:l,__experimentalGetAllowedPatterns:i}=o(y),s=r(e);return n?i(s).filter(n):l(t,s)},[e,t,n])}(e,t,r);if(!g?.length)return null;const m=l||(t=>{const n=t.map(e=>Q(e));p(e,n)});return o.jsx(o.Fragment,{children:o.jsxs("div",{className:`block-editor-block-pattern-setup view-mode-${a}`,children:[o.jsx(Jv,{viewMode:a,activeSlide:u,patterns:g,onBlockPatternSelect:m,showTitles:s}),o.jsx(Xv,{viewMode:a,setViewMode:c,activeSlide:u,totalSlides:g.length,handleNext:()=>{d(e=>Math.min(e+1,g.length-1))},handlePrevious:()=>{d(e=>Math.max(e-1,0))},onBlockPatternSelect:()=>{m(g[u].blocks)}})]})})},__experimentalBlockPatternsList:uh,__experimentalBlockVariationPicker:function({icon:e=nn,label:t=ao("Choose variation"),instructions:n=ao("Select a variation to start with:"),variations:r,onSelect:l,allowSkip:i}){const s=ei("block-editor-block-variation-picker",{"has-many-variations":r.length>4});return o.jsxs(Ws,{icon:e,label:t,instructions:n,className:s,children:[o.jsx("ul",{className:"block-editor-block-variation-picker__variations",role:"list","aria-label":ao("Block variations"),children:r.map(e=>o.jsxs("li",{children:[o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"tertiary",icon:e.icon&&e.icon.src?e.icon.src:e.icon,iconSize:48,onClick:()=>l(e),className:"block-editor-block-variation-picker__variation",label:e.description||e.title}),o.jsx("span",{className:"block-editor-block-variation-picker__variation-label",children:e.title})]},e.name))}),i&&o.jsx("div",{className:"block-editor-block-variation-picker__skip",children:o.jsx(Mi,{__next40pxDefaultSize:!0,variant:"link",onClick:()=>l(),children:ao("Skip")})})]})},__experimentalBlockVariationTransforms:rx,__experimentalBorderRadiusControl:xx,__experimentalColorGradientControl:Nx,__experimentalColorGradientSettingsDropdown:Wx,__experimentalDateFormatPicker:function({format:e,defaultFormat:t,onChange:n}){return o.jsxs("fieldset",{className:"block-editor-date-format-picker",children:[o.jsx(fs,{as:"legend",children:ao("Date format")}),o.jsx(Wi,{__nextHasNoMarginBottom:!0,label:ao("Default format"),help:`${ao("Example:")}  ${ln(t,Dx)}`,checked:!e,onChange:e=>n(e?null:t)}),e&&o.jsx(Px,{format:e,onChange:n})]})},__experimentalDuotoneControl:Tx,__experimentalFontAppearanceControl:Mx,__experimentalFontFamilyControl:Lx,__experimentalGetBorderClassesAndStyles:Ol,__experimentalGetColorClassesAndStyles:Fl,__experimentalGetElementClassName:e=>gw[e]?gw[e]:"",__experimentalGetGapCSSValue:So,__experimentalGetGradientClass:Vd,__experimentalGetGradientObjectByGradientValue:Hd,__experimentalGetShadowClassesAndStyles:Gl,__experimentalGetSpacingClassesAndStyles:Ul,__experimentalImageEditor:function({id:e,url:t,width:n,height:r,naturalHeight:l,naturalWidth:i,onSaveImage:s,onFinishEditing:a,borderProps:c}){return o.jsxs(oy,{id:e,url:t,naturalWidth:i,naturalHeight:l,onSaveImage:s,onFinishEditing:a,children:[o.jsx(ay,{borderProps:c,url:t,width:n,height:r,naturalHeight:l,naturalWidth:i}),o.jsxs(rk,{children:[o.jsxs(Ai,{children:[o.jsx(cy,{}),o.jsx(Rs,{children:e=>o.jsx(sy,{toggleProps:e})}),o.jsx(uy,{})]}),o.jsx(Ai,{children:o.jsx(dy,{})})]})]})},__experimentalImageSizeControl:function({imageSizeHelp:e,imageWidth:t,imageHeight:r,imageSizeOptions:l=[],isResizable:i=!0,slug:s,width:a,height:c,onChange:u,onChangeImage:d=gy}){const{currentHeight:p,currentWidth:g,updateDimension:m,updateDimensions:h}=function(e,t,o,r,l){var i,s;const[a,c]=n.useState(null!==(i=null!=t?t:r)&&void 0!==i?i:""),[u,d]=n.useState(null!==(s=null!=e?e:o)&&void 0!==s?s:"");return n.useEffect(()=>{void 0===t&&void 0!==r&&c(r),void 0===e&&void 0!==o&&d(o)},[r,o]),n.useEffect(()=>{void 0!==t&&Number.parseInt(t)!==Number.parseInt(a)&&c(t),void 0!==e&&Number.parseInt(e)!==Number.parseInt(u)&&d(e)},[t,e]),{currentHeight:u,currentWidth:a,updateDimension:(e,t)=>{const n=""===t?void 0:parseInt(t,10);"width"===e?c(n):d(n),l({[e]:n})},updateDimensions:(e,t)=>{d(null!=e?e:o),c(null!=t?t:r),l({height:e,width:t})}}}(c,a,r,t,u);return o.jsxs(o.Fragment,{children:[l&&l.length>0&&o.jsx(ea,{__nextHasNoMarginBottom:!0,label:ao("Resolution"),value:s,options:l,onChange:d,help:e,size:"__unstable-large"}),i&&o.jsxs("div",{className:"block-editor-image-size-control",children:[o.jsxs(hs,{align:"baseline",spacing:"3",children:[o.jsx(Qi,{className:"block-editor-image-size-control__width",label:ao("Width"),value:g,min:1,onChange:e=>m("width",e),size:"__unstable-large"}),o.jsx(Qi,{className:"block-editor-image-size-control__height",label:ao("Height"),value:p,min:1,onChange:e=>m("height",e),size:"__unstable-large"})]}),o.jsxs(hs,{children:[o.jsx(oa,{"aria-label":ao("Image size presets"),children:py.map(e=>{const n=Math.round(t*(e/100)),l=Math.round(r*(e/100)),i=g===n&&p===l;return o.jsxs(Mi,{size:"small",variant:i?"primary":void 0,isPressed:i,onClick:()=>h(l,n),children:[e,"%"]},e)})}),o.jsx(Mi,{size:"small",onClick:()=>h(),children:ao("Reset")})]})]})]})},__experimentalImageURLInputUI:({linkDestination:e,onChangeUrl:t,url:r,mediaType:l="image",mediaUrl:i,mediaLink:s,linkTarget:a,linkClass:c,rel:u,showLightboxSetting:d,lightboxEnabled:p,onSetLightbox:g,resetLightbox:m})=>{const[h,f]=n.useState(!1),[b,k]=n.useState(null),[v,x]=n.useState(!1),[y,_]=n.useState(null),C=n.useRef(null),j=n.useRef();n.useEffect(()=>{if(!j.current)return;(qe.focusable.find(j.current)[0]||j.current).focus()},[v,r,p]);const S=()=>{e!==K_&&e!==q_||_(""),x(!0)},w=()=>{x(!1)},I=()=>{const e=[{linkDestination:K_,title:ao("Link to image file"),url:"image"===l?i:void 0,icon:eo}];return"image"===l&&s&&e.push({linkDestination:q_,title:ao("Link to attachment page"),url:"image"===l?s:void 0,icon:Ie}),e},B=o.jsxs(qi,{spacing:"3",children:[o.jsx(Wi,{__nextHasNoMarginBottom:!0,label:ao("Open in new tab"),onChange:e=>{const n=(e=>{const t=e?"_blank":void 0;let n;if(t){const e=(null!=u?u:"").split(" ");Z_.forEach(t=>{e.includes(t)||e.push(t)}),n=e.join(" ")}else{const e=(null!=u?u:"").split(" ").filter(e=>!1===Z_.includes(e));n=e.length?e.join(" "):void 0}return{linkTarget:t,rel:n}})(e);t(n)},checked:"_blank"===a}),o.jsx(zs,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:ao("Link rel"),value:null!=u?u:"",onChange:e=>{t({rel:e})}}),o.jsx(zs,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:ao("Link CSS class"),value:c||"",onChange:e=>{t({linkClass:e})}})]}),N=null!==y?y:r,E=!p||p&&!d,D=!N&&E,P=(I().find(t=>t.linkDestination===e)||{}).title;return o.jsxs(o.Fragment,{children:[o.jsx(ns,{icon:on,className:"components-toolbar__control",label:ao("Link"),"aria-expanded":h,onClick:()=>{f(!0)},ref:k,isActive:!!r||p&&d}),h&&o.jsx(a_,{ref:j,anchor:b,onFocusOutside:e=>{const t=C.current;t&&t.contains(e.target)||(f(!1),_(null),w())},onClose:()=>{_(null),w(),f(!1)},renderSettings:E?()=>B:null,additionalControls:D&&o.jsxs(Vs,{children:[I().map(e=>o.jsx(Ti,{icon:e.icon,iconPosition:"left",onClick:()=>{_(null),(e=>{const n=I();let o;o=e?(n.find(t=>t.url===e)||{linkDestination:W_}).linkDestination:G_,t({linkDestination:o,href:e})})(e.url),w()},children:e.title},e.linkDestination)),d&&o.jsx(Ti,{className:"block-editor-url-popover__expand-on-click",icon:Ue,info:ao("Scale the image with a lightbox effect."),iconPosition:"left",onClick:()=>{_(null),t({linkDestination:G_,href:""}),g?.(!0),w()},children:ao("Expand on click")},"expand-on-click")]}),offset:13,children:p&&d&&!r&&!v?o.jsxs("div",{className:"block-editor-url-popover__expand-on-click",children:[o.jsx(we,{icon:Ue}),o.jsxs("div",{className:"text",children:[o.jsx("p",{children:ao("Expand on click")}),o.jsx("p",{className:"description",children:ao("Scales the image with a lightbox effect")})]}),o.jsx(Mi,{icon:rn,label:ao("Disable expand on click"),onClick:()=>{g?.(!1)},size:"compact"})]}):!r||v?o.jsx(a_.LinkEditor,{className:"block-editor-format-toolbar__link-container-content",value:N,onChangeInputValue:_,onSubmit:e=>{if(y){const e=I().find(e=>e.url===y)?.linkDestination||W_;t({href:y,linkDestination:e,lightbox:{enabled:!1}})}w(),_(null),e.preventDefault()},autocompleteRef:C}):r&&!v?o.jsxs(o.Fragment,{children:[o.jsx(a_.LinkViewer,{className:"block-editor-format-toolbar__link-container-content",url:r,onEditLinkClick:S,urlLabel:P}),o.jsx(Mi,{icon:rn,label:ao("Remove link"),onClick:()=>{t({linkDestination:G_,href:""}),m?.()},size:"compact"})]}):void 0})]})},__experimentalInspectorPopoverHeader:YS,__experimentalLetterSpacingControl:Rx,__experimentalLibrary:$S,__experimentalLinkControl:Jy,__experimentalLinkControlSearchInput:Ay,__experimentalLinkControlSearchItem:Cy,__experimentalLinkControlSearchResults:Dy,__experimentalListView:Av,__experimentalPanelColorGradientSettings:Xx,__experimentalPreviewOptions:function(){return be("wp.blockEditor.PreviewOptions",{version:"6.5"}),null},__experimentalPublishDateTimePicker:JS,__experimentalRecursionProvider:e=>(be("wp.blockEditor.__experimentalRecursionProvider",{since:"6.5",alternative:"wp.blockEditor.RecursionProvider"}),o.jsx(qS,{...e})),__experimentalResponsiveBlockControl:function(e){const{title:t,property:r,toggleLabel:l,onIsResponsiveChange:i,renderDefaultControl:s,renderResponsiveControls:a,isResponsive:c=!1,defaultLabel:u={id:"all",label:uo("All","screen sizes")},viewports:d=[{id:"small",label:ao("Small screens")},{id:"medium",label:ao("Medium screens")},{id:"large",label:ao("Large screens")}]}=e;if(!t||!r||!s)return null;const p=l||po(ao("Use the same %s on all screen sizes."),r),g=ao("Toggle between using the same value for all screen sizes or using a unique value per screen size."),m=s(o.jsx(V_,{property:r,viewport:u}),u);return o.jsxs("fieldset",{className:"block-editor-responsive-block-control",children:[o.jsx("legend",{className:"block-editor-responsive-block-control__title",children:t}),o.jsxs("div",{className:"block-editor-responsive-block-control__inner",children:[o.jsx(Wi,{__nextHasNoMarginBottom:!0,className:"block-editor-responsive-block-control__toggle",label:p,checked:!c,onChange:i,help:g}),o.jsxs("div",{className:ei("block-editor-responsive-block-control__group",{"is-responsive":c}),children:[!c&&m,c&&(a?a(d):d.map(e=>o.jsx(n.Fragment,{children:s(o.jsx(V_,{property:r,viewport:e}),e)},e.id)))]})]})]})},__experimentalSpacingSizesControl:oC,__experimentalTextDecorationControl:Ox,__experimentalTextTransformControl:Fx,__experimentalUnitControl:function({units:e,...t}){const[n]=Ad("spacing.units"),r=Ki({availableUnits:n||["%","px","em","rem","vw"],units:e});return o.jsx(Zi,{units:r,...t})},__experimentalUseBlockOverlayActive:function(e){return od(t=>{const{__unstableHasActiveBlockOverlayActive:n}=t(y);return n(e)},[e])},__experimentalUseBlockPreview:function({blocks:e,props:t={},layout:r}){const l=od(e=>e(y).getSettings(),[]),i=n.useMemo(()=>({...l,styles:void 0,focusMode:!1,__unstableIsPreviewMode:!0}),[l]),s=pi(),a=di([t.ref,s]),c=n.useMemo(()=>Array.isArray(e)?e:[e],[e]),u=o.jsxs(um,{value:c,settings:i,children:[o.jsx(Mm,{}),o.jsx(qf,{renderAppender:!1,layout:r})]});return{...t,ref:a,className:ei(t.className,"block-editor-block-preview__live-content","components-disabled"),children:e?.length?u:null}},__experimentalUseBorderProps:zl,__experimentalUseColorProps:$l,__experimentalUseCustomSides:Hl,__experimentalUseGradient:function({gradientAttribute:e="gradient",customGradientAttribute:t="customGradient"}={}){const{clientId:o}=kd(),[r,l,i]=Ad("color.gradients.custom","color.gradients.theme","color.gradients.default"),s=n.useMemo(()=>[...r||[],...l||[],...i||[]],[r,l,i]),{gradient:a,customGradient:c}=od(n=>{const{getBlockAttributes:r}=n(y),l=r(o)||{};return{customGradient:l[t],gradient:l[e]}},[o,e,t]),{updateBlockAttributes:u}=ld(y),d=n.useCallback(n=>{const r=Ud(s,n);u(o,r?{[e]:r,[t]:void 0}:{[e]:void 0,[t]:n})},[s,o,u]),p=Vd(a);let g;return g=a?$d(s,a):c,{gradientClass:p,gradientValue:g,setGradient:d}},__experimentalUseHasRecursion:(...e)=>(be("wp.blockEditor.__experimentalUseHasRecursion",{since:"6.5",alternative:"wp.blockEditor.useHasRecursion"}),ZS(...e)),__experimentalUseMultipleOriginColorsAndGradients:Kx,__experimentalUseResizeCanvas:function(e){const[t,o]=n.useState(window.innerWidth);n.useEffect(()=>{if("Desktop"===e)return;const t=()=>o(window.innerWidth);return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e]);const r=e=>{let n;switch(e){case"Tablet":n=780;break;case"Mobile":n=360;break;default:return null}return n<t?n:t};return(e=>{const t="Mobile"===e?"768px":"1024px",n=(window.innerHeight<800?36:64)+"px",o="auto";switch(e){case"Tablet":case"Mobile":return{width:r(e),marginTop:n,marginBottom:n,marginLeft:o,marginRight:o,height:t,overflowY:"auto"};default:return{marginLeft:o,marginRight:o}}})(e)},__experimentalWritingModeControl:$x,__unstableBlockNameContext:Fk,__unstableBlockSettingsMenuFirstItem:gk,__unstableBlockToolbarLastItem:ik,__unstableEditorStyles:Mm,__unstableIframe:Pm,__unstableInserterMenuExtension:Ah,__unstableRichTextInputEvent:function({inputType:e,onInput:t}){const o=n.useContext(P_),r=n.useRef();return r.current=t,n.useEffect(()=>{function t(t){t.inputType===e&&(r.current(),t.preventDefault())}return o.current.add(t),()=>{o.current.delete(t)}},[e]),null},__unstableUseBlockSelectionClearer:pm,__unstableUseClipboardHandler:()=>(be("__unstableUseClipboardHandler",{alternative:"BlockCanvas or WritingFlow",since:"6.4",version:"6.7"}),Sm()),__unstableUseMouseMoveTypingReset:Rf,__unstableUseTypewriter:GS,__unstableUseTypingObserver:Af,createCustomColorsHOC:function(e){return(...t)=>{const n=(e=>ti(t=>n=>o.jsx(t,{...n,colors:e}),"withCustomColorPalette"))(e);return ti(Fd(t,n),"withCustomColors")}},getColorClassName:ko,getColorObjectByAttributeValues:bo,getColorObjectByColorValue:fo,getComputedFluidTypographyValue:Xl,getCustomValueFromPreset:Wr,getFontSize:vo,getFontSizeClass:xo,getFontSizeObjectByValue:Yl,getGradientSlugByValue:Ud,getGradientValueBySlug:$d,getPxFromCssUnit:Jl,getSpacingPresetCssVar:Zl,getTypographyClassesAndStyles:Vl,isValueSpacingPreset:Ur,privateApis:_w,store:y,storeConfig:C,transformStyles:Ao,useBlockBindingsUtils:Ql,useBlockCommands:iv,useBlockDisplayInformation:fb,useBlockEditContext:kd,useBlockEditingMode:QS,useBlockProps:Xg,useCachedTruthy:Wl,useHasRecursion:ZS,useInnerBlocksProps:Mf,useSetting:function(e){be("wp.blockEditor.useSetting",{since:"6.5",alternative:"wp.blockEditor.useSettings",note:"The new useSettings function can retrieve multiple settings at once, with better performance."});const[t]=Ad(e);return t},useSettings:Ad,useStyleOverride:ql,useZoomOut:Kl,withColorContext:yx,withColors:function(...e){const t=ti(e=>t=>{const[r,l,i]=Ad("color.palette.custom","color.palette.theme","color.palette.default"),s=n.useMemo(()=>[...r||[],...l||[],...i||[]],[r,l,i]);return o.jsx(e,{...t,colors:s})},"withEditorColorPalette");return ti(Fd(e,t),"withColors")},withFontSizes:(...e)=>{const t=e.reduce((e,t)=>(e[t]=`custom${Wd(t)}`,e),{});return ti(ri([ti(e=>t=>{const[n]=Ad("typography.fontSizes");return o.jsx(e,{...t,fontSizes:n||Gd})},"withFontSizes"),e=>class extends n.Component{constructor(e){super(e),this.setters=this.createSetters(),this.state={}}createSetters(){return Object.entries(t).reduce((e,[t,n])=>(e[`set${Wd(t)}`]=this.createSetFontSize(t,n),e),{})}createSetFontSize(e,t){return n=>{const o=this.props.fontSizes?.find(({size:e})=>e===Number(n));this.props.setAttributes({[e]:o&&o.slug?o.slug:void 0,[t]:o&&o.slug?void 0:n})}}static getDerivedStateFromProps({attributes:e,fontSizes:n},o){const r=(t,n)=>!o[n]||(e[n]?e[n]!==o[n].slug:o[n].size!==e[t]);if(!Object.values(t).some(r))return null;const l=Object.entries(t).filter(([e,t])=>r(t,e)).reduce((t,[o,r])=>{const l=e[o],i=vo(n,l,e[r]);return t[o]={...i,class:xo(l)},t},{});return{...o,...l}}render(){return o.jsx(e,{...this.props,fontSizes:void 0,...this.state,...this.setters})}}]),"withFontSizes")}},Symbol.toStringTag,{value:"Module"}));export{mj as $,jC as A,wC as B,Bd as C,Rj as D,Kx as E,Lj as F,uC as G,Uj as H,mb as I,kd as J,ud as K,vp as L,dd as M,Yp as N,QS as O,Cu as P,rk as Q,Qp as R,wg as S,Ex as T,Gj as U,lS as V,Yd as W,WC as X,lj as Y,df as Z,Vd as _,Eu as a,Ij as a0,dC as a1,gS as a2,Tx as a3,FC as a4,OC as a5,Vp as a6,$p as a7,Wp as a8,ew as a9,sw as aa,cw as ab,dw as ac,$d as ad,Xa as ae,Za as af,qa as ag,dc as ah,uc as ai,su as aj,Sc as ak,jc as al,Sd as am,hc as an,ac as ao,dm as ap,Kk as aq,Im as ar,Of as as,Uf as at,RS as au,Cw as av,Hu as b,_c as c,Tu as d,Nu as e,zu as f,ad as g,du as h,Mu as i,od as j,ld as k,Fu as l,dk as m,Qc as n,eu as o,$u as p,ou as q,cd as r,sd as s,Yu as t,Id as u,Yg as v,Xc as w,Ad as x,fb as y,CC as z};
