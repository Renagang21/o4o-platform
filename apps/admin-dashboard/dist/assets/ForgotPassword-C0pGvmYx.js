import{r as e,j as s,bV as t,cu as r,A as o,bU as i,c2 as a}from"./vendor-react-BQ6HOJoh.js";import"./wp-block-editor-a11y-DrduSWFW.js";import"./wp-block-editor-misc-pHCPYvR2.js";import"./wp-block-editor-api-Buev8_QU.js";import"./wp-block-editor-utils-M5qXzE1L.js";import"./wp-block-editor-colors-D38h-Odz.js";import"./wp-blocks-core-6vwQKPfS.js";import"./wp-block-editor-clipboard-Dg0Y1gQ6.js";import"./wp-misc-DS9m4_P2.js";import"./vendor-ui-CrFdsnXa.js";import"./vendor-query-LYSOqK5P.js";import"./page-template-editor-C7FodHrK.js";import"./vendor-utils-D-spY-QM.js";import"./wp-core-Y-jV-nrZ.js";import"./wp-block-editor-keyboard-CeHTtvP5.js";import"./wp-data-BmtL8k4r.js";import"./wp-block-editor-store-B-g1aSix.js";import"./wp-block-editor-dnd-BYoS8-II.js";import"./wp-block-editor-library-BpQvynjE.js";import"./wp-block-editor-menus-BTQ2wZ-f.js";import"./wp-block-editor-typography-Bl_1REQP.js";import"./wp-block-editor-spacing-BD_2CpN7.js";import"./wp-block-editor-core-DL280tSA.js";import"./wp-block-editor-selection-CC4tJpUu.js";import"./wp-block-editor-formats-CLXkimOp.js";import"./wp-block-editor-inline-CpXpUhQU.js";import"./wp-block-editor-ui-B8YE_4QL.js";import"./wp-block-editor-transforms-jLcKa8Hv.js";import"./wp-block-editor-preview-iw2Xu1ib.js";import"./wp-block-editor-global-styles-CV5-K6QF.js";import"./wp-block-editor-borders-BH1devca.js";import"./wp-block-editor-patterns-BXdHo9lm.js";import"./wp-block-editor-navigation-BFSoKzg0.js";import"./wp-block-editor-media-Bg-JiQDT.js";import"./wp-api-BeoadipR.js";import"./wp-i18n-DGPtqsXY.js";import"./vendor-monaco-BxJH8uUv.js";import"./wp-block-editor-upload-BLw1R9wP.js";import"./wp-block-editor-templates-o1_wAMb9.js";import"./wp-components-CeQNCpMW.js";const l=()=>{const[l,d]=e.useState(""),[m,c]=e.useState(!1),[n,p]=e.useState(!1),[x,j]=e.useState("");return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(t,{className:"mx-auto h-12 w-12 text-green-500"}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"이메일을 확인해주세요"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"입력하신 이메일 주소로 비밀번호 재설정 링크를 보내드렸습니다."}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"메일이 도착하지 않았다면 스팸 폴더를 확인해주세요."})]}),s.jsxs("div",{className:"mt-8 space-y-3",children:[s.jsxs(r,{to:"/login",className:"group relative w-full flex justify-center items-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-admin-blue",children:[s.jsx(o,{className:"h-4 w-4 mr-2"}),"로그인 페이지로 돌아가기"]}),s.jsx("button",{onClick:()=>{p(!1),d("")},className:"w-full text-sm text-admin-blue hover:text-admin-blue-dark",children:"다른 이메일로 재시도"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"비밀번호 재설정"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["가입하신 이메일 주소를 입력하시면",s.jsx("br",{}),"비밀번호 재설정 링크를 보내드립니다."]})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{e.preventDefault(),j(""),c(!0);try{const e="https://api.neture.co.kr/api/v1",s=await fetch(`${e}/auth/v2/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l})}),t=await s.json();s.ok?p(!0):j(t.error||"비밀번호 재설정 요청에 실패했습니다.")}catch(s){j("서버와의 연결에 실패했습니다. 잠시 후 다시 시도해주세요.")}finally{c(!1)}},children:[x&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(i,{className:"h-5 w-5 text-red-400"}),s.jsx("div",{className:"ml-3",children:s.jsx("h3",{className:"text-sm font-medium text-red-800",children:x})})]})}),s.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"이메일 주소"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(a,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:e=>d(e.target.value),className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-admin-blue focus:border-admin-blue focus:z-10 sm:text-sm",placeholder:"이메일 주소",disabled:m})]})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:m||!l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-admin-blue hover:bg-admin-blue-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-admin-blue disabled:opacity-50 disabled:cursor-not-allowed",children:m?s.jsx("span",{children:"처리 중..."}):s.jsx("span",{children:"비밀번호 재설정 링크 보내기"})})}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(r,{to:"/login",className:"text-sm text-admin-blue hover:text-admin-blue-dark",children:[s.jsx(o,{className:"inline h-4 w-4 mr-1"}),"로그인으로 돌아가기"]})})]})]})})};export{l as default};
