import{d as e,r as t,j as n}from"./vendor-react-BQ6HOJoh.js";import{c as r}from"./vendor-ui-CrFdsnXa.js";import{aS as o,g as i,l as s,bK as l,bL as c,bM as a,bN as u,bO as d,bP as g,a as f,_ as p,ab as I,aR as k,aU as _,bQ as b,c as E,bR as m,s as S,a0 as B,bS as y,u as h,b as T}from"./wp-block-editor-misc-pHCPYvR2.js";import{a as C}from"./wp-block-editor-dnd-BYoS8-II.js";import{a as O,e as v,w as R,h as L,b as A,L as N,M,N as w,O as P,c as D,t as K,f as G,u as x,x as U,d as V,P as H}from"./wp-blocks-core-6vwQKPfS.js";import{a as j,c as F}from"./wp-block-editor-clipboard-Dg0Y1gQ6.js";import{g as W}from"./wp-block-editor-api-Buev8_QU.js";import{ah as z}from"./wp-block-editor-a11y-DrduSWFW.js";import{b_ as Y,b$ as X,V as Z,ae as $,c0 as q,c1 as J,c2 as Q,c3 as ee,aj as te,c4 as ne,ak as re,c5 as oe,c6 as ie,al as se,am as le,c7 as ce}from"./wp-block-editor-utils-M5qXzE1L.js";import{c as ae,r as ue,t as de,e as ge}from"./wp-block-editor-formats-CLXkimOp.js";import{v as fe,x as pe}from"./wp-block-editor-ui-B8YE_4QL.js";import{at as Ie}from"./wp-block-editor-library-BpQvynjE.js";import{s as ke}from"./wp-misc-DS9m4_P2.js";var _e,be;var Ee=function(){if(be)return _e;function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}function n(e,t){var n=e._map,r=e._arrayTreeMap,o=e._objectTreeMap;if(n.has(t))return n.get(t);for(var i=Object.keys(t).sort(),s=Array.isArray(t)?r:o,l=0;l<i.length;l++){var c=i[l];if(void 0===(s=s.get(c)))return;var a=t[c];if(void 0===(s=s.get(a)))return}var u=s.get("_ekm_value");return u?(n.delete(u[0]),u[0]=t,s.set("_ekm_value",u),n.set(t,u),u):void 0}be=1;var r=function(){function r(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.clear(),e instanceof r){var t=[];e.forEach(function(e,n){t.push([n,e])}),e=t}if(null!=e)for(var n=0;n<e.length;n++)this.set(e[n][0],e[n][1])}return t(r,[{key:"set",value:function(t,n){if(null===t||"object"!==e(t))return this._map.set(t,n),this;for(var o=Object.keys(t).sort(),i=[t,n],s=Array.isArray(t)?this._arrayTreeMap:this._objectTreeMap,l=0;l<o.length;l++){var c=o[l];s.has(c)||s.set(c,new r),s=s.get(c);var a=t[c];s.has(a)||s.set(a,new r),s=s.get(a)}var u=s.get("_ekm_value");return u&&this._map.delete(u[0]),s.set("_ekm_value",i),this._map.set(t,i),this}},{key:"get",value:function(t){if(null===t||"object"!==e(t))return this._map.get(t);var r=n(this,t);return r?r[1]:void 0}},{key:"has",value:function(t){return null===t||"object"!==e(t)?this._map.has(t):void 0!==n(this,t)}},{key:"delete",value:function(e){return!!this.has(e)&&(this.set(e,void 0),!0)}},{key:"forEach",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this._map.forEach(function(o,i){null!==i&&"object"===e(i)&&(o=o[1]),t.call(r,o,i,n)})}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}]),r}();return _e=r}();const me=e(Ee);function Se(e){const t=Object.keys(e);return function(n={},r){const o={};let i=!1;for(const s of t){const t=e[s],l=n[s],c=t(l,r);o[s]=c,i=i||c!==l}return i?o:n}}function Be(e){return()=>t=>n=>"function"==typeof n?n(e):t(n)}const ye=Y("selectorName")((e=new me,t)=>{switch(t.type){case"START_RESOLUTION":{const n=new me(e);return n.set(X(t.args),{status:"resolving"}),n}case"FINISH_RESOLUTION":{const n=new me(e);return n.set(X(t.args),{status:"finished"}),n}case"FAIL_RESOLUTION":{const n=new me(e);return n.set(X(t.args),{status:"error",error:t.error}),n}case"START_RESOLUTIONS":{const n=new me(e);for(const e of t.args)n.set(X(e),{status:"resolving"});return n}case"FINISH_RESOLUTIONS":{const n=new me(e);for(const e of t.args)n.set(X(e),{status:"finished"});return n}case"FAIL_RESOLUTIONS":{const n=new me(e);return t.args.forEach((e,r)=>{const o={status:"error",error:void 0},i=t.errors[r];i&&(o.error=i),n.set(X(e),o)}),n}case"INVALIDATE_RESOLUTION":{const n=new me(e);return n.delete(X(t.args)),n}}return e}),he=(e={},t)=>{switch(t.type){case"INVALIDATE_RESOLUTION_FOR_STORE":return{};case"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR":if(t.selectorName in e){const{[t.selectorName]:n,...r}=e;return r}return e;case"START_RESOLUTION":case"FINISH_RESOLUTION":case"FAIL_RESOLUTION":case"START_RESOLUTIONS":case"FINISH_RESOLUTIONS":case"FAIL_RESOLUTIONS":case"INVALIDATE_RESOLUTION":return ye(e,t)}return e};function Te(e,t,n){const r=e[t];if(r)return r.get(X(n))}const Ce=o(e=>{const t={};return Object.values(e).forEach(e=>Array.from(e._map.values()).forEach(e=>{var n;const r=null!==(n=e[1]?.status)&&void 0!==n?n:"error";t[r]||(t[r]=0),t[r]++})),t},e=>[e]),Oe=Object.freeze(Object.defineProperty({__proto__:null,countSelectorsByStatus:Ce,getCachedResolvers:function(e){return e},getIsResolving:function(e,t,n){i("wp.data.select( store ).getIsResolving",{since:"6.6",version:"6.8",alternative:"wp.data.select( store ).getResolutionState"});const r=Te(e,t,n);return r&&"resolving"===r.status},getResolutionError:function(e,t,n){const r=Te(e,t,n);return"error"===r?.status?r.error:null},getResolutionState:Te,hasFinishedResolution:function(e,t,n){const r=Te(e,t,n)?.status;return"finished"===r||"error"===r},hasResolutionFailed:function(e,t,n){return"error"===Te(e,t,n)?.status},hasResolvingSelectors:function(e){return Object.values(e).some(e=>Array.from(e._map.values()).some(e=>"resolving"===e[1]?.status))},hasStartedResolution:function(e,t,n){return void 0!==Te(e,t,n)},isResolving:function(e,t,n){return"resolving"===Te(e,t,n)?.status}},Symbol.toStringTag,{value:"Module"}));function ve(e,t){return{type:"START_RESOLUTION",selectorName:e,args:t}}function Re(e,t){return{type:"FINISH_RESOLUTION",selectorName:e,args:t}}function Le(e,t,n){return{type:"FAIL_RESOLUTION",selectorName:e,args:t,error:n}}const Ae=Object.freeze(Object.defineProperty({__proto__:null,failResolution:Le,failResolutions:function(e,t,n){return{type:"FAIL_RESOLUTIONS",selectorName:e,args:t,errors:n}},finishResolution:Re,finishResolutions:function(e,t){return{type:"FINISH_RESOLUTIONS",selectorName:e,args:t}},invalidateResolution:function(e,t){return{type:"INVALIDATE_RESOLUTION",selectorName:e,args:t}},invalidateResolutionForStore:function(){return{type:"INVALIDATE_RESOLUTION_FOR_STORE"}},invalidateResolutionForStoreSelector:function(e){return{type:"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR",selectorName:e}},startResolution:ve,startResolutions:function(e,t){return{type:"START_RESOLUTIONS",selectorName:e,args:t}}},Symbol.toStringTag,{value:"Module"})),Ne=e=>{const t=[...e];for(let n=t.length-1;n>=0;n--)void 0===t[n]&&t.splice(n,1);return t},Me=(e,t)=>Object.fromEntries(Object.entries(null!=e?e:{}).map(([e,n])=>[e,t(n,e)])),we=(e,t)=>t instanceof Map?Object.fromEntries(t):t instanceof window.HTMLElement?null:t;function Pe(e,t){const n=new WeakMap;return{get(r){const o=e(r);if(!o)return null;let i=n.get(o);return i||(i=t(o,r),n.set(o,i)),i}}}function De(e,t){return new Proxy(e,{get:(e,n)=>t.get(n)||Reflect.get(e,n)})}function Ke(e,t){const n={},r={},o={privateActions:n,registerPrivateActions:e=>{Object.assign(n,e)},privateSelectors:r,registerPrivateSelectors:e=>{Object.assign(r,e)}},i={name:e,instantiate:i=>{const f=new Set,p=t.reducer,I=function(e,t,n,r){const o={...t.controls,...g},i=Me(o,e=>e.isRegistryControl?e(n):e),s=[c(n,e),a,u(i),Be(r)],f=[l(...s)];"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&f.push(window.__REDUX_DEVTOOLS_EXTENSION__({name:e,instanceId:e,serialize:{replacer:we}}));const{reducer:p,initialState:I}=t,k=Se({metadata:he,root:p});return d(k,{root:I},Z(f))}(e,t,i,{registry:i,get dispatch(){return m},get select(){return v},get resolveSelect(){return L}});s(I,o);const k=function(){const e={};return{isRunning:(t,n)=>e[t]&&e[t].get(Ne(n)),clear(t,n){e[t]&&e[t].delete(Ne(n))},markAsRunning(t,n){e[t]||(e[t]=new me),e[t].set(Ne(n),!0)}}}();function _(e){return(...t)=>Promise.resolve(I.dispatch(e(...t)))}const b={...Me(Ae,_),...Me(t.actions,_)},E=De(b,Pe(e=>n[e],_)),m=new Proxy(e=>I.dispatch(e),{get:(e,t)=>E[t]});s(b,E);const S=t.resolvers?Me(t.resolvers,Ge):{};function B(e,t){e.isRegistrySelector&&(e.registry=i);const n=(...t)=>{t=xe(e,t);const n=I.__unstableOriginalGetState();return e.isRegistrySelector&&(e.registry=i),e(n.root,...t)};n.__unstableNormalizeArgs=e.__unstableNormalizeArgs;const r=S[t];return r?function(e,t,n,r,o,i){function s(e){const s=r.getState();o.isRunning(t,e)||"function"==typeof n.isFulfilled&&n.isFulfilled(s,...e)||i.hasStartedResolution(t,e)||(o.markAsRunning(t,e),setTimeout(async()=>{o.clear(t,e),r.dispatch(ve(t,e));try{const o=n.fulfill(...e);o&&await r.dispatch(o),r.dispatch(Re(t,e))}catch(i){r.dispatch(Le(t,e,i))}},0))}const l=(...t)=>(s(t=xe(e,t)),e(...t));return l.hasResolver=!0,l}(n,t,r,I,k,y):(n.hasResolver=!1,n)}const y=Me(Oe,function(e){const n=(n,r,...o)=>{if(n){const e=t.selectors?.[n];e&&(r=xe(e,r))}const i=I.__unstableOriginalGetState();return e(i.metadata,n,r,...o)};return n.hasResolver=!1,n}),h=Me(t.selectors,B),T={...y,...h},C=Pe(e=>r[e],B),O=De(T,C);for(const e of Object.keys(r))C.get(e);const v=new Proxy(e=>e(I.__unstableOriginalGetState()),{get:(e,t)=>O[t]});s(T,O);const R=function(e,t){return(n,r)=>n.hasResolver?(...o)=>new Promise((i,s)=>{const l=()=>t.hasFinishedResolution(r,o),c=e=>{if(t.hasResolutionFailed(r,o)){const e=t.getResolutionError(r,o);s(e)}else i(e)},a=()=>n.apply(null,o),u=a();if(l())return c(u);const d=e.subscribe(()=>{l()&&(d(),c(a()))})}):async(...e)=>n.apply(null,e)}(I,y),L=Me(h,R),A=De(L,Pe(e=>C.get(e),R));s(L,A);const N=function(e,t){return(n,r)=>n.hasResolver?(...o)=>{const i=n.apply(null,o);if(t.hasFinishedResolution(r,o)){if(t.hasResolutionFailed(r,o))throw t.getResolutionError(r,o);return i}throw new Promise(n=>{const i=e.subscribe(()=>{t.hasFinishedResolution(r,o)&&(n(),i())})})}:n}(I,y),M={...y,...Me(h,N)},w=De(M,Pe(e=>C.get(e),N));s(M,w);I.__unstableOriginalGetState=I.getState,I.getState=()=>I.__unstableOriginalGetState().root;const P=I&&(e=>(f.add(e),()=>f.delete(e)));let D=I.__unstableOriginalGetState();return I.subscribe(()=>{const e=I.__unstableOriginalGetState(),t=e!==D;if(D=e,t)for(const n of f)n()}),{reducer:p,store:I,actions:b,selectors:T,resolvers:S,getSelectors:()=>T,getResolveSelectors:()=>L,getSuspendSelectors:()=>M,getActions:()=>b,subscribe:P}}};return s(i,o),i}function Ge(e){return e.fulfill?e:{...e,fulfill:e}}function xe(e,t){return e.__unstableNormalizeArgs&&"function"==typeof e.__unstableNormalizeArgs&&t?.length?e.__unstableNormalizeArgs(t):t}const Ue={name:"core/data",instantiate(e){const t=t=>(n,...r)=>e.select(n)[t](...r),n=t=>(n,...r)=>e.dispatch(n)[t](...r);return{getSelectors:()=>Object.fromEntries(["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"].map(e=>[e,t(e)])),getActions:()=>Object.fromEntries(["startResolution","finishResolution","invalidateResolution","invalidateResolutionForStore","invalidateResolutionForStoreSelector"].map(e=>[e,n(e)])),subscribe:()=>()=>()=>{}}}},Ve=e=>e,He={error:null,initialValue:"",isDirty:!1,isDragEnabled:!1,isDragging:!1,isPressEnterToChange:!1,value:""},je="CHANGE",Fe="COMMIT",We="CONTROL",ze="DRAG_END",Ye="DRAG_START",Xe="DRAG",Ze="INVALIDATE",$e="PRESS_DOWN",qe="PRESS_ENTER",Je="PRESS_UP",Qe="RESET";function et(e=Ve,n=He,r){const[o,i]=t.useReducer((s=e,(e,t)=>{const n={...e};switch(t.type){case We:return n.value=t.payload.value,n.isDirty=!1,n._event=void 0,n;case Je:case $e:n.isDirty=!1;break;case Ye:n.isDragging=!0;break;case ze:n.isDragging=!1;break;case je:n.error=null,n.value=t.payload.value,e.isPressEnterToChange&&(n.isDirty=!0);break;case Fe:n.value=t.payload.value,n.isDirty=!1;break;case Qe:n.error=null,n.isDirty=!1,n.value=t.payload.value||e.initialValue;break;case Ze:n.error=t.payload.error}return n._event=t.payload.event,s(n,t)}),function(e=He){const{value:t}=e;return{...He,...e,initialValue:t}}(n));var s;const l=e=>(t,n)=>{i({type:e,payload:{value:t,event:n}})},c=e=>t=>{i({type:e,payload:{event:t}})},a=e=>t=>{i({type:e,payload:t})},u=l(je),d=l(Qe),g=l(Fe),f=a(Ye),p=a(Xe),I=a(ze),k=c(Je),_=c($e),b=c(qe),E=t.useRef(o),m=t.useRef({value:n.value,onChangeHandler:r});return t.useLayoutEffect(()=>{E.current=o,m.current={value:n.value,onChangeHandler:r}}),t.useLayoutEffect(()=>{var e;void 0===E.current._event||o.value===m.current.value||o.isDirty||m.current.onChangeHandler(null!==(e=o.value)&&void 0!==e?e:"",{event:E.current._event})},[o.value,o.isDirty]),t.useLayoutEffect(()=>{var e;n.value===E.current.value||E.current.isDirty||i({type:We,payload:{value:null!==(e=n.value)&&void 0!==e?e:""}})},[n.value]),{change:u,commit:g,dispatch:i,drag:p,dragEnd:I,dragStart:f,invalidate:(e,t)=>i({type:Ze,payload:{error:e,event:t}}),pressDown:_,pressEnter:b,pressUp:k,reset:d,state:o}}function tt({buttonProps:e,className:t,dropdownProps:o,linkText:i}){return n.jsx(C,{className:r("components-circular-option-picker__dropdown-link-action",t),renderToggle:({isOpen:t,onToggle:r})=>n.jsx(f,{"aria-expanded":t,"aria-haspopup":"true",onClick:r,variant:"link",...e,children:i}),...o})}function nt({className:e,children:t,...o}){return n.jsx(f,{__next40pxDefaultSize:!0,className:r("components-circular-option-picker__clear",e),variant:"tertiary",...o,children:t})}const rt={insertUsage:{}},ot={alignWide:!1,supportsLayout:!0,colors:[{name:p("Black"),slug:"black",color:"#000000"},{name:p("Cyan bluish gray"),slug:"cyan-bluish-gray",color:"#abb8c3"},{name:p("White"),slug:"white",color:"#ffffff"},{name:p("Pale pink"),slug:"pale-pink",color:"#f78da7"},{name:p("Vivid red"),slug:"vivid-red",color:"#cf2e2e"},{name:p("Luminous vivid orange"),slug:"luminous-vivid-orange",color:"#ff6900"},{name:p("Luminous vivid amber"),slug:"luminous-vivid-amber",color:"#fcb900"},{name:p("Light green cyan"),slug:"light-green-cyan",color:"#7bdcb5"},{name:p("Vivid green cyan"),slug:"vivid-green-cyan",color:"#00d084"},{name:p("Pale cyan blue"),slug:"pale-cyan-blue",color:"#8ed1fc"},{name:p("Vivid cyan blue"),slug:"vivid-cyan-blue",color:"#0693e3"},{name:p("Vivid purple"),slug:"vivid-purple",color:"#9b51e0"}],fontSizes:[{name:I("Small","font size name"),size:13,slug:"small"},{name:I("Normal","font size name"),size:16,slug:"normal"},{name:I("Medium","font size name"),size:20,slug:"medium"},{name:I("Large","font size name"),size:36,slug:"large"},{name:I("Huge","font size name"),size:42,slug:"huge"}],imageDefaultSize:"large",imageSizes:[{slug:"thumbnail",name:p("Thumbnail")},{slug:"medium",name:p("Medium")},{slug:"large",name:p("Large")},{slug:"full",name:p("Full Size")}],imageEditing:!0,maxWidth:580,allowedBlockTypes:!0,maxUploadFileSize:0,allowedMimeTypes:null,canLockBlocks:!0,enableOpenverseMediaCategory:!0,clearBlockSelection:!0,__experimentalCanUserUseUnfilteredHTML:!1,__experimentalBlockDirectory:!1,__mobileEnablePageTemplates:!1,__experimentalBlockPatterns:[],__experimentalBlockPatternCategories:[],__unstableIsPreviewMode:!1,blockInspectorAnimation:{animationParent:"core/navigation","core/navigation":{enterDirection:"leftToRight"},"core/navigation-submenu":{enterDirection:"rightToLeft"},"core/navigation-link":{enterDirection:"rightToLeft"},"core/search":{enterDirection:"rightToLeft"},"core/social-links":{enterDirection:"rightToLeft"},"core/page-list":{enterDirection:"rightToLeft"},"core/spacer":{enterDirection:"rightToLeft"},"core/home-link":{enterDirection:"rightToLeft"},"core/site-title":{enterDirection:"rightToLeft"},"core/site-logo":{enterDirection:"rightToLeft"}},generateAnchors:!1,gradients:[{name:p("Vivid cyan blue to vivid purple"),gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:p("Light green cyan to vivid green cyan"),gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:p("Luminous vivid amber to luminous vivid orange"),gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"},{name:p("Luminous vivid orange to vivid red"),gradient:"linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)",slug:"luminous-vivid-orange-to-vivid-red"},{name:p("Very light gray to cyan bluish gray"),gradient:"linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)",slug:"very-light-gray-to-cyan-bluish-gray"},{name:p("Cool to warm spectrum"),gradient:"linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)",slug:"cool-to-warm-spectrum"},{name:p("Blush light purple"),gradient:"linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)",slug:"blush-light-purple"},{name:p("Blush bordeaux"),gradient:"linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)",slug:"blush-bordeaux"},{name:p("Luminous dusk"),gradient:"linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)",slug:"luminous-dusk"},{name:p("Pale ocean"),gradient:"linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)",slug:"pale-ocean"},{name:p("Electric grass"),gradient:"linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)",slug:"electric-grass"},{name:p("Midnight"),gradient:"linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)",slug:"midnight"}],__unstableResolvedAssets:{styles:[],scripts:[]}};function it(e,t,n){return[...e.slice(0,n),...Array.isArray(t)?t:[t],...e.slice(n)]}function st(e,t,n,r=1){const o=[...e];return o.splice(t,r),it(o,e.slice(t,t+r),n)}const lt=e=>e;function ct(e,t=""){const n=new Map,r=[];return n.set(t,r),e.forEach(e=>{const{clientId:t,innerBlocks:o}=e;r.push(t),ct(o,t).forEach((e,t)=>{n.set(t,e)})}),n}function at(e,t=""){const n=[],r=[[t,e]];for(;r.length;){const[e,t]=r.shift();t.forEach(({innerBlocks:t,...o})=>{n.push([o.clientId,e]),t?.length&&r.push([o.clientId,t])})}return n}function ut(e,t=lt){const n=[],r=[...e];for(;r.length;){const{innerBlocks:e,...o}=r.shift();r.push(...e),n.push([o.clientId,t(o)])}return n}function dt(e){return ut(e,e=>{const{attributes:t,...n}=e;return n})}function gt(e){return ut(e,e=>e.attributes)}function ft(e,t){return"UPDATE_BLOCK_ATTRIBUTES"===e.type&&void 0!==t&&"UPDATE_BLOCK_ATTRIBUTES"===t.type&&W(e.clientIds,t.clientIds)&&(n=e.attributes,r=t.attributes,W(Object.keys(n),Object.keys(r)));var n,r}function pt(e,t){const n=e.tree,r=[...t],o=[...t];for(;r.length;){const e=r.shift();r.push(...e.innerBlocks),o.push(...e.innerBlocks)}for(const i of o)n.set(i.clientId,{});for(const i of o)n.set(i.clientId,Object.assign(n.get(i.clientId),{...e.byClientId.get(i.clientId),attributes:e.attributes.get(i.clientId),innerBlocks:i.innerBlocks.map(e=>n.get(e.clientId))}))}function It(e,t,n=!1){const r=e.tree,o=new Set([]),i=new Set;for(const s of t){let t=n?s:e.parents.get(s);do{if(e.controlledInnerBlocks[t]){i.add(t);break}o.add(t),t=e.parents.get(t)}while(void 0!==t)}for(const s of o)r.set(s,{...r.get(s)});for(const s of o)r.get(s).innerBlocks=(e.order.get(s)||[]).map(e=>r.get(e));for(const s of i)r.set("controlled||"+s,{innerBlocks:(e.order.get(s)||[]).map(e=>r.get(e))})}const kt=$(k,e=>(t,n)=>{if(t&&"SAVE_REUSABLE_BLOCK_SUCCESS"===n.type){const{id:e,updatedId:r}=n;if(e===r)return t;(t={...t}).attributes=new Map(t.attributes),t.attributes.forEach((n,o)=>{const{name:i}=t.byClientId.get(o);"core/block"===i&&n.ref===e&&t.attributes.set(o,{...n,ref:r})})}return e(t,n)},e=>(t={},n)=>{const r=e(t,n);if(r===t)return t;switch(r.tree=t.tree?t.tree:new Map,n.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":r.tree=new Map(r.tree),pt(r,n.blocks),It(r,n.rootClientId?[n.rootClientId]:[""],!0);break;case"UPDATE_BLOCK":r.tree=new Map(r.tree),r.tree.set(n.clientId,{...r.tree.get(n.clientId),...r.byClientId.get(n.clientId),attributes:r.attributes.get(n.clientId)}),It(r,[n.clientId],!1);break;case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":r.tree=new Map(r.tree),n.clientIds.forEach(e=>{r.tree.set(e,{...r.tree.get(e),attributes:r.attributes.get(e)})}),It(r,n.clientIds,!1);break;case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const e=function(e){const t={},n=[...e];for(;n.length;){const{innerBlocks:e,...r}=n.shift();n.push(...e),t[r.clientId]=!0}return t}(n.blocks);r.tree=new Map(r.tree),n.replacedClientIds.forEach(t=>{r.tree.delete(t),e[t]||r.tree.delete("controlled||"+t)}),pt(r,n.blocks),It(r,n.blocks.map(e=>e.clientId),!1);const o=[];for(const i of n.clientIds){const e=t.parents.get(i);void 0===e||""!==e&&!r.byClientId.get(e)||o.push(e)}It(r,o,!0);break}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":const e=[];for(const o of n.clientIds){const n=t.parents.get(o);void 0===n||""!==n&&!r.byClientId.get(n)||e.push(n)}r.tree=new Map(r.tree),n.removedClientIds.forEach(e=>{r.tree.delete(e),r.tree.delete("controlled||"+e)}),It(r,e,!0);break;case"MOVE_BLOCKS_TO_POSITION":{const e=[];n.fromRootClientId?e.push(n.fromRootClientId):e.push(""),n.toRootClientId&&e.push(n.toRootClientId),r.tree=new Map(r.tree),It(r,e,!0);break}case"MOVE_BLOCKS_UP":case"MOVE_BLOCKS_DOWN":{const e=[n.rootClientId?n.rootClientId:""];r.tree=new Map(r.tree),It(r,e,!0);break}case"SAVE_REUSABLE_BLOCK_SUCCESS":{const e=[];r.attributes.forEach((t,o)=>{"core/block"===r.byClientId.get(o).name&&t.ref===n.updatedId&&e.push(o)}),r.tree=new Map(r.tree),e.forEach(e=>{r.tree.set(e,{...r.byClientId.get(e),attributes:r.attributes.get(e),innerBlocks:r.tree.get(e).innerBlocks})}),It(r,e,!1)}}return r},e=>(t,n)=>{const r=e=>{let r=e;for(let o=0;o<r.length;o++)!t.order.get(r[o])||n.keepControlledInnerBlocks&&n.keepControlledInnerBlocks[r[o]]||(r===e&&(r=[...r]),r.push(...t.order.get(r[o])));return r};if(t)switch(n.type){case"REMOVE_BLOCKS":n={...n,type:"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN",removedClientIds:r(n.clientIds)};break;case"REPLACE_BLOCKS":n={...n,type:"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN",replacedClientIds:r(n.clientIds)}}return e(t,n)},e=>(t,n)=>{if("REPLACE_INNER_BLOCKS"!==n.type)return e(t,n);const r={};if(Object.keys(t.controlledInnerBlocks).length){const e=[...n.blocks];for(;e.length;){const{innerBlocks:n,...o}=e.shift();e.push(...n),t.controlledInnerBlocks[o.clientId]&&(r[o.clientId]=!0)}}let o=t;t.order.get(n.rootClientId)&&(o=e(o,{type:"REMOVE_BLOCKS",keepControlledInnerBlocks:r,clientIds:t.order.get(n.rootClientId)}));let i=o;if(n.blocks.length){i=e(i,{...n,type:"INSERT_BLOCKS",index:0});const o=new Map(i.order);Object.keys(r).forEach(e=>{t.order.get(e)&&o.set(e,t.order.get(e))}),i.order=o,i.tree=new Map(i.tree),Object.keys(r).forEach(e=>{const n=`controlled||${e}`;t.tree.has(n)&&i.tree.set(n,t.tree.get(n))})}return i},e=>(t,n)=>{if("RESET_BLOCKS"===n.type){const e={...t,byClientId:new Map(dt(n.blocks)),attributes:new Map(gt(n.blocks)),order:ct(n.blocks),parents:new Map(at(n.blocks)),controlledInnerBlocks:{}};return e.tree=new Map(t?.tree),pt(e,n.blocks),e.tree.set("",{innerBlocks:n.blocks.map(t=>e.tree.get(t.clientId))}),e}return e(t,n)},function(e){let t,n,r=!1;return(o,i)=>{let s,l=e(o,i);var c;"SET_EXPLICIT_PERSISTENT"===i.type&&(n=i.isPersistentChange,s=null===(c=o.isPersistentChange)||void 0===c||c);if(void 0!==n)return s=n,s===l.isPersistentChange?l:{...l,isPersistentChange:s};const a="MARK_LAST_CHANGE_AS_PERSISTENT"===i.type||r;var u;return o!==l||a?(l={...l,isPersistentChange:a?!r:!ft(i,t)},t=i,r="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===i.type,l):(r="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===i.type,s=null===(u=o?.isPersistentChange)||void 0===u||u,o.isPersistentChange===s?o:{...l,isPersistentChange:s})}},function(e){const t=new Set(["RECEIVE_BLOCKS"]);return(n,r)=>{const o=e(n,r);return o!==n&&(o.isIgnoredChange=t.has(r.type)),o}},e=>(t,n)=>{if("SET_HAS_CONTROLLED_INNER_BLOCKS"===n.type){const r=e(t,{type:"REPLACE_INNER_BLOCKS",rootClientId:n.clientId,blocks:[]});return e(r,n)}return e(t,n)})({byClientId(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const n=new Map(e);return dt(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"UPDATE_BLOCK":{if(!e.has(t.clientId))return e;const{attributes:n,...r}=t.updates;if(0===Object.values(r).length)return e;const o=new Map(e);return o.set(t.clientId,{...e.get(t.clientId),...r}),o}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!t.blocks)return e;const n=new Map(e);return t.replacedClientIds.forEach(e=>{n.delete(e)}),dt(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n}}return e},attributes(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const n=new Map(e);return gt(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"UPDATE_BLOCK":{if(!e.get(t.clientId)||!t.updates.attributes)return e;const n=new Map(e);return n.set(t.clientId,{...e.get(t.clientId),...t.updates.attributes}),n}case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":{if(t.clientIds.every(t=>!e.get(t)))return e;let r=!1;const o=new Map(e);for(const i of t.clientIds){var n;const s=Object.entries(t.uniqueByBlock?t.attributes[i]:null!==(n=t.attributes)&&void 0!==n?n:{});if(0===s.length)continue;let l=!1;const c=e.get(i),a={};s.forEach(([e,t])=>{c[e]!==t&&(l=!0,a[e]=t)}),r=r||l,l&&o.set(i,{...c,...a})}return r?o:e}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!t.blocks)return e;const n=new Map(e);return t.replacedClientIds.forEach(e=>{n.delete(e)}),gt(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n}}return e},order(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":{var n;const r=ct(t.blocks),o=new Map(e);return r.forEach((e,t)=>{""!==t&&o.set(t,e)}),o.set("",(null!==(n=e.get(""))&&void 0!==n?n:[]).concat(r[""])),o}case"INSERT_BLOCKS":{const{rootClientId:n=""}=t,r=e.get(n)||[],o=ct(t.blocks,n),{index:i=r.length}=t,s=new Map(e);return o.forEach((e,t)=>{s.set(t,e)}),s.set(n,it(r,o.get(n),i)),s}case"MOVE_BLOCKS_TO_POSITION":{var r;const{fromRootClientId:n="",toRootClientId:o="",clientIds:i}=t,{index:s=e.get(o).length}=t;if(n===o){const t=e.get(o).indexOf(i[0]),n=new Map(e);return n.set(o,st(e.get(o),t,s,i.length)),n}const l=new Map(e);return l.set(n,null!==(r=e.get(n)?.filter(e=>!i.includes(e)))&&void 0!==r?r:[]),l.set(o,it(e.get(o),i,s)),l}case"MOVE_BLOCKS_UP":{const{clientIds:n,rootClientId:r=""}=t,o=n[0],i=e.get(r);if(!i.length||o===i[0])return e;const s=i.indexOf(o),l=new Map(e);return l.set(r,st(i,s,s-1,n.length)),l}case"MOVE_BLOCKS_DOWN":{const{clientIds:n,rootClientId:r=""}=t,o=n[0],i=n[n.length-1],s=e.get(r);if(!s.length||i===s[s.length-1])return e;const l=s.indexOf(o),c=new Map(e);return c.set(r,st(s,l,l+1,n.length)),c}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const{clientIds:n}=t;if(!t.blocks)return e;const r=ct(t.blocks),o=new Map(e);return t.replacedClientIds.forEach(e=>{o.delete(e)}),r.forEach((e,t)=>{""!==t&&o.set(t,e)}),o.forEach((e,t)=>{const i=Object.values(e).reduce((e,t)=>t===n[0]?[...e,...r.get("")]:(-1===n.indexOf(t)&&e.push(t),e),[]);o.set(t,i)}),o}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n.forEach((e,r)=>{var o;const i=null!==(o=e?.filter(e=>!t.removedClientIds.includes(e)))&&void 0!==o?o:[];i.length!==e.length&&n.set(r,i)}),n}}return e},parents(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":{const n=new Map(e);return at(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"INSERT_BLOCKS":{const n=new Map(e);return at(t.blocks,t.rootClientId||"").forEach(([e,t])=>{n.set(e,t)}),n}case"MOVE_BLOCKS_TO_POSITION":{const n=new Map(e);return t.clientIds.forEach(e=>{n.set(e,t.toRootClientId||"")}),n}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.replacedClientIds.forEach(e=>{n.delete(e)}),at(t.blocks,e.get(t.clientIds[0])).forEach(([e,t])=>{n.set(e,t)}),n}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n}}return e},controlledInnerBlocks:(e={},{type:t,clientId:n,hasControlledInnerBlocks:r})=>"SET_HAS_CONTROLLED_INNER_BLOCKS"===t?{...e,[n]:r}:e});function _t(e={},t){switch(t.type){case"CLEAR_SELECTED_BLOCK":return e.clientId?{}:e;case"SELECT_BLOCK":return t.clientId===e.clientId?e:{clientId:t.clientId};case"REPLACE_INNER_BLOCKS":case"INSERT_BLOCKS":return t.updateSelection&&t.blocks.length?{clientId:t.blocks[0].clientId}:e;case"REMOVE_BLOCKS":return t.clientIds&&t.clientIds.length&&-1!==t.clientIds.indexOf(e.clientId)?{}:e;case"REPLACE_BLOCKS":{if(-1===t.clientIds.indexOf(e.clientId))return e;const n=t.blocks[t.indexToSelect]||t.blocks[t.blocks.length-1];return n?n.clientId===e.clientId?e:{clientId:n.clientId}:{}}}return e}const bt=function(e){return(t,n)=>{const r=e(t,n);return t?(r.automaticChangeStatus=t.automaticChangeStatus,"MARK_AUTOMATIC_CHANGE"===n.type?{...r,automaticChangeStatus:"pending"}:"MARK_AUTOMATIC_CHANGE_FINAL"===n.type&&"pending"===t.automaticChangeStatus?{...r,automaticChangeStatus:"final"}:r.blocks===t.blocks&&r.selection===t.selection||"final"!==r.automaticChangeStatus&&r.selection!==t.selection?r:{...r,automaticChangeStatus:void 0}):r}}(k({blocks:kt,isDragging:function(e=!1,t){switch(t.type){case"START_DRAGGING":return!0;case"STOP_DRAGGING":return!1}return e},isTyping:function(e=!1,t){switch(t.type){case"START_TYPING":return!0;case"STOP_TYPING":return!1}return e},isBlockInterfaceHidden:function(e=!1,t){switch(t.type){case"HIDE_BLOCK_INTERFACE":return!0;case"SHOW_BLOCK_INTERFACE":return!1}return e},draggedBlocks:function(e=[],t){switch(t.type){case"START_DRAGGING_BLOCKS":return t.clientIds;case"STOP_DRAGGING_BLOCKS":return[]}return e},selection:function(e={},t){switch(t.type){case"SELECTION_CHANGE":return t.clientId?{selectionStart:{clientId:t.clientId,attributeKey:t.attributeKey,offset:t.startOffset},selectionEnd:{clientId:t.clientId,attributeKey:t.attributeKey,offset:t.endOffset}}:{selectionStart:t.start||e.selectionStart,selectionEnd:t.end||e.selectionEnd};case"RESET_SELECTION":const{selectionStart:n,selectionEnd:r}=t;return{selectionStart:n,selectionEnd:r};case"MULTI_SELECT":const{start:o,end:i}=t;return o===e.selectionStart?.clientId&&i===e.selectionEnd?.clientId?e:{selectionStart:{clientId:o},selectionEnd:{clientId:i}};case"RESET_BLOCKS":const s=e?.selectionStart?.clientId,l=e?.selectionEnd?.clientId;if(!s&&!l)return e;if(!t.blocks.some(e=>e.clientId===s))return{selectionStart:{},selectionEnd:{}};if(!t.blocks.some(e=>e.clientId===l))return{...e,selectionEnd:e.selectionStart}}const n=_t(e.selectionStart,t),r=_t(e.selectionEnd,t);return n===e.selectionStart&&r===e.selectionEnd?e:{selectionStart:n,selectionEnd:r}},isMultiSelecting:function(e=!1,t){switch(t.type){case"START_MULTI_SELECT":return!0;case"STOP_MULTI_SELECT":return!1}return e},isSelectionEnabled:function(e=!0,t){return"TOGGLE_SELECTION"===t.type?t.isSelectionEnabled:e},initialPosition:function(e=null,t){return"REPLACE_BLOCKS"===t.type&&void 0!==t.initialPosition||["MULTI_SELECT","SELECT_BLOCK","RESET_SELECTION","INSERT_BLOCKS","REPLACE_INNER_BLOCKS"].includes(t.type)?t.initialPosition:e},blocksMode:function(e={},t){if("TOGGLE_BLOCK_MODE"===t.type){const{clientId:n}=t;return{...e,[n]:e[n]&&"html"===e[n]?"visual":"html"}}return e},blockListSettings:(e={},t)=>{switch(t.type){case"REPLACE_BLOCKS":case"REMOVE_BLOCKS":return Object.fromEntries(Object.entries(e).filter(([e])=>!t.clientIds.includes(e)));case"UPDATE_BLOCK_LIST_SETTINGS":{const n="string"==typeof t.clientId?{[t.clientId]:t.settings}:t.clientId;for(const t in n)n[t]?W(e[t],n[t])&&delete n[t]:e[t]||delete n[t];if(0===Object.keys(n).length)return e;const r={...e,...n};for(const e in n)n[e]||delete r[e];return r}}return e},insertionPoint:function(e=null,t){switch(t.type){case"SET_INSERTION_POINT":return t.value;case"SELECT_BLOCK":return null}return e},insertionCue:function(e=null,t){switch(t.type){case"SHOW_INSERTION_POINT":{const{rootClientId:n,index:r,__unstableWithInserter:o,operation:i,nearestSide:s}=t,l={rootClientId:n,index:r,__unstableWithInserter:o,operation:i,nearestSide:s};return W(e,l)?e:l}case"HIDE_INSERTION_POINT":return null}return e},template:function(e={isValid:!0},t){return"SET_TEMPLATE_VALIDITY"===t.type?{...e,isValid:t.isValid}:e},settings:function(e=ot,t){return"UPDATE_SETTINGS"===t.type?t.reset?{...ot,...t.settings}:{...e,...t.settings}:e},preferences:function(e=rt,t){switch(t.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":{const n=t.blocks.reduce((e,n)=>{const{attributes:r,name:o}=n;let i=o;const s=_(O).getActiveBlockVariation(o,r);return s?.name&&(i+="/"+s.name),"core/block"===o&&(i+="/"+r.ref),{...e,[i]:{time:t.time,count:e[i]?e[i].count+1:1}}},e.insertUsage);return{...e,insertUsage:n}}}return e},lastBlockAttributesChange:function(e=null,t){switch(t.type){case"UPDATE_BLOCK":if(!t.updates.attributes)break;return{[t.clientId]:t.updates.attributes};case"UPDATE_BLOCK_ATTRIBUTES":return t.clientIds.reduce((e,n)=>({...e,[n]:t.uniqueByBlock?t.attributes[n]:t.attributes}),{})}return e},lastFocus:function(e=!1,t){return"LAST_FOCUS"===t.type?t.lastFocus:e},editorMode:function(e="edit",t){return"SET_EDITOR_MODE"===t.type?t.mode:e},expandedBlock:function(e=null,t){switch(t.type){case"SET_BLOCK_EXPANDED_IN_LIST_VIEW":return t.clientId;case"SELECT_BLOCK":if(t.clientId!==e)return null}return e},highlightedBlock:function(e,t){switch(t.type){case"TOGGLE_BLOCK_HIGHLIGHT":const{clientId:n,isHighlighted:r}=t;return r?n:e===n?null:e;case"SELECT_BLOCK":if(t.clientId!==e)return null}return e},lastBlockInserted:function(e={},t){switch(t.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":if(!t.blocks.length)return e;const n=t.blocks.map(e=>e.clientId),r=t.meta?.source;return{clientIds:n,source:r};case"RESET_BLOCKS":return{}}return e},temporarilyEditingAsBlocks:function(e="",t){return"SET_TEMPORARILY_EDITING_AS_BLOCKS"===t.type?t.temporarilyEditingAsBlocks:e},temporarilyEditingFocusModeRevert:function(e="",t){return"SET_TEMPORARILY_EDITING_AS_BLOCKS"===t.type?t.focusModeToRevert:e},blockVisibility:function(e={},t){return"SET_BLOCK_VISIBILITY"===t.type?{...e,...t.updates}:e},blockEditingModes:function(e=new Map,t){switch(t.type){case"SET_BLOCK_EDITING_MODE":return new Map(e).set(t.clientId,t.mode);case"UNSET_BLOCK_EDITING_MODE":{const n=new Map(e);return n.delete(t.clientId),n}case"RESET_BLOCKS":return e.has("")?(new Map).set("",e.get("")):e}return e},styleOverrides:function(e=new Map,t){switch(t.type){case"SET_STYLE_OVERRIDE":return new Map(e).set(t.id,t.style);case"DELETE_STYLE_OVERRIDE":{const n=new Map(e);return n.delete(t.id),n}}return e},removalPromptData:function(e=!1,t){switch(t.type){case"DISPLAY_BLOCK_REMOVAL_PROMPT":const{clientIds:e,selectPrevious:n,message:r}=t;return{clientIds:e,selectPrevious:n,message:r};case"CLEAR_BLOCK_REMOVAL_PROMPT":return!1}return e},blockRemovalRules:function(e=!1,t){return"SET_BLOCK_REMOVAL_RULES"===t.type?t.rules:e},openedBlockSettingsMenu:function(e=null,t){var n;return"SET_OPENED_BLOCK_SETTINGS_MENU"===t.type?null!==(n=t?.clientId)&&void 0!==n?n:null:e},registeredInserterMediaCategories:function(e=[],t){return"REGISTER_INSERTER_MEDIA_CATEGORY"===t.type?[...e,t.category]:e},hoveredBlockClientId:function(e=!1,t){return"HOVER_BLOCK"===t.type?t.clientId:e},zoomLevel:function(e=100,t){switch(t.type){case"SET_ZOOM_LEVEL":return t.zoom;case"RESET_ZOOM_LEVEL":return 100}return e}})),Et=Symbol("globalStylesDataKey"),mt=Symbol("globalStylesLinks"),St=Symbol("selectBlockPatternsKey"),Bt=Symbol("reusableBlocksSelect"),yt=Symbol("sectionRootClientIdKey"),ht="core/block-editor";const Tt=o(function e(t,n){const r=Bn(t,n),o=[];for(const i of r){const n=e(t,i);"disabled"!==ar(t,i)?o.push({clientId:i,innerBlocks:n}):o.push(...n)}return o},e=>[e.blocks.order,e.blockEditingModes,e.settings.templateLock,e.blockListSettings,e.editorMode,Ht(e)]),Ct=o((e,t,n=!1)=>gn(e,t,n).filter(t=>"disabled"!==ar(e,t)),e=>[e.blocks.parents,e.blockEditingModes,e.settings.templateLock,e.blockListSettings]);const Ot=o(e=>{const t=nn(e).reduce((e,t,n)=>(e[t]=n,e),{});return[...e.styleOverrides].sort((e,n)=>{var r,o;const[,{clientId:i}]=e,[,{clientId:s}]=n;return(null!==(r=t[i])&&void 0!==r?r:-1)-(null!==(o=t[s])&&void 0!==o?o:-1)})},e=>[e.blocks.order,e.styleOverrides]);const vt=o(e=>{const{settings:{inserterMediaCategories:t,allowedMimeTypes:n,enableOpenverseMediaCategory:r},registeredInserterMediaCategories:o}=e;if(!t&&!o.length||!n)return;const i=t?.map(({name:e})=>e)||[];return[...t||[],...(o||[]).filter(({name:e})=>!i.includes(e))].filter(e=>!(!r&&"openverse"===e.name)&&Object.values(n).some(t=>t.startsWith(`${e.mediaType}/`)))},e=>[e.settings.inserterMediaCategories,e.settings.allowedMimeTypes,e.settings.enableOpenverseMediaCategory,e.registeredInserterMediaCategories]),Rt=b(e=>o((t,n=null)=>{const{getAllPatterns:r}=E(e(ht)),o=r(),{allowedBlockTypes:i}=er(t);return o.some(e=>{const{inserter:r=!0}=e;if(!r)return!1;const o=Q(e);return ee(o,i)&&o.every(({name:e})=>Nn(t,e,n))})},(t,n)=>[...q(e)(t),...J(t,n)]));function Lt(e,t=[]){return{name:`core/block/${e.id}`,id:e.id,type:fe.user,title:e.title.raw,categories:e.wp_pattern_category.map(e=>{const n=t.find(({id:t})=>t===e);return n?n.slug:e}),content:e.content.raw,syncStatus:e.wp_pattern_sync_status}}const At=b(e=>o((t,n)=>{var r,o;if(n?.startsWith("core/block/")){const r=parseInt(n.slice(11),10),o=E(e(ht)).getReusableBlocks().find(({id:e})=>e===r);return o?Lt(o,t.settings.__experimentalUserPatternCategories):null}return[...null!==(r=t.settings.__experimentalBlockPatterns)&&void 0!==r?r:[],...null!==(o=t.settings[St]?.(e))&&void 0!==o?o:[]].find(({name:e})=>e===n)},(t,n)=>n?.startsWith("core/block/")?[E(e(ht)).getReusableBlocks(),t.settings.__experimentalReusableBlocks]:[t.settings.__experimentalBlockPatterns,t.settings[St]?.(e)])),Nt=b(e=>o(t=>{var n,r;return[...E(e(ht)).getReusableBlocks().map(e=>Lt(e,t.settings.__experimentalUserPatternCategories)),...null!==(n=t.settings.__experimentalBlockPatterns)&&void 0!==n?n:[],...null!==(r=t.settings[St]?.(e))&&void 0!==r?r:[]].filter((e,t,n)=>t===n.findIndex(t=>e.name===t.name))},q(e))),Mt=b(e=>o(t=>{const n=t.settings[St],r=t.settings[Bt];return!!n&&void 0===n(e)||!!r&&void 0===r(e)},q(e))),wt=[],Pt=b(e=>t=>{var n;const r=t.settings[Bt];return null!==(n=r?r(e):t.settings.__experimentalReusableBlocks)&&void 0!==n?n:wt});const Dt=(e,t)=>{let n,r=t;for(;!n&&(r=e.blocks.parents.get(r));)"contentOnly"===Rn(e,r)&&(n=r);return n},Kt=(e,t)=>{let n,r=t;for(;!n&&(r=e.blocks.parents.get(r));)Gt(e,r)&&(n=r);return n};function Gt(e,t){const n=Bn(e,Ht(e));return"core/block"===Zt(e,t)||"contentOnly"===Rn(e,t)||rr(e)&&n.includes(t)}function xt(e){return e.temporarilyEditingAsBlocks}function Ut(e){return e.temporarilyEditingFocusModeRevert}const Vt=o((e,t)=>t.reduce((t,n)=>(t[n]=e.blocks.attributes.get(n)?.style,t),{}),(e,t)=>[...t.map(t=>e.blocks.attributes.get(t)?.style)]);function Ht(e){return e.settings?.[yt]}function jt(e){return e.zoomLevel}function Ft(e,t,n=""){const r=Array.isArray(t)?t:[t],o=t=>r.every(n=>Nn(e,n,t));if(!n){if(o(n))return n;const t=Ht(e);return t&&o(t)?t:null}let i=n;for(;null!==i&&!o(i);){i=dn(e,i)}return i}const Wt=Object.freeze(Object.defineProperty({__proto__:null,getAllPatterns:Nt,getBlockRemovalRules:function(e){return e.blockRemovalRules},getBlockSettings:pe,getBlockStyles:Vt,getBlockWithoutAttributes:function(e,t){return e.blocks.byClientId.get(t)},getClosestAllowedInsertionPoint:Ft,getClosestAllowedInsertionPointForPattern:function(e,t,n){const{allowedBlockTypes:r}=er(e);return ee(Q(t),r)?Ft(e,Q(t).map(({blockName:e})=>e),n):null},getContentLockingParent:Dt,getEnabledBlockParents:Ct,getEnabledClientIdsTree:Tt,getExpandedBlock:function(e){return e.expandedBlock},getInserterMediaCategories:vt,getInsertionPoint:function(e){return e.insertionPoint},getLastFocus:function(e){return e.lastFocus},getLastInsertedBlocksClientIds:function(e){return e?.lastBlockInserted?.clientIds},getOpenedBlockSettingsMenu:function(e){return e.openedBlockSettingsMenu},getParentSectionBlock:Kt,getPatternBySlug:At,getRegisteredInserterMediaCategories:function(e){return e.registeredInserterMediaCategories},getRemovalPromptData:function(e){return e.removalPromptData},getReusableBlocks:Pt,getSectionRootClientId:Ht,getStyleOverrides:Ot,getTemporarilyEditingAsBlocks:xt,getTemporarilyEditingFocusModeToRevert:Ut,getZoomLevel:jt,hasAllowedPatterns:Rt,isBlockInterfaceHidden:function(e){return e.isBlockInterfaceHidden},isBlockSubtreeDisabled:(e,t)=>{const n=t=>"disabled"===ar(e,t)&&Bn(e,t).every(n);return Bn(e,t).every(n)},isDragging:function(e){return e.isDragging},isResolvingPatterns:Mt,isSectionBlock:Gt,isZoomOut:function(e){return jt(e)<100},isZoomOutMode:function(e){return"zoom-out"===e.editorMode}},Symbol.toStringTag,{value:"Module"})),zt=[],Yt=new Set,Xt={[oe]:!0};function Zt(e,t){const n=e.blocks.byClientId.get(t);return n?n.name:null}function $t(e,t){return e.blocks.byClientId.get(t)?e.blocks.attributes.get(t):null}function qt(e,t){return e.blocks.byClientId.has(t)?e.blocks.tree.get(t):null}const Jt=o((e,t)=>{const n=e.blocks.byClientId.get(t);return n?{...n,attributes:$t(e,t)}:null},(e,t)=>[e.blocks.byClientId.get(t),e.blocks.attributes.get(t)]);const Qt=o((e,t)=>(i("wp.data.select( 'core/block-editor' ).__unstableGetClientIdWithClientIdsTree",{since:"6.3",version:"6.5"}),{clientId:t,innerBlocks:en(e,t)}),e=>[e.blocks.order]),en=o((e,t="")=>(i("wp.data.select( 'core/block-editor' ).__unstableGetClientIdsTree",{since:"6.3",version:"6.5"}),Bn(e,t).map(t=>Qt(e,t))),e=>[e.blocks.order]),tn=o((e,t)=>{t=Array.isArray(t)?[...t]:[t];const n=[];for(const o of t){const t=e.blocks.order.get(o);t&&n.push(...t)}let r=0;for(;r<n.length;){const t=n[r],o=e.blocks.order.get(t);o&&n.splice(r+1,0,...o),r++}return n},e=>[e.blocks.order]),nn=e=>tn(e,""),rn=o((e,t)=>{const n=nn(e);if(!t)return n.length;let r=0;for(const o of n){e.blocks.byClientId.get(o).name===t&&r++}return r},e=>[e.blocks.order,e.blocks.byClientId]),on=o((e,t)=>{if(!t)return zt;const n=Array.isArray(t)?t:[t],r=nn(e).filter(t=>{const r=e.blocks.byClientId.get(t);return n.includes(r.name)});return r.length>0?r:zt},e=>[e.blocks.order,e.blocks.byClientId]);const sn=o((e,t)=>(Array.isArray(t)?t:[t]).map(t=>qt(e,t)),(e,t)=>(Array.isArray(t)?t:[t]).map(t=>e.blocks.tree.get(t))),ln=o((e,t)=>sn(e,t).filter(Boolean).map(e=>e.name),(e,t)=>sn(e,t));function cn(e){return e.selection.selectionStart}function an(e){return e.selection.selectionEnd}function un(e){const{selectionStart:t,selectionEnd:n}=e.selection,{clientId:r}=t;return r&&r===n.clientId?r:null}function dn(e,t){var n;return null!==(n=e.blocks.parents.get(t))&&void 0!==n?n:null}const gn=o((e,t,n=!1)=>{const r=[];let o=t;for(;o=e.blocks.parents.get(o);)r.push(o);return r.length?n?r:r.reverse():zt},e=>[e.blocks.parents]),fn=o((e,t,n,r=!1)=>{const o=gn(e,t,r),i=Array.isArray(n)?e=>n.includes(e):e=>n===e;return o.filter(t=>i(Zt(e,t)))},e=>[e.blocks.parents]);function pn(e,t,n=1){if(void 0===t&&(t=un(e)),void 0===t&&(t=n<0?bn(e):En(e)),!t)return null;const r=dn(e,t);if(null===r)return null;const{order:o}=e.blocks,i=o.get(r),s=i.indexOf(t)+1*n;return s<0||s===i.length?null:i[s]}const In=o(e=>{const{selectionStart:t,selectionEnd:n}=e.selection;if(!t.clientId||!n.clientId)return zt;if(t.clientId===n.clientId)return[t.clientId];const r=dn(e,t.clientId);if(null===r)return zt;const o=Bn(e,r),i=o.indexOf(t.clientId),s=o.indexOf(n.clientId);return i>s?o.slice(s,i+1):o.slice(i,s+1)},e=>[e.blocks.order,e.selection.selectionStart.clientId,e.selection.selectionEnd.clientId]);function kn(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId===n.clientId?zt:In(e)}const _n=o(e=>{const t=kn(e);return t.length?t.map(t=>qt(e,t)):zt},e=>[...In.getDependants(e),e.blocks.byClientId,e.blocks.order,e.blocks.attributes]);function bn(e){return kn(e)[0]||null}function En(e){const t=kn(e);return t[t.length-1]||null}function mn(e,t){return-1!==kn(e).indexOf(t)}const Sn=o((e,t)=>{let n=t,r=!1;for(;n&&!r;)n=dn(e,n),r=mn(e,n);return r},e=>[e.blocks.order,e.selection.selectionStart.clientId,e.selection.selectionEnd.clientId]);function Bn(e,t){return e.blocks.order.get(t||"")||zt}function yn(e,t){return Bn(e,dn(e,t)).indexOf(t)}function hn(e,t){const{selectionStart:n,selectionEnd:r}=e.selection;return n.clientId===r.clientId&&n.clientId===t}function Tn(e,t,n=!1){const r=In(e);return!!r.length&&(n?r.some(n=>gn(e,n,!0).includes(t)):r.some(n=>dn(e,n)===t))}function Cn(e){return!!e.draggedBlocks.length}function On(e,t){return e.draggedBlocks.includes(t)}const vn=o(e=>{let t,n;const{insertionCue:r,selection:{selectionEnd:o}}=e;if(null!==r)return r;const{clientId:i}=o;return i?(t=dn(e,i)||void 0,n=yn(e,o.clientId)+1):n=Bn(e).length,{rootClientId:t,index:n}},e=>[e.insertionCue,e.selection.selectionEnd.clientId,e.blocks.parents,e.blocks.order]);function Rn(e,t){var n,r;return t?null!==(n=Qn(e,t)?.templateLock)&&void 0!==n&&n:null!==(r=e.settings.templateLock)&&void 0!==r&&r}const Ln=(e,t)=>{let n,r;if(t&&"object"==typeof t?(n=t,r=t.name):(n=v(t),r=t),!n)return!1;const{allowedBlockTypes:o}=er(e);return!!ne(o,r,!0)&&(!n.parent?.length||n.parent.some(t=>Ln(e,t)||"core/post-content"===t))},An=(e,t,n=null)=>{if(!Ln(e,t))return!1;let r;t&&"object"==typeof t?(r=t,t=r.name):r=v(t);if(!!Rn(e,n))return!1;if(!!Gt(e,n))return!1;if("disabled"===ar(e,null!=n?n:""))return!1;const o=Qn(e,n);if(n&&void 0===o)return!1;const i=Zt(e,n),s=v(i),l=s?.allowedBlocks;let c=ne(l,t);if(!1!==c){const e=o?.allowedBlocks,n=ne(e,t);null!==n&&(c=n)}const a=r.parent,u=ne(a,i);let d=!0;const g=r.ancestor;if(g){d=[n,...gn(e,n)].some(t=>ne(g,Zt(e,t)))}const f=d&&(null===c&&null===u||!0===c||!0===u);return f?re("blockEditor.__unstableCanInsertBlockType",f,r,n,{getBlock:qt.bind(null,e),getBlockParentsByBlockName:fn.bind(null,e)}):f},Nn=o(An,(e,t,n)=>J(e,n));function Mn(e,t){const n=$t(e,t);if(null===n)return!0;if(void 0!==n.lock?.remove)return!n.lock.remove;const r=dn(e,t);if(Rn(e,r))return!1;return!!!Kt(e,t)&&"disabled"!==ar(e,r)}function wn(e,t){return t.every(t=>Mn(e,t))}function Pn(e,t){const n=$t(e,t);if(null===n)return!0;if(void 0!==n.lock?.move)return!n.lock.move;const r=dn(e,t);return"all"!==Rn(e,r)&&"disabled"!==ar(e,r)}function Dn(e,t){const n=$t(e,t);if(null===n)return!0;const{lock:r}=n;return!r?.edit}function Kn(e,t){var n;return null!==(n=e.preferences.insertUsage?.[t])&&void 0!==n?n:null}const Gn=(e,t,n)=>!!L(t,"inserter",!0)&&An(e,t.name,n),xn=(e,t)=>{if(!e)return t;const n=Date.now()-e;switch(!0){case n<36e5:return 4*t;case n<864e5:return 2*t;case n<6048e5:return t/2;default:return t/4}},Un=(e,{buildScope:t="inserter"})=>n=>{const r=n.name;let o=!1;L(n.name,"multiple",!0)||(o=sn(e,nn(e)).some(({name:e})=>e===n.name));const{time:i,count:s=0}=Kn(e,r)||{},l={id:r,name:n.name,title:n.title,icon:n.icon,isDisabled:o,frecency:xn(i,s)};if("transform"===t)return l;const c=M(n.name,"inserter");return{...l,initialAttributes:{},description:n.description,category:n.category,keywords:n.keywords,parent:n.parent,variations:c,example:n.example,utility:1}},Vn=b(e=>o((t,n=null,r=Xt)=>{const o=An(t,"core/block",n)?E(e(ht)).getReusableBlocks().map(e=>{const n=e.wp_pattern_sync_status?Ie:{src:Ie,foreground:"var(--wp-block-synced-color)"},r=`core/block/${e.id}`,{time:o,count:i=0}=Kn(t,r)||{},s=xn(o,i);return{id:r,name:"core/block",initialAttributes:{ref:e.id},title:e.title?.raw,icon:n,category:"reusable",keywords:["reusable"],isDisabled:!1,utility:1,frecency:s,content:e.content?.raw,syncStatus:e.wp_pattern_sync_status}}):[],i=Un(t,{buildScope:"inserter"});let s=A().filter(e=>L(e,"inserter",!0)).map(i);s=!1!==r[oe]?s.filter(e=>Gn(t,e,n)):s.filter(e=>Ln(t,e)).map(e=>({...e,isAllowedInCurrentRoot:Gn(t,e,n)}));const l=s.reduce((e,n)=>{const{variations:r=[]}=n;if(r.some(({isDefault:e})=>e)||e.push(n),r.length){const o=((e,t)=>n=>{const r=`${t.id}/${n.name}`,{time:o,count:i=0}=Kn(e,r)||{};return{...t,id:r,icon:n.icon||t.icon,title:n.title||t.title,description:n.description||t.description,category:n.category||t.category,example:n.hasOwnProperty("example")?n.example:t.example,initialAttributes:{...t.initialAttributes,...n.attributes},innerBlocks:n.innerBlocks,keywords:n.keywords||t.keywords,frecency:xn(o,i)}})(t,n);e.push(...r.map(o))}return e},[]),{core:c,noncore:a}=l.reduce((e,t)=>{const{core:n,noncore:r}=e;return(t.name.startsWith("core/")?n:r).push(t),e},{core:[],noncore:[]});return[...[...c,...a],...o]},(t,n)=>[A(),E(e(ht)).getReusableBlocks(),t.blocks.order,t.preferences.insertUsage,...J(t,n)])),Hn=o((e,t,n=null)=>{const r=Array.isArray(t)?t:[t],o=Un(e,{buildScope:"transform"}),i=A().filter(t=>Gn(e,t,n)).map(o),s=Object.fromEntries(Object.entries(i).map(([,e])=>[e.name,e])),l=N(r).reduce((e,t)=>(s[t?.name]&&e.push(s[t.name]),e),[]);return te(l,e=>s[e.name].frecency,"desc")},(e,t,n)=>[A(),e.preferences.insertUsage,...J(e,n)]),jn=b(e=>(t,n=null)=>{if(A().some(e=>Gn(t,e,n)))return!0;return An(t,"core/block",n)&&E(e(ht)).getReusableBlocks().length>0}),Fn=b(e=>o((t,n=null)=>{if(!n)return;const r=A().filter(e=>Gn(t,e,n));return An(t,"core/block",n)&&E(e(ht)).getReusableBlocks().length>0&&r.push("core/block"),r},(t,n)=>[A(),E(e(ht)).getReusableBlocks(),...J(t,n)])),Wn=o((e,t=null)=>(i('wp.data.select( "core/block-editor" ).__experimentalGetAllowedBlocks',{alternative:'wp.data.select( "core/block-editor" ).getAllowedBlocks',since:"6.2",version:"6.4"}),Fn(e,t)),(e,t)=>Fn.getDependants(e,t));function zn(e,t=null){var n;if(!t)return;const{defaultBlock:r,directInsert:o}=null!==(n=e.blockListSettings[t])&&void 0!==n?n:{};return r&&o?r:void 0}const Yn=b(e=>(t,n)=>{const r=E(e(ht)).getPatternBySlug(n);return r?ie(r):null}),Xn=e=>(t,n)=>[...q(e)(t),...J(t,n)],Zn=b(e=>o((t,n=null,r=Xt)=>{const{getAllPatterns:o}=E(e(ht)),i=o(),{allowedBlockTypes:s}=er(t);return i.filter(({inserter:e=!0})=>!!e).map(e=>({...e,get blocks(){return ie(e).blocks}})).filter(e=>ee(Q(e),s)).filter(e=>Q(e).every(({blockName:e})=>!1!==r[oe]?Nn(t,e,n):Ln(t,e)))},Xn(e))),$n=b(e=>o((t,n,r=null)=>{if(!n)return zt;const o=e(ht).__experimentalGetAllowedPatterns(r),i=Array.isArray(n)?n:[n],s=o.filter(e=>e?.blockTypes?.some?.(e=>i.includes(e)));return 0===s.length?zt:s},(t,n,r)=>Xn(e)(t,r))),qn=b(e=>(i('wp.data.select( "core/block-editor" ).__experimentalGetPatternsByBlockTypes',{alternative:'wp.data.select( "core/block-editor" ).getPatternsByBlockTypes',since:"6.2",version:"6.4"}),e(ht).getPatternsByBlockTypes)),Jn=b(e=>o((t,n,r=null)=>{if(!n)return zt;if(n.some(({clientId:e,innerBlocks:n})=>n.length||ir(t,e)))return zt;const o=Array.from(new Set(n.map(({name:e})=>e)));return e(ht).getPatternsByBlockTypes(o,r)},(t,n,r)=>Xn(e)(t,r)));function Qn(e,t){return e.blockListSettings[t]}function er(e){return e.settings}const tr=o((e,t=[])=>t.reduce((t,n)=>e.blockListSettings[n]?{...t,[n]:e.blockListSettings[n]}:t,{}),e=>[e.blockListSettings]),nr=b(e=>o((t,n)=>{i("wp.data.select( 'core/block-editor' ).__experimentalGetReusableBlockTitle",{since:"6.6",version:"6.8"});const r=E(e(ht)).getReusableBlocks().find(e=>e.id===n);return r?r.title?.raw:null},()=>[E(e(ht)).getReusableBlocks()]));function rr(e){return"navigation"===e.editorMode}function or(e){return e.editorMode}function ir(e,t){return!!e.blocks.controlledInnerBlocks[t]}const sr=o((e,t)=>{if(!t.length)return null;const n=un(e);if(t.includes(Zt(e,n)))return n;const r=kn(e),o=fn(e,n||r[0],t);return o?o[o.length-1]:null},(e,t)=>[e.selection.selectionStart.clientId,e.selection.selectionEnd.clientId,t]);const lr=o(e=>{const t=new Set(Object.keys(e.blockVisibility).filter(t=>e.blockVisibility[t]));return 0===t.size?Yt:t},e=>[e.blockVisibility]);function cr(e,t){if("default"!==ar(e,t))return!1;if(!Dn(e,t))return!0;if("zoom-out"===or(e)){const n=Ht(e);if(n){const r=Bn(e,n);if(r?.includes(t))return!0}else if(t&&!dn(e,t))return!0}return!L(Zt(e,t),"__experimentalDisableBlockOverlay",!1)&&ir(e,t)&&!hn(e,t)&&!Tn(e,t,!0)}const ar=b(e=>(t,n="")=>{null===n&&(n="");const r=or(t);if("zoom-out"===r){const e=Ht(t);if(""===n)return e?"disabled":"contentOnly";if(n===e)return"contentOnly";const r=Bn(t,e);return r?.includes(n)?"contentOnly":"disabled"}if("navigation"===r){const r=Ht(t);if(n===r)return"default";if(Bn(t,r).includes(n))return"contentOnly";const o=function(e,t,n){let r=e.blocks.parents.get(t);for(;r&&r!==n;)r=e.blocks.parents.get(r);return r===n}(t,n,r);if(!o)return"disabled";const i=Zt(t,n),{hasContentRoleAttribute:s}=E(e(O));return s(i)?"contentOnly":"disabled"}const o=t.blockEditingModes.get(n);if(o)return o;if(!n)return"default";const i=dn(t,n);if("contentOnly"===Rn(t,i)){const r=Zt(t,n),{hasContentRoleAttribute:o}=E(e(O));return o(r)?"contentOnly":"disabled"}const s=ar(t,i);return"contentOnly"===s?"default":s}),ur=b(e=>(t,n="")=>{const r=n||un(t);if(!r)return!1;const{getGroupingBlockName:o}=e(O),i=qt(t,r),s=o();return i&&(i.name===s||v(i.name)?.transforms?.ungroup)&&!!i.innerBlocks.length&&Mn(t,r)}),dr=b(e=>(t,n=zt)=>{const{getGroupingBlockName:r}=e(O),o=r(),i=n?.length?n:In(t),s=i?.length?dn(t,i[0]):void 0;return Nn(t,o,s)&&i.length&&wn(t,i)});const gr=Object.freeze(Object.defineProperty({__proto__:null,__experimentalGetActiveBlockIdByBlockNames:sr,__experimentalGetAllowedBlocks:Wn,__experimentalGetAllowedPatterns:Zn,__experimentalGetBlockListSettingsForBlocks:tr,__experimentalGetDirectInsertBlock:function(e,t=null){return i('wp.data.select( "core/block-editor" ).__experimentalGetDirectInsertBlock',{alternative:'wp.data.select( "core/block-editor" ).getDirectInsertBlock',since:"6.3",version:"6.4"}),zn(e,t)},__experimentalGetGlobalBlocksByName:function(e,t){return i("wp.data.select( 'core/block-editor' ).__experimentalGetGlobalBlocksByName",{since:"6.5",alternative:"wp.data.select( 'core/block-editor' ).getBlocksByName"}),on(e,t)},__experimentalGetLastBlockAttributeChanges:function(e){return e.lastBlockAttributesChange},__experimentalGetParsedPattern:Yn,__experimentalGetPatternTransformItems:Jn,__experimentalGetPatternsByBlockTypes:qn,__experimentalGetReusableBlockTitle:nr,__unstableGetBlockWithoutInnerBlocks:Jt,__unstableGetClientIdWithClientIdsTree:Qt,__unstableGetClientIdsTree:en,__unstableGetContentLockingParent:(e,t)=>(i("wp.data.select( 'core/block-editor' ).__unstableGetContentLockingParent",{since:"6.1",version:"6.7"}),Dt(e,t)),__unstableGetEditorMode:or,__unstableGetSelectedBlocksWithPartialSelection:e=>{const t=cn(e),n=an(e);if(t.clientId===n.clientId)return zt;if(!t.attributeKey||!n.attributeKey||void 0===t.offset||void 0===n.offset)return zt;const r=dn(e,t.clientId);if(r!==dn(e,n.clientId))return zt;const o=Bn(e,r),i=o.indexOf(t.clientId),s=o.indexOf(n.clientId),[l,c]=i>s?[n,t]:[t,n],a=qt(e,l.clientId),u=qt(e,c.clientId),d=a.attributes[l.attributeKey],g=u.attributes[c.attributeKey];let f=ae({html:d}),p=ae({html:g});return f=ue(f,0,l.offset),p=ue(p,c.offset,p.text.length),[{...a,attributes:{...a.attributes,[l.attributeKey]:de({value:f})}},{...u,attributes:{...u.attributes,[c.attributeKey]:de({value:p})}}]},__unstableGetTemporarilyEditingAsBlocks:function(e){return i("wp.data.select( 'core/block-editor' ).__unstableGetTemporarilyEditingAsBlocks",{since:"6.1",version:"6.7"}),xt(e)},__unstableGetTemporarilyEditingFocusModeToRevert:function(e){return i("wp.data.select( 'core/block-editor' ).__unstableGetTemporarilyEditingFocusModeToRevert",{since:"6.5",version:"6.7"}),Ut(e)},__unstableGetVisibleBlocks:lr,__unstableHasActiveBlockOverlayActive:cr,__unstableIsFullySelected:function(e){const t=cn(e),n=an(e);return!t.attributeKey&&!n.attributeKey&&void 0===t.offset&&void 0===n.offset},__unstableIsLastBlockChangeIgnored:function(e){return e.blocks.isIgnoredChange},__unstableIsSelectionCollapsed:function(e){const t=cn(e),n=an(e);return!!t&&!!n&&t.clientId===n.clientId&&t.attributeKey===n.attributeKey&&t.offset===n.offset},__unstableIsSelectionMergeable:function(e,t){const n=cn(e),r=an(e);if(n.clientId===r.clientId)return!1;if(!n.attributeKey||!r.attributeKey||void 0===n.offset||void 0===r.offset)return!1;const o=dn(e,n.clientId);if(o!==dn(e,r.clientId))return!1;const i=Bn(e,o);let s,l;i.indexOf(n.clientId)>i.indexOf(r.clientId)?(s=r,l=n):(s=n,l=r);const c=t?l.clientId:s.clientId,a=t?s.clientId:l.clientId,u=Zt(e,c);if(!v(u).merge)return!1;const d=qt(e,a);if(d.name===u)return!0;const g=R(d,u);return g&&g.length},__unstableIsWithinBlockOverlay:function(e,t){let n=e.blocks.parents.get(t);for(;n;){if(cr(e,n))return!0;n=e.blocks.parents.get(n)}return!1},__unstableSelectionHasUnmergeableBlock:function(e){return In(e).some(t=>{const n=Zt(e,t);return!v(n).merge})},areInnerBlocksControlled:ir,canEditBlock:Dn,canInsertBlockType:Nn,canInsertBlocks:function(e,t,n=null){return t.every(t=>Nn(e,Zt(e,t),n))},canLockBlockType:function(e,t){return!!L(t,"lock",!0)&&!!e.settings?.canLockBlocks},canMoveBlock:Pn,canMoveBlocks:function(e,t){return t.every(t=>Pn(e,t))},canRemoveBlock:Mn,canRemoveBlocks:wn,didAutomaticChange:function(e){return!!e.automaticChangeStatus},getAdjacentBlockClientId:pn,getAllowedBlocks:Fn,getBlock:qt,getBlockAttributes:$t,getBlockCount:function(e,t){return Bn(e,t).length},getBlockEditingMode:ar,getBlockHierarchyRootClientId:function(e,t){let n,r=t;do{n=r,r=e.blocks.parents.get(r)}while(r);return n},getBlockIndex:yn,getBlockInsertionPoint:vn,getBlockListSettings:Qn,getBlockMode:function(e,t){return e.blocksMode[t]||"visual"},getBlockName:Zt,getBlockNamesByClientId:ln,getBlockOrder:Bn,getBlockParents:gn,getBlockParentsByBlockName:fn,getBlockRootClientId:dn,getBlockSelectionEnd:function(e){return e.selection.selectionEnd.clientId},getBlockSelectionStart:function(e){return e.selection.selectionStart.clientId},getBlockTransformItems:Hn,getBlocks:function(e,t){const n=t&&ir(e,t)?"controlled||"+t:t||"";return e.blocks.tree.get(n)?.innerBlocks||zt},getBlocksByClientId:sn,getBlocksByName:on,getClientIdsOfDescendants:tn,getClientIdsWithDescendants:nn,getDirectInsertBlock:zn,getDraggedBlockClientIds:function(e){return e.draggedBlocks},getFirstMultiSelectedBlockClientId:bn,getGlobalBlockCount:rn,getHoveredBlockClientId:function(e){return e.hoveredBlockClientId},getInserterItems:Vn,getLastMultiSelectedBlockClientId:En,getLowestCommonAncestorWithSelectedBlock:function(e,t){const n=un(e),r=[...gn(e,t),t],o=[...gn(e,n),n];let i;const s=Math.min(r.length,o.length);for(let l=0;l<s&&r[l]===o[l];l++)i=r[l];return i},getMultiSelectedBlockClientIds:kn,getMultiSelectedBlocks:_n,getMultiSelectedBlocksEndClientId:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId===n.clientId?null:n.clientId||null},getMultiSelectedBlocksStartClientId:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId===n.clientId?null:t.clientId||null},getNextBlockClientId:function(e,t){return pn(e,t,1)},getPatternsByBlockTypes:$n,getPreviousBlockClientId:function(e,t){return pn(e,t,-1)},getSelectedBlock:function(e){const t=un(e);return t?qt(e,t):null},getSelectedBlockClientId:un,getSelectedBlockClientIds:In,getSelectedBlockCount:function(e){const t=kn(e).length;return t||(e.selection.selectionStart.clientId?1:0)},getSelectedBlocksInitialCaretPosition:function(e){return e.initialPosition},getSelectionEnd:an,getSelectionStart:cn,getSettings:er,getTemplate:function(e){return e.settings.template},getTemplateLock:Rn,hasBlockMovingClientId:function(){return i('wp.data.select( "core/block-editor" ).hasBlockMovingClientId',{since:"6.7",hint:"Block moving mode feature has been removed"}),!1},hasDraggedInnerBlock:function e(t,n,r=!1){return Bn(t,n).some(n=>On(t,n)||r&&e(t,n,r))},hasInserterItems:jn,hasMultiSelection:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId!==n.clientId},hasSelectedBlock:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return!!t.clientId&&t.clientId===n.clientId},hasSelectedInnerBlock:Tn,isAncestorBeingDragged:function(e,t){return!!Cn(e)&&gn(e,t).some(t=>On(e,t))},isAncestorMultiSelected:Sn,isBlockBeingDragged:On,isBlockHighlighted:function(e,t){return e.highlightedBlock===t},isBlockInsertionPointVisible:function(e){return null!==e.insertionCue},isBlockMultiSelected:mn,isBlockSelected:hn,isBlockValid:function(e,t){const n=e.blocks.byClientId.get(t);return!!n&&n.isValid},isBlockVisible:function(e,t){var n;return null===(n=e.blockVisibility?.[t])||void 0===n||n},isBlockWithinSelection:function(e,t){if(!t)return!1;const n=kn(e),r=n.indexOf(t);return r>-1&&r<n.length-1},isCaretWithinFormattedText:function(){return i('wp.data.select( "core/block-editor" ).isCaretWithinFormattedText',{since:"6.1",version:"6.3"}),!1},isDraggingBlocks:Cn,isFirstMultiSelectedBlock:function(e,t){return bn(e)===t},isGroupable:dr,isLastBlockChangePersistent:function(e){return e.blocks.isPersistentChange},isMultiSelecting:function(e){return e.isMultiSelecting},isNavigationMode:rr,isSelectionEnabled:function(e){return e.isSelectionEnabled},isTyping:function(e){return e.isTyping},isUngroupable:ur,isValidTemplate:function(e){return e.template.isValid},wasBlockJustInserted:function(e,t,n){const{lastBlockInserted:r}=e;return r.clientIds?.includes(t)&&r.source===n}},Symbol.toStringTag,{value:"Module"})),fr=["inserterMediaCategories","blockInspectorAnimation"];function pr(e,{stripExperimentalSettings:t=!1,reset:n=!1}={}){let r=e;if(t&&"web"===m.OS){r={};for(const t in e)fr.includes(t)||(r[t]=e[t])}return{type:"UPDATE_SETTINGS",settings:r,reset:n}}const Ir=(e,t=!0,n=!1)=>({select:r,dispatch:o,registry:i})=>{if(!e||!e.length)return;var s;s=e,e=Array.isArray(s)?s:[s];if(!r.canRemoveBlocks(e))return;const l=!n&&r.getBlockRemovalRules();if(l){function c(e){const t=[],n=[...e];for(;n.length;){const{innerBlocks:e,...r}=n.shift();n.push(...e),t.push(r)}return t}const a=c(e.map(r.getBlock));let u;for(const d of l)if(u=d.callback(a),u)return void o(_r(e,t,u))}t&&o.selectPreviousBlock(e[0],t),i.batch(()=>{o({type:"REMOVE_BLOCKS",clientIds:e}),o(kr())})},kr=()=>({select:e,dispatch:t})=>{if(e.getBlockCount()>0)return;const{__unstableHasCustomAppender:n}=e.getSettings();n||t.insertDefaultBlock()};function _r(e,t,n){return{type:"DISPLAY_BLOCK_REMOVAL_PROMPT",clientIds:e,selectPrevious:t,message:n}}const br=Object.freeze(Object.defineProperty({__proto__:null,__experimentalUpdateSettings:pr,clearBlockRemovalPrompt:function(){return{type:"CLEAR_BLOCK_REMOVAL_PROMPT"}},deleteStyleOverride:function(e){return{type:"DELETE_STYLE_OVERRIDE",id:e}},ensureDefaultBlock:kr,expandBlock:function(e){return{type:"SET_BLOCK_EXPANDED_IN_LIST_VIEW",clientId:e}},hideBlockInterface:function(){return{type:"HIDE_BLOCK_INTERFACE"}},modifyContentLockBlock:e=>({select:t,dispatch:n})=>{n.selectBlock(e),n.__unstableMarkNextChangeAsNotPersistent(),n.updateBlockAttributes(e,{templateLock:void 0}),n.updateBlockListSettings(e,{...t.getBlockListSettings(e),templateLock:!1});const r=t.getSettings().focusMode;n.updateSettings({focusMode:!0}),n.__unstableSetTemporarilyEditingAsBlocks(e,r)},privateRemoveBlocks:Ir,resetZoomLevel:function(){return{type:"RESET_ZOOM_LEVEL"}},setBlockRemovalRules:function(e=!1){return{type:"SET_BLOCK_REMOVAL_RULES",rules:e}},setInsertionPoint:function(e){return{type:"SET_INSERTION_POINT",value:e}},setLastFocus:function(e=null){return{type:"LAST_FOCUS",lastFocus:e}},setOpenedBlockSettingsMenu:function(e){return{type:"SET_OPENED_BLOCK_SETTINGS_MENU",clientId:e}},setStyleOverride:function(e,t){return{type:"SET_STYLE_OVERRIDE",id:e,style:t}},setZoomLevel:function(e=100){return{type:"SET_ZOOM_LEVEL",zoom:e}},showBlockInterface:function(){return{type:"SHOW_BLOCK_INTERFACE"}},startDragging:function(){return{type:"START_DRAGGING"}},stopDragging:function(){return{type:"STOP_DRAGGING"}},stopEditingAsBlocks:function(e){return({select:t,dispatch:n,registry:r})=>{const o=E(r.select(Ar)).getTemporarilyEditingFocusModeToRevert();n.__unstableMarkNextChangeAsNotPersistent(),n.updateBlockAttributes(e,{templateLock:"contentOnly"}),n.updateBlockListSettings(e,{...t.getBlockListSettings(e),templateLock:"contentOnly"}),n.updateSettings({focusMode:o}),n.__unstableSetTemporarilyEditingAsBlocks()}}},Symbol.toStringTag,{value:"Module"})),Er=e=>Array.isArray(e)?e:[e],mr=e=>({select:t,dispatch:n})=>{const r=t.getTemplate(),o=t.getTemplateLock(),i=!r||"all"!==o||w(e,r);if(i!==t.isValidTemplate())return n.setTemplateValidity(i),i};const Sr=(e,t,n,r=0,o)=>({select:i,dispatch:s,registry:l})=>{e=Er(e),t=Er(t);const c=i.getBlockRootClientId(e[0]);for(let e=0;e<t.length;e++){const n=t[e];if(!i.canInsertBlockType(n.name,c))return}l.batch(()=>{s({type:"REPLACE_BLOCKS",clientIds:e,blocks:t,time:Date.now(),indexToSelect:n,initialPosition:r,meta:o}),s.ensureDefaultBlock()})};const Br=e=>(t,n)=>({select:r,dispatch:o})=>{r.canMoveBlocks(t)&&o({type:e,clientIds:Er(t),rootClientId:n})},yr=Br("MOVE_BLOCKS_DOWN"),hr=Br("MOVE_BLOCKS_UP"),Tr=(e,t="",n="",r)=>({select:o,dispatch:i})=>{if(o.canMoveBlocks(e)){if(t!==n){if(!o.canRemoveBlocks(e))return;if(!o.canInsertBlocks(e,n))return}i({type:"MOVE_BLOCKS_TO_POSITION",fromRootClientId:t,toRootClientId:n,clientIds:e,index:r})}};const Cr=(e,t,n,r=!0,o=0,s)=>({select:l,dispatch:c})=>{null!==o&&"object"==typeof o&&(s=o,o=0,i("meta argument in wp.data.dispatch('core/block-editor')",{since:"5.8",hint:"The meta argument is now the 6th argument of the function"})),e=Er(e);const a=[];for(const t of e){l.canInsertBlockType(t.name,n)&&a.push(t)}a.length&&c({type:"INSERT_BLOCKS",blocks:a,index:t,rootClientId:n,time:Date.now(),updateSelection:r,initialPosition:r?o:null,meta:s})};const Or=(e,t=!0)=>Ir(e,t);function vr(e,t){return{type:"TOGGLE_BLOCK_HIGHLIGHT",clientId:e,isHighlighted:t}}const Rr=Object.freeze(Object.defineProperty({__proto__:null,__unstableDeleteSelection:e=>({registry:t,select:n,dispatch:r})=>{const o=n.getSelectionStart(),i=n.getSelectionEnd();if(o.clientId===i.clientId)return;if(!o.attributeKey||!i.attributeKey||void 0===o.offset||void 0===i.offset)return!1;const s=n.getBlockRootClientId(o.clientId);if(s!==n.getBlockRootClientId(i.clientId))return;const l=n.getBlockOrder(s);let c,a;l.indexOf(o.clientId)>l.indexOf(i.clientId)?(c=i,a=o):(c=o,a=i);const u=e?a:c,d=n.getBlock(u.clientId),g=v(d.name);if(!g.merge)return;const f=c,p=a,I=n.getBlock(f.clientId),k=n.getBlock(p.clientId),_=I.attributes[f.attributeKey],b=k.attributes[p.attributeKey];let E=ae({html:_}),m=ae({html:b});E=ue(E,f.offset,E.text.length),m=ge(m,se,0,p.offset);const S=D(I,{[f.attributeKey]:de({value:E})}),B=D(k,{[p.attributeKey]:de({value:m})}),y=e?S:B,h=I.name===k.name?[y]:R(y,g.name);if(!h||!h.length)return;let T;if(e){const e=h.pop();T=g.merge(e.attributes,B.attributes)}else{const e=h.shift();T=g.merge(S.attributes,e.attributes)}const C=le(T),O=T[C],L=ae({html:O}),A=L.text.indexOf(se),N=ue(L,A,A+1),M=de({value:N});T[C]=M;const w=n.getSelectedBlockClientIds(),P=[...e?h:[],{...d,attributes:{...d.attributes,...T}},...e?[]:h];t.batch(()=>{r.selectionChange(d.clientId,C,A,A),r.replaceBlocks(w,P,0,n.getSelectedBlocksInitialCaretPosition())})},__unstableExpandSelection:()=>({select:e,dispatch:t})=>{const n=e.getSelectionStart(),r=e.getSelectionEnd();t.selectionChange({start:{clientId:n.clientId},end:{clientId:r.clientId}})},__unstableMarkAutomaticChange:()=>({dispatch:e})=>{e({type:"MARK_AUTOMATIC_CHANGE"});const{requestIdleCallback:t=e=>setTimeout(e,100)}=window;t(()=>{e({type:"MARK_AUTOMATIC_CHANGE_FINAL"})})},__unstableMarkLastChangeAsPersistent:function(){return{type:"MARK_LAST_CHANGE_AS_PERSISTENT"}},__unstableMarkNextChangeAsNotPersistent:function(){return{type:"MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"}},__unstableSaveReusableBlock:function(e,t){return{type:"SAVE_REUSABLE_BLOCK_SUCCESS",id:e,updatedId:t}},__unstableSetEditorMode:e=>({dispatch:t,select:n})=>{if("zoom-out"===e){const e=n.getBlockSelectionStart(),r=n.getSectionRootClientId();if(e){let o;if(r){const t=n.getBlockOrder(r);o=t?.includes(e)?e:n.getBlockParents(e).find(e=>t.includes(e))}else o=n.getBlockHierarchyRootClientId(e);o?t.selectBlock(o):t.clearSelectedBlock()}}t({type:"SET_EDITOR_MODE",mode:e}),"navigation"===e?z(p("You are currently in navigation mode. Navigate blocks using the Tab key and Arrow keys. Use Left and Right Arrow keys to move between nesting levels. To exit navigation mode and edit the selected block, press Enter.")):"edit"===e?z(p("You are currently in edit mode. To return to the navigation mode, press Escape.")):"zoom-out"===e&&z(p("You are currently in zoom-out mode."))},__unstableSetTemporarilyEditingAsBlocks:function(e,t){return{type:"SET_TEMPORARILY_EDITING_AS_BLOCKS",temporarilyEditingAsBlocks:e,focusModeToRevert:t}},__unstableSplitSelection:(e=[])=>({registry:t,select:n,dispatch:r})=>{const o=n.getSelectionStart(),i=n.getSelectionEnd(),s=n.getBlockRootClientId(o.clientId),l=n.getBlockRootClientId(i.clientId);if(s!==l)return;const c=n.getBlockOrder(s);let a,u;c.indexOf(o.clientId)>c.indexOf(i.clientId)?(a=i,u=o):(a=o,u=i);const d=a,g=u,f=n.getBlock(d.clientId),I=n.getBlock(g.clientId),k=v(f.name),_=v(I.name),b="string"==typeof d.attributeKey?d.attributeKey:ce(k),E="string"==typeof g.attributeKey?g.attributeKey:ce(_),m=n.getBlockAttributes(d.clientId),S=m?.metadata?.bindings;if(S?.[b]){if(e.length){const{createWarningNotice:j}=t.dispatch(ke);return void j(p("Blocks can't be inserted into other blocks with bindings"),{type:"snackbar"})}return void r.insertAfterBlock(d.clientId)}if(!b||!E||void 0===o.offset||void 0===i.offset)return;if(d.clientId===g.clientId&&b===E&&d.offset===g.offset)if(e.length){if(K(f))return void r.replaceBlocks([d.clientId],e,e.length-1,-1)}else if(!n.getBlockOrder(d.clientId).length){function F(){const e=x();return n.canInsertBlockType(e,s)?G(e):G(n.getBlockName(d.clientId))}const W=m[b].length;if(0===d.offset&&W)return void r.insertBlocks([F()],n.getBlockIndex(d.clientId),s,!1);if(d.offset===W)return void r.insertBlocks([F()],n.getBlockIndex(d.clientId)+1,s)}const B=f.attributes[b],y=I.attributes[E];let h=ae({html:B}),T=ae({html:y});h=ue(h,d.offset,h.text.length),T=ue(T,0,g.offset);let C={...f,innerBlocks:f.clientId===I.clientId?[]:f.innerBlocks,attributes:{...f.attributes,[b]:de({value:h})}},O={...I,clientId:f.clientId===I.clientId?G(I.name).clientId:I.clientId,attributes:{...I.attributes,[E]:de({value:T})}};const L=x();if(f.clientId===I.clientId&&L&&O.name!==L&&n.canInsertBlockType(L,s)){const z=R(O,L);1===z?.length&&(O=z[0])}if(!e.length)return void r.replaceBlocks(n.getSelectedBlockClientIds(),[C,O]);let A;const N=[],M=[...e],w=M.shift(),P=v(C.name),D=P.merge&&w.name===P.name?[w]:R(w,P.name);if(D?.length){const Y=D.shift();C={...C,attributes:{...C.attributes,...P.merge(C.attributes,Y.attributes)}},N.push(C),A={clientId:C.clientId,attributeKey:b,offset:ae({html:C.attributes[b]}).text.length},M.unshift(...D)}else U(C)||N.push(C),N.push(w);const V=M.pop(),H=v(O.name);if(M.length&&N.push(...M),V){const X=H.merge&&H.name===V.name?[V]:R(V,H.name);if(X?.length){const Z=X.pop();N.push({...O,attributes:{...O.attributes,...H.merge(Z.attributes,O.attributes)}}),N.push(...X),A={clientId:O.clientId,attributeKey:E,offset:ae({html:Z.attributes[E]}).text.length}}else N.push(V),U(O)||N.push(O)}else U(O)||N.push(O);t.batch(()=>{r.replaceBlocks(n.getSelectedBlockClientIds(),N,N.length-1,0),A&&r.selectionChange(A.clientId,A.attributeKey,A.offset,A.offset)})},clearSelectedBlock:function(){return{type:"CLEAR_SELECTED_BLOCK"}},duplicateBlocks:(e,t=!0)=>({select:n,dispatch:r})=>{if(!e||!e.length)return;const o=n.getBlocksByClientId(e);if(o.some(e=>!e))return;if(o.map(e=>e.name).some(e=>!L(e,"multiple",!0)))return;const i=n.getBlockRootClientId(e[0]),s=Er(e),l=n.getBlockIndex(s[s.length-1]),c=o.map(e=>H(e));return r.insertBlocks(c,l+1,i,t),c.length>1&&t&&r.multiSelect(c[0].clientId,c[c.length-1].clientId),c.map(e=>e.clientId)},enterFormattedText:function(){return i('wp.data.dispatch( "core/block-editor" ).enterFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}},exitFormattedText:function(){return i('wp.data.dispatch( "core/block-editor" ).exitFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}},flashBlock:e=>async({dispatch:t})=>{t(vr(e,!0)),await new Promise(e=>setTimeout(e,150)),t(vr(e,!1))},hideInsertionPoint:()=>({select:e,dispatch:t})=>{e.isBlockInsertionPointVisible()&&t({type:"HIDE_INSERTION_POINT"})},hoverBlock:function(e){return{type:"HOVER_BLOCK",clientId:e}},insertAfterBlock:e=>({select:t,dispatch:n})=>{if(!e)return;const r=t.getBlockRootClientId(e);if(t.getTemplateLock(r))return;const o=t.getBlockIndex(e),i=r?t.getDirectInsertBlock(r):null;if(!i)return n.insertDefaultBlock({},r,o+1);const s={};if(i.attributesToCopy){const n=t.getBlockAttributes(e);i.attributesToCopy.forEach(e=>{n[e]&&(s[e]=n[e])})}const l=G(i.name,{...i.attributes,...s});return n.insertBlock(l,o+1,r)},insertBeforeBlock:e=>({select:t,dispatch:n})=>{if(!e)return;const r=t.getBlockRootClientId(e);if(t.getTemplateLock(r))return;const o=t.getBlockIndex(e),i=r?t.getDirectInsertBlock(r):null;if(!i)return n.insertDefaultBlock({},r,o);const s={};if(i.attributesToCopy){const n=t.getBlockAttributes(e);i.attributesToCopy.forEach(e=>{n[e]&&(s[e]=n[e])})}const l=G(i.name,{...i.attributes,...s});return n.insertBlock(l,o,r)},insertBlock:function(e,t,n,r,o){return Cr([e],t,n,r,0,o)},insertBlocks:Cr,insertDefaultBlock:(e,t,n)=>({dispatch:r})=>{const o=x();if(!o)return;const i=G(o,e);return r.insertBlock(i,n,t)},mergeBlocks:(e,t)=>({registry:n,select:r,dispatch:o})=>{const i=e,s=t,l=r.getBlock(i),c=v(l.name);if(!c)return;const a=r.getBlock(s);if(!c.merge&&V(l.name,"__experimentalOnMerge")){const e=R(a,c.name);if(1!==e?.length)return void o.selectBlock(l.clientId);const[t]=e;return t.innerBlocks.length<1?void o.selectBlock(l.clientId):void n.batch(()=>{o.insertBlocks(t.innerBlocks,void 0,i),o.removeBlock(s),o.selectBlock(t.innerBlocks[0].clientId);const e=r.getNextBlockClientId(i);if(e&&r.getBlockName(i)===r.getBlockName(e)){const t=r.getBlockAttributes(i),n=r.getBlockAttributes(e);Object.keys(t).every(e=>t[e]===n[e])&&(o.moveBlocksToPosition(r.getBlockOrder(e),e,i),o.removeBlock(e,!1))}})}if(K(l))return void o.removeBlock(i,r.isBlockSelected(i));if(K(a))return void o.removeBlock(s,r.isBlockSelected(s));if(!c.merge)return void o.selectBlock(l.clientId);const u=v(a.name),{clientId:d,attributeKey:g,offset:f}=r.getSelectionStart(),p=(d===i?c:u).attributes[g],I=(d===i||d===s)&&void 0!==g&&void 0!==f&&!!p;p||("number"==typeof g?window.console.error("RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was "+typeof g):window.console.error("The RichText identifier prop does not match any attributes defined by the block."));const k=D(l),_=D(a);if(I){const e=d===i?k:_,t=e.attributes[g],n=ge(ae({html:t}),se,f,f);e.attributes[g]=de({value:n})}const b=l.name===a.name?[_]:R(_,l.name);if(!b||!b.length)return;const E=c.merge(k.attributes,b[0].attributes);if(I){const e=le(E),t=E[e],n=ae({html:t}),r=n.text.indexOf(se),i=ue(n,r,r+1),s=de({value:i});E[e]=s,o.selectionChange(l.clientId,e,r,r)}o.replaceBlocks([l.clientId,a.clientId],[{...l,attributes:{...l.attributes,...E}},...b.slice(1)],0)},moveBlockToPosition:function(e,t="",n="",r){return Tr([e],t,n,r)},moveBlocksDown:yr,moveBlocksToPosition:Tr,moveBlocksUp:hr,multiSelect:(e,t,n=0)=>({select:r,dispatch:o})=>{if(r.getBlockRootClientId(e)!==r.getBlockRootClientId(t))return;o({type:"MULTI_SELECT",start:e,end:t,initialPosition:n});const i=r.getSelectedBlockCount();z(S(B("%s block selected.","%s blocks selected.",i),i),"assertive")},receiveBlocks:function(e){return i('wp.data.dispatch( "core/block-editor" ).receiveBlocks',{since:"5.9",alternative:"resetBlocks or insertBlocks"}),{type:"RECEIVE_BLOCKS",blocks:e}},registerInserterMediaCategory:e=>({select:t,dispatch:n})=>{if(!e||"object"!=typeof e)return;if(!e.name)return;if(!e.labels?.name)return;if(!["image","audio","video"].includes(e.mediaType))return;if(!e.fetch||"function"!=typeof e.fetch)return;const r=t.getRegisteredInserterMediaCategories();r.some(({name:t})=>t===e.name)||r.some(({labels:{name:t}={}})=>t===e.labels?.name)||n({type:"REGISTER_INSERTER_MEDIA_CATEGORY",category:{...e,isExternalResource:!0}})},removeBlock:function(e,t){return Or([e],t)},removeBlocks:Or,replaceBlock:function(e,t){return Sr(e,t)},replaceBlocks:Sr,replaceInnerBlocks:function(e,t,n=!1,r=0){return{type:"REPLACE_INNER_BLOCKS",rootClientId:e,blocks:t,updateSelection:n,initialPosition:n?r:null,time:Date.now()}},resetBlocks:e=>({dispatch:t})=>{t({type:"RESET_BLOCKS",blocks:e}),t(mr(e))},resetSelection:function(e,t,n){return{type:"RESET_SELECTION",selectionStart:e,selectionEnd:t,initialPosition:n}},selectBlock:function(e,t=0){return{type:"SELECT_BLOCK",initialPosition:t,clientId:e}},selectNextBlock:e=>({select:t,dispatch:n})=>{const r=t.getNextBlockClientId(e);r&&n.selectBlock(r)},selectPreviousBlock:(e,t=!1)=>({select:n,dispatch:r})=>{const o=n.getPreviousBlockClientId(e);if(o)r.selectBlock(o,-1);else if(t){const t=n.getBlockRootClientId(e);t&&r.selectBlock(t,-1)}},selectionChange:function(e,t,n,r){return"string"==typeof e?{type:"SELECTION_CHANGE",clientId:e,attributeKey:t,startOffset:n,endOffset:r}:{type:"SELECTION_CHANGE",...e}},setBlockEditingMode:function(e="",t){return{type:"SET_BLOCK_EDITING_MODE",clientId:e,mode:t}},setBlockMovingClientId:function(){return i('wp.data.dispatch( "core/block-editor" ).setBlockMovingClientId',{since:"6.7",hint:"Block moving mode feature has been removed"}),{type:"DO_NOTHING"}},setBlockVisibility:function(e){return{type:"SET_BLOCK_VISIBILITY",updates:e}},setHasControlledInnerBlocks:function(e,t){return{type:"SET_HAS_CONTROLLED_INNER_BLOCKS",hasControlledInnerBlocks:t,clientId:e}},setNavigationMode:(e=!0)=>({dispatch:t})=>{t.__unstableSetEditorMode(e?"navigation":"edit")},setTemplateValidity:function(e){return{type:"SET_TEMPLATE_VALIDITY",isValid:e}},showInsertionPoint:function(e,t,n={}){const{__unstableWithInserter:r,operation:o,nearestSide:i}=n;return{type:"SHOW_INSERTION_POINT",rootClientId:e,index:t,__unstableWithInserter:r,operation:o,nearestSide:i}},startDraggingBlocks:function(e=[]){return{type:"START_DRAGGING_BLOCKS",clientIds:e}},startMultiSelect:function(){return{type:"START_MULTI_SELECT"}},startTyping:function(){return{type:"START_TYPING"}},stopDraggingBlocks:function(){return{type:"STOP_DRAGGING_BLOCKS"}},stopMultiSelect:function(){return{type:"STOP_MULTI_SELECT"}},stopTyping:function(){return{type:"STOP_TYPING"}},synchronizeTemplate:()=>({select:e,dispatch:t})=>{t({type:"SYNCHRONIZE_TEMPLATE"});const n=e.getBlocks(),r=e.getTemplate(),o=P(n,r);t.resetBlocks(o)},toggleBlockHighlight:vr,toggleBlockMode:function(e){return{type:"TOGGLE_BLOCK_MODE",clientId:e}},toggleSelection:function(e=!0){return{type:"TOGGLE_SELECTION",isSelectionEnabled:e}},unsetBlockEditingMode:function(e=""){return{type:"UNSET_BLOCK_EDITING_MODE",clientId:e}},updateBlock:function(e,t){return{type:"UPDATE_BLOCK",clientId:e,updates:t}},updateBlockAttributes:function(e,t,n=!1){return{type:"UPDATE_BLOCK_ATTRIBUTES",clientIds:Er(e),attributes:t,uniqueByBlock:n}},updateBlockListSettings:function(e,t){return{type:"UPDATE_BLOCK_LIST_SETTINGS",clientId:e,settings:t}},updateSettings:function(e){return pr(e,{stripExperimentalSettings:!0})},validateBlocksToTemplate:mr},Symbol.toStringTag,{value:"Module"})),Lr={reducer:bt,selectors:gr,actions:Rr},Ar=Ke(ht,{...Lr}),Nr=y(ht,{...Lr,persist:["preferences"]});function Mr({clientIds:e,children:t,__experimentalUpdateSelection:n}){const{getDefaultBlockName:r,getGroupingBlockName:o}=h(O),i=h(t=>{const{canInsertBlockType:n,getBlockRootClientId:o,getBlocksByClientId:i,getDirectInsertBlock:s,canRemoveBlocks:l}=t(Ar),c=i(e),a=o(e[0]),u=n(r(),a),d=a?s(a):null;return{canRemove:l(e),canInsertBlock:u||!!d,canCopyStyles:c.every(e=>!!e&&(L(e.name,"color")||L(e.name,"typography"))),canDuplicate:c.every(e=>!!e&&L(e.name,"multiple",!0)&&n(e.name,a))}},[e,r]),{getBlocksByClientId:s,getBlocks:l}=h(Ar),{canRemove:c,canInsertBlock:a,canCopyStyles:u,canDuplicate:d}=i,{removeBlocks:g,replaceBlocks:f,duplicateBlocks:p,insertAfterBlock:I,insertBeforeBlock:k,flashBlock:_}=T(Ar),b=j(),E=F();return t({canCopyStyles:u,canDuplicate:d,canInsertBlock:a,canRemove:c,onDuplicate:()=>p(e,n),onRemove:()=>g(e,n),onInsertBefore(){k(e[0])},onInsertAfter(){I(e[e.length-1])},onGroup(){if(!e.length)return;const t=o(),n=R(s(e),t);n&&f(e,n)},onUngroup(){if(!e.length)return;const t=l(e[0]);t.length&&f(e,t)},onCopy(){1===e.length&&_(e[0]),b("copy",e)},async onPasteStyles(){await E(s(e))}})}E(Nr).registerPrivateActions(br),E(Nr).registerPrivateSelectors(Wt),E(Ar).registerPrivateActions(br),E(Ar).registerPrivateSelectors(Wt);export{nt as B,Fe as C,Xe as D,me as E,Je as P,ht as S,Ke as a,Lr as b,Ue as c,yt as d,St as e,mt as f,Et as g,Se as h,$e as i,qe as j,tt as k,ot as l,Zt as m,$t as n,er as o,Mr as p,Ht as q,Bt as r,Ar as s,et as u};
