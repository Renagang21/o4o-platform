import{b as e,j as r,u as t,a as o}from"./wp-block-editor-misc-5qbjj7fi.js";import{privateApis as a,ColorPalette as n,BaseControl as s,__experimentalVStack as l,GradientPicker as i,Dropdown as d,__experimentalDropdownContentWrapper as c,__experimentalToolsPanelItem as u,Button as f,__experimentalHStack as b,ColorIndicator as g,FlexItem as h,__experimentalToolsPanel as p,__experimentalSpacer as m}from"./wp-components-Jwbue4-Q.js";import{r as v,j as C}from"./vendor-react-DqgGMt48.js";import{c as x,b as y,d as k}from"./wp-core-BedthL0o.js";import"./wp-blocks-core-BDaUU0zy.js";import{a as j,u as w}from"./wp-block-editor-api-BD-JvyIp.js";import{s as _}from"./wp-block-editor-store-D0LqdVTA.js";import{c as I}from"./vendor-ui-CrFdsnXa.js";import{a as N,c as G}from"./wp-i18n-D2qT7FTy.js";var V={grad:.9,turn:360,rad:360/(2*Math.PI)},M=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},S=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t+0},A=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=1),e>t?t:e>r?e:r},R=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},T=function(e){return{r:A(e.r,0,255),g:A(e.g,0,255),b:A(e.b,0,255),a:A(e.a)}},P=function(e){return{r:S(e.r),g:S(e.g),b:S(e.b),a:S(e.a,3)}},F=/^#([0-9a-f]{3,8})$/i,$=function(e){var r=e.toString(16);return r.length<2?"0"+r:r},q=function(e){var r=e.r,t=e.g,o=e.b,a=e.a,n=Math.max(r,t,o),s=n-Math.min(r,t,o),l=s?n===r?(t-o)/s:n===t?2+(o-r)/s:4+(r-t)/s:0;return{h:60*(l<0?l+6:l),s:n?s/n*100:0,v:n/255*100,a:a}},D=function(e){var r=e.h,t=e.s,o=e.v,a=e.a;r=r/360*6,t/=100,o/=100;var n=Math.floor(r),s=o*(1-t),l=o*(1-(r-n)*t),i=o*(1-(1-r+n)*t),d=n%6;return{r:255*[o,l,s,s,i,o][d],g:255*[i,o,o,l,s,s][d],b:255*[s,s,i,o,o,l][d],a:a}},H=function(e){return{h:R(e.h),s:A(e.s,0,100),l:A(e.l,0,100),a:A(e.a)}},L=function(e){return{h:S(e.h),s:S(e.s),l:S(e.l),a:S(e.a,3)}},O=function(e){return D((t=(r=e).s,{h:r.h,s:(t*=((o=r.l)<50?o:100-o)/100)>0?2*t/(o+t)*100:0,v:o+t,a:r.a}));var r,t,o},B=function(e){return{h:(r=q(e)).h,s:(a=(200-(t=r.s))*(o=r.v)/100)>0&&a<200?t*o/100/(a<=100?a:200-a)*100:0,l:a/2,a:r.a};var r,t,o,a},z=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,U=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,W=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Y={string:[[function(e){var r=F.exec(e);return r?(e=r[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?S(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?S(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var r=U.exec(e)||W.exec(e);return r?r[2]!==r[4]||r[4]!==r[6]?null:T({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):null},"rgb"],[function(e){var r=z.exec(e)||E.exec(e);if(!r)return null;var t,o,a=H({h:(t=r[1],o=r[2],void 0===o&&(o="deg"),Number(t)*(V[o]||1)),s:Number(r[3]),l:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)});return O(a)},"hsl"]],object:[[function(e){var r=e.r,t=e.g,o=e.b,a=e.a,n=void 0===a?1:a;return M(r)&&M(t)&&M(o)?T({r:Number(r),g:Number(t),b:Number(o),a:Number(n)}):null},"rgb"],[function(e){var r=e.h,t=e.s,o=e.l,a=e.a,n=void 0===a?1:a;if(!M(r)||!M(t)||!M(o))return null;var s=H({h:Number(r),s:Number(t),l:Number(o),a:Number(n)});return O(s)},"hsl"],[function(e){var r=e.h,t=e.s,o=e.v,a=e.a,n=void 0===a?1:a;if(!M(r)||!M(t)||!M(o))return null;var s=function(e){return{h:R(e.h),s:A(e.s,0,100),v:A(e.v,0,100),a:A(e.a)}}({h:Number(r),s:Number(t),v:Number(o),a:Number(n)});return D(s)},"hsv"]]},J=function(e,r){for(var t=0;t<r.length;t++){var o=r[t][0](e);if(o)return[o,r[t][1]]}return[null,void 0]},K=function(e,r){var t=B(e);return{h:t.h,s:A(t.s+100*r,0,100),l:t.l,a:t.a}},Q=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},X=function(e,r){var t=B(e);return{h:t.h,s:t.s,l:A(t.l+100*r,0,100),a:t.a}},Z=function(){function e(e){this.parsed=function(e){return"string"==typeof e?J(e.trim(),Y.string):"object"==typeof e&&null!==e?J(e,Y.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return S(Q(this.rgba),2)},e.prototype.isDark=function(){return Q(this.rgba)<.5},e.prototype.isLight=function(){return Q(this.rgba)>=.5},e.prototype.toHex=function(){return r=(e=P(this.rgba)).r,t=e.g,o=e.b,n=(a=e.a)<1?$(S(255*a)):"","#"+$(r)+$(t)+$(o)+n;var e,r,t,o,a,n},e.prototype.toRgb=function(){return P(this.rgba)},e.prototype.toRgbString=function(){return r=(e=P(this.rgba)).r,t=e.g,o=e.b,(a=e.a)<1?"rgba("+r+", "+t+", "+o+", "+a+")":"rgb("+r+", "+t+", "+o+")";var e,r,t,o,a},e.prototype.toHsl=function(){return L(B(this.rgba))},e.prototype.toHslString=function(){return r=(e=L(B(this.rgba))).h,t=e.s,o=e.l,(a=e.a)<1?"hsla("+r+", "+t+"%, "+o+"%, "+a+")":"hsl("+r+", "+t+"%, "+o+"%)";var e,r,t,o,a},e.prototype.toHsv=function(){return e=q(this.rgba),{h:S(e.h),s:S(e.s),v:S(e.v),a:S(e.a,3)};var e},e.prototype.invert=function(){return ee({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),ee(K(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),ee(K(this.rgba,-e))},e.prototype.grayscale=function(){return ee(K(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),ee(X(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),ee(X(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?ee({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):S(this.rgba.a,3);var r},e.prototype.hue=function(e){var r=B(this.rgba);return"number"==typeof e?ee({h:e,s:r.s,l:r.l,a:r.a}):S(r.h)},e.prototype.isEqual=function(e){return this.toHex()===ee(e).toHex()},e}(),ee=function(e){return e instanceof Z?e:new Z(e)},re=[],te=function(e){e.forEach(function(e){re.indexOf(e)<0&&(e(Z,Y),re.push(e))})};function oe(e,r){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},o={};for(var a in t)o[t[a]]=a;var n={};e.prototype.toName=function(r){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,s,l=o[this.toHex()];if(l)return l;if(null==r?void 0:r.closest){var i=this.toRgb(),d=1/0,c="black";if(!n.length)for(var u in t)n[u]=new e(t[u]).toRgb();for(var f in t){var b=(a=i,s=n[f],Math.pow(a.r-s.r,2)+Math.pow(a.g-s.g,2)+Math.pow(a.b-s.b,2));b<d&&(d=b,c=f)}return c}},r.string.push([function(r){var o=r.toLowerCase(),a="transparent"===o?"#0000":t[o];return a?new e(a).toRgb():null},"name"])}var ae=function(e){var r=e/255;return r<.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)},ne=function(e){return.2126*ae(e.r)+.7152*ae(e.g)+.0722*ae(e.b)};function se(e){e.prototype.luminance=function(){return e=ne(this.rgba),void 0===(r=2)&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t+0;var e,r,t},e.prototype.contrast=function(r){void 0===r&&(r="#FFF");var t,o,a,n,s,l,i,d=r instanceof e?r:new e(r);return n=this.rgba,s=d.toRgb(),t=(l=ne(n))>(i=ne(s))?(l+.05)/(i+.05):(i+.05)/(l+.05),void 0===(o=2)&&(o=0),void 0===a&&(a=Math.pow(10,o)),Math.floor(a*t)/a+0},e.prototype.isReadable=function(e,r){return void 0===e&&(e="#FFF"),void 0===r&&(r={}),this.contrast(e)>=(s=void 0===(n=(t=r).size)?"normal":n,"AAA"===(a=void 0===(o=t.level)?"AA":o)&&"normal"===s?7:"AA"===a&&"large"===s?3:4.5);var t,o,a,n,s}}te([oe,se]);const{kebabCase:le}=e(a),ie=(e,r,t)=>{if(r){const t=e?.find(e=>e.slug===r);if(t)return t}return{color:t}},de=(e,r)=>e?.find(e=>e.color===r);function ce(e,r){if(e&&r)return`has-${le(r)}-${e}`}const{kebabCase:ue}=e(a),fe=([e,...r])=>e.toUpperCase()+r.join("");function be(e,r){const t=e.reduce((e,r)=>({...e,..."string"==typeof r?{[r]:ue(r)}:r}),{});return y([r,e=>class extends v.Component{constructor(e){super(e),this.setters=this.createSetters(),this.colorUtils={getMostReadableColor:this.getMostReadableColor.bind(this)},this.state={}}getMostReadableColor(e){const{colors:r}=this.props;return function(e,r){const t=ee(r),o=({color:e})=>t.contrast(e),a=Math.max(...e.map(o));return e.find(e=>o(e)===a).color}(r,e)}createSetters(){return Object.keys(t).reduce((e,r)=>{const t=fe(r),o=`custom${t}`;return e[`set${t}`]=this.createSetColor(r,o),e},{})}createSetColor(e,r){return t=>{const o=de(this.props.colors,t);this.props.setAttributes({[e]:o&&o.slug?o.slug:void 0,[r]:o&&o.slug?void 0:t})}}static getDerivedStateFromProps({attributes:e,colors:r},o){return Object.entries(t).reduce((t,[a,n])=>{const s=ie(r,e[a],e[`custom${fe(a)}`]),l=o[a],i=l?.color;return i===s.color&&l?t[a]=l:t[a]={...s,class:ce(n,s.slug)},t},{})}render(){return C.jsx(e,{...this.props,colors:void 0,...this.state,...this.setters,colorUtils:this.colorUtils})}}])}function ge(e){return(...r)=>{const t=(e=>x(r=>t=>C.jsx(r,{...t,colors:e}),"withCustomColorPalette"))(e);return x(be(r,t),"withCustomColors")}}function he(...e){const t=x(e=>t=>{const[o,a,n]=r("color.palette.custom","color.palette.theme","color.palette.default"),s=v.useMemo(()=>[...o||[],...a||[],...n||[]],[o,a,n]);return C.jsx(e,{...t,colors:s})},"withEditorColorPalette");return x(be(e,t),"withColors")}function pe(e){if(e)return`has-${e}-gradient-background`}function me(e,r){const t=e?.find(e=>e.slug===r);return t&&t.gradient}function ve(e,r){const t=e?.find(e=>e.gradient===r);return t}function Ce(e,r){const t=ve(e,r);return t&&t.slug}function xe({gradientAttribute:e="gradient",customGradientAttribute:a="customGradient"}={}){const{clientId:n}=j(),[s,l,i]=r("color.gradients.custom","color.gradients.theme","color.gradients.default"),d=v.useMemo(()=>[...s||[],...l||[],...i||[]],[s,l,i]),{gradient:c,customGradient:u}=t(r=>{const{getBlockAttributes:t}=r(_),o=t(n)||{};return{customGradient:o[a],gradient:o[e]}},[n,e,a]),{updateBlockAttributes:f}=o(_),b=v.useCallback(r=>{const t=Ce(d,r);f(n,t?{[e]:t,[a]:void 0}:{[e]:void 0,[a]:r})},[d,n,f]),g=pe(c);let h;return h=c?me(d,c):u,{gradientClass:g,gradientValue:h,setGradient:b}}const ye=x(e=>t=>{const[o,a]=r("color.palette","color.custom"),{colors:n=o,disableCustomColors:s=!a}=t,l=n&&n.length>0||!s;return C.jsx(e,{...t,colors:n,disableCustomColors:s,hasColorsToChoose:l})},"withColorContext"),ke=ye(n),{Tabs:je}=e(a),we=["colors","disableCustomColors","gradients","disableCustomGradients"],_e="color",Ie="gradient";function Ne({colors:e,gradients:r,disableCustomColors:t,disableCustomGradients:o,__experimentalIsRenderedInSidebar:a,className:d,label:c,onColorChange:u,onGradientChange:f,colorValue:b,gradientValue:g,clearable:h,showTitle:p=!0,enableAlpha:m,headingLevel:v}){const x=u&&(e&&e.length>0||!t),y=f&&(r&&r.length>0||!o);if(!x&&!y)return null;const k={[_e]:C.jsx(n,{value:b,onChange:y?e=>{u(e),f()}:u,colors:e,disableCustomColors:t,__experimentalIsRenderedInSidebar:a,clearable:h,enableAlpha:m,headingLevel:v}),[Ie]:C.jsx(i,{value:g,onChange:x?e=>{f(e),u()}:f,gradients:r,disableCustomGradients:o,__experimentalIsRenderedInSidebar:a,clearable:h,headingLevel:v})},j=e=>C.jsx("div",{className:"block-editor-color-gradient-control__panel",children:k[e]});return C.jsx(s,{__nextHasNoMarginBottom:!0,className:I("block-editor-color-gradient-control",d),children:C.jsx("fieldset",{className:"block-editor-color-gradient-control__fieldset",children:C.jsxs(l,{spacing:1,children:[p&&C.jsx("legend",{children:C.jsx("div",{className:"block-editor-color-gradient-control__color-indicator",children:C.jsx(s.VisualLabel,{children:c})})}),x&&y&&C.jsx("div",{children:C.jsxs(je,{defaultTabId:g?Ie:!!x&&_e,children:[C.jsxs(je.TabList,{children:[C.jsx(je.Tab,{tabId:_e,children:N("Color")}),C.jsx(je.Tab,{tabId:Ie,children:N("Gradient")})]}),C.jsx(je.TabPanel,{tabId:_e,className:"block-editor-color-gradient-control__panel",focusable:!1,children:k.color}),C.jsx(je.TabPanel,{tabId:Ie,className:"block-editor-color-gradient-control__panel",focusable:!1,children:k.gradient})]})}),!y&&j(_e),!x&&j(Ie)]})})})}function Ge(e){const[t,o,a,n]=r("color.palette","color.gradients","color.custom","color.customGradient");return C.jsx(Ne,{colors:t,gradients:o,disableCustomColors:!a,disableCustomGradients:!n,...e})}function Ve(e){return we.every(r=>e.hasOwnProperty(r))?C.jsx(Ne,{...e}):C.jsx(Ge,{...e})}function Me({onChange:e,value:r,...t}){return C.jsx(Ve,{...t,onColorChange:e,colorValue:r,gradients:[],disableCustomGradients:!0})}const Se=({setting:e,children:r,panelId:t,...o})=>C.jsx(u,{hasValue:()=>!!e.colorValue||!!e.gradientValue,label:e.label,onDeselect:()=>{e.colorValue?e.onColorChange():e.gradientValue&&e.onGradientChange()},isShownByDefault:void 0===e.isShownByDefault||e.isShownByDefault,...o,className:"block-editor-tools-panel-color-gradient-settings__item",panelId:t,resetAllFilter:e.resetAllFilter,children:r}),Ae=({colorValue:e,label:r})=>C.jsxs(b,{justify:"flex-start",children:[C.jsx(g,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:e}),C.jsx(h,{className:"block-editor-panel-color-gradient-settings__color-name",title:r,children:r})]}),Re=e=>({onToggle:r,isOpen:t})=>{const{colorValue:o,label:a}=e,n={onClick:r,className:I("block-editor-panel-color-gradient-settings__dropdown",{"is-open":t}),"aria-expanded":t};return C.jsx(f,{__next40pxDefaultSize:!0,...n,children:C.jsx(Ae,{colorValue:o,label:a})})};function Te({colors:e,disableCustomColors:r,disableCustomGradients:t,enableAlpha:o,gradients:a,settings:n,__experimentalIsRenderedInSidebar:s,...l}){let i;return s&&(i={placement:"left-start",offset:36,shift:!0}),C.jsx(C.Fragment,{children:n.map((n,u)=>{var f;const b={clearable:!1,colorValue:n.colorValue,colors:e,disableCustomColors:r,disableCustomGradients:t,enableAlpha:o,gradientValue:n.gradientValue,gradients:a,label:n.label,onColorChange:n.onColorChange,onGradientChange:n.onGradientChange,showTitle:!1,__experimentalIsRenderedInSidebar:s,...n},g={colorValue:null!==(f=n.gradientValue)&&void 0!==f?f:n.colorValue,label:n.label};return n&&C.jsx(Se,{setting:n,...l,children:C.jsx(d,{popoverProps:i,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:Re(g),renderContent:()=>C.jsx(c,{paddingSize:"none",children:C.jsx("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:C.jsx(Ve,{...b})})})})},u)})})}function Pe(){const[e,t,o,a,n,s,l,i,d,c]=r("color.custom","color.palette.custom","color.palette.theme","color.palette.default","color.defaultPalette","color.customGradient","color.gradients.custom","color.gradients.theme","color.gradients.default","color.defaultGradients"),u={disableCustomColors:!e,disableCustomGradients:!s};return u.colors=v.useMemo(()=>{const e=[];return o&&o.length&&e.push({name:G("Theme","Indicates this palette comes from the theme."),colors:o}),n&&a&&a.length&&e.push({name:G("Default","Indicates this palette comes from WordPress."),colors:a}),t&&t.length&&e.push({name:G("Custom","Indicates this palette comes from the theme."),colors:t}),e},[t,o,a,n]),u.gradients=v.useMemo(()=>{const e=[];return i&&i.length&&e.push({name:G("Theme","Indicates this palette comes from the theme."),gradients:i}),c&&d&&d.length&&e.push({name:G("Default","Indicates this palette comes from WordPress."),gradients:d}),l&&l.length&&e.push({name:G("Custom","Indicates this palette is created by the user."),gradients:l}),e},[l,i,d,c]),u.hasColorsOrGradients=!!u.colors.length||!!u.gradients.length,u}const Fe=["colors","disableCustomColors","gradients","disableCustomGradients"],$e=({className:e,colors:r,gradients:t,disableCustomColors:o,disableCustomGradients:a,children:n,settings:s,title:l,showTitle:i=!0,__experimentalIsRenderedInSidebar:d,enableAlpha:c})=>{const u=k($e),{batch:f}=w();return r&&0!==r.length||t&&0!==t.length||!o||!a||!s?.every(e=>(!e.colors||0===e.colors.length)&&(!e.gradients||0===e.gradients.length)&&(void 0===e.disableCustomColors||e.disableCustomColors)&&(void 0===e.disableCustomGradients||e.disableCustomGradients))?C.jsxs(p,{className:I("block-editor-panel-color-gradient-settings",e),label:i?l:void 0,resetAll:()=>{f(()=>{s.forEach(({colorValue:e,gradientValue:r,onColorChange:t,onGradientChange:o})=>{e?t():r&&o()})})},panelId:u,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",children:[C.jsx(Te,{settings:s,panelId:u,colors:r,gradients:t,disableCustomColors:o,disableCustomGradients:a,__experimentalIsRenderedInSidebar:d,enableAlpha:c}),!!n&&C.jsxs(C.Fragment,{children:[C.jsx(m,{marginY:4})," ",n]})]}):null},qe=e=>{const r=Pe();return C.jsx($e,{...r,...e})},De=e=>Fe.every(r=>e.hasOwnProperty(r))?C.jsx($e,{...e}):C.jsx(qe,{...e});export{Ve as C,De as P,pe as _,se as a,Me as b,Te as c,ye as d,ie as e,de as f,ce as g,ge as h,ke as i,he as j,te as k,me as l,ve as m,oe as n,Ce as o,xe as p,Pe as u,ee as w};
