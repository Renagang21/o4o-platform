import{r as e,j as s,bf as t,a as r,b7 as a,V as i,bN as c,b6 as n,aX as d,dn as l,bb as o,aE as m,cm as x,aT as p}from"./vendor-react-DqgGMt48.js";import{b as j,B as h,I as u}from"./page-template-editor-CdMtnD-k.js";import{cF as N,cG as y,cH as b,cI as w,cQ as f}from"./wp-misc-nAANEFFa.js";import{u as v}from"./index-BHVx3EzE.js";import"./vendor-monaco-BxJH8uUv.js";import"./vendor-ui-CrFdsnXa.js";import"./vendor-query-D_c3FRkE.js";import"./vendor-utils-CX-PD_Jc.js";import"./wp-blocks-core-BDaUU0zy.js";import"./wp-block-editor-misc-5qbjj7fi.js";import"./wp-core-BedthL0o.js";import"./wp-block-editor-api-BD-JvyIp.js";import"./wp-block-editor-store-D0LqdVTA.js";import"./wp-block-editor-clipboard-BbjM0mE7.js";import"./wp-i18n-D2qT7FTy.js";import"./wp-block-editor-global-styles-CgbocFEz.js";import"./wp-block-editor-typography-C6olASDs.js";import"./wp-components-Jwbue4-Q.js";import"./wp-block-editor-spacing-Bjm66-GI.js";import"./wp-block-editor-menus-DNdBW6en.js";import"./wp-block-editor-core-BHvRx-9p.js";import"./wp-block-editor-utils-BS9xY-75.js";import"./wp-block-editor-colors-uaYdG60c.js";import"./wp-block-editor-a11y-B3KhLhxS.js";import"./wp-block-editor-preview-IPMCb4VS.js";import"./wp-block-editor-borders-DTrAcZMd.js";import"./wp-block-editor-formats-DG6_xyZ_.js";import"./wp-block-editor-selection-yPihMKSS.js";import"./wp-block-editor-inline-Bkp4Ls8p.js";import"./wp-block-editor-ui-D4dlfw0L.js";import"./wp-block-editor-transforms-CCvPjpfb.js";import"./wp-block-editor-patterns-vKXFRlW-.js";import"./wp-block-editor-navigation-BlWUaXzS.js";import"./wp-block-editor-dnd-BymtRIME.js";import"./wp-block-editor-media-CULIbUAn.js";import"./wp-api-CmKoN5bn.js";import"./wp-block-editor-keyboard-D3kftNm9.js";import"./wp-block-editor-templates-BgLwh8Gm.js";import"./wp-data-BAtVYyan.js";import"./vendor-socket-CMcZe9fK.js";const g=({postId:c,postType:n="signage_video",size:d="default",variant:l="outline",className:o="",onCopySuccess:m})=>{const{user:x}=v(),[p,u]=e.useState(!1),[N,y]=e.useState(!1),[b,w]=e.useState(!0);e.useEffect(()=>{(async()=>{if(x)try{const e=await async function(e){try{return(await j.api.get(`/v1/signage/check-video/${e}`)).data.exists||!1}catch(s){return!1}}(c);y(e)}catch(e){}finally{w(!1)}else w(!1)})()},[c,x]);return b?s.jsx(h,{size:d,variant:l,className:o,disabled:!0,children:s.jsx(t,{className:"w-4 h-4 animate-spin"})}):s.jsx(h,{size:d,variant:N?"default":l,className:o,onClick:async()=>{if(x)if(N)i("ì´ë¯¸ ë‚´ ëª©ë¡ì— ìˆëŠ” ë¹„ë””ì˜¤ì…ë‹ˆë‹¤.",{icon:"ğŸ“‹"});else{u(!0);try{const e=await async function(e){try{return(await j.api.post("/v1/signage/copy-video",{postId:e.postId,postType:e.postType||"signage_video"})).data}catch(s){return 409===s.response?.status?{success:!1,message:"ì´ë¯¸ ë‚´ ëª©ë¡ì— ìˆëŠ” ë¹„ë””ì˜¤ì…ë‹ˆë‹¤."}:{success:!1,message:s.response?.data?.message||"ë¹„ë””ì˜¤ ë³µì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."}}}({postId:c,postType:n});e.success?(y(!0),i.success("ë¹„ë””ì˜¤ê°€ ë‚´ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!"),e.newPostId&&m&&m(e.newPostId)):i.error(e.message)}catch(e){i.error("ë¹„ë””ì˜¤ ë³µì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}finally{u(!1)}}else i.error("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")},disabled:p||N,children:p?s.jsx(t,{className:"w-4 h-4 animate-spin"}):N?s.jsxs(s.Fragment,{children:[s.jsx(r,{className:"w-4 h-4 mr-2"}),"ë‚´ ëª©ë¡ì— ìˆìŒ"]}):s.jsxs(s.Fragment,{children:[s.jsx(a,{className:"w-4 h-4 mr-2"}),"ë‚´ ëª©ë¡ì— ì¶”ê°€"]})})};function k(e){const s=function(e){const s=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/v\/([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const t of s){const s=e.match(t);if(s&&s[1])return s[1]}return null}(e);if(s)return{type:"youtube",id:s,embedUrl:`https://www.youtube.com/embed/${s}`,thumbnailUrl:`https://img.youtube.com/vi/${s}/maxresdefault.jpg`};const t=function(e){const s=[/vimeo\.com\/(\d+)/,/player\.vimeo\.com\/video\/(\d+)/];for(const t of s){const s=e.match(t);if(s&&s[1])return s[1]}return null}(e);return t?{type:"vimeo",id:t,embedUrl:`https://player.vimeo.com/video/${t}`}:{type:"unknown",id:"",embedUrl:e}}const T=()=>{const[t,r]=e.useState(""),[j,v]=e.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-modern-text-primary flex items-center gap-2",children:[s.jsx(c,{className:"w-8 h-8 text-modern-primary"}),"ë””ì§€í„¸ ì‚¬ì´ë‹ˆì§€ ë¹„ë””ì˜¤ ê´€ë¦¬"]}),s.jsx("p",{className:"text-modern-text-secondary mt-1",children:"YouTube/Vimeo ë¹„ë””ì˜¤ë¥¼ ì¶”ê°€í•˜ê³  ë””ìŠ¤í”Œë ˆì´ì— í‘œì‹œí•  ì½˜í…ì¸ ë¥¼ ê´€ë¦¬í•˜ì„¸ìš”."})]})}),s.jsxs(N,{children:[s.jsx(y,{children:s.jsxs(b,{className:"flex items-center gap-2",children:[s.jsx(n,{className:"w-5 h-5 text-modern-primary"}),"ë¹ ë¥¸ ë¹„ë””ì˜¤ ì¶”ê°€"]})}),s.jsxs(w,{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(u,{type:"url",placeholder:"YouTube ë˜ëŠ” Vimeo URLì„ ì…ë ¥í•˜ì„¸ìš”...",value:t,onChange:e=>r(e.target.value),className:"flex-1"}),s.jsxs(h,{onClick:()=>{if(t){if(v(!0),function(e){if(!e)return!1;try{return new URL(e),"unknown"!==k(e).type}catch{return!1}}(t)){const e=k(t);i.success(("youtube"===e.type?"YouTube":"Vimeo")+" ë¹„ë””ì˜¤ê°€ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!"),r("")}else i.error("ìœ íš¨í•œ YouTube ë˜ëŠ” Vimeo URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");v(!1)}else i.error("ë¹„ë””ì˜¤ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.")},disabled:j,children:[s.jsx(n,{className:"w-4 h-4 mr-2"}),"ì¶”ê°€"]})]}),s.jsx("p",{className:"text-sm text-modern-text-secondary mt-2",children:"ì˜ˆ: https://www.youtube.com/watch?v=dQw4w9WgXcQ ë˜ëŠ” https://vimeo.com/123456789"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(N,{children:s.jsx(w,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-modern-text-secondary",children:"ë‚´ ë¹„ë””ì˜¤"}),s.jsx("p",{className:"text-2xl font-bold text-modern-text-primary",children:"24"}),s.jsx("p",{className:"text-xs text-modern-text-secondary mt-1",children:"ì´ ì¬ìƒì‹œê°„ 2ì‹œê°„ 30ë¶„"})]}),s.jsx(d,{className:"w-8 h-8 text-modern-primary opacity-20"})]})})}),s.jsx(N,{children:s.jsx(w,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-modern-text-secondary",children:"ê³µìœ ëœ ë¹„ë””ì˜¤"}),s.jsx("p",{className:"text-2xl font-bold text-modern-success",children:"156"}),s.jsx("p",{className:"text-xs text-modern-text-secondary mt-1",children:"ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ê³µìœ "})]}),s.jsx(a,{className:"w-8 h-8 text-modern-success opacity-20"})]})})}),s.jsx(N,{children:s.jsx(w,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-modern-text-secondary",children:"YouTube"}),s.jsx("p",{className:"text-2xl font-bold text-modern-warning",children:"45"}),s.jsx("p",{className:"text-xs text-modern-text-secondary mt-1",children:"í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ 3ê°œ"})]}),s.jsx(l,{className:"w-8 h-8 text-modern-warning opacity-20"})]})})}),s.jsx(N,{children:s.jsx(w,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-modern-text-secondary",children:"Vimeo"}),s.jsx("p",{className:"text-2xl font-bold text-modern-accent",children:"12"}),s.jsx("p",{className:"text-xs text-modern-text-secondary mt-1",children:"í”„ë¦¬ë¯¸ì—„ ì½˜í…ì¸ "})]}),s.jsx(o,{className:"w-8 h-8 text-modern-accent opacity-20"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(N,{children:[s.jsx(y,{children:s.jsxs(b,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"ë‚´ ë¹„ë””ì˜¤"}),s.jsxs(h,{size:"sm",variant:"outline",children:[s.jsx(m,{className:"w-4 h-4 mr-2"}),"ê²€ìƒ‰"]})]})}),s.jsxs(w,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:s.jsx(l,{className:"w-8 h-8 text-modern-text-tertiary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"2024 ë´„ ì‹ ì œí’ˆ í”„ë¡œëª¨ì…˜"}),s.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 2:30 | YouTube"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(f,{variant:"outline",className:"text-xs",children:"í”„ë¡œëª¨ì…˜"}),s.jsx("span",{className:"text-xs text-modern-text-secondary",children:"2024.03.15 ì¶”ê°€"})]})]}),s.jsx(h,{size:"sm",variant:"ghost",children:s.jsx(o,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:s.jsx(d,{className:"w-8 h-8 text-modern-text-tertiary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"ë¸Œëœë“œ ì†Œê°œ ì˜ìƒ"}),s.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 5:15 | Vimeo"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(f,{variant:"outline",className:"text-xs",children:"ë¸Œëœë”©"}),s.jsx("span",{className:"text-xs text-modern-text-secondary",children:"2024.02.28 ì¶”ê°€"})]})]}),s.jsx(h,{size:"sm",variant:"ghost",children:s.jsx(o,{className:"w-4 h-4"})})]})})]}),s.jsx(h,{variant:"outline",className:"w-full mt-4",children:"ì „ì²´ ë³´ê¸°"})]})]}),s.jsxs(N,{children:[s.jsx(y,{children:s.jsxs(b,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"ê³µìœ ëœ ë¹„ë””ì˜¤"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(h,{size:"sm",variant:"outline",children:[s.jsx(x,{className:"w-4 h-4 mr-2"}),"í•„í„°"]})})]})}),s.jsxs(w,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:s.jsx(l,{className:"w-8 h-8 text-modern-text-tertiary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"ê±´ê°• ê´€ë¦¬ íŒ ì‹œë¦¬ì¦ˆ"}),s.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 3:45 | YouTube í”Œë ˆì´ë¦¬ìŠ¤íŠ¸"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(f,{variant:"outline",className:"text-xs",children:"êµìœ¡"}),s.jsx("span",{className:"text-xs text-modern-text-secondary",children:"by ë§ˆì¼€íŒ…íŒ€"})]})]}),s.jsx(g,{postId:"video_123",size:"sm"})]})}),s.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:s.jsx(d,{className:"w-8 h-8 text-modern-text-tertiary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"ë§¤ì¥ ì¸í…Œë¦¬ì–´ ì†Œê°œ"}),s.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 1:30 | Vimeo"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(f,{variant:"outline",className:"text-xs",children:"ë§¤ì¥ì†Œê°œ"}),s.jsx("span",{className:"text-xs text-modern-text-secondary",children:"by ë””ìì¸íŒ€"})]})]}),s.jsx(g,{postId:"video_124",size:"sm"})]})}),s.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:s.jsx(l,{className:"w-8 h-8 text-modern-text-tertiary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"ê³ ê° í›„ê¸° ëª¨ìŒ"}),s.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 4:20 | YouTube"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(f,{variant:"outline",className:"text-xs",children:"í›„ê¸°"}),s.jsx("span",{className:"text-xs text-modern-text-secondary",children:"by CSíŒ€"})]})]}),s.jsx(g,{postId:"video_125",size:"sm"})]})})]}),s.jsx(h,{variant:"outline",className:"w-full mt-4",children:"ë” ë§ì€ ë¹„ë””ì˜¤ ë³´ê¸°"})]})]})]}),s.jsxs(N,{children:[s.jsx(y,{children:s.jsx(b,{children:"ì‚¬ìš© ê°€ì´ë“œ"})}),s.jsx(w,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-modern-primary",children:[s.jsx(p,{className:"w-5 h-5"}),s.jsx("h4",{className:"font-medium",children:"ë¹„ë””ì˜¤ ì¶”ê°€í•˜ê¸°"})]}),s.jsx("p",{className:"text-sm text-modern-text-secondary",children:"YouTubeë‚˜ Vimeo URLì„ ë¶™ì—¬ë„£ì–´ ë¹„ë””ì˜¤ë¥¼ ë¹ ë¥´ê²Œ ì¶”ê°€í•˜ì„¸ìš”. í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ URLë„ ì§€ì›ë©ë‹ˆë‹¤."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-modern-primary",children:[s.jsx(a,{className:"w-5 h-5"}),s.jsx("h4",{className:"font-medium",children:"ë¹„ë””ì˜¤ ë³µì‚¬í•˜ê¸°"})]}),s.jsx("p",{className:"text-sm text-modern-text-secondary",children:"ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ê³µìœ í•œ ë¹„ë””ì˜¤ë¥¼ ë‚´ ëª©ë¡ì— ë³µì‚¬í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-modern-primary",children:[s.jsx(c,{className:"w-5 h-5"}),s.jsx("h4",{className:"font-medium",children:"ë””ìŠ¤í”Œë ˆì´ ì„¤ì •"})]}),s.jsx("p",{className:"text-sm text-modern-text-secondary",children:"CPTì™€ ACFë¥¼ í™œìš©í•˜ì—¬ ë””ìŠ¤í”Œë ˆì´ë³„ ì¬ìƒ ìŠ¤ì¼€ì¤„ê³¼ ì„¤ì •ì„ ê´€ë¦¬í•˜ì„¸ìš”."})]})]})})]})]})};export{T as default};
