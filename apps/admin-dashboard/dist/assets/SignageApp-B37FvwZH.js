import{r as o,j as e,W as T,C as P,y as b,V as d,bN as U,x as L,m as y,dv as p,D as v,S as _,co as $,i as A}from"./vendor-react-BZRIq8oW.js";import{j as Y,B as n,C as i,k as u,l as f,m as c,I as B,s as x}from"./page-gutenberg-iVBL5IS_.js";import{u as F}from"./main-leEspGRm.js";import"./wp-block-editor-C14Ds6es.js";import"./wp-blocks-CnCGET8b.js";import"./wp-core-BctBwZpo.js";import"./wp-i18n-Niz9RVma.js";import"./wp-element-CB9_H0_F.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-monaco-cpVGocfO.js";import"./vendor-query-GrNIwsDq.js";import"./vendor-utils-DQ8F5vJI.js";import"./wp-components-CLkQS2qf.js";import"./vendor-socket-Ch6lN7-G.js";async function E(s){try{return(await Y.api.post("/v1/signage/copy-video",{postId:s.postId,postType:s.postType||"signage_video"})).data}catch(t){return t.response?.status===409?{success:!1,message:"ì´ë¯¸ ë‚´ ëª©ë¡ì— ìˆëŠ” ë¹„ë””ì˜¤ì…ë‹ˆë‹¤."}:{success:!1,message:t.response?.data?.message||"ë¹„ë””ì˜¤ ë³µì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."}}}async function M(s){try{return(await Y.api.get(`/v1/signage/check-video/${s}`)).data.exists||!1}catch{return!1}}const g=({postId:s,postType:t="signage_video",size:a="default",variant:r="outline",className:h="",onCopySuccess:l})=>{const{user:N}=F(),[w,V]=o.useState(!1),[j,C]=o.useState(!1),[R,I]=o.useState(!0);o.useEffect(()=>{(async()=>{if(!N){I(!1);return}try{const k=await M(s);C(k)}catch{}finally{I(!1)}})()},[s,N]);const z=async()=>{if(!N){d.error("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");return}if(j){d("ì´ë¯¸ ë‚´ ëª©ë¡ì— ìˆëŠ” ë¹„ë””ì˜¤ì…ë‹ˆë‹¤.",{icon:"ğŸ“‹"});return}V(!0);try{const m=await E({postId:s,postType:t});m.success?(C(!0),d.success("ë¹„ë””ì˜¤ê°€ ë‚´ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!"),m.newPostId&&l&&l(m.newPostId)):d.error(m.message)}catch{d.error("ë¹„ë””ì˜¤ ë³µì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}finally{V(!1)}};return R?e.jsx(n,{size:a,variant:r,className:h,disabled:!0,children:e.jsx(T,{className:"w-4 h-4 animate-spin"})}):e.jsx(n,{size:a,variant:j?"default":r,className:h,onClick:z,disabled:w||j,children:w?e.jsx(T,{className:"w-4 h-4 animate-spin"}):j?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"ë‚´ ëª©ë¡ì— ìˆìŒ"]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"ë‚´ ëª©ë¡ì— ì¶”ê°€"]})})};function Q(s){const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/v\/([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const a of t){const r=s.match(a);if(r&&r[1])return r[1]}return null}function W(s){const t=[/vimeo\.com\/(\d+)/,/player\.vimeo\.com\/video\/(\d+)/];for(const a of t){const r=s.match(a);if(r&&r[1])return r[1]}return null}function S(s){const t=Q(s);if(t)return{type:"youtube",id:t,embedUrl:`https://www.youtube.com/embed/${t}`,thumbnailUrl:`https://img.youtube.com/vi/${t}/maxresdefault.jpg`};const a=W(s);return a?{type:"vimeo",id:a,embedUrl:`https://player.vimeo.com/video/${a}`}:{type:"unknown",id:"",embedUrl:s}}function D(s){if(!s)return!1;try{return new URL(s),S(s).type!=="unknown"}catch{return!1}}const ie=()=>{const[s,t]=o.useState(""),[a,r]=o.useState(!1),h=()=>{if(!s){d.error("ë¹„ë””ì˜¤ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");return}if(r(!0),D(s)){const l=S(s);d.success(`${l.type==="youtube"?"YouTube":"Vimeo"} ë¹„ë””ì˜¤ê°€ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!`),t("")}else d.error("ìœ íš¨í•œ YouTube ë˜ëŠ” Vimeo URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");r(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-modern-text-primary flex items-center gap-2",children:[e.jsx(U,{className:"w-8 h-8 text-modern-primary"}),"ë””ì§€í„¸ ì‚¬ì´ë‹ˆì§€ ë¹„ë””ì˜¤ ê´€ë¦¬"]}),e.jsx("p",{className:"text-modern-text-secondary mt-1",children:"YouTube/Vimeo ë¹„ë””ì˜¤ë¥¼ ì¶”ê°€í•˜ê³  ë””ìŠ¤í”Œë ˆì´ì— í‘œì‹œí•  ì½˜í…ì¸ ë¥¼ ê´€ë¦¬í•˜ì„¸ìš”."})]})}),e.jsxs(i,{children:[e.jsx(u,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5 text-modern-primary"}),"ë¹ ë¥¸ ë¹„ë””ì˜¤ ì¶”ê°€"]})}),e.jsxs(c,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{type:"url",placeholder:"YouTube ë˜ëŠ” Vimeo URLì„ ì…ë ¥í•˜ì„¸ìš”...",value:s,onChange:l=>t(l.target.value),className:"flex-1"}),e.jsxs(n,{onClick:h,disabled:a,children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"ì¶”ê°€"]})]}),e.jsx("p",{className:"text-sm text-modern-text-secondary mt-2",children:"ì˜ˆ: https://www.youtube.com/watch?v=dQw4w9WgXcQ ë˜ëŠ” https://vimeo.com/123456789"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(i,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-modern-text-secondary",children:"ë‚´ ë¹„ë””ì˜¤"}),e.jsx("p",{className:"text-2xl font-bold text-modern-text-primary",children:"24"}),e.jsx("p",{className:"text-xs text-modern-text-secondary mt-1",children:"ì´ ì¬ìƒì‹œê°„ 2ì‹œê°„ 30ë¶„"})]}),e.jsx(y,{className:"w-8 h-8 text-modern-primary opacity-20"})]})})}),e.jsx(i,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-modern-text-secondary",children:"ê³µìœ ëœ ë¹„ë””ì˜¤"}),e.jsx("p",{className:"text-2xl font-bold text-modern-success",children:"156"}),e.jsx("p",{className:"text-xs text-modern-text-secondary mt-1",children:"ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ê³µìœ "})]}),e.jsx(b,{className:"w-8 h-8 text-modern-success opacity-20"})]})})}),e.jsx(i,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-modern-text-secondary",children:"YouTube"}),e.jsx("p",{className:"text-2xl font-bold text-modern-warning",children:"45"}),e.jsx("p",{className:"text-xs text-modern-text-secondary mt-1",children:"í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ 3ê°œ"})]}),e.jsx(p,{className:"w-8 h-8 text-modern-warning opacity-20"})]})})}),e.jsx(i,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-modern-text-secondary",children:"Vimeo"}),e.jsx("p",{className:"text-2xl font-bold text-modern-accent",children:"12"}),e.jsx("p",{className:"text-xs text-modern-text-secondary mt-1",children:"í”„ë¦¬ë¯¸ì—„ ì½˜í…ì¸ "})]}),e.jsx(v,{className:"w-8 h-8 text-modern-accent opacity-20"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(u,{children:e.jsxs(f,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"ë‚´ ë¹„ë””ì˜¤"}),e.jsxs(n,{size:"sm",variant:"outline",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"ê²€ìƒ‰"]})]})}),e.jsxs(c,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:e.jsx(p,{className:"w-8 h-8 text-modern-text-tertiary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"2024 ë´„ ì‹ ì œí’ˆ í”„ë¡œëª¨ì…˜"}),e.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 2:30 | YouTube"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(x,{variant:"outline",className:"text-xs",children:"í”„ë¡œëª¨ì…˜"}),e.jsx("span",{className:"text-xs text-modern-text-secondary",children:"2024.03.15 ì¶”ê°€"})]})]}),e.jsx(n,{size:"sm",variant:"ghost",children:e.jsx(v,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:e.jsx(y,{className:"w-8 h-8 text-modern-text-tertiary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"ë¸Œëœë“œ ì†Œê°œ ì˜ìƒ"}),e.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 5:15 | Vimeo"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(x,{variant:"outline",className:"text-xs",children:"ë¸Œëœë”©"}),e.jsx("span",{className:"text-xs text-modern-text-secondary",children:"2024.02.28 ì¶”ê°€"})]})]}),e.jsx(n,{size:"sm",variant:"ghost",children:e.jsx(v,{className:"w-4 h-4"})})]})})]}),e.jsx(n,{variant:"outline",className:"w-full mt-4",children:"ì „ì²´ ë³´ê¸°"})]})]}),e.jsxs(i,{children:[e.jsx(u,{children:e.jsxs(f,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"ê³µìœ ëœ ë¹„ë””ì˜¤"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(n,{size:"sm",variant:"outline",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"í•„í„°"]})})]})}),e.jsxs(c,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:e.jsx(p,{className:"w-8 h-8 text-modern-text-tertiary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"ê±´ê°• ê´€ë¦¬ íŒ ì‹œë¦¬ì¦ˆ"}),e.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 3:45 | YouTube í”Œë ˆì´ë¦¬ìŠ¤íŠ¸"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(x,{variant:"outline",className:"text-xs",children:"êµìœ¡"}),e.jsx("span",{className:"text-xs text-modern-text-secondary",children:"by ë§ˆì¼€íŒ…íŒ€"})]})]}),e.jsx(g,{postId:"video_123",size:"sm"})]})}),e.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:e.jsx(y,{className:"w-8 h-8 text-modern-text-tertiary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"ë§¤ì¥ ì¸í…Œë¦¬ì–´ ì†Œê°œ"}),e.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 1:30 | Vimeo"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(x,{variant:"outline",className:"text-xs",children:"ë§¤ì¥ì†Œê°œ"}),e.jsx("span",{className:"text-xs text-modern-text-secondary",children:"by ë””ìì¸íŒ€"})]})]}),e.jsx(g,{postId:"video_124",size:"sm"})]})}),e.jsx("div",{className:"p-4 border border-modern-border-primary rounded-lg hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-32 h-20 bg-modern-bg-tertiary rounded flex items-center justify-center flex-shrink-0",children:e.jsx(p,{className:"w-8 h-8 text-modern-text-tertiary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-modern-text-primary line-clamp-1",children:"ê³ ê° í›„ê¸° ëª¨ìŒ"}),e.jsx("p",{className:"text-sm text-modern-text-secondary mt-1",children:"ì¬ìƒì‹œê°„: 4:20 | YouTube"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(x,{variant:"outline",className:"text-xs",children:"í›„ê¸°"}),e.jsx("span",{className:"text-xs text-modern-text-secondary",children:"by CSíŒ€"})]})]}),e.jsx(g,{postId:"video_125",size:"sm"})]})})]}),e.jsx(n,{variant:"outline",className:"w-full mt-4",children:"ë” ë§ì€ ë¹„ë””ì˜¤ ë³´ê¸°"})]})]})]}),e.jsxs(i,{children:[e.jsx(u,{children:e.jsx(f,{children:"ì‚¬ìš© ê°€ì´ë“œ"})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-modern-primary",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("h4",{className:"font-medium",children:"ë¹„ë””ì˜¤ ì¶”ê°€í•˜ê¸°"})]}),e.jsx("p",{className:"text-sm text-modern-text-secondary",children:"YouTubeë‚˜ Vimeo URLì„ ë¶™ì—¬ë„£ì–´ ë¹„ë””ì˜¤ë¥¼ ë¹ ë¥´ê²Œ ì¶”ê°€í•˜ì„¸ìš”. í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ URLë„ ì§€ì›ë©ë‹ˆë‹¤."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-modern-primary",children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("h4",{className:"font-medium",children:"ë¹„ë””ì˜¤ ë³µì‚¬í•˜ê¸°"})]}),e.jsx("p",{className:"text-sm text-modern-text-secondary",children:"ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ê³µìœ í•œ ë¹„ë””ì˜¤ë¥¼ ë‚´ ëª©ë¡ì— ë³µì‚¬í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-modern-primary",children:[e.jsx(U,{className:"w-5 h-5"}),e.jsx("h4",{className:"font-medium",children:"ë””ìŠ¤í”Œë ˆì´ ì„¤ì •"})]}),e.jsx("p",{className:"text-sm text-modern-text-secondary",children:"CPTì™€ ACFë¥¼ í™œìš©í•˜ì—¬ ë””ìŠ¤í”Œë ˆì´ë³„ ì¬ìƒ ìŠ¤ì¼€ì¤„ê³¼ ì„¤ì •ì„ ê´€ë¦¬í•˜ì„¸ìš”."})]})]})})]})]})};export{ie as default};
