import{ab as e,ao as t,ap as n,o as r,h as o,m as i,aq as s,ar as l,as as c,p as a,g as u,J as d,aj as g,at as f,au as p,av as k,aw as I,a5 as b,O as B,I as _,e as m,j as E,K as y,k as S,ax as C,ay as h,az as T,b as O,u as v}from"./wp-foundation-BzBJX52f.js";import{aE as L,I as R,f as A,am as M,an as N,bt as P,r as w}from"./wp-block-editor-utils-C52tDze8.js";import{f as K,u as D,a as G}from"./wp-block-editor-main-y2nlPlta.js";import{_ as x,a as U,s as V,b as H}from"./wp-i18n-BPC8WmOV.js";import{by as W,d as F,V as j,bi as z,bg as Y,a1 as Z,$,bf as X,a3 as q}from"./wp-misc-fiKRzvVp.js";const J={insertUsage:{}},Q={alignWide:!1,supportsLayout:!0,colors:[{name:x("Black"),slug:"black",color:"#000000"},{name:x("Cyan bluish gray"),slug:"cyan-bluish-gray",color:"#abb8c3"},{name:x("White"),slug:"white",color:"#ffffff"},{name:x("Pale pink"),slug:"pale-pink",color:"#f78da7"},{name:x("Vivid red"),slug:"vivid-red",color:"#cf2e2e"},{name:x("Luminous vivid orange"),slug:"luminous-vivid-orange",color:"#ff6900"},{name:x("Luminous vivid amber"),slug:"luminous-vivid-amber",color:"#fcb900"},{name:x("Light green cyan"),slug:"light-green-cyan",color:"#7bdcb5"},{name:x("Vivid green cyan"),slug:"vivid-green-cyan",color:"#00d084"},{name:x("Pale cyan blue"),slug:"pale-cyan-blue",color:"#8ed1fc"},{name:x("Vivid cyan blue"),slug:"vivid-cyan-blue",color:"#0693e3"},{name:x("Vivid purple"),slug:"vivid-purple",color:"#9b51e0"}],fontSizes:[{name:U("Small","font size name"),size:13,slug:"small"},{name:U("Normal","font size name"),size:16,slug:"normal"},{name:U("Medium","font size name"),size:20,slug:"medium"},{name:U("Large","font size name"),size:36,slug:"large"},{name:U("Huge","font size name"),size:42,slug:"huge"}],imageDefaultSize:"large",imageSizes:[{slug:"thumbnail",name:x("Thumbnail")},{slug:"medium",name:x("Medium")},{slug:"large",name:x("Large")},{slug:"full",name:x("Full Size")}],imageEditing:!0,maxWidth:580,allowedBlockTypes:!0,maxUploadFileSize:0,allowedMimeTypes:null,canLockBlocks:!0,enableOpenverseMediaCategory:!0,clearBlockSelection:!0,__experimentalCanUserUseUnfilteredHTML:!1,__experimentalBlockDirectory:!1,__mobileEnablePageTemplates:!1,__experimentalBlockPatterns:[],__experimentalBlockPatternCategories:[],__unstableIsPreviewMode:!1,blockInspectorAnimation:{animationParent:"core/navigation","core/navigation":{enterDirection:"leftToRight"},"core/navigation-submenu":{enterDirection:"rightToLeft"},"core/navigation-link":{enterDirection:"rightToLeft"},"core/search":{enterDirection:"rightToLeft"},"core/social-links":{enterDirection:"rightToLeft"},"core/page-list":{enterDirection:"rightToLeft"},"core/spacer":{enterDirection:"rightToLeft"},"core/home-link":{enterDirection:"rightToLeft"},"core/site-title":{enterDirection:"rightToLeft"},"core/site-logo":{enterDirection:"rightToLeft"}},generateAnchors:!1,gradients:[{name:x("Vivid cyan blue to vivid purple"),gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:x("Light green cyan to vivid green cyan"),gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:x("Luminous vivid amber to luminous vivid orange"),gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"},{name:x("Luminous vivid orange to vivid red"),gradient:"linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)",slug:"luminous-vivid-orange-to-vivid-red"},{name:x("Very light gray to cyan bluish gray"),gradient:"linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)",slug:"very-light-gray-to-cyan-bluish-gray"},{name:x("Cool to warm spectrum"),gradient:"linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)",slug:"cool-to-warm-spectrum"},{name:x("Blush light purple"),gradient:"linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)",slug:"blush-light-purple"},{name:x("Blush bordeaux"),gradient:"linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)",slug:"blush-bordeaux"},{name:x("Luminous dusk"),gradient:"linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)",slug:"luminous-dusk"},{name:x("Pale ocean"),gradient:"linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)",slug:"pale-ocean"},{name:x("Electric grass"),gradient:"linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)",slug:"electric-grass"},{name:x("Midnight"),gradient:"linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)",slug:"midnight"}],__unstableResolvedAssets:{styles:[],scripts:[]}};function ee(e,t,n){return[...e.slice(0,n),...Array.isArray(t)?t:[t],...e.slice(n)]}function te(e,t,n,r=1){const o=[...e];return o.splice(t,r),ee(o,e.slice(t,t+r),n)}const ne=e=>e;function re(e,t=""){const n=new Map,r=[];return n.set(t,r),e.forEach(e=>{const{clientId:t,innerBlocks:o}=e;r.push(t),re(o,t).forEach((e,t)=>{n.set(t,e)})}),n}function oe(e,t=""){const n=[],r=[[t,e]];for(;r.length;){const[e,t]=r.shift();t.forEach(({innerBlocks:t,...o})=>{n.push([o.clientId,e]),t?.length&&r.push([o.clientId,t])})}return n}function ie(e,t=ne){const n=[],r=[...e];for(;r.length;){const{innerBlocks:e,...o}=r.shift();r.push(...e),n.push([o.clientId,t(o)])}return n}function se(e){return ie(e,e=>{const{attributes:t,...n}=e;return n})}function le(e){return ie(e,e=>e.attributes)}function ce(e,t){return"UPDATE_BLOCK_ATTRIBUTES"===e.type&&void 0!==t&&"UPDATE_BLOCK_ATTRIBUTES"===t.type&&K(e.clientIds,t.clientIds)&&(n=e.attributes,r=t.attributes,K(Object.keys(n),Object.keys(r)));var n,r}function ae(e,t){const n=e.tree,r=[...t],o=[...t];for(;r.length;){const e=r.shift();r.push(...e.innerBlocks),o.push(...e.innerBlocks)}for(const i of o)n.set(i.clientId,{});for(const i of o)n.set(i.clientId,Object.assign(n.get(i.clientId),{...e.byClientId.get(i.clientId),attributes:e.attributes.get(i.clientId),innerBlocks:i.innerBlocks.map(e=>n.get(e.clientId))}))}function ue(e,t,n=!1){const r=e.tree,o=new Set([]),i=new Set;for(const s of t){let t=n?s:e.parents.get(s);do{if(e.controlledInnerBlocks[t]){i.add(t);break}o.add(t),t=e.parents.get(t)}while(void 0!==t)}for(const s of o)r.set(s,{...r.get(s)});for(const s of o)r.get(s).innerBlocks=(e.order.get(s)||[]).map(e=>r.get(e));for(const s of i)r.set("controlled||"+s,{innerBlocks:(e.order.get(s)||[]).map(e=>r.get(e))})}const de=e(t,e=>(t,n)=>{if(t&&"SAVE_REUSABLE_BLOCK_SUCCESS"===n.type){const{id:e,updatedId:r}=n;if(e===r)return t;(t={...t}).attributes=new Map(t.attributes),t.attributes.forEach((n,o)=>{const{name:i}=t.byClientId.get(o);"core/block"===i&&n.ref===e&&t.attributes.set(o,{...n,ref:r})})}return e(t,n)},e=>(t={},n)=>{const r=e(t,n);if(r===t)return t;switch(r.tree=t.tree?t.tree:new Map,n.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":r.tree=new Map(r.tree),ae(r,n.blocks),ue(r,n.rootClientId?[n.rootClientId]:[""],!0);break;case"UPDATE_BLOCK":r.tree=new Map(r.tree),r.tree.set(n.clientId,{...r.tree.get(n.clientId),...r.byClientId.get(n.clientId),attributes:r.attributes.get(n.clientId)}),ue(r,[n.clientId],!1);break;case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":r.tree=new Map(r.tree),n.clientIds.forEach(e=>{r.tree.set(e,{...r.tree.get(e),attributes:r.attributes.get(e)})}),ue(r,n.clientIds,!1);break;case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const e=function(e){const t={},n=[...e];for(;n.length;){const{innerBlocks:e,...r}=n.shift();n.push(...e),t[r.clientId]=!0}return t}(n.blocks);r.tree=new Map(r.tree),n.replacedClientIds.forEach(t=>{r.tree.delete(t),e[t]||r.tree.delete("controlled||"+t)}),ae(r,n.blocks),ue(r,n.blocks.map(e=>e.clientId),!1);const o=[];for(const i of n.clientIds){const e=t.parents.get(i);void 0===e||""!==e&&!r.byClientId.get(e)||o.push(e)}ue(r,o,!0);break}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":const e=[];for(const o of n.clientIds){const n=t.parents.get(o);void 0===n||""!==n&&!r.byClientId.get(n)||e.push(n)}r.tree=new Map(r.tree),n.removedClientIds.forEach(e=>{r.tree.delete(e),r.tree.delete("controlled||"+e)}),ue(r,e,!0);break;case"MOVE_BLOCKS_TO_POSITION":{const e=[];n.fromRootClientId?e.push(n.fromRootClientId):e.push(""),n.toRootClientId&&e.push(n.toRootClientId),r.tree=new Map(r.tree),ue(r,e,!0);break}case"MOVE_BLOCKS_UP":case"MOVE_BLOCKS_DOWN":{const e=[n.rootClientId?n.rootClientId:""];r.tree=new Map(r.tree),ue(r,e,!0);break}case"SAVE_REUSABLE_BLOCK_SUCCESS":{const e=[];r.attributes.forEach((t,o)=>{"core/block"===r.byClientId.get(o).name&&t.ref===n.updatedId&&e.push(o)}),r.tree=new Map(r.tree),e.forEach(e=>{r.tree.set(e,{...r.byClientId.get(e),attributes:r.attributes.get(e),innerBlocks:r.tree.get(e).innerBlocks})}),ue(r,e,!1)}}return r},e=>(t,n)=>{const r=e=>{let r=e;for(let o=0;o<r.length;o++)!t.order.get(r[o])||n.keepControlledInnerBlocks&&n.keepControlledInnerBlocks[r[o]]||(r===e&&(r=[...r]),r.push(...t.order.get(r[o])));return r};if(t)switch(n.type){case"REMOVE_BLOCKS":n={...n,type:"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN",removedClientIds:r(n.clientIds)};break;case"REPLACE_BLOCKS":n={...n,type:"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN",replacedClientIds:r(n.clientIds)}}return e(t,n)},e=>(t,n)=>{if("REPLACE_INNER_BLOCKS"!==n.type)return e(t,n);const r={};if(Object.keys(t.controlledInnerBlocks).length){const e=[...n.blocks];for(;e.length;){const{innerBlocks:n,...o}=e.shift();e.push(...n),t.controlledInnerBlocks[o.clientId]&&(r[o.clientId]=!0)}}let o=t;t.order.get(n.rootClientId)&&(o=e(o,{type:"REMOVE_BLOCKS",keepControlledInnerBlocks:r,clientIds:t.order.get(n.rootClientId)}));let i=o;if(n.blocks.length){i=e(i,{...n,type:"INSERT_BLOCKS",index:0});const o=new Map(i.order);Object.keys(r).forEach(e=>{t.order.get(e)&&o.set(e,t.order.get(e))}),i.order=o,i.tree=new Map(i.tree),Object.keys(r).forEach(e=>{const n=`controlled||${e}`;t.tree.has(n)&&i.tree.set(n,t.tree.get(n))})}return i},e=>(t,n)=>{if("RESET_BLOCKS"===n.type){const e={...t,byClientId:new Map(se(n.blocks)),attributes:new Map(le(n.blocks)),order:re(n.blocks),parents:new Map(oe(n.blocks)),controlledInnerBlocks:{}};return e.tree=new Map(t?.tree),ae(e,n.blocks),e.tree.set("",{innerBlocks:n.blocks.map(t=>e.tree.get(t.clientId))}),e}return e(t,n)},function(e){let t,n,r=!1;return(o,i)=>{let s,l=e(o,i);var c;"SET_EXPLICIT_PERSISTENT"===i.type&&(n=i.isPersistentChange,s=null===(c=o.isPersistentChange)||void 0===c||c);if(void 0!==n)return s=n,s===l.isPersistentChange?l:{...l,isPersistentChange:s};const a="MARK_LAST_CHANGE_AS_PERSISTENT"===i.type||r;var u;return o!==l||a?(l={...l,isPersistentChange:a?!r:!ce(i,t)},t=i,r="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===i.type,l):(r="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===i.type,s=null===(u=o?.isPersistentChange)||void 0===u||u,o.isPersistentChange===s?o:{...l,isPersistentChange:s})}},function(e){const t=new Set(["RECEIVE_BLOCKS"]);return(n,r)=>{const o=e(n,r);return o!==n&&(o.isIgnoredChange=t.has(r.type)),o}},e=>(t,n)=>{if("SET_HAS_CONTROLLED_INNER_BLOCKS"===n.type){const r=e(t,{type:"REPLACE_INNER_BLOCKS",rootClientId:n.clientId,blocks:[]});return e(r,n)}return e(t,n)})({byClientId(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const n=new Map(e);return se(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"UPDATE_BLOCK":{if(!e.has(t.clientId))return e;const{attributes:n,...r}=t.updates;if(0===Object.values(r).length)return e;const o=new Map(e);return o.set(t.clientId,{...e.get(t.clientId),...r}),o}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!t.blocks)return e;const n=new Map(e);return t.replacedClientIds.forEach(e=>{n.delete(e)}),se(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n}}return e},attributes(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const n=new Map(e);return le(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"UPDATE_BLOCK":{if(!e.get(t.clientId)||!t.updates.attributes)return e;const n=new Map(e);return n.set(t.clientId,{...e.get(t.clientId),...t.updates.attributes}),n}case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":{if(t.clientIds.every(t=>!e.get(t)))return e;let r=!1;const o=new Map(e);for(const i of t.clientIds){var n;const s=Object.entries(t.uniqueByBlock?t.attributes[i]:null!==(n=t.attributes)&&void 0!==n?n:{});if(0===s.length)continue;let l=!1;const c=e.get(i),a={};s.forEach(([e,t])=>{c[e]!==t&&(l=!0,a[e]=t)}),r=r||l,l&&o.set(i,{...c,...a})}return r?o:e}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!t.blocks)return e;const n=new Map(e);return t.replacedClientIds.forEach(e=>{n.delete(e)}),le(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n}}return e},order(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":{var n;const r=re(t.blocks),o=new Map(e);return r.forEach((e,t)=>{""!==t&&o.set(t,e)}),o.set("",(null!==(n=e.get(""))&&void 0!==n?n:[]).concat(r[""])),o}case"INSERT_BLOCKS":{const{rootClientId:n=""}=t,r=e.get(n)||[],o=re(t.blocks,n),{index:i=r.length}=t,s=new Map(e);return o.forEach((e,t)=>{s.set(t,e)}),s.set(n,ee(r,o.get(n),i)),s}case"MOVE_BLOCKS_TO_POSITION":{var r;const{fromRootClientId:n="",toRootClientId:o="",clientIds:i}=t,{index:s=e.get(o).length}=t;if(n===o){const t=e.get(o).indexOf(i[0]),n=new Map(e);return n.set(o,te(e.get(o),t,s,i.length)),n}const l=new Map(e);return l.set(n,null!==(r=e.get(n)?.filter(e=>!i.includes(e)))&&void 0!==r?r:[]),l.set(o,ee(e.get(o),i,s)),l}case"MOVE_BLOCKS_UP":{const{clientIds:n,rootClientId:r=""}=t,o=n[0],i=e.get(r);if(!i.length||o===i[0])return e;const s=i.indexOf(o),l=new Map(e);return l.set(r,te(i,s,s-1,n.length)),l}case"MOVE_BLOCKS_DOWN":{const{clientIds:n,rootClientId:r=""}=t,o=n[0],i=n[n.length-1],s=e.get(r);if(!s.length||i===s[s.length-1])return e;const l=s.indexOf(o),c=new Map(e);return c.set(r,te(s,l,l+1,n.length)),c}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const{clientIds:n}=t;if(!t.blocks)return e;const r=re(t.blocks),o=new Map(e);return t.replacedClientIds.forEach(e=>{o.delete(e)}),r.forEach((e,t)=>{""!==t&&o.set(t,e)}),o.forEach((e,t)=>{const i=Object.values(e).reduce((e,t)=>t===n[0]?[...e,...r.get("")]:(-1===n.indexOf(t)&&e.push(t),e),[]);o.set(t,i)}),o}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n.forEach((e,r)=>{var o;const i=null!==(o=e?.filter(e=>!t.removedClientIds.includes(e)))&&void 0!==o?o:[];i.length!==e.length&&n.set(r,i)}),n}}return e},parents(e=new Map,t){switch(t.type){case"RECEIVE_BLOCKS":{const n=new Map(e);return oe(t.blocks).forEach(([e,t])=>{n.set(e,t)}),n}case"INSERT_BLOCKS":{const n=new Map(e);return oe(t.blocks,t.rootClientId||"").forEach(([e,t])=>{n.set(e,t)}),n}case"MOVE_BLOCKS_TO_POSITION":{const n=new Map(e);return t.clientIds.forEach(e=>{n.set(e,t.toRootClientId||"")}),n}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.replacedClientIds.forEach(e=>{n.delete(e)}),oe(t.blocks,e.get(t.clientIds[0])).forEach(([e,t])=>{n.set(e,t)}),n}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const n=new Map(e);return t.removedClientIds.forEach(e=>{n.delete(e)}),n}}return e},controlledInnerBlocks:(e={},{type:t,clientId:n,hasControlledInnerBlocks:r})=>"SET_HAS_CONTROLLED_INNER_BLOCKS"===t?{...e,[n]:r}:e});function ge(e={},t){switch(t.type){case"CLEAR_SELECTED_BLOCK":return e.clientId?{}:e;case"SELECT_BLOCK":return t.clientId===e.clientId?e:{clientId:t.clientId};case"REPLACE_INNER_BLOCKS":case"INSERT_BLOCKS":return t.updateSelection&&t.blocks.length?{clientId:t.blocks[0].clientId}:e;case"REMOVE_BLOCKS":return t.clientIds&&t.clientIds.length&&-1!==t.clientIds.indexOf(e.clientId)?{}:e;case"REPLACE_BLOCKS":{if(-1===t.clientIds.indexOf(e.clientId))return e;const n=t.blocks[t.indexToSelect]||t.blocks[t.blocks.length-1];return n?n.clientId===e.clientId?e:{clientId:n.clientId}:{}}}return e}const fe=function(e){return(t,n)=>{const r=e(t,n);return t?(r.automaticChangeStatus=t.automaticChangeStatus,"MARK_AUTOMATIC_CHANGE"===n.type?{...r,automaticChangeStatus:"pending"}:"MARK_AUTOMATIC_CHANGE_FINAL"===n.type&&"pending"===t.automaticChangeStatus?{...r,automaticChangeStatus:"final"}:r.blocks===t.blocks&&r.selection===t.selection||"final"!==r.automaticChangeStatus&&r.selection!==t.selection?r:{...r,automaticChangeStatus:void 0}):r}}(t({blocks:de,isDragging:function(e=!1,t){switch(t.type){case"START_DRAGGING":return!0;case"STOP_DRAGGING":return!1}return e},isTyping:function(e=!1,t){switch(t.type){case"START_TYPING":return!0;case"STOP_TYPING":return!1}return e},isBlockInterfaceHidden:function(e=!1,t){switch(t.type){case"HIDE_BLOCK_INTERFACE":return!0;case"SHOW_BLOCK_INTERFACE":return!1}return e},draggedBlocks:function(e=[],t){switch(t.type){case"START_DRAGGING_BLOCKS":return t.clientIds;case"STOP_DRAGGING_BLOCKS":return[]}return e},selection:function(e={},t){switch(t.type){case"SELECTION_CHANGE":return t.clientId?{selectionStart:{clientId:t.clientId,attributeKey:t.attributeKey,offset:t.startOffset},selectionEnd:{clientId:t.clientId,attributeKey:t.attributeKey,offset:t.endOffset}}:{selectionStart:t.start||e.selectionStart,selectionEnd:t.end||e.selectionEnd};case"RESET_SELECTION":const{selectionStart:n,selectionEnd:r}=t;return{selectionStart:n,selectionEnd:r};case"MULTI_SELECT":const{start:o,end:i}=t;return o===e.selectionStart?.clientId&&i===e.selectionEnd?.clientId?e:{selectionStart:{clientId:o},selectionEnd:{clientId:i}};case"RESET_BLOCKS":const s=e?.selectionStart?.clientId,l=e?.selectionEnd?.clientId;if(!s&&!l)return e;if(!t.blocks.some(e=>e.clientId===s))return{selectionStart:{},selectionEnd:{}};if(!t.blocks.some(e=>e.clientId===l))return{...e,selectionEnd:e.selectionStart}}const n=ge(e.selectionStart,t),r=ge(e.selectionEnd,t);return n===e.selectionStart&&r===e.selectionEnd?e:{selectionStart:n,selectionEnd:r}},isMultiSelecting:function(e=!1,t){switch(t.type){case"START_MULTI_SELECT":return!0;case"STOP_MULTI_SELECT":return!1}return e},isSelectionEnabled:function(e=!0,t){return"TOGGLE_SELECTION"===t.type?t.isSelectionEnabled:e},initialPosition:function(e=null,t){return"REPLACE_BLOCKS"===t.type&&void 0!==t.initialPosition||["MULTI_SELECT","SELECT_BLOCK","RESET_SELECTION","INSERT_BLOCKS","REPLACE_INNER_BLOCKS"].includes(t.type)?t.initialPosition:e},blocksMode:function(e={},t){if("TOGGLE_BLOCK_MODE"===t.type){const{clientId:n}=t;return{...e,[n]:e[n]&&"html"===e[n]?"visual":"html"}}return e},blockListSettings:(e={},t)=>{switch(t.type){case"REPLACE_BLOCKS":case"REMOVE_BLOCKS":return Object.fromEntries(Object.entries(e).filter(([e])=>!t.clientIds.includes(e)));case"UPDATE_BLOCK_LIST_SETTINGS":{const n="string"==typeof t.clientId?{[t.clientId]:t.settings}:t.clientId;for(const t in n)n[t]?K(e[t],n[t])&&delete n[t]:e[t]||delete n[t];if(0===Object.keys(n).length)return e;const r={...e,...n};for(const e in n)n[e]||delete r[e];return r}}return e},insertionPoint:function(e=null,t){switch(t.type){case"SET_INSERTION_POINT":return t.value;case"SELECT_BLOCK":return null}return e},insertionCue:function(e=null,t){switch(t.type){case"SHOW_INSERTION_POINT":{const{rootClientId:n,index:r,__unstableWithInserter:o,operation:i,nearestSide:s}=t,l={rootClientId:n,index:r,__unstableWithInserter:o,operation:i,nearestSide:s};return K(e,l)?e:l}case"HIDE_INSERTION_POINT":return null}return e},template:function(e={isValid:!0},t){return"SET_TEMPLATE_VALIDITY"===t.type?{...e,isValid:t.isValid}:e},settings:function(e=Q,t){return"UPDATE_SETTINGS"===t.type?t.reset?{...Q,...t.settings}:{...e,...t.settings}:e},preferences:function(e=J,t){switch(t.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":{const o=t.blocks.reduce((e,o)=>{const{attributes:i,name:s}=o;let l=s;const c=n(r).getActiveBlockVariation(s,i);return c?.name&&(l+="/"+c.name),"core/block"===s&&(l+="/"+i.ref),{...e,[l]:{time:t.time,count:e[l]?e[l].count+1:1}}},e.insertUsage);return{...e,insertUsage:o}}}return e},lastBlockAttributesChange:function(e=null,t){switch(t.type){case"UPDATE_BLOCK":if(!t.updates.attributes)break;return{[t.clientId]:t.updates.attributes};case"UPDATE_BLOCK_ATTRIBUTES":return t.clientIds.reduce((e,n)=>({...e,[n]:t.uniqueByBlock?t.attributes[n]:t.attributes}),{})}return e},lastFocus:function(e=!1,t){return"LAST_FOCUS"===t.type?t.lastFocus:e},editorMode:function(e="edit",t){return"SET_EDITOR_MODE"===t.type?t.mode:e},expandedBlock:function(e=null,t){switch(t.type){case"SET_BLOCK_EXPANDED_IN_LIST_VIEW":return t.clientId;case"SELECT_BLOCK":if(t.clientId!==e)return null}return e},highlightedBlock:function(e,t){switch(t.type){case"TOGGLE_BLOCK_HIGHLIGHT":const{clientId:n,isHighlighted:r}=t;return r?n:e===n?null:e;case"SELECT_BLOCK":if(t.clientId!==e)return null}return e},lastBlockInserted:function(e={},t){switch(t.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":if(!t.blocks.length)return e;const n=t.blocks.map(e=>e.clientId),r=t.meta?.source;return{clientIds:n,source:r};case"RESET_BLOCKS":return{}}return e},temporarilyEditingAsBlocks:function(e="",t){return"SET_TEMPORARILY_EDITING_AS_BLOCKS"===t.type?t.temporarilyEditingAsBlocks:e},temporarilyEditingFocusModeRevert:function(e="",t){return"SET_TEMPORARILY_EDITING_AS_BLOCKS"===t.type?t.focusModeToRevert:e},blockVisibility:function(e={},t){return"SET_BLOCK_VISIBILITY"===t.type?{...e,...t.updates}:e},blockEditingModes:function(e=new Map,t){switch(t.type){case"SET_BLOCK_EDITING_MODE":return new Map(e).set(t.clientId,t.mode);case"UNSET_BLOCK_EDITING_MODE":{const n=new Map(e);return n.delete(t.clientId),n}case"RESET_BLOCKS":return e.has("")?(new Map).set("",e.get("")):e}return e},styleOverrides:function(e=new Map,t){switch(t.type){case"SET_STYLE_OVERRIDE":return new Map(e).set(t.id,t.style);case"DELETE_STYLE_OVERRIDE":{const n=new Map(e);return n.delete(t.id),n}}return e},removalPromptData:function(e=!1,t){switch(t.type){case"DISPLAY_BLOCK_REMOVAL_PROMPT":const{clientIds:e,selectPrevious:n,message:r}=t;return{clientIds:e,selectPrevious:n,message:r};case"CLEAR_BLOCK_REMOVAL_PROMPT":return!1}return e},blockRemovalRules:function(e=!1,t){return"SET_BLOCK_REMOVAL_RULES"===t.type?t.rules:e},openedBlockSettingsMenu:function(e=null,t){var n;return"SET_OPENED_BLOCK_SETTINGS_MENU"===t.type?null!==(n=t?.clientId)&&void 0!==n?n:null:e},registeredInserterMediaCategories:function(e=[],t){return"REGISTER_INSERTER_MEDIA_CATEGORY"===t.type?[...e,t.category]:e},hoveredBlockClientId:function(e=!1,t){return"HOVER_BLOCK"===t.type?t.clientId:e},zoomLevel:function(e=100,t){switch(t.type){case"SET_ZOOM_LEVEL":return t.zoom;case"RESET_ZOOM_LEVEL":return 100}return e}})),pe=Symbol("globalStylesDataKey"),ke=Symbol("globalStylesLinks"),Ie=Symbol("selectBlockPatternsKey"),be=Symbol("reusableBlocksSelect"),Be=Symbol("sectionRootClientIdKey"),_e="core/block-editor",me=["color","border","dimensions","typography","spacing"],Ee={"color.palette":e=>e.colors,"color.gradients":e=>e.gradients,"color.custom":e=>void 0===e.disableCustomColors?void 0:!e.disableCustomColors,"color.customGradient":e=>void 0===e.disableCustomGradients?void 0:!e.disableCustomGradients,"typography.fontSizes":e=>e.fontSizes,"typography.customFontSize":e=>void 0===e.disableCustomFontSizes?void 0:!e.disableCustomFontSizes,"typography.lineHeight":e=>e.enableCustomLineHeight,"spacing.units":e=>{if(void 0!==e.enableCustomUnits)return!0===e.enableCustomUnits?["px","em","rem","vh","vw","%"]:e.enableCustomUnits},"spacing.padding":e=>e.enableCustomSpacing},ye={"border.customColor":"border.color","border.customStyle":"border.style","border.customWidth":"border.width","typography.customFontStyle":"typography.fontStyle","typography.customFontWeight":"typography.fontWeight","typography.customLetterSpacing":"typography.letterSpacing","typography.customTextDecorations":"typography.textDecoration","typography.customTextTransforms":"typography.textTransform","border.customRadius":"border.radius","spacing.customMargin":"spacing.margin","spacing.customPadding":"spacing.padding","typography.customLineHeight":"typography.lineHeight"};const Se=l(function e(t,n){const r=vt(t,n),o=[];for(const i of r){const n=e(t,i);"disabled"!==In(t,i)?o.push({clientId:i,innerBlocks:n}):o.push(...n)}return o},e=>[e.blocks.order,e.blockEditingModes,e.settings.templateLock,e.blockListSettings,e.editorMode,Ue(e)]),Ce=l((e,t,n=!1)=>Bt(e,t,n).filter(t=>"disabled"!==In(e,t)),e=>[e.blocks.parents,e.blockEditingModes,e.settings.templateLock,e.blockListSettings]);const he=l(e=>{const t=at(e).reduce((e,t,n)=>(e[t]=n,e),{});return[...e.styleOverrides].sort((e,n)=>{var r,o;const[,{clientId:i}]=e,[,{clientId:s}]=n;return(null!==(r=t[i])&&void 0!==r?r:-1)-(null!==(o=t[s])&&void 0!==o?o:-1)})},e=>[e.blocks.order,e.styleOverrides]);const Te=l(e=>{const{settings:{inserterMediaCategories:t,allowedMimeTypes:n,enableOpenverseMediaCategory:r},registeredInserterMediaCategories:o}=e;if(!t&&!o.length||!n)return;const i=t?.map(({name:e})=>e)||[];return[...t||[],...(o||[]).filter(({name:e})=>!i.includes(e))].filter(e=>!(!r&&"openverse"===e.name)&&Object.values(n).some(t=>t.startsWith(`${e.mediaType}/`)))},e=>[e.settings.inserterMediaCategories,e.settings.allowedMimeTypes,e.settings.enableOpenverseMediaCategory,e.registeredInserterMediaCategories]),Oe=c(e=>l((t,n=null)=>{const{getAllPatterns:r}=D(e(_e)),o=r(),{allowedBlockTypes:i}=ln(t);return o.some(e=>{const{inserter:r=!0}=e;if(!r)return!1;const o=Ze(e);return Xe(o,i)&&o.every(({name:e})=>Gt(t,e,n))})},(t,n)=>[...qe(e)(t),...Je(t,n)]));function ve(e,t=[]){return{name:`core/block/${e.id}`,id:e.id,type:R.user,title:e.title.raw,categories:e.wp_pattern_category.map(e=>{const n=t.find(({id:t})=>t===e);return n?n.slug:e}),content:e.content.raw,syncStatus:e.wp_pattern_sync_status}}const Le=c(e=>l((t,n)=>{var r,o;if(n?.startsWith("core/block/")){const r=parseInt(n.slice(11),10),o=D(e(_e)).getReusableBlocks().find(({id:e})=>e===r);return o?ve(o,t.settings.__experimentalUserPatternCategories):null}return[...null!==(r=t.settings.__experimentalBlockPatterns)&&void 0!==r?r:[],...null!==(o=t.settings[Ie]?.(e))&&void 0!==o?o:[]].find(({name:e})=>e===n)},(t,n)=>n?.startsWith("core/block/")?[D(e(_e)).getReusableBlocks(),t.settings.__experimentalReusableBlocks]:[t.settings.__experimentalBlockPatterns,t.settings[Ie]?.(e)])),Re=c(e=>l(t=>{var n,r;return[...D(e(_e)).getReusableBlocks().map(e=>ve(e,t.settings.__experimentalUserPatternCategories)),...null!==(n=t.settings.__experimentalBlockPatterns)&&void 0!==n?n:[],...null!==(r=t.settings[Ie]?.(e))&&void 0!==r?r:[]].filter((e,t,n)=>t===n.findIndex(t=>e.name===t.name))},qe(e))),Ae=c(e=>l(t=>{const n=t.settings[Ie],r=t.settings[be];return!!n&&void 0===n(e)||!!r&&void 0===r(e)},qe(e))),Me=[],Ne=c(e=>t=>{var n;const r=t.settings[be];return null!==(n=r?r(e):t.settings.__experimentalReusableBlocks)&&void 0!==n?n:Me});const Pe=(e,t)=>{let n,r=t;for(;!n&&(r=e.blocks.parents.get(r));)"contentOnly"===wt(e,r)&&(n=r);return n},we=(e,t)=>{let n,r=t;for(;!n&&(r=e.blocks.parents.get(r));)Ke(e,r)&&(n=r);return n};function Ke(e,t){const n=vt(e,Ue(e));return"core/block"===nt(e,t)||"contentOnly"===wt(e,t)||un(e)&&n.includes(t)}function De(e){return e.temporarilyEditingAsBlocks}function Ge(e){return e.temporarilyEditingFocusModeRevert}const xe=l((e,t)=>t.reduce((t,n)=>(t[n]=e.blocks.attributes.get(n)?.style,t),{}),(e,t)=>[...t.map(t=>e.blocks.attributes.get(t)?.style)]);function Ue(e){return e.settings?.[Be]}function Ve(e){return e.zoomLevel}function He(e,t,n=""){const r=Array.isArray(t)?t:[t],o=t=>r.every(n=>Gt(e,n,t));if(!n){if(o(n))return n;const t=Ue(e);return t&&o(t)?t:null}let i=n;for(;null!==i&&!o(i);){i=bt(e,i)}return i}const We=Object.freeze(Object.defineProperty({__proto__:null,getAllPatterns:Re,getBlockRemovalRules:function(e){return e.blockRemovalRules},getBlockSettings:function(e,t,...n){const r=nt(e,t),l=[];if(t){let n=t;do{const t=nt(e,n);o(t,"__experimentalSettings",!1)&&l.push(n)}while(n=e.blocks.parents.get(n))}return n.map(n=>{if(me.includes(n))return;let o=i("blockEditor.useSetting.before",void 0,n,t,r);if(void 0!==o)return o;const c=(e=>ye[e]||e)(n);for(const t of l){var a;const n=rt(e,t);if(o=null!==(a=L(n.settings?.blocks?.[r],c))&&void 0!==a?a:L(n.settings,c),void 0!==o)break}const u=ln(e);var d,g;if(void 0===o&&r&&(o=L(u.__experimentalFeatures?.blocks?.[r],c)),void 0===o&&(o=L(u.__experimentalFeatures,c)),void 0!==o)return s[c]?null!==(d=null!==(g=o.custom)&&void 0!==g?g:o.theme)&&void 0!==d?d:o.default:o;const f=Ee[c]?.(u);return void 0!==f?f:"typography.dropCap"===c||void 0})},getBlockStyles:xe,getBlockWithoutAttributes:function(e,t){return e.blocks.byClientId.get(t)},getClosestAllowedInsertionPoint:He,getClosestAllowedInsertionPointForPattern:function(e,t,n){const{allowedBlockTypes:r}=ln(e);return Xe(Ze(t),r)?He(e,Ze(t).map(({blockName:e})=>e),n):null},getContentLockingParent:Pe,getEnabledBlockParents:Ce,getEnabledClientIdsTree:Se,getExpandedBlock:function(e){return e.expandedBlock},getInserterMediaCategories:Te,getInsertionPoint:function(e){return e.insertionPoint},getLastFocus:function(e){return e.lastFocus},getLastInsertedBlocksClientIds:function(e){return e?.lastBlockInserted?.clientIds},getOpenedBlockSettingsMenu:function(e){return e.openedBlockSettingsMenu},getParentSectionBlock:we,getPatternBySlug:Le,getRegisteredInserterMediaCategories:function(e){return e.registeredInserterMediaCategories},getRemovalPromptData:function(e){return e.removalPromptData},getReusableBlocks:Ne,getSectionRootClientId:Ue,getStyleOverrides:he,getTemporarilyEditingAsBlocks:De,getTemporarilyEditingFocusModeToRevert:Ge,getZoomLevel:Ve,hasAllowedPatterns:Oe,isBlockInterfaceHidden:function(e){return e.isBlockInterfaceHidden},isBlockSubtreeDisabled:(e,t)=>{const n=t=>"disabled"===In(e,t)&&vt(e,t).every(n);return vt(e,t).every(n)},isDragging:function(e){return e.isDragging},isResolvingPatterns:Ae,isSectionBlock:Ke,isZoomOut:function(e){return Ve(e)<100},isZoomOutMode:function(e){return"zoom-out"===e.editorMode}},Symbol.toStringTag,{value:"Module"})),Fe=Symbol("isFiltered"),je=new WeakMap,ze=new WeakMap;function Ye(e){let t=je.get(e);return t||(t=function(e){const t=a(e.content,{__unstableSkipMigrationLogs:!0});return 1===t.length&&(t[0].attributes={...t[0].attributes,metadata:{...t[0].attributes.metadata||{},categories:e.categories,patternName:e.name,name:t[0].attributes.metadata?.name||e.title}}),{...e,blocks:t}}(e),je.set(e,t)),t}function Ze(e){let t=ze.get(e);return t||(t=W(e.content),t=t.filter(e=>null!==e.blockName),ze.set(e,t)),t}const $e=(e,t,n=null)=>"boolean"==typeof e?e:Array.isArray(e)?!(!e.includes("core/post-content")||null!==t)||e.includes(t):n,Xe=(e,t)=>{if("boolean"==typeof t)return t;const n=[...e];for(;n.length>0;){const e=n.shift();if(!$e(t,e.name||e.blockName,!0))return!1;e.innerBlocks?.forEach(e=>{n.push(e)})}return!0},qe=e=>t=>[t.settings.__experimentalBlockPatterns,t.settings.__experimentalUserPatternCategories,t.settings.__experimentalReusableBlocks,t.settings[Ie]?.(e),t.blockPatterns,D(e(_e)).getReusableBlocks()];function Je(e,t){return[e.blockListSettings[t],e.blocks.byClientId.get(t),e.settings.allowedBlockTypes,e.settings.templateLock,e.blockEditingModes,e.editorMode,Ue(e)]}const Qe=[],et=new Set,tt={[Fe]:!0};function nt(e,t){const n=e.blocks.byClientId.get(t);return n?n.name:null}function rt(e,t){return e.blocks.byClientId.get(t)?e.blocks.attributes.get(t):null}function ot(e,t){return e.blocks.byClientId.has(t)?e.blocks.tree.get(t):null}const it=l((e,t)=>{const n=e.blocks.byClientId.get(t);return n?{...n,attributes:rt(e,t)}:null},(e,t)=>[e.blocks.byClientId.get(t),e.blocks.attributes.get(t)]);const st=l((e,t)=>(F("wp.data.select( 'core/block-editor' ).__unstableGetClientIdWithClientIdsTree",{since:"6.3",version:"6.5"}),{clientId:t,innerBlocks:lt(e,t)}),e=>[e.blocks.order]),lt=l((e,t="")=>(F("wp.data.select( 'core/block-editor' ).__unstableGetClientIdsTree",{since:"6.3",version:"6.5"}),vt(e,t).map(t=>st(e,t))),e=>[e.blocks.order]),ct=l((e,t)=>{t=Array.isArray(t)?[...t]:[t];const n=[];for(const o of t){const t=e.blocks.order.get(o);t&&n.push(...t)}let r=0;for(;r<n.length;){const t=n[r],o=e.blocks.order.get(t);o&&n.splice(r+1,0,...o),r++}return n},e=>[e.blocks.order]),at=e=>ct(e,""),ut=l((e,t)=>{const n=at(e);if(!t)return n.length;let r=0;for(const o of n){e.blocks.byClientId.get(o).name===t&&r++}return r},e=>[e.blocks.order,e.blocks.byClientId]),dt=l((e,t)=>{if(!t)return Qe;const n=Array.isArray(t)?t:[t],r=at(e).filter(t=>{const r=e.blocks.byClientId.get(t);return n.includes(r.name)});return r.length>0?r:Qe},e=>[e.blocks.order,e.blocks.byClientId]);const gt=l((e,t)=>(Array.isArray(t)?t:[t]).map(t=>ot(e,t)),(e,t)=>(Array.isArray(t)?t:[t]).map(t=>e.blocks.tree.get(t))),ft=l((e,t)=>gt(e,t).filter(Boolean).map(e=>e.name),(e,t)=>gt(e,t));function pt(e){return e.selection.selectionStart}function kt(e){return e.selection.selectionEnd}function It(e){const{selectionStart:t,selectionEnd:n}=e.selection,{clientId:r}=t;return r&&r===n.clientId?r:null}function bt(e,t){var n;return null!==(n=e.blocks.parents.get(t))&&void 0!==n?n:null}const Bt=l((e,t,n=!1)=>{const r=[];let o=t;for(;o=e.blocks.parents.get(o);)r.push(o);return r.length?n?r:r.reverse():Qe},e=>[e.blocks.parents]),_t=l((e,t,n,r=!1)=>{const o=Bt(e,t,r),i=Array.isArray(n)?e=>n.includes(e):e=>n===e;return o.filter(t=>i(nt(e,t)))},e=>[e.blocks.parents]);function mt(e,t,n=1){if(void 0===t&&(t=It(e)),void 0===t&&(t=n<0?Ct(e):ht(e)),!t)return null;const r=bt(e,t);if(null===r)return null;const{order:o}=e.blocks,i=o.get(r),s=i.indexOf(t)+1*n;return s<0||s===i.length?null:i[s]}const Et=l(e=>{const{selectionStart:t,selectionEnd:n}=e.selection;if(!t.clientId||!n.clientId)return Qe;if(t.clientId===n.clientId)return[t.clientId];const r=bt(e,t.clientId);if(null===r)return Qe;const o=vt(e,r),i=o.indexOf(t.clientId),s=o.indexOf(n.clientId);return i>s?o.slice(s,i+1):o.slice(i,s+1)},e=>[e.blocks.order,e.selection.selectionStart.clientId,e.selection.selectionEnd.clientId]);function yt(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId===n.clientId?Qe:Et(e)}const St=l(e=>{const t=yt(e);return t.length?t.map(t=>ot(e,t)):Qe},e=>[...Et.getDependants(e),e.blocks.byClientId,e.blocks.order,e.blocks.attributes]);function Ct(e){return yt(e)[0]||null}function ht(e){const t=yt(e);return t[t.length-1]||null}function Tt(e,t){return-1!==yt(e).indexOf(t)}const Ot=l((e,t)=>{let n=t,r=!1;for(;n&&!r;)n=bt(e,n),r=Tt(e,n);return r},e=>[e.blocks.order,e.selection.selectionStart.clientId,e.selection.selectionEnd.clientId]);function vt(e,t){return e.blocks.order.get(t||"")||Qe}function Lt(e,t){return vt(e,bt(e,t)).indexOf(t)}function Rt(e,t){const{selectionStart:n,selectionEnd:r}=e.selection;return n.clientId===r.clientId&&n.clientId===t}function At(e,t,n=!1){const r=Et(e);return!!r.length&&(n?r.some(n=>Bt(e,n,!0).includes(t)):r.some(n=>bt(e,n)===t))}function Mt(e){return!!e.draggedBlocks.length}function Nt(e,t){return e.draggedBlocks.includes(t)}const Pt=l(e=>{let t,n;const{insertionCue:r,selection:{selectionEnd:o}}=e;if(null!==r)return r;const{clientId:i}=o;return i?(t=bt(e,i)||void 0,n=Lt(e,o.clientId)+1):n=vt(e).length,{rootClientId:t,index:n}},e=>[e.insertionCue,e.selection.selectionEnd.clientId,e.blocks.parents,e.blocks.order]);function wt(e,t){var n,r;return t?null!==(n=sn(e,t)?.templateLock)&&void 0!==n&&n:null!==(r=e.settings.templateLock)&&void 0!==r&&r}const Kt=(e,t)=>{let n,r;if(t&&"object"==typeof t?(n=t,r=t.name):(n=u(t),r=t),!n)return!1;const{allowedBlockTypes:o}=ln(e);return!!$e(o,r,!0)&&(!n.parent?.length||n.parent.some(t=>Kt(e,t)||"core/post-content"===t))},Dt=(e,t,n=null)=>{if(!Kt(e,t))return!1;let r;t&&"object"==typeof t?(r=t,t=r.name):r=u(t);if(!!wt(e,n))return!1;if(!!Ke(e,n))return!1;if("disabled"===In(e,null!=n?n:""))return!1;const o=sn(e,n);if(n&&void 0===o)return!1;const s=nt(e,n),l=u(s),c=l?.allowedBlocks;let a=$e(c,t);if(!1!==a){const e=o?.allowedBlocks,n=$e(e,t);null!==n&&(a=n)}const d=r.parent,g=$e(d,s);let f=!0;const p=r.ancestor;if(p){f=[n,...Bt(e,n)].some(t=>$e(p,nt(e,t)))}const k=f&&(null===a&&null===g||!0===a||!0===g);return k?i("blockEditor.__unstableCanInsertBlockType",k,r,n,{getBlock:ot.bind(null,e),getBlockParentsByBlockName:_t.bind(null,e)}):k},Gt=l(Dt,(e,t,n)=>Je(e,n));function xt(e,t){const n=rt(e,t);if(null===n)return!0;if(void 0!==n.lock?.remove)return!n.lock.remove;const r=bt(e,t);if(wt(e,r))return!1;return!!!we(e,t)&&"disabled"!==In(e,r)}function Ut(e,t){return t.every(t=>xt(e,t))}function Vt(e,t){const n=rt(e,t);if(null===n)return!0;if(void 0!==n.lock?.move)return!n.lock.move;const r=bt(e,t);return"all"!==wt(e,r)&&"disabled"!==In(e,r)}function Ht(e,t){const n=rt(e,t);if(null===n)return!0;const{lock:r}=n;return!r?.edit}function Wt(e,t){var n;return null!==(n=e.preferences.insertUsage?.[t])&&void 0!==n?n:null}const Ft=(e,t,n)=>!!o(t,"inserter",!0)&&Dt(e,t.name,n),jt=(e,t)=>{if(!e)return t;const n=Date.now()-e;switch(!0){case n<36e5:return 4*t;case n<864e5:return 2*t;case n<6048e5:return t/2;default:return t/4}},zt=(e,{buildScope:t="inserter"})=>n=>{const r=n.name;let i=!1;o(n.name,"multiple",!0)||(i=gt(e,at(e)).some(({name:e})=>e===n.name));const{time:s,count:l=0}=Wt(e,r)||{},c={id:r,name:n.name,title:n.title,icon:n.icon,isDisabled:i,frecency:jt(s,l)};if("transform"===t)return c;const a=p(n.name,"inserter");return{...c,initialAttributes:{},description:n.description,category:n.category,keywords:n.keywords,parent:n.parent,variations:a,example:n.example,utility:1}},Yt=c(e=>l((t,n=null,r=tt)=>{const i=Dt(t,"core/block",n)?D(e(_e)).getReusableBlocks().map(e=>{const n=e.wp_pattern_sync_status?Z:{src:Z,foreground:"var(--wp-block-synced-color)"},r=`core/block/${e.id}`,{time:o,count:i=0}=Wt(t,r)||{},s=jt(o,i);return{id:r,name:"core/block",initialAttributes:{ref:e.id},title:e.title?.raw,icon:n,category:"reusable",keywords:["reusable"],isDisabled:!1,utility:1,frecency:s,content:e.content?.raw,syncStatus:e.wp_pattern_sync_status}}):[],s=zt(t,{buildScope:"inserter"});let l=g().filter(e=>o(e,"inserter",!0)).map(s);l=!1!==r[Fe]?l.filter(e=>Ft(t,e,n)):l.filter(e=>Kt(t,e)).map(e=>({...e,isAllowedInCurrentRoot:Ft(t,e,n)}));const c=l.reduce((e,n)=>{const{variations:r=[]}=n;if(r.some(({isDefault:e})=>e)||e.push(n),r.length){const o=((e,t)=>n=>{const r=`${t.id}/${n.name}`,{time:o,count:i=0}=Wt(e,r)||{};return{...t,id:r,icon:n.icon||t.icon,title:n.title||t.title,description:n.description||t.description,category:n.category||t.category,example:n.hasOwnProperty("example")?n.example:t.example,initialAttributes:{...t.initialAttributes,...n.attributes},innerBlocks:n.innerBlocks,keywords:n.keywords||t.keywords,frecency:jt(o,i)}})(t,n);e.push(...r.map(o))}return e},[]),{core:a,noncore:u}=c.reduce((e,t)=>{const{core:n,noncore:r}=e;return(t.name.startsWith("core/")?n:r).push(t),e},{core:[],noncore:[]});return[...[...a,...u],...i]},(t,n)=>[g(),D(e(_e)).getReusableBlocks(),t.blocks.order,t.preferences.insertUsage,...Je(t,n)])),Zt=l((e,t,n=null)=>{const r=Array.isArray(t)?t:[t],o=zt(e,{buildScope:"transform"}),i=g().filter(t=>Ft(e,t,n)).map(o),s=Object.fromEntries(Object.entries(i).map(([,e])=>[e.name,e])),l=f(r).reduce((e,t)=>(s[t?.name]&&e.push(s[t.name]),e),[]);return A(l,e=>s[e.name].frecency,"desc")},(e,t,n)=>[g(),e.preferences.insertUsage,...Je(e,n)]),$t=c(e=>(t,n=null)=>{if(g().some(e=>Ft(t,e,n)))return!0;return Dt(t,"core/block",n)&&D(e(_e)).getReusableBlocks().length>0}),Xt=c(e=>l((t,n=null)=>{if(!n)return;const r=g().filter(e=>Ft(t,e,n));return Dt(t,"core/block",n)&&D(e(_e)).getReusableBlocks().length>0&&r.push("core/block"),r},(t,n)=>[g(),D(e(_e)).getReusableBlocks(),...Je(t,n)])),qt=l((e,t=null)=>(F('wp.data.select( "core/block-editor" ).__experimentalGetAllowedBlocks',{alternative:'wp.data.select( "core/block-editor" ).getAllowedBlocks',since:"6.2",version:"6.4"}),Xt(e,t)),(e,t)=>Xt.getDependants(e,t));function Jt(e,t=null){var n;if(!t)return;const{defaultBlock:r,directInsert:o}=null!==(n=e.blockListSettings[t])&&void 0!==n?n:{};return r&&o?r:void 0}const Qt=c(e=>(t,n)=>{const r=D(e(_e)).getPatternBySlug(n);return r?Ye(r):null}),en=e=>(t,n)=>[...qe(e)(t),...Je(t,n)],tn=c(e=>l((t,n=null,r=tt)=>{const{getAllPatterns:o}=D(e(_e)),i=o(),{allowedBlockTypes:s}=ln(t);return i.filter(({inserter:e=!0})=>!!e).map(e=>({...e,get blocks(){return Ye(e).blocks}})).filter(e=>Xe(Ze(e),s)).filter(e=>Ze(e).every(({blockName:e})=>!1!==r[Fe]?Gt(t,e,n):Kt(t,e)))},en(e))),nn=c(e=>l((t,n,r=null)=>{if(!n)return Qe;const o=e(_e).__experimentalGetAllowedPatterns(r),i=Array.isArray(n)?n:[n],s=o.filter(e=>e?.blockTypes?.some?.(e=>i.includes(e)));return 0===s.length?Qe:s},(t,n,r)=>en(e)(t,r))),rn=c(e=>(F('wp.data.select( "core/block-editor" ).__experimentalGetPatternsByBlockTypes',{alternative:'wp.data.select( "core/block-editor" ).getPatternsByBlockTypes',since:"6.2",version:"6.4"}),e(_e).getPatternsByBlockTypes)),on=c(e=>l((t,n,r=null)=>{if(!n)return Qe;if(n.some(({clientId:e,innerBlocks:n})=>n.length||gn(t,e)))return Qe;const o=Array.from(new Set(n.map(({name:e})=>e)));return e(_e).getPatternsByBlockTypes(o,r)},(t,n,r)=>en(e)(t,r)));function sn(e,t){return e.blockListSettings[t]}function ln(e){return e.settings}const cn=l((e,t=[])=>t.reduce((t,n)=>e.blockListSettings[n]?{...t,[n]:e.blockListSettings[n]}:t,{}),e=>[e.blockListSettings]),an=c(e=>l((t,n)=>{F("wp.data.select( 'core/block-editor' ).__experimentalGetReusableBlockTitle",{since:"6.6",version:"6.8"});const r=D(e(_e)).getReusableBlocks().find(e=>e.id===n);return r?r.title?.raw:null},()=>[D(e(_e)).getReusableBlocks()]));function un(e){return"navigation"===e.editorMode}function dn(e){return e.editorMode}function gn(e,t){return!!e.blocks.controlledInnerBlocks[t]}const fn=l((e,t)=>{if(!t.length)return null;const n=It(e);if(t.includes(nt(e,n)))return n;const r=yt(e),o=_t(e,n||r[0],t);return o?o[o.length-1]:null},(e,t)=>[e.selection.selectionStart.clientId,e.selection.selectionEnd.clientId,t]);const pn=l(e=>{const t=new Set(Object.keys(e.blockVisibility).filter(t=>e.blockVisibility[t]));return 0===t.size?et:t},e=>[e.blockVisibility]);function kn(e,t){if("default"!==In(e,t))return!1;if(!Ht(e,t))return!0;if("zoom-out"===dn(e)){const n=Ue(e);if(n){const r=vt(e,n);if(r?.includes(t))return!0}else if(t&&!bt(e,t))return!0}return!o(nt(e,t),"__experimentalDisableBlockOverlay",!1)&&gn(e,t)&&!Rt(e,t)&&!At(e,t,!0)}const In=c(e=>(t,n="")=>{null===n&&(n="");const o=dn(t);if("zoom-out"===o){const e=Ue(t);if(""===n)return e?"disabled":"contentOnly";if(n===e)return"contentOnly";const r=vt(t,e);return r?.includes(n)?"contentOnly":"disabled"}if("navigation"===o){const o=Ue(t);if(n===o)return"default";if(vt(t,o).includes(n))return"contentOnly";const i=function(e,t,n){let r=e.blocks.parents.get(t);for(;r&&r!==n;)r=e.blocks.parents.get(r);return r===n}(t,n,o);if(!i)return"disabled";const s=nt(t,n),{hasContentRoleAttribute:l}=D(e(r));return l(s)?"contentOnly":"disabled"}const i=t.blockEditingModes.get(n);if(i)return i;if(!n)return"default";const s=bt(t,n);if("contentOnly"===wt(t,s)){const o=nt(t,n),{hasContentRoleAttribute:i}=D(e(r));return i(o)?"contentOnly":"disabled"}const l=In(t,s);return"contentOnly"===l?"default":l}),bn=c(e=>(t,n="")=>{const o=n||It(t);if(!o)return!1;const{getGroupingBlockName:i}=e(r),s=ot(t,o),l=i();return s&&(s.name===l||u(s.name)?.transforms?.ungroup)&&!!s.innerBlocks.length&&xt(t,o)}),Bn=c(e=>(t,n=Qe)=>{const{getGroupingBlockName:o}=e(r),i=o(),s=n?.length?n:Et(t),l=s?.length?bt(t,s[0]):void 0;return Gt(t,i,l)&&s.length&&Ut(t,s)});const _n=Object.freeze(Object.defineProperty({__proto__:null,__experimentalGetActiveBlockIdByBlockNames:fn,__experimentalGetAllowedBlocks:qt,__experimentalGetAllowedPatterns:tn,__experimentalGetBlockListSettingsForBlocks:cn,__experimentalGetDirectInsertBlock:function(e,t=null){return F('wp.data.select( "core/block-editor" ).__experimentalGetDirectInsertBlock',{alternative:'wp.data.select( "core/block-editor" ).getDirectInsertBlock',since:"6.3",version:"6.4"}),Jt(e,t)},__experimentalGetGlobalBlocksByName:function(e,t){return F("wp.data.select( 'core/block-editor' ).__experimentalGetGlobalBlocksByName",{since:"6.5",alternative:"wp.data.select( 'core/block-editor' ).getBlocksByName"}),dt(e,t)},__experimentalGetLastBlockAttributeChanges:function(e){return e.lastBlockAttributesChange},__experimentalGetParsedPattern:Qt,__experimentalGetPatternTransformItems:on,__experimentalGetPatternsByBlockTypes:rn,__experimentalGetReusableBlockTitle:an,__unstableGetBlockWithoutInnerBlocks:it,__unstableGetClientIdWithClientIdsTree:st,__unstableGetClientIdsTree:lt,__unstableGetContentLockingParent:(e,t)=>(F("wp.data.select( 'core/block-editor' ).__unstableGetContentLockingParent",{since:"6.1",version:"6.7"}),Pe(e,t)),__unstableGetEditorMode:dn,__unstableGetSelectedBlocksWithPartialSelection:e=>{const t=pt(e),n=kt(e);if(t.clientId===n.clientId)return Qe;if(!t.attributeKey||!n.attributeKey||void 0===t.offset||void 0===n.offset)return Qe;const r=bt(e,t.clientId);if(r!==bt(e,n.clientId))return Qe;const o=vt(e,r),i=o.indexOf(t.clientId),s=o.indexOf(n.clientId),[l,c]=i>s?[n,t]:[t,n],a=ot(e,l.clientId),u=ot(e,c.clientId),d=a.attributes[l.attributeKey],g=u.attributes[c.attributeKey];let f=j({html:d}),p=j({html:g});return f=z(f,0,l.offset),p=z(p,c.offset,p.text.length),[{...a,attributes:{...a.attributes,[l.attributeKey]:Y({value:f})}},{...u,attributes:{...u.attributes,[c.attributeKey]:Y({value:p})}}]},__unstableGetTemporarilyEditingAsBlocks:function(e){return F("wp.data.select( 'core/block-editor' ).__unstableGetTemporarilyEditingAsBlocks",{since:"6.1",version:"6.7"}),De(e)},__unstableGetTemporarilyEditingFocusModeToRevert:function(e){return F("wp.data.select( 'core/block-editor' ).__unstableGetTemporarilyEditingFocusModeToRevert",{since:"6.5",version:"6.7"}),Ge(e)},__unstableGetVisibleBlocks:pn,__unstableHasActiveBlockOverlayActive:kn,__unstableIsFullySelected:function(e){const t=pt(e),n=kt(e);return!t.attributeKey&&!n.attributeKey&&void 0===t.offset&&void 0===n.offset},__unstableIsLastBlockChangeIgnored:function(e){return e.blocks.isIgnoredChange},__unstableIsSelectionCollapsed:function(e){const t=pt(e),n=kt(e);return!!t&&!!n&&t.clientId===n.clientId&&t.attributeKey===n.attributeKey&&t.offset===n.offset},__unstableIsSelectionMergeable:function(e,t){const n=pt(e),r=kt(e);if(n.clientId===r.clientId)return!1;if(!n.attributeKey||!r.attributeKey||void 0===n.offset||void 0===r.offset)return!1;const o=bt(e,n.clientId);if(o!==bt(e,r.clientId))return!1;const i=vt(e,o);let s,l;i.indexOf(n.clientId)>i.indexOf(r.clientId)?(s=r,l=n):(s=n,l=r);const c=t?l.clientId:s.clientId,a=t?s.clientId:l.clientId,g=nt(e,c);if(!u(g).merge)return!1;const f=ot(e,a);if(f.name===g)return!0;const p=d(f,g);return p&&p.length},__unstableIsWithinBlockOverlay:function(e,t){let n=e.blocks.parents.get(t);for(;n;){if(kn(e,n))return!0;n=e.blocks.parents.get(n)}return!1},__unstableSelectionHasUnmergeableBlock:function(e){return Et(e).some(t=>{const n=nt(e,t);return!u(n).merge})},areInnerBlocksControlled:gn,canEditBlock:Ht,canInsertBlockType:Gt,canInsertBlocks:function(e,t,n=null){return t.every(t=>Gt(e,nt(e,t),n))},canLockBlockType:function(e,t){return!!o(t,"lock",!0)&&!!e.settings?.canLockBlocks},canMoveBlock:Vt,canMoveBlocks:function(e,t){return t.every(t=>Vt(e,t))},canRemoveBlock:xt,canRemoveBlocks:Ut,didAutomaticChange:function(e){return!!e.automaticChangeStatus},getAdjacentBlockClientId:mt,getAllowedBlocks:Xt,getBlock:ot,getBlockAttributes:rt,getBlockCount:function(e,t){return vt(e,t).length},getBlockEditingMode:In,getBlockHierarchyRootClientId:function(e,t){let n,r=t;do{n=r,r=e.blocks.parents.get(r)}while(r);return n},getBlockIndex:Lt,getBlockInsertionPoint:Pt,getBlockListSettings:sn,getBlockMode:function(e,t){return e.blocksMode[t]||"visual"},getBlockName:nt,getBlockNamesByClientId:ft,getBlockOrder:vt,getBlockParents:Bt,getBlockParentsByBlockName:_t,getBlockRootClientId:bt,getBlockSelectionEnd:function(e){return e.selection.selectionEnd.clientId},getBlockSelectionStart:function(e){return e.selection.selectionStart.clientId},getBlockTransformItems:Zt,getBlocks:function(e,t){const n=t&&gn(e,t)?"controlled||"+t:t||"";return e.blocks.tree.get(n)?.innerBlocks||Qe},getBlocksByClientId:gt,getBlocksByName:dt,getClientIdsOfDescendants:ct,getClientIdsWithDescendants:at,getDirectInsertBlock:Jt,getDraggedBlockClientIds:function(e){return e.draggedBlocks},getFirstMultiSelectedBlockClientId:Ct,getGlobalBlockCount:ut,getHoveredBlockClientId:function(e){return e.hoveredBlockClientId},getInserterItems:Yt,getLastMultiSelectedBlockClientId:ht,getLowestCommonAncestorWithSelectedBlock:function(e,t){const n=It(e),r=[...Bt(e,t),t],o=[...Bt(e,n),n];let i;const s=Math.min(r.length,o.length);for(let l=0;l<s&&r[l]===o[l];l++)i=r[l];return i},getMultiSelectedBlockClientIds:yt,getMultiSelectedBlocks:St,getMultiSelectedBlocksEndClientId:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId===n.clientId?null:n.clientId||null},getMultiSelectedBlocksStartClientId:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId===n.clientId?null:t.clientId||null},getNextBlockClientId:function(e,t){return mt(e,t,1)},getPatternsByBlockTypes:nn,getPreviousBlockClientId:function(e,t){return mt(e,t,-1)},getSelectedBlock:function(e){const t=It(e);return t?ot(e,t):null},getSelectedBlockClientId:It,getSelectedBlockClientIds:Et,getSelectedBlockCount:function(e){const t=yt(e).length;return t||(e.selection.selectionStart.clientId?1:0)},getSelectedBlocksInitialCaretPosition:function(e){return e.initialPosition},getSelectionEnd:kt,getSelectionStart:pt,getSettings:ln,getTemplate:function(e){return e.settings.template},getTemplateLock:wt,hasBlockMovingClientId:function(){return F('wp.data.select( "core/block-editor" ).hasBlockMovingClientId',{since:"6.7",hint:"Block moving mode feature has been removed"}),!1},hasDraggedInnerBlock:function e(t,n,r=!1){return vt(t,n).some(n=>Nt(t,n)||r&&e(t,n,r))},hasInserterItems:$t,hasMultiSelection:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return t.clientId!==n.clientId},hasSelectedBlock:function(e){const{selectionStart:t,selectionEnd:n}=e.selection;return!!t.clientId&&t.clientId===n.clientId},hasSelectedInnerBlock:At,isAncestorBeingDragged:function(e,t){return!!Mt(e)&&Bt(e,t).some(t=>Nt(e,t))},isAncestorMultiSelected:Ot,isBlockBeingDragged:Nt,isBlockHighlighted:function(e,t){return e.highlightedBlock===t},isBlockInsertionPointVisible:function(e){return null!==e.insertionCue},isBlockMultiSelected:Tt,isBlockSelected:Rt,isBlockValid:function(e,t){const n=e.blocks.byClientId.get(t);return!!n&&n.isValid},isBlockVisible:function(e,t){var n;return null===(n=e.blockVisibility?.[t])||void 0===n||n},isBlockWithinSelection:function(e,t){if(!t)return!1;const n=yt(e),r=n.indexOf(t);return r>-1&&r<n.length-1},isCaretWithinFormattedText:function(){return F('wp.data.select( "core/block-editor" ).isCaretWithinFormattedText',{since:"6.1",version:"6.3"}),!1},isDraggingBlocks:Mt,isFirstMultiSelectedBlock:function(e,t){return Ct(e)===t},isGroupable:Bn,isLastBlockChangePersistent:function(e){return e.blocks.isPersistentChange},isMultiSelecting:function(e){return e.isMultiSelecting},isNavigationMode:un,isSelectionEnabled:function(e){return e.isSelectionEnabled},isTyping:function(e){return e.isTyping},isUngroupable:bn,isValidTemplate:function(e){return e.template.isValid},wasBlockJustInserted:function(e,t,n){const{lastBlockInserted:r}=e;return r.clientIds?.includes(t)&&r.source===n}},Symbol.toStringTag,{value:"Module"})),mn=["inserterMediaCategories","blockInspectorAnimation"];function En(e,{stripExperimentalSettings:t=!1,reset:n=!1}={}){let r=e;if(t&&"web"===k.OS){r={};for(const t in e)mn.includes(t)||(r[t]=e[t])}return{type:"UPDATE_SETTINGS",settings:r,reset:n}}const yn=(e,t=!0,n=!1)=>({select:r,dispatch:o,registry:i})=>{if(!e||!e.length)return;var s;s=e,e=Array.isArray(s)?s:[s];if(!r.canRemoveBlocks(e))return;const l=!n&&r.getBlockRemovalRules();if(l){function c(e){const t=[],n=[...e];for(;n.length;){const{innerBlocks:e,...r}=n.shift();n.push(...e),t.push(r)}return t}const a=c(e.map(r.getBlock));let u;for(const d of l)if(u=d.callback(a),u)return void o(Cn(e,t,u))}t&&o.selectPreviousBlock(e[0],t),i.batch(()=>{o({type:"REMOVE_BLOCKS",clientIds:e}),o(Sn())})},Sn=()=>({select:e,dispatch:t})=>{if(e.getBlockCount()>0)return;const{__unstableHasCustomAppender:n}=e.getSettings();n||t.insertDefaultBlock()};function Cn(e,t,n){return{type:"DISPLAY_BLOCK_REMOVAL_PROMPT",clientIds:e,selectPrevious:t,message:n}}const hn=Object.freeze(Object.defineProperty({__proto__:null,__experimentalUpdateSettings:En,clearBlockRemovalPrompt:function(){return{type:"CLEAR_BLOCK_REMOVAL_PROMPT"}},deleteStyleOverride:function(e){return{type:"DELETE_STYLE_OVERRIDE",id:e}},ensureDefaultBlock:Sn,expandBlock:function(e){return{type:"SET_BLOCK_EXPANDED_IN_LIST_VIEW",clientId:e}},hideBlockInterface:function(){return{type:"HIDE_BLOCK_INTERFACE"}},modifyContentLockBlock:e=>({select:t,dispatch:n})=>{n.selectBlock(e),n.__unstableMarkNextChangeAsNotPersistent(),n.updateBlockAttributes(e,{templateLock:void 0}),n.updateBlockListSettings(e,{...t.getBlockListSettings(e),templateLock:!1});const r=t.getSettings().focusMode;n.updateSettings({focusMode:!0}),n.__unstableSetTemporarilyEditingAsBlocks(e,r)},privateRemoveBlocks:yn,resetZoomLevel:function(){return{type:"RESET_ZOOM_LEVEL"}},setBlockRemovalRules:function(e=!1){return{type:"SET_BLOCK_REMOVAL_RULES",rules:e}},setInsertionPoint:function(e){return{type:"SET_INSERTION_POINT",value:e}},setLastFocus:function(e=null){return{type:"LAST_FOCUS",lastFocus:e}},setOpenedBlockSettingsMenu:function(e){return{type:"SET_OPENED_BLOCK_SETTINGS_MENU",clientId:e}},setStyleOverride:function(e,t){return{type:"SET_STYLE_OVERRIDE",id:e,style:t}},setZoomLevel:function(e=100){return{type:"SET_ZOOM_LEVEL",zoom:e}},showBlockInterface:function(){return{type:"SHOW_BLOCK_INTERFACE"}},startDragging:function(){return{type:"START_DRAGGING"}},stopDragging:function(){return{type:"STOP_DRAGGING"}},stopEditingAsBlocks:function(e){return({select:t,dispatch:n,registry:r})=>{const o=D(r.select(Gn)).getTemporarilyEditingFocusModeToRevert();n.__unstableMarkNextChangeAsNotPersistent(),n.updateBlockAttributes(e,{templateLock:"contentOnly"}),n.updateBlockListSettings(e,{...t.getBlockListSettings(e),templateLock:"contentOnly"}),n.updateSettings({focusMode:o}),n.__unstableSetTemporarilyEditingAsBlocks()}}},Symbol.toStringTag,{value:"Module"})),Tn=e=>Array.isArray(e)?e:[e],On=e=>({select:t,dispatch:n})=>{const r=t.getTemplate(),o=t.getTemplateLock(),i=!r||"all"!==o||I(e,r);if(i!==t.isValidTemplate())return n.setTemplateValidity(i),i};const vn=(e,t,n,r=0,o)=>({select:i,dispatch:s,registry:l})=>{e=Tn(e),t=Tn(t);const c=i.getBlockRootClientId(e[0]);for(let e=0;e<t.length;e++){const n=t[e];if(!i.canInsertBlockType(n.name,c))return}l.batch(()=>{s({type:"REPLACE_BLOCKS",clientIds:e,blocks:t,time:Date.now(),indexToSelect:n,initialPosition:r,meta:o}),s.ensureDefaultBlock()})};const Ln=e=>(t,n)=>({select:r,dispatch:o})=>{r.canMoveBlocks(t)&&o({type:e,clientIds:Tn(t),rootClientId:n})},Rn=Ln("MOVE_BLOCKS_DOWN"),An=Ln("MOVE_BLOCKS_UP"),Mn=(e,t="",n="",r)=>({select:o,dispatch:i})=>{if(o.canMoveBlocks(e)){if(t!==n){if(!o.canRemoveBlocks(e))return;if(!o.canInsertBlocks(e,n))return}i({type:"MOVE_BLOCKS_TO_POSITION",fromRootClientId:t,toRootClientId:n,clientIds:e,index:r})}};const Nn=(e,t,n,r=!0,o=0,i)=>({select:s,dispatch:l})=>{null!==o&&"object"==typeof o&&(i=o,o=0,F("meta argument in wp.data.dispatch('core/block-editor')",{since:"5.8",hint:"The meta argument is now the 6th argument of the function"})),e=Tn(e);const c=[];for(const t of e){s.canInsertBlockType(t.name,n)&&c.push(t)}c.length&&l({type:"INSERT_BLOCKS",blocks:c,index:t,rootClientId:n,time:Date.now(),updateSelection:r,initialPosition:r?o:null,meta:i})};const Pn=(e,t=!0)=>yn(e,t);function wn(e,t){return{type:"TOGGLE_BLOCK_HIGHLIGHT",clientId:e,isHighlighted:t}}const Kn=Object.freeze(Object.defineProperty({__proto__:null,__unstableDeleteSelection:e=>({registry:t,select:n,dispatch:r})=>{const o=n.getSelectionStart(),i=n.getSelectionEnd();if(o.clientId===i.clientId)return;if(!o.attributeKey||!i.attributeKey||void 0===o.offset||void 0===i.offset)return!1;const s=n.getBlockRootClientId(o.clientId);if(s!==n.getBlockRootClientId(i.clientId))return;const l=n.getBlockOrder(s);let c,a;l.indexOf(o.clientId)>l.indexOf(i.clientId)?(c=i,a=o):(c=o,a=i);const g=e?a:c,f=n.getBlock(g.clientId),p=u(f.name);if(!p.merge)return;const k=c,I=a,b=n.getBlock(k.clientId),_=n.getBlock(I.clientId),m=b.attributes[k.attributeKey],E=_.attributes[I.attributeKey];let y=j({html:m}),S=j({html:E});y=z(y,k.offset,y.text.length),S=X(S,M,0,I.offset);const C=B(b,{[k.attributeKey]:Y({value:y})}),h=B(_,{[I.attributeKey]:Y({value:S})}),T=e?C:h,O=b.name===_.name?[T]:d(T,p.name);if(!O||!O.length)return;let v;if(e){const e=O.pop();v=p.merge(e.attributes,h.attributes)}else{const e=O.shift();v=p.merge(C.attributes,e.attributes)}const L=N(v),R=v[L],A=j({html:R}),P=A.text.indexOf(M),w=z(A,P,P+1),K=Y({value:w});v[L]=K;const D=n.getSelectedBlockClientIds(),G=[...e?O:[],{...f,attributes:{...f.attributes,...v}},...e?[]:O];t.batch(()=>{r.selectionChange(f.clientId,L,P,P),r.replaceBlocks(D,G,0,n.getSelectedBlocksInitialCaretPosition())})},__unstableExpandSelection:()=>({select:e,dispatch:t})=>{const n=e.getSelectionStart(),r=e.getSelectionEnd();t.selectionChange({start:{clientId:n.clientId},end:{clientId:r.clientId}})},__unstableMarkAutomaticChange:()=>({dispatch:e})=>{e({type:"MARK_AUTOMATIC_CHANGE"});const{requestIdleCallback:t=e=>setTimeout(e,100)}=window;t(()=>{e({type:"MARK_AUTOMATIC_CHANGE_FINAL"})})},__unstableMarkLastChangeAsPersistent:function(){return{type:"MARK_LAST_CHANGE_AS_PERSISTENT"}},__unstableMarkNextChangeAsNotPersistent:function(){return{type:"MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"}},__unstableSaveReusableBlock:function(e,t){return{type:"SAVE_REUSABLE_BLOCK_SUCCESS",id:e,updatedId:t}},__unstableSetEditorMode:e=>({dispatch:t,select:n})=>{if("zoom-out"===e){const e=n.getBlockSelectionStart(),r=n.getSectionRootClientId();if(e){let o;if(r){const t=n.getBlockOrder(r);o=t?.includes(e)?e:n.getBlockParents(e).find(e=>t.includes(e))}else o=n.getBlockHierarchyRootClientId(e);o?t.selectBlock(o):t.clearSelectedBlock()}}t({type:"SET_EDITOR_MODE",mode:e}),"navigation"===e?$(x("You are currently in navigation mode. Navigate blocks using the Tab key and Arrow keys. Use Left and Right Arrow keys to move between nesting levels. To exit navigation mode and edit the selected block, press Enter.")):"edit"===e?$(x("You are currently in edit mode. To return to the navigation mode, press Escape.")):"zoom-out"===e&&$(x("You are currently in zoom-out mode."))},__unstableSetTemporarilyEditingAsBlocks:function(e,t){return{type:"SET_TEMPORARILY_EDITING_AS_BLOCKS",temporarilyEditingAsBlocks:e,focusModeToRevert:t}},__unstableSplitSelection:(e=[])=>({registry:t,select:n,dispatch:r})=>{const o=n.getSelectionStart(),i=n.getSelectionEnd(),s=n.getBlockRootClientId(o.clientId),l=n.getBlockRootClientId(i.clientId);if(s!==l)return;const c=n.getBlockOrder(s);let a,g;c.indexOf(o.clientId)>c.indexOf(i.clientId)?(a=i,g=o):(a=o,g=i);const f=a,p=g,k=n.getBlock(f.clientId),I=n.getBlock(p.clientId),b=u(k.name),B=u(I.name),S="string"==typeof f.attributeKey?f.attributeKey:P(b),C="string"==typeof p.attributeKey?p.attributeKey:P(B),h=n.getBlockAttributes(f.clientId),T=h?.metadata?.bindings;if(T?.[S]){if(e.length){const{createWarningNotice:F}=t.dispatch(q);return void F(x("Blocks can't be inserted into other blocks with bindings"),{type:"snackbar"})}return void r.insertAfterBlock(f.clientId)}if(!S||!C||void 0===o.offset||void 0===i.offset)return;if(f.clientId===p.clientId&&S===C&&f.offset===p.offset)if(e.length){if(_(k))return void r.replaceBlocks([f.clientId],e,e.length-1,-1)}else if(!n.getBlockOrder(f.clientId).length){function Z(){const e=E();return n.canInsertBlockType(e,s)?m(e):m(n.getBlockName(f.clientId))}const $=h[S].length;if(0===f.offset&&$)return void r.insertBlocks([Z()],n.getBlockIndex(f.clientId),s,!1);if(f.offset===$)return void r.insertBlocks([Z()],n.getBlockIndex(f.clientId)+1,s)}const O=k.attributes[S],v=I.attributes[C];let L=j({html:O}),R=j({html:v});L=z(L,f.offset,L.text.length),R=z(R,0,p.offset);let A={...k,innerBlocks:k.clientId===I.clientId?[]:k.innerBlocks,attributes:{...k.attributes,[S]:Y({value:L})}},M={...I,clientId:k.clientId===I.clientId?m(I.name).clientId:I.clientId,attributes:{...I.attributes,[C]:Y({value:R})}};const N=E();if(k.clientId===I.clientId&&N&&M.name!==N&&n.canInsertBlockType(N,s)){const X=d(M,N);1===X?.length&&(M=X[0])}if(!e.length)return void r.replaceBlocks(n.getSelectedBlockClientIds(),[A,M]);let w;const K=[],D=[...e],G=D.shift(),U=u(A.name),V=U.merge&&G.name===U.name?[G]:d(G,U.name);if(V?.length){const J=V.shift();A={...A,attributes:{...A.attributes,...U.merge(A.attributes,J.attributes)}},K.push(A),w={clientId:A.clientId,attributeKey:S,offset:j({html:A.attributes[S]}).text.length},D.unshift(...V)}else y(A)||K.push(A),K.push(G);const H=D.pop(),W=u(M.name);if(D.length&&K.push(...D),H){const Q=W.merge&&W.name===H.name?[H]:d(H,W.name);if(Q?.length){const ee=Q.pop();K.push({...M,attributes:{...M.attributes,...W.merge(ee.attributes,M.attributes)}}),K.push(...Q),w={clientId:M.clientId,attributeKey:C,offset:j({html:ee.attributes[C]}).text.length}}else K.push(H),y(M)||K.push(M)}else y(M)||K.push(M);t.batch(()=>{r.replaceBlocks(n.getSelectedBlockClientIds(),K,K.length-1,0),w&&r.selectionChange(w.clientId,w.attributeKey,w.offset,w.offset)})},clearSelectedBlock:function(){return{type:"CLEAR_SELECTED_BLOCK"}},duplicateBlocks:(e,t=!0)=>({select:n,dispatch:r})=>{if(!e||!e.length)return;const i=n.getBlocksByClientId(e);if(i.some(e=>!e))return;if(i.map(e=>e.name).some(e=>!o(e,"multiple",!0)))return;const s=n.getBlockRootClientId(e[0]),l=Tn(e),c=n.getBlockIndex(l[l.length-1]),a=i.map(e=>C(e));return r.insertBlocks(a,c+1,s,t),a.length>1&&t&&r.multiSelect(a[0].clientId,a[a.length-1].clientId),a.map(e=>e.clientId)},enterFormattedText:function(){return F('wp.data.dispatch( "core/block-editor" ).enterFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}},exitFormattedText:function(){return F('wp.data.dispatch( "core/block-editor" ).exitFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}},flashBlock:e=>async({dispatch:t})=>{t(wn(e,!0)),await new Promise(e=>setTimeout(e,150)),t(wn(e,!1))},hideInsertionPoint:()=>({select:e,dispatch:t})=>{e.isBlockInsertionPointVisible()&&t({type:"HIDE_INSERTION_POINT"})},hoverBlock:function(e){return{type:"HOVER_BLOCK",clientId:e}},insertAfterBlock:e=>({select:t,dispatch:n})=>{if(!e)return;const r=t.getBlockRootClientId(e);if(t.getTemplateLock(r))return;const o=t.getBlockIndex(e),i=r?t.getDirectInsertBlock(r):null;if(!i)return n.insertDefaultBlock({},r,o+1);const s={};if(i.attributesToCopy){const n=t.getBlockAttributes(e);i.attributesToCopy.forEach(e=>{n[e]&&(s[e]=n[e])})}const l=m(i.name,{...i.attributes,...s});return n.insertBlock(l,o+1,r)},insertBeforeBlock:e=>({select:t,dispatch:n})=>{if(!e)return;const r=t.getBlockRootClientId(e);if(t.getTemplateLock(r))return;const o=t.getBlockIndex(e),i=r?t.getDirectInsertBlock(r):null;if(!i)return n.insertDefaultBlock({},r,o);const s={};if(i.attributesToCopy){const n=t.getBlockAttributes(e);i.attributesToCopy.forEach(e=>{n[e]&&(s[e]=n[e])})}const l=m(i.name,{...i.attributes,...s});return n.insertBlock(l,o,r)},insertBlock:function(e,t,n,r,o){return Nn([e],t,n,r,0,o)},insertBlocks:Nn,insertDefaultBlock:(e,t,n)=>({dispatch:r})=>{const o=E();if(!o)return;const i=m(o,e);return r.insertBlock(i,n,t)},mergeBlocks:(e,t)=>({registry:n,select:r,dispatch:o})=>{const i=e,s=t,l=r.getBlock(i),c=u(l.name);if(!c)return;const a=r.getBlock(s);if(!c.merge&&S(l.name,"__experimentalOnMerge")){const e=d(a,c.name);if(1!==e?.length)return void o.selectBlock(l.clientId);const[t]=e;return t.innerBlocks.length<1?void o.selectBlock(l.clientId):void n.batch(()=>{o.insertBlocks(t.innerBlocks,void 0,i),o.removeBlock(s),o.selectBlock(t.innerBlocks[0].clientId);const e=r.getNextBlockClientId(i);if(e&&r.getBlockName(i)===r.getBlockName(e)){const t=r.getBlockAttributes(i),n=r.getBlockAttributes(e);Object.keys(t).every(e=>t[e]===n[e])&&(o.moveBlocksToPosition(r.getBlockOrder(e),e,i),o.removeBlock(e,!1))}})}if(_(l))return void o.removeBlock(i,r.isBlockSelected(i));if(_(a))return void o.removeBlock(s,r.isBlockSelected(s));if(!c.merge)return void o.selectBlock(l.clientId);const g=u(a.name),{clientId:f,attributeKey:p,offset:k}=r.getSelectionStart(),I=(f===i?c:g).attributes[p],b=(f===i||f===s)&&void 0!==p&&void 0!==k&&!!I;I||("number"==typeof p?window.console.error("RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was "+typeof p):window.console.error("The RichText identifier prop does not match any attributes defined by the block."));const m=B(l),E=B(a);if(b){const e=f===i?m:E,t=e.attributes[p],n=X(j({html:t}),M,k,k);e.attributes[p]=Y({value:n})}const y=l.name===a.name?[E]:d(E,l.name);if(!y||!y.length)return;const C=c.merge(m.attributes,y[0].attributes);if(b){const e=N(C),t=C[e],n=j({html:t}),r=n.text.indexOf(M),i=z(n,r,r+1),s=Y({value:i});C[e]=s,o.selectionChange(l.clientId,e,r,r)}o.replaceBlocks([l.clientId,a.clientId],[{...l,attributes:{...l.attributes,...C}},...y.slice(1)],0)},moveBlockToPosition:function(e,t="",n="",r){return Mn([e],t,n,r)},moveBlocksDown:Rn,moveBlocksToPosition:Mn,moveBlocksUp:An,multiSelect:(e,t,n=0)=>({select:r,dispatch:o})=>{if(r.getBlockRootClientId(e)!==r.getBlockRootClientId(t))return;o({type:"MULTI_SELECT",start:e,end:t,initialPosition:n});const i=r.getSelectedBlockCount();$(V(H("%s block selected.","%s blocks selected.",i),i),"assertive")},receiveBlocks:function(e){return F('wp.data.dispatch( "core/block-editor" ).receiveBlocks',{since:"5.9",alternative:"resetBlocks or insertBlocks"}),{type:"RECEIVE_BLOCKS",blocks:e}},registerInserterMediaCategory:e=>({select:t,dispatch:n})=>{if(!e||"object"!=typeof e)return;if(!e.name)return;if(!e.labels?.name)return;if(!["image","audio","video"].includes(e.mediaType))return;if(!e.fetch||"function"!=typeof e.fetch)return;const r=t.getRegisteredInserterMediaCategories();r.some(({name:t})=>t===e.name)||r.some(({labels:{name:t}={}})=>t===e.labels?.name)||n({type:"REGISTER_INSERTER_MEDIA_CATEGORY",category:{...e,isExternalResource:!0}})},removeBlock:function(e,t){return Pn([e],t)},removeBlocks:Pn,replaceBlock:function(e,t){return vn(e,t)},replaceBlocks:vn,replaceInnerBlocks:function(e,t,n=!1,r=0){return{type:"REPLACE_INNER_BLOCKS",rootClientId:e,blocks:t,updateSelection:n,initialPosition:n?r:null,time:Date.now()}},resetBlocks:e=>({dispatch:t})=>{t({type:"RESET_BLOCKS",blocks:e}),t(On(e))},resetSelection:function(e,t,n){return{type:"RESET_SELECTION",selectionStart:e,selectionEnd:t,initialPosition:n}},selectBlock:function(e,t=0){return{type:"SELECT_BLOCK",initialPosition:t,clientId:e}},selectNextBlock:e=>({select:t,dispatch:n})=>{const r=t.getNextBlockClientId(e);r&&n.selectBlock(r)},selectPreviousBlock:(e,t=!1)=>({select:n,dispatch:r})=>{const o=n.getPreviousBlockClientId(e);if(o)r.selectBlock(o,-1);else if(t){const t=n.getBlockRootClientId(e);t&&r.selectBlock(t,-1)}},selectionChange:function(e,t,n,r){return"string"==typeof e?{type:"SELECTION_CHANGE",clientId:e,attributeKey:t,startOffset:n,endOffset:r}:{type:"SELECTION_CHANGE",...e}},setBlockEditingMode:function(e="",t){return{type:"SET_BLOCK_EDITING_MODE",clientId:e,mode:t}},setBlockMovingClientId:function(){return F('wp.data.dispatch( "core/block-editor" ).setBlockMovingClientId',{since:"6.7",hint:"Block moving mode feature has been removed"}),{type:"DO_NOTHING"}},setBlockVisibility:function(e){return{type:"SET_BLOCK_VISIBILITY",updates:e}},setHasControlledInnerBlocks:function(e,t){return{type:"SET_HAS_CONTROLLED_INNER_BLOCKS",hasControlledInnerBlocks:t,clientId:e}},setNavigationMode:(e=!0)=>({dispatch:t})=>{t.__unstableSetEditorMode(e?"navigation":"edit")},setTemplateValidity:function(e){return{type:"SET_TEMPLATE_VALIDITY",isValid:e}},showInsertionPoint:function(e,t,n={}){const{__unstableWithInserter:r,operation:o,nearestSide:i}=n;return{type:"SHOW_INSERTION_POINT",rootClientId:e,index:t,__unstableWithInserter:r,operation:o,nearestSide:i}},startDraggingBlocks:function(e=[]){return{type:"START_DRAGGING_BLOCKS",clientIds:e}},startMultiSelect:function(){return{type:"START_MULTI_SELECT"}},startTyping:function(){return{type:"START_TYPING"}},stopDraggingBlocks:function(){return{type:"STOP_DRAGGING_BLOCKS"}},stopMultiSelect:function(){return{type:"STOP_MULTI_SELECT"}},stopTyping:function(){return{type:"STOP_TYPING"}},synchronizeTemplate:()=>({select:e,dispatch:t})=>{t({type:"SYNCHRONIZE_TEMPLATE"});const n=e.getBlocks(),r=e.getTemplate(),o=b(n,r);t.resetBlocks(o)},toggleBlockHighlight:wn,toggleBlockMode:function(e){return{type:"TOGGLE_BLOCK_MODE",clientId:e}},toggleSelection:function(e=!0){return{type:"TOGGLE_SELECTION",isSelectionEnabled:e}},unsetBlockEditingMode:function(e=""){return{type:"UNSET_BLOCK_EDITING_MODE",clientId:e}},updateBlock:function(e,t){return{type:"UPDATE_BLOCK",clientId:e,updates:t}},updateBlockAttributes:function(e,t,n=!1){return{type:"UPDATE_BLOCK_ATTRIBUTES",clientIds:Tn(e),attributes:t,uniqueByBlock:n}},updateBlockListSettings:function(e,t){return{type:"UPDATE_BLOCK_LIST_SETTINGS",clientId:e,settings:t}},updateSettings:function(e){return En(e,{stripExperimentalSettings:!0})},validateBlocksToTemplate:On},Symbol.toStringTag,{value:"Module"})),Dn={reducer:fe,selectors:_n,actions:Kn},Gn=h(_e,{...Dn}),xn=T(_e,{...Dn,persist:["preferences"]});function Un({clientIds:e,children:t,__experimentalUpdateSelection:n}){const{getDefaultBlockName:i,getGroupingBlockName:s}=O(r),l=O(t=>{const{canInsertBlockType:n,getBlockRootClientId:r,getBlocksByClientId:s,getDirectInsertBlock:l,canRemoveBlocks:c}=t(Gn),a=s(e),u=r(e[0]),d=n(i(),u),g=u?l(u):null;return{canRemove:c(e),canInsertBlock:d||!!g,canCopyStyles:a.every(e=>!!e&&(o(e.name,"color")||o(e.name,"typography"))),canDuplicate:a.every(e=>!!e&&o(e.name,"multiple",!0)&&n(e.name,u))}},[e,i]),{getBlocksByClientId:c,getBlocks:a}=O(Gn),{canRemove:u,canInsertBlock:g,canCopyStyles:f,canDuplicate:p}=l,{removeBlocks:k,replaceBlocks:I,duplicateBlocks:b,insertAfterBlock:B,insertBeforeBlock:_,flashBlock:m}=v(Gn),E=w(),y=G();return t({canCopyStyles:f,canDuplicate:p,canInsertBlock:g,canRemove:u,onDuplicate:()=>b(e,n),onRemove:()=>k(e,n),onInsertBefore(){_(e[0])},onInsertAfter(){B(e[e.length-1])},onGroup(){if(!e.length)return;const t=s(),n=d(c(e),t);n&&I(e,n)},onUngroup(){if(!e.length)return;const t=a(e[0]);t.length&&I(e,t)},onCopy(){1===e.length&&m(e[0]),E("copy",e)},async onPasteStyles(){await y(c(e))}})}D(xn).registerPrivateActions(hn),D(xn).registerPrivateSelectors(We),D(Gn).registerPrivateActions(hn),D(Gn).registerPrivateSelectors(We);export{Un as B,_e as S,Dn as a,pe as b,Be as c,Ie as d,Q as e,ke as g,Fe as i,be as r,Gn as s};
