import{a as l}from"./vendor-utils-dq2XMRwt.js";import{z as a}from"./vendor-react-P__8vGRG.js";const i="https://api.neture.co.kr/api",n=l.create({baseURL:i,timeout:1e4,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{if(!["/api/v1/settings/homepage","/api/public/","/api/v1/settings/test"].some(t=>e.url?.includes(t))){let t=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("authToken");if(!t){const r=localStorage.getItem("admin-auth-storage");if(r)try{const o=JSON.parse(r);(o.state?.accessToken||o.state?.token)&&(t=o.state.accessToken||o.state.token)}catch{}}t&&(e.headers.Authorization=`Bearer ${t}`)}return e},e=>Promise.reject(e));n.interceptors.response.use(e=>e,e=>{if(e.response?.status===401){if(window.location.pathname!=="/login"){const s=localStorage.getItem("accessToken"),t=localStorage.getItem("token"),r=localStorage.getItem("authToken"),o=localStorage.getItem("admin-auth-storage");!s&&!t&&!r&&!o?(localStorage.removeItem("admin-auth-storage"),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login",a.error("세션이 만료되었습니다. 다시 로그인해주세요.")):(a.error("인증이 만료되었습니다. 다시 로그인해주세요."),localStorage.removeItem("admin-auth-storage"),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},1e3))}}else e.response?.status===403?a.error("접근 권한이 없습니다."):e.response?.status>=500?a.error("서버 오류가 발생했습니다."):e.code==="ECONNABORTED"&&a.error("요청 시간이 초과되었습니다.");return Promise.reject(e)});export{n as a};
//# sourceMappingURL=client-e48rpZFb.js.map
