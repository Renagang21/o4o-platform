import{u as e,r as s,j as a,bg as i,bh as r,bi as t,bf as l,cy as o,cf as n,cM as c,dp as m,E as d,bI as p,df as x,e3 as h,V as j,bJ as u}from"./vendor-react-BQ6HOJoh.js";import{B as g}from"./page-template-editor-C7FodHrK.js";import{ak as w,an as b}from"./wp-misc-DS9m4_P2.js";import{a as v}from"./api-CD2fx3s3.js";import"./wp-block-editor-a11y-DrduSWFW.js";import"./wp-block-editor-misc-pHCPYvR2.js";import"./wp-block-editor-api-Buev8_QU.js";import"./wp-block-editor-utils-M5qXzE1L.js";import"./wp-block-editor-colors-D38h-Odz.js";import"./wp-blocks-core-6vwQKPfS.js";import"./wp-block-editor-clipboard-Dg0Y1gQ6.js";import"./wp-block-editor-store-B-g1aSix.js";import"./vendor-ui-CrFdsnXa.js";import"./wp-block-editor-dnd-BYoS8-II.js";import"./wp-block-editor-library-BpQvynjE.js";import"./wp-block-editor-menus-BTQ2wZ-f.js";import"./wp-block-editor-keyboard-CeHTtvP5.js";import"./wp-block-editor-typography-Bl_1REQP.js";import"./wp-block-editor-spacing-BD_2CpN7.js";import"./wp-block-editor-core-DL280tSA.js";import"./wp-block-editor-selection-CC4tJpUu.js";import"./wp-block-editor-formats-CLXkimOp.js";import"./wp-block-editor-inline-CpXpUhQU.js";import"./wp-block-editor-ui-B8YE_4QL.js";import"./wp-block-editor-transforms-jLcKa8Hv.js";import"./wp-block-editor-preview-iw2Xu1ib.js";import"./wp-block-editor-global-styles-CV5-K6QF.js";import"./wp-block-editor-borders-BH1devca.js";import"./wp-block-editor-patterns-BXdHo9lm.js";import"./wp-block-editor-navigation-BFSoKzg0.js";import"./wp-block-editor-media-Bg-JiQDT.js";import"./wp-api-BeoadipR.js";import"./wp-i18n-DGPtqsXY.js";import"./wp-core-Y-jV-nrZ.js";import"./vendor-monaco-BxJH8uUv.js";import"./wp-block-editor-upload-BLw1R9wP.js";import"./vendor-utils-D-spY-QM.js";import"./wp-block-editor-templates-o1_wAMb9.js";import"./vendor-query-LYSOqK5P.js";import"./wp-data-BmtL8k4r.js";import"./wp-components-CeQNCpMW.js";const f=()=>{const f=e(),[N,y]=s.useState([]),[k,P]=s.useState(!0),[C,U]=s.useState(""),[S,z]=s.useState("grid"),[R,q]=s.useState({type:"all",isPremium:"all",minRating:0,maxPrice:0}),[L,M]=s.useState(null),[E,F]=s.useState(null);s.useEffect(()=>{B()},[C,R]);const B=async()=>{try{P(!0);const e=new URLSearchParams;C&&e.append("q",C),"all"!==R.type&&e.append("type",R.type),"all"!==R.isPremium&&e.append("isPremium",R.isPremium),R.minRating>0&&e.append("minRating",R.minRating.toString()),R.maxPrice>0&&e.append("maxPrice",R.maxPrice.toString());const s=await v.get(`/v1/themes/marketplace?${e}`);y(s.data.data||A())}catch(e){y(A())}finally{P(!1)}},A=()=>[{id:"1",slug:"modern-business",name:"Modern Business",description:"A clean and modern business theme with multiple layouts",version:"2.1.0",author:"O4O Themes",authorUrl:"https://o4o.com",screenshot:"/images/theme-modern-business.jpg",demoUrl:"https://demo.o4o.com/modern-business",type:"external",status:"active",isPremium:!0,price:49.99,features:["Responsive","SEO Optimized","WooCommerce Ready","Page Builder"],requiredPlugins:["woocommerce","elementor"],downloads:15234,rating:4.8,reviewCount:234,lastUpdate:"2024-01-15",license:"GPL v2",supportedLanguages:["en","ko","ja","zh"]},{id:"2",slug:"minimal-blog",name:"Minimal Blog",description:"Perfect for bloggers who love simplicity",version:"1.5.2",author:"Design Studio",authorUrl:"https://designstudio.com",screenshot:"/images/theme-minimal-blog.jpg",demoUrl:"https://demo.o4o.com/minimal-blog",type:"external",status:"active",isPremium:!1,downloads:8921,rating:4.5,reviewCount:156,lastUpdate:"2024-01-10",license:"MIT",supportedLanguages:["en","ko"]},{id:"3",slug:"ecommerce-pro",name:"E-Commerce Pro",description:"Advanced e-commerce theme with all features you need",version:"3.0.1",author:"Commerce Themes",authorUrl:"https://commercethemes.com",screenshot:"/images/theme-ecommerce-pro.jpg",demoUrl:"https://demo.o4o.com/ecommerce-pro",type:"external",status:"active",isPremium:!0,price:89.99,features:["Multi-vendor","Product Quick View","Advanced Filters","Wishlist"],requiredPlugins:["woocommerce","dokan"],downloads:5432,rating:4.9,reviewCount:89,lastUpdate:"2024-01-20",license:"Commercial",supportedLanguages:["en","ko","ja"]}],O=({theme:e})=>{return a.jsxs(w,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e.screenshot||"/placeholder-theme.jpg",alt:e.name,className:"w-full h-48 object-cover rounded-t-lg"}),e.isPremium&&a.jsx("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"PREMIUM"})]}),a.jsxs(b,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:e.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[(s=e.rating,a.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(e=>a.jsx(u,{className:"w-4 h-4 "+(e<=s?"fill-yellow-400 text-yellow-400":"text-gray-300")},e)),a.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",s,")"]})]})),a.jsxs("span",{className:"text-sm text-gray-500",children:[e.reviewCount," reviews"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[a.jsx(x,{className:"w-4 h-4"}),e.downloads.toLocaleString()]}),a.jsxs("span",{className:"text-gray-600",children:["v",e.version]})]})]}),e.features&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:e.features.slice(0,3).map((e,s)=>a.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:e},s))}),a.jsxs("div",{className:"flex items-center justify-between",children:[e.isPremium&&e.price?a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",e.price]}):a.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"무료"}),a.jsxs("div",{className:"flex gap-2",children:[e.demoUrl&&a.jsx(g,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),window.open(e.demoUrl,"_blank")},children:a.jsx(d,{className:"w-4 h-4"})}),a.jsx(g,{size:"sm",onClick:s=>{s.stopPropagation(),M(e)},disabled:E===e.id,children:E===e.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(h,{className:"w-4 h-4"})})]})]})]})]});var s};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"테마 마켓플레이스"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"프리미엄 테마와 무료 테마를 찾아보세요"})]}),a.jsx(g,{onClick:()=>f("/themes"),children:"내 테마 관리"})]}),a.jsx(w,{children:a.jsx(b,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"테마 검색...",value:C,onChange:e=>U(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:R.type,onChange:e=>q({...R,type:e.target.value}),className:"px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"all",children:"모든 타입"}),a.jsx("option",{value:"external",children:"외부 테마"}),a.jsx("option",{value:"custom",children:"커스텀 테마"})]}),a.jsxs("select",{value:R.isPremium,onChange:e=>q({...R,isPremium:e.target.value}),className:"px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"all",children:"모든 가격"}),a.jsx("option",{value:"false",children:"무료"}),a.jsx("option",{value:"true",children:"프리미엄"})]}),a.jsxs("div",{className:"flex gap-1 border rounded-lg",children:[a.jsx(g,{variant:"grid"===S?"default":"ghost",size:"sm",onClick:()=>z("grid"),children:a.jsx(r,{className:"w-4 h-4"})}),a.jsx(g,{variant:"list"===S?"default":"ghost",size:"sm",onClick:()=>z("list"),children:a.jsx(t,{className:"w-4 h-4"})})]})]})]})})}),k?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):a.jsx("div",{className:"grid"===S?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:N.map(e=>a.jsx(O,{theme:e},e.id))}),L&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold",children:L.name}),a.jsx(g,{variant:"ghost",size:"sm",onClick:()=>M(null),children:a.jsx(l,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx("img",{src:L.screenshot||"/placeholder-theme.jpg",alt:L.name,className:"w-full rounded-lg"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:L.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["작성자: ",L.author]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["버전: ",L.version]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(c,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["최종 업데이트: ",L.lastUpdate]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["지원 언어: ",L.supportedLanguages?.join(", ")]})]})]}),L.features&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"주요 기능"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:L.features.map((e,s)=>a.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:e},s))})]}),L.requiredPlugins&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"필수 플러그인"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:L.requiredPlugins.map((e,s)=>a.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm",children:e},s))})]}),a.jsxs("div",{className:"pt-4 flex gap-3",children:[L.demoUrl&&a.jsxs(g,{variant:"outline",onClick:()=>window.open(L.demoUrl,"_blank"),children:[a.jsx(d,{className:"w-4 h-4 mr-2"}),"미리보기"]}),a.jsx(g,{onClick:()=>(async e=>{try{F(e.id),await new Promise(e=>setTimeout(e,2e3)),j.success(`${e.name} 테마가 설치되었습니다`),f("/themes")}catch(s){j.error("테마 설치에 실패했습니다")}finally{F(null)}})(L),disabled:E===L.id,className:"flex-1",children:E===L.id?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"설치 중..."]}):a.jsx(a.Fragment,{children:L.isPremium?a.jsxs(a.Fragment,{children:[a.jsx(p,{className:"w-4 h-4 mr-2"}),"$",L.price," 구매"]}):a.jsxs(a.Fragment,{children:[a.jsx(x,{className:"w-4 h-4 mr-2"}),"무료 설치"]})})})]})]})]})]})})})]})};export{f as default};
