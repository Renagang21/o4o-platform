import{I as R,j as e}from"./vendor-react-BZRIq8oW.js";import{V as _}from"./wp-blocks-CnCGET8b.js";import{aJ as b,aK as h,aL as B,aM as H,aN as $,aO as M,aP as O}from"./wp-block-editor-C14Ds6es.js";import{a as u,B as f,T as v,F as I,R as k,C as D,S}from"./wp-components-CLkQS2qf.js";import"./vendor-monaco-cpVGocfO.js";import"./wp-core-BctBwZpo.js";import"./wp-i18n-Niz9RVma.js";import"./wp-element-CB9_H0_F.js";import"./vendor-ui-BkLtITBR.js";const w=["image","video"];_("o4o/cover",{title:"Cover",description:"Add an image or video with a text overlay",category:"media",icon:R,supports:{align:["left","center","right","wide","full"],anchor:!0,color:{text:!1,background:!1},spacing:{padding:!0},html:!1},attributes:{url:{type:"string"},id:{type:"number"},alt:{type:"string",default:""},hasParallax:{type:"boolean",default:!1},isRepeated:{type:"boolean",default:!1},dimRatio:{type:"number",default:50},overlayColor:{type:"string"},customOverlayColor:{type:"string"},focalPoint:{type:"object",default:{x:.5,y:.5}},minHeight:{type:"number",default:450},minHeightUnit:{type:"string",default:"px"},contentPosition:{type:"string",default:"center center"},isDark:{type:"boolean",default:!0}},edit:function({attributes:i,setAttributes:a}){const{url:t,hasParallax:d,isRepeated:p,dimRatio:m,overlayColor:r,customOverlayColor:x,focalPoint:s,minHeight:n,minHeightUnit:g,contentPosition:l,isDark:c}=i,j=r||x||"rgba(0, 0, 0, 0.5)",C=b({className:`o4o-cover-block ${c?"is-dark":"is-light"} ${d?"has-parallax":""}`,style:{backgroundImage:t?`url(${t})`:void 0,backgroundPosition:s?`${s.x*100}% ${s.y*100}%`:void 0,backgroundSize:p?"auto":"cover",backgroundRepeat:p?"repeat":"no-repeat",backgroundAttachment:d?"fixed":void 0,minHeight:`${n}${g}`,position:"relative",display:"flex",alignItems:l?.includes("top")?"flex-start":l?.includes("bottom")?"flex-end":"center",justifyContent:l?.includes("left")?"flex-start":l?.includes("right")?"flex-end":"center",padding:"60px 30px"}}),P=o=>{a({url:o.url,id:o.id,alt:o.alt})},N=()=>{a({url:void 0,id:void 0,alt:""})};return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsx(H,{onChange:o=>{a({contentPosition:o==="top"?"top center":o==="bottom"?"bottom center":"center center"})},value:l?.includes("top")?"top":l?.includes("bottom")?"bottom":"center"})}),e.jsxs($,{children:[e.jsxs(u,{title:"Media Settings",initialOpen:!0,children:[e.jsx(M,{children:e.jsx(O,{onSelect:P,allowedTypes:w,value:i.id,render:({open:o})=>e.jsxs("div",{children:[!t&&e.jsx(f,{onClick:o,variant:"primary",className:"mb-2",children:"Select Media"}),t&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t,alt:i.alt,className:"w-full mb-2"}),e.jsx(f,{onClick:o,variant:"secondary",className:"mr-2",children:"Replace"}),e.jsx(f,{onClick:N,variant:"secondary",isDestructive:!0,children:"Remove"})]})]})})}),t&&e.jsxs(e.Fragment,{children:[e.jsx(v,{label:"Fixed Background",checked:d,onChange:o=>a({hasParallax:o}),help:"Creates a parallax effect when scrolling",disabled:!1,className:"",__nextHasNoMarginBottom:!1}),e.jsx(v,{label:"Repeated Background",checked:p,onChange:o=>a({isRepeated:o}),disabled:!1,className:"",__nextHasNoMarginBottom:!1}),e.jsx(I,{label:"Focal Point",url:t,value:s||{x:.5,y:.5},onChange:o=>a({focalPoint:o})})]})]}),e.jsxs(u,{title:"Overlay",initialOpen:!1,children:[e.jsx(k,{label:"Opacity",value:m,onChange:o=>a({dimRatio:o||0}),min:0,max:100,step:10}),e.jsx("p",{className:"mb-2",children:"Overlay Color"}),e.jsx(D,{value:r||x,onChange:o=>a({customOverlayColor:o})}),e.jsx(v,{label:"Dark Text",checked:!c,onChange:o=>a({isDark:!o}),help:"Use dark text for light backgrounds",disabled:!1,className:"",__nextHasNoMarginBottom:!1})]}),e.jsx(u,{title:"Dimensions",initialOpen:!1,children:e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(k,{label:"Minimum Height",value:n,onChange:o=>a({minHeight:o||300}),min:50,max:1e3,step:10})}),e.jsx(S,{value:g,options:[{label:"px",value:"px"},{label:"vh",value:"vh"},{label:"%",value:"%"}],onChange:o=>a({minHeightUnit:o})})]})})]}),e.jsxs("div",{...C,children:[e.jsx("div",{className:"o4o-cover-block__overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:j,opacity:m/100,pointerEvents:"none"}}),e.jsx("div",{className:"o4o-cover-block__content",style:{position:"relative",zIndex:1,width:"100%",maxWidth:"800px"},children:e.jsx(h,{template:[["core/heading",{level:1,textAlign:"center",placeholder:"Add title...",style:{color:{text:c?"#ffffff":"#000000"}}}],["core/paragraph",{align:"center",placeholder:"Add description...",style:{color:{text:c?"#ffffff":"#000000"}}}]],renderAppender:h.ButtonBlockAppender})})]})]})},save:({attributes:y})=>{const{url:i,hasParallax:a,isRepeated:t,dimRatio:d,overlayColor:p,customOverlayColor:m,focalPoint:r,minHeight:x,minHeightUnit:s,contentPosition:n,isDark:g}=y,l=p||m||"rgba(0, 0, 0, 0.5)",c=b.save({className:`o4o-cover-block ${g?"is-dark":"is-light"} ${a?"has-parallax":""}`,style:{backgroundImage:i?`url(${i})`:void 0,backgroundPosition:r?`${r.x*100}% ${r.y*100}%`:void 0,backgroundSize:t?"auto":"cover",backgroundRepeat:t?"repeat":"no-repeat",backgroundAttachment:a?"fixed":void 0,minHeight:`${x}${s}`,position:"relative",display:"flex",alignItems:n?.includes("top")?"flex-start":n?.includes("bottom")?"flex-end":"center",justifyContent:n?.includes("left")?"flex-start":n?.includes("right")?"flex-end":"center",padding:"60px 30px"}});return e.jsxs("div",{...c,children:[e.jsx("div",{className:"o4o-cover-block__overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:l,opacity:d/100,pointerEvents:"none"}}),e.jsx("div",{className:"o4o-cover-block__content",style:{position:"relative",zIndex:1,width:"100%",maxWidth:"800px"},children:e.jsx(h.Content,{})})]})}});
