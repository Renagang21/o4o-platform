import{a1 as M,r as i,j as e,S as E,G as R,L as z,X as B,bX as F,bB as I,ca as q,cT as O,O as f,v as $,cI as v,dy as G,V as N,w as V}from"./vendor-react-D0umZ417.js";import{B as t,C as w,m as y}from"./page-gutenberg-Bk1xT4fF.js";import{a as A}from"./api-BF1rkR7N.js";import"./wp-lazy-CvxKE3_Q.js";import"./vendor-ui-BkLtITBR.js";import"./vendor-monaco-cpVGocfO.js";import"./vendor-query-CiZyx00p.js";import"./vendor-utils-DQ8F5vJI.js";const Y=()=>{const d=M(),[b,m]=i.useState([]),[P,x]=i.useState(!0),[n,C]=i.useState(""),[o,p]=i.useState("grid"),[r,h]=i.useState({type:"all",isPremium:"all",minRating:0,maxPrice:0}),[a,u]=i.useState(null),[c,g]=i.useState(null);i.useEffect(()=>{k()},[n,r]);const k=async()=>{try{x(!0);const s=new URLSearchParams;n&&s.append("q",n),r.type!=="all"&&s.append("type",r.type),r.isPremium!=="all"&&s.append("isPremium",r.isPremium),r.minRating>0&&s.append("minRating",r.minRating.toString()),r.maxPrice>0&&s.append("maxPrice",r.maxPrice.toString());const l=await A.get(`/v1/themes/marketplace?${s}`);m(l.data.data||j())}catch(s){console.error("Error fetching themes:",s),m(j())}finally{x(!1)}},j=()=>[{id:"1",slug:"modern-business",name:"Modern Business",description:"A clean and modern business theme with multiple layouts",version:"2.1.0",author:"O4O Themes",authorUrl:"https://o4o.com",screenshot:"/images/theme-modern-business.jpg",demoUrl:"https://demo.o4o.com/modern-business",type:"external",status:"active",isPremium:!0,price:49.99,features:["Responsive","SEO Optimized","WooCommerce Ready","Page Builder"],requiredPlugins:["woocommerce","elementor"],downloads:15234,rating:4.8,reviewCount:234,lastUpdate:"2024-01-15",license:"GPL v2",supportedLanguages:["en","ko","ja","zh"]},{id:"2",slug:"minimal-blog",name:"Minimal Blog",description:"Perfect for bloggers who love simplicity",version:"1.5.2",author:"Design Studio",authorUrl:"https://designstudio.com",screenshot:"/images/theme-minimal-blog.jpg",demoUrl:"https://demo.o4o.com/minimal-blog",type:"external",status:"active",isPremium:!1,downloads:8921,rating:4.5,reviewCount:156,lastUpdate:"2024-01-10",license:"MIT",supportedLanguages:["en","ko"]},{id:"3",slug:"ecommerce-pro",name:"E-Commerce Pro",description:"Advanced e-commerce theme with all features you need",version:"3.0.1",author:"Commerce Themes",authorUrl:"https://commercethemes.com",screenshot:"/images/theme-ecommerce-pro.jpg",demoUrl:"https://demo.o4o.com/ecommerce-pro",type:"external",status:"active",isPremium:!0,price:89.99,features:["Multi-vendor","Product Quick View","Advanced Filters","Wishlist"],requiredPlugins:["woocommerce","dokan"],downloads:5432,rating:4.9,reviewCount:89,lastUpdate:"2024-01-20",license:"Commercial",supportedLanguages:["en","ko","ja"]}],S=async s=>{try{g(s.id),await new Promise(l=>setTimeout(l,2e3)),N.success(`${s.name} 테마가 설치되었습니다`),d("/themes")}catch(l){console.error("Error installing theme:",l),N.error("테마 설치에 실패했습니다")}finally{g(null)}},U=s=>e.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(l=>e.jsx(V,{className:`w-4 h-4 ${l<=s?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},l)),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",s,")"]})]}),T=({theme:s})=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.screenshot||"/placeholder-theme.jpg",alt:s.name,className:"w-full h-48 object-cover rounded-t-lg"}),s.isPremium&&e.jsx("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"PREMIUM"})]}),e.jsxs(y,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[U(s.rating),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.reviewCount," reviews"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(v,{className:"w-4 h-4"}),s.downloads.toLocaleString()]}),e.jsxs("span",{className:"text-gray-600",children:["v",s.version]})]})]}),s.features&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:s.features.slice(0,3).map((l,L)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:l},L))}),e.jsxs("div",{className:"flex items-center justify-between",children:[s.isPremium&&s.price?e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",s.price]}):e.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"무료"}),e.jsxs("div",{className:"flex gap-2",children:[s.demoUrl&&e.jsx(t,{variant:"outline",size:"sm",onClick:l=>{l.stopPropagation(),window.open(s.demoUrl,"_blank")},children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx(t,{size:"sm",onClick:l=>{l.stopPropagation(),u(s)},disabled:c===s.id,children:c===s.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(G,{className:"w-4 h-4"})})]})]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"테마 마켓플레이스"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"프리미엄 테마와 무료 테마를 찾아보세요"})]}),e.jsx(t,{onClick:()=>d("/themes"),children:"내 테마 관리"})]}),e.jsx(w,{children:e.jsx(y,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"테마 검색...",value:n,onChange:s=>C(s.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:r.type,onChange:s=>h({...r,type:s.target.value}),className:"px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"all",children:"모든 타입"}),e.jsx("option",{value:"external",children:"외부 테마"}),e.jsx("option",{value:"custom",children:"커스텀 테마"})]}),e.jsxs("select",{value:r.isPremium,onChange:s=>h({...r,isPremium:s.target.value}),className:"px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"all",children:"모든 가격"}),e.jsx("option",{value:"false",children:"무료"}),e.jsx("option",{value:"true",children:"프리미엄"})]}),e.jsxs("div",{className:"flex gap-1 border rounded-lg",children:[e.jsx(t,{variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>p("grid"),children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx(t,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>p("list"),children:e.jsx(z,{className:"w-4 h-4"})})]})]})]})})}),P?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):e.jsx("div",{className:o==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:b.map(s=>e.jsx(T,{theme:s},s.id))}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:a.name}),e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>u(null),children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx("img",{src:a.screenshot||"/placeholder-theme.jpg",alt:a.name,className:"w-full rounded-lg"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:a.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm",children:["작성자: ",a.author]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm",children:["버전: ",a.version]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm",children:["최종 업데이트: ",a.lastUpdate]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm",children:["지원 언어: ",a.supportedLanguages?.join(", ")]})]})]}),a.features&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"주요 기능"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.features.map((s,l)=>e.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:s},l))})]}),a.requiredPlugins&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"필수 플러그인"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.requiredPlugins.map((s,l)=>e.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm",children:s},l))})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[a.demoUrl&&e.jsxs(t,{variant:"outline",onClick:()=>window.open(a.demoUrl,"_blank"),children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"미리보기"]}),e.jsx(t,{onClick:()=>S(a),disabled:c===a.id,className:"flex-1",children:c===a.id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"설치 중..."]}):e.jsx(e.Fragment,{children:a.isPremium?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"$",a.price," 구매"]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"무료 설치"]})})})]})]})]})]})})})]})};export{Y as default};
