import{r as e,j as s,bE as a,bO as t,bf as l,dp as i,cJ as n,E as r,bg as c,bK as o,bj as d,bU as m,C as x,bd as h,be as p,bk as u,bh as j,bi as g,c$ as b,dI as v,cT as N,bM as y,dF as f,bA as w,dG as k,cm as C,cf as S,dt as P,bF as z,c1 as A,bC as T,bG as L,a as U,bL as D,bJ as B,e9 as F,b_ as E,b$ as O,e3 as M,u as H,A as I,db as R,dc as G,S as q,bN as V}from"./vendor-react-BQ6HOJoh.js";import{c as W,d as $,e as K,f as J,B as Q,g as Y,L as _,S as X,h as Z,i as ee,j as se,k as ae,I as te,m as le,T as ie}from"./page-template-editor-C7FodHrK.js";import{aL as ne,aH as re,az as ce,aA as oe,aB as de,aC as me,aD as xe,aE as he,ak as pe,al as ue,am as je,av as ge,an as be,aw as ve,aM as Ne,aN as ye,ao as fe,ap as we,aq as ke,at as Ce,as as Se,ay as Pe,aO as ze,aP as Ae,aQ as Te,aR as Le,aS as Ue}from"./wp-misc-DS9m4_P2.js";import{C as De}from"./checkbox-BfnqKnJs.js";import"./wp-block-editor-a11y-DrduSWFW.js";import"./wp-block-editor-misc-pHCPYvR2.js";import"./wp-block-editor-api-Buev8_QU.js";import"./wp-block-editor-utils-M5qXzE1L.js";import"./wp-block-editor-colors-D38h-Odz.js";import"./wp-blocks-core-6vwQKPfS.js";import"./wp-block-editor-clipboard-Dg0Y1gQ6.js";import"./wp-block-editor-store-B-g1aSix.js";import"./vendor-ui-CrFdsnXa.js";import"./wp-block-editor-dnd-BYoS8-II.js";import"./wp-block-editor-library-BpQvynjE.js";import"./wp-block-editor-menus-BTQ2wZ-f.js";import"./wp-block-editor-keyboard-CeHTtvP5.js";import"./wp-block-editor-typography-Bl_1REQP.js";import"./wp-block-editor-spacing-BD_2CpN7.js";import"./wp-block-editor-core-DL280tSA.js";import"./wp-block-editor-selection-CC4tJpUu.js";import"./wp-block-editor-formats-CLXkimOp.js";import"./wp-block-editor-inline-CpXpUhQU.js";import"./wp-block-editor-ui-B8YE_4QL.js";import"./wp-block-editor-transforms-jLcKa8Hv.js";import"./wp-block-editor-preview-iw2Xu1ib.js";import"./wp-block-editor-global-styles-CV5-K6QF.js";import"./wp-block-editor-borders-BH1devca.js";import"./wp-block-editor-patterns-BXdHo9lm.js";import"./wp-block-editor-navigation-BFSoKzg0.js";import"./wp-block-editor-media-Bg-JiQDT.js";import"./wp-api-BeoadipR.js";import"./wp-i18n-DGPtqsXY.js";import"./wp-core-Y-jV-nrZ.js";import"./vendor-monaco-BxJH8uUv.js";import"./wp-block-editor-upload-BLw1R9wP.js";import"./vendor-utils-D-spY-QM.js";import"./wp-block-editor-templates-o1_wAMb9.js";import"./vendor-query-LYSOqK5P.js";import"./wp-data-BmtL8k4r.js";import"./wp-components-CeQNCpMW.js";const Be=e.createContext(null),Fe=e.forwardRef(({open:a,defaultOpen:t=!1,onOpenChange:l,children:i,className:n,...r},c)=>{const[o,d]=e.useState(t),m=a??o;return s.jsx(Be.Provider,{value:{open:m,onOpenChange:e=>{void 0===a&&d(e),l?.(e)}},children:s.jsx("div",{ref:c,className:n,...r,children:i})})}),Ee=e.forwardRef(({onClick:a,...t},l)=>{const i=e.useContext(Be);if(!i)throw new Error("CollapsibleTrigger must be used within Collapsible");return s.jsx("button",{ref:l,onClick:e=>{a?.(e),i.onOpenChange(!i.open)},"aria-expanded":i.open,...t})}),Oe=e.forwardRef(({className:a,style:t,children:l,...i},n)=>{const r=e.useContext(Be);if(!r)throw new Error("CollapsibleContent must be used within Collapsible");return r.open?s.jsx("div",{ref:n,className:W("overflow-hidden","data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up",a),"data-state":r.open?"open":"closed",style:{...t},...i,children:l}):null});Fe.displayName="Collapsible",Ee.displayName="CollapsibleTrigger",Oe.displayName="CollapsibleContent";const Me=({title:a,defaultOpen:t=!0,children:l})=>{const[i,n]=e.useState(t);return s.jsxs(Fe,{open:i,onOpenChange:n,children:[s.jsxs(Ee,{className:"flex items-center justify-between w-full p-4 hover:bg-gray-50 transition-colors",children:[s.jsx("h3",{className:"font-medium text-sm",children:a}),i?s.jsx(x,{className:"h-4 w-4 text-gray-500"}):s.jsx(h,{className:"h-4 w-4 text-gray-500"})]}),s.jsx(Oe,{className:"px-4 pb-4",children:l})]})},He=({activeTab:x="document",postSettings:h,blockSettings:p,onPostSettingsChange:u,onBlockSettingsChange:j,onClose:g})=>{const[b,v]=e.useState(""),[N,y]=e.useState(!1),[f,w]=e.useState(""),k=()=>{b.trim()&&(u({tags:[...h.tags,b.trim()]}),v(""))};return s.jsxs("div",{className:"w-80 h-full bg-white border-l flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx($,{value:x,className:"w-full",children:s.jsxs(K,{className:"grid w-full grid-cols-2",children:[s.jsxs(J,{value:"document",className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"Document"]}),s.jsxs(J,{value:"block",className:"flex items-center gap-2",children:[s.jsx(t,{className:"h-4 w-4"}),"Block"]})]})}),g&&s.jsx(Q,{variant:"ghost",size:"icon",className:"ml-2",onClick:g,children:s.jsx(l,{className:"h-4 w-4"})})]}),s.jsx(ne,{className:"flex-1",children:s.jsxs($,{value:x,className:"w-full",children:[s.jsxs(Y,{value:"document",className:"m-0",children:[s.jsx(Me,{title:"Status & visibility",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_,{className:"text-xs",children:"Visibility"}),s.jsxs(X,{value:h.visibility,onValueChange:e=>u({visibility:e}),children:[s.jsx(Z,{className:"w-full mt-1",children:s.jsx(ee,{})}),s.jsxs(se,{children:[s.jsx(ae,{value:"public",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i,{className:"h-4 w-4"}),"Public"]})}),s.jsx(ae,{value:"private",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n,{className:"h-4 w-4"}),"Private"]})}),s.jsx(ae,{value:"password",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(r,{className:"h-4 w-4"}),"Password protected"]})})]})]})]}),s.jsxs("div",{children:[s.jsx(_,{className:"text-xs",children:"Publish"}),s.jsx(te,{type:"datetime-local",value:h.publishDate,onChange:e=>u({publishDate:e.target.value}),className:"mt-1"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_,{htmlFor:"sticky",className:"text-xs",children:"Stick to the top of the blog"}),s.jsx(le,{id:"sticky",checked:h.sticky,onCheckedChange:e=>u({sticky:e})})]}),s.jsx("div",{className:"pt-2 border-t",children:s.jsx(Q,{variant:"link",className:"p-0 h-auto text-red-600 hover:text-red-700",children:"Move to trash"})})]})}),s.jsx(Me,{title:"Permalink",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(_,{className:"text-xs",children:"URL Slug"}),s.jsx(te,{value:h.slug,onChange:e=>u({slug:e.target.value}),placeholder:"post-url-slug"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["The last part of the URL. Read more about ",s.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"permalinks"})]})]})}),s.jsx(Me,{title:"Categories",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(Q,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>y(!N),children:[s.jsx(c,{className:"h-4 w-4 mr-2"}),"Search categories"]}),N&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-md shadow-lg z-10",children:s.jsx(te,{autoFocus:!0,placeholder:"Search...",value:f,onChange:e=>w(e.target.value),className:"border-0 focus-visible:ring-0"})})]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[{id:"1",name:"News",slug:"news"},{id:"2",name:"Tutorials",slug:"tutorials"},{id:"3",name:"Updates",slug:"updates"},{id:"4",name:"Announcements",slug:"announcements"}].filter(e=>e.name.toLowerCase().includes(f.toLowerCase())).map(e=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[s.jsx("input",{type:"checkbox",checked:h.categories.includes(e.id),onChange:()=>(e=>{const s=h.categories.includes(e);u(s?{categories:h.categories.filter(s=>s!==e)}:{categories:[...h.categories,e]})})(e.id),className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm",children:e.name})]},e.id))}),s.jsxs(Q,{variant:"link",size:"sm",className:"p-0 h-auto",children:[s.jsx(o,{className:"h-4 w-4 mr-1"}),"Add New Category"]})]})}),s.jsx(Me,{title:"Tags",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{placeholder:"Add new tag",value:b,onChange:e=>v(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),k())}}),s.jsx(Q,{size:"sm",onClick:k,children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.tags.map(e=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-md text-sm",children:[e,s.jsx("button",{onClick:()=>{return s=e,void u({tags:h.tags.filter(e=>e!==s)});var s},className:"hover:text-red-600",children:s.jsx(l,{className:"h-3 w-3"})})]},e))})]})}),s.jsx(Me,{title:"Featured image",children:s.jsx("div",{className:"space-y-3",children:h.featuredImage?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:h.featuredImage,alt:"Featured",className:"w-full rounded-md"}),s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md flex items-center justify-center gap-2",children:[s.jsx(Q,{size:"sm",variant:"secondary",children:"Replace"}),s.jsx(Q,{size:"sm",variant:"secondary",onClick:()=>u({featuredImage:void 0}),children:"Remove"})]})]}):s.jsxs(Q,{variant:"outline",className:"w-full",children:[s.jsx(d,{className:"h-4 w-4 mr-2"}),"Set featured image"]})})}),s.jsx(Me,{title:"Excerpt",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{placeholder:"Write an excerpt (optional)",value:h.excerpt,onChange:e=>u({excerpt:e.target.value}),rows:4}),s.jsx("p",{className:"text-xs text-gray-500",children:"Write an excerpt (optional)"})]})}),s.jsx(Me,{title:"Discussion",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_,{htmlFor:"comments",className:"text-xs",children:"Allow comments"}),s.jsx(le,{id:"comments",checked:h.commentStatus,onCheckedChange:e=>u({commentStatus:e})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_,{htmlFor:"pingbacks",className:"text-xs",children:"Allow pingbacks & trackbacks"}),s.jsx(le,{id:"pingbacks",checked:h.pingStatus,onCheckedChange:e=>u({pingStatus:e})})]})]})})]}),s.jsx(Y,{value:"block",className:"m-0",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Me,{title:"Block settings",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[s.jsx("p",{className:"text-sm font-medium",children:p.type}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Block ID: ",p.id]})]})})}),"heading"===p.type&&s.jsx(Me,{title:"Typography",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_,{className:"text-xs",children:"Level"}),s.jsxs(X,{value:p.attributes?.level||"h2",onValueChange:e=>j?.({attributes:{...p.attributes,level:e}}),children:[s.jsx(Z,{className:"w-full mt-1",children:s.jsx(ee,{})}),s.jsxs(se,{children:[s.jsx(ae,{value:"h1",children:"Heading 1"}),s.jsx(ae,{value:"h2",children:"Heading 2"}),s.jsx(ae,{value:"h3",children:"Heading 3"}),s.jsx(ae,{value:"h4",children:"Heading 4"}),s.jsx(ae,{value:"h5",children:"Heading 5"}),s.jsx(ae,{value:"h6",children:"Heading 6"})]})]})]}),s.jsxs("div",{children:[s.jsx(_,{className:"text-xs",children:"Alignment"}),s.jsx("div",{className:"flex gap-1 mt-1",children:["left","center","right"].map(e=>s.jsx(Q,{variant:p.attributes?.align===e?"default":"outline",size:"sm",onClick:()=>j?.({attributes:{...p.attributes,align:e}}),children:e},e))})]})]})}),s.jsx(Me,{title:"Advanced",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_,{className:"text-xs",children:"Additional CSS class(es)"}),s.jsx(te,{placeholder:"custom-class",value:p.attributes?.className||"",onChange:e=>j?.({attributes:{...p.attributes,className:e.target.value}}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(_,{className:"text-xs",children:"HTML anchor"}),s.jsx(te,{placeholder:"anchor-id",value:p.attributes?.anchor||"",onChange:e=>j?.({attributes:{...p.attributes,anchor:e.target.value}}),className:"mt-1"})]})]})})]}):s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(m,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"Select a block to see its settings"})]})})]})})]})},Ie=({mode:t="library",onSelect:i,multiple:n=!1,accept:m,onClose:x})=>{const[h,C]=e.useState("grid"),[S,P]=e.useState([]),[z,A]=e.useState(""),[T,L]=e.useState("all"),[U,D]=e.useState(null),[B,F]=e.useState(!1),[E,O]=e.useState(!1),[M,H]=e.useState(null),[I,R]=e.useState(0),[G,q]=e.useState(!1),[V,$]=e.useState([{id:"1",name:"product-image-1.jpg",url:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=200",type:"image",mimeType:"image/jpeg",size:1024e3,dimensions:{width:1920,height:1080},uploadedAt:new Date("2024-01-15"),uploadedBy:"Admin User",tags:["product","headphones"],alt:"Black headphones on yellow background"},{id:"2",name:"banner-hero.png",url:"https://images.unsplash.com/photo-1524634126442-357e0eac3c14?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1524634126442-357e0eac3c14?w=200",type:"image",mimeType:"image/png",size:2048e3,dimensions:{width:2560,height:1440},uploadedAt:new Date("2024-01-10"),uploadedBy:"Admin User",tags:["banner","hero"],alt:"Store banner image"}]),[K]=e.useState([{id:"folder-1",name:"Products",createdAt:new Date("2024-01-01"),itemCount:45},{id:"folder-2",name:"Banners",createdAt:new Date("2024-01-05"),itemCount:12}]),J=e.useCallback(e=>{q(!0),R(0);const s=setInterval(()=>{R(a=>{if(a>=100){clearInterval(s),q(!1);const a=e.map((e,s)=>({id:`new-${Date.now()}-${s}`,name:e.name,url:URL.createObjectURL(e),type:e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":"document",mimeType:e.type,size:e.size,uploadedAt:new Date,uploadedBy:"Current User",folderId:U||void 0}));return $(e=>[...a,...e]),100}return a+10})},200)},[U]),{getRootProps:Y,getInputProps:le,isDragActive:ie}=p({onDrop:J,accept:m?{[m]:[]}:void 0,multiple:n}),pe=V.filter(e=>{const s=e.name.toLowerCase().includes(z.toLowerCase())||e.alt?.toLowerCase().includes(z.toLowerCase())||e.tags?.some(e=>e.toLowerCase().includes(z.toLowerCase())),a="all"===T||e.type===T,t=!U||e.folderId===U;return s&&a&&t}),ue=e=>{"picker"===t&&P(n?s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]:[e])},je=e=>{switch(e){case"image":return d;case"video":return k;case"audio":return w;case"document":return a;default:return f}},ge=e=>{if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]};return s.jsxs("div",{className:"h-full flex flex-col bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>F(!0),children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"Upload"]}),"picker"===t&&s.jsxs(Q,{size:"sm",onClick:()=>{const e=V.filter(e=>S.includes(e.id));i?.(e),x?.()},disabled:0===S.length,children:["Select ",S.length>0&&`(${S.length})`]}),x&&s.jsx(Q,{variant:"ghost",size:"icon",onClick:x,children:s.jsx(l,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(te,{placeholder:"Search media...",value:z,onChange:e=>A(e.target.value),className:"pl-10 w-64"})]}),s.jsxs(X,{value:T,onValueChange:L,children:[s.jsx(Z,{className:"w-32",children:s.jsx(ee,{})}),s.jsxs(se,{children:[s.jsx(ae,{value:"all",children:"All types"}),s.jsx(ae,{value:"image",children:"Images"}),s.jsx(ae,{value:"video",children:"Videos"}),s.jsx(ae,{value:"audio",children:"Audio"}),s.jsx(ae,{value:"document",children:"Documents"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"grid"===h?"default":"ghost",size:"icon",onClick:()=>C("grid"),children:s.jsx(j,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"list"===h?"default":"ghost",size:"icon",onClick:()=>C("list"),children:s.jsx(g,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex-1 flex",children:[s.jsxs("div",{className:"w-64 border-r p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-medium text-sm",children:"Folders"}),s.jsx(Q,{size:"icon",variant:"ghost",className:"h-6 w-6",children:s.jsx(o,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>D(null),className:W("w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm hover:bg-gray-100",!U&&"bg-gray-100"),children:[s.jsx(b,{className:"h-4 w-4"}),s.jsx("span",{children:"All Media"}),s.jsx("span",{className:"ml-auto text-xs text-gray-500",children:V.length})]}),K.map(e=>s.jsxs("button",{onClick:()=>D(e.id),className:W("w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm hover:bg-gray-100",U===e.id&&"bg-gray-100"),children:[U===e.id?s.jsx(v,{className:"h-4 w-4"}):s.jsx(b,{className:"h-4 w-4"}),s.jsx("span",{children:e.name}),s.jsx("span",{className:"ml-auto text-xs text-gray-500",children:e.itemCount})]},e.id))]}),s.jsxs("div",{className:"mt-8 pt-8 border-t",children:[s.jsx("h3",{className:"font-medium text-sm mb-4",children:"Storage"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Used"}),s.jsx("span",{className:"font-medium",children:"2.5 GB"})]}),s.jsx(re,{value:25,className:"h-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"2.5 GB of 10 GB used"})]})]})]}),s.jsxs("div",{className:"flex-1 p-4",children:[G&&s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Uploading files..."}),s.jsxs("span",{className:"text-sm text-gray-600",children:[I,"%"]})]}),s.jsx(re,{value:I,className:"h-2"})]}),s.jsx(ne,{className:"h-full",children:"grid"===h?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:pe.map(e=>{const a=je(e.type),l=S.includes(e.id);return s.jsxs("div",{onClick:()=>ue(e.id),className:W("group relative cursor-pointer rounded-lg border-2 overflow-hidden transition-all",l?"border-blue-500 shadow-lg":"border-transparent hover:border-gray-300"),children:[s.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:["image"===e.type&&e.thumbnailUrl?s.jsx("img",{src:e.thumbnailUrl,alt:e.alt||e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(a,{className:"h-12 w-12 text-gray-400"})}),"picker"===t&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(De,{checked:l,className:"bg-white"})}),s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[s.jsx(Q,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:e=>{e.stopPropagation()},children:s.jsx(r,{className:"h-4 w-4"})}),s.jsx(Q,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:s=>{s.stopPropagation(),H(e),O(!0)},children:s.jsx(N,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:e.name}),s.jsx("p",{className:"text-xs text-gray-500",children:ge(e.size)})]})]},e.id)})}):s.jsx("div",{className:"space-y-2",children:pe.map(e=>{const a=je(e.type),l=S.includes(e.id);return s.jsxs("div",{onClick:()=>ue(e.id),className:W("flex items-center gap-4 p-3 rounded-lg border cursor-pointer transition-all",l?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:["picker"===t&&s.jsx(De,{checked:l}),s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:"image"===e.type&&e.thumbnailUrl?s.jsx("img",{src:e.thumbnailUrl,alt:e.alt||e.name,className:"w-full h-full object-cover rounded"}):s.jsx(a,{className:"h-6 w-6 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsx("span",{children:ge(e.size)}),e.dimensions&&s.jsxs("span",{children:[e.dimensions.width," × ",e.dimensions.height]}),s.jsx("span",{children:new Date(e.uploadedAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:s=>{s.stopPropagation(),H(e),O(!0)},children:s.jsx(N,{className:"h-4 w-4"})}),s.jsx(Q,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:e=>{e.stopPropagation()},children:s.jsx(y,{className:"h-4 w-4"})})]})]},e.id)})})})]})]}),s.jsx(ce,{open:B,onOpenChange:F,children:s.jsxs(oe,{className:"max-w-2xl",children:[s.jsxs(de,{children:[s.jsx(me,{children:"Upload Files"}),s.jsx(xe,{children:"Drag and drop files here or click to browse"})]}),s.jsxs("div",{...Y(),className:W("border-2 border-dashed rounded-lg p-12 text-center cursor-pointer transition-colors",ie?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[s.jsx("input",{...le()}),s.jsx(u,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:ie?"Drop files here":"Drag & drop files here"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse"}),s.jsx(Q,{variant:"outline",children:"Select Files"})]}),s.jsx(he,{children:s.jsx(Q,{variant:"outline",onClick:()=>F(!1),children:"Cancel"})})]})}),s.jsx(ce,{open:E,onOpenChange:O,children:s.jsxs(oe,{className:"max-w-2xl",children:[s.jsx(de,{children:s.jsx(me,{children:"Edit Media Details"})}),M&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx("div",{children:"image"===M.type?s.jsx("img",{src:M.url,alt:M.alt||M.name,className:"w-full rounded-lg"}):s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:e.createElement(je(M.type),{className:"h-24 w-24 text-gray-400"})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_,{children:"File name"}),s.jsx(te,{value:M.name,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(_,{children:"Alt text"}),s.jsx(te,{value:M.alt||"",placeholder:"Describe this media",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(_,{children:"Caption"}),s.jsx(te,{value:M.caption||"",placeholder:"Add a caption",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(_,{children:"Description"}),s.jsx("textarea",{value:M.description||"",placeholder:"Add a description",className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2",rows:3})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"File info"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("p",{children:["Type: ",M.mimeType]}),s.jsxs("p",{children:["Size: ",ge(M.size)]}),M.dimensions&&s.jsxs("p",{children:["Dimensions: ",M.dimensions.width," × ",M.dimensions.height]}),s.jsxs("p",{children:["Uploaded: ",new Date(M.uploadedAt).toLocaleString()]}),s.jsxs("p",{children:["Uploaded by: ",M.uploadedBy]})]})]})]})]}),s.jsxs(he,{children:[s.jsx(Q,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),s.jsx(Q,{onClick:()=>O(!1),children:"Save Changes"})]})]})})]})},Re=[{id:"landing-1",name:"SaaS Landing Page",description:"Modern landing page for SaaS products with hero, features, pricing, and testimonials",category:"landing",icon:C,tags:["saas","startup","modern"],blocks:[{type:"hero",content:{title:"Build Better Products Faster"}},{type:"features",content:{columns:3}},{type:"pricing",content:{plans:3}},{type:"testimonials",content:{count:3}},{type:"cta",content:{title:"Start Your Free Trial"}}]},{id:"product-1",name:"Product Showcase",description:"Elegant product page with gallery, description, and purchase options",category:"product",icon:S,tags:["ecommerce","product","shop"],blocks:[{type:"breadcrumb",content:{}},{type:"product-gallery",content:{}},{type:"product-info",content:{}},{type:"product-tabs",content:{}},{type:"related-products",content:{}}]},{id:"blog-1",name:"Blog Article",description:"Clean blog post layout with sidebar and comments",category:"blog",icon:P,tags:["blog","article","content"],blocks:[{type:"post-header",content:{}},{type:"post-content",content:{}},{type:"author-bio",content:{}},{type:"related-posts",content:{}},{type:"comments",content:{}}]},{id:"about-1",name:"About Us",description:"Company about page with team, values, and history",category:"page",icon:z,tags:["about","company","team"],isPro:!0,blocks:[{type:"hero",content:{title:"Our Story"}},{type:"text-image",content:{}},{type:"team-grid",content:{}},{type:"values",content:{}},{type:"timeline",content:{}}]},{id:"contact-1",name:"Contact Page",description:"Contact page with form, map, and office locations",category:"page",icon:A,tags:["contact","form","location"],blocks:[{type:"contact-hero",content:{}},{type:"contact-form",content:{}},{type:"office-locations",content:{}},{type:"map",content:{}}]}],Ge=[{id:"hero-1",name:"Hero with CTA",category:"hero",blocks:[{type:"heading",content:{text:"Welcome to Our Platform"}},{type:"paragraph",content:{text:"Build amazing things with our tools"}},{type:"buttons",content:{}}]},{id:"features-1",name:"3 Column Features",category:"features",blocks:[{type:"heading",content:{text:"Our Features"}},{type:"columns",content:{count:3}}]},{id:"cta-1",name:"Centered CTA",category:"cta",blocks:[{type:"cta",content:{alignment:"center"}}]},{id:"testimonial-1",name:"Testimonial Carousel",category:"testimonial",blocks:[{type:"testimonial-carousel",content:{}}]},{id:"pricing-1",name:"3 Tier Pricing",category:"pricing",blocks:[{type:"pricing-table",content:{plans:3}}]}],qe=({onSelectTemplate:t,onSelectPattern:l,mode:i="both"})=>{const[n,d]=e.useState("templates"),[m,x]=e.useState(""),[h,p]=e.useState("all"),[u,j]=e.useState([]),[g,b]=e.useState(null),v=[{id:"all",name:"All Templates",icon:T},{id:"landing",name:"Landing Pages",icon:C},{id:"product",name:"Product Pages",icon:S},{id:"blog",name:"Blog Posts",icon:P},{id:"page",name:"Pages",icon:a}],N=[{id:"all",name:"All Patterns",icon:T},{id:"header",name:"Headers",icon:T},{id:"hero",name:"Hero Sections",icon:B},{id:"features",name:"Features",icon:S},{id:"cta",name:"Call to Action",icon:F},{id:"testimonial",name:"Testimonials",icon:E},{id:"pricing",name:"Pricing",icon:O},{id:"footer",name:"Footers",icon:T}],y=Re.filter(e=>{const s=e.name.toLowerCase().includes(m.toLowerCase())||e.description.toLowerCase().includes(m.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(m.toLowerCase())),a="all"===h||e.category===h;return s&&a}),f=Ge.filter(e=>{const s=e.name.toLowerCase().includes(m.toLowerCase()),a="all"===h||e.category===h;return s&&a});return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Content Templates & Patterns"}),s.jsx("p",{className:"text-gray-600",children:"Choose from pre-designed templates or mix and match patterns"})]}),s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"relative",children:[s.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(te,{placeholder:"Search templates and patterns...",value:m,onChange:e=>x(e.target.value),className:"pl-10"})]})}),s.jsxs($,{value:n,onValueChange:e=>d(e),className:"flex-1 flex flex-col",children:["both"===i&&s.jsxs(K,{className:"mx-6",children:[s.jsx(J,{value:"templates",children:"Templates"}),s.jsx(J,{value:"patterns",children:"Patterns"})]}),s.jsxs(Y,{value:"templates",className:"flex-1 flex m-0",children:[s.jsxs("div",{className:"w-64 border-r p-4",children:[s.jsx("h3",{className:"font-medium text-sm mb-4",children:"Categories"}),s.jsx("div",{className:"space-y-1",children:v.map(e=>s.jsxs("button",{onClick:()=>p(e.id),className:W("w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",h===e.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100"),children:[s.jsx(e.icon,{className:"h-4 w-4"}),s.jsx("span",{children:e.name})]},e.id))})]}),s.jsx(ne,{className:"flex-1 p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(e=>{const a=e.icon,l=u.includes(e.id);return s.jsxs(pe,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(a,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx(je,{className:"text-lg",children:e.name}),e.isPro&&s.jsx(ge,{variant:"secondary",className:"mt-1",children:"PRO"})]})]}),s.jsx(Q,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{return s=e.id,void j(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},children:s.jsx(L,{className:W("h-4 w-4",l&&"fill-red-500 text-red-500")})})]})}),s.jsxs(be,{children:[s.jsx(ve,{children:e.description}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:e.tags.map(e=>s.jsx(ge,{variant:"outline",className:"text-xs",children:e},e))}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Contains:"}),s.jsxs("p",{className:"text-sm",children:[e.blocks.length," blocks"]})]})]}),s.jsxs(Ne,{className:"gap-2",children:[s.jsx(Q,{className:"flex-1",onClick:()=>t?.(e),children:"Use Template"}),s.jsx(Q,{variant:"outline",size:"icon",onClick:()=>{},children:s.jsx(r,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"outline",size:"icon",onClick:()=>{return s=e.id,navigator.clipboard.writeText(s),b(s),void setTimeout(()=>b(null),2e3);var s},children:g===e.id?s.jsx(U,{className:"h-4 w-4 text-green-600"}):s.jsx(D,{className:"h-4 w-4"})})]})]},e.id)})})})]}),s.jsxs(Y,{value:"patterns",className:"flex-1 flex m-0",children:[s.jsxs("div",{className:"w-64 border-r p-4",children:[s.jsx("h3",{className:"font-medium text-sm mb-4",children:"Pattern Types"}),s.jsx("div",{className:"space-y-1",children:N.map(e=>s.jsxs("button",{onClick:()=>p(e.id),className:W("w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",h===e.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100"),children:[s.jsx(e.icon,{className:"h-4 w-4"}),s.jsx("span",{children:e.name})]},e.id))}),s.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[s.jsx(M,{className:"h-4 w-4"}),"Pro Tip"]}),s.jsx("p",{className:"text-xs text-gray-700",children:"Combine multiple patterns to create your own unique layouts. Patterns are reusable across all your pages."})]})]}),s.jsxs(ne,{className:"flex-1 p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(e=>s.jsx(pe,{className:"cursor-pointer hover:shadow-md transition-all hover:scale-105",onClick:()=>l?.(e),children:s.jsxs(be,{className:"p-6",children:[s.jsx("div",{className:"aspect-video bg-gray-100 rounded-md mb-4 flex items-center justify-center",children:s.jsx(T,{className:"h-12 w-12 text-gray-400"})}),s.jsx("h4",{className:"font-medium",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.blocks.length," blocks"]})]})},e.id))}),s.jsx(pe,{className:"mt-6 border-dashed",children:s.jsxs(be,{className:"p-12 text-center",children:[s.jsx(o,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Create Custom Pattern"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Save your own block combinations as reusable patterns"}),s.jsx(Q,{variant:"outline",children:"Create Pattern"})]})})]})]})]})]})},Ve=({block:e,isEditing:a,onUpdate:t})=>{switch(e.type){case"cta":return s.jsx(Ue,{content:e.content,onUpdate:t,isEditing:a});case"pricing":return s.jsx(Le,{content:e.content,onUpdate:t,isEditing:a});case"testimonial":return s.jsx(Te,{content:e.content,onUpdate:t,isEditing:a});case"rating":return s.jsx(Ae,{content:e.content,onUpdate:t,isEditing:a});case"infobox":return s.jsx(ze,{content:e.content,onUpdate:t,isEditing:a});default:return null}},We=()=>{const i=H(),[n,c]=e.useState(""),[o,m]=e.useState([]),[x,h]=e.useState(!0),[p,u]=e.useState("document"),[j,g]=e.useState(null),[b,v]=e.useState(!1),[N,y]=e.useState(!1),[f,w]=e.useState(!1),[k,C]=e.useState(null),[S,P]=e.useState(!1);e.useEffect(()=>{ye().then(()=>{P(!0)})},[]);const[z,A]=e.useState({status:"draft",visibility:"public",publishDate:(new Date).toISOString().slice(0,16),author:"Admin User",featuredImage:void 0,excerpt:"",slug:"",categories:[],tags:[],template:"default",commentStatus:!0,pingStatus:!0,sticky:!1,format:"standard"}),L=async(e=!1)=>{w(!0),setTimeout(()=>{w(!1),C(new Date),e&&A(e=>({...e,status:"publish"}))},1e3)};return S?s.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[s.jsxs("div",{className:"bg-white border-b px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>i(-1),children:s.jsx(I,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-5 w-5 text-gray-600"}),s.jsx(te,{placeholder:"Add title",value:n,onChange:e=>c(e.target.value),className:"text-2xl font-bold border-0 focus-visible:ring-0 p-0"})]}),s.jsx(ge,{variant:"publish"===z.status?"default":"secondary",children:z.status}),k&&s.jsxs("span",{className:"text-sm text-gray-500",children:["Last saved: ",k.toLocaleTimeString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>y(!0),children:[s.jsx(T,{className:"h-4 w-4 mr-2"}),"Templates"]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>v(!0),children:[s.jsx(d,{className:"h-4 w-4 mr-2"}),"Media"]}),s.jsxs("div",{className:"flex items-center gap-1 px-2",children:[s.jsx(Q,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(R,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(G,{className:"h-4 w-4"})})]}),s.jsxs(Q,{variant:"outline",size:"sm",children:[s.jsx(r,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsx(Q,{size:"sm",onClick:()=>L(!1),disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(q,{className:"h-4 w-4 mr-2"}),"Save Draft"]})}),s.jsx(Q,{size:"sm",variant:"default",onClick:()=>L(!0),disabled:f,children:"publish"===z.status?"Update":"Publish"}),s.jsxs(fe,{children:[s.jsx(we,{children:s.jsx(Q,{variant:"ghost",size:"icon",children:s.jsx(V,{className:"h-4 w-4"})})}),s.jsxs(ke,{align:"end",children:[s.jsx(Ce,{children:"Copy all blocks"}),s.jsx(Ce,{children:"Export as HTML"}),s.jsx(Se,{}),s.jsx(Ce,{children:"Keyboard shortcuts"}),s.jsx(Ce,{children:"Help"})]})]}),s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>h(!x),children:x?s.jsx(l,{className:"h-4 w-4"}):s.jsx(t,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-auto",children:[s.jsx(Pe,{initialBlocks:o,onChange:m}),s.jsx("div",{className:"max-w-4xl mx-auto px-12 pb-8",children:o.map(e=>(e=>["cta","pricing","testimonial","rating","infobox"].includes(e.type)?s.jsx("div",{className:W("mb-4 transition-all",j?.id===e.id&&"ring-2 ring-blue-500 ring-offset-2 rounded-lg"),onClick:()=>{g(e),u("block")},children:s.jsx(Ve,{block:e,isEditing:!0,onUpdate:s=>{m(o.map(a=>a.id===e.id?{...a,content:s}:a))}})},e.id):null)(e))})]}),x&&s.jsx(He,{activeTab:p,postSettings:z,blockSettings:j,onPostSettingsChange:e=>A(s=>({...s,...e})),onBlockSettingsChange:e=>{if(j){const s={...j,...e};m(o.map(e=>e.id===j.id?s:e)),g(s)}},onClose:()=>h(!1)})]}),s.jsx(ce,{open:b,onOpenChange:v,children:s.jsx(oe,{className:"max-w-6xl h-[80vh] p-0",children:s.jsx(Ie,{mode:"picker",multiple:!1,accept:"image/*",onSelect:e=>{if(e.length>0&&j){const s={...j,content:{...j.content,url:e[0].url,alt:e[0].alt}};m(o.map(e=>e.id===j.id?s:e))}v(!1)},onClose:()=>v(!1)})})}),s.jsx(ce,{open:N,onOpenChange:y,children:s.jsx(oe,{className:"max-w-6xl h-[80vh] p-0",children:s.jsx(qe,{onSelectTemplate:e=>{m(e.blocks),y(!1)},onSelectPattern:e=>{m(s=>[...s,...e.blocks]),y(!1)}})})})]}):s.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"loading-spinner mb-4"}),s.jsx("p",{className:"text-gray-600",children:"에디터를 초기화하는 중..."})]})})};export{We as default};
