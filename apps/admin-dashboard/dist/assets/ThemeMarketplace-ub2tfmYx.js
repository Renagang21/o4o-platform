import{a3 as e,r as s,j as a,S as l,e as i,L as t,X as r,bT as n,bx as c,c5 as m,cM as d,Y as o,y as x,cB as p,dr as h,V as u,z as g}from"./vendor-react-Bb0TGSr4.js";import{B as j,C as v,m as f}from"./page-gutenberg-CGPrHM9_.js";import{a as N}from"./api-BnL6S-tM.js";import"./vendor-monaco-BxJH8uUv.js";import"./vendor-ui-CrFdsnXa.js";import"./vendor-query-BEO_OofR.js";import"./vendor-utils-B-KQWpLj.js";import"./wp-foundation-Ht0JG6Uo.js";import"./wp-components-CoD93iDH.js";const w=()=>{const w=e(),[y,b]=s.useState([]),[P,C]=s.useState(!0),[k,U]=s.useState(""),[S,z]=s.useState("grid"),[L,R]=s.useState({type:"all",isPremium:"all",minRating:0,maxPrice:0}),[M,q]=s.useState(null),[B,F]=s.useState(null);s.useEffect(()=>{T()},[k,L]);const T=async()=>{try{C(!0);const e=new URLSearchParams;k&&e.append("q",k),"all"!==L.type&&e.append("type",L.type),"all"!==L.isPremium&&e.append("isPremium",L.isPremium),L.minRating>0&&e.append("minRating",L.minRating.toString()),L.maxPrice>0&&e.append("maxPrice",L.maxPrice.toString());const s=await N.get(`/v1/themes/marketplace?${e}`);b(s.data.data||E())}catch(e){b(E())}finally{C(!1)}},E=()=>[{id:"1",slug:"modern-business",name:"Modern Business",description:"A clean and modern business theme with multiple layouts",version:"2.1.0",author:"O4O Themes",authorUrl:"https://o4o.com",screenshot:"/images/theme-modern-business.jpg",demoUrl:"https://demo.o4o.com/modern-business",type:"external",status:"active",isPremium:!0,price:49.99,features:["Responsive","SEO Optimized","WooCommerce Ready","Page Builder"],requiredPlugins:["woocommerce","elementor"],downloads:15234,rating:4.8,reviewCount:234,lastUpdate:"2024-01-15",license:"GPL v2",supportedLanguages:["en","ko","ja","zh"]},{id:"2",slug:"minimal-blog",name:"Minimal Blog",description:"Perfect for bloggers who love simplicity",version:"1.5.2",author:"Design Studio",authorUrl:"https://designstudio.com",screenshot:"/images/theme-minimal-blog.jpg",demoUrl:"https://demo.o4o.com/minimal-blog",type:"external",status:"active",isPremium:!1,downloads:8921,rating:4.5,reviewCount:156,lastUpdate:"2024-01-10",license:"MIT",supportedLanguages:["en","ko"]},{id:"3",slug:"ecommerce-pro",name:"E-Commerce Pro",description:"Advanced e-commerce theme with all features you need",version:"3.0.1",author:"Commerce Themes",authorUrl:"https://commercethemes.com",screenshot:"/images/theme-ecommerce-pro.jpg",demoUrl:"https://demo.o4o.com/ecommerce-pro",type:"external",status:"active",isPremium:!0,price:89.99,features:["Multi-vendor","Product Quick View","Advanced Filters","Wishlist"],requiredPlugins:["woocommerce","dokan"],downloads:5432,rating:4.9,reviewCount:89,lastUpdate:"2024-01-20",license:"Commercial",supportedLanguages:["en","ko","ja"]}],O=({theme:e})=>{return a.jsxs(v,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e.screenshot||"/placeholder-theme.jpg",alt:e.name,className:"w-full h-48 object-cover rounded-t-lg"}),e.isPremium&&a.jsx("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"PREMIUM"})]}),a.jsxs(f,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:e.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[(s=e.rating,a.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(e=>a.jsx(g,{className:"w-4 h-4 "+(e<=s?"fill-yellow-400 text-yellow-400":"text-gray-300")},e)),a.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",s,")"]})]})),a.jsxs("span",{className:"text-sm text-gray-500",children:[e.reviewCount," reviews"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[a.jsx(p,{className:"w-4 h-4"}),e.downloads.toLocaleString()]}),a.jsxs("span",{className:"text-gray-600",children:["v",e.version]})]})]}),e.features&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:e.features.slice(0,3).map((e,s)=>a.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:e},s))}),a.jsxs("div",{className:"flex items-center justify-between",children:[e.isPremium&&e.price?a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",e.price]}):a.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"무료"}),a.jsxs("div",{className:"flex gap-2",children:[e.demoUrl&&a.jsx(j,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),window.open(e.demoUrl,"_blank")},children:a.jsx(o,{className:"w-4 h-4"})}),a.jsx(j,{size:"sm",onClick:s=>{s.stopPropagation(),q(e)},disabled:B===e.id,children:B===e.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(h,{className:"w-4 h-4"})})]})]})]})]});var s};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"테마 마켓플레이스"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"프리미엄 테마와 무료 테마를 찾아보세요"})]}),a.jsx(j,{onClick:()=>w("/themes"),children:"내 테마 관리"})]}),a.jsx(v,{children:a.jsx(f,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"테마 검색...",value:k,onChange:e=>U(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:L.type,onChange:e=>R({...L,type:e.target.value}),className:"px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"all",children:"모든 타입"}),a.jsx("option",{value:"external",children:"외부 테마"}),a.jsx("option",{value:"custom",children:"커스텀 테마"})]}),a.jsxs("select",{value:L.isPremium,onChange:e=>R({...L,isPremium:e.target.value}),className:"px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"all",children:"모든 가격"}),a.jsx("option",{value:"false",children:"무료"}),a.jsx("option",{value:"true",children:"프리미엄"})]}),a.jsxs("div",{className:"flex gap-1 border rounded-lg",children:[a.jsx(j,{variant:"grid"===S?"default":"ghost",size:"sm",onClick:()=>z("grid"),children:a.jsx(i,{className:"w-4 h-4"})}),a.jsx(j,{variant:"list"===S?"default":"ghost",size:"sm",onClick:()=>z("list"),children:a.jsx(t,{className:"w-4 h-4"})})]})]})]})})}),P?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):a.jsx("div",{className:"grid"===S?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:y.map(e=>a.jsx(O,{theme:e},e.id))}),M&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold",children:M.name}),a.jsx(j,{variant:"ghost",size:"sm",onClick:()=>q(null),children:a.jsx(r,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx("img",{src:M.screenshot||"/placeholder-theme.jpg",alt:M.name,className:"w-full rounded-lg"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:M.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["작성자: ",M.author]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(c,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["버전: ",M.version]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["최종 업데이트: ",M.lastUpdate]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-sm",children:["지원 언어: ",M.supportedLanguages?.join(", ")]})]})]}),M.features&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"주요 기능"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:M.features.map((e,s)=>a.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:e},s))})]}),M.requiredPlugins&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"필수 플러그인"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:M.requiredPlugins.map((e,s)=>a.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm",children:e},s))})]}),a.jsxs("div",{className:"pt-4 flex gap-3",children:[M.demoUrl&&a.jsxs(j,{variant:"outline",onClick:()=>window.open(M.demoUrl,"_blank"),children:[a.jsx(o,{className:"w-4 h-4 mr-2"}),"미리보기"]}),a.jsx(j,{onClick:()=>(async e=>{try{F(e.id),await new Promise(e=>setTimeout(e,2e3)),u.success(`${e.name} 테마가 설치되었습니다`),w("/themes")}catch(s){u.error("테마 설치에 실패했습니다")}finally{F(null)}})(M),disabled:B===M.id,className:"flex-1",children:B===M.id?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"설치 중..."]}):a.jsx(a.Fragment,{children:M.isPremium?a.jsxs(a.Fragment,{children:[a.jsx(x,{className:"w-4 h-4 mr-2"}),"$",M.price," 구매"]}):a.jsxs(a.Fragment,{children:[a.jsx(p,{className:"w-4 h-4 mr-2"}),"무료 설치"]})})})]})]})]})]})})})]})};export{w as default};
