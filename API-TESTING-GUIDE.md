# üß™ O4O Platform API ÌÖåÏä§Ìä∏ Í∞ÄÏù¥Îìú

## üìñ **Í∞úÏöî**
O4O PlatformÏùò API ÌÖåÏä§Ìä∏ Ï†ÑÎûµ, ÎèÑÍµ¨, Î≤†Ïä§Ìä∏ ÌîÑÎûôÌã∞Ïä§Î•º Ï†úÍ≥µÌïòÎäî Ï¢ÖÌï© Í∞ÄÏù¥ÎìúÏûÖÎãàÎã§.

## üéØ **ÌÖåÏä§Ìä∏ Ï†ÑÎûµ**

### **ÌÖåÏä§Ìä∏ ÌîºÎùºÎØ∏Îìú**
```
        üî∫ E2E Tests (10%)
      üî∫üî∫ Integration Tests (20%)
    üî∫üî∫üî∫ Unit Tests (70%)
```

- **Unit Tests**: Í∞úÎ≥Ñ Ìï®Ïàò/Ïª¥Ìè¨ÎÑåÌä∏ ÌÖåÏä§Ìä∏
- **Integration Tests**: API ÏóîÎìúÌè¨Ïù∏Ìä∏ ÌÖåÏä§Ìä∏
- **E2E Tests**: Ï†ÑÏ≤¥ ÏÇ¨Ïö©Ïûê ÌîåÎ°úÏö∞ ÌÖåÏä§Ìä∏

### **ÌÖåÏä§Ìä∏ Î≤îÏúÑ**
- **Í∏∞Îä• ÌÖåÏä§Ìä∏**: ÏöîÍµ¨ÏÇ¨Ìï≠ Ï∂©Ï°± Ïó¨Î∂Ä
- **ÏÑ±Îä• ÌÖåÏä§Ìä∏**: ÏùëÎãµ ÏãúÍ∞Ñ, Ï≤òÎ¶¨Îüâ
- **Î≥¥Ïïà ÌÖåÏä§Ìä∏**: Ïù∏Ï¶ù, Í∂åÌïú, ÏûÖÎ†• Í≤ÄÏ¶ù
- **Ïã†Î¢∞ÏÑ± ÌÖåÏä§Ìä∏**: Ïò§Î•ò Ï≤òÎ¶¨, Î≥µÍµ¨ Îä•Î†•

## üõ†Ô∏è **ÌÖåÏä§Ìä∏ ÎèÑÍµ¨ Ïä§ÌÉù**

### **ÌîÑÎ°†Ìä∏ÏóîÎìú ÌÖåÏä§Ìä∏**
```typescript
// ÌÖåÏä§Ìä∏ ÌîÑÎ†àÏûÑÏõåÌÅ¨
import { describe, test, expect, vi } from 'vitest';
import { render, screen, waitFor } from '@testing-library/react';
import { renderHook } from '@testing-library/react';
import userEvent from '@testing-library/user-event';

// Î™®ÌÇπ ÎèÑÍµ¨
import { server } from './test-utils/mocks/server';
import { rest } from 'msw';

// ÌÖåÏä§Ìä∏ Ïú†Ìã∏Î¶¨Ìã∞
import { createTestWrapper } from './test-utils/wrapper';
import { createMockProduct } from './test-utils/factories/product';
```

### **Î∞±ÏóîÎìú ÌÖåÏä§Ìä∏**
```typescript
// ÌÖåÏä§Ìä∏ ÌîÑÎ†àÏûÑÏõåÌÅ¨
import { describe, test, expect, beforeAll, afterAll } from 'vitest';
import request from 'supertest';

// Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÌÖåÏä§Ìä∏
import { DataSource } from 'typeorm';
import { createTestDatabase } from './test-utils/database';

// Î™®ÌÇπ
import { vi } from 'vitest';
```

## üéØ **API ÌõÖ ÌÖåÏä§Ìä∏ Ìå®ÌÑ¥**

### **React Query ÌõÖ ÌÖåÏä§Ìä∏**
```typescript
// useProducts.test.tsx
import { renderHook, waitFor } from '@testing-library/react';
import { QueryClient, QueryClientProvider } from 'react-query';
import { useProducts } from '../hooks/useProducts';

// ÌÖåÏä§Ìä∏ ÎûòÌçº ÏÉùÏÑ±
const createTestWrapper = () => {
  const queryClient = new QueryClient({
    defaultOptions: {
      queries: { retry: false, cacheTime: 0 },
      mutations: { retry: false },
    },
    logger: { log: vi.fn(), warn: vi.fn(), error: vi.fn() },
  });

  const TestWrapper: React.FC<{ children: React.ReactNode }> = ({ children }) => (
    <QueryClientProvider client={queryClient}>
      {children}
    </QueryClientProvider>
  );

  return TestWrapper;
};

describe('useProducts Hook', () => {
  test('ÏÉÅÌíà Î™©Î°ùÏùÑ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï°∞ÌöåÌïúÎã§', async () => {
    // API Î™®ÌÇπ
    vi.mocked(EcommerceApi.getProducts).mockResolvedValue({
      data: [createMockProduct()],
      total: 1,
      page: 1,
      limit: 20,
      totalPages: 1,
    });

    // ÌõÖ Î†åÎçîÎßÅ
    const { result } = renderHook(
      () => useProducts(1, 20), 
      { wrapper: createTestWrapper() }
    );

    // ÎπÑÎèôÍ∏∞ Í≤∞Í≥º ÎåÄÍ∏∞
    await waitFor(() => {
      expect(result.current.isSuccess).toBe(true);
    });

    // Í≤∞Í≥º Í≤ÄÏ¶ù
    expect(result.current.data?.data).toHaveLength(1);
    expect(EcommerceApi.getProducts).toHaveBeenCalledWith(1, 20, {});
  });
});
```

### **ÎÆ§ÌÖåÏù¥ÏÖò ÌõÖ ÌÖåÏä§Ìä∏**
```typescript
// useCreateProduct.test.tsx
describe('useCreateProduct Hook', () => {
  test('ÏÉÅÌíàÏùÑ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÌïúÎã§', async () => {
    const newProduct = createMockProducts.draft();
    const mockResponse = {
      success: true,
      data: { ...newProduct, status: 'published' as const },
    };

    vi.mocked(EcommerceApi.createProduct).mockResolvedValue(mockResponse);

    const { result } = renderHook(
      () => useCreateProduct(), 
      { wrapper: createTestWrapper() }
    );

    // ÎÆ§ÌÖåÏù¥ÏÖò Ïã§Ìñâ
    result.current.mutate(newProduct);

    // ÏÑ±Í≥µ ÏÉÅÌÉú ÌôïÏù∏
    await waitFor(() => {
      expect(result.current.isSuccess).toBe(true);
    });

    expect(result.current.data?.data.status).toBe('published');
  });

  test('ÏÉùÏÑ± Ïã§Ìå® Ïãú ÏóêÎü¨Î•º Ï≤òÎ¶¨ÌïúÎã§', async () => {
    const errorResponse = {
      response: { data: { message: 'Validation failed' } }
    };
    
    vi.mocked(EcommerceApi.createProduct).mockRejectedValue(errorResponse);

    const { result } = renderHook(
      () => useCreateProduct(), 
      { wrapper: createTestWrapper() }
    );

    result.current.mutate(createMockProducts.draft());

    await waitFor(() => {
      expect(result.current.isError).toBe(true);
    });

    expect(result.current.error).toEqual(errorResponse);
  });
});
```

## üé≠ **MSW (Mock Service Worker) ÌôúÏö©**

### **MSW ÏÑúÎ≤Ñ ÏÑ§Ï†ï**
```typescript
// test-utils/mocks/server.ts
import { setupServer } from 'msw/node';
import { handlers } from './handlers';

export const server = setupServer(...handlers);

// test-setup.ts
import { server } from './src/test-utils/mocks/server';

beforeAll(() => {
  server.listen({ onUnhandledRequest: 'error' });
});

afterEach(() => {
  server.resetHandlers();
});

afterAll(() => {
  server.close();
});
```

### **API Ìï∏Îì§Îü¨ Ï†ïÏùò**
```typescript
// test-utils/mocks/handlers.ts
import { rest } from 'msw';
import { createMockProduct, createMockOrder } from '../factories';

export const handlers = [
  // ÏÉÅÌíà Î™©Î°ù Ï°∞Ìöå
  rest.get('/api/ecommerce/products', (req, res, ctx) => {
    const page = Number(req.url.searchParams.get('page')) || 1;
    const limit = Number(req.url.searchParams.get('limit')) || 20;
    
    return res(
      ctx.json({
        data: [
          createMockProduct({ name: 'Product 1' }),
          createMockProduct({ name: 'Product 2' }),
        ],
        total: 2,
        page,
        limit,
        totalPages: 1,
      })
    );
  }),

  // ÏÉÅÌíà ÏÉùÏÑ±
  rest.post('/api/ecommerce/products', async (req, res, ctx) => {
    const productData = await req.json();
    
    return res(
      ctx.json({
        success: true,
        data: createMockProduct(productData),
      })
    );
  }),

  // ÏóêÎü¨ ÏãúÎÆ¨Î†àÏù¥ÏÖò
  rest.get('/api/ecommerce/products/error', (req, res, ctx) => {
    return res(
      ctx.status(500),
      ctx.json({
        message: 'Internal Server Error'
      })
    );
  }),
];
```

## üè≠ **Ìå©ÌÜ†Î¶¨ Ìå®ÌÑ¥ ÌôúÏö©**

### **Product Ìå©ÌÜ†Î¶¨**
```typescript
// test-utils/factories/product.ts
import { Product } from '@/types/ecommerce';

export const createMockProduct = (overrides?: Partial<Product>): Product => {
  const baseProduct: Product = {
    id: 'prod_' + Math.random().toString(36).substr(2, 9),
    name: 'Test Product',
    description: 'Test product description',
    retailPrice: 10000,
    wholesalePrice: 8000,
    affiliatePrice: 9000,
    stock: 100,
    status: 'published',
    images: ['https://example.com/image.jpg'],
    category: 'electronics',
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
    ...overrides,
  };

  return baseProduct;
};

export const createMockProducts = {
  published: (count = 3) => 
    Array.from({ length: count }, (_, i) => 
      createMockProduct({ 
        name: `Published Product ${i + 1}`,
        status: 'published' 
      })
    ),
    
  draft: (overrides?: Partial<Product>) =>
    createMockProduct({
      status: 'draft',
      stock: 0,
      ...overrides,
    }),
    
  outOfStock: (overrides?: Partial<Product>) =>
    createMockProduct({
      stock: 0,
      status: 'published',
      ...overrides,
    }),
};
```

### **Order Ìå©ÌÜ†Î¶¨**
```typescript
// test-utils/factories/order.ts
import { Order, OrderItem } from '@/types/ecommerce';

export const createMockOrderItem = (overrides?: Partial<OrderItem>): OrderItem => ({
  id: 'item_' + Math.random().toString(36).substr(2, 9),
  productId: 'prod_123',
  productName: 'Test Product',
  quantity: 1,
  price: 10000,
  total: 10000,
  ...overrides,
});

export const createMockOrder = (overrides?: Partial<Order>): Order => ({
  id: 'order_' + Math.random().toString(36).substr(2, 9),
  customerId: 'customer_123',
  customerName: 'Test Customer',
  customerEmail: 'test@example.com',
  status: 'pending',
  items: [createMockOrderItem()],
  subtotal: 10000,
  shipping: 2500,
  tax: 1000,
  total: 13500,
  paymentMethod: 'card',
  shippingAddress: {
    name: 'Test Customer',
    phone: '010-1234-5678',
    address: 'ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨',
    detailAddress: 'ÌÖåÏä§Ìä∏Îèô 123-456',
    zipCode: '12345',
  },
  createdAt: new Date().toISOString(),
  updatedAt: new Date().toISOString(),
  ...overrides,
});

export const createMockOrders = {
  pending: (count = 3) => 
    Array.from({ length: count }, (_, i) => 
      createMockOrder({ 
        id: `order_pending_${i + 1}`,
        status: 'pending' 
      })
    ),
    
  completed: (count = 3) =>
    Array.from({ length: count }, (_, i) => 
      createMockOrder({ 
        id: `order_completed_${i + 1}`,
        status: 'completed' 
      })
    ),
};
```

## üß™ **Ïª¥Ìè¨ÎÑåÌä∏ ÌÖåÏä§Ìä∏ Ìå®ÌÑ¥**

### **Í∏∞Î≥∏ Ïª¥Ìè¨ÎÑåÌä∏ ÌÖåÏä§Ìä∏**
```typescript
// ProductCard.test.tsx
import { render, screen } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import { ProductCard } from '../ProductCard';
import { createMockProduct } from '../../test-utils/factories/product';

describe('ProductCard Component', () => {
  test('ÏÉÅÌíà Ï†ïÎ≥¥Î•º Ïò¨Î∞îÎ•¥Í≤å Î†åÎçîÎßÅÌïúÎã§', () => {
    const mockProduct = createMockProduct({
      name: 'Test Product',
      retailPrice: 15000,
      stock: 50,
    });

    render(<ProductCard product={mockProduct} />);

    expect(screen.getByText('Test Product')).toBeInTheDocument();
    expect(screen.getByText('‚Ç©15,000')).toBeInTheDocument();
    expect(screen.getByText('Ïû¨Í≥†: 50Í∞ú')).toBeInTheDocument();
  });

  test('Ìé∏Ïßë Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú ÏΩúÎ∞±Ïù¥ Ìò∏Ï∂úÎêúÎã§', async () => {
    const user = userEvent.setup();
    const mockProduct = createMockProduct();
    const onEdit = vi.fn();

    render(<ProductCard product={mockProduct} onEdit={onEdit} />);

    const editButton = screen.getByRole('button', { name: /Ìé∏Ïßë/i });
    await user.click(editButton);

    expect(onEdit).toHaveBeenCalledWith(mockProduct);
  });

  test('Ïû¨Í≥† Î∂ÄÏ°± Ïãú Í≤ΩÍ≥† Î©îÏãúÏßÄÎ•º ÌëúÏãúÌïúÎã§', () => {
    const outOfStockProduct = createMockProducts.outOfStock();

    render(<ProductCard product={outOfStockProduct} />);

    expect(screen.getByText('ÌíàÏ†à')).toBeInTheDocument();
    expect(screen.getByRole('button', { name: /Ïû•Î∞îÍµ¨Îãà/ })).toBeDisabled();
  });
});
```

### **Î≥µÏû°Ìïú Ïª¥Ìè¨ÎÑåÌä∏ ÌÖåÏä§Ìä∏**
```typescript
// ProductList.test.tsx
describe('ProductList Component', () => {
  test('Î°úÎî© ÏÉÅÌÉúÎ•º Ïò¨Î∞îÎ•¥Í≤å ÌëúÏãúÌïúÎã§', () => {
    // MSWÎ°ú ÏßÄÏó∞Îêú ÏùëÎãµ ÏãúÎÆ¨Î†àÏù¥ÏÖò
    server.use(
      rest.get('/api/ecommerce/products', (req, res, ctx) => {
        return res(ctx.delay(1000), ctx.json({ data: [] }));
      })
    );

    render(<ProductList />);

    expect(screen.getByTestId('loading-spinner')).toBeInTheDocument();
  });

  test('ÏóêÎü¨ ÏÉÅÌÉúÎ•º Ïò¨Î∞îÎ•¥Í≤å Ï≤òÎ¶¨ÌïúÎã§', async () => {
    // MSWÎ°ú ÏóêÎü¨ ÏùëÎãµ ÏãúÎÆ¨Î†àÏù¥ÏÖò
    server.use(
      rest.get('/api/ecommerce/products', (req, res, ctx) => {
        return res(ctx.status(500), ctx.json({ message: 'Server Error' }));
      })
    );

    render(<ProductList />);

    await waitFor(() => {
      expect(screen.getByText(/Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§/i)).toBeInTheDocument();
    });
  });

  test('ÌïÑÌÑ∞ÎßÅÏù¥ Ïò¨Î∞îÎ•¥Í≤å ÏûëÎèôÌïúÎã§', async () => {
    const user = userEvent.setup();
    render(<ProductList />);

    // Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïÑÌÑ∞ ÏÑ†ÌÉù
    const categoryFilter = screen.getByLabelText('Ïπ¥ÌÖåÍ≥†Î¶¨');
    await user.selectOptions(categoryFilter, 'electronics');

    // API Ìò∏Ï∂ú ÌôïÏù∏
    await waitFor(() => {
      expect(screen.getByText('Ï†ÑÏûêÏ†úÌíà')).toBeInTheDocument();
    });
  });
});
```

## üîÑ **ÎπÑÎèôÍ∏∞ ÌÖåÏä§Ìä∏ Ìå®ÌÑ¥**

### **Promise Í∏∞Î∞ò ÌÖåÏä§Ìä∏**
```typescript
test('ÎπÑÎèôÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎî©ÏùÑ ÌÖåÏä§Ìä∏ÌïúÎã§', async () => {
  const mockData = [createMockProduct()];
  
  vi.mocked(EcommerceApi.getProducts).mockResolvedValue({
    data: mockData,
    total: 1,
    page: 1,
    limit: 20,
    totalPages: 1,
  });

  const { result } = renderHook(() => useProducts(), { 
    wrapper: createTestWrapper() 
  });

  // Ï¥àÍ∏∞ Î°úÎî© ÏÉÅÌÉú ÌôïÏù∏
  expect(result.current.isLoading).toBe(true);
  expect(result.current.data).toBeUndefined();

  // Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏôÑÎ£å ÎåÄÍ∏∞
  await waitFor(() => {
    expect(result.current.isSuccess).toBe(true);
  });

  // ÏµúÏ¢Ö ÏÉÅÌÉú ÌôïÏù∏
  expect(result.current.isLoading).toBe(false);
  expect(result.current.data?.data).toEqual(mockData);
});
```

### **ÌÉÄÏù¥Î®∏ Í∏∞Î∞ò ÌÖåÏä§Ìä∏**
```typescript
test('ÎîîÎ∞îÏö¥Ïä§Îêú Í≤ÄÏÉâÏùÑ ÌÖåÏä§Ìä∏ÌïúÎã§', async () => {
  vi.useFakeTimers();
  
  const { result } = renderHook(() => useProductSearch());
  
  // Ïó∞ÏÜçÎêú Í≤ÄÏÉâÏñ¥ ÏûÖÎ†• ÏãúÎÆ¨Î†àÏù¥ÏÖò
  result.current.setSearchTerm('te');
  result.current.setSearchTerm('tes');
  result.current.setSearchTerm('test');
  
  // ÎîîÎ∞îÏö¥Ïä§ ÏãúÍ∞Ñ Í≤ΩÍ≥º
  vi.advanceTimersByTime(500);
  
  await waitFor(() => {
    expect(EcommerceApi.searchProducts).toHaveBeenCalledTimes(1);
    expect(EcommerceApi.searchProducts).toHaveBeenCalledWith('test');
  });
  
  vi.useRealTimers();
});
```

## üìä **ÌÖåÏä§Ìä∏ Ïª§Î≤ÑÎ¶¨ÏßÄ**

### **Ïª§Î≤ÑÎ¶¨ÏßÄ Î™©Ìëú**
- **Ï†ÑÏ≤¥ ÏΩîÎìú**: 80% Ïù¥ÏÉÅ
- **ÎπÑÏ¶àÎãàÏä§ Î°úÏßÅ**: 90% Ïù¥ÏÉÅ
- **API ÏóîÎìúÌè¨Ïù∏Ìä∏**: 100%
- **Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò**: 95% Ïù¥ÏÉÅ

### **Ïª§Î≤ÑÎ¶¨ÏßÄ ÌôïÏù∏**
```bash
# Ï†ÑÏ≤¥ ÌÖåÏä§Ìä∏ Ïã§Ìñâ Î∞è Ïª§Î≤ÑÎ¶¨ÏßÄ ÌôïÏù∏
npm run test:coverage

# ÌäπÏ†ï ÌååÏùº Ïª§Î≤ÑÎ¶¨ÏßÄ ÌôïÏù∏
npm run test -- --coverage src/hooks/useProducts.ts

# Ïª§Î≤ÑÎ¶¨ÏßÄ Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±
npm run test:coverage:html
```

### **Ïª§Î≤ÑÎ¶¨ÏßÄ ÏÑ§Ï†ï**
```typescript
// vitest.config.ts
export default defineConfig({
  test: {
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
      exclude: [
        'node_modules/',
        'src/test-utils/',
        '**/*.d.ts',
        '**/*.config.ts',
        '**/main.tsx',
      ],
      thresholds: {
        global: {
          statements: 80,
          branches: 75,
          functions: 80,
          lines: 80,
        },
        'src/hooks/': {
          statements: 90,
          branches: 85,
          functions: 90,
          lines: 90,
        },
      },
    },
  },
});
```

## üöÄ **ÏÑ±Îä• ÌÖåÏä§Ìä∏**

### **API ÏùëÎãµ ÏãúÍ∞Ñ ÌÖåÏä§Ìä∏**
```typescript
test('API ÏùëÎãµ ÏãúÍ∞ÑÏù¥ ÌóàÏö© Î≤îÏúÑ ÎÇ¥Ïóê ÏûàÎã§', async () => {
  const startTime = Date.now();
  
  const { result } = renderHook(() => useProducts(), {
    wrapper: createTestWrapper()
  });
  
  await waitFor(() => {
    expect(result.current.isSuccess).toBe(true);
  });
  
  const responseTime = Date.now() - startTime;
  expect(responseTime).toBeLessThan(1000); // 1Ï¥à Ïù¥ÎÇ¥
});
```

### **Î©îÎ™®Î¶¨ ÎàÑÏàò ÌÖåÏä§Ìä∏**
```typescript
test('Ïª¥Ìè¨ÎÑåÌä∏ Ïñ∏ÎßàÏö¥Ìä∏ Ïãú Î©îÎ™®Î¶¨ ÎàÑÏàòÍ∞Ä ÏóÜÎã§', async () => {
  const { unmount } = render(<ProductList />);
  
  // Ïª¥Ìè¨ÎÑåÌä∏ Ïñ∏ÎßàÏö¥Ìä∏
  unmount();
  
  // ÌÉÄÏù¥Î®∏ÎÇò Íµ¨ÎèÖÏù¥ Ï†ïÎ¶¨ÎêòÏóàÎäîÏßÄ ÌôïÏù∏
  expect(vi.getTimerCount()).toBe(0);
});
```

## üîí **Î≥¥Ïïà ÌÖåÏä§Ìä∏**

### **Ïù∏Ï¶ù/Í∂åÌïú ÌÖåÏä§Ìä∏**
```typescript
test('Ïù∏Ï¶ùÎêòÏßÄ ÏïäÏùÄ ÏÇ¨Ïö©ÏûêÎäî Í¥ÄÎ¶¨Ïûê APIÏóê Ï†ëÍ∑ºÌï† Ïàò ÏóÜÎã§', async () => {
  server.use(
    rest.post('/api/admin/products', (req, res, ctx) => {
      const authHeader = req.headers.get('authorization');
      
      if (!authHeader) {
        return res(ctx.status(401), ctx.json({ message: 'Unauthorized' }));
      }
      
      return res(ctx.json({ success: true }));
    })
  );

  const { result } = renderHook(() => useCreateProduct(), {
    wrapper: createTestWrapper()
  });

  result.current.mutate(createMockProduct());

  await waitFor(() => {
    expect(result.current.isError).toBe(true);
  });

  expect(result.current.error?.response?.status).toBe(401);
});
```

### **ÏûÖÎ†• Í≤ÄÏ¶ù ÌÖåÏä§Ìä∏**
```typescript
test('Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ ÏûÖÎ†•ÏùÑ Í±∞Î∂ÄÌïúÎã§', async () => {
  const invalidProduct = {
    name: '', // Îπà Ïù¥Î¶Ñ
    price: -100, // ÏùåÏàò Í∞ÄÍ≤©
    stock: 'invalid', // ÏûòÎ™ªÎêú ÌÉÄÏûÖ
  };

  const { result } = renderHook(() => useCreateProduct(), {
    wrapper: createTestWrapper()
  });

  result.current.mutate(invalidProduct);

  await waitFor(() => {
    expect(result.current.isError).toBe(true);
  });

  expect(result.current.error?.response?.data?.message).toContain('validation');
});
```

## üìã **ÌÖåÏä§Ìä∏ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏**

### **ÏÉà Í∏∞Îä• Í∞úÎ∞ú Ïãú**
- [ ] Îã®ÏúÑ ÌÖåÏä§Ìä∏ ÏûëÏÑ± (Ìï®Ïàò/Ïª¥Ìè¨ÎÑåÌä∏Î≥Ñ)
- [ ] ÌÜµÌï© ÌÖåÏä§Ìä∏ ÏûëÏÑ± (API ÏóîÎìúÌè¨Ïù∏Ìä∏)
- [ ] ÏóêÎü¨ ÏãúÎÇòÎ¶¨Ïò§ ÌÖåÏä§Ìä∏
- [ ] Í≤ΩÍ≥Ñ Ï°∞Í±¥ ÌÖåÏä§Ìä∏
- [ ] ÏÑ±Îä• ÌÖåÏä§Ìä∏ (ÌïÑÏöî Ïãú)

### **Î¶¨Ìå©ÌÜ†ÎßÅ Ïãú**
- [ ] Í∏∞Ï°¥ ÌÖåÏä§Ìä∏ Ïã§Ìñâ Î∞è ÌÜµÍ≥º ÌôïÏù∏
- [ ] Î≥ÄÍ≤ΩÎêú Î∂ÄÎ∂ÑÏùò ÌÖåÏä§Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
- [ ] Ïª§Î≤ÑÎ¶¨ÏßÄ Ïú†ÏßÄ ÎòêÎäî Í∞úÏÑ†
- [ ] ÌöåÍ∑Ä ÌÖåÏä§Ìä∏ Ïã§Ìñâ

### **Î∞∞Ìè¨ Ï†Ñ**
- [ ] Ï†ÑÏ≤¥ ÌÖåÏä§Ìä∏ Ïä§ÏúÑÌä∏ Ïã§Ìñâ
- [ ] Ïª§Î≤ÑÎ¶¨ÏßÄ ÏûÑÍ≥ÑÍ∞í Ï∂©Ï°±
- [ ] E2E ÌÖåÏä§Ìä∏ Ïã§Ìñâ
- [ ] ÏÑ±Îä• ÌÖåÏä§Ìä∏ Ïã§Ìñâ
- [ ] Î≥¥Ïïà ÌÖåÏä§Ìä∏ Ïã§Ìñâ

## üõ†Ô∏è **ÌÖåÏä§Ìä∏ ÎèÑÍµ¨ ÏÑ§Ï†ï**

### **package.json Ïä§ÌÅ¨Î¶ΩÌä∏**
```json
{
  "scripts": {
    "test": "vitest",
    "test:run": "vitest run",
    "test:watch": "vitest --watch",
    "test:coverage": "vitest run --coverage",
    "test:coverage:html": "vitest run --coverage --reporter=html",
    "test:unit": "vitest run src/**/*.test.{ts,tsx}",
    "test:integration": "vitest run src/**/*.integration.test.{ts,tsx}",
    "test:e2e": "playwright test"
  }
}
```

### **CI/CD ÌÜµÌï©**
```yaml
# .github/workflows/test.yml
name: Test Suite
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'
      - name: Install dependencies
        run: npm ci
      - name: Run unit tests
        run: npm run test:run
      - name: Run integration tests
        run: npm run test:integration
      - name: Check coverage
        run: npm run test:coverage
      - name: Upload coverage
        uses: codecov/codecov-action@v3
```

---

**üí° Ïù¥ Í∞ÄÏù¥ÎìúÎäî O4O PlatformÏùò ÌíàÏßà Î≥¥Ï¶ùÏùÑ ÏúÑÌïú ÌïµÏã¨ ÎèÑÍµ¨ÏûÖÎãàÎã§. ÌÖåÏä§Ìä∏ ÏûëÏÑ± Ïãú Ïù¥ Í∞ÄÏù¥ÎìúÎ•º Ï∞∏Í≥†ÌïòÏó¨ ÏùºÍ¥ÄÏÑ± ÏûàÍ≥† Ìö®Í≥ºÏ†ÅÏù∏ ÌÖåÏä§Ìä∏Î•º ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî!**