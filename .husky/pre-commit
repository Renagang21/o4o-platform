#!/bin/sh

# Check if any package.json was modified
PACKAGE_JSON_CHANGED=$(git diff --cached --name-only | grep -E "package\.json$" || true)

if [ -n "$PACKAGE_JSON_CHANGED" ]; then
  echo "ðŸ“¦ package.json changed, updating lockfile..."
  pnpm install --no-frozen-lockfile
  git add pnpm-lock.yaml
  echo "âœ… Lockfile updated and staged"
fi
