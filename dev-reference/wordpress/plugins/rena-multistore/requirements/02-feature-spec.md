
# 기능 사양서 (Feature Specification) - rena-multistore

---

## 1. 개요

rena-multistore는 판매자 또는 약국 단위로 상품을 진열하는  
스토어 개념을 WordPress 내에 구현하고,  
WooCommerce의 API와 연동하여 개별 스토어에서 상품을 필터링 및 관리하는 기능을 제공합니다.

---

## 2. 기능 목록

| 기능 코드 | 기능명 | 설명 |
|-----------|--------|------|
| F-001 | 스토어 등록 | 판매자(또는 약국)가 자신의 상점을 등록 |
| F-002 | 스토어 정보 수정 | 상점명, 설명, 로고 등을 변경 |
| F-003 | Woo 상품 연동 | Woo API를 통해 상품 목록을 불러옴 |
| F-004 | 상품 진열 설정 | 각 스토어에서 선택한 상품만 노출되도록 설정 |
| F-005 | 상품 정렬 우선순위 지정 | 스토어 내 노출 순서를 설정 가능 |
| F-006 | 스토어별 상품 리스트 API | front-end에서 사용할 수 있도록 API 제공 |
| F-007 | 관리자 승인 | 스토어 등록 요청을 전체 관리자가 승인/반려 |
| F-008 | 스토어별 통계 (후속) | 방문 수, 상품 클릭 수 등 집계 (v1.0 이후 고려) |

---

## 3. 사용자 시나리오

### ▸ 판매자(약국) 흐름

1. 판매자가 로그인 후 스토어 생성 요청 (F-001)
2. 관리자 승인 완료 시, Woo 상품 리스트를 조회 (F-003)
3. 상품 진열 설정 (F-004), 정렬 순서 지정 (F-005)
4. 고객은 해당 스토어 전용 URL을 통해 접근 (ex: `/store/{slug}`)

### ▸ 관리자 흐름

1. 관리자 페이지에서 전체 스토어 목록 확인
2. 등록 요청 승인/반려 (F-007)
3. 개별 스토어 설정 수정, 위반 사용자 제한 등 가능

---

## 4. 연동 및 의존 기능

| 항목 | 연동 대상 |
|------|------------|
| 상품 조회 | WooCommerce REST API `/products` |
| 판매자 인증 | WordPress 기본 사용자 권한 (`seller`) |
| 결제 상태 연동 | korea-payment 플러그인과 연동 가능 |
| 상품 등록 | rena-multi-supplier 플러그인과 연동 |

---

## 5. 기술 조건

- 스토어는 `rena_store`라는 CPT 또는 taxonomy로 생성
- 상품 노출 설정은 `store_id` 필드를 통해 저장
- 모든 기능은 Ajax 또는 REST API로 동작
- 관리자 화면은 WordPress Admin Menu 하위 구성

---

## 6. 비고

- Woo API와의 통신 장애 시 로컬 캐시 구조 고려
- 향후 WebPOS 또는 B2B 도메인과 연동 고려
- 모바일 대응 및 반응형 UI는 초기부터 지원

---

# Update History

- [2025-04-30] 최초 작성
