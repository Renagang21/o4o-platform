<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Sidebar Test</title>
    <style>
        /* Import WordPress styles */
        @import url('/home/dev/o4o-platform/apps/admin-dashboard/src/styles/wordpress-theme.css');
        @import url('/home/dev/o4o-platform/apps/admin-dashboard/src/styles/wordpress-sidebar.css');
        @import url('/home/dev/o4o-platform/apps/admin-dashboard/src/styles/admin-layout-fixed.css');
        
        /* Test styles */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        .test-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            padding: 10px;
            border: 1px solid #ccc;
            z-index: 99999;
            font-size: 12px;
        }
        
        #toggleBtn {
            padding: 10px 20px;
            background: #0073aa;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
            margin: 20px;
        }
    </style>
</head>
<body>
    <div class="wordpress-admin">
        <!-- Test info panel -->
        <div class="test-info">
            <div>Sidebar State: <span id="sidebarState">closed</span></div>
            <div>Sidebar Left: <span id="sidebarLeft">-280px</span></div>
            <div>Classes: <span id="sidebarClasses">admin-sidebar</span></div>
        </div>
        
        <!-- Admin bar -->
        <div class="wordpress-admin-bar" style="position: fixed; top: 0; left: 0; right: 0; height: 46px; background: #23282d; z-index: 99999;">
            <button id="hamburgerBtn" style="padding: 10px; background: transparent; border: none; color: white; cursor: pointer;">
                â˜° Menu
            </button>
        </div>
        
        <!-- Sidebar -->
        <div class="admin-sidebar" id="sidebar">
            <div style="padding: 20px; color: white;">
                <h3>Admin Menu</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="padding: 10px 0;">Dashboard</li>
                    <li style="padding: 10px 0;">Posts</li>
                    <li style="padding: 10px 0;">Media</li>
                    <li style="padding: 10px 0;">Pages</li>
                    <li style="padding: 10px 0;">Users</li>
                </ul>
            </div>
        </div>
        
        <!-- Main content -->
        <div class="wordpress-admin-content" style="margin-top: 46px; padding: 20px;">
            <h1>Mobile Sidebar Test</h1>
            <button id="toggleBtn">Toggle Sidebar</button>
            <p>Click the hamburger menu or the button to toggle the sidebar.</p>
            
            <div id="log" style="margin-top: 20px; padding: 10px; background: #f5f5f5; font-family: monospace; font-size: 12px;">
                <strong>Event Log:</strong><br>
            </div>
        </div>
        
        <!-- Backdrop -->
        <div class="admin-sidebar-backdrop" id="backdrop"></div>
    </div>
    
    <script>
        const sidebar = document.getElementById('sidebar');
        const backdrop = document.getElementById('backdrop');
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const toggleBtn = document.getElementById('toggleBtn');
        const log = document.getElementById('log');
        const sidebarState = document.getElementById('sidebarState');
        const sidebarLeft = document.getElementById('sidebarLeft');
        const sidebarClasses = document.getElementById('sidebarClasses');
        
        let isOpen = false;
        
        function updateInfo() {
            const computedStyle = window.getComputedStyle(sidebar);
            sidebarState.textContent = isOpen ? 'open' : 'closed';
            sidebarLeft.textContent = computedStyle.left;
            sidebarClasses.textContent = sidebar.className;
            
            const logEntry = `[${new Date().toLocaleTimeString()}] Sidebar ${isOpen ? 'opened' : 'closed'} - Left: ${computedStyle.left}, Classes: ${sidebar.className}<br>`;
            log.innerHTML += logEntry;
        }
        
        function toggleSidebar() {
            isOpen = !isOpen;
            
            if (isOpen) {
                sidebar.classList.add('open');
                backdrop.classList.add('show');
            } else {
                sidebar.classList.remove('open');
                backdrop.classList.remove('show');
            }
            
            updateInfo();
        }
        
        hamburgerBtn.addEventListener('click', toggleSidebar);
        toggleBtn.addEventListener('click', toggleSidebar);
        backdrop.addEventListener('click', () => {
            if (isOpen) toggleSidebar();
        });
        
        // Initial update
        updateInfo();
        
        // Log window size
        log.innerHTML += `[${new Date().toLocaleTimeString()}] Window width: ${window.innerWidth}px (${window.innerWidth < 1024 ? 'Mobile' : 'Desktop'})<br>`;
    </script>
</body>
</html>